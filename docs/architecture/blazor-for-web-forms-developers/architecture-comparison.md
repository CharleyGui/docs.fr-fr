---
title: Comparaison de l’architecture des Web Forms ASP.NET etBlazor
description: Découvrez comment les architectures de ASP.NET Web Forms et Blazor comparer.
author: danroth27
ms.author: daroth
no-loc:
- Blazor
ms.date: 09/11/2019
ms.openlocfilehash: 51b114c842e131ad9b9a589bf5137a522e135082
ms.sourcegitcommit: cb27c01a8b0b4630148374638aff4e2221f90b22
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 07/09/2020
ms.locfileid: "86173430"
---
# <a name="architecture-comparison-of-aspnet-web-forms-and-blazor"></a><span data-ttu-id="adf7d-103">Comparaison de l’architecture des Web Forms ASP.NET etBlazor</span><span class="sxs-lookup"><span data-stu-id="adf7d-103">Architecture comparison of ASP.NET Web Forms and Blazor</span></span>

[!INCLUDE [book-preview](../../../includes/book-preview.md)]

<span data-ttu-id="adf7d-104">Bien que les ASP.NET Web Forms et Blazor présentent de nombreux concepts similaires, il existe des différences en matière de fonctionnement.</span><span class="sxs-lookup"><span data-stu-id="adf7d-104">While ASP.NET Web Forms and Blazor have many similar concepts, there are differences in how they work.</span></span> <span data-ttu-id="adf7d-105">Ce chapitre examine les travaux internes et les architectures de ASP.NET Web Forms et Blazor .</span><span class="sxs-lookup"><span data-stu-id="adf7d-105">This chapter examines the inner workings and architectures of ASP.NET Web Forms and Blazor.</span></span>

## <a name="aspnet-web-forms"></a><span data-ttu-id="adf7d-106">Formulaires web ASP.NET</span><span class="sxs-lookup"><span data-stu-id="adf7d-106">ASP.NET Web Forms</span></span>

<span data-ttu-id="adf7d-107">ASP.NET Web Forms Framework est basé sur une architecture centrée sur la page.</span><span class="sxs-lookup"><span data-stu-id="adf7d-107">The ASP.NET Web Forms framework is based on a page-centric architecture.</span></span> <span data-ttu-id="adf7d-108">Chaque requête HTTP pour un emplacement dans l’application est une page distincte avec laquelle ASP.NET répond.</span><span class="sxs-lookup"><span data-stu-id="adf7d-108">Each HTTP request for a location in the app is a separate page with which ASP.NET responds.</span></span> <span data-ttu-id="adf7d-109">Au fur et à mesure que des pages sont demandées, le contenu du navigateur est remplacé par les résultats de la page demandée.</span><span class="sxs-lookup"><span data-stu-id="adf7d-109">As pages are requested, the contents of the browser are replaced with the results of the page requested.</span></span>

<span data-ttu-id="adf7d-110">Les pages comportent les composants suivants :</span><span class="sxs-lookup"><span data-stu-id="adf7d-110">Pages consist of the following components:</span></span>

- <span data-ttu-id="adf7d-111">Balisage HTML</span><span class="sxs-lookup"><span data-stu-id="adf7d-111">HTML markup</span></span>
- <span data-ttu-id="adf7d-112">Code C# ou Visual Basic</span><span class="sxs-lookup"><span data-stu-id="adf7d-112">C# or Visual Basic code</span></span>
- <span data-ttu-id="adf7d-113">Classe code-behind contenant des fonctionnalités de logique et de gestion des événements</span><span class="sxs-lookup"><span data-stu-id="adf7d-113">A code-behind class containing logic and event-handling capabilities</span></span>
- <span data-ttu-id="adf7d-114">Contrôles</span><span class="sxs-lookup"><span data-stu-id="adf7d-114">Controls</span></span>

<span data-ttu-id="adf7d-115">Les contrôles sont des unités réutilisables de l’interface utilisateur Web qui peuvent être placées par programmation et interagir avec sur une page.</span><span class="sxs-lookup"><span data-stu-id="adf7d-115">Controls are reusable units of web UI that can be programmatically placed and interacted with on a page.</span></span> <span data-ttu-id="adf7d-116">Les pages sont composées de fichiers qui se terminent par *. aspx* contenant le balisage, les contrôles et du code.</span><span class="sxs-lookup"><span data-stu-id="adf7d-116">Pages are composed of files that end with *.aspx* containing markup, controls, and some code.</span></span> <span data-ttu-id="adf7d-117">Les classes code-behind se trouvent dans des fichiers portant le même nom de base et une extension. *aspx.cs* ou *. aspx. vb* , selon le langage de programmation utilisé.</span><span class="sxs-lookup"><span data-stu-id="adf7d-117">The code-behind classes are in files with the same base name and an *.aspx.cs* or *.aspx.vb* extension, depending on the programming language used.</span></span> <span data-ttu-id="adf7d-118">Il est intéressant de faire en sorte que le serveur Web interprète le contenu des fichiers *. aspx* et les compile chaque fois qu’ils évoluent.</span><span class="sxs-lookup"><span data-stu-id="adf7d-118">Interestingly, the web server interprets contents of the *.aspx* files and compiles them whenever they change.</span></span> <span data-ttu-id="adf7d-119">Cette recompilation se produit même si le serveur Web est déjà en cours d’exécution.</span><span class="sxs-lookup"><span data-stu-id="adf7d-119">This recompilation occurs even if the web server is already running.</span></span>

<span data-ttu-id="adf7d-120">Les contrôles peuvent être générés avec le balisage et fournis en tant que contrôles utilisateur.</span><span class="sxs-lookup"><span data-stu-id="adf7d-120">Controls can be built with markup and delivered as user controls.</span></span> <span data-ttu-id="adf7d-121">Un contrôle utilisateur dérive de la `UserControl` classe et a une structure similaire à la page.</span><span class="sxs-lookup"><span data-stu-id="adf7d-121">A user control derives from the `UserControl` class and has a similar structure to the Page.</span></span> <span data-ttu-id="adf7d-122">Le balisage des contrôles utilisateur est stocké dans un fichier *. ascx* .</span><span class="sxs-lookup"><span data-stu-id="adf7d-122">Markup for user controls is stored in an *.ascx* file.</span></span> <span data-ttu-id="adf7d-123">Une classe code-behind qui l’accompagne se trouve dans un fichier *. ascx.cs* ou *. ascx. vb* .</span><span class="sxs-lookup"><span data-stu-id="adf7d-123">An accompanying code-behind class resides in an *.ascx.cs* or *.ascx.vb* file.</span></span> <span data-ttu-id="adf7d-124">Les contrôles peuvent également être entièrement générés avec du code, en héritant de la `WebControl` `CompositeControl` classe de base ou.</span><span class="sxs-lookup"><span data-stu-id="adf7d-124">Controls can also be built completely with code, by inheriting from either the `WebControl` or `CompositeControl` base class.</span></span>

<span data-ttu-id="adf7d-125">Les pages ont également un long cycle de vie des événements.</span><span class="sxs-lookup"><span data-stu-id="adf7d-125">Pages also have an extensive event lifecycle.</span></span> <span data-ttu-id="adf7d-126">Chaque page déclenche des événements pour les événements d’initialisation, de chargement, de prérendu et de déchargement qui se produisent lorsque le runtime ASP.NET exécute le code de la page pour chaque requête.</span><span class="sxs-lookup"><span data-stu-id="adf7d-126">Each page raises events for the initialization, load, prerender, and unload events that occur as the ASP.NET runtime executes the page's code for each request.</span></span>

<span data-ttu-id="adf7d-127">Les contrôles sur une page sont généralement renvoyés à la même page que celle qui a présenté le contrôle et envoient une charge utile à partir d’un champ de formulaire masqué appelé `ViewState` .</span><span class="sxs-lookup"><span data-stu-id="adf7d-127">Controls on a Page typically post-back to the same page that presented the control, and carry along with them a payload from a hidden form field called `ViewState`.</span></span> <span data-ttu-id="adf7d-128">Le `ViewState` champ contient des informations sur l’état des contrôles au moment où ils ont été rendus et présentés sur la page, ce qui permet au runtime ASP.net de comparer et d’identifier les modifications apportées au contenu soumis au serveur.</span><span class="sxs-lookup"><span data-stu-id="adf7d-128">The `ViewState` field contains information about the state of the controls at the time they were rendered and presented on the page, allowing the ASP.NET runtime to compare and identify changes in the content submitted to the server.</span></span>

## Blazor

Blazor<span data-ttu-id="adf7d-129">est une infrastructure d’interface utilisateur Web côté client similaire à celle des infrastructures frontales JavaScript comme l’angulaire ou la réaction.</span><span class="sxs-lookup"><span data-stu-id="adf7d-129"> is a client-side web UI framework similar in nature to JavaScript front-end frameworks like Angular or React.</span></span> Blazor<span data-ttu-id="adf7d-130">gère les interactions de l’utilisateur et restitue les mises à jour nécessaires de l’interface utilisateur.</span><span class="sxs-lookup"><span data-stu-id="adf7d-130"> handles user interactions and renders the necessary UI updates.</span></span> Blazor<span data-ttu-id="adf7d-131">*n’est pas* basé sur un modèle de demande-réponse.</span><span class="sxs-lookup"><span data-stu-id="adf7d-131"> *isn't* based on a request-reply model.</span></span> <span data-ttu-id="adf7d-132">Les interactions de l’utilisateur sont gérées en tant qu’événements qui ne sont pas dans le contexte d’une requête HTTP particulière.</span><span class="sxs-lookup"><span data-stu-id="adf7d-132">User interactions are handled as events that aren't in the context of any particular HTTP request.</span></span>

Blazor<span data-ttu-id="adf7d-133">les applications se composent d’un ou plusieurs composants racine qui sont rendus sur une page HTML.</span><span class="sxs-lookup"><span data-stu-id="adf7d-133"> apps consist of one or more root components that are rendered on an HTML page.</span></span>

<span data-ttu-id="adf7d-134">![Blazorcomposants en HTML](./media/architecture-comparison/blazor-components-in-html.png)</span><span class="sxs-lookup"><span data-stu-id="adf7d-134">![Blazor components in HTML](./media/architecture-comparison/blazor-components-in-html.png)</span></span>

<span data-ttu-id="adf7d-135">Comment l’utilisateur spécifie l’emplacement où les composants doivent être rendus et comment les composants sont ensuite associés pour que les interactions de l’utilisateur [hébergent un modèle](hosting-models.md) spécifique.</span><span class="sxs-lookup"><span data-stu-id="adf7d-135">How the user specifies where components should render and how the components are then wired up for user interactions is [hosting model](hosting-models.md) specific.</span></span>

Blazor<span data-ttu-id="adf7d-136">les [composants](components.md) sont des classes .net qui représentent un élément réutilisable de l’interface utilisateur.</span><span class="sxs-lookup"><span data-stu-id="adf7d-136"> [components](components.md) are .NET classes that represent a reusable piece of UI.</span></span> <span data-ttu-id="adf7d-137">Chaque composant gère son propre État et spécifie sa propre logique de rendu, qui peut inclure le rendu d’autres composants.</span><span class="sxs-lookup"><span data-stu-id="adf7d-137">Each component maintains its own state and specifies its own rendering logic, which can include rendering other components.</span></span> <span data-ttu-id="adf7d-138">Les composants spécifient des gestionnaires d’événements pour les interactions utilisateur spécifiques afin de mettre à jour l’état du composant.</span><span class="sxs-lookup"><span data-stu-id="adf7d-138">Components specify event handlers for specific user interactions to update the component's state.</span></span>

<span data-ttu-id="adf7d-139">Une fois qu’un composant a géré un événement, Blazor restitue le composant et effectue le suivi des modifications apportées à la sortie rendue.</span><span class="sxs-lookup"><span data-stu-id="adf7d-139">After a component handles an event, Blazor renders the component and keeps track of what changed in the rendered output.</span></span> <span data-ttu-id="adf7d-140">Les composants ne sont pas rendus directement dans le Document Object Model (DOM).</span><span class="sxs-lookup"><span data-stu-id="adf7d-140">Components don't render directly to the Document Object Model (DOM).</span></span> <span data-ttu-id="adf7d-141">Elles s’affichent à la place dans une représentation en mémoire du DOM appelée `RenderTree` pour que Blazor puisse effectuer le suivi des modifications.</span><span class="sxs-lookup"><span data-stu-id="adf7d-141">They instead render to an in-memory representation of the DOM called a `RenderTree` so that Blazor can track the changes.</span></span> Blazor<span data-ttu-id="adf7d-142">compare la sortie nouvellement rendue avec la sortie précédente pour calculer une comparaison d’interface utilisateur qui s’applique ensuite efficacement au DOM.</span><span class="sxs-lookup"><span data-stu-id="adf7d-142"> compares the newly rendered output with the previous output to calculate a UI diff that it then applies efficiently to the DOM.</span></span>

<span data-ttu-id="adf7d-143">![BlazorInteraction DOM](./media/architecture-comparison/blazor-dom-interaction.png)</span><span class="sxs-lookup"><span data-stu-id="adf7d-143">![Blazor DOM interaction](./media/architecture-comparison/blazor-dom-interaction.png)</span></span>

<span data-ttu-id="adf7d-144">Les composants peuvent également indiquer manuellement qu’ils doivent être rendus si leur état change en dehors d’un événement d’interface utilisateur normal.</span><span class="sxs-lookup"><span data-stu-id="adf7d-144">Components can also manually indicate that they should be rendered if their state changes outside of a normal UI event.</span></span> Blazor<span data-ttu-id="adf7d-145">utilise un `SynchronizationContext` pour appliquer un seul thread logique d’exécution.</span><span class="sxs-lookup"><span data-stu-id="adf7d-145"> uses a `SynchronizationContext` to enforce a single logical thread of execution.</span></span> <span data-ttu-id="adf7d-146">Les méthodes de cycle de vie d’un composant et les rappels d’événements déclenchés par Blazor sont exécutés sur ce `SynchronizationContext` .</span><span class="sxs-lookup"><span data-stu-id="adf7d-146">A component's lifecycle methods and any event callbacks that are raised by Blazor are executed on this `SynchronizationContext`.</span></span>

>[!div class="step-by-step"]
><span data-ttu-id="adf7d-147">[Précédent](introduction.md) 
> [Suivant](hosting-models.md)</span><span class="sxs-lookup"><span data-stu-id="adf7d-147">[Previous](introduction.md)
[Next](hosting-models.md)</span></span>
