---
title: Déploiement de conteneurs dans Azure
description: Déploiement de conteneurs dans Azure avec Azure Container Registry, Azure Kubernetes service et Azure Dev Spaces.
ms.date: 04/13/2020
ms.openlocfilehash: ba2854323ee0f1394a3cff0dd3756cb3c7c32d5b
ms.sourcegitcommit: 27db07ffb26f76912feefba7b884313547410db5
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 05/19/2020
ms.locfileid: "83614147"
---
# <a name="deploying-containers-in-azure"></a><span data-ttu-id="c4a82-103">Déploiement de conteneurs dans Azure</span><span class="sxs-lookup"><span data-stu-id="c4a82-103">Deploying containers in Azure</span></span>

<span data-ttu-id="c4a82-104">Nous avons abordé les conteneurs dans ce chapitre et dans le chapitre 1.</span><span class="sxs-lookup"><span data-stu-id="c4a82-104">We've discussed containers in this chapter and in chapter 1.</span></span> <span data-ttu-id="c4a82-105">Nous avons vu que les conteneurs offrent de nombreux avantages aux applications Cloud natives, y compris la portabilité.</span><span class="sxs-lookup"><span data-stu-id="c4a82-105">We've seen that containers provide many benefits to cloud-native applications, including portability.</span></span> <span data-ttu-id="c4a82-106">Dans le Cloud Azure, vous pouvez déployer les mêmes services en conteneur dans les environnements intermédiaires et de production.</span><span class="sxs-lookup"><span data-stu-id="c4a82-106">In the Azure cloud, you can deploy the same containerized services across staging and production environments.</span></span> <span data-ttu-id="c4a82-107">Azure propose plusieurs options pour héberger ces charges de travail en conteneur :</span><span class="sxs-lookup"><span data-stu-id="c4a82-107">Azure provides several options for hosting these containerized workloads:</span></span>

- <span data-ttu-id="c4a82-108">Azure Kubernetes Services (AKS)</span><span class="sxs-lookup"><span data-stu-id="c4a82-108">Azure Kubernetes Services (AKS)</span></span>
- <span data-ttu-id="c4a82-109">Azure Container Instances (ACI)</span><span class="sxs-lookup"><span data-stu-id="c4a82-109">Azure Container Instance (ACI)</span></span>
- <span data-ttu-id="c4a82-110">Web Apps Azure pour les conteneurs</span><span class="sxs-lookup"><span data-stu-id="c4a82-110">Azure Web Apps for Containers</span></span>

## <a name="azure-container-registry"></a><span data-ttu-id="c4a82-111">Azure Container Registry</span><span class="sxs-lookup"><span data-stu-id="c4a82-111">Azure Container Registry</span></span>

<span data-ttu-id="c4a82-112">Lors du conteneur d’un microservice, vous commencez par créer une image de conteneur de Build.</span><span class="sxs-lookup"><span data-stu-id="c4a82-112">When containerizing a microservice, you first a build container "image."</span></span> <span data-ttu-id="c4a82-113">L’image est une représentation binaire du code de service, des dépendances et du Runtime.</span><span class="sxs-lookup"><span data-stu-id="c4a82-113">The image is a binary representation of the service code, dependencies, and runtime.</span></span> <span data-ttu-id="c4a82-114">Bien que vous puissiez créer manuellement une image à l’aide de la `Docker Build` commande à partir de l’API d’ancrage, une meilleure approche consiste à la créer dans le cadre d’un processus de génération automatisé.</span><span class="sxs-lookup"><span data-stu-id="c4a82-114">While you can manually create an image using the `Docker Build` command from the Docker API, a better approach is to create it as part of an automated build process.</span></span>

<span data-ttu-id="c4a82-115">Une fois créés, les images de conteneur sont stockées dans des registres de conteneurs.</span><span class="sxs-lookup"><span data-stu-id="c4a82-115">Once created, container images are stored in container registries.</span></span> <span data-ttu-id="c4a82-116">Ils vous permettent de créer, de stocker et de gérer des images de conteneur.</span><span class="sxs-lookup"><span data-stu-id="c4a82-116">They enable you to build, store, and manage container images.</span></span> <span data-ttu-id="c4a82-117">De nombreux registres sont disponibles, publics et privés.</span><span class="sxs-lookup"><span data-stu-id="c4a82-117">There are many registries available, both public and private.</span></span> <span data-ttu-id="c4a82-118">Azure Container Registry (ACR) est un service de registre de conteneurs entièrement géré dans le Cloud Azure.</span><span class="sxs-lookup"><span data-stu-id="c4a82-118">Azure Container Registry (ACR) is a fully managed container registry service in the Azure cloud.</span></span> <span data-ttu-id="c4a82-119">Il conserve vos images dans le réseau Azure, ce qui réduit le temps de déploiement sur les hôtes de conteneur Azure.</span><span class="sxs-lookup"><span data-stu-id="c4a82-119">It persists your images inside the Azure network, reducing the time to deploy them to Azure container hosts.</span></span> <span data-ttu-id="c4a82-120">Vous pouvez également les sécuriser à l’aide des mêmes procédures de sécurité et d’identité que celles que vous utilisez pour d’autres ressources Azure.</span><span class="sxs-lookup"><span data-stu-id="c4a82-120">You can also secure them using the same security and identity procedures that you use for other Azure resources.</span></span>

<span data-ttu-id="c4a82-121">Vous créez un Azure Container Registry à l’aide des outils [portail Azure](https://docs.microsoft.com/azure/container-registry/container-registry-get-started-portal), [Azure CLI](https://docs.microsoft.com/azure/container-registry/container-registry-get-started-azure-cli)ou [PowerShell](https://docs.microsoft.com/azure/container-registry/container-registry-get-started-powershell).</span><span class="sxs-lookup"><span data-stu-id="c4a82-121">You create an Azure Container Registry using the [Azure portal](https://docs.microsoft.com/azure/container-registry/container-registry-get-started-portal), [Azure CLI](https://docs.microsoft.com/azure/container-registry/container-registry-get-started-azure-cli), or [PowerShell tools](https://docs.microsoft.com/azure/container-registry/container-registry-get-started-powershell).</span></span> <span data-ttu-id="c4a82-122">La création d’un registre dans Azure est simple.</span><span class="sxs-lookup"><span data-stu-id="c4a82-122">Creating a registry in Azure is simple.</span></span> <span data-ttu-id="c4a82-123">Il nécessite un abonnement Azure, un groupe de ressources et un nom unique.</span><span class="sxs-lookup"><span data-stu-id="c4a82-123">It requires an Azure subscription, resource group, and a unique name.</span></span> <span data-ttu-id="c4a82-124">La figure 3-11 montre les options de base pour la création d’un registre, qui sera hébergé sur `registryname.azurecr.io` .</span><span class="sxs-lookup"><span data-stu-id="c4a82-124">Figure 3-11 shows the basic options for creating a registry, which will be hosted at `registryname.azurecr.io`.</span></span>

![Créer un registre de conteneurs](./media/create-container-registry.png)

<span data-ttu-id="c4a82-126">**Figure 3-11**.</span><span class="sxs-lookup"><span data-stu-id="c4a82-126">**Figure 3-11**.</span></span> <span data-ttu-id="c4a82-127">Créer un registre de conteneurs</span><span class="sxs-lookup"><span data-stu-id="c4a82-127">Create container registry</span></span>

<span data-ttu-id="c4a82-128">Une fois que vous avez créé le registre, vous devez vous authentifier auprès de celui-ci avant de pouvoir l’utiliser.</span><span class="sxs-lookup"><span data-stu-id="c4a82-128">Once you've created the registry, you'll need to authenticate with it before you can use it.</span></span> <span data-ttu-id="c4a82-129">En règle générale, vous vous connectez au registre à l’aide de la commande Azure CLI :</span><span class="sxs-lookup"><span data-stu-id="c4a82-129">Typically, you'll log into the registry using the Azure CLI command:</span></span>

```azurecli
az acr login --name *registryname*
```

<span data-ttu-id="c4a82-130">Une fois authentifié, vous pouvez utiliser les commandes de l’arrimeur pour envoyer des images de conteneur vers celui-ci.</span><span class="sxs-lookup"><span data-stu-id="c4a82-130">Once authenticated, you can use docker commands to push container images to it.</span></span> <span data-ttu-id="c4a82-131">Toutefois, avant de pouvoir le faire, vous devez baliser votre image avec le nom complet (URL) de votre serveur de connexion ACR.</span><span class="sxs-lookup"><span data-stu-id="c4a82-131">Before you can do so, however, you must tag your image with the fully qualified name (URL) of your ACR login server.</span></span> <span data-ttu-id="c4a82-132">Son format est *registryname*. azurecr.IO.</span><span class="sxs-lookup"><span data-stu-id="c4a82-132">It will have the format *registryname*.azurecr.io.</span></span>

```console
docker tag mycontainer myregistry.azurecr.io/mycontainer:v1
```

<span data-ttu-id="c4a82-133">Une fois que vous avez balisé l’image, vous utilisez la `docker push` commande pour envoyer l’image à votre instance ACR.</span><span class="sxs-lookup"><span data-stu-id="c4a82-133">After you've tagged the image, you use the `docker push` command to push the image to your ACR instance.</span></span>

```console
docker push myregistry.azurecr.io/mycontainer:v1
```

<span data-ttu-id="c4a82-134">Une fois que vous avez envoyé une image vers le registre, il est judicieux de supprimer l’image de votre environnement d’ancrage local, à l’aide de la commande suivante :</span><span class="sxs-lookup"><span data-stu-id="c4a82-134">After you push an image to the registry, it's a good idea to remove the image from your local Docker environment, using this command:</span></span>

```console
docker rmi myregistry.azurecr.io/mycontainer:v1
```

<span data-ttu-id="c4a82-135">En guise de meilleure pratique, les développeurs ne doivent pas transmettre manuellement les images à un registre de conteneurs.</span><span class="sxs-lookup"><span data-stu-id="c4a82-135">As a best practice, developers shouldn't manually push images to a container registry.</span></span> <span data-ttu-id="c4a82-136">Au lieu de cela, un pipeline de build défini dans un outil tel que GitHub ou Azure DevOps doit être responsable de ce processus.</span><span class="sxs-lookup"><span data-stu-id="c4a82-136">Instead, a build pipeline defined in a tool like GitHub or Azure DevOps should be responsible for this process.</span></span> <span data-ttu-id="c4a82-137">Pour en savoir plus, consultez le [chapitre DevOps natif de Cloud](devops.md).</span><span class="sxs-lookup"><span data-stu-id="c4a82-137">Learn more in the [Cloud-Native DevOps chapter](devops.md).</span></span>

## <a name="acr-tasks"></a><span data-ttu-id="c4a82-138">ACR Tasks</span><span class="sxs-lookup"><span data-stu-id="c4a82-138">ACR Tasks</span></span>

<span data-ttu-id="c4a82-139">[ACR tâches](https://docs.microsoft.com/azure/container-registry/container-registry-tasks-overview) est un ensemble de fonctionnalités disponibles à partir de la Azure Container Registry.</span><span class="sxs-lookup"><span data-stu-id="c4a82-139">[ACR Tasks](https://docs.microsoft.com/azure/container-registry/container-registry-tasks-overview) is a set of features available from the Azure Container Registry.</span></span> <span data-ttu-id="c4a82-140">Il étend le [cycle de développement de la boucle interne](https://docs.microsoft.com/dotnet/architecture/containerized-lifecycle/design-develop-containerized-apps/docker-apps-inner-loop-workflow) en générant et en gérant des images de conteneur dans le Cloud Azure.</span><span class="sxs-lookup"><span data-stu-id="c4a82-140">It extends your [inner-loop development cycle](https://docs.microsoft.com/dotnet/architecture/containerized-lifecycle/design-develop-containerized-apps/docker-apps-inner-loop-workflow) by building and managing container images in the Azure cloud.</span></span> <span data-ttu-id="c4a82-141">Au lieu d’appeler un `docker build` et `docker push` localement sur votre machine de développement, elles sont gérées automatiquement par des tâches ACR dans le Cloud.</span><span class="sxs-lookup"><span data-stu-id="c4a82-141">Instead of invoking a `docker build` and `docker push` locally on your development machine, they're automatically handled by ACR Tasks in the cloud.</span></span>

<span data-ttu-id="c4a82-142">La commande suivante AZ CLI génère une image conteneur et la transmet à ACR :</span><span class="sxs-lookup"><span data-stu-id="c4a82-142">The following AZ CLI command both builds a container image and pushes it to ACR:</span></span>

```azurecli
# create a container registry
az acr create --resource-group myResourceGroup --name myContainerRegistry008 --sku Basic

# build container image in ACR and push it into your container regsitry
az acr build --image sample/hello-world:v1  --registry myContainerRegistry008 --file Dockerfile .
```

<span data-ttu-id="c4a82-143">Comme vous pouvez le voir à partir du bloc de commandes précédent, il n’est pas nécessaire d’installer le Bureau de l’ordinateur d’amarrage sur votre ordinateur de développement.</span><span class="sxs-lookup"><span data-stu-id="c4a82-143">As you can see from the previous command block, there's no need to install Docker Desktop on your development machine.</span></span> <span data-ttu-id="c4a82-144">En outre, vous pouvez configurer des déclencheurs de tâche ACR pour reconstruire des images de conteneurs sur le code source et les mises à jour d’image de base.</span><span class="sxs-lookup"><span data-stu-id="c4a82-144">Additionally, you can configure ACR Task triggers to rebuild containers images on both source code and base image updates.</span></span>

## <a name="azure-kubernetes-service"></a><span data-ttu-id="c4a82-145">Azure Kubernetes Service</span><span class="sxs-lookup"><span data-stu-id="c4a82-145">Azure Kubernetes Service</span></span>

<span data-ttu-id="c4a82-146">Nous avons abordé le service Azure Kubernetes (AKS) à la longueur de ce chapitre.</span><span class="sxs-lookup"><span data-stu-id="c4a82-146">We discussed Azure Kubernetes Service (AKS) at length in this chapter.</span></span> <span data-ttu-id="c4a82-147">Nous avons vu qu’il s’agit de l’orchestrateur de conteneurs de facto qui gère les applications Cloud natives en conteneur.</span><span class="sxs-lookup"><span data-stu-id="c4a82-147">We've seen that it's the de facto container orchestrator managing containerized cloud-native applications.</span></span>

<span data-ttu-id="c4a82-148">Une fois que vous avez déployé une image dans un registre, tel que ACR, vous pouvez configurer AKS pour l’extraire et le déployer automatiquement.</span><span class="sxs-lookup"><span data-stu-id="c4a82-148">Once you deploy an image to a registry, such as ACR, you can configure AKS to automatically pull and deploy it.</span></span> <span data-ttu-id="c4a82-149">Avec un pipeline CI/CD en place, vous pouvez configurer une stratégie de mise à jour des [Canaries](https://martinfowler.com/bliki/CanaryRelease.html) pour réduire le risque lié à la rapidité de déploiement des mises à jour.</span><span class="sxs-lookup"><span data-stu-id="c4a82-149">With a CI/CD pipeline in place, you might configure a  [canary release](https://martinfowler.com/bliki/CanaryRelease.html) strategy to minimize the risk involved when rapidly deploying updates.</span></span> <span data-ttu-id="c4a82-150">La nouvelle version de l’application est initialement configurée en production, sans acheminer le trafic vers celle-ci.</span><span class="sxs-lookup"><span data-stu-id="c4a82-150">The new version of the app is initially configured in production with no traffic routed to it.</span></span> <span data-ttu-id="c4a82-151">Le système achemine ensuite un petit pourcentage d’utilisateurs vers la version récemment déployée.</span><span class="sxs-lookup"><span data-stu-id="c4a82-151">Then, the system will route a small percentage of users to the newly deployed version.</span></span> <span data-ttu-id="c4a82-152">À mesure que l’équipe gagne en confiance dans la nouvelle version, elle peut déployer plus d’instances et mettre l’ancien hors service.</span><span class="sxs-lookup"><span data-stu-id="c4a82-152">As the team gains confidence in the new version, it can roll out more instances and retire the old.</span></span> <span data-ttu-id="c4a82-153">AKS prend en charge facilement ce type de déploiement.</span><span class="sxs-lookup"><span data-stu-id="c4a82-153">AKS easily supports this style of deployment.</span></span>

<span data-ttu-id="c4a82-154">Comme pour la plupart des ressources dans Azure, vous pouvez créer un cluster de service Azure Kubernetes à l’aide du portail, de la ligne de commande ou des outils d’automatisation tels que Helm ou Terraform.</span><span class="sxs-lookup"><span data-stu-id="c4a82-154">As with most resources in Azure, you can create an Azure Kubernetes Service cluster using the portal, command-line, or automation tools like Helm or Terraform.</span></span> <span data-ttu-id="c4a82-155">Pour commencer à utiliser un nouveau cluster, vous devez fournir les informations suivantes :</span><span class="sxs-lookup"><span data-stu-id="c4a82-155">To get started with a new cluster, you need to provide the following information:</span></span>

- <span data-ttu-id="c4a82-156">Abonnement Azure</span><span class="sxs-lookup"><span data-stu-id="c4a82-156">Azure subscription</span></span>
- <span data-ttu-id="c4a82-157">Resource group</span><span class="sxs-lookup"><span data-stu-id="c4a82-157">Resource group</span></span>
- <span data-ttu-id="c4a82-158">Nom du cluster Kubernetes</span><span class="sxs-lookup"><span data-stu-id="c4a82-158">Kubernetes cluster name</span></span>
- <span data-ttu-id="c4a82-159">Région</span><span class="sxs-lookup"><span data-stu-id="c4a82-159">Region</span></span>
- <span data-ttu-id="c4a82-160">Version de Kubernetes</span><span class="sxs-lookup"><span data-stu-id="c4a82-160">Kubernetes version</span></span>
- <span data-ttu-id="c4a82-161">Préfixe du nom DNS</span><span class="sxs-lookup"><span data-stu-id="c4a82-161">DNS name prefix</span></span>
- <span data-ttu-id="c4a82-162">Taille du nœud</span><span class="sxs-lookup"><span data-stu-id="c4a82-162">Node size</span></span>
- <span data-ttu-id="c4a82-163">Nombre de nœuds</span><span class="sxs-lookup"><span data-stu-id="c4a82-163">Node count</span></span>

<span data-ttu-id="c4a82-164">Ces informations sont suffisantes pour commencer.</span><span class="sxs-lookup"><span data-stu-id="c4a82-164">This information is sufficient to get started.</span></span> <span data-ttu-id="c4a82-165">Dans le cadre du processus de création de la Portail Azure, vous pouvez également configurer des options pour les fonctionnalités suivantes de votre cluster :</span><span class="sxs-lookup"><span data-stu-id="c4a82-165">As part of the creation process in the Azure portal, you can also configure options for the following features of your cluster:</span></span>

- <span data-ttu-id="c4a82-166">Scale</span><span class="sxs-lookup"><span data-stu-id="c4a82-166">Scale</span></span>
- <span data-ttu-id="c4a82-167">Authentification</span><span class="sxs-lookup"><span data-stu-id="c4a82-167">Authentication</span></span>
- <span data-ttu-id="c4a82-168">Mise en réseau</span><span class="sxs-lookup"><span data-stu-id="c4a82-168">Networking</span></span>
- <span data-ttu-id="c4a82-169">Surveillance</span><span class="sxs-lookup"><span data-stu-id="c4a82-169">Monitoring</span></span>
- <span data-ttu-id="c4a82-170">Étiquettes</span><span class="sxs-lookup"><span data-stu-id="c4a82-170">Tags</span></span>

<span data-ttu-id="c4a82-171">Ce [Guide de démarrage rapide vous guide dans le déploiement d’un cluster AKS à l’aide de l’portail Azure](https://docs.microsoft.com/azure/aks/kubernetes-walkthrough-portal).</span><span class="sxs-lookup"><span data-stu-id="c4a82-171">This [quickstart walks through deploying an AKS cluster using the Azure portal](https://docs.microsoft.com/azure/aks/kubernetes-walkthrough-portal).</span></span>

## <a name="azure-dev-spaces"></a><span data-ttu-id="c4a82-172">Azure Dev Spaces</span><span class="sxs-lookup"><span data-stu-id="c4a82-172">Azure Dev Spaces</span></span>

<span data-ttu-id="c4a82-173">Les applications Cloud natives peuvent rapidement devenir volumineuses et complexes, ce qui nécessite des ressources de calcul importantes pour s’exécuter.</span><span class="sxs-lookup"><span data-stu-id="c4a82-173">Cloud-native applications can quickly grow large and complex, requiring significant compute resources to run.</span></span> <span data-ttu-id="c4a82-174">Dans ces scénarios, l’ensemble de l’application ne peut pas être hébergé sur un ordinateur de développement (en particulier un ordinateur portable).</span><span class="sxs-lookup"><span data-stu-id="c4a82-174">In these scenarios, the entire application can't be hosted on a development machine (especially a laptop).</span></span> <span data-ttu-id="c4a82-175">Azure Dev Spaces est conçu pour résoudre ce problème à l’aide de AKS.</span><span class="sxs-lookup"><span data-stu-id="c4a82-175">Azure Dev Spaces is designed to address this problem using AKS.</span></span> <span data-ttu-id="c4a82-176">Il permet aux développeurs de travailler avec une version locale de leurs services tout en hébergeant le reste de l’application dans un cluster de développement AKS.</span><span class="sxs-lookup"><span data-stu-id="c4a82-176">It enables developers to work with a local version of their services while hosting the rest of the application in an AKS development cluster.</span></span>

<span data-ttu-id="c4a82-177">Les développeurs partagent une instance en cours d’exécution (développement) dans un cluster AKS qui contient l’application en conteneur entière.</span><span class="sxs-lookup"><span data-stu-id="c4a82-177">Developers share a running (development) instance in an AKS cluster that contains the entire containerized application.</span></span> <span data-ttu-id="c4a82-178">Mais ils utilisent des espaces personnels configurés sur leur ordinateur pour développer localement leurs services.</span><span class="sxs-lookup"><span data-stu-id="c4a82-178">But they use personal spaces set up on their machine to locally develop their services.</span></span> <span data-ttu-id="c4a82-179">Lorsqu’ils sont prêts, ils testent de bout en bout dans le cluster AKS, sans répliquer les dépendances.</span><span class="sxs-lookup"><span data-stu-id="c4a82-179">When ready, they test from end-to-end in the AKS cluster - without replicating dependencies.</span></span> <span data-ttu-id="c4a82-180">Azure Dev Spaces fusionne le code à partir de l’ordinateur local avec les services dans AKS.</span><span class="sxs-lookup"><span data-stu-id="c4a82-180">Azure Dev Spaces merges code from the local machine with services in AKS.</span></span> <span data-ttu-id="c4a82-181">Les développeurs peuvent rapidement itérer et déboguer du code directement dans Kubernetes à l’aide de Visual Studio ou Visual Studio Code.</span><span class="sxs-lookup"><span data-stu-id="c4a82-181">Developers can rapidly iterate and debug code directly in Kubernetes using Visual Studio or Visual Studio Code.</span></span>

<span data-ttu-id="c4a82-182">Pour comprendre la valeur de Azure Dev Spaces, permettez-moi de partager ce devis à partir de Gabe Monroy, responsable des conteneurs à l’Microsoft Azure :</span><span class="sxs-lookup"><span data-stu-id="c4a82-182">To understand the value of Azure Dev Spaces, let me share this quotation from Gabe Monroy, PM Lead of Containers at Microsoft Azure:</span></span>

> <span data-ttu-id="c4a82-183">«Imaginez que vous êtes un nouvel employé tentant de résoudre un bogue dans une application de microservices complexe composée de dizaines de composants, chacun avec ses propres services de configuration et de stockage.</span><span class="sxs-lookup"><span data-stu-id="c4a82-183">"Imagine you're a new employee trying to fix a bug in a complex microservices application consisting of dozens of components, each with their own configuration and backing services.</span></span> <span data-ttu-id="c4a82-184">Pour commencer, vous devez configurer votre environnement de développement local afin qu’il puisse imiter la production, y compris la configuration de votre IDE, la création d’une chaîne d’outils, les dépendances de service en conteneur, un environnement Kubernetes local, des simulacres pour les services de stockage, et bien plus encore.</span><span class="sxs-lookup"><span data-stu-id="c4a82-184">To get started, you must configure your local development environment so that it can mimic production including setting up your IDE, building tool chain, containerized service dependencies, a local Kubernetes environment, mocks for backing services, and more.</span></span> <span data-ttu-id="c4a82-185">Avec tout le temps nécessaire à la configuration de votre environnement de développement, la résolution de ce premier bogue peut prendre plusieurs jours.</span><span class="sxs-lookup"><span data-stu-id="c4a82-185">With all the time involved setting up your development environment, fixing that first bug could take days.</span></span>
> <span data-ttu-id="c4a82-186">Ou vous pouvez utiliser des espaces de développement et des AKS.»</span><span class="sxs-lookup"><span data-stu-id="c4a82-186">Or you could use Dev Spaces and AKS."</span></span>

<span data-ttu-id="c4a82-187">Le processus d’utilisation de Azure Dev Spaces implique les étapes suivantes :</span><span class="sxs-lookup"><span data-stu-id="c4a82-187">The process for working with Azure Dev Spaces involves the following steps:</span></span>

1. <span data-ttu-id="c4a82-188">Créez l’espace de développement.</span><span class="sxs-lookup"><span data-stu-id="c4a82-188">Create the dev space.</span></span>
2. <span data-ttu-id="c4a82-189">Configurez l’espace de développement racine.</span><span class="sxs-lookup"><span data-stu-id="c4a82-189">Configure the root dev space.</span></span>
3. <span data-ttu-id="c4a82-190">Configurez un espace de développement enfant (pour votre propre version du système).</span><span class="sxs-lookup"><span data-stu-id="c4a82-190">Configure a child dev space (for your own version of the system).</span></span>
4. <span data-ttu-id="c4a82-191">Connectez-vous à l’espace de développement.</span><span class="sxs-lookup"><span data-stu-id="c4a82-191">Connect to the dev space.</span></span>

<span data-ttu-id="c4a82-192">Toutes ces étapes peuvent être effectuées à l’aide de la Azure CLI et de nouveaux `azds` outils en ligne de commande.</span><span class="sxs-lookup"><span data-stu-id="c4a82-192">All of these steps can be performed using the Azure CLI and new  `azds` command-line tools.</span></span> <span data-ttu-id="c4a82-193">Par exemple, pour créer un espace de développement Azure pour un cluster Kubernetes donné, vous devez utiliser une commande similaire à celle-ci :</span><span class="sxs-lookup"><span data-stu-id="c4a82-193">For example, to create a new Azure Dev Space for a given Kubernetes cluster, you would use a command like this one:</span></span>

```azurecli
az aks use-dev-spaces -g my-aks-resource-group -n MyAKSCluster
```

<span data-ttu-id="c4a82-194">Ensuite, vous pouvez utiliser la `azds prep` commande pour générer les ressources de l’ancrage et du graphique Helm nécessaires pour l’exécution de l’application.</span><span class="sxs-lookup"><span data-stu-id="c4a82-194">Next, you can use the `azds prep` command to generate the necessary Docker and Helm chart assets for running the application.</span></span> <span data-ttu-id="c4a82-195">Ensuite, vous exécutez votre code dans AKS à l’aide de `azds up` .</span><span class="sxs-lookup"><span data-stu-id="c4a82-195">Then you run your code in AKS using `azds up`.</span></span> <span data-ttu-id="c4a82-196">La première fois que vous exécutez cette commande, le graphique Helm est installé.</span><span class="sxs-lookup"><span data-stu-id="c4a82-196">The first time you run this command, the Helm chart will be installed.</span></span> <span data-ttu-id="c4a82-197">Les conteneurs sont générés et déployés conformément à vos instructions.</span><span class="sxs-lookup"><span data-stu-id="c4a82-197">The containers will be built and deployed according to your instructions.</span></span> <span data-ttu-id="c4a82-198">Cette tâche peut prendre quelques minutes la première fois qu’elle est exécutée.</span><span class="sxs-lookup"><span data-stu-id="c4a82-198">This task may take a few minutes the first time it's run.</span></span> <span data-ttu-id="c4a82-199">Toutefois, une fois que vous avez apporté des modifications, vous pouvez vous connecter à votre propre espace de développement enfant à l’aide de, puis `azds space select` déployer et déboguer vos mises à jour dans votre espace de développement enfant isolé.</span><span class="sxs-lookup"><span data-stu-id="c4a82-199">However, after you make changes, you can connect to your own child dev space using `azds space select` and then deploy and debug your updates in your isolated child dev space.</span></span> <span data-ttu-id="c4a82-200">Une fois que votre espace de développement est opérationnel, vous pouvez lui envoyer des mises à jour en réexécutant la `azds up` commande ou vous pouvez utiliser les outils intégrés dans Visual Studio ou Visual Studio code.</span><span class="sxs-lookup"><span data-stu-id="c4a82-200">Once you have your dev space up and running, you can send updates to it by reissuing the `azds up` command or you can use built-in tooling in Visual Studio or Visual Studio Code.</span></span> <span data-ttu-id="c4a82-201">Avec VS Code, vous utilisez la palette de commandes pour vous connecter à votre espace de développement.</span><span class="sxs-lookup"><span data-stu-id="c4a82-201">With VS Code, you use the command palette to connect to your dev space.</span></span> <span data-ttu-id="c4a82-202">La figure 3-12 montre comment lancer votre application Web à l’aide de Azure Dev Spaces dans Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="c4a82-202">Figure 3-12 shows how to launch your web application using Azure Dev Spaces in Visual Studio.</span></span>

<span data-ttu-id="c4a82-203">![Connectez-vous à Azure Dev Spaces dans Visual Studio ](./media/azure-dev-spaces-visual-studio-launchsettings.png)
 **figure 3-12**.</span><span class="sxs-lookup"><span data-stu-id="c4a82-203">![Connect to Azure Dev Spaces in Visual Studio](./media/azure-dev-spaces-visual-studio-launchsettings.png)
**Figure 3-12**.</span></span> <span data-ttu-id="c4a82-204">Se connecter à Azure Dev Spaces dans Visual Studio</span><span class="sxs-lookup"><span data-stu-id="c4a82-204">Connect to Azure Dev Spaces in Visual Studio</span></span>

>[!div class="step-by-step"]
><span data-ttu-id="c4a82-205">[Précédent](combine-containers-serverless-approaches.md) 
> [Suivant](scale-containers-serverless.md)</span><span class="sxs-lookup"><span data-stu-id="c4a82-205">[Previous](combine-containers-serverless-approaches.md)
[Next](scale-containers-serverless.md)</span></span>
