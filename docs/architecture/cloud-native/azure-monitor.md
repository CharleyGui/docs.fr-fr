---
title: Azure Monitor
description: L’utilisation d’Azure Monitor pour gagner en visibilité sur votre système est en cours d’exécution.
ms.date: 02/05/2020
ms.openlocfilehash: 4e5ddba6c1c13dc65662a7748d4ae3a58a6a6f68
ms.sourcegitcommit: f87ad41b8e62622da126aa928f7640108c4eff98
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 04/07/2020
ms.locfileid: "80805631"
---
# <a name="azure-monitor"></a><span data-ttu-id="eb02d-103">Azure Monitor</span><span class="sxs-lookup"><span data-stu-id="eb02d-103">Azure Monitor</span></span>

[!INCLUDE [book-preview](../../../includes/book-preview.md)]

<span data-ttu-id="eb02d-104">Aucun autre fournisseur de cloud n’a autant de maturité qu’une solution de surveillance d’applications cloud que celle trouvée dans Azure.</span><span class="sxs-lookup"><span data-stu-id="eb02d-104">No other cloud provider has as mature of a cloud application monitoring solution as that found in Azure.</span></span> <span data-ttu-id="eb02d-105">Azure Monitor est un nom générique pour une collection d’outils conçus pour fournir une visibilité sur l’état de votre système, des informations sur tous les problèmes et l’optimisation de votre application.</span><span class="sxs-lookup"><span data-stu-id="eb02d-105">Azure Monitor is an umbrella name for a collection of tools designed to provide visibility into the state of your system, insights into any problems, and optimization of your application.</span></span>

<span data-ttu-id="eb02d-106">![Azure Monitor, une collection d’outils pour donner un aperçu du fonctionnement d’une application cloud-native. ](./media/azure-monitor.png)
 **Figure 7-12**.</span><span class="sxs-lookup"><span data-stu-id="eb02d-106">![Azure Monitor, a collection to tools to provide insight into how a cloud-native application is functioning.](./media/azure-monitor.png)
**Figure 7-12**.</span></span> <span data-ttu-id="eb02d-107">Azure Monitor, une collection d’outils pour donner un aperçu du fonctionnement d’une application cloud-native.</span><span class="sxs-lookup"><span data-stu-id="eb02d-107">Azure Monitor, a collection to tools to provide insight into how a cloud-native application is functioning.</span></span>

## <a name="gathering-logs-and-metrics"></a><span data-ttu-id="eb02d-108">Collecte de journaux et de mesures</span><span class="sxs-lookup"><span data-stu-id="eb02d-108">Gathering logs and metrics</span></span>

<span data-ttu-id="eb02d-109">La première étape de toute solution de surveillance consiste à recueillir autant de données que possible.</span><span class="sxs-lookup"><span data-stu-id="eb02d-109">The first step in any monitoring solution is to gather as much data as possible.</span></span> <span data-ttu-id="eb02d-110">Plus il y a de données à recueillir, plus les idées peuvent être obtenues.</span><span class="sxs-lookup"><span data-stu-id="eb02d-110">The more data that can be gathered, the deeper the insights that can be obtained.</span></span> <span data-ttu-id="eb02d-111">Les systèmes d’instrumentation ont toujours été difficiles.</span><span class="sxs-lookup"><span data-stu-id="eb02d-111">Instrumenting systems has traditionally been difficult.</span></span> <span data-ttu-id="eb02d-112">Le protocole de gestion du réseau simple (SNMP) était le protocole de référence pour recueillir des informations au niveau de la machine, mais il a exigé beaucoup de connaissances et de configuration.</span><span class="sxs-lookup"><span data-stu-id="eb02d-112">Simple Network Management Protocol (SNMP) was the gold standard protocol for collecting machine level information but it required a great deal of knowledge and configuring.</span></span> <span data-ttu-id="eb02d-113">Heureusement, une grande partie de ce travail acharné a été éliminée car les mesures les plus courantes sont recueillies automatiquement par Azure Monitor.</span><span class="sxs-lookup"><span data-stu-id="eb02d-113">Fortunately, much of this hard work has been eliminated as the most common metrics are gathered automatically by Azure Monitor.</span></span>

<span data-ttu-id="eb02d-114">Les mesures et les événements de niveau d’application ne sont pas possibles d’instrumenter automatiquement parce qu’ils sont spécifiques à l’application déployée.</span><span class="sxs-lookup"><span data-stu-id="eb02d-114">Application level metrics and events aren't possible to instrument automatically because they're specific to the application being deployed.</span></span> <span data-ttu-id="eb02d-115">Afin de recueillir ces mesures, il existe [des SDK et des API disponibles](https://docs.microsoft.com/azure/azure-monitor/app/api-custom-events-metrics) pour signaler directement ces informations, par exemple lorsqu’un client s’inscrit ou termine une commande.</span><span class="sxs-lookup"><span data-stu-id="eb02d-115">In order to gather these metrics, there are [SDKs and APIs available](https://docs.microsoft.com/azure/azure-monitor/app/api-custom-events-metrics) to directly report such information, such as when a customer signs up or completes an order.</span></span> <span data-ttu-id="eb02d-116">Des exceptions peuvent également être capturées et signalées dans Azure Monitor via Application Insights.</span><span class="sxs-lookup"><span data-stu-id="eb02d-116">Exceptions can also be captured and reported back into Azure Monitor via Application Insights.</span></span> <span data-ttu-id="eb02d-117">Les SDK prennent en charge la plupart de toutes les langues trouvées dans les applications natives Cloud, y compris Go, Python, JavaScript, et les langues .NET.</span><span class="sxs-lookup"><span data-stu-id="eb02d-117">The SDKs support most every language found in Cloud Native Applications including Go, Python, JavaScript, and the .NET languages.</span></span>

<span data-ttu-id="eb02d-118">Le but ultime de recueillir des informations sur l’état de votre application est de s’assurer que vos utilisateurs finaux ont une bonne expérience.</span><span class="sxs-lookup"><span data-stu-id="eb02d-118">The ultimate goal of gathering information about the state of your application is to ensure that your end users have a good experience.</span></span> <span data-ttu-id="eb02d-119">Quelle meilleure façon de savoir si les utilisateurs éprouvent des problèmes que de faire [des tests Web extérieurs](https://docs.microsoft.com/azure/azure-monitor/app/monitor-web-app-availability)?</span><span class="sxs-lookup"><span data-stu-id="eb02d-119">What better way to tell if users are experiencing issues than doing [outside-in web tests](https://docs.microsoft.com/azure/azure-monitor/app/monitor-web-app-availability)?</span></span> <span data-ttu-id="eb02d-120">Ces tests peuvent être aussi simples que de ping votre site Web à partir d’endroits à travers le monde ou aussi impliqués que d’avoir des agents se connecter dans le site et simuler les actions des utilisateurs.</span><span class="sxs-lookup"><span data-stu-id="eb02d-120">These tests can be as simple as pinging your website from locations around the world or as involved as having agents log into the site and simulate user actions.</span></span>

## <a name="reporting-data"></a><span data-ttu-id="eb02d-121">Reporting des données</span><span class="sxs-lookup"><span data-stu-id="eb02d-121">Reporting data</span></span>

<span data-ttu-id="eb02d-122">Une fois les données recueillies, elles peuvent être manipulées, résumées et tracées dans des graphiques, qui permettent aux utilisateurs de voir instantanément quand il y a des problèmes.</span><span class="sxs-lookup"><span data-stu-id="eb02d-122">Once the data is gathered, it can be manipulated, summarized, and plotted into charts, which allow users to instantly see when there are problems.</span></span> <span data-ttu-id="eb02d-123">Ces graphiques peuvent être rassemblés dans des tableaux de bord ou dans workbooks, un rapport de plusieurs pages conçu pour raconter une histoire sur certains aspects du système.</span><span class="sxs-lookup"><span data-stu-id="eb02d-123">These charts can be gathered into dashboards or into Workbooks, a multi-page report designed to tell a story about some aspect of the system.</span></span>

<span data-ttu-id="eb02d-124">Aucune application moderne ne serait complète sans une certaine intelligence artificielle ou l’apprentissage automatique.</span><span class="sxs-lookup"><span data-stu-id="eb02d-124">No modern application would be complete without some artificial intelligence or machine learning.</span></span> <span data-ttu-id="eb02d-125">À cette fin, les données [peuvent être transmises](https://www.youtube.com/watch?v=Cuza-I1g9tw) aux différents outils d’apprentissage automatique d’Azure pour vous permettre d’extraire des tendances et des informations qui seraient autrement cachées.</span><span class="sxs-lookup"><span data-stu-id="eb02d-125">To this end, data [can be passed](https://www.youtube.com/watch?v=Cuza-I1g9tw) to the various machine learning tools in Azure to allow you to extract trends and information that would otherwise be hidden.</span></span>

<span data-ttu-id="eb02d-126">Application Insights fournit un langage de requête puissant appelé Kusto qui peut être utilisé pour trouver des enregistrements, les résumer, et même tracer des graphiques.</span><span class="sxs-lookup"><span data-stu-id="eb02d-126">Application Insights provides a powerful query language called Kusto that can be used to find records, summarize them, and even plot charts.</span></span> <span data-ttu-id="eb02d-127">Par exemple, cette requête permettra de localiser tous les enregistrements pour le mois de Novembre 2007, les regrouper par état, et tracer le top 10 comme un graphique à secteurs.</span><span class="sxs-lookup"><span data-stu-id="eb02d-127">For instance, this query will locate all the records for the month of November 2007, group them by state, and plot the top 10 as a pie chart.</span></span>

```kusto
StormEvents
| where StartTime >= datetime(2007-11-01) and StartTime < datetime(2007-12-01)
| summarize count() by State
| top 10 by count_
| render piechart
```

<span data-ttu-id="eb02d-128">![Le résultat de la requête](./media/azure-monitor.png)
d’application Insights**Figure 7-13**.</span><span class="sxs-lookup"><span data-stu-id="eb02d-128">![The result of the Application Insights Query](./media/azure-monitor.png)
**Figure 7-13**.</span></span> <span data-ttu-id="eb02d-129">Le résultat de la requête Application Insights.</span><span class="sxs-lookup"><span data-stu-id="eb02d-129">The result of the Application Insights Query.</span></span>

<span data-ttu-id="eb02d-130">Il ya un [terrain de jeu pour expérimenter avec les requêtes Kusto,](https://dataexplorer.azure.com/clusters/help/databases/Samples) qui est un endroit fantastique pour passer une heure ou deux.</span><span class="sxs-lookup"><span data-stu-id="eb02d-130">There is a [playground for experimenting with Kusto](https://dataexplorer.azure.com/clusters/help/databases/Samples) queries, which is a fantastic place to spend an hour or two.</span></span> <span data-ttu-id="eb02d-131">La lecture [des requêtes d’échantillons](https://docs.microsoft.com/azure/kusto/query/samples) peut également être instructive.</span><span class="sxs-lookup"><span data-stu-id="eb02d-131">Reading [sample queries](https://docs.microsoft.com/azure/kusto/query/samples) can also be instructive.</span></span>

## <a name="dashboards"></a><span data-ttu-id="eb02d-132">Tableaux de bord</span><span class="sxs-lookup"><span data-stu-id="eb02d-132">Dashboards</span></span>

<span data-ttu-id="eb02d-133">Il existe plusieurs technologies de tableau de bord différentes qui peuvent être utilisées pour faire surface les informations d’Azure Monitor.</span><span class="sxs-lookup"><span data-stu-id="eb02d-133">There are several different dashboard technologies that may be used to surface the information from Azure Monitor.</span></span> <span data-ttu-id="eb02d-134">Peut-être le plus simple est de simplement exécuter des requêtes dans Application Insights et [tracer les données dans un graphique](https://docs.microsoft.com/azure/azure-monitor/learn/tutorial-app-dashboards).</span><span class="sxs-lookup"><span data-stu-id="eb02d-134">Perhaps the simplest is to just run queries in Application Insights and [plot the data into a chart](https://docs.microsoft.com/azure/azure-monitor/learn/tutorial-app-dashboards).</span></span>

<span data-ttu-id="eb02d-135">![Un exemple de graphiques d’applications intégrés dans la figure principale du tableau de bord](./media/azure-monitor.png)
Azure**7-14**.</span><span class="sxs-lookup"><span data-stu-id="eb02d-135">![An example of Application Insights charts embedded in the main Azure Dashboard](./media/azure-monitor.png)
**Figure 7-14**.</span></span> <span data-ttu-id="eb02d-136">Un exemple de graphiques d’applications insights intégrés dans le tableau de bord Azure principal.</span><span class="sxs-lookup"><span data-stu-id="eb02d-136">An example of Application Insights charts embedded in the main Azure Dashboard.</span></span>

<span data-ttu-id="eb02d-137">Ces graphiques peuvent ensuite être intégrés dans le portail Azure correctement grâce à l’utilisation de la fonction de tableau de bord.</span><span class="sxs-lookup"><span data-stu-id="eb02d-137">These charts can then be embedded in the Azure portal proper through use of the dashboard feature.</span></span> <span data-ttu-id="eb02d-138">Pour les utilisateurs ayant des exigences plus exigeantes, telles que la possibilité de forer vers le bas dans plusieurs niveaux de données, les données Azure Monitor est disponible pour [Power BI](https://powerbi.microsoft.com/).</span><span class="sxs-lookup"><span data-stu-id="eb02d-138">For users with more exacting requirements, such as being able to drill down into several tiers of data, Azure Monitor data is available to [Power BI](https://powerbi.microsoft.com/).</span></span> <span data-ttu-id="eb02d-139">Power BI est un outil d’intelligence d’affaires de classe d’entreprise de premier plan qui peut agréger des données provenant de nombreuses sources de données différentes.</span><span class="sxs-lookup"><span data-stu-id="eb02d-139">Power BI is an industry-leading, enterprise class, business intelligence tool that can aggregate data from many different data sources.</span></span>

<span data-ttu-id="eb02d-140">![Un exemple Power](./media/azure-monitor.png)
BI tableau de bord**Figure 7-15**.</span><span class="sxs-lookup"><span data-stu-id="eb02d-140">![An example Power BI dashboard](./media/azure-monitor.png)
**Figure 7-15**.</span></span> <span data-ttu-id="eb02d-141">Un exemple de tableau de bord Power BI.</span><span class="sxs-lookup"><span data-stu-id="eb02d-141">An example Power BI dashboard.</span></span>

## <a name="alerts"></a><span data-ttu-id="eb02d-142">Alertes</span><span class="sxs-lookup"><span data-stu-id="eb02d-142">Alerts</span></span>

<span data-ttu-id="eb02d-143">Parfois, avoir des tableaux de bord de données est insuffisant.</span><span class="sxs-lookup"><span data-stu-id="eb02d-143">Sometimes, having data dashboards is insufficient.</span></span> <span data-ttu-id="eb02d-144">Si personne n’est éveillé pour regarder les tableaux de bord, alors il peut encore être de nombreuses heures avant qu’un problème est résolu, ou même détecté.</span><span class="sxs-lookup"><span data-stu-id="eb02d-144">If nobody is awake to watch the dashboards, then it can still be many hours before a problem is addressed, or even detected.</span></span> <span data-ttu-id="eb02d-145">À cette fin, Azure Monitor fournit également une [solution d’alerte](https://docs.microsoft.com/azure/azure-monitor/platform/alerts-overview)de premier ordre.</span><span class="sxs-lookup"><span data-stu-id="eb02d-145">To this end, Azure Monitor also provides a top notch [alerting solution](https://docs.microsoft.com/azure/azure-monitor/platform/alerts-overview).</span></span> <span data-ttu-id="eb02d-146">Les alertes peuvent être déclenchées par un large éventail de conditions, y compris :</span><span class="sxs-lookup"><span data-stu-id="eb02d-146">Alerts can be triggered by a wide range of conditions including:</span></span>

- <span data-ttu-id="eb02d-147">Valeurs de métrique</span><span class="sxs-lookup"><span data-stu-id="eb02d-147">Metric values</span></span>
- <span data-ttu-id="eb02d-148">Requêtes de recherche de journal</span><span class="sxs-lookup"><span data-stu-id="eb02d-148">Log search queries</span></span>
- <span data-ttu-id="eb02d-149">Événements du journal d'activité</span><span class="sxs-lookup"><span data-stu-id="eb02d-149">Activity Log events</span></span>
- <span data-ttu-id="eb02d-150">Contrôle d’intégrité de la plateforme Azure sous-jacente</span><span class="sxs-lookup"><span data-stu-id="eb02d-150">Health of the underlying Azure platform</span></span>
- <span data-ttu-id="eb02d-151">Tests de disponibilité des sites web</span><span class="sxs-lookup"><span data-stu-id="eb02d-151">Tests for web site availability</span></span>

<span data-ttu-id="eb02d-152">Lorsqu’elles sont déclenchées, les alertes peuvent effectuer une grande variété de tâches.</span><span class="sxs-lookup"><span data-stu-id="eb02d-152">When triggered, the alerts can perform a wide variety of tasks.</span></span> <span data-ttu-id="eb02d-153">Sur le côté simple, les alertes peuvent simplement envoyer une notification par e-mail à une liste de diffusion ou un message texte à une personne.</span><span class="sxs-lookup"><span data-stu-id="eb02d-153">On the simple side, the alerts may just send an e-mail notification to a mailing list or a text message to an individual.</span></span> <span data-ttu-id="eb02d-154">Des alertes plus impliquées pourraient déclencher un flux de travail dans un outil tel que PagerDuty, qui est au courant de qui est sur appel pour une application particulière.</span><span class="sxs-lookup"><span data-stu-id="eb02d-154">More involved alerts might trigger a workflow in a tool such as PagerDuty, which is aware of who is on call for a particular application.</span></span> <span data-ttu-id="eb02d-155">Les alertes peuvent déclencher des actions dans [Microsoft Flow](https://flow.microsoft.com/) déverrouillant des possibilités presque illimitées pour les flux de travail.</span><span class="sxs-lookup"><span data-stu-id="eb02d-155">Alerts can trigger actions in [Microsoft Flow](https://flow.microsoft.com/) unlocking near limitless possibilities for workflows.</span></span>

<span data-ttu-id="eb02d-156">Au fur et à mesure que les causes courantes des alertes sont identifiées, les alertes peuvent être renforcées avec des détails sur les causes courantes des alertes et les mesures à prendre pour les résoudre.</span><span class="sxs-lookup"><span data-stu-id="eb02d-156">As common causes of alerts are identified, the alerts can be enhanced with details about the common causes of the alerts and the steps to take to resolve them.</span></span> <span data-ttu-id="eb02d-157">Les déploiements d’applications cloud-natives très matures peuvent choisir de lancer des tâches d’auto-guérison, qui effectuent des actions telles que la suppression des nœuds défaillants d’un ensemble d’échelle ou le déclenchement d’une activité d’autoscalage.</span><span class="sxs-lookup"><span data-stu-id="eb02d-157">Highly mature cloud-native application deployments may opt to kick off self-healing tasks, which perform actions such as removing failing nodes from a scale set or triggering an autoscaling activity.</span></span> <span data-ttu-id="eb02d-158">Finalement, il ne sera peut-être plus nécessaire de réveiller le personnel de garde à 2 heures du matin pour résoudre un problème de site en direct que le système sera en mesure de s’ajuster pour compenser ou au moins boiter le long jusqu’à ce que quelqu’un arrive au travail le lendemain matin.</span><span class="sxs-lookup"><span data-stu-id="eb02d-158">Eventually it may no longer be necessary to wake up on-call personnel at 2AM to resolve a live-site issue as the system will be able to adjust itself to compensate or at least limp along until somebody arrives at work the next morning.</span></span>

<span data-ttu-id="eb02d-159">Azure Monitor tire automatiquement parti de l’apprentissage automatique pour comprendre les paramètres de fonctionnement normaux des applications déployées.</span><span class="sxs-lookup"><span data-stu-id="eb02d-159">Azure Monitor automatically leverages machine learning to understand the normal operating parameters of deployed applications.</span></span> <span data-ttu-id="eb02d-160">Cela lui permet de détecter les services qui fonctionnent en dehors de leurs paramètres normaux.</span><span class="sxs-lookup"><span data-stu-id="eb02d-160">This enables it to detect services that are operating outside of their normal parameters.</span></span> <span data-ttu-id="eb02d-161">Par exemple, le trafic typique en semaine sur le site peut être de 10 000 demandes par minute.</span><span class="sxs-lookup"><span data-stu-id="eb02d-161">For instance, the typical weekday traffic on the site might be 10,000 requests per minute.</span></span> <span data-ttu-id="eb02d-162">Et puis, sur une semaine donnée, tout à coup le nombre de demandes atteint un très inhabituel 20.000 demandes par minute.</span><span class="sxs-lookup"><span data-stu-id="eb02d-162">And then, on a given week, suddenly the number of requests hits a highly unusual 20,000 requests per minute.</span></span> <span data-ttu-id="eb02d-163">[Smart Detection](https://docs.microsoft.com/azure/azure-monitor/app/proactive-diagnostics) remarquera cette déviation par la norme et déclenchera une alerte.</span><span class="sxs-lookup"><span data-stu-id="eb02d-163">[Smart Detection](https://docs.microsoft.com/azure/azure-monitor/app/proactive-diagnostics) will notice this deviation from the norm and trigger an alert.</span></span> <span data-ttu-id="eb02d-164">Dans le même temps, l’analyse des tendances est assez intelligente pour éviter de tirer de faux positifs lorsque la charge de trafic est prévue.</span><span class="sxs-lookup"><span data-stu-id="eb02d-164">At the same time, the trend analysis is smart enough to avoid firing false positives when the traffic load is expected.</span></span>

## <a name="references"></a><span data-ttu-id="eb02d-165">References</span><span class="sxs-lookup"><span data-stu-id="eb02d-165">References</span></span>

- [<span data-ttu-id="eb02d-166">Azure Monitor</span><span class="sxs-lookup"><span data-stu-id="eb02d-166">Azure Monitor</span></span>](https://docs.microsoft.com/azure/azure-monitor/overview)

>[!div class="step-by-step"]
><span data-ttu-id="eb02d-167">[Suivant précédent](monitoring-azure-kubernetes.md)
>[Next](identity.md)</span><span class="sxs-lookup"><span data-stu-id="eb02d-167">[Previous](monitoring-azure-kubernetes.md)
[Next](identity.md)</span></span>
