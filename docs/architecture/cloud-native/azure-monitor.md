---
title: Azure Monitor
description: L’utilisation de Azure Monitor pour obtenir une visibilité de votre système est en cours d’exécution.
ms.date: 09/23/2019
ms.openlocfilehash: 4d7d556f030500ea6e0f608e3bdfd16d22d9eb1d
ms.sourcegitcommit: 4f4a32a5c16a75724920fa9627c59985c41e173c
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/17/2019
ms.locfileid: "72521028"
---
# <a name="azure-monitor"></a><span data-ttu-id="be0ce-103">Azure Monitor</span><span class="sxs-lookup"><span data-stu-id="be0ce-103">Azure Monitor</span></span> 

[!INCLUDE [book-preview](../../../includes/book-preview.md)]

<span data-ttu-id="be0ce-104">Aucun autre fournisseur de Cloud n’a été aussi mature qu’une solution de surveillance des applications Cloud telle qu’elle a été trouvée dans Azure.</span><span class="sxs-lookup"><span data-stu-id="be0ce-104">No other cloud provider has as mature of a cloud application monitoring solution as that found in Azure.</span></span> <span data-ttu-id="be0ce-105">Azure Monitor est un nom de parapluie pour un ensemble d’outils conçus pour offrir une visibilité de l’état de votre système, ainsi que des informations sur les problèmes et l’optimisation de votre application.</span><span class="sxs-lookup"><span data-stu-id="be0ce-105">Azure Monitor is an umbrella name for a collection of tools designed to provide visibility into the state of your system, insights into any problems and optimization of your application.</span></span> 

<span data-ttu-id="be0ce-106">![Azure moniteur, une collection d’outils permettant de mieux comprendre le fonctionnement d’une application Cloud native. ](./media/azure-monitor.png)
**Figure 7-9**.</span><span class="sxs-lookup"><span data-stu-id="be0ce-106">![Azure Monitor, a collection to tools to provide insight into how a cloud-native application is functioning.](./media/azure-monitor.png)
**Figure 7-9**.</span></span> <span data-ttu-id="be0ce-107">Azure Monitor, une collection d’outils pour fournir un aperçu du fonctionnement d’une application Cloud native.</span><span class="sxs-lookup"><span data-stu-id="be0ce-107">Azure Monitor, a collection to tools to provide insight into how a cloud-native application is functioning.</span></span>

## <a name="gathering-logs-and-metrics"></a><span data-ttu-id="be0ce-108">Collecte des journaux et des métriques</span><span class="sxs-lookup"><span data-stu-id="be0ce-108">Gathering logs and metrics</span></span>

<span data-ttu-id="be0ce-109">La première étape d’une solution de surveillance consiste à rassembler le plus de données possible.</span><span class="sxs-lookup"><span data-stu-id="be0ce-109">The first step in any monitoring solution is to gather as much data as possible.</span></span> <span data-ttu-id="be0ce-110">Plus le nombre de données pouvant être recueillies est important, plus les Insights peuvent être obtenues.</span><span class="sxs-lookup"><span data-stu-id="be0ce-110">The more data that can be gathered, the deeper the insights that can be obtained.</span></span> <span data-ttu-id="be0ce-111">L’instrumentation des systèmes a toujours été difficile.</span><span class="sxs-lookup"><span data-stu-id="be0ce-111">Instrumenting systems has traditionally been difficult.</span></span> <span data-ttu-id="be0ce-112">Le protocole SNMP (simple Network Management Protocol) était le protocole Gold standard pour la collecte d’informations au niveau de l’ordinateur, mais il nécessitait beaucoup de connaissance et de configuration.</span><span class="sxs-lookup"><span data-stu-id="be0ce-112">Simple Network Management Protocol (SNMP) was the gold standard protocol for collecting machine level information but it required a great deal of knowledge and configuring.</span></span> <span data-ttu-id="be0ce-113">Heureusement, une grande partie de ce travail a été éliminée, car les métriques les plus courantes sont collectées automatiquement par Azure Monitor.</span><span class="sxs-lookup"><span data-stu-id="be0ce-113">Fortunately, much of this hard work has been eliminated as the most common metrics are gathered automatically by Azure Monitor.</span></span>

<span data-ttu-id="be0ce-114">Les métriques et les événements au niveau de l’application ne peuvent pas être instrumentés automatiquement, car ils sont locaux à l’application déployée.</span><span class="sxs-lookup"><span data-stu-id="be0ce-114">Application level metrics and events aren't possible to instrument automatically because they're local to the application being deployed.</span></span> <span data-ttu-id="be0ce-115">Pour rassembler ces mesures, des kits de développement logiciel ( [SDK) et des API sont disponibles](https://docs.microsoft.com/azure/azure-monitor/app/api-custom-events-metrics) pour signaler directement ces informations, par exemple lorsqu’un client s’inscrit ou termine une commande.</span><span class="sxs-lookup"><span data-stu-id="be0ce-115">In order to gather these metrics, there are [SDKs and APIs available](https://docs.microsoft.com/azure/azure-monitor/app/api-custom-events-metrics) to directly report such information, such as when a customer signs up or completes an order.</span></span> <span data-ttu-id="be0ce-116">Les exceptions peuvent également être capturées et renvoyées dans Azure Monitor via Application Insights.</span><span class="sxs-lookup"><span data-stu-id="be0ce-116">Exceptions can also be captured and reported back into Azure Monitor via Application Insights.</span></span> <span data-ttu-id="be0ce-117">Les kits de développement logiciel (SDK) prennent en charge la plupart des langages disponibles dans les applications Cloud natives, y compris Go, Python, JavaScript et les langages .NET.</span><span class="sxs-lookup"><span data-stu-id="be0ce-117">The SDKs support most every language found in Cloud Native Applications including Go, Python, JavaScript, and the .NET languages.</span></span>

<span data-ttu-id="be0ce-118">L’objectif ultime de la collecte d’informations sur l’état de votre application est de s’assurer que vos utilisateurs finaux ont une bonne expérience.</span><span class="sxs-lookup"><span data-stu-id="be0ce-118">The ultimate goal of gathering information about the state of your application is to ensure that your end users have a good experience.</span></span> <span data-ttu-id="be0ce-119">Quelle est la meilleure façon de savoir si les utilisateurs rencontrent des problèmes que d’effectuer des [tests Web externes](https://docs.microsoft.com/azure/azure-monitor/app/monitor-web-app-availability)?</span><span class="sxs-lookup"><span data-stu-id="be0ce-119">What better way to tell if users are experiencing issues than doing [outside-in web tests](https://docs.microsoft.com/azure/azure-monitor/app/monitor-web-app-availability)?</span></span> <span data-ttu-id="be0ce-120">Ces tests peuvent être aussi simples que l’utilisation d’une commande ping sur votre site Web à partir d’emplacements du monde ou en tant qu’agents qui se connectent au site et effectuent des actions.</span><span class="sxs-lookup"><span data-stu-id="be0ce-120">These tests can be as simple as pinging your website from locations around the world or as involved as having agents log into the site and do actions.</span></span>

## <a name="reporting-data"></a><span data-ttu-id="be0ce-121">Données de rapport</span><span class="sxs-lookup"><span data-stu-id="be0ce-121">Reporting data</span></span>

<span data-ttu-id="be0ce-122">Une fois les données collectées, elles peuvent être manipulées, synthétisées et tracées dans des graphiques, ce qui permet aux utilisateurs de voir instantanément quand il y a des problèmes.</span><span class="sxs-lookup"><span data-stu-id="be0ce-122">Once the data is gathered, it can be manipulated, summarized, and plotted into charts, which allow users to instantly see when there are problems.</span></span> <span data-ttu-id="be0ce-123">Ces graphiques peuvent être rassemblés dans des tableaux de bord ou dans des classeurs, un rapport à plusieurs pages conçu pour raconter un récit sur certains aspects du système.</span><span class="sxs-lookup"><span data-stu-id="be0ce-123">These charts can be gathered into dashboards or into Workbooks, a multi-page report designed to tell a story about some aspect of the system.</span></span>

<span data-ttu-id="be0ce-124">Aucune application moderne n’est complète sans intelligence artificielle ni Machine Learning.</span><span class="sxs-lookup"><span data-stu-id="be0ce-124">No modern application would be complete without some artificial intelligence or machine learning.</span></span> <span data-ttu-id="be0ce-125">À cette fin, les données [peuvent être transmises](https://www.youtube.com/watch?v=Cuza-I1g9tw) aux différents outils de machine learning dans Azure pour vous permettre d’extraire les tendances et les informations qui seraient autrement masquées.</span><span class="sxs-lookup"><span data-stu-id="be0ce-125">To this end, data [can be passed](https://www.youtube.com/watch?v=Cuza-I1g9tw) to the various machine learning tools in Azure to allow you to extract trends and information that would otherwise be hidden.</span></span>

<span data-ttu-id="be0ce-126">Application Insights fournit un puissant langage de requête appelé Kusto qui peut être utilisé pour rechercher des enregistrements, les résumer et même tracer des graphiques.</span><span class="sxs-lookup"><span data-stu-id="be0ce-126">Application Insights provides a powerful query language called Kusto that can be used to find records, summarize them, and even plot charts.</span></span> <span data-ttu-id="be0ce-127">Par exemple, cette requête localise tous les enregistrements pour le mois de novembre 2007, les regroupe par État et les 10 premiers sous forme de graphique à secteurs.</span><span class="sxs-lookup"><span data-stu-id="be0ce-127">For instance, this query will locate all the records for the month of November 2007, group them by state, and plot the top 10 as a pie chart.</span></span>

```
StormEvents 
| where StartTime >= datetime(2007-11-01) and StartTime < datetime(2007-12-01)
| summarize count() by State
| top 10 by count_
| render piechart 
```

<span data-ttu-id="be0ce-128">![The résultat de la requête Application Insights ](./media/azure-monitor.png)
**Figure 7-10**.</span><span class="sxs-lookup"><span data-stu-id="be0ce-128">![The result of the Application Insights Query](./media/azure-monitor.png)
**Figure 7-10**.</span></span> <span data-ttu-id="be0ce-129">Résultat de la requête de Application Insights.</span><span class="sxs-lookup"><span data-stu-id="be0ce-129">The result of the Application Insights Query.</span></span>

<span data-ttu-id="be0ce-130">Il existe un [terrain pour expérimenter](https://dataexplorer.azure.com/clusters/help/databases/Samples) les requêtes Kusto, ce qui constitue un excellent point de départ pour passer une heure ou deux.</span><span class="sxs-lookup"><span data-stu-id="be0ce-130">There is a [playground for experimenting with Kusto](https://dataexplorer.azure.com/clusters/help/databases/Samples) queries, which is a fantastic place to spend an hour or two.</span></span> <span data-ttu-id="be0ce-131">La lecture des [exemples de requêtes](https://docs.microsoft.com/azure/kusto/query/samples) peut également être instructive.</span><span class="sxs-lookup"><span data-stu-id="be0ce-131">Reading [sample queries](https://docs.microsoft.com/azure/kusto/query/samples) can also be instructive.</span></span>

## <a name="dashboards"></a><span data-ttu-id="be0ce-132">Tableaux de bord</span><span class="sxs-lookup"><span data-stu-id="be0ce-132">Dashboards</span></span>

<span data-ttu-id="be0ce-133">Il existe plusieurs technologies de tableau de bord différentes qui peuvent être utilisées pour mettre en surface les informations de Azure Monitor.</span><span class="sxs-lookup"><span data-stu-id="be0ce-133">There are several different dashboard technologies that may be used to surface the information from Azure Monitor.</span></span> <span data-ttu-id="be0ce-134">Le plus simple consiste peut-être simplement à exécuter des requêtes dans Application Insights et à [tracer les données dans un graphique](https://docs.microsoft.com/azure/azure-monitor/learn/tutorial-app-dashboards).</span><span class="sxs-lookup"><span data-stu-id="be0ce-134">Perhaps the simplest is to just run queries in Application Insights and [plot the data into a chart](https://docs.microsoft.com/azure/azure-monitor/learn/tutorial-app-dashboards).</span></span> 

<span data-ttu-id="be0ce-135">![An exemple de Application Insights graphiques incorporés dans le tableau de bord Azure principal ](./media/azure-monitor.png)
**Figure 7-11**.</span><span class="sxs-lookup"><span data-stu-id="be0ce-135">![An example of Application Insights charts embedded in the main Azure Dashboard](./media/azure-monitor.png)
**Figure 7-11**.</span></span> <span data-ttu-id="be0ce-136">Voici un exemple de Application Insights graphiques incorporés dans le tableau de bord principal Azure.</span><span class="sxs-lookup"><span data-stu-id="be0ce-136">An example of Application Insights charts embedded in the main Azure Dashboard.</span></span>

<span data-ttu-id="be0ce-137">Ces graphiques peuvent ensuite être incorporés dans le Portail Azure correctement à l’aide de la fonctionnalité de tableau de bord.</span><span class="sxs-lookup"><span data-stu-id="be0ce-137">These charts can then be embedded in the Azure portal proper through use of the dashboard feature.</span></span> <span data-ttu-id="be0ce-138">Pour les utilisateurs ayant des exigences plus précises, telles que la possibilité d’accéder à plusieurs niveaux de données Azure Monitor données sont disponibles pour les [Power bi](https://powerbi.microsoft.com/).</span><span class="sxs-lookup"><span data-stu-id="be0ce-138">For users with more exacting requirements such as being able to drill down into several tiers of data Azure Monitor data is available to [Power BI](https://powerbi.microsoft.com/).</span></span> <span data-ttu-id="be0ce-139">Power BI est un outil d’analyse décisionnelle à la pointe du secteur, qui peut agréger des données à partir de nombreuses sources de données différentes.</span><span class="sxs-lookup"><span data-stu-id="be0ce-139">Power BI is an industry-leading, enterprise class, business intelligence tool that can aggregate data from many different data sources.</span></span>

<span data-ttu-id="be0ce-140">![An exemple Power BI tableau de bord ](./media/azure-monitor.png)
**Figure 7-12**.</span><span class="sxs-lookup"><span data-stu-id="be0ce-140">![An example Power BI dashboard](./media/azure-monitor.png)
**Figure 7-12**.</span></span> <span data-ttu-id="be0ce-141">Exemple Power BI tableau de bord.</span><span class="sxs-lookup"><span data-stu-id="be0ce-141">An example Power BI dashboard.</span></span>

## <a name="alerts"></a><span data-ttu-id="be0ce-142">Alertes</span><span class="sxs-lookup"><span data-stu-id="be0ce-142">Alerts</span></span>

<span data-ttu-id="be0ce-143">Parfois, le fait d’avoir des tableaux de bord de données est insuffisant.</span><span class="sxs-lookup"><span data-stu-id="be0ce-143">Sometimes, having data dashboards is insufficient.</span></span> <span data-ttu-id="be0ce-144">Si personne n’est en éveil pour regarder les tableaux de bord, il peut toujours y avoir plusieurs heures avant que le problème soit résolu, voire détecté.</span><span class="sxs-lookup"><span data-stu-id="be0ce-144">If nobody is awake to watch the dashboards, then it can still be many hours before a problem is addressed, or even detected.</span></span> <span data-ttu-id="be0ce-145">À cette fin, Azure Monitor fournit également une solution d' [alerte](https://docs.microsoft.com/azure/azure-monitor/platform/alerts-overview)de pointe.</span><span class="sxs-lookup"><span data-stu-id="be0ce-145">To this end, Azure Monitor also provides a top notch [alerting solution](https://docs.microsoft.com/azure/azure-monitor/platform/alerts-overview).</span></span> <span data-ttu-id="be0ce-146">Les alertes peuvent être déclenchées par un large éventail de conditions, notamment :</span><span class="sxs-lookup"><span data-stu-id="be0ce-146">Alerts can be triggered by a wide range of conditions including:</span></span>

- <span data-ttu-id="be0ce-147">Valeurs de métriques</span><span class="sxs-lookup"><span data-stu-id="be0ce-147">Metric values</span></span>
- <span data-ttu-id="be0ce-148">Requêtes de recherche dans les journaux</span><span class="sxs-lookup"><span data-stu-id="be0ce-148">Log search queries</span></span>
- <span data-ttu-id="be0ce-149">Événements du journal d’activité</span><span class="sxs-lookup"><span data-stu-id="be0ce-149">Activity Log events</span></span>
- <span data-ttu-id="be0ce-150">Intégrité de la plateforme Azure sous-jacente</span><span class="sxs-lookup"><span data-stu-id="be0ce-150">Health of the underlying Azure platform</span></span>
- <span data-ttu-id="be0ce-151">Tests de disponibilité des sites Web</span><span class="sxs-lookup"><span data-stu-id="be0ce-151">Tests for web site availability</span></span>

<span data-ttu-id="be0ce-152">Lorsqu’elles sont déclenchées, les alertes peuvent effectuer une grande variété de tâches.</span><span class="sxs-lookup"><span data-stu-id="be0ce-152">When triggered, the alerts can perform a wide variety of tasks.</span></span> <span data-ttu-id="be0ce-153">Du côté simple, les alertes peuvent simplement envoyer une notification par courrier électronique à une liste de diffusion ou un message texte à une personne.</span><span class="sxs-lookup"><span data-stu-id="be0ce-153">On the simple side, the alerts may just send an e-mail notification to a mailing list or a text message to an individual.</span></span> <span data-ttu-id="be0ce-154">Des alertes plus impliquées peuvent déclencher un flux de travail dans un outil tel que PagerDuty, qui est à l’origine de l’appel d’une application particulière.</span><span class="sxs-lookup"><span data-stu-id="be0ce-154">More involved alerts might trigger a workflow in a tool such as PagerDuty, which is aware of who is on call for a particular application.</span></span> <span data-ttu-id="be0ce-155">Les alertes peuvent déclencher des actions dans [Microsoft Flow](https://flow.microsoft.com/) le déverrouillage des possibilités presque illimitées pour les flux de travail.</span><span class="sxs-lookup"><span data-stu-id="be0ce-155">Alerts can trigger actions in [Microsoft Flow](https://flow.microsoft.com/) unlocking near limitless possibilities for workflows.</span></span>

<span data-ttu-id="be0ce-156">Comme les causes courantes des alertes sont identifiées, les alertes peuvent être améliorées avec des détails sur les causes courantes des alertes et les étapes à suivre pour les résoudre.</span><span class="sxs-lookup"><span data-stu-id="be0ce-156">As common causes of alerts are identified, the alerts can be enhanced with details about the common causes of the alerts and the steps to take to resolve them.</span></span> <span data-ttu-id="be0ce-157">Les déploiements d’applications natives dans le Cloud extrêmement éprouvés peuvent choisir de déclencher des tâches d’auto-réparation, qui effectuent des actions telles que la suppression de nœuds défaillants d’un groupe identique ou le déclenchement d’une activité de mise à l’échelle automatique.</span><span class="sxs-lookup"><span data-stu-id="be0ce-157">Highly mature Cloud Native Application deployments may opt to kick off self-healing tasks, which perform actions such as removing failing nodes from a scale set or triggering an autoscaling activity.</span></span> <span data-ttu-id="be0ce-158">Il se peut qu’il ne soit plus nécessaire de réveiller le personnel sur 2AM pour résoudre un problème de site actif, car le système sera en mesure de s’adapter pour compenser ou au moins LIMP, jusqu’à ce que quelqu’un arrive au travail le lendemain matin.</span><span class="sxs-lookup"><span data-stu-id="be0ce-158">Eventually it may no longer be necessary to wake up on-call personnel at 2AM to resolve a live-site issue as the system will be able to adjust itself to compensate or at least limp along until somebody arrives at work the next morning.</span></span> 

<span data-ttu-id="be0ce-159">Azure Monitor s’appuie automatiquement sur Machine Learning pour comprendre les paramètres de fonctionnement normaux des applications déployées.</span><span class="sxs-lookup"><span data-stu-id="be0ce-159">Azure Monitor automatically leverages machine learning to understand the normal operating parameters of deployed applications.</span></span> <span data-ttu-id="be0ce-160">Cela lui permet de détecter les services qui fonctionnent en dehors de leurs paramètres normaux.</span><span class="sxs-lookup"><span data-stu-id="be0ce-160">This enables it to detect services that are operating outside of their normal parameters.</span></span> <span data-ttu-id="be0ce-161">Par exemple, le trafic de jour de la semaine classique sur le site peut être de 10 000 demandes par minute.</span><span class="sxs-lookup"><span data-stu-id="be0ce-161">For instance, the typical weekday traffic on the site might be 10,000 requests per minute.</span></span> <span data-ttu-id="be0ce-162">Puis, pour une semaine donnée, soudain, le nombre de demandes atteint un nombre de demandes 20 000 très inhabituelles par minute.</span><span class="sxs-lookup"><span data-stu-id="be0ce-162">And then, on a given week, suddenly the number of requests hits a highly unusual 20,000 requests per minute.</span></span> <span data-ttu-id="be0ce-163">La [détection intelligente](https://docs.microsoft.com/azure/azure-monitor/app/proactive-diagnostics) remarquera cet écart par rapport à la norme et déclenchera une alerte.</span><span class="sxs-lookup"><span data-stu-id="be0ce-163">[Smart Detection](https://docs.microsoft.com/azure/azure-monitor/app/proactive-diagnostics) will notice this deviation from the norm and trigger an alert.</span></span> <span data-ttu-id="be0ce-164">En même temps, l’analyse des tendances est suffisamment intelligente pour éviter de déclencher des faux positifs lorsque la charge du trafic est attendue.</span><span class="sxs-lookup"><span data-stu-id="be0ce-164">At the same time, the trend analysis is smart enough to avoid firing false positives when the traffic load is expected.</span></span>  

>[!div class="step-by-step"]
><span data-ttu-id="be0ce-165">[Précédent](monitoring-azure-kubernetes.md)
>[Suivant](identity.md)</span><span class="sxs-lookup"><span data-stu-id="be0ce-165">[Previous](monitoring-azure-kubernetes.md)
[Next](identity.md)</span></span>
