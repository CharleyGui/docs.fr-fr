---
title: Exploitation des fonctions serverless
description: Tirer parti des Azure Functions sans serveur dans les applications natives du Cloud
ms.date: 06/30/2019
ms.openlocfilehash: 77ddef0eb8844ea1b55cd2fc5ec8aa12593c8631
ms.sourcegitcommit: 559fcfbe4871636494870a8b716bf7325df34ac5
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/30/2019
ms.locfileid: "73087116"
---
# <a name="leveraging-serverless-functions"></a><span data-ttu-id="68aad-103">Exploitation des fonctions serverless</span><span class="sxs-lookup"><span data-stu-id="68aad-103">Leveraging serverless functions</span></span>

[!INCLUDE [book-preview](../../../includes/book-preview.md)]

<span data-ttu-id="68aad-104">Dans le spectre de la gestion des ordinateurs complets et des systèmes d’exploitation pour tirer parti des fonctionnalités du Cloud, la vie sans serveur se fait à l’extrême extrémité où la seule chose dont vous êtes responsable est votre code, et vous payez uniquement quand votre code s’exécute.</span><span class="sxs-lookup"><span data-stu-id="68aad-104">In the spectrum of managing full machines and operating systems to leveraging cloud capabilities, serverless lives at the extreme end where the only thing you're responsible for is your code, and you only pay when your code runs.</span></span> <span data-ttu-id="68aad-105">Azure Functions offre un moyen de créer des fonctionnalités sans serveur dans vos applications.</span><span class="sxs-lookup"><span data-stu-id="68aad-105">Azure Functions provides a way to build serverless capabilities into your applications.</span></span>

## <a name="what-is-serverless"></a><span data-ttu-id="68aad-106">Qu’est-ce que sans serveur ?</span><span class="sxs-lookup"><span data-stu-id="68aad-106">What is serverless?</span></span>

<span data-ttu-id="68aad-107">L’informatique sans serveur ne signifie pas qu’aucun serveur n’est impliqué dans l’exécution de votre application. le code s’exécute toujours sur un serveur quelque part.</span><span class="sxs-lookup"><span data-stu-id="68aad-107">Serverless computing doesn't mean there isn't a server involved in running your application - the code still runs on a server somewhere.</span></span> <span data-ttu-id="68aad-108">La distinction est que l’équipe de développement d’applications n’a plus à se préoccuper de la gestion de l’infrastructure de serveur.</span><span class="sxs-lookup"><span data-stu-id="68aad-108">The distinction is that the application development team no longer needs to concern themselves with managing server infrastructure.</span></span> <span data-ttu-id="68aad-109">Les solutions informatiques sans serveur comme Azure Functions aident les équipes à augmenter leur productivité et à permettre aux organisations d’optimiser leurs ressources et de se concentrer sur la diffusion de solutions.</span><span class="sxs-lookup"><span data-stu-id="68aad-109">Serverless computing solutions like Azure Functions help teams increase their productivity and allow organizations to optimize their resources and focus on delivering solutions.</span></span>

<span data-ttu-id="68aad-110">L’informatique sans serveur utilise des conteneurs sans état déclenchés par des événements pour héberger votre application ou une partie de votre application.</span><span class="sxs-lookup"><span data-stu-id="68aad-110">Serverless computing uses event-triggered stateless containers to host your application or part of your application.</span></span> <span data-ttu-id="68aad-111">Les plateformes sans serveur peuvent monter en puissance et dans pour répondre à la demande en fonction des besoins.</span><span class="sxs-lookup"><span data-stu-id="68aad-111">Serverless platforms can scale out and in to meet demand as-needed.</span></span> <span data-ttu-id="68aad-112">Les plateformes telles que Azure Functions ont un accès direct facile à d’autres services Azure tels que les files d’attente, les événements et le stockage.</span><span class="sxs-lookup"><span data-stu-id="68aad-112">Platforms like Azure Functions have easy direct access to other Azure services like queues, events, and storage.</span></span>

## <a name="what-challenges-are-solved-by-serverless"></a><span data-ttu-id="68aad-113">Quels sont les défis résolus sans serveur ?</span><span class="sxs-lookup"><span data-stu-id="68aad-113">What challenges are solved by serverless?</span></span>

<span data-ttu-id="68aad-114">Sans serveur est l’abstraction ultime de l’exécution de votre propre matériel.</span><span class="sxs-lookup"><span data-stu-id="68aad-114">Serverless is the ultimate abstraction away from running your own hardware.</span></span> <span data-ttu-id="68aad-115">Les développeurs peuvent se concentrer exclusivement sur l’écriture de code pour résoudre les problèmes d’entreprise, sans se préoccuper des tâches suivantes qui peuvent être nécessaires lors de l’hébergement de vos propres serveurs :</span><span class="sxs-lookup"><span data-stu-id="68aad-115">Developers can focus exclusively on writing code to solve business problems, without concern for any of the following tasks that might have been necessary when hosting your own servers:</span></span>

- <span data-ttu-id="68aad-116">Achat de machines et de licences logicielles</span><span class="sxs-lookup"><span data-stu-id="68aad-116">Purchasing machines and software licenses</span></span>
- <span data-ttu-id="68aad-117">Hébergement, sécurisation, configuration et maintenance des machines et de leurs exigences en matière de mise en réseau, d’alimentation et de configuration A/C</span><span class="sxs-lookup"><span data-stu-id="68aad-117">Housing, securing, configuring, and maintaining the machines and their networking, power, and A/C requirements</span></span>
- <span data-ttu-id="68aad-118">Mise à jour corrective et mise à niveau des systèmes d’exploitation et des logiciels</span><span class="sxs-lookup"><span data-stu-id="68aad-118">Patching and upgrading operating systems and software</span></span>
- <span data-ttu-id="68aad-119">Configuration de serveurs Web ou de services d’ordinateur pour héberger des logiciels d’application</span><span class="sxs-lookup"><span data-stu-id="68aad-119">Configuring web servers or machine services to host application software</span></span>
- <span data-ttu-id="68aad-120">Configuration du logiciel d’application au sein de sa plateforme</span><span class="sxs-lookup"><span data-stu-id="68aad-120">Configuring application software within its platform</span></span>

<span data-ttu-id="68aad-121">De nombreuses entreprises utilisent des dizaines de membres du personnel et allouent de grands budgets pour prendre en charge ces problèmes d’infrastructure matérielle.</span><span class="sxs-lookup"><span data-stu-id="68aad-121">Many companies employ dozens of staff members and allocate large budgets to support these hardware infrastructure concerns.</span></span> <span data-ttu-id="68aad-122">Le simple déplacement vers le Cloud élimine certains de ces problèmes. le décalage des applications jusqu’au mode sans serveur élimine le reste.</span><span class="sxs-lookup"><span data-stu-id="68aad-122">Simply moving to the cloud eliminates some of these concerns; shifting applications all the way to serverless will eliminate the rest.</span></span>

## <a name="what-scenarios-are-appropriate-for-serverless"></a><span data-ttu-id="68aad-123">Quels sont les scénarios appropriés pour les serveurs sans serveur ?</span><span class="sxs-lookup"><span data-stu-id="68aad-123">What scenarios are appropriate for serverless?</span></span>

<span data-ttu-id="68aad-124">Sans serveur utilise des fonctions individuelles à exécution réduite qui sont appelées en réponse à un déclencheur.</span><span class="sxs-lookup"><span data-stu-id="68aad-124">Serverless uses individual short-running functions that are called in response to some trigger.</span></span> <span data-ttu-id="68aad-125">Cela les rend idéaux pour le traitement des tâches en arrière-plan.</span><span class="sxs-lookup"><span data-stu-id="68aad-125">This makes them ideal for processing background tasks.</span></span>

<span data-ttu-id="68aad-126">Par exemple, une application peut être amenée à envoyer un message électronique dans le cadre du traitement d’une demande.</span><span class="sxs-lookup"><span data-stu-id="68aad-126">For example, an application might need to send an email as part of processing a request.</span></span> <span data-ttu-id="68aad-127">Au lieu d’envoyer l’e-mail dans le cadre de la gestion de la demande Web, les détails de l’e-mail peuvent être placés dans une file d’attente et une fonction Azure peut être utilisée pour récupérer le message et envoyer l’e-mail.</span><span class="sxs-lookup"><span data-stu-id="68aad-127">Instead of sending the email as part of handling the web request, the details of the email could be placed onto a queue and an Azure Function could be used to pick up the message and send the email.</span></span> <span data-ttu-id="68aad-128">De nombreuses parties différentes de l’application, voire de nombreuses applications, peuvent tirer parti de cette même fonction Azure, ce qui permet d’améliorer les performances et l’évolutivité des applications et d’utiliser le [nivellement de charge basé sur les files d’attente](https://docs.microsoft.com/azure/architecture/patterns/queue-based-load-leveling) pour éviter les goulots d’étranglement liés à l’envoi des e-mails.</span><span class="sxs-lookup"><span data-stu-id="68aad-128">Many different parts of the application, or even many applications, could leverage this same Azure Function, providing improved performance and scalability for the applications and using [queue-based load leveling](https://docs.microsoft.com/azure/architecture/patterns/queue-based-load-leveling) to avoid bottlenecks related to sending the emails.</span></span>

<span data-ttu-id="68aad-129">Bien qu’un modèle de serveur de [publication/d’abonné](https://docs.microsoft.com/azure/architecture/patterns/publisher-subscriber) entre les applications et les Azure Functions est le modèle le plus courant, d’autres modèles sont possibles.</span><span class="sxs-lookup"><span data-stu-id="68aad-129">Although a [Publisher/Subscriber pattern](https://docs.microsoft.com/azure/architecture/patterns/publisher-subscriber) between applications and Azure Functions is the most common pattern, other patterns are possible.</span></span> <span data-ttu-id="68aad-130">Les Azure Functions peuvent être déclenchés par d’autres événements, tels que les modifications apportées au stockage d’objets BLOB Azure.</span><span class="sxs-lookup"><span data-stu-id="68aad-130">Azure Functions can be triggered by other events, such as changes to Azure Blob Storage.</span></span> <span data-ttu-id="68aad-131">Une application qui prenait en charge les chargements d’image peut avoir une fonction Azure chargée de créer des images miniatures, ou de redimensionner des images téléchargées vers des dimensions cohérentes, ou d’optimiser la taille de l’image.</span><span class="sxs-lookup"><span data-stu-id="68aad-131">An application that supported image uploads could have an Azure Function responsible for creating thumbnail images, or resizing uploaded images to consistent dimensions, or optimizing image size.</span></span> <span data-ttu-id="68aad-132">Toutes ces fonctionnalités peuvent être déclenchées directement par les insertions dans le stockage d’objets BLOB Azure, ce qui réduit la complexité et la charge de travail de l’application elle-même.</span><span class="sxs-lookup"><span data-stu-id="68aad-132">All of this functionality could be triggered directly by inserts to Azure Blob Storage, keeping the complexity and the workload out of the application itself.</span></span>

<span data-ttu-id="68aad-133">De nombreuses applications ont des processus de longue durée dans le cadre de leurs flux de travail.</span><span class="sxs-lookup"><span data-stu-id="68aad-133">Many applications have long-running processes as part of their workflows.</span></span> <span data-ttu-id="68aad-134">Ces tâches sont souvent effectuées dans le cadre de l’interaction de l’utilisateur avec l’application, ce qui oblige l’utilisateur à attendre et à avoir un impact négatif sur son expérience.</span><span class="sxs-lookup"><span data-stu-id="68aad-134">Often these tasks are done as part of the user's interaction with the application, forcing the user to wait and negatively impacting their experience.</span></span> <span data-ttu-id="68aad-135">L’informatique sans serveur offre un excellent moyen d’effectuer des tâches plus lentes en dehors de la boucle d’interaction utilisateur, et ces tâches peuvent facilement évoluer avec la demande sans nécessiter une mise à l’échelle complète de l’application.</span><span class="sxs-lookup"><span data-stu-id="68aad-135">Serverless computing provides a great way to perform slower tasks outside of the user interaction loop, and these tasks can easily scale with demand without requiring the entire application to scale.</span></span>

## <a name="when-should-you-avoid-serverless"></a><span data-ttu-id="68aad-136">Quand faut-il éviter les sans serveur ?</span><span class="sxs-lookup"><span data-stu-id="68aad-136">When should you avoid serverless?</span></span>

<span data-ttu-id="68aad-137">L’informatique sans serveur est mieux utilisée pour les tâches qui ne bloquent pas l’interface utilisateur.</span><span class="sxs-lookup"><span data-stu-id="68aad-137">Serverless computing is best-used for tasks that don't block the user interface.</span></span> <span data-ttu-id="68aad-138">Cela signifie qu’elles ne sont pas idéales pour héberger des applications Web ou des API Web directement.</span><span class="sxs-lookup"><span data-stu-id="68aad-138">This means they're not ideal for hosting web applications or web APIs directly.</span></span> <span data-ttu-id="68aad-139">La raison principale est que les solutions sans serveur sont approvisionnées et mises à l’échelle à la demande.</span><span class="sxs-lookup"><span data-stu-id="68aad-139">The main reason for this is that serverless solutions are provisioned and scaled on demand.</span></span> <span data-ttu-id="68aad-140">Lorsqu’une nouvelle instance d’une fonction est nécessaire, désignée sous le terme de *démarrage à froid*, son approvisionnement prend du temps.</span><span class="sxs-lookup"><span data-stu-id="68aad-140">When a new instance of a function is needed, referred to as a *cold start*, it takes time to provision.</span></span> <span data-ttu-id="68aad-141">Cette durée est généralement de quelques secondes, mais elle peut être plus longue en fonction d’un grand nombre de facteurs.</span><span class="sxs-lookup"><span data-stu-id="68aad-141">This time is typically a few seconds, but can be longer depending on a variety of factors.</span></span> <span data-ttu-id="68aad-142">Une instance unique peut souvent rester active indéfiniment (par exemple, en effectuant régulièrement une demande), mais le problème de démarrage à froid subsiste si le nombre d’instances doit être mis à l’échelle.</span><span class="sxs-lookup"><span data-stu-id="68aad-142">A single instance can often be kept alive indefinitely (for instance, by periodically making a request to it), but the cold start issue remains if the number of instances ever needs to scale up.</span></span>

<span data-ttu-id="68aad-143">![à froid et au démarrage à chaud](./media/cold-start-warm-start.png)
**Figure 3-10**.</span><span class="sxs-lookup"><span data-stu-id="68aad-143">![Cold versus warm start](./media/cold-start-warm-start.png)
**Figure 3-10**.</span></span> <span data-ttu-id="68aad-144">Démarrage à froid et démarrage à chaud.</span><span class="sxs-lookup"><span data-stu-id="68aad-144">Cold start versus warm start.</span></span>

<span data-ttu-id="68aad-145">Si vous devez éviter que le démarrage à froid ne démarre entièrement, vous pouvez choisir de passer d’un [plan de consommation à un plan dédié](https://azure.microsoft.com/blog/understanding-serverless-cold-start/).</span><span class="sxs-lookup"><span data-stu-id="68aad-145">If you need to avoid cold starts entirely, you can choose to switch from a [consumption plan to a dedicated plan](https://azure.microsoft.com/blog/understanding-serverless-cold-start/).</span></span> <span data-ttu-id="68aad-146">Vous pouvez également [configurer une ou plusieurs instances prédéfinies](https://docs.microsoft.com/azure/azure-functions/functions-premium-plan#pre-warmed-instances) avec le plan Premium. ainsi, lorsque vous devez ajouter une autre instance, celle-ci est déjà opérationnelle et prête à l’emploi.</span><span class="sxs-lookup"><span data-stu-id="68aad-146">You can also [configure one or more pre-warmed instances](https://docs.microsoft.com/azure/azure-functions/functions-premium-plan#pre-warmed-instances) with the premium plan so when you need to add another instance, it's already up and ready to go.</span></span> <span data-ttu-id="68aad-147">Ces options peuvent atténuer l’un des problèmes clés associés à l’informatique sans serveur.</span><span class="sxs-lookup"><span data-stu-id="68aad-147">These options can mitigate one of the key concerns associated with serverless computing.</span></span>

<span data-ttu-id="68aad-148">En général, vous devez également éviter les tâches sans serveur pour les tâches de longue durée.</span><span class="sxs-lookup"><span data-stu-id="68aad-148">You should also typically avoid serverless for long-running tasks.</span></span> <span data-ttu-id="68aad-149">Elles sont idéales pour les petits éléments de travail qui peuvent être effectués rapidement.</span><span class="sxs-lookup"><span data-stu-id="68aad-149">They're best for small pieces of work that can be completed quickly.</span></span> <span data-ttu-id="68aad-150">La plupart des plates-formes sans serveur requièrent l’exécution de fonctions individuelles en quelques minutes.</span><span class="sxs-lookup"><span data-stu-id="68aad-150">Most serverless platforms require individual functions to complete within a few minutes.</span></span> <span data-ttu-id="68aad-151">Azure Functions a pour valeur par défaut une durée de délai d’attente de 5 minutes (peut être configurée jusqu’à 10 minutes).</span><span class="sxs-lookup"><span data-stu-id="68aad-151">Azure Functions defaults to a 5-minute time-out duration (can be configured up to 10 minutes).</span></span> <span data-ttu-id="68aad-152">Le plan Azure Functions Premium peut également atténuer ce problème, le délai d’expiration par défaut étant de 30 minutes et la configuration d’une limite supérieure illimitée.</span><span class="sxs-lookup"><span data-stu-id="68aad-152">The Azure Functions premium plan can mitigate this issue as well, defaulting time outs to 30 minutes and allowing an unbounded higher limit to be configured.</span></span>

<span data-ttu-id="68aad-153">Enfin, l’utilisation de sans serveur pour certaines tâches au sein de votre application complique la tâche.</span><span class="sxs-lookup"><span data-stu-id="68aad-153">Finally, leveraging serverless for certain tasks within your application adds complexity.</span></span> <span data-ttu-id="68aad-154">Il est souvent préférable d’abord concevoir votre application de manière modulaire et faiblement couplée, puis d’identifier s’il existe des avantages sans serveur, ce qui rend la complexité supplémentaire utile.</span><span class="sxs-lookup"><span data-stu-id="68aad-154">It's often best to architect your application in a modular, loosely coupled manner first, and then identify if there are benefits serverless would offer that make the additional complexity worthwhile.</span></span> <span data-ttu-id="68aad-155">De nombreuses applications plus petites s’exécutent parfaitement bien dans un déploiement monolithique unique, sans qu’il soit nécessaire de recourir à l’architecture d’application distribuée.</span><span class="sxs-lookup"><span data-stu-id="68aad-155">Many smaller applications will run perfectly well in a single monolithic deployment, without the need for the distributed application architecture serverless computing requires.</span></span>

## <a name="references"></a><span data-ttu-id="68aad-156">Références</span><span class="sxs-lookup"><span data-stu-id="68aad-156">References</span></span>

- [<span data-ttu-id="68aad-157">Fonctionnement du démarrage à froid sans serveur</span><span class="sxs-lookup"><span data-stu-id="68aad-157">Understanding serverless cold start</span></span>](https://azure.microsoft.com/blog/understanding-serverless-cold-start/)
- [<span data-ttu-id="68aad-158">Instances de Azure Functions préchauffées</span><span class="sxs-lookup"><span data-stu-id="68aad-158">Pre-warmed Azure Functions instances</span></span>](https://docs.microsoft.com/azure/azure-functions/functions-premium-plan#pre-warmed-instances)
- [<span data-ttu-id="68aad-159">Créer une fonction sur Linux à l’aide d’une image personnalisée</span><span class="sxs-lookup"><span data-stu-id="68aad-159">Create a function on Linux using a custom image</span></span>](https://docs.microsoft.com/azure/azure-functions/functions-create-function-linux-custom-image)

>[!div class="step-by-step"]
><span data-ttu-id="68aad-160">[Précédent](leverage-containers-orchestrators.md)
>[Suivant](combine-containers-serverless-approaches.md)</span><span class="sxs-lookup"><span data-stu-id="68aad-160">[Previous](leverage-containers-orchestrators.md)
[Next](combine-containers-serverless-approaches.md)</span></span>
