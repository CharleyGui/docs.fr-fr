---
title: Infrastructure de communication Service Mesh
description: En savoir plus sur la façon dont les technologies de maillage de service rationalisent la communication des microservices natives Cloud
author: robvet
ms.date: 03/03/2020
ms.openlocfilehash: 89bc4d307d725e7e31e020ef156c4c5967dd2a1c
ms.sourcegitcommit: 5988e9a29cedb8757320817deda3c08c6f44a6aa
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 04/28/2020
ms.locfileid: "82199943"
---
# <a name="service-mesh-communication-infrastructure"></a><span data-ttu-id="a6868-103">Infrastructure de communication Service Mesh</span><span class="sxs-lookup"><span data-stu-id="a6868-103">Service Mesh communication infrastructure</span></span>

[!INCLUDE [book-preview](../../../includes/book-preview.md)]

<span data-ttu-id="a6868-104">Tout au long de ce chapitre, nous avons exploré les défis liés à la communication des microservices.</span><span class="sxs-lookup"><span data-stu-id="a6868-104">Throughout this chapter, we've explored the challenges of microservice communication.</span></span> <span data-ttu-id="a6868-105">Nous avons dit que les équipes de développement doivent être sensibles à la façon dont les services principaux communiquent entre eux.</span><span class="sxs-lookup"><span data-stu-id="a6868-105">We said that development teams need to be sensitive to how back-end services communicate with each other.</span></span> <span data-ttu-id="a6868-106">Dans l’idéal, la communication entre les services est moins efficace.</span><span class="sxs-lookup"><span data-stu-id="a6868-106">Ideally, the less inter-service communication, the better.</span></span> <span data-ttu-id="a6868-107">Toutefois, l’évitement n’est pas toujours possible, car les services principaux s’appuient souvent les uns sur les autres pour effectuer des opérations.</span><span class="sxs-lookup"><span data-stu-id="a6868-107">However, avoidance isn't always possible as back-end services often rely on one another to complete operations.</span></span>

<span data-ttu-id="a6868-108">Nous avons exploré différentes approches pour implémenter une communication HTTP synchrone et une messagerie asynchrone.</span><span class="sxs-lookup"><span data-stu-id="a6868-108">We explored different approaches for implementing synchronous HTTP communication and asynchronous messaging.</span></span> <span data-ttu-id="a6868-109">Dans chacun des cas, le développeur est chargé d’implémenter le code de communication.</span><span class="sxs-lookup"><span data-stu-id="a6868-109">In each of the cases, the developer is burdened with implementing communication code.</span></span> <span data-ttu-id="a6868-110">Le code de communication est complexe et fastidieux.</span><span class="sxs-lookup"><span data-stu-id="a6868-110">Communication code is complex and time intensive.</span></span> <span data-ttu-id="a6868-111">Des décisions incorrectes peuvent entraîner des problèmes de performances significatifs.</span><span class="sxs-lookup"><span data-stu-id="a6868-111">Incorrect decisions can lead to significant performance issues.</span></span>

<span data-ttu-id="a6868-112">Une approche plus moderne des centres de communication des microservices autour d’une technologie nouvelle et en constante évolution, intitulée *maille du service*.</span><span class="sxs-lookup"><span data-stu-id="a6868-112">A more modern approach to microservice communication centers around a new and rapidly evolving technology entitled *Service Mesh*.</span></span> <span data-ttu-id="a6868-113">Une [maille de service](https://www.nginx.com/blog/what-is-a-service-mesh/) est une couche d’infrastructure configurable avec des fonctionnalités intégrées pour gérer la communication entre les services, la résilience et de nombreux problèmes transversaux.</span><span class="sxs-lookup"><span data-stu-id="a6868-113">A [service mesh](https://www.nginx.com/blog/what-is-a-service-mesh/) is a configurable infrastructure layer with built-in capabilities to handle service-to-service communication, resiliency, and many cross-cutting concerns.</span></span> <span data-ttu-id="a6868-114">Il déplace la responsabilité de ces problèmes sur les microservices et dans la couche de maillage de service.</span><span class="sxs-lookup"><span data-stu-id="a6868-114">It moves the responsibility for these concerns out of the microservices and into service mesh layer.</span></span> <span data-ttu-id="a6868-115">La communication est extraite de vos microservices.</span><span class="sxs-lookup"><span data-stu-id="a6868-115">Communication is abstracted away from your microservices.</span></span>

<span data-ttu-id="a6868-116">Un composant clé d’une maille de service est un proxy.</span><span class="sxs-lookup"><span data-stu-id="a6868-116">A key component of a service mesh is a proxy.</span></span> <span data-ttu-id="a6868-117">Dans une application Cloud native, une instance d’un proxy est généralement colocalisée avec chaque microservice.</span><span class="sxs-lookup"><span data-stu-id="a6868-117">In a cloud-native application, an instance of a proxy is typically colocated with each microservice.</span></span> <span data-ttu-id="a6868-118">Bien qu’ils s’exécutent dans des processus distincts, les deux sont étroitement liés et partagent le même cycle de vie.</span><span class="sxs-lookup"><span data-stu-id="a6868-118">While they execute in separate processes, the two are closely linked and share the same lifecycle.</span></span> <span data-ttu-id="a6868-119">Ce modèle, connu sous le nom de [modèle de side-car](https://docs.microsoft.com/azure/architecture/patterns/sidecar), est illustré à la figure 4-24.</span><span class="sxs-lookup"><span data-stu-id="a6868-119">This pattern, known as the [Sidecar pattern](https://docs.microsoft.com/azure/architecture/patterns/sidecar), and is shown in Figure 4-24.</span></span>

![Maille de service avec une voiture latérale](./media/service-mesh-with-side-car.png)

<span data-ttu-id="a6868-121">**Figure 4-24**.</span><span class="sxs-lookup"><span data-stu-id="a6868-121">**Figure 4-24**.</span></span> <span data-ttu-id="a6868-122">Maille de service avec une voiture latérale</span><span class="sxs-lookup"><span data-stu-id="a6868-122">Service mesh with a side car</span></span>

<span data-ttu-id="a6868-123">Notez dans la figure précédente Comment les messages sont interceptés par un proxy qui s’exécute parallèlement à chaque microservice.</span><span class="sxs-lookup"><span data-stu-id="a6868-123">Note in the previous figure how messages are intercepted by a proxy that runs alongside each microservice.</span></span> <span data-ttu-id="a6868-124">Chaque proxy peut être configuré avec des règles de trafic spécifiques au microservice.</span><span class="sxs-lookup"><span data-stu-id="a6868-124">Each proxy can be configured with traffic rules specific to the microservice.</span></span> <span data-ttu-id="a6868-125">Il comprend les messages et peut les acheminer entre vos services et le monde extérieur.</span><span class="sxs-lookup"><span data-stu-id="a6868-125">It understands messages and can route them across your services and the outside world.</span></span>

<span data-ttu-id="a6868-126">En plus de la gestion de la communication de service à service, la maille de service prend en charge la découverte de service et l’équilibrage de charge.</span><span class="sxs-lookup"><span data-stu-id="a6868-126">Along with managing service-to-service communication, the Service Mesh provides support for service discovery and load balancing.</span></span>

<span data-ttu-id="a6868-127">Une fois configuré, un maillage de service est très fonctionnel.</span><span class="sxs-lookup"><span data-stu-id="a6868-127">Once configured, a service mesh is highly functional.</span></span> <span data-ttu-id="a6868-128">La maille récupère un pool d’instances correspondant à partir d’un point de terminaison de découverte de service.</span><span class="sxs-lookup"><span data-stu-id="a6868-128">The mesh retrieves a corresponding pool of instances from a service discovery endpoint.</span></span> <span data-ttu-id="a6868-129">Il envoie une demande à une instance de service spécifique, en enregistrant la latence et le type de réponse du résultat.</span><span class="sxs-lookup"><span data-stu-id="a6868-129">It sends a request to a specific service instance, recording the latency and response type of the result.</span></span> <span data-ttu-id="a6868-130">Il choisit l’instance la plus susceptible de retourner une réponse rapide en fonction de différents facteurs, y compris la latence observée pour les demandes récentes.</span><span class="sxs-lookup"><span data-stu-id="a6868-130">It chooses the instance most likely to return a fast response based on different factors, including the observed latency for recent requests.</span></span>

<span data-ttu-id="a6868-131">Un maillage de service gère le trafic, la communication et les problèmes de mise en réseau au niveau de l’application.</span><span class="sxs-lookup"><span data-stu-id="a6868-131">A service mesh manages traffic, communication, and networking concerns at the application level.</span></span> <span data-ttu-id="a6868-132">Il comprend les messages et les demandes.</span><span class="sxs-lookup"><span data-stu-id="a6868-132">It understands messages and requests.</span></span> <span data-ttu-id="a6868-133">Une maille de service s’intègre généralement avec un orchestrateur de conteneur.</span><span class="sxs-lookup"><span data-stu-id="a6868-133">A service mesh typically integrates with a container orchestrator.</span></span> <span data-ttu-id="a6868-134">Kubernetes prend en charge une architecture extensible dans laquelle un maillage de service peut être ajouté.</span><span class="sxs-lookup"><span data-stu-id="a6868-134">Kubernetes supports an extensible architecture in which a service mesh can be added.</span></span>

<span data-ttu-id="a6868-135">Dans le chapitre 6, nous explorons en profondeur les technologies de maille de service, y compris une discussion sur son architecture et les implémentations Open source disponibles.</span><span class="sxs-lookup"><span data-stu-id="a6868-135">In chapter 6, we deep-dive into Service Mesh technologies including a discussion on its architecture and available open-source implementations.</span></span>

## <a name="summary"></a><span data-ttu-id="a6868-136">Résumé</span><span class="sxs-lookup"><span data-stu-id="a6868-136">Summary</span></span>

<span data-ttu-id="a6868-137">Dans ce chapitre, nous avons abordé les modèles de communication natifs dans le Cloud.</span><span class="sxs-lookup"><span data-stu-id="a6868-137">In this chapter, we discussed cloud-native communication patterns.</span></span> <span data-ttu-id="a6868-138">Nous avons commencé par examiner comment les clients frontaux communiquent avec les microservices back-end.</span><span class="sxs-lookup"><span data-stu-id="a6868-138">We started by examining how front-end clients communicate with back-end microservices.</span></span> <span data-ttu-id="a6868-139">En cours de route, nous avons parlé des plateformes de passerelle d’API et de la communication en temps réel.</span><span class="sxs-lookup"><span data-stu-id="a6868-139">Along the way, we talked about API Gateway platforms and real-time communication.</span></span> <span data-ttu-id="a6868-140">Nous avons ensuite vu comment les microservices communiquent avec d’autres services principaux.</span><span class="sxs-lookup"><span data-stu-id="a6868-140">We then looked at how microservices communicate with other back-end services.</span></span> <span data-ttu-id="a6868-141">Nous avons examiné la communication HTTP synchrone et la messagerie asynchrone entre les services.</span><span class="sxs-lookup"><span data-stu-id="a6868-141">We looked at both synchronous HTTP communication and asynchronous messaging across services.</span></span> <span data-ttu-id="a6868-142">Nous avons abordé gRPC, une technologie à venir dans le monde Cloud-native.</span><span class="sxs-lookup"><span data-stu-id="a6868-142">We covered gRPC, an upcoming technology in the cloud-native world.</span></span> <span data-ttu-id="a6868-143">Enfin, nous avons introduit une nouvelle technologie en constante évolution, intitulée Service Mesh, qui permet de rationaliser la communication des microservices.</span><span class="sxs-lookup"><span data-stu-id="a6868-143">Finally, we introduced a new and rapidly evolving technology entitled Service Mesh that can streamline microservice communication.</span></span>

<span data-ttu-id="a6868-144">Une mise en évidence spéciale s’est produite sur les services Azure gérés qui peuvent aider à implémenter la communication dans les systèmes natifs du Cloud :</span><span class="sxs-lookup"><span data-stu-id="a6868-144">Special emphasis was on managed Azure services that can help implement communication in cloud-native systems:</span></span>

- [<span data-ttu-id="a6868-145">Passerelle Azure Application</span><span class="sxs-lookup"><span data-stu-id="a6868-145">Azure Application Gateway</span></span>](https://docs.microsoft.com/azure/application-gateway/overview)
- [<span data-ttu-id="a6868-146">Gestion des API Azure</span><span class="sxs-lookup"><span data-stu-id="a6868-146">Azure API Management</span></span>](https://azure.microsoft.com/services/api-management/)
- [<span data-ttu-id="a6868-147">Service Azure SignalR</span><span class="sxs-lookup"><span data-stu-id="a6868-147">Azure SignalR Service</span></span>](https://azure.microsoft.com/services/signalr-service/)
- [<span data-ttu-id="a6868-148">Files d’attente Stockage Azure</span><span class="sxs-lookup"><span data-stu-id="a6868-148">Azure Storage Queues</span></span>](https://docs.microsoft.com/azure/storage/queues/storage-queues-introduction)
- [<span data-ttu-id="a6868-149">Azure Service Bus</span><span class="sxs-lookup"><span data-stu-id="a6868-149">Azure Service Bus</span></span>](https://docs.microsoft.com/azure/service-bus-messaging/service-bus-messaging-overview)
- [<span data-ttu-id="a6868-150">Azure Event Grid</span><span class="sxs-lookup"><span data-stu-id="a6868-150">Azure Event Grid</span></span>](https://docs.microsoft.com/azure/event-grid/overview)
- [<span data-ttu-id="a6868-151">Azure Event Hub</span><span class="sxs-lookup"><span data-stu-id="a6868-151">Azure Event Hub</span></span>](https://azure.microsoft.com/services/event-hubs/)

<span data-ttu-id="a6868-152">Nous allons ensuite passer aux données distribuées dans les systèmes natifs du Cloud et aux avantages et défis qu’il présente.</span><span class="sxs-lookup"><span data-stu-id="a6868-152">We next move to distributed data in cloud-native systems and the benefits and challenges that it presents.</span></span>

### <a name="references"></a><span data-ttu-id="a6868-153">References</span><span class="sxs-lookup"><span data-stu-id="a6868-153">References</span></span>

- [<span data-ttu-id="a6868-154">Microservices .NET : architecture pour les applications .NET en conteneur</span><span class="sxs-lookup"><span data-stu-id="a6868-154">.NET Microservices: Architecture for Containerized .NET applications</span></span>](https://dotnet.microsoft.com/download/thank-you/microservices-architecture-ebook)

- [<span data-ttu-id="a6868-155">Conception de la communication interservice pour les microservices</span><span class="sxs-lookup"><span data-stu-id="a6868-155">Designing Interservice Communication for Microservices</span></span>](https://docs.microsoft.com/azure/architecture/microservices/design/interservice-communication)

- [<span data-ttu-id="a6868-156">Service Azure Signalr, service entièrement géré pour l’ajout de fonctionnalités en temps réel</span><span class="sxs-lookup"><span data-stu-id="a6868-156">Azure SignalR Service, a fully managed service to add real-time functionality</span></span>](https://azure.microsoft.com/blog/azure-signalr-service-a-fully-managed-service-to-add-real-time-functionality/)

- [<span data-ttu-id="a6868-157">Contrôleur d’entrée de la passerelle API Azure</span><span class="sxs-lookup"><span data-stu-id="a6868-157">Azure API Gateway Ingress Controller</span></span>](https://azure.github.io/application-gateway-kubernetes-ingress/)

- [<span data-ttu-id="a6868-158">À propos de l’entrée dans Azure Kubernetes service (AKS)</span><span class="sxs-lookup"><span data-stu-id="a6868-158">About Ingress in Azure Kubernetes Service (AKS)</span></span>](https://vincentlauzon.com/2018/10/10/about-ingress-in-azure-kubernetes-service-aks/)

- [<span data-ttu-id="a6868-159">Documentation gRPC</span><span class="sxs-lookup"><span data-stu-id="a6868-159">gRPC Documentation</span></span>](https://grpc.io/docs/guides/)

- [<span data-ttu-id="a6868-160">gRPC pour les développeurs WCF</span><span class="sxs-lookup"><span data-stu-id="a6868-160">gRPC for WCF Developers</span></span>](https://docs.microsoft.com/dotnet/architecture/grpc-for-wcf-developers/)

- [<span data-ttu-id="a6868-161">Comparaison des services gRPC avec les API HTTP</span><span class="sxs-lookup"><span data-stu-id="a6868-161">Comparing gRPC Services with HTTP APIs</span></span>](https://docs.microsoft.com/aspnet/core/grpc/comparison?view=aspnetcore-3.0)

- [<span data-ttu-id="a6868-162">Génération de services gRPC avec la vidéo .NET</span><span class="sxs-lookup"><span data-stu-id="a6868-162">Building gRPC Services with .NET video</span></span>](https://channel9.msdn.com/Shows/The-Cloud-Native-Show/Building-Microservices-with-gRPC-and-NET)

>[!div class="step-by-step"]
><span data-ttu-id="a6868-163">[Précédent](grpc.md)
>[suivant](distributed-data.md)</span><span class="sxs-lookup"><span data-stu-id="a6868-163">[Previous](grpc.md)
[Next](distributed-data.md)</span></span>
