---
title: DevOps
description: Considérations relatives à DevOps pour les applications Cloud natives
ms.date: 05/13/2020
ms.openlocfilehash: ce814595245d49e409e780cb0f63c436299c2e4e
ms.sourcegitcommit: 27db07ffb26f76912feefba7b884313547410db5
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 05/19/2020
ms.locfileid: "83614113"
---
# <a name="devops"></a><span data-ttu-id="8730b-103">DevOps</span><span class="sxs-lookup"><span data-stu-id="8730b-103">DevOps</span></span>

<span data-ttu-id="8730b-104">Le mantra préféré des conseillers en logiciels est de répondre à la question « cela dépend » de toute question posée.</span><span class="sxs-lookup"><span data-stu-id="8730b-104">The favorite mantra of software consultants is to answer "It depends" to any question posed.</span></span> <span data-ttu-id="8730b-105">Ce n’est pas parce que les consultants logiciels ne prennent pas de position.</span><span class="sxs-lookup"><span data-stu-id="8730b-105">It isn't because software consultants are fond of not taking a position.</span></span> <span data-ttu-id="8730b-106">C’est parce qu’il n’y a pas une vraie réponse aux questions dans les logiciels.</span><span class="sxs-lookup"><span data-stu-id="8730b-106">It's because there's no one true answer to any questions in software.</span></span> <span data-ttu-id="8730b-107">Il n’y a pas de droit absolu, mais plutôt un équilibre entre les opposés.</span><span class="sxs-lookup"><span data-stu-id="8730b-107">There's no absolute right and wrong, but rather a balance between opposites.</span></span>

<span data-ttu-id="8730b-108">Prenez, par exemple, les deux écoles principales du développement d’applications Web : les applications à page unique (SPAs) et les applications côté serveur.</span><span class="sxs-lookup"><span data-stu-id="8730b-108">Take, for instance, the two major schools of developing web applications: Single Page Applications (SPAs) versus server-side applications.</span></span> <span data-ttu-id="8730b-109">D’un côté, l’expérience utilisateur a tendance à être meilleure avec la fonction de déchiffrement et le volume de trafic vers le serveur Web peut être réduit, ce qui permet de les héberger aussi simplement qu’un hébergement statique.</span><span class="sxs-lookup"><span data-stu-id="8730b-109">On the one hand, the user experience tends to be better with SPAs and the amount of traffic to the web server can be minimized making it possible to host them on something as simple as static hosting.</span></span> <span data-ttu-id="8730b-110">En revanche, la création de la création de conflit est plus lente et plus difficile à tester.</span><span class="sxs-lookup"><span data-stu-id="8730b-110">On the other hand, SPAs tend to be slower to develop and more difficult to test.</span></span> <span data-ttu-id="8730b-111">Lequel est le bon choix ?</span><span class="sxs-lookup"><span data-stu-id="8730b-111">Which one is the right choice?</span></span> <span data-ttu-id="8730b-112">Cela dépend de votre situation.</span><span class="sxs-lookup"><span data-stu-id="8730b-112">Well, it depends on your situation.</span></span>

<span data-ttu-id="8730b-113">Les applications Cloud natives ne sont pas immunisées contre ce même dichotomie.</span><span class="sxs-lookup"><span data-stu-id="8730b-113">Cloud-native applications aren't immune to that same dichotomy.</span></span> <span data-ttu-id="8730b-114">Ils présentent des avantages clairs en termes de vitesse de développement, de stabilité et d’évolutivité, mais leur gestion peut être un peu plus difficile.</span><span class="sxs-lookup"><span data-stu-id="8730b-114">They have clear advantages in terms of speed of development, stability, and scalability, but managing them can be quite a bit more difficult.</span></span>

<span data-ttu-id="8730b-115">Il y a des années, il n’était pas rare pour le processus de migration d’une application du développement à la production pour prendre un mois, voire plus.</span><span class="sxs-lookup"><span data-stu-id="8730b-115">Years ago, it wasn't uncommon for the process of moving an application from development to production to take a month, or even more.</span></span> <span data-ttu-id="8730b-116">Les entreprises ont publié des logiciels sur une cadence de 6 mois, voire tous les ans.</span><span class="sxs-lookup"><span data-stu-id="8730b-116">Companies released software on a 6-month or even every year cadence.</span></span> <span data-ttu-id="8730b-117">Il n’est pas nécessaire de regarder plus loin que Microsoft Windows pour avoir une idée de la cadence des mises en production qui étaient acceptables avant les jours jamais verts de Windows 10.</span><span class="sxs-lookup"><span data-stu-id="8730b-117">One needs to look no further than Microsoft Windows to get an idea for the cadence of releases that were acceptable before the ever-green days of Windows 10.</span></span> <span data-ttu-id="8730b-118">Cinq ans passés entre Windows XP et Vista, 3 autres entre Vista et Windows 7.</span><span class="sxs-lookup"><span data-stu-id="8730b-118">Five years passed between Windows XP and Vista, a further 3 between Vista and Windows 7.</span></span>

<span data-ttu-id="8730b-119">Il est maintenant assez bien établi que le fait de pouvoir libérer rapidement des logiciels offre aux entreprises qui évoluent rapidement un énorme avantage sur le marché de leurs concurrents Sloth.</span><span class="sxs-lookup"><span data-stu-id="8730b-119">It's now fairly well established that being able to release software rapidly gives fast-moving companies a huge market advantage over their more sloth-like competitors.</span></span> <span data-ttu-id="8730b-120">C’est pour cette raison que les mises à jour majeures de Windows 10 sont à présent environ tous les six mois.</span><span class="sxs-lookup"><span data-stu-id="8730b-120">It's for that reason that major updates to Windows 10 are now approximately every six months.</span></span>

<span data-ttu-id="8730b-121">Les modèles et pratiques qui permettent d’obtenir des versions plus rapides et plus fiables pour fournir de la valeur à l’entreprise sont collectivement appelés DevOps.</span><span class="sxs-lookup"><span data-stu-id="8730b-121">The patterns and practices that enable faster, more reliable releases to deliver value to the business are collectively known as DevOps.</span></span> <span data-ttu-id="8730b-122">Ils se composent d’un large éventail d’idées couvrant l’ensemble du cycle de vie du développement de logiciels, de la spécification d’une application jusqu’à la mise en œuvre et au fonctionnement de cette application.</span><span class="sxs-lookup"><span data-stu-id="8730b-122">They consist of a wide range of ideas spanning the entire software development life cycle from specifying an application all the way up to delivering and operating that application.</span></span>

<span data-ttu-id="8730b-123">Les DevOps sont apparus avant les microservices et il est probable que le mouvement vers le plus petit, plus adapté aux services à but n’aurait pas été possible sans DevOps pour rendre la libération et le fonctionnement non seulement une, mais plusieurs applications en production plus simples.</span><span class="sxs-lookup"><span data-stu-id="8730b-123">DevOps emerged before microservices and it's likely that the movement towards smaller, more fit to purpose services wouldn't have been possible without DevOps to make releasing and operating not just one but many applications in production easier.</span></span>

![La figure 10-1 les tendances de recherche montrent que la croissance dans les microservices ne démarre pas tant que DevOps n’est pas une idée bien établie.](./media/microservices-vs-devops.png)

<span data-ttu-id="8730b-125">**Figure 10-1** : DevOps et microservices.</span><span class="sxs-lookup"><span data-stu-id="8730b-125">**Figure 10-1** - DevOps and microservices.</span></span>

<span data-ttu-id="8730b-126">Grâce aux bonnes pratiques en matière de DevOps, il est possible de tirer parti des avantages des applications Cloud natives sans Suffocating sous une montagne de travail qui exécute réellement les applications.</span><span class="sxs-lookup"><span data-stu-id="8730b-126">Through good DevOps practices, it's possible to realize the advantages of cloud-native applications without suffocating under a mountain of work actually operating the applications.</span></span>

<span data-ttu-id="8730b-127">Il n’y a aucun marteau doré lorsqu’il s’agit de DevOps.</span><span class="sxs-lookup"><span data-stu-id="8730b-127">There's no golden hammer when it comes to DevOps.</span></span> <span data-ttu-id="8730b-128">Personne ne peut vendre une solution complète et complète pour la publication et l’exploitation d’applications de haute qualité.</span><span class="sxs-lookup"><span data-stu-id="8730b-128">Nobody can sell a complete and all-encompassing solution for releasing and operating high-quality applications.</span></span> <span data-ttu-id="8730b-129">Cela est dû au fait que chaque application est tout à fait différente de toutes les autres.</span><span class="sxs-lookup"><span data-stu-id="8730b-129">This is because each application is wildly different from all others.</span></span> <span data-ttu-id="8730b-130">Toutefois, il existe des outils qui peuvent faire de DevOps une proposition beaucoup moins fastidieuse.</span><span class="sxs-lookup"><span data-stu-id="8730b-130">However, there are tools that can make DevOps a far less daunting proposition.</span></span> <span data-ttu-id="8730b-131">L’un de ces outils est appelé Azure DevOps.</span><span class="sxs-lookup"><span data-stu-id="8730b-131">One of these tools is known as Azure DevOps.</span></span>

## <a name="azure-devops"></a><span data-ttu-id="8730b-132">Azure DevOps</span><span class="sxs-lookup"><span data-stu-id="8730b-132">Azure DevOps</span></span>

<span data-ttu-id="8730b-133">Azure DevOps a une longue généalogie.</span><span class="sxs-lookup"><span data-stu-id="8730b-133">Azure DevOps has a long pedigree.</span></span> <span data-ttu-id="8730b-134">Il peut remonter ses racines jusqu’au moment où Team Foundation Server déplacés en ligne pour la première fois et par le biais des différentes modifications de nom : Visual Studio Online et Visual Studio Team Services.</span><span class="sxs-lookup"><span data-stu-id="8730b-134">It can trace its roots back to when Team Foundation Server first moved online and through the various name changes: Visual Studio Online and Visual Studio Team Services.</span></span> <span data-ttu-id="8730b-135">Au cours des années, cependant, il est devenu beaucoup plus que ses prédécesseurs.</span><span class="sxs-lookup"><span data-stu-id="8730b-135">Through the years, however, it has become far more than its predecessors.</span></span>

<span data-ttu-id="8730b-136">Azure DevOps est divisé en cinq composants principaux :</span><span class="sxs-lookup"><span data-stu-id="8730b-136">Azure DevOps is divided into five major components:</span></span>

![Figure 10-2 les cinq principales zones d’Azure DevOps](./media/devops-components.png)

<span data-ttu-id="8730b-138">**Figure 10-2** : Azure DevOps.</span><span class="sxs-lookup"><span data-stu-id="8730b-138">**Figure 10-2** - Azure DevOps.</span></span>

<span data-ttu-id="8730b-139">**Azure repos** -gestion du code source qui prend en charge vénérable Team Foundation version Control (TFVC) et le [git](https://en.wikipedia.org/wiki/Git)préféré du secteur.</span><span class="sxs-lookup"><span data-stu-id="8730b-139">**Azure Repos** - Source code management that supports the venerable Team Foundation Version Control (TFVC) and the industry favorite [Git](https://en.wikipedia.org/wiki/Git).</span></span> <span data-ttu-id="8730b-140">Les demandes de tirage (pull requests) offrent un moyen d’activer le codage social en encourageant la discussion des modifications à mesure qu’elles sont effectuées.</span><span class="sxs-lookup"><span data-stu-id="8730b-140">Pull requests provide a way to enable social coding by fostering discussion of changes as they're made.</span></span>

<span data-ttu-id="8730b-141">**Azure Boards** : fournit un outil de suivi des problèmes et des éléments de travail qui s’efforce d’autoriser les utilisateurs à choisir les workflows qui leur conviennent le mieux.</span><span class="sxs-lookup"><span data-stu-id="8730b-141">**Azure Boards** - Provides an issue and work item tracking tool that strives to allow users to pick the workflows that work best for them.</span></span> <span data-ttu-id="8730b-142">Il est fourni avec un certain nombre de modèles préconfigurés, notamment ceux pour prendre en charge SCRUM et les styles de kanban de développement.</span><span class="sxs-lookup"><span data-stu-id="8730b-142">It comes with a number of pre-configured templates including ones to support SCRUM and Kanban styles of development.</span></span>

<span data-ttu-id="8730b-143">**Azure pipelines** : un système de gestion de builds et de versions qui prend en charge une intégration étroite avec Azure.</span><span class="sxs-lookup"><span data-stu-id="8730b-143">**Azure Pipelines** - A build and release management system that supports tight integration with Azure.</span></span> <span data-ttu-id="8730b-144">Les builds peuvent être exécutées sur diverses plateformes, de Windows à Linux à MacOS.</span><span class="sxs-lookup"><span data-stu-id="8730b-144">Builds can be run on a variety of platforms from Windows to Linux to MacOS.</span></span> <span data-ttu-id="8730b-145">Les agents de build peuvent être approvisionnés dans le Cloud ou localement.</span><span class="sxs-lookup"><span data-stu-id="8730b-145">Build agents may be provisioned in the cloud or on-premises.</span></span>

<span data-ttu-id="8730b-146">**Azure test plans** -aucune personne ne pourra rester en contact avec la prise en charge de la gestion des tests et des tests exploratoires offerte par la fonctionnalité de test plans.</span><span class="sxs-lookup"><span data-stu-id="8730b-146">**Azure Test Plans** - No QA person will be left behind with the test management and exploratory testing support offered by the Test Plans feature.</span></span>

<span data-ttu-id="8730b-147">**Azure artifacts** : flux d’artefact qui permet aux entreprises de créer leurs propres versions de NuGet, NPM et autres.</span><span class="sxs-lookup"><span data-stu-id="8730b-147">**Azure Artifacts** - An artifact feed that allows companies to create their own, internal, versions of NuGet, npm, and others.</span></span> <span data-ttu-id="8730b-148">Il a un double objectif d’agir comme un cache de packages en amont en cas de défaillance d’un référentiel centralisé.</span><span class="sxs-lookup"><span data-stu-id="8730b-148">It serves a double purpose of acting as a cache of upstream packages if there's a failure of a centralized repository.</span></span>

<span data-ttu-id="8730b-149">L’unité d’organisation de niveau supérieur dans Azure DevOps est appelée projet.</span><span class="sxs-lookup"><span data-stu-id="8730b-149">The top-level organizational unit in Azure DevOps is known as a Project.</span></span> <span data-ttu-id="8730b-150">Dans chaque projet, les différents composants, tels que les Azure Artifacts, peuvent être activés et désactivés.</span><span class="sxs-lookup"><span data-stu-id="8730b-150">Within each project the various components, such as Azure Artifacts, can be turned on and off.</span></span> <span data-ttu-id="8730b-151">Chacun de ces composants offre des avantages différents pour les applications Cloud natives.</span><span class="sxs-lookup"><span data-stu-id="8730b-151">Each of these components provides different advantages for cloud-native applications.</span></span> <span data-ttu-id="8730b-152">Les trois plus utiles sont les référentiels, les tableaux et les pipelines.</span><span class="sxs-lookup"><span data-stu-id="8730b-152">The three most useful are repositories, boards, and pipelines.</span></span> <span data-ttu-id="8730b-153">Si les utilisateurs souhaitent gérer leur code source dans une autre pile de référentiels, telle que GitHub, tout en tirant parti de Azure Pipelines et d’autres composants, ce qui est parfaitement possible.</span><span class="sxs-lookup"><span data-stu-id="8730b-153">If users want to manage their source code in another repository stack, such as GitHub, but still take advantage of Azure Pipelines and other components, that's perfectly possible.</span></span>

<span data-ttu-id="8730b-154">Heureusement, les équipes de développement ont de nombreuses options lors de la sélection d’un référentiel.</span><span class="sxs-lookup"><span data-stu-id="8730b-154">Fortunately, development teams have many options when selecting a repository.</span></span> <span data-ttu-id="8730b-155">L’un d’eux est GitHub.</span><span class="sxs-lookup"><span data-stu-id="8730b-155">One of them is GitHub.</span></span>

## <a name="github-actions"></a><span data-ttu-id="8730b-156">GitHub Actions</span><span class="sxs-lookup"><span data-stu-id="8730b-156">GitHub Actions</span></span>

<span data-ttu-id="8730b-157">Créé dans 2009, GitHub est un référentiel Web largement populaire pour l’hébergement des projets, de la documentation et du code.</span><span class="sxs-lookup"><span data-stu-id="8730b-157">Founded in 2009, GitHub is a widely popular web-based repository for hosting projects, documentation, and code.</span></span> <span data-ttu-id="8730b-158">De nombreuses grandes entreprises technologiques, telles que Apple, Amazon, Google et les entreprises grand public, utilisent GitHub.</span><span class="sxs-lookup"><span data-stu-id="8730b-158">Many large tech companies, such as Apple, Amazon, Google, and mainstream corporations use GitHub.</span></span> <span data-ttu-id="8730b-159">GitHub utilise le système de gestion de version distribué Open source nommé git comme base.</span><span class="sxs-lookup"><span data-stu-id="8730b-159">GitHub uses the open-source, distributed version control system named Git as its foundation.</span></span> <span data-ttu-id="8730b-160">En premier, il ajoute ensuite son propre ensemble de fonctionnalités, notamment le suivi des défauts, les demandes de fonctionnalités et d’extraction, la gestion des tâches et les wikis pour chaque base de code.</span><span class="sxs-lookup"><span data-stu-id="8730b-160">On top, it then adds its own set of features, including defect tracking, feature and pull requests, tasks management, and wikis for each code base.</span></span>

<span data-ttu-id="8730b-161">Comme GitHub évolue, il ajoute également des fonctionnalités DevOps.</span><span class="sxs-lookup"><span data-stu-id="8730b-161">As GitHub evolves, it too is adding DevOps features.</span></span> <span data-ttu-id="8730b-162">Par exemple, GitHub a son propre pipeline d’intégration continue/de livraison continue (CI/CD), appelé `GitHub Actions` .</span><span class="sxs-lookup"><span data-stu-id="8730b-162">For example, GitHub has its own continuous integration/continuous delivery (CI/CD) pipeline, called `GitHub Actions`.</span></span> <span data-ttu-id="8730b-163">GitHub actions est un outil d’automatisation de flux de travail basé sur la communauté.</span><span class="sxs-lookup"><span data-stu-id="8730b-163">GitHub Actions is a community-powered workflow automation tool.</span></span> <span data-ttu-id="8730b-164">Il permet aux équipes DevOps de s’intégrer à leurs outils existants, de combiner et de faire correspondre de nouveaux produits et de se connecter à leur cycle de vie de logiciels, y compris les partenaires CI/CD existants.»</span><span class="sxs-lookup"><span data-stu-id="8730b-164">It lets DevOps teams integrate with their existing tooling, mix and match new products, and hook into their software lifecycle, including existing CI/CD partners."</span></span>

<span data-ttu-id="8730b-165">GitHub compte plus de 40 millions utilisateurs, ce qui en fait le plus grand hôte de code source dans le monde.</span><span class="sxs-lookup"><span data-stu-id="8730b-165">GitHub has over 40 million users, making it the largest host of source code in the world.</span></span> <span data-ttu-id="8730b-166">En octobre 2018, Microsoft a acheté GitHub.</span><span class="sxs-lookup"><span data-stu-id="8730b-166">In October of 2018, Microsoft purchased GitHub.</span></span> <span data-ttu-id="8730b-167">Microsoft a promis que GitHub reste une [plateforme ouverte](https://techcrunch.com/2018/06/04/microsoft-promises-to-keep-github-independent-and-open/) que tous les développeurs peuvent connecter et étendre.</span><span class="sxs-lookup"><span data-stu-id="8730b-167">Microsoft has pledged that GitHub will remain an [open platform](https://techcrunch.com/2018/06/04/microsoft-promises-to-keep-github-independent-and-open/) that any developer can plug into and extend.</span></span> <span data-ttu-id="8730b-168">Il continue à fonctionner en tant que société indépendante.</span><span class="sxs-lookup"><span data-stu-id="8730b-168">It continues to operate as an independent company.</span></span> <span data-ttu-id="8730b-169">GitHub propose des plans pour les comptes d’entreprise, d’équipe, professionnels et gratuits.</span><span class="sxs-lookup"><span data-stu-id="8730b-169">GitHub offers plans for enterprise, team, professional, and free accounts.</span></span>

## <a name="source-control"></a><span data-ttu-id="8730b-170">Contrôle de code source</span><span class="sxs-lookup"><span data-stu-id="8730b-170">Source control</span></span>

<span data-ttu-id="8730b-171">L’organisation du code pour une application Cloud Native peut être difficile.</span><span class="sxs-lookup"><span data-stu-id="8730b-171">Organizing the code for a cloud-native application can be challenging.</span></span> <span data-ttu-id="8730b-172">Au lieu d’une seule application Giant, les applications Cloud natives ont tendance à être composées d’un Web d’applications de petite taille qui communiquent les unes avec les autres.</span><span class="sxs-lookup"><span data-stu-id="8730b-172">Instead of a single giant application, the cloud-native applications tend to be made up of a web of smaller applications that talk with one another.</span></span> <span data-ttu-id="8730b-173">Comme pour tout le monde informatique, la meilleure organisation du code reste une question ouverte.</span><span class="sxs-lookup"><span data-stu-id="8730b-173">As with all things in computing, the best arrangement of code remains an open question.</span></span> <span data-ttu-id="8730b-174">Il existe des exemples d’applications ayant réussi à utiliser différents types de dispositions, mais deux variantes semblent avoir la plus grande popularité.</span><span class="sxs-lookup"><span data-stu-id="8730b-174">There are examples of successful applications using different kinds of layouts, but two variants seem to have the most popularity.</span></span>

<span data-ttu-id="8730b-175">Avant d’accéder au contrôle de code source proprement dit, il est probablement judicieux de décider du nombre de projets appropriés.</span><span class="sxs-lookup"><span data-stu-id="8730b-175">Before getting down into the actual source control itself, it's probably worth deciding on how many projects are appropriate.</span></span> <span data-ttu-id="8730b-176">Au sein d’un même projet, il existe une prise en charge de plusieurs dépôts et des pipelines de génération.</span><span class="sxs-lookup"><span data-stu-id="8730b-176">Within a single project, there's support for multiple repositories, and build pipelines.</span></span> <span data-ttu-id="8730b-177">Les tableaux sont un peu plus compliqués, mais dans certains cas, les tâches peuvent être facilement affectées à plusieurs équipes au sein d’un même projet.</span><span class="sxs-lookup"><span data-stu-id="8730b-177">Boards are a little more complicated, but there too, the tasks can easily be assigned to multiple teams within a single project.</span></span> <span data-ttu-id="8730b-178">Il est possible de prendre en charge des centaines, voire des milliers de développeurs, en dehors d’un seul projet Azure DevOps.</span><span class="sxs-lookup"><span data-stu-id="8730b-178">It's possible to support hundreds, even thousands of developers, out of a single Azure DevOps project.</span></span> <span data-ttu-id="8730b-179">Il s’agit probablement de la meilleure approche, car elle fournit un emplacement unique où tous les développeurs peuvent travailler et réduit la confusion liée à la recherche d’une application lorsque les développeurs ne sont pas sûrs dans le projet dans lequel elle réside.</span><span class="sxs-lookup"><span data-stu-id="8730b-179">Doing so is likely the best approach as it provides a single place for all developer to work out of and reduces the confusion of finding that one application when developers are unsure in which project in which it resides.</span></span>

<span data-ttu-id="8730b-180">Le fractionnement du code pour les microservices dans le projet Azure DevOps peut être un peu plus complexe.</span><span class="sxs-lookup"><span data-stu-id="8730b-180">Splitting up code for microservices within the Azure DevOps project can be slightly more challenging.</span></span>

![Figure 10-3 référentiels simples ou multiples](./media/single-repository-vs-multiple.png)

<span data-ttu-id="8730b-182">**Figure 10-3** : un et plusieurs référentiels.</span><span class="sxs-lookup"><span data-stu-id="8730b-182">**Figure 10-3** - One vs. many repositories.</span></span>

### <a name="repository-per-microservice"></a><span data-ttu-id="8730b-183">Référentiel par Microservice</span><span class="sxs-lookup"><span data-stu-id="8730b-183">Repository per microservice</span></span>

<span data-ttu-id="8730b-184">À première vue, cela semble être l’approche la plus logique pour fractionner le code source pour les microservices.</span><span class="sxs-lookup"><span data-stu-id="8730b-184">At first glance, this seems like the most logical approach to splitting up the source code for microservices.</span></span> <span data-ttu-id="8730b-185">Chaque référentiel peut contenir le code nécessaire à la création d’un microservice.</span><span class="sxs-lookup"><span data-stu-id="8730b-185">Each repository can contain the code needed to build the one microservice.</span></span> <span data-ttu-id="8730b-186">Les avantages de cette approche sont facilement visibles :</span><span class="sxs-lookup"><span data-stu-id="8730b-186">The advantages to this approach are readily visible:</span></span>

1. <span data-ttu-id="8730b-187">Les instructions relatives à la création et à la maintenance de l’application peuvent être ajoutées à un fichier Lisez-moi à la racine de chaque référentiel.</span><span class="sxs-lookup"><span data-stu-id="8730b-187">Instructions for building and maintaining the application can be added to a README file at the root of each repository.</span></span> <span data-ttu-id="8730b-188">Lors du basculement dans les référentiels, il est facile de trouver ces instructions, ce qui réduit le temps de rotation pour les développeurs.</span><span class="sxs-lookup"><span data-stu-id="8730b-188">When flipping through the repositories, it's easy to find these instructions, reducing spin-up time for developers.</span></span>
2. <span data-ttu-id="8730b-189">Chaque service se trouve dans un emplacement logique, facilement accessible en connaissant le nom du service.</span><span class="sxs-lookup"><span data-stu-id="8730b-189">Every service is located in a logical place, easily found by knowing the name of the service.</span></span>
3. <span data-ttu-id="8730b-190">Les builds peuvent facilement être configurées de telle sorte qu’elles ne sont déclenchées que lorsqu’une modification est apportée au référentiel propriétaire.</span><span class="sxs-lookup"><span data-stu-id="8730b-190">Builds can easily be set up such that they're only triggered when a change is made to the owning repository.</span></span>
4. <span data-ttu-id="8730b-191">Le nombre de modifications arrivant dans un référentiel est limité au petit nombre de développeurs qui travaillent sur le projet.</span><span class="sxs-lookup"><span data-stu-id="8730b-191">The number of changes coming into a repository is limited to the small number of developers working on the project.</span></span>
5. <span data-ttu-id="8730b-192">La sécurité est facile à configurer en restreignant les dépôts auxquels les développeurs ont des autorisations de lecture et d’écriture.</span><span class="sxs-lookup"><span data-stu-id="8730b-192">Security is easy to set up by restricting the repositories to which developers have read and write permissions.</span></span>
6. <span data-ttu-id="8730b-193">Les paramètres de niveau de référentiel peuvent être modifiés par l’équipe propriétaire, avec un minimum de discussion avec d’autres.</span><span class="sxs-lookup"><span data-stu-id="8730b-193">Repository level settings can be changed by the owning team with a minimum of discussion with others.</span></span>

<span data-ttu-id="8730b-194">L’une des idées clés derrière les microservices est que les services doivent être siloés et séparés les uns des autres.</span><span class="sxs-lookup"><span data-stu-id="8730b-194">One of the key ideas behind microservices is that services should be siloed and separated from each other.</span></span> <span data-ttu-id="8730b-195">Lorsque vous utilisez la conception pilotée par domaine pour décider des limites des services, les services jouent le rôle de limites transactionnelles.</span><span class="sxs-lookup"><span data-stu-id="8730b-195">When using Domain Driven Design to decide on the boundaries for services the services act as transactional boundaries.</span></span> <span data-ttu-id="8730b-196">Les mises à jour de base de données ne doivent pas s’étendre sur plusieurs services.</span><span class="sxs-lookup"><span data-stu-id="8730b-196">Database updates shouldn't span multiple services.</span></span> <span data-ttu-id="8730b-197">Cette collection de données associées est appelée contexte limité.</span><span class="sxs-lookup"><span data-stu-id="8730b-197">This collection of related data is referred to as a bounded context.</span></span>  <span data-ttu-id="8730b-198">Cette idée est reflétée par l’isolation des données de microservice dans une base de données séparée et autonome des autres services.</span><span class="sxs-lookup"><span data-stu-id="8730b-198">This idea is reflected by the isolation of microservice data to a database separate and autonomous from the rest of the services.</span></span> <span data-ttu-id="8730b-199">L’objectif est de vous faire un grand sens pour suivre cette idée jusqu’au code source.</span><span class="sxs-lookup"><span data-stu-id="8730b-199">It makes a great deal of sense to carry this idea all the way through to the source code.</span></span>

<span data-ttu-id="8730b-200">Toutefois, cette approche ne présente aucun problème.</span><span class="sxs-lookup"><span data-stu-id="8730b-200">However, this approach isn't without its issues.</span></span> <span data-ttu-id="8730b-201">L’un des problèmes de développement gnarlys de notre temps est la gestion des dépendances.</span><span class="sxs-lookup"><span data-stu-id="8730b-201">One of the more gnarly development problems of our time is managing dependencies.</span></span> <span data-ttu-id="8730b-202">Tenez compte du nombre de fichiers qui composent le `node_modules` répertoire moyen.</span><span class="sxs-lookup"><span data-stu-id="8730b-202">Consider the number of files that make up the average `node_modules` directory.</span></span> <span data-ttu-id="8730b-203">Une nouvelle installation de tout `create-react-app` ce qui est susceptible de vous apporter des milliers de packages.</span><span class="sxs-lookup"><span data-stu-id="8730b-203">A fresh install of something like `create-react-app` is likely to bring with it thousands of packages.</span></span> <span data-ttu-id="8730b-204">La question de la gestion de ces dépendances est difficile.</span><span class="sxs-lookup"><span data-stu-id="8730b-204">The question of how to manage these dependencies is a difficult one.</span></span>

<span data-ttu-id="8730b-205">Si une dépendance est mise à jour, les packages en aval doivent également mettre à jour cette dépendance.</span><span class="sxs-lookup"><span data-stu-id="8730b-205">If a dependency is updated, then downstream packages must also update this dependency.</span></span> <span data-ttu-id="8730b-206">Malheureusement, cela prend du travail de développement, de manière invariable, le `node_modules` répertoire finit par plusieurs versions d’un package unique, chacune d’entre elles étant une dépendance d’un autre package dont la version est différente selon une cadence légèrement différente.</span><span class="sxs-lookup"><span data-stu-id="8730b-206">Unfortunately, that takes development work so, invariably, the `node_modules` directory ends up with multiple versions of a single package, each one a dependency of some other package that is versioned at a slightly different cadence.</span></span> <span data-ttu-id="8730b-207">Lors du déploiement d’une application, quelle version d’une dépendance doit être utilisée ?</span><span class="sxs-lookup"><span data-stu-id="8730b-207">When deploying an application, which version of a dependency should be used?</span></span> <span data-ttu-id="8730b-208">La version actuellement en production ?</span><span class="sxs-lookup"><span data-stu-id="8730b-208">The version that is currently in production?</span></span> <span data-ttu-id="8730b-209">La version qui est actuellement en version bêta, mais qui est susceptible d’être en production au moment où le consommateur la met en production ?</span><span class="sxs-lookup"><span data-stu-id="8730b-209">The version that is currently in Beta but is likely to be in production by the time the consumer makes it to production?</span></span> <span data-ttu-id="8730b-210">Problèmes difficiles qui ne sont pas résolus en utilisant uniquement des microservices.</span><span class="sxs-lookup"><span data-stu-id="8730b-210">Difficult problems that aren't resolved by just using microservices.</span></span>

<span data-ttu-id="8730b-211">Il existe des bibliothèques qui dépendent d’un large éventail de projets.</span><span class="sxs-lookup"><span data-stu-id="8730b-211">There are libraries that are depended upon by a wide variety of projects.</span></span> <span data-ttu-id="8730b-212">En répartissant les microservices avec un dans chaque référentiel, les dépendances internes peuvent être résolues le mieux à l’aide du référentiel interne, Azure Artifacts.</span><span class="sxs-lookup"><span data-stu-id="8730b-212">By dividing the microservices up with one in each repository the internal dependencies can best be resolved by using the internal repository, Azure Artifacts.</span></span> <span data-ttu-id="8730b-213">Les builds pour les bibliothèques poussent leurs versions les plus récentes dans Azure Artifacts à des fins de consommation interne.</span><span class="sxs-lookup"><span data-stu-id="8730b-213">Builds for libraries will push their latest versions into Azure Artifacts for internal consumption.</span></span> <span data-ttu-id="8730b-214">Le projet en aval doit toujours être mis à jour manuellement pour dépendre des packages récemment mis à jour.</span><span class="sxs-lookup"><span data-stu-id="8730b-214">The downstream project must still be manually updated to take a dependency on the newly updated packages.</span></span>

<span data-ttu-id="8730b-215">Un autre inconvénient se présente pour le déplacement du code entre les services.</span><span class="sxs-lookup"><span data-stu-id="8730b-215">Another disadvantage presents itself when moving code between services.</span></span> <span data-ttu-id="8730b-216">Bien qu’il soit intéressant de croire que la première division d’une application en microservices est correcte à 100%, la réalité est que rarement, nous sommes prescients pour ne pas faire d’erreur de division de service.</span><span class="sxs-lookup"><span data-stu-id="8730b-216">Although it would be nice to believe that the first division of an application into microservices is 100% correct, the reality is that rarely we're so prescient as to make no service division mistakes.</span></span> <span data-ttu-id="8730b-217">Ainsi, les fonctionnalités et le code qui les pilote doivent passer de service à service : référentiel au référentiel.</span><span class="sxs-lookup"><span data-stu-id="8730b-217">Thus, functionality and the code that drives it will need to move from service to service: repository to repository.</span></span> <span data-ttu-id="8730b-218">En cas de Bond d’un référentiel à un autre, le code perd son historique.</span><span class="sxs-lookup"><span data-stu-id="8730b-218">When leaping from one repository to another, the code loses its history.</span></span> <span data-ttu-id="8730b-219">Il y a de nombreux cas, en particulier dans le cas d’un audit, où l’historique complet sur une partie du code est inestimable.</span><span class="sxs-lookup"><span data-stu-id="8730b-219">There are many cases, especially in the event of an audit, where having full history on a piece of code is invaluable.</span></span>

<span data-ttu-id="8730b-220">L’inconvénient final et le plus important est la coordination des modifications.</span><span class="sxs-lookup"><span data-stu-id="8730b-220">The final and most important disadvantage is coordinating changes.</span></span> <span data-ttu-id="8730b-221">Dans une application true microservices, il ne doit y avoir aucune dépendance de déploiement entre les services.</span><span class="sxs-lookup"><span data-stu-id="8730b-221">In a true microservices application, there should be no deployment dependencies between services.</span></span> <span data-ttu-id="8730b-222">Il doit être possible de déployer les services A, B et C dans n’importe quel ordre, car ils ont un couplage faible.</span><span class="sxs-lookup"><span data-stu-id="8730b-222">It should be possible to deploy services A, B, and C in any order as they have loose coupling.</span></span> <span data-ttu-id="8730b-223">En réalité, cependant, il est parfois souhaitable d’effectuer une modification qui traverse plusieurs dépôts en même temps.</span><span class="sxs-lookup"><span data-stu-id="8730b-223">In reality, however, there are times when it's desirable to make a change that crosses multiple repositories at the same time.</span></span> <span data-ttu-id="8730b-224">Certains exemples incluent la mise à jour d’une bibliothèque pour fermer une brèche de sécurité ou la modification d’un protocole de communication utilisé par tous les services.</span><span class="sxs-lookup"><span data-stu-id="8730b-224">Some examples include updating a library to close a security hole or changing a communication protocol used by all services.</span></span>

<span data-ttu-id="8730b-225">Pour effectuer une modification inter-référentiel, vous devez effectuer une validation sur chaque dépôt à la suite.</span><span class="sxs-lookup"><span data-stu-id="8730b-225">To do a cross-repository change requires a commit to each repository be made in succession.</span></span> <span data-ttu-id="8730b-226">Chaque modification de chaque dépôt doit être demandée et examinée séparément.</span><span class="sxs-lookup"><span data-stu-id="8730b-226">Each change in each repository will need to be pull-requested and reviewed separately.</span></span> <span data-ttu-id="8730b-227">Cela peut être difficile à coordonner.</span><span class="sxs-lookup"><span data-stu-id="8730b-227">This can be difficult to coordinate.</span></span>

<span data-ttu-id="8730b-228">Une alternative à l’utilisation de nombreux référentiels consiste à placer tout le code source dans un géant, tout en sachant qu’un référentiel unique.</span><span class="sxs-lookup"><span data-stu-id="8730b-228">An alternative to using many repositories is to put all the source code together in a giant, all knowing, single repository.</span></span>

### <a name="single-repository"></a><span data-ttu-id="8730b-229">Référentiel unique</span><span class="sxs-lookup"><span data-stu-id="8730b-229">Single repository</span></span>

<span data-ttu-id="8730b-230">Dans cette approche, parfois appelée [monorepository](https://danluu.com/monorepo/), tout le code source de chaque service est placé dans le même référentiel.</span><span class="sxs-lookup"><span data-stu-id="8730b-230">In this approach, sometimes referred to as a [monorepository](https://danluu.com/monorepo/), all the source code for every service is put into the same repository.</span></span> <span data-ttu-id="8730b-231">Dans un premier temps, cela semble être une idée terrible qui est susceptible de compliquer le traitement du code source.</span><span class="sxs-lookup"><span data-stu-id="8730b-231">At first, this seems like a terrible idea likely to make dealing with source code unwieldy.</span></span> <span data-ttu-id="8730b-232">Il existe toutefois des avantages marqués pour fonctionner de cette façon.</span><span class="sxs-lookup"><span data-stu-id="8730b-232">There are, however, some marked advantages to working this way.</span></span>

<span data-ttu-id="8730b-233">Le premier avantage est qu’il est plus facile de gérer les dépendances entre les projets.</span><span class="sxs-lookup"><span data-stu-id="8730b-233">The first advantage is that it's easier to manage dependencies between projects.</span></span> <span data-ttu-id="8730b-234">Au lieu de s’appuyer sur un flux d’artefact externe, les projets peuvent être importés directement.</span><span class="sxs-lookup"><span data-stu-id="8730b-234">Instead of relying on some external artifact feed, projects can directly import one another.</span></span> <span data-ttu-id="8730b-235">Cela signifie que les mises à jour sont instantanées et que les versions conflictuelles sont susceptibles d’être détectées au moment de la compilation sur la station de travail du développeur.</span><span class="sxs-lookup"><span data-stu-id="8730b-235">This means that updates are instant, and conflicting versions are likely to be found at compile time on the developer's workstation.</span></span> <span data-ttu-id="8730b-236">En effet, le décalage de la partie gauche du test d’intégration.</span><span class="sxs-lookup"><span data-stu-id="8730b-236">In effect, shifting some of the integration testing left.</span></span>

<span data-ttu-id="8730b-237">Lorsque vous déplacez du code entre des projets, il est désormais plus facile de conserver l’historique, car les fichiers sont détectés comme ayant été déplacés au lieu d’être réécrits.</span><span class="sxs-lookup"><span data-stu-id="8730b-237">When moving code between projects, it's now easier to preserve the history as the files will be detected as having been moved rather than being rewritten.</span></span>

<span data-ttu-id="8730b-238">Un autre avantage est qu’il y a un grand nombre de modifications qui peuvent être effectuées dans une seule validation.</span><span class="sxs-lookup"><span data-stu-id="8730b-238">Another advantage is that wide ranging changes that cross service boundaries can be made in a single commit.</span></span> <span data-ttu-id="8730b-239">Cela réduit le temps de traitement des dizaines de modifications à examiner individuellement.</span><span class="sxs-lookup"><span data-stu-id="8730b-239">This reduces the overhead of having potentially dozens of changes to review individually.</span></span>

<span data-ttu-id="8730b-240">De nombreux outils peuvent effectuer une analyse statique du code pour détecter les pratiques de programmation non sécurisées ou l’utilisation problématique des API.</span><span class="sxs-lookup"><span data-stu-id="8730b-240">There are many tools that can perform static analysis of code to detect insecure programming practices or problematic use of APIs.</span></span> <span data-ttu-id="8730b-241">Dans un monde à plusieurs référentiels, chaque dépôt doit être itéré pour rechercher les problèmes qu’il rencontre.</span><span class="sxs-lookup"><span data-stu-id="8730b-241">In a multi-repository world, each repository will need to be iterated over to find the problems in them.</span></span> <span data-ttu-id="8730b-242">Le référentiel unique permet d’exécuter l’analyse en un seul endroit.</span><span class="sxs-lookup"><span data-stu-id="8730b-242">The single repository allows running the analysis all in one place.</span></span>

<span data-ttu-id="8730b-243">L’approche de référentiel unique présente également de nombreux inconvénients.</span><span class="sxs-lookup"><span data-stu-id="8730b-243">There are also many disadvantages to the single repository approach.</span></span> <span data-ttu-id="8730b-244">L’une des plus inquiétantes est que la présence d’un référentiel unique soulève des problèmes de sécurité.</span><span class="sxs-lookup"><span data-stu-id="8730b-244">One of the most worrying ones is that having a single repository raises security concerns.</span></span> <span data-ttu-id="8730b-245">Si le contenu d’un référentiel est divulgué dans un référentiel par modèle de service, la quantité de code perdue est minime.</span><span class="sxs-lookup"><span data-stu-id="8730b-245">If the contents of a repository are leaked in a repository per service model, the amount of code lost is minimal.</span></span> <span data-ttu-id="8730b-246">Avec un référentiel unique, tout ce que l’entreprise possède peut être perdu.</span><span class="sxs-lookup"><span data-stu-id="8730b-246">With a single repository, everything the company owns could be lost.</span></span> <span data-ttu-id="8730b-247">Il y a eu de nombreux exemples par le passé et nous avons mis au point les efforts de développement de jeux.</span><span class="sxs-lookup"><span data-stu-id="8730b-247">There have been many examples in the past of this happening and derailing entire game development efforts.</span></span> <span data-ttu-id="8730b-248">Le fait de disposer de plusieurs référentiels réduit la surface d’exposition, ce qui est une caractéristique souhaitable dans la plupart des pratiques de sécurité.</span><span class="sxs-lookup"><span data-stu-id="8730b-248">Having multiple repositories exposes less surface area, which is a desirable trait in most security practices.</span></span>

<span data-ttu-id="8730b-249">La taille du dépôt unique est susceptible d’être ingérable rapidement.</span><span class="sxs-lookup"><span data-stu-id="8730b-249">The size of the single repository is likely to become unmanageable rapidly.</span></span> <span data-ttu-id="8730b-250">Cela présente des implications intéressantes sur les performances.</span><span class="sxs-lookup"><span data-stu-id="8730b-250">This presents some interesting performance implications.</span></span> <span data-ttu-id="8730b-251">Il peut s’avérer nécessaire d’utiliser des outils spécialisés tels que le [système de fichiers virtuel pour git](https://vfsforgit.org/), qui a été conçu à l’origine pour améliorer l’expérience des développeurs de l’équipe Windows.</span><span class="sxs-lookup"><span data-stu-id="8730b-251">It may become necessary to use specialized tools such as [Virtual File System for Git](https://vfsforgit.org/), which was originally designed to improve the experience for developers on the Windows team.</span></span>

<span data-ttu-id="8730b-252">Souvent, l’argument pour l’utilisation d’un référentiel unique se résume à un argument que Facebook ou Google utilisent cette méthode pour la disposition du code source.</span><span class="sxs-lookup"><span data-stu-id="8730b-252">Frequently the argument for using a single repository boils down to an argument that Facebook or Google use this method for source code arrangement.</span></span> <span data-ttu-id="8730b-253">Si l’approche est suffisante pour ces entreprises, il s’agit certainement de la bonne approche pour toutes les entreprises.</span><span class="sxs-lookup"><span data-stu-id="8730b-253">If the approach is good enough for these companies, then, surely, it's the correct approach for all companies.</span></span> <span data-ttu-id="8730b-254">La vérité est que peu d’entreprises opèrent sur n’importe quel type de mise à l’échelle de Facebook ou Google.</span><span class="sxs-lookup"><span data-stu-id="8730b-254">The truth of the matter is that few companies operate on anything like the scale of Facebook or Google.</span></span> <span data-ttu-id="8730b-255">Les problèmes qui se produisent à ces échelles sont différents de ceux auxquels la plupart des développeurs seront confrontés.</span><span class="sxs-lookup"><span data-stu-id="8730b-255">The problems that occur at those scales are different from those most developers will face.</span></span> <span data-ttu-id="8730b-256">Ce qui est parfait pour l’OIE peut ne pas être adapté au examinons.</span><span class="sxs-lookup"><span data-stu-id="8730b-256">What is good for the goose may not be good for the gander.</span></span>

<span data-ttu-id="8730b-257">À la fin, l’une ou l’autre solution peut être utilisée pour héberger le code source pour les microservices.</span><span class="sxs-lookup"><span data-stu-id="8730b-257">In the end, either solution can be used to host the source code for microservices.</span></span> <span data-ttu-id="8730b-258">Toutefois, dans la plupart des cas, la gestion et la surcharge d’ingénierie du fonctionnement dans un référentiel unique ne valent pas les avantages de Meager.</span><span class="sxs-lookup"><span data-stu-id="8730b-258">However, in most cases, the management, and engineering overhead of operating in a single repository isn't worth the meager advantages.</span></span> <span data-ttu-id="8730b-259">Le fractionnement du code sur plusieurs référentiels favorise une meilleure séparation des préoccupations et encourage l’autonomie entre les équipes de développement.</span><span class="sxs-lookup"><span data-stu-id="8730b-259">Splitting code up over multiple repositories encourages better separation of concerns and encourages autonomy among development teams.</span></span>  

### <a name="standard-directory-structure"></a><span data-ttu-id="8730b-260">Structure de répertoires standard</span><span class="sxs-lookup"><span data-stu-id="8730b-260">Standard directory structure</span></span>

<span data-ttu-id="8730b-261">Quel que soit le débat entre les référentiels unique et multiple, chaque service dispose de son propre annuaire.</span><span class="sxs-lookup"><span data-stu-id="8730b-261">Regardless of the single versus multiple repositories debate each service will have its own directory.</span></span> <span data-ttu-id="8730b-262">L’une des meilleures optimisations pour permettre aux développeurs de traverser rapidement les projets consiste à conserver une structure de répertoires standard.</span><span class="sxs-lookup"><span data-stu-id="8730b-262">One of the best optimizations to allow developers to cross between projects quickly is to maintain a standard directory structure.</span></span>

![Figure 10-4 structure de répertoire standard pour les services de messagerie et de connexion](./media/dir-struct.png)

<span data-ttu-id="8730b-264">**Figure 10-4** : structure de répertoires standard.</span><span class="sxs-lookup"><span data-stu-id="8730b-264">**Figure 10-4** - Standard directory structure.</span></span>

<span data-ttu-id="8730b-265">Chaque fois qu’un nouveau projet est créé, un modèle qui met en place la structure correcte doit être utilisé.</span><span class="sxs-lookup"><span data-stu-id="8730b-265">Whenever a new project is created, a template that puts in place the correct structure should be used.</span></span> <span data-ttu-id="8730b-266">Ce modèle peut également inclure des éléments utiles comme un fichier Lisez-moi squelette et un `azure-pipelines.yml` .</span><span class="sxs-lookup"><span data-stu-id="8730b-266">This template can also include such useful items as a skeleton README file and an `azure-pipelines.yml`.</span></span> <span data-ttu-id="8730b-267">Dans toutes les architectures de microservices, un degré élevé d’écart entre les projets rend les opérations en bloc sur les services plus difficiles.</span><span class="sxs-lookup"><span data-stu-id="8730b-267">In any microservice architecture, a high degree of variance between projects makes bulk operations against the services more difficult.</span></span>

<span data-ttu-id="8730b-268">De nombreux outils peuvent fournir la création de modèles pour un répertoire entier, contenant plusieurs répertoires de code source.</span><span class="sxs-lookup"><span data-stu-id="8730b-268">There are many tools that can provide templating for an entire directory, containing several source code directories.</span></span> <span data-ttu-id="8730b-269">[Yeoman](https://yeoman.io/) est populaire dans le monde JavaScript et GitHub a récemment publié des [modèles de référentiel](https://github.blog/2019-06-06-generate-new-repositories-with-repository-templates/), qui fournissent la plupart des fonctionnalités.</span><span class="sxs-lookup"><span data-stu-id="8730b-269">[Yeoman](https://yeoman.io/) is popular in the JavaScript world and GitHub have recently released [Repository Templates](https://github.blog/2019-06-06-generate-new-repositories-with-repository-templates/), which provide much of the same functionality.</span></span>

## <a name="task-management"></a><span data-ttu-id="8730b-270">Gestion des tâches</span><span class="sxs-lookup"><span data-stu-id="8730b-270">Task management</span></span>

<span data-ttu-id="8730b-271">La gestion des tâches dans un projet peut être difficile.</span><span class="sxs-lookup"><span data-stu-id="8730b-271">Managing tasks in any project can be difficult.</span></span> <span data-ttu-id="8730b-272">Au départ, il existe des questions innombrables à répondre sur le type de flux de travail à configurer afin de garantir une productivité optimale pour les développeurs.</span><span class="sxs-lookup"><span data-stu-id="8730b-272">Up front there are countless questions to be answered about the sort of workflows to set up to ensure optimal developer productivity.</span></span>

<span data-ttu-id="8730b-273">Les applications Cloud natives ont tendance à être plus petites que les logiciels traditionnels ou, au moins, elles sont divisées en services plus petits.</span><span class="sxs-lookup"><span data-stu-id="8730b-273">Cloud-native applications tend to be smaller than traditional software products or at least they're divided into smaller services.</span></span> <span data-ttu-id="8730b-274">Le suivi des problèmes ou des tâches liées à ces services reste aussi important que pour tout autre projet de logiciel.</span><span class="sxs-lookup"><span data-stu-id="8730b-274">Tracking of issues or tasks related to these services remains as important as with any other software project.</span></span> <span data-ttu-id="8730b-275">Personne ne souhaite perdre le suivi d’un élément de travail ou expliquer à un client que son problème n’a pas été correctement enregistré.</span><span class="sxs-lookup"><span data-stu-id="8730b-275">Nobody wants to lose track of some work item or explain to a customer that their issue wasn't properly logged.</span></span> <span data-ttu-id="8730b-276">Les tableaux sont configurés au niveau du projet, mais dans chaque projet, les zones peuvent être définies.</span><span class="sxs-lookup"><span data-stu-id="8730b-276">Boards are configured at the project level but within each project, areas can be defined.</span></span> <span data-ttu-id="8730b-277">Ils permettent de décomposer les problèmes entre plusieurs composants.</span><span class="sxs-lookup"><span data-stu-id="8730b-277">These allow breaking down issues across several components.</span></span> <span data-ttu-id="8730b-278">L’avantage de conserver tout le travail pour l’application entière dans un même emplacement est qu’il est facile de déplacer des éléments de travail d’une équipe à l’autre, car ils sont plus compréhensibles.</span><span class="sxs-lookup"><span data-stu-id="8730b-278">The advantage to keeping all the work for the entire application in one place is that it's easy to move work items from one team to another as they're understood better.</span></span>

<span data-ttu-id="8730b-279">Azure DevOps est fourni avec un certain nombre de modèles populaires préconfigurés.</span><span class="sxs-lookup"><span data-stu-id="8730b-279">Azure DevOps comes with a number of popular templates pre-configured.</span></span> <span data-ttu-id="8730b-280">Dans la configuration la plus simple, il suffit de savoir ce qui se trouve dans le backlog, les personnes qui travaillent et ce qui est fait.</span><span class="sxs-lookup"><span data-stu-id="8730b-280">In the most basic configuration, all that is needed to know is what's in the backlog, what people are working on, and what's done.</span></span> <span data-ttu-id="8730b-281">Il est important d’avoir cette visibilité sur le processus de création de logiciels, afin que le travail puisse être classé par ordre de priorité et terminer les tâches signalées au client.</span><span class="sxs-lookup"><span data-stu-id="8730b-281">It's important to have this visibility into the process of building software, so that work can be prioritized and completed tasks reported to the customer.</span></span> <span data-ttu-id="8730b-282">Bien sûr, peu de projets logiciels se compensent à un processus aussi simple que `to do` , `doing` et `done` .</span><span class="sxs-lookup"><span data-stu-id="8730b-282">Of course, few software projects stick to a process as simple as `to do`, `doing`, and `done`.</span></span> <span data-ttu-id="8730b-283">Il n’est pas certain que les gens commencent à ajouter des étapes comme `QA` ou `Detailed Specification` au processus.</span><span class="sxs-lookup"><span data-stu-id="8730b-283">It doesn't take long for people to start adding steps like `QA` or `Detailed Specification` to the process.</span></span>

<span data-ttu-id="8730b-284">L’une des parties les plus importantes des méthodologies agiles est l’auto-inversion à intervalles réguliers.</span><span class="sxs-lookup"><span data-stu-id="8730b-284">One of the more important parts of Agile methodologies is self-introspection at regular intervals.</span></span> <span data-ttu-id="8730b-285">Ces révisions sont destinées à fournir des informations sur les problèmes auxquels l’équipe est confrontée et sur la façon dont ils peuvent être améliorés.</span><span class="sxs-lookup"><span data-stu-id="8730b-285">These reviews are meant to provide insight into what problems the team is facing and how they can be improved.</span></span> <span data-ttu-id="8730b-286">Il s’agit souvent de modifier le déroulement des problèmes et des fonctionnalités par le biais du processus de développement.</span><span class="sxs-lookup"><span data-stu-id="8730b-286">Frequently, this means changing the flow of issues and features through the development process.</span></span> <span data-ttu-id="8730b-287">Ainsi, il est tout à fait sain d’étendre les dispositions des tableaux avec des étapes supplémentaires.</span><span class="sxs-lookup"><span data-stu-id="8730b-287">So, it's perfectly healthy to expand the layouts of the boards with additional stages.</span></span>

<span data-ttu-id="8730b-288">Les étapes dans les tableaux ne sont pas le seul outil organisationnel.</span><span class="sxs-lookup"><span data-stu-id="8730b-288">The stages in the boards aren't the only organizational tool.</span></span> <span data-ttu-id="8730b-289">En fonction de la configuration du tableau, il existe une hiérarchie d’éléments de travail.</span><span class="sxs-lookup"><span data-stu-id="8730b-289">Depending on the configuration of the board, there's a hierarchy of work items.</span></span> <span data-ttu-id="8730b-290">L’élément le plus granulaire qui peut apparaître dans un tableau est une tâche.</span><span class="sxs-lookup"><span data-stu-id="8730b-290">The most granular item that can appear on a board is a task.</span></span> <span data-ttu-id="8730b-291">Une tâche prête à l’emploi contient des champs pour un titre, une description, une priorité, une estimation de la quantité de travail restante et la possibilité de créer un lien vers d’autres éléments de travail ou éléments de développement (branches, validations, requêtes de tirage, builds, etc.).</span><span class="sxs-lookup"><span data-stu-id="8730b-291">Out of the box a task contains fields for a title, description, a priority, an estimate of the amount of work remaining and the ability to link to other work items or development items (branches, commits, pull requests, builds, and so forth).</span></span> <span data-ttu-id="8730b-292">Les éléments de travail peuvent être classés dans différentes zones de l’application et des itérations différentes (sprints) pour faciliter leur recherche.</span><span class="sxs-lookup"><span data-stu-id="8730b-292">Work items can be classified into different areas of the application and different iterations (sprints) to make finding them easier.</span></span>

![Figure 10-5 exemple de tâche dans Azure DevOps](./media/task-details.png)

<span data-ttu-id="8730b-294">**Figure 10-5** -tâche dans Azure DevOps.</span><span class="sxs-lookup"><span data-stu-id="8730b-294">**Figure 10-5** - Task in Azure DevOps.</span></span>

<span data-ttu-id="8730b-295">Le champ Description prend en charge les styles normaux attendus (gras, trait de soulignement italique et barré) et la possibilité d’insérer des images.</span><span class="sxs-lookup"><span data-stu-id="8730b-295">The description field supports the normal styles you'd expect (bold, italic underscore and strike through) and the ability to insert images.</span></span> <span data-ttu-id="8730b-296">Cela en fait un outil puissant à utiliser lors de la spécification du travail ou des bogues.</span><span class="sxs-lookup"><span data-stu-id="8730b-296">This makes it a powerful tool for use when specifying work or bugs.</span></span>

<span data-ttu-id="8730b-297">Les tâches peuvent être regroupées en fonctionnalités, qui définissent une plus grande unité de travail.</span><span class="sxs-lookup"><span data-stu-id="8730b-297">Tasks can be rolled up into features, which define a larger unit of work.</span></span> <span data-ttu-id="8730b-298">Les fonctionnalités, à leur tour, peuvent être [reportées dans des Epics](https://docs.microsoft.com/azure/devops/boards/backlogs/define-features-epics?view=azure-devops).</span><span class="sxs-lookup"><span data-stu-id="8730b-298">Features, in turn, can be [rolled up into epics](https://docs.microsoft.com/azure/devops/boards/backlogs/define-features-epics?view=azure-devops).</span></span> <span data-ttu-id="8730b-299">La classification des tâches de cette hiérarchie facilite grandement la compréhension de la fermeture d’une grande fonctionnalité.</span><span class="sxs-lookup"><span data-stu-id="8730b-299">Classifying tasks in this hierarchy makes it much easier to understand how close a large feature is to rolling out.</span></span>

![Figure 10-6 types d’éléments de travail configurés par défaut dans le modèle de processus de base](./media/board-issue-types.png)

<span data-ttu-id="8730b-301">**Figure 10-6** -élément de travail dans Azure DevOps.</span><span class="sxs-lookup"><span data-stu-id="8730b-301">**Figure 10-6** - Work item in Azure DevOps.</span></span>

<span data-ttu-id="8730b-302">Il existe différents types de vues dans les problèmes de Azure Boards.</span><span class="sxs-lookup"><span data-stu-id="8730b-302">There are different kinds of views into the issues in Azure Boards.</span></span> <span data-ttu-id="8730b-303">Les éléments qui ne sont pas encore planifiés s’affichent dans le Backlog.</span><span class="sxs-lookup"><span data-stu-id="8730b-303">Items that aren't yet scheduled appear in the backlog.</span></span> <span data-ttu-id="8730b-304">À partir de là, elles peuvent être assignées à un sprint.</span><span class="sxs-lookup"><span data-stu-id="8730b-304">From there, they can be assigned to a sprint.</span></span> <span data-ttu-id="8730b-305">Un sprint est une zone horaire pendant laquelle une quantité de travail est attendue.</span><span class="sxs-lookup"><span data-stu-id="8730b-305">A sprint is a time box during which it's expected some quantity of work will be completed.</span></span> <span data-ttu-id="8730b-306">Ce travail peut inclure des tâches, mais également la résolution des tickets.</span><span class="sxs-lookup"><span data-stu-id="8730b-306">This work can include tasks but also the resolution of tickets.</span></span> <span data-ttu-id="8730b-307">Dans ce cas, le sprint entier peut être géré à partir de la section de la carte du sprint.</span><span class="sxs-lookup"><span data-stu-id="8730b-307">Once there, the entire sprint can be managed from the Sprint board section.</span></span> <span data-ttu-id="8730b-308">Cet affichage montre comment le travail progresse et comprend un graphique d’avancement pour permettre une estimation en perpétuelle mise à jour de si le sprint est réussi.</span><span class="sxs-lookup"><span data-stu-id="8730b-308">This view shows how work is progressing and includes a burn down chart to give an ever-updating estimate of if the sprint will be successful.</span></span>

![Figure 10-7 un tableau avec un sprint défini](./media/sprint-board.png)

<span data-ttu-id="8730b-310">**Figure 10-7** -carte dans Azure DevOps.</span><span class="sxs-lookup"><span data-stu-id="8730b-310">**Figure 10-7** - Board in Azure DevOps.</span></span>

<span data-ttu-id="8730b-311">À l’heure actuelle, il est évident qu’il y a une grande quantité d’énergie dans les tableaux dans Azure DevOps.</span><span class="sxs-lookup"><span data-stu-id="8730b-311">By now, it should be apparent that there's a great deal of power in the Boards in Azure DevOps.</span></span> <span data-ttu-id="8730b-312">Pour les développeurs, il existe des vues faciles sur ce qui est utilisé.</span><span class="sxs-lookup"><span data-stu-id="8730b-312">For developers, there are easy views of what is being worked on.</span></span> <span data-ttu-id="8730b-313">Pour les chefs de projet dans le cadre du travail à venir, ainsi qu’une vue d’ensemble du travail existant.</span><span class="sxs-lookup"><span data-stu-id="8730b-313">For project managers views into upcoming work as well as an overview of existing work.</span></span> <span data-ttu-id="8730b-314">Pour les responsables, il y a beaucoup de rapports sur la réapprovisionnement et la capacité.</span><span class="sxs-lookup"><span data-stu-id="8730b-314">For managers, there are plenty of reports about resourcing and capacity.</span></span> <span data-ttu-id="8730b-315">Malheureusement, il n’y a rien de magique concernant les applications Cloud natives qui éliminent le besoin de suivre le travail.</span><span class="sxs-lookup"><span data-stu-id="8730b-315">Unfortunately, there's nothing magical about cloud-native applications that eliminate the need to track work.</span></span> <span data-ttu-id="8730b-316">Toutefois, si vous devez effectuer le suivi du travail, il existe quelques endroits où l’expérience est meilleure que dans Azure DevOps.</span><span class="sxs-lookup"><span data-stu-id="8730b-316">But if you must track work, there are a few places where the experience is better than in Azure DevOps.</span></span>

## <a name="cicd-pipelines"></a><span data-ttu-id="8730b-317">Pipelines CI/CD</span><span class="sxs-lookup"><span data-stu-id="8730b-317">CI/CD pipelines</span></span>

<span data-ttu-id="8730b-318">Presque aucun changement dans le cycle de vie du développement de logiciels n’a été si révolutionnaire en ce qui concerne l’avènement de l’intégration continue (CI) et de la livraison continue (CD).</span><span class="sxs-lookup"><span data-stu-id="8730b-318">Almost no change in the software development life cycle has been so revolutionary as the advent of continuous integration (CI) and continuous delivery (CD).</span></span> <span data-ttu-id="8730b-319">La génération et l’exécution de tests automatisés sur le code source d’un projet dès qu’une modification est archivée dans intercepte les erreurs rapidement.</span><span class="sxs-lookup"><span data-stu-id="8730b-319">Building and running automated tests against the source code of a project as soon as a change is checked in catches mistakes early.</span></span> <span data-ttu-id="8730b-320">Avant l’avènement des builds d’intégration continue, il ne serait pas rare d’extraire du code du référentiel et de déterminer qu’il n’a pas réussi les tests ou qu’ils n’ont pas pu être générés.</span><span class="sxs-lookup"><span data-stu-id="8730b-320">Prior to the advent of continuous integration builds, it wouldn't be uncommon to pull code from the repository and find that it didn't pass tests or couldn't even be built.</span></span> <span data-ttu-id="8730b-321">Cela a entraîné le suivi de la source de la rupture.</span><span class="sxs-lookup"><span data-stu-id="8730b-321">This resulted in tracking down the source of the breakage.</span></span>

<span data-ttu-id="8730b-322">Traditionnellement, l’expédition de logiciels vers l’environnement de production nécessitait une documentation complète et une liste d’étapes.</span><span class="sxs-lookup"><span data-stu-id="8730b-322">Traditionally shipping software to the production environment required extensive documentation and a list of steps.</span></span> <span data-ttu-id="8730b-323">Chacune de ces étapes devait être effectuée manuellement dans un processus très sujet aux erreurs.</span><span class="sxs-lookup"><span data-stu-id="8730b-323">Each one of these steps needed to be manually completed in a very error prone process.</span></span>

![Figure 10-8 liste de contrôle](./media/checklist.png)

<span data-ttu-id="8730b-325">**Figure 10-8** -liste de vérification.</span><span class="sxs-lookup"><span data-stu-id="8730b-325">**Figure 10-8** - Checklist.</span></span>

<span data-ttu-id="8730b-326">La sœur de l’intégration continue est la livraison continue dans laquelle les packages créés récemment sont déployés dans un environnement.</span><span class="sxs-lookup"><span data-stu-id="8730b-326">The sister of continuous integration is continuous delivery in which the freshly built packages are deployed to an environment.</span></span> <span data-ttu-id="8730b-327">Le processus manuel ne peut pas être mis à l’échelle pour correspondre à la vitesse de développement, de sorte que l’automatisation devient plus importante.</span><span class="sxs-lookup"><span data-stu-id="8730b-327">The manual process can't scale to match the speed of development so automation becomes more important.</span></span> <span data-ttu-id="8730b-328">Les listes de vérification sont remplacées par des scripts qui peuvent exécuter les mêmes tâches plus rapidement et de manière plus précise que n’importe quel homme.</span><span class="sxs-lookup"><span data-stu-id="8730b-328">Checklists are replaced by scripts that can execute the same tasks faster and more accurately than any human.</span></span>

<span data-ttu-id="8730b-329">L’environnement de livraison continue peut être un environnement de test ou, comme c’est le cas de nombreuses grandes entreprises technologiques, il peut s’agir de l’environnement de production.</span><span class="sxs-lookup"><span data-stu-id="8730b-329">The environment to which continuous delivery delivers might be a test environment or, as is being done by many major technology companies, it could be the production environment.</span></span> <span data-ttu-id="8730b-330">Ce dernier requiert un investissement dans des tests de haute qualité qui peuvent donner la certitude qu’une modification ne va pas interrompre la production pour les utilisateurs.</span><span class="sxs-lookup"><span data-stu-id="8730b-330">The latter requires an investment in high-quality tests that can give confidence that a change isn't going to break production for users.</span></span> <span data-ttu-id="8730b-331">De la même façon que l’intégration continue a détecté des problèmes dans le code de livraison précoce en continu qui interceptent les problèmes au début du processus de déploiement.</span><span class="sxs-lookup"><span data-stu-id="8730b-331">In the same way that continuous integration caught issues in the code early continuous delivery catches issues in the deployment process early.</span></span>

<span data-ttu-id="8730b-332">L’importance de l’automatisation du processus de création et de distribution est accentuée par les applications Cloud natives.</span><span class="sxs-lookup"><span data-stu-id="8730b-332">The importance of automating the build and delivery process is accentuated by cloud-native applications.</span></span> <span data-ttu-id="8730b-333">Les déploiements se produisent plus fréquemment et dans un plus grand nombre d’environnements, si bien qu’il est impossible de déployer manuellement les bordures.</span><span class="sxs-lookup"><span data-stu-id="8730b-333">Deployments happen more frequently and to more environments so manually deploying borders on impossible.</span></span>

### <a name="azure-builds"></a><span data-ttu-id="8730b-334">Versions Azure</span><span class="sxs-lookup"><span data-stu-id="8730b-334">Azure Builds</span></span>

<span data-ttu-id="8730b-335">Azure DevOps fournit un ensemble d’outils permettant de rendre l’intégration et le déploiement continus plus faciles que jamais.</span><span class="sxs-lookup"><span data-stu-id="8730b-335">Azure DevOps provides a set of tools to make continuous integration and deployment easier than ever.</span></span> <span data-ttu-id="8730b-336">Ces outils se trouvent sous Azure Pipelines.</span><span class="sxs-lookup"><span data-stu-id="8730b-336">These tools are located under Azure Pipelines.</span></span> <span data-ttu-id="8730b-337">La première d’entre elles est Azure builds, qui est un outil permettant d’exécuter des définitions de build basées sur YAML à l’échelle.</span><span class="sxs-lookup"><span data-stu-id="8730b-337">The first of them is Azure Builds, which is a tool for running YAML-based build definitions at scale.</span></span> <span data-ttu-id="8730b-338">Les utilisateurs peuvent apporter leurs propres ordinateurs de build (idéal pour si la build requiert un environnement de configuration méticuleuse) ou utiliser un ordinateur à partir d’un pool actualisé en permanence de machines virtuelles hébergées sur Azure.</span><span class="sxs-lookup"><span data-stu-id="8730b-338">Users can either bring their own build machines (great for if the build requires a meticulously set up environment) or use a machine from a constantly refreshed pool of Azure hosted virtual machines.</span></span> <span data-ttu-id="8730b-339">Ces agents de build hébergés sont préinstallés avec un large éventail d’outils de développement pour non seulement le développement .NET, mais aussi tout du développement de Java à python vers iPhone.</span><span class="sxs-lookup"><span data-stu-id="8730b-339">These hosted build agents come pre-installed with a wide range of development tools for not just .NET development but for everything from Java to Python to iPhone development.</span></span>

<span data-ttu-id="8730b-340">DevOps comprend une large gamme de définitions de build prêtes à l’emploi qui peuvent être personnalisées pour n’importe quelle Build.</span><span class="sxs-lookup"><span data-stu-id="8730b-340">DevOps includes a wide range of out of the box build definitions that can be customized for any build.</span></span> <span data-ttu-id="8730b-341">Les définitions de build sont définies dans un fichier appelé `azure-pipelines.yml` et archivé dans le référentiel afin de pouvoir être gérées avec le code source.</span><span class="sxs-lookup"><span data-stu-id="8730b-341">The build definitions are defined in a file called `azure-pipelines.yml` and checked into the repository so they can be versioned along with the source code.</span></span> <span data-ttu-id="8730b-342">Il est ainsi beaucoup plus facile d’apporter des modifications au pipeline de build dans une branche, car les modifications peuvent être vérifiées uniquement dans cette branche.</span><span class="sxs-lookup"><span data-stu-id="8730b-342">This makes it much easier to make changes to the build pipeline in a branch as the changes can be checked into just that branch.</span></span> <span data-ttu-id="8730b-343">Un exemple `azure-pipelines.yml` de création d’une application web ASP.net sur l’ensemble de l’infrastructure est illustré à la Figure 10-9.</span><span class="sxs-lookup"><span data-stu-id="8730b-343">An example `azure-pipelines.yml` for building an ASP.NET web application on full framework is show in Figure 10-9.</span></span>

```yml
name: $(rev:r)

variables:
  version: 9.2.0.$(Build.BuildNumber)
  solution: Portals.sln
  artifactName: drop
  buildPlatform: any cpu
  buildConfiguration: release
  
pool:
  name: Hosted VS2017
  demands:
  - msbuild
  - visualstudio
  - vstest

steps:
- task: NuGetToolInstaller@0
  displayName: 'Use NuGet 4.4.1'
  inputs:
    versionSpec: 4.4.1

- task: NuGetCommand@2
  displayName: 'NuGet restore'
  inputs:
    restoreSolution: '$(solution)'

- task: VSBuild@1
  displayName: 'Build solution'
  inputs:
    solution: '$(solution)'
    msbuildArgs: '-p:DeployOnBuild=true -p:WebPublishMethod=Package -p:PackageAsSingleFile=true -p:SkipInvalidConfigurations=true -p:PackageLocation="$(build.artifactstagingdirectory)\\"'
    platform: '$(buildPlatform)'
    configuration: '$(buildConfiguration)'

- task: VSTest@2
  displayName: 'Test Assemblies'
  inputs:
    testAssemblyVer2: |
     **\$(buildConfiguration)\**\*test*.dll
     !**\obj\**
     !**\*testadapter.dll
    platform: '$(buildPlatform)'
    configuration: '$(buildConfiguration)'

- task: CopyFiles@2
  displayName: 'Copy UI Test Files to: $(build.artifactstagingdirectory)'
  inputs:
    SourceFolder: UITests
    TargetFolder: '$(build.artifactstagingdirectory)/uitests'

- task: PublishBuildArtifacts@1
  displayName: 'Publish Artifact'
  inputs:
    PathtoPublish: '$(build.artifactstagingdirectory)'
    ArtifactName: '$(artifactName)'
  condition: succeededOrFailed()
```

<span data-ttu-id="8730b-344">**Figure 10-9** : exemple Azure-pipelines. yml</span><span class="sxs-lookup"><span data-stu-id="8730b-344">**Figure 10-9** - A sample azure-pipelines.yml</span></span>

<span data-ttu-id="8730b-345">Cette définition de build utilise un certain nombre de tâches intégrées qui rendent la création de builds aussi simple que la création d’un ensemble LEGO (plus simple que le géant Millennium Falcon).</span><span class="sxs-lookup"><span data-stu-id="8730b-345">This build definition uses a number of built-in tasks that make creating builds as simple as building a Lego set (simpler than the giant Millennium Falcon).</span></span> <span data-ttu-id="8730b-346">Par exemple, la tâche NuGet restaure les packages NuGet, tandis que la tâche VSBuild appelle les outils de génération Visual Studio pour effectuer la compilation réelle.</span><span class="sxs-lookup"><span data-stu-id="8730b-346">For instance, the NuGet task restores NuGet packages, while the VSBuild task calls the Visual Studio build tools to perform the actual compilation.</span></span> <span data-ttu-id="8730b-347">Des centaines de tâches différentes sont disponibles dans Azure DevOps, avec des milliers d’autres qui sont gérés par la communauté.</span><span class="sxs-lookup"><span data-stu-id="8730b-347">There are hundreds of different tasks available in Azure DevOps, with thousands more that are maintained by the community.</span></span> <span data-ttu-id="8730b-348">Il est probable que, quelle que soit la tâche de génération que vous souhaitez exécuter, quelqu’un en ait déjà créé un.</span><span class="sxs-lookup"><span data-stu-id="8730b-348">It's likely that no matter what build tasks you're looking to run, somebody has built one already.</span></span>

<span data-ttu-id="8730b-349">Les builds peuvent être déclenchées manuellement, par un archivage, selon une planification ou par l’achèvement d’une autre Build.</span><span class="sxs-lookup"><span data-stu-id="8730b-349">Builds can be triggered manually, by a check-in, on a schedule, or by the completion of another build.</span></span> <span data-ttu-id="8730b-350">Dans la plupart des cas, la création à chaque archivage est souhaitable.</span><span class="sxs-lookup"><span data-stu-id="8730b-350">In most cases, building on every check-in is desirable.</span></span> <span data-ttu-id="8730b-351">Les builds peuvent être filtrées de sorte que les différentes builds s’exécutent sur différentes parties du référentiel ou sur différentes branches.</span><span class="sxs-lookup"><span data-stu-id="8730b-351">Builds can be filtered so that different builds run against different parts of the repository or against different branches.</span></span> <span data-ttu-id="8730b-352">Cela permet des scénarios tels que l’exécution de builds rapides avec un test réduit sur les demandes de tirage et l’exécution d’une suite de régression complète sur le Trunk de nuit.</span><span class="sxs-lookup"><span data-stu-id="8730b-352">This allows for scenarios like running fast builds with reduced testing on pull requests and running a full regression suite against the trunk on a nightly basis.</span></span>

<span data-ttu-id="8730b-353">Le résultat final d’une build est une collection de fichiers connus sous le nom d’artefacts de Build.</span><span class="sxs-lookup"><span data-stu-id="8730b-353">The end result of a build is a collection of files known as build artifacts.</span></span> <span data-ttu-id="8730b-354">Ces artefacts peuvent être passés à l’étape suivante du processus de génération ou ajoutés à un flux d’artefact Azure, de sorte qu’ils peuvent être utilisés par d’autres builds.</span><span class="sxs-lookup"><span data-stu-id="8730b-354">These artifacts can be passed along to the next step in the build process or added to an Azure Artifact feed, so they can be consumed by other builds.</span></span>

### <a name="azure-devops-releases"></a><span data-ttu-id="8730b-355">Versions d’Azure DevOps</span><span class="sxs-lookup"><span data-stu-id="8730b-355">Azure DevOps releases</span></span>

<span data-ttu-id="8730b-356">Les builds s’occupent de la compilation du logiciel dans un package livrable, mais les artefacts doivent toujours être envoyés à un environnement de test pour effectuer une livraison continue.</span><span class="sxs-lookup"><span data-stu-id="8730b-356">Builds take care of compiling the software into a shippable package, but the artifacts still need to be pushed out to a testing environment to complete continuous delivery.</span></span> <span data-ttu-id="8730b-357">Pour ce faire, Azure DevOps utilise un outil distinct appelé releases.</span><span class="sxs-lookup"><span data-stu-id="8730b-357">For this, Azure DevOps uses a separate tool called Releases.</span></span> <span data-ttu-id="8730b-358">L’outil releases utilise la bibliothèque des tâches qui étaient disponibles pour la génération, mais introduit un concept de « étapes ».</span><span class="sxs-lookup"><span data-stu-id="8730b-358">The Releases tool makes use of the same tasks' library that were available to the Build but introduce a concept of "stages".</span></span> <span data-ttu-id="8730b-359">Une étape est un environnement isolé dans lequel le package est installé.</span><span class="sxs-lookup"><span data-stu-id="8730b-359">A stage is an isolated environment into which the package is installed.</span></span> <span data-ttu-id="8730b-360">Par exemple, un produit peut utiliser un environnement de développement, d’assurance qualité et de production.</span><span class="sxs-lookup"><span data-stu-id="8730b-360">For instance, a product might make use of a development, a QA, and a production environment.</span></span> <span data-ttu-id="8730b-361">Le code est distribué en permanence dans l’environnement de développement dans lequel les tests automatisés peuvent être exécutés sur ce dernier.</span><span class="sxs-lookup"><span data-stu-id="8730b-361">Code is continuously delivered into the development environment where automated tests can be run against it.</span></span> <span data-ttu-id="8730b-362">Une fois que ces tests réussissent, la publication passe dans l’environnement AQ pour les tests manuels.</span><span class="sxs-lookup"><span data-stu-id="8730b-362">Once those tests pass the release moves onto the QA environment for manual testing.</span></span> <span data-ttu-id="8730b-363">Enfin, le code est poussé vers la production où il est visible par tous.</span><span class="sxs-lookup"><span data-stu-id="8730b-363">Finally, the code is pushed to production where it's visible to everybody.</span></span>

![Figure 10-10 exemple de pipeline de mise en production avec phases de développement, d’assurance qualité et de production](./media/release-pipeline.png)

<span data-ttu-id="8730b-365">**Figure 10-10** -pipeline de mise en version</span><span class="sxs-lookup"><span data-stu-id="8730b-365">**Figure 10-10** - Release pipeline</span></span>

<span data-ttu-id="8730b-366">Chaque étape de la build peut être automatiquement déclenchée par la fin de la phase précédente.</span><span class="sxs-lookup"><span data-stu-id="8730b-366">Each stage in the build can be automatically triggered by the completion of the previous phase.</span></span> <span data-ttu-id="8730b-367">Toutefois, dans de nombreux cas, cela n’est pas souhaitable.</span><span class="sxs-lookup"><span data-stu-id="8730b-367">In many cases, however, this isn't desirable.</span></span> <span data-ttu-id="8730b-368">Le déplacement du code en production peut nécessiter l’approbation d’une personne.</span><span class="sxs-lookup"><span data-stu-id="8730b-368">Moving code into production might require approval from somebody.</span></span> <span data-ttu-id="8730b-369">L’outil releases prend en charge cette opération en autorisant les approbateurs à chaque étape du pipeline de mise en production.</span><span class="sxs-lookup"><span data-stu-id="8730b-369">The Releases tool supports this by allowing approvers at each step of the release pipeline.</span></span> <span data-ttu-id="8730b-370">Des règles peuvent être définies de sorte qu’une personne spécifique ou un groupe de personnes doive se déconnecter d’une version avant de passer en production.</span><span class="sxs-lookup"><span data-stu-id="8730b-370">Rules can be set up such that a specific person or group of people must sign off on a release before it makes into production.</span></span> <span data-ttu-id="8730b-371">Ces portes permettent d’effectuer des contrôles de qualité manuels et également de respecter les exigences réglementaires liées au contrôle des opérations de production.</span><span class="sxs-lookup"><span data-stu-id="8730b-371">These gates allow for manual quality checks and also for compliance with any regulatory requirements related to control what goes into production.</span></span>

### <a name="everybody-gets-a-build-pipeline"></a><span data-ttu-id="8730b-372">Tout le monde obtient un pipeline de build</span><span class="sxs-lookup"><span data-stu-id="8730b-372">Everybody gets a build pipeline</span></span>

<span data-ttu-id="8730b-373">Il n’y a aucun coût à la configuration de plusieurs pipelines de génération. il est donc avantageux d’avoir au moins un pipeline de build par Microservice.</span><span class="sxs-lookup"><span data-stu-id="8730b-373">There's no cost to configuring many build pipelines, so it's advantageous to have at least one build pipeline per microservice.</span></span> <span data-ttu-id="8730b-374">Dans l’idéal, les microservices peuvent être déployés indépendamment dans n’importe quel environnement, de sorte que chacun d’eux puisse être libéré via son propre pipeline sans que la masse de code non lié soit parfaite.</span><span class="sxs-lookup"><span data-stu-id="8730b-374">Ideally, microservices are independently deployable to any environment so having each one able to be released via its own pipeline without releasing a mass of unrelated code is perfect.</span></span> <span data-ttu-id="8730b-375">Chaque pipeline peut avoir son propre ensemble d’approbations autorisant des variations dans le processus de génération pour chaque service.</span><span class="sxs-lookup"><span data-stu-id="8730b-375">Each pipeline can have its own set of approvals allowing for variations in build process for each service.</span></span>

### <a name="versioning-releases"></a><span data-ttu-id="8730b-376">Versions de versioning</span><span class="sxs-lookup"><span data-stu-id="8730b-376">Versioning releases</span></span>

<span data-ttu-id="8730b-377">L’un des inconvénients de l’utilisation de la fonctionnalité de versions est qu’elle ne peut pas être définie dans un `azure-pipelines.yml` fichier archivé.</span><span class="sxs-lookup"><span data-stu-id="8730b-377">One drawback to using the Releases functionality is that it can't be defined in a checked-in `azure-pipelines.yml` file.</span></span> <span data-ttu-id="8730b-378">Il existe de nombreuses raisons pour lesquelles vous pouvez souhaiter utiliser des définitions de version par branche pour inclure un squelette de version dans votre modèle de projet.</span><span class="sxs-lookup"><span data-stu-id="8730b-378">There are many reasons you might want to do that from having per-branch release definitions to including a release skeleton in your project template.</span></span> <span data-ttu-id="8730b-379">Heureusement, le travail est en cours de développement d’une partie de la prise en charge des étapes dans le composant Build.</span><span class="sxs-lookup"><span data-stu-id="8730b-379">Fortunately, work is ongoing to shift some of the stages support into the Build component.</span></span> <span data-ttu-id="8730b-380">C’est ce qu’on appelle la version à plusieurs étapes et la [première version est désormais disponible](https://devblogs.microsoft.com/devops/whats-new-with-azure-pipelines/)!</span><span class="sxs-lookup"><span data-stu-id="8730b-380">This will be known as multi-stage build and the [first version is available now](https://devblogs.microsoft.com/devops/whats-new-with-azure-pipelines/)!</span></span>

>[!div class="step-by-step"]
><span data-ttu-id="8730b-381">[Précédent](azure-security.md) 
> [Suivant](feature-flags.md)</span><span class="sxs-lookup"><span data-stu-id="8730b-381">[Previous](azure-security.md)
[Next](feature-flags.md)</span></span>
