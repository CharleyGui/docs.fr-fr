---
title: Liaisons et transports WCF-gRPC pour les développeurs WCF
description: Découvrez comment les différents transports et liaisons WCF sont comparés à gRPC.
author: markrendle
ms.date: 09/02/2019
ms.openlocfilehash: 50bac73ee68d7156fc5fed55dfffb3ba7f2de924
ms.sourcegitcommit: 55f438d4d00a34b9aca9eedaac3f85590bb11565
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 09/23/2019
ms.locfileid: "71184056"
---
# <a name="wcf-bindings-and-transports"></a><span data-ttu-id="aaaae-103">Liaisons et transports WCF</span><span class="sxs-lookup"><span data-stu-id="aaaae-103">WCF bindings and transports</span></span>

[!INCLUDE [book-preview](../../../includes/book-preview.md)]

<span data-ttu-id="aaaae-104">WCF possède un grand nombre de *liaisons* intégrées différentes qui spécifient des protocoles réseau, des formats de transmission et d’autres détails d’implémentation.</span><span class="sxs-lookup"><span data-stu-id="aaaae-104">WCF has lots of different built-in *bindings* that specify different network protocols, wire formats, and other implementation details.</span></span> <span data-ttu-id="aaaae-105">gRPC possède un seul protocole réseau et un seul format de câble (techniquement, le format de câble *peut* être personnalisé, mais cela n’entre pas dans le cadre de cet ouvrage).</span><span class="sxs-lookup"><span data-stu-id="aaaae-105">gRPC effectively has just one network protocol and one wire format (technically the wire format *may* be customized, but that is beyond the scope of this book).</span></span> <span data-ttu-id="aaaae-106">Vous découvrirez probablement que gRPC offre la meilleure solution dans la plupart des cas.</span><span class="sxs-lookup"><span data-stu-id="aaaae-106">You are likely to discover that gRPC offers the best solution in most cases.</span></span> <span data-ttu-id="aaaae-107">Ce qui suit est une brève discussion sur les liaisons WCF les plus pertinentes et sur leur comparaison avec leur équivalent dans gRPC.</span><span class="sxs-lookup"><span data-stu-id="aaaae-107">What follows is a short discussion about the most relevant WCF bindings and how they compare to their equivalent in gRPC.</span></span>

## <a name="nettcp"></a><span data-ttu-id="aaaae-108">NetTCP</span><span class="sxs-lookup"><span data-stu-id="aaaae-108">NetTCP</span></span>

<span data-ttu-id="aaaae-109">La liaison NetTCP de WCF permet les connexions persistantes, les petits messages et la messagerie bidirectionnelle, mais fonctionne uniquement entre les clients et les serveurs .NET.</span><span class="sxs-lookup"><span data-stu-id="aaaae-109">WCF's NetTCP binding allows for persistent connections, small messages, and two-way messaging but only works between .NET clients and servers.</span></span> <span data-ttu-id="aaaae-110">gRPC offre les mêmes fonctionnalités, mais est pris en charge sur plusieurs plateformes et langages de programmation.</span><span class="sxs-lookup"><span data-stu-id="aaaae-110">gRPC allows the same functionality but is supported across multiple programming languages and platforms.</span></span> <span data-ttu-id="aaaae-111">gRPC possède un grand nombre des fonctionnalités de la liaison WCF NetTCP, bien qu’elles ne soient pas toujours implémentées de la même façon.</span><span class="sxs-lookup"><span data-stu-id="aaaae-111">gRPC has many of the features of WCF NetTCP binding, although not always implemented in the same way.</span></span> <span data-ttu-id="aaaae-112">Par exemple, dans WCF, le chiffrement est contrôlé par la configuration et géré dans le Framework.</span><span class="sxs-lookup"><span data-stu-id="aaaae-112">For example, in WCF, encryption is controlled through configuration and handled in the framework.</span></span> <span data-ttu-id="aaaae-113">Dans gRPC, le chiffrement est effectué au niveau de la connexion à l’aide de HTTP/2 sur TLS.</span><span class="sxs-lookup"><span data-stu-id="aaaae-113">In gRPC, encryption is achieved at the connection level using HTTP/2 over TLS.</span></span>

## <a name="http"></a><span data-ttu-id="aaaae-114">HTTP</span><span class="sxs-lookup"><span data-stu-id="aaaae-114">HTTP</span></span>

<span data-ttu-id="aaaae-115">Le BasicHttpBinding de WCF est généralement basé sur du texte, avec SOAP comme format de câble, et est très lent par les normes des applications modernes en réseau.</span><span class="sxs-lookup"><span data-stu-id="aaaae-115">WCF's BasicHttpBinding is generally text based, using SOAP as the wire format, and is very slow by the standards of modern networked applications.</span></span> <span data-ttu-id="aaaae-116">Elle est utilisée uniquement pour fournir une interopérabilité multiplateforme, ou une connexion sur une infrastructure Internet.</span><span class="sxs-lookup"><span data-stu-id="aaaae-116">It's only really used to provide cross-platform interoperability, or connection over internet infrastructure.</span></span> <span data-ttu-id="aaaae-117">L’équivalent dans gRPC, car il utilise HTTP/2 comme couche de transport sous-jacente avec le format de transmission binaire Protobuf pour les messages, peut offrir des performances de niveau de service NetTCP, mais avec une interopérabilité multiplateforme complète avec tous les langages de programmation modernes et infrastructures.</span><span class="sxs-lookup"><span data-stu-id="aaaae-117">The equivalent in gRPC—because it uses HTTP/2 as the underlying transport layer with the binary Protobuf wire format for messages—can offer NetTCP service level performance but with full cross-platform interoperability with all modern programming languages and frameworks.</span></span>

## <a name="named-pipes"></a><span data-ttu-id="aaaae-118">Canaux nommés</span><span class="sxs-lookup"><span data-stu-id="aaaae-118">Named Pipes</span></span>

<span data-ttu-id="aaaae-119">WCF a fourni une liaison de canaux nommés pour la communication entre les processus sur le même ordinateur physique.</span><span class="sxs-lookup"><span data-stu-id="aaaae-119">WCF provided a Named Pipes binding for communication between processes on the same physical machine.</span></span> <span data-ttu-id="aaaae-120">Les canaux nommés ne sont pas pris en charge par la première version de ASP.NET Core gRPC.</span><span class="sxs-lookup"><span data-stu-id="aaaae-120">Named Pipes are not supported by the first release of ASP.NET Core gRPC.</span></span>

<span data-ttu-id="aaaae-121">En dehors de Windows, les fonctionnalités fournies par les canaux nommés sont généralement fournies par les sockets de domaine UNIX.</span><span class="sxs-lookup"><span data-stu-id="aaaae-121">Outside Windows, the functionality provided by Named Pipes is instead generally provided by Unix Domain Sockets.</span></span> <span data-ttu-id="aaaae-122">Ces sockets sont des sockets TCP standard représentés par des adresses de système de fichiers, par `/var/run/docker.sock`exemple, que gRPC peut utiliser en tant que client et serveur.</span><span class="sxs-lookup"><span data-stu-id="aaaae-122">These sockets are regular TCP-like sockets represented with file-system addresses, such as `/var/run/docker.sock`, which gRPC can work with as both client and server.</span></span> <span data-ttu-id="aaaae-123">Si vous devez utiliser la fonctionnalité de style canaux nommés sur Windows, la prochaine mise à jour vers Windows 10 et Windows Server, dans 2019 4e trimestre, ajoute des sockets de domaine en tant que fonctionnalité Native entièrement prise en charge dans Windows.</span><span class="sxs-lookup"><span data-stu-id="aaaae-123">If you need to use Named Pipes style functionality on Windows, the next update to Windows 10 and Windows Server, in 2019 Q4, adds Domain Sockets as a fully supported native feature within Windows.</span></span> <span data-ttu-id="aaaae-124">Par conséquent, les services gRPC s’exécutant sur ces versions et versions ultérieures de Windows (ou sur Linux) peuvent utiliser des sockets de domaine plutôt que des canaux nommés.</span><span class="sxs-lookup"><span data-stu-id="aaaae-124">So, gRPC services running on these and later versions of Windows (or on Linux) can use Domain Sockets instead of Named Pipes.</span></span> <span data-ttu-id="aaaae-125">Toutefois, si votre équipe ne parvient pas à effectuer la mise à jour vers la dernière version de Windows, vous devez utiliser des sockets TCP localhost.</span><span class="sxs-lookup"><span data-stu-id="aaaae-125">However, if your team is unable to update to the latest version of Windows, then you'll need to use localhost TCP sockets.</span></span> <span data-ttu-id="aaaae-126">Les problèmes de sécurité liés à l’utilisation des sockets TCP locaux peuvent être résolus par l’utilisation de l’authentification par certificat entre le client et le serveur.</span><span class="sxs-lookup"><span data-stu-id="aaaae-126">Security concerns about using local TCP sockets can be addressed with the use of certificate authentication between client and server.</span></span>

## <a name="msmq"></a><span data-ttu-id="aaaae-127">MSMQ</span><span class="sxs-lookup"><span data-stu-id="aaaae-127">MSMQ</span></span>

<span data-ttu-id="aaaae-128">MSMQ est une file d’attente de messages Windows propriétaire.</span><span class="sxs-lookup"><span data-stu-id="aaaae-128">MSMQ is a proprietary Windows message queue.</span></span> <span data-ttu-id="aaaae-129">La liaison de WCF à MSMQ active les demandes « déclencher et oublier » de clients qui peuvent être traitées à tout moment à l’avenir.</span><span class="sxs-lookup"><span data-stu-id="aaaae-129">WCF's binding to MSMQ enables "fire and forget" requests from clients that may be processed at any time in the future.</span></span> <span data-ttu-id="aaaae-130">gRPC ne fournit pas en mode natif les fonctionnalités de file d’attente de messages.</span><span class="sxs-lookup"><span data-stu-id="aaaae-130">gRPC doesn't natively provide any message queue functionality.</span></span> <span data-ttu-id="aaaae-131">La meilleure solution consiste à utiliser directement un système de messagerie comme Azure Service Bus, RabbitMQ ou Kafka.</span><span class="sxs-lookup"><span data-stu-id="aaaae-131">The best alternative would be to directly use a messaging system like Azure Service Bus, RabbitMQ, or Kafka.</span></span> <span data-ttu-id="aaaae-132">Cela peut être implémenté avec le client qui place des messages directement dans la file d’attente, ou un service de diffusion en continu client gRPC qui met en file d’attente les messages.</span><span class="sxs-lookup"><span data-stu-id="aaaae-132">This could be implemented with the client placing messages directly onto the queue, or a gRPC client streaming service that enqueues the messages.</span></span>

## <a name="webhttpbinding"></a><span data-ttu-id="aaaae-133">WebHttpBinding</span><span class="sxs-lookup"><span data-stu-id="aaaae-133">WebHttpBinding</span></span>

<span data-ttu-id="aaaae-134">WebHttpBinding (également appelé WCF REST), avec les `WebGet` attributs et `WebInvoke` , vous permettait de développer des API ReSTful qui pourraient parler JSON à un moment où ce était moins courant.</span><span class="sxs-lookup"><span data-stu-id="aaaae-134">The WebHttpBinding (also known as WCF ReST), with the `WebGet` and `WebInvoke` attributes, enabled you to develop ReSTful APIs that could speak JSON at a time when this was less common than now.</span></span> <span data-ttu-id="aaaae-135">Par conséquent, si vous avez une API RESTful générée avec WCF REST, envisagez de la migrer vers une application API Web standard ASP.NET Core MVC, qui fournirait des fonctionnalités équivalentes, plutôt que de les convertir en gRPC.</span><span class="sxs-lookup"><span data-stu-id="aaaae-135">Therefore, if you have a RESTful API built with WCF REST, consider migrating it to a regular ASP.NET Core MVC Web API application, which would provide equivalent functionality, rather than converting to gRPC.</span></span>

>[!div class="step-by-step"]
><span data-ttu-id="aaaae-136">[Précédent](wcf-endpoints-grpc-methods.md)
>[Suivant](rpc-types.md)</span><span class="sxs-lookup"><span data-stu-id="aaaae-136">[Previous](wcf-endpoints-grpc-methods.md)
[Next](rpc-types.md)</span></span>
