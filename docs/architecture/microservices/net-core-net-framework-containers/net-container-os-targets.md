---
title: Quel système d’exploitation cibler avec les conteneurs .NET
description: Architecture de microservices .NET pour les applications .NET en conteneur | Quel système d’exploitation cibler avec les conteneurs .NET
ms.date: 01/13/2021
ms.openlocfilehash: 1b914d9afca9ade37f13e639f73001b91f338d26
ms.sourcegitcommit: a4cecb7389f02c27e412b743f9189bd2a6dea4d6
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/14/2021
ms.locfileid: "98187979"
---
# <a name="what-os-to-target-with-net-containers"></a><span data-ttu-id="a15d6-103">Quel système d’exploitation cibler avec les conteneurs .NET</span><span class="sxs-lookup"><span data-stu-id="a15d6-103">What OS to target with .NET containers</span></span>

<span data-ttu-id="a15d6-104">Étant donné la diversité des systèmes d’exploitation pris en charge par l’arrimeur et les différences entre .NET Framework et .NET 5, vous devez cibler un système d’exploitation spécifique et des versions spécifiques en fonction de l’infrastructure que vous utilisez.</span><span class="sxs-lookup"><span data-stu-id="a15d6-104">Given the diversity of operating systems supported by Docker and the differences between .NET Framework and .NET 5, you should target a specific OS and specific versions depending on the framework you are using.</span></span>

<span data-ttu-id="a15d6-105">Pour Windows, vous pouvez utiliser Windows Server Core ou Windows Nano Server.</span><span class="sxs-lookup"><span data-stu-id="a15d6-105">For Windows, you can use Windows Server Core or Windows Nano Server.</span></span> <span data-ttu-id="a15d6-106">Ces versions de Windows fournissent des caractéristiques différentes (IIS dans Windows Server Core par rapport à un serveur Web auto-hébergé comme Kestrel dans nano Server) qui peut être nécessaire par .NET Framework ou .NET 5, respectivement.</span><span class="sxs-lookup"><span data-stu-id="a15d6-106">These Windows versions provide different characteristics (IIS in Windows Server Core versus a self-hosted web server like Kestrel in Nano Server) that might be needed by .NET Framework or .NET 5, respectively.</span></span>

<span data-ttu-id="a15d6-107">Pour Linux, plusieurs distributions sont disponibles et prises en charge dans les images .NET Docker officielles (comme Debian).</span><span class="sxs-lookup"><span data-stu-id="a15d6-107">For Linux, multiple distros are available and supported in official .NET Docker images (like Debian).</span></span>

<span data-ttu-id="a15d6-108">Dans la figure 3-1, vous pouvez voir la version du système d’exploitation possible en fonction du .NET Framework utilisé.</span><span class="sxs-lookup"><span data-stu-id="a15d6-108">In Figure 3-1, you can see the possible OS version depending on the .NET framework used.</span></span>

![Diagramme montrant le système d’exploitation à utiliser avec les conteneurs .NET.](./media/net-container-os-targets/targeting-operating-systems.png)

<span data-ttu-id="a15d6-110">**Figure 3-1.**</span><span class="sxs-lookup"><span data-stu-id="a15d6-110">**Figure 3-1.**</span></span> <span data-ttu-id="a15d6-111">systèmes d’exploitation à cibler en fonction des versions de .NET Framework</span><span class="sxs-lookup"><span data-stu-id="a15d6-111">Operating systems to target depending on versions of the .NET framework</span></span>

<span data-ttu-id="a15d6-112">Lors du déploiement d’applications .NET Framework héritées, vous devez cibler Windows Server Core, compatible avec les applications héritées et IIS, mais avec une image plus grande.</span><span class="sxs-lookup"><span data-stu-id="a15d6-112">When deploying legacy .NET Framework applications you have to target Windows Server Core, compatible with legacy apps and IIS, but it has a larger image.</span></span> <span data-ttu-id="a15d6-113">Lors du déploiement d’applications .NET 5, vous pouvez cibler Windows nano Server, qui est optimisé pour le Cloud, utilise Kestrel et est plus petit et démarre plus rapidement.</span><span class="sxs-lookup"><span data-stu-id="a15d6-113">When deploying .NET 5 applications, you can target Windows Nano Server, which is cloud optimized, uses Kestrel and is smaller and starts faster.</span></span> <span data-ttu-id="a15d6-114">Vous pouvez également cibler Linux, en prenant en charge Debian, Alpine et d’autres.</span><span class="sxs-lookup"><span data-stu-id="a15d6-114">You can also target Linux, supporting Debian, Alpine, and others.</span></span> <span data-ttu-id="a15d6-115">Utilise également Kestrel, est plus petit et démarre plus rapidement.</span><span class="sxs-lookup"><span data-stu-id="a15d6-115">Also uses Kestrel, is smaller, and starts faster.</span></span>

<span data-ttu-id="a15d6-116">Vous pouvez aussi créer votre propre image Docker si souhaitez utiliser une autre distribution Linux ou une image contenant des versions non fournies par Microsoft.</span><span class="sxs-lookup"><span data-stu-id="a15d6-116">You can also create your own Docker image in cases where you want to use a different Linux distro or where you want an image with versions not provided by Microsoft.</span></span> <span data-ttu-id="a15d6-117">Par exemple, vous pouvez créer une image avec ASP.NET Core s’exécutant sur le .NET Framework classique et Windows Server Core, ce qui n’est pas un scénario très courant pour Docker.</span><span class="sxs-lookup"><span data-stu-id="a15d6-117">For example, you might create an image with ASP.NET Core running on the traditional .NET Framework and Windows Server Core, which is a not-so-common scenario for Docker.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="a15d6-118">Lorsque vous utilisez des images Windows Server Core, vous pouvez constater que certaines dll sont manquantes, par rapport aux images Windows complètes.</span><span class="sxs-lookup"><span data-stu-id="a15d6-118">When using Windows Server Core images, you might find that some DLLs are missing, when compared to full Windows images.</span></span> <span data-ttu-id="a15d6-119">Vous pouvez peut-être résoudre ce problème en créant une image Server Core personnalisée, en ajoutant les fichiers manquants au moment de la génération de l’image, comme indiqué dans ce [Commentaire GitHub](https://github.com/microsoft/dotnet-framework-docker/issues/299#issuecomment-511537448).</span><span class="sxs-lookup"><span data-stu-id="a15d6-119">You might be able to solve this problem by creating a custom Server Core image, adding the missing files at image build time, as mentioned in this [GitHub comment](https://github.com/microsoft/dotnet-framework-docker/issues/299#issuecomment-511537448).</span></span>

<span data-ttu-id="a15d6-120">Au moment d’ajouter le nom de l’image à votre fichier Dockerfile, vous pouvez sélectionner le système d’exploitation et la version en fonction de la balise que vous utilisez, comme dans les exemples suivants :</span><span class="sxs-lookup"><span data-stu-id="a15d6-120">When you add the image name to your Dockerfile file, you can select the operating system and version depending on the tag you use, as in the following examples:</span></span>

| <span data-ttu-id="a15d6-121">Image</span><span class="sxs-lookup"><span data-stu-id="a15d6-121">Image</span></span> | <span data-ttu-id="a15d6-122">Commentaires</span><span class="sxs-lookup"><span data-stu-id="a15d6-122">Comments</span></span> |
|-------|----------|
| <span data-ttu-id="a15d6-123">mcr.microsoft.com/dotnet/runtime:5.0</span><span class="sxs-lookup"><span data-stu-id="a15d6-123">mcr.microsoft.com/dotnet/runtime:5.0</span></span> | <span data-ttu-id="a15d6-124">Architecture multi-architecture de .NET 5 : prend en charge Linux et Windows nano Server en fonction de l’hôte de l’ordinateur de la station d’accueil.</span><span class="sxs-lookup"><span data-stu-id="a15d6-124">.NET 5 multi-architecture: Supports Linux and Windows Nano Server depending on the Docker host.</span></span> |
| <span data-ttu-id="a15d6-125">mcr.microsoft.com/dotnet/aspnet:5.0</span><span class="sxs-lookup"><span data-stu-id="a15d6-125">mcr.microsoft.com/dotnet/aspnet:5.0</span></span> | <span data-ttu-id="a15d6-126">Architecture multi-architecture ASP.NET Core 5,0 : prend en charge Linux et Windows nano Server en fonction de l’hôte de l’ordinateur de la station d’accueil.</span><span class="sxs-lookup"><span data-stu-id="a15d6-126">ASP.NET Core 5.0 multi-architecture: Supports Linux and Windows Nano Server depending on the Docker host.</span></span> <br/> <span data-ttu-id="a15d6-127">L’image aspnetcore a quelques optimisations pour ASP.NET Core.</span><span class="sxs-lookup"><span data-stu-id="a15d6-127">The aspnetcore image has a few optimizations for ASP.NET Core.</span></span> |
| <span data-ttu-id="a15d6-128">mcr.microsoft.com/dotnet/aspnet:5.0-buster-slim</span><span class="sxs-lookup"><span data-stu-id="a15d6-128">mcr.microsoft.com/dotnet/aspnet:5.0-buster-slim</span></span> | <span data-ttu-id="a15d6-129">Runtime .NET 5 uniquement sur Linux Debian distribution</span><span class="sxs-lookup"><span data-stu-id="a15d6-129">.NET 5 runtime-only on Linux Debian distro</span></span> |
| <span data-ttu-id="a15d6-130">mcr.microsoft.com/dotnet/aspnet:5.0-nanoserver-1809</span><span class="sxs-lookup"><span data-stu-id="a15d6-130">mcr.microsoft.com/dotnet/aspnet:5.0-nanoserver-1809</span></span> | <span data-ttu-id="a15d6-131">Runtime .NET 5 uniquement sur Windows nano Server (Windows Server version 1809)</span><span class="sxs-lookup"><span data-stu-id="a15d6-131">.NET 5 runtime-only on Windows Nano Server (Windows Server version 1809)</span></span> |

## <a name="additional-resources"></a><span data-ttu-id="a15d6-132">Ressources supplémentaires</span><span class="sxs-lookup"><span data-stu-id="a15d6-132">Additional resources</span></span>

- <span data-ttu-id="a15d6-133">**BitmapDecoder échoue en raison d’un WindowsCodecsExt.dll manquant (problème GitHub)**</span><span class="sxs-lookup"><span data-stu-id="a15d6-133">**BitmapDecoder fails due to missing WindowsCodecsExt.dll (GitHub issue)**</span></span>  
  <https://github.com/microsoft/dotnet-framework-docker/issues/299>

> [!div class="step-by-step"]
> <span data-ttu-id="a15d6-134">[Précédent](container-framework-choice-factors.md) 
>  [Suivant](official-net-docker-images.md)</span><span class="sxs-lookup"><span data-stu-id="a15d6-134">[Previous](container-framework-choice-factors.md)
[Next](official-net-docker-images.md)</span></span>
