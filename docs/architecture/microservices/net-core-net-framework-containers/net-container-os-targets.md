---
title: Quel système d’exploitation cibler avec les conteneurs .NET
description: Architecture de microservices .NET pour les applications .NET en conteneur | Quel système d’exploitation cibler avec les conteneurs .NET
ms.date: 01/30/2020
ms.openlocfilehash: a09e3981ece478a9795c0f27acc98d604864cdd5
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 03/14/2020
ms.locfileid: "77501859"
---
# <a name="what-os-to-target-with-net-containers"></a><span data-ttu-id="1e54b-103">Quel système d’exploitation cibler avec les conteneurs .NET</span><span class="sxs-lookup"><span data-stu-id="1e54b-103">What OS to target with .NET containers</span></span>

<span data-ttu-id="1e54b-104">Compte tenu de la diversité des systèmes d’exploitation pris en charge par Docker et des différences entre .NET Framework et .NET Core, vous avez tout intérêt à cibler le système d’exploitation et la version en fonction du framework que vous utilisez.</span><span class="sxs-lookup"><span data-stu-id="1e54b-104">Given the diversity of operating systems supported by Docker and the differences between .NET Framework and .NET Core, you should target a specific OS and specific versions depending on the framework you are using.</span></span>

<span data-ttu-id="1e54b-105">Pour Windows, vous pouvez utiliser Windows Server Core ou Windows Nano Server.</span><span class="sxs-lookup"><span data-stu-id="1e54b-105">For Windows, you can use Windows Server Core or Windows Nano Server.</span></span> <span data-ttu-id="1e54b-106">Ces versions de Windows offrent des caractéristiques différentes (IIS dans Windows Server Core et un serveur web auto-hébergé comme Kestrel dans Nano Server) qui peuvent être nécessaires à .NET Framework ou .NET Core, respectivement.</span><span class="sxs-lookup"><span data-stu-id="1e54b-106">These Windows versions provide different characteristics (IIS in Windows Server Core versus a self-hosted web server like Kestrel in Nano Server) that might be needed by .NET Framework or .NET Core, respectively.</span></span>

<span data-ttu-id="1e54b-107">Pour Linux, plusieurs distributions sont disponibles et prises en charge dans les images .NET Docker officielles (comme Debian).</span><span class="sxs-lookup"><span data-stu-id="1e54b-107">For Linux, multiple distros are available and supported in official .NET Docker images (like Debian).</span></span>

<span data-ttu-id="1e54b-108">La figure 3-1 indique la version du système d’exploitation à utiliser en fonction de la version du .NET Framework utilisée.</span><span class="sxs-lookup"><span data-stu-id="1e54b-108">In Figure 3-1 you can see the possible OS version depending on the .NET framework used.</span></span>

![Diagramme montrant ce qu’OS utiliser avec quels conteneurs .NET.](./media/net-container-os-targets/targeting-operating-systems.png)

<span data-ttu-id="1e54b-110">**Figure 3-1.**</span><span class="sxs-lookup"><span data-stu-id="1e54b-110">**Figure 3-1.**</span></span> <span data-ttu-id="1e54b-111">systèmes d’exploitation à cibler en fonction des versions de .NET Framework</span><span class="sxs-lookup"><span data-stu-id="1e54b-111">Operating systems to target depending on versions of the .NET framework</span></span>

<span data-ttu-id="1e54b-112">Lors du déploiement d’applications cadres .NET héritées, vous devez cibler Windows Server Core, compatible avec les applications existantes et IIS, mais il a une image plus grande.</span><span class="sxs-lookup"><span data-stu-id="1e54b-112">When deploying legacy .NET Framework applications you have to target Windows Server Core, compatible with legacy apps and IIS, but it has a larger image.</span></span> <span data-ttu-id="1e54b-113">Lorsque vous déployez des applications .NET Core, vous pouvez cibler Windows Nano Server, optimisé pour le cloud, qui utilise Kestrel, est plus petit et démarre plus rapidement.</span><span class="sxs-lookup"><span data-stu-id="1e54b-113">When deploying .NET Core applications, you can target Windows Nano Server, which is cloud optimized, uses Kestrel and is smaller and starts faster.</span></span> <span data-ttu-id="1e54b-114">Vous pouvez également cibler Linux, prenant en charge Debian, Alpine et d’autres.</span><span class="sxs-lookup"><span data-stu-id="1e54b-114">You can also target Linux, supporting Debian, Alpine and others.</span></span> <span data-ttu-id="1e54b-115">Utilise également Kestrel, est plus petit, et commence plus vite.</span><span class="sxs-lookup"><span data-stu-id="1e54b-115">Also uses Kestrel, is smaller, and starts faster.</span></span>

<span data-ttu-id="1e54b-116">Vous pouvez aussi créer votre propre image Docker si souhaitez utiliser une autre distribution Linux ou une image contenant des versions non fournies par Microsoft.</span><span class="sxs-lookup"><span data-stu-id="1e54b-116">You can also create your own Docker image in cases where you want to use a different Linux distro or where you want an image with versions not provided by Microsoft.</span></span> <span data-ttu-id="1e54b-117">Par exemple, vous pouvez créer une image avec ASP.NET Core s’exécutant sur le .NET Framework classique et Windows Server Core, ce qui n’est pas un scénario très courant pour Docker.</span><span class="sxs-lookup"><span data-stu-id="1e54b-117">For example, you might create an image with ASP.NET Core running on the traditional .NET Framework and Windows Server Core, which is a not-so-common scenario for Docker.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="1e54b-118">Lorsque vous utilisez des images Windows Server Core, vous pouvez constater que certains reflex sont manquants, par rapport aux images Windows complètes.</span><span class="sxs-lookup"><span data-stu-id="1e54b-118">When using Windows Server Core images, you might find that some DLLs are missing, when compared to full Windows images.</span></span> <span data-ttu-id="1e54b-119">Vous pourriez être en mesure de résoudre ce problème en créant une image personnalisée Server Core, en ajoutant les fichiers manquants au moment de la construction d’images, comme mentionné dans ce [commentaire GitHub](https://github.com/microsoft/dotnet-framework-docker/issues/299#issuecomment-511537448).</span><span class="sxs-lookup"><span data-stu-id="1e54b-119">You might be able to solve this problem by creating a custom Server Core image, adding the missing files at image build time, as mentioned in this [GitHub comment](https://github.com/microsoft/dotnet-framework-docker/issues/299#issuecomment-511537448).</span></span>

<span data-ttu-id="1e54b-120">Au moment d’ajouter le nom de l’image à votre fichier Dockerfile, vous pouvez sélectionner le système d’exploitation et la version en fonction de la balise que vous utilisez, comme dans les exemples suivants :</span><span class="sxs-lookup"><span data-stu-id="1e54b-120">When you add the image name to your Dockerfile file, you can select the operating system and version depending on the tag you use, as in the following examples:</span></span>

| <span data-ttu-id="1e54b-121">Image</span><span class="sxs-lookup"><span data-stu-id="1e54b-121">Image</span></span> | <span data-ttu-id="1e54b-122">Commentaires</span><span class="sxs-lookup"><span data-stu-id="1e54b-122">Comments</span></span> |
|-------|----------|
| <span data-ttu-id="1e54b-123">mcr.microsoft.com/dotnet/core/runtime:3.1</span><span class="sxs-lookup"><span data-stu-id="1e54b-123">mcr.microsoft.com/dotnet/core/runtime:3.1</span></span> | <span data-ttu-id="1e54b-124">.NET Core 3.1 multi-architecture: Prend en charge Linux et Windows Nano Server en fonction de l’hôte Docker.</span><span class="sxs-lookup"><span data-stu-id="1e54b-124">.NET Core 3.1 multi-architecture: Supports Linux and Windows Nano Server depending on the Docker host.</span></span> |
| <span data-ttu-id="1e54b-125">mcr.microsoft.com/dotnet/core/aspnet:3.1</span><span class="sxs-lookup"><span data-stu-id="1e54b-125">mcr.microsoft.com/dotnet/core/aspnet:3.1</span></span> | <span data-ttu-id="1e54b-126">ASP.NET multi-architecture Core 3.1 : prend en charge Linux et Windows Nano Server en fonction de l’hôte Docker.</span><span class="sxs-lookup"><span data-stu-id="1e54b-126">ASP.NET Core 3.1 multi-architecture: Supports Linux and Windows Nano Server depending on the Docker host.</span></span> <br/> <span data-ttu-id="1e54b-127">L’image aspnetcore a quelques optimisations pour ASP.NET Core.</span><span class="sxs-lookup"><span data-stu-id="1e54b-127">The aspnetcore image has a few optimizations for ASP.NET Core.</span></span> |
| <span data-ttu-id="1e54b-128">mcr.microsoft.com/dotnet/core/aspnet:3.1-buster-slim</span><span class="sxs-lookup"><span data-stu-id="1e54b-128">mcr.microsoft.com/dotnet/core/aspnet:3.1-buster-slim</span></span> | <span data-ttu-id="1e54b-129">.NET Core 3.1 runtime-seulement sur Linux Debian distro</span><span class="sxs-lookup"><span data-stu-id="1e54b-129">.NET Core 3.1 runtime-only on Linux Debian distro</span></span> |
| <span data-ttu-id="1e54b-130">mcr.microsoft.com/dotnet/core/aspnet:3.1-nanoserver-1809</span><span class="sxs-lookup"><span data-stu-id="1e54b-130">mcr.microsoft.com/dotnet/core/aspnet:3.1-nanoserver-1809</span></span> | <span data-ttu-id="1e54b-131">.NET Core 3.1 runtime-only sur Windows Nano Server (version Windows Server 1809)</span><span class="sxs-lookup"><span data-stu-id="1e54b-131">.NET Core 3.1 runtime-only on Windows Nano Server (Windows Server version 1809)</span></span> |

## <a name="additional-resources"></a><span data-ttu-id="1e54b-132">Ressources supplémentaires</span><span class="sxs-lookup"><span data-stu-id="1e54b-132">Additional resources</span></span>

- <span data-ttu-id="1e54b-133">**BitmapDecoder échoue en raison de la disparition de WindowsCodecsExt.dll (problème GitHub)**</span><span class="sxs-lookup"><span data-stu-id="1e54b-133">**BitmapDecoder fails due to missing WindowsCodecsExt.dll (GitHub issue)**</span></span>  
  <https://github.com/microsoft/dotnet-framework-docker/issues/299>

> [!div class="step-by-step"]
> <span data-ttu-id="1e54b-134">[Suivant précédent](container-framework-choice-factors.md)
> [Next](official-net-docker-images.md)</span><span class="sxs-lookup"><span data-stu-id="1e54b-134">[Previous](container-framework-choice-factors.md)
[Next](official-net-docker-images.md)</span></span>
