---
title: Quand choisir .NET 5 pour les conteneurs de l’ancrage
description: Architecture des microservices .NET pour les applications .NET en conteneur | Quand choisir .NET pour les conteneurs d’ancrage
ms.date: 01/13/2021
ms.openlocfilehash: 61909c91d795582af499456c65ae0d7b4f2911e2
ms.sourcegitcommit: a4cecb7389f02c27e412b743f9189bd2a6dea4d6
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/14/2021
ms.locfileid: "98189276"
---
# <a name="when-to-choose-net-for-docker-containers"></a><span data-ttu-id="528d4-103">Quand choisir .NET pour les conteneurs d’ancrage</span><span class="sxs-lookup"><span data-stu-id="528d4-103">When to choose .NET for Docker containers</span></span>

<span data-ttu-id="528d4-104">La modularité et la nature légère de .NET 5 le rendent parfait pour les conteneurs.</span><span class="sxs-lookup"><span data-stu-id="528d4-104">The modularity and lightweight nature of .NET 5 makes it perfect for containers.</span></span> <span data-ttu-id="528d4-105">Lorsque vous déployez et démarrez un conteneur, son image est beaucoup plus petite avec .NET 5 qu’avec .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="528d4-105">When you deploy and start a container, its image is far smaller with .NET 5 than with .NET Framework.</span></span> <span data-ttu-id="528d4-106">En revanche, pour utiliser .NET Framework pour un conteneur, vous devez baser votre image sur l’image Windows Server Core, ce qui est beaucoup plus lourd que les images Windows nano Server ou Linux que vous utilisez pour .NET 5.</span><span class="sxs-lookup"><span data-stu-id="528d4-106">In contrast, to use .NET Framework for a container, you must base your image on the Windows Server Core image, which is a lot heavier than the Windows Nano Server or Linux images that you use for .NET 5.</span></span>

<span data-ttu-id="528d4-107">En outre, .NET 5 est multiplateforme, ce qui vous permet de déployer des applications serveur avec des images de conteneur Linux ou Windows.</span><span class="sxs-lookup"><span data-stu-id="528d4-107">Additionally, .NET 5 is cross-platform, so you can deploy server apps with Linux or Windows container images.</span></span> <span data-ttu-id="528d4-108">Cependant, si vous utilisez le .NET Framework classique, vous pouvez déployer uniquement des images basées sur Windows Server Core.</span><span class="sxs-lookup"><span data-stu-id="528d4-108">However, if you are using the traditional .NET Framework, you can only deploy images based on Windows Server Core.</span></span>

<span data-ttu-id="528d4-109">Vous trouverez ci-dessous une explication plus détaillée de la raison pour laquelle choisir .NET 5.</span><span class="sxs-lookup"><span data-stu-id="528d4-109">The following is a more detailed explanation of why to choose .NET 5.</span></span>

## <a name="developing-and-deploying-cross-platform"></a><span data-ttu-id="528d4-110">Développement et déploiement multiplateformes</span><span class="sxs-lookup"><span data-stu-id="528d4-110">Developing and deploying cross platform</span></span>

<span data-ttu-id="528d4-111">En clair, si votre objectif est de disposer d’une application (application Web ou service) qui peut s’exécuter sur plusieurs plateformes prises en charge par l’arrimeur (Linux et Windows), le bon choix est .NET 5, car .NET Framework prend en charge uniquement Windows.</span><span class="sxs-lookup"><span data-stu-id="528d4-111">Clearly, if your goal is to have an application (web app or service) that can run on multiple platforms supported by Docker (Linux and Windows), the right choice is .NET 5, because .NET Framework only supports Windows.</span></span>

<span data-ttu-id="528d4-112">.NET 5 prend également en charge macOS comme plate-forme de développement.</span><span class="sxs-lookup"><span data-stu-id="528d4-112">.NET 5 also supports macOS as a development platform.</span></span> <span data-ttu-id="528d4-113">Cependant, quand vous déployez des conteneurs sur un hôte Docker, celui-ci doit (à ce moment-là) être basé sur Windows ou Linux.</span><span class="sxs-lookup"><span data-stu-id="528d4-113">However, when you deploy containers to a Docker host, that host must (currently) be based on Linux or Windows.</span></span> <span data-ttu-id="528d4-114">Par exemple, dans un environnement de développement, vous pouvez utiliser une machine virtuelle Linux s’exécutant sur un Mac.</span><span class="sxs-lookup"><span data-stu-id="528d4-114">For example, in a development environment, you could use a Linux VM running on a Mac.</span></span>

<span data-ttu-id="528d4-115">[Visual Studio](https://www.visualstudio.com/vs/) propose un environnement de développement intégré (IDE) pour Windows et prend en charge le développement Docker.</span><span class="sxs-lookup"><span data-stu-id="528d4-115">[Visual Studio](https://www.visualstudio.com/vs/) provides an integrated development environment (IDE) for Windows and supports Docker development.</span></span>

<span data-ttu-id="528d4-116">[Visual Studio pour Mac](https://www.visualstudio.com/vs/visual-studio-mac/) est un IDE, une évolution de Xamarin Studio, qui s’exécute sur macOS et prend en charge le développement d’applications Docker.</span><span class="sxs-lookup"><span data-stu-id="528d4-116">[Visual Studio for Mac](https://www.visualstudio.com/vs/visual-studio-mac/) is an IDE, evolution of Xamarin Studio, that runs on macOS and supports Docker-based application development.</span></span> <span data-ttu-id="528d4-117">Cet outil doit être le choix privilégié pour les développeurs qui travaillent sur des ordinateurs Mac qui souhaitent également utiliser un IDE puissant.</span><span class="sxs-lookup"><span data-stu-id="528d4-117">This tool should be the preferred choice for developers working in Mac machines who also want to use a powerful IDE.</span></span>

<span data-ttu-id="528d4-118">Vous pouvez également utiliser [Visual Studio code](https://code.visualstudio.com/) sur MacOS, Linux et Windows.</span><span class="sxs-lookup"><span data-stu-id="528d4-118">You can also use [Visual Studio Code](https://code.visualstudio.com/) on macOS, Linux, and Windows.</span></span> <span data-ttu-id="528d4-119">Visual Studio Code prend entièrement en charge .NET 5, y compris IntelliSense et le débogage.</span><span class="sxs-lookup"><span data-stu-id="528d4-119">Visual Studio Code fully supports .NET 5, including IntelliSense and debugging.</span></span> <span data-ttu-id="528d4-120">Étant donné que VS Code est un éditeur léger, vous pouvez l’utiliser pour développer des applications en conteneur sur l’ordinateur conjointement avec l’interface CLI et l' [interface CLI .net](../../../core/tools/index.md).</span><span class="sxs-lookup"><span data-stu-id="528d4-120">Because VS Code is a lightweight editor, you can use it to develop containerized apps on the machine in conjunction with the Docker CLI and the [.NET CLI](../../../core/tools/index.md).</span></span> <span data-ttu-id="528d4-121">Vous pouvez également cibler .NET 5 avec la plupart des éditeurs tiers, comme sublime, Emacs, VI et le projet OmniSharp Open source, qui fournit également la prise en charge d’IntelliSense.</span><span class="sxs-lookup"><span data-stu-id="528d4-121">You can also target .NET 5 with most third-party editors like Sublime, Emacs, vi, and the open-source OmniSharp project, which also provides IntelliSense support.</span></span>

<span data-ttu-id="528d4-122">Outre les IDE et les éditeurs, vous pouvez utiliser l' [interface de commande .net](../../../core/tools/index.md) pour toutes les plateformes prises en charge.</span><span class="sxs-lookup"><span data-stu-id="528d4-122">In addition to the IDEs and editors, you can use the [.NET CLI](../../../core/tools/index.md) for all supported platforms.</span></span>

## <a name="using-containers-for-new-green-field-projects"></a><span data-ttu-id="528d4-123">Utilisation de conteneurs pour les nouveaux projets (« green-field »)</span><span class="sxs-lookup"><span data-stu-id="528d4-123">Using containers for new ("green-field") projects</span></span>

<span data-ttu-id="528d4-124">Les conteneurs sont couramment utilisés avec une architecture de microservices, même s’ils peuvent aussi servir à organiser en conteneurs les services ou applications web qui suivent un modèle d’architecture.</span><span class="sxs-lookup"><span data-stu-id="528d4-124">Containers are commonly used in conjunction with a microservices architecture, although they can also be used to containerize web apps or services that follow any architectural pattern.</span></span> <span data-ttu-id="528d4-125">Vous pouvez utiliser .NET Framework sur des conteneurs Windows, mais la modularité et la nature légère de .NET 5 le rendent parfait pour les architectures de conteneurs et de microservices.</span><span class="sxs-lookup"><span data-stu-id="528d4-125">You can use .NET Framework on Windows Containers, but the modularity and lightweight nature of .NET 5 makes it perfect for containers and microservices architectures.</span></span> <span data-ttu-id="528d4-126">Quand vous créez et déployez un conteneur, son image est beaucoup plus petite avec .NET Core qu’avec le .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="528d4-126">When you create and deploy a container, its image is far smaller with .NET Core than with .NET Framework.</span></span>

## <a name="create-and-deploy-microservices-on-containers"></a><span data-ttu-id="528d4-127">Créer et déployer des microservices sur des conteneurs</span><span class="sxs-lookup"><span data-stu-id="528d4-127">Create and deploy microservices on containers</span></span>

<span data-ttu-id="528d4-128">Vous pouvez utiliser le .NET Framework classique pour créer des applications basées sur des microservices (sans conteneurs) en suivant des processus ordinaires.</span><span class="sxs-lookup"><span data-stu-id="528d4-128">You could use the traditional .NET Framework for building microservices-based applications (without containers) by using plain processes.</span></span> <span data-ttu-id="528d4-129">De cette façon, comme .NET Framework est déjà installé et partagé entre les processus, ceux-ci démarrent rapidement du fait de leur légèreté.</span><span class="sxs-lookup"><span data-stu-id="528d4-129">That way, because the .NET Framework is already installed and shared across processes, processes are light and fast to start.</span></span> <span data-ttu-id="528d4-130">En revanche, si vous utilisez des conteneurs, l’image pour le .NET Framework classique est aussi basée sur Windows Server Core, ce qui la rend trop lourde pour une approche de microservices dans des conteneurs.</span><span class="sxs-lookup"><span data-stu-id="528d4-130">However, if you are using containers, the image for the traditional .NET Framework is also based on Windows Server Core and that makes it too heavy for a microservices-on-containers approach.</span></span> <span data-ttu-id="528d4-131">Toutefois, les équipes cherchent des opportunités pour améliorer l’expérience des utilisateurs .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="528d4-131">However, teams have been looking for opportunities to improve the experience for .NET Framework users as well.</span></span> <span data-ttu-id="528d4-132">Récemment, la taille des [images de conteneur Windows Server Core a été réduite à >40% plus petite](https://devblogs.microsoft.com/dotnet/we-made-windows-server-core-container-images-40-smaller).</span><span class="sxs-lookup"><span data-stu-id="528d4-132">Recently, size of the [Windows Server Core container images have been reduced to >40% smaller](https://devblogs.microsoft.com/dotnet/we-made-windows-server-core-container-images-40-smaller).</span></span>

<span data-ttu-id="528d4-133">En revanche, .NET 5 est le meilleur candidat si vous adoptez un système orienté microservices basé sur des conteneurs, car .NET 5 est léger.</span><span class="sxs-lookup"><span data-stu-id="528d4-133">On the other hand, .NET 5 is the best candidate if you're embracing a microservices-oriented system that is based on containers, because .NET 5 is lightweight.</span></span> <span data-ttu-id="528d4-134">En outre, les images de conteneur associées, pour Linux ou Windows nano Server, sont légères et petites, ce qui rend les conteneurs clairs et rapides à démarrer.</span><span class="sxs-lookup"><span data-stu-id="528d4-134">In addition, its related container images, for either Linux or Windows Nano Server, are lean and small, making containers light and fast to start.</span></span>

<span data-ttu-id="528d4-135">Un microservice doit être le petit possible de façon à être léger pendant son exécution, à offrir un faible encombrement, à présenter un contexte limité réduit (voir DDD, [Conception pilotée par le modèle](https://en.wikipedia.org/wiki/Domain-driven_design)), à ne pas être une source de problèmes et à démarrer et à s’arrêter rapidement.</span><span class="sxs-lookup"><span data-stu-id="528d4-135">A microservice is meant to be as small as possible: to be light when spinning up, to have a small footprint, to have a small Bounded Context (check DDD, [Domain-Driven Design](https://en.wikipedia.org/wiki/Domain-driven_design)), to represent a small area of concerns, and to be able to start and stop fast.</span></span> <span data-ttu-id="528d4-136">Pour ces exigences, vous pouvez utiliser des images de conteneur petites et rapides à instancier comme l’image de conteneur .NET 5.</span><span class="sxs-lookup"><span data-stu-id="528d4-136">For those requirements, you will want to use small and fast-to-instantiate container images like the .NET 5 container image.</span></span>

<span data-ttu-id="528d4-137">Une architecture de microservices permet aussi de combiner des technologies au-delà des limites d’un service.</span><span class="sxs-lookup"><span data-stu-id="528d4-137">A microservices architecture also allows you to mix technologies across a service boundary.</span></span> <span data-ttu-id="528d4-138">Cette approche permet une migration progressive vers .NET 5 pour les nouveaux microservices qui fonctionnent conjointement avec d’autres microservices ou avec des services développés avec Node.js, Python, Java, GoLang ou d’autres technologies.</span><span class="sxs-lookup"><span data-stu-id="528d4-138">This approach enables a gradual migration to .NET 5 for new microservices that work in conjunction with other microservices or with services developed with Node.js, Python, Java, GoLang, or other technologies.</span></span>

## <a name="deploying-high-density-in-scalable-systems"></a><span data-ttu-id="528d4-139">Déploiement de la haute densité dans des systèmes scalables</span><span class="sxs-lookup"><span data-stu-id="528d4-139">Deploying high density in scalable systems</span></span>

<span data-ttu-id="528d4-140">Lorsque votre système basé sur des conteneurs a besoin d’une densité, d’une granularité et de performances optimales, .NET et ASP.NET Core sont vos meilleures options.</span><span class="sxs-lookup"><span data-stu-id="528d4-140">When your container-based system needs the best possible density, granularity, and performance, .NET and ASP.NET Core are your best options.</span></span> <span data-ttu-id="528d4-141">ASP.NET Core est jusqu’à 10 fois plus rapide que ASP.NET dans le .NET Framework traditionnel, et il dirige d’autres technologies populaires du secteur pour les microservices, comme les servlets Java, Go et Node.js.</span><span class="sxs-lookup"><span data-stu-id="528d4-141">ASP.NET Core is up to 10 times faster than ASP.NET in the traditional .NET Framework, and it leads other popular industry technologies for microservices, such as Java servlets, Go, and Node.js.</span></span>

<span data-ttu-id="528d4-142">Cette approche est particulièrement pertinente pour les architectures de microservices, où vous pouvez exécuter des centaines de microservices (conteneurs).</span><span class="sxs-lookup"><span data-stu-id="528d4-142">This approach is especially relevant for microservices architectures, where you could have hundreds of microservices (containers) running.</span></span> <span data-ttu-id="528d4-143">Avec les images ASP.NET Core (basées sur le Runtime .NET) sur Linux ou Windows nano, vous pouvez exécuter votre système avec un nombre bien plus faible de serveurs ou de machines virtuelles, ce qui permet d’économiser des coûts dans l’infrastructure et l’hébergement.</span><span class="sxs-lookup"><span data-stu-id="528d4-143">With ASP.NET Core images (based on the .NET runtime) on Linux or Windows Nano, you can run your system with a much lower number of servers or VMs, ultimately saving costs in infrastructure and hosting.</span></span>

>[!div class="step-by-step"]
><span data-ttu-id="528d4-144">[Précédent](general-guidance.md) 
> [Suivant](net-framework-container-scenarios.md)</span><span class="sxs-lookup"><span data-stu-id="528d4-144">[Previous](general-guidance.md)
[Next](net-framework-container-scenarios.md)</span></span>
