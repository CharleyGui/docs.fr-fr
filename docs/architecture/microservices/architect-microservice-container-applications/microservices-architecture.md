---
title: Architecture en microservices
description: Architecture des microservices .NET pour applications .NET conteneurisées | Vue générale de l’architecture des microservices.
ms.date: 09/20/2018
ms.openlocfilehash: d1c58d218be9e5f8c0ae8ae732f9bdd06674a2c2
ms.sourcegitcommit: 8a0fe8a2227af612f8b8941bdb8b19d6268748e7
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/03/2019
ms.locfileid: "71834382"
---
# <a name="microservices-architecture"></a><span data-ttu-id="b1f76-103">Architecture en microservices</span><span class="sxs-lookup"><span data-stu-id="b1f76-103">Microservices architecture</span></span>

<span data-ttu-id="b1f76-104">Comme son nom l’indique, une architecture en microservices est une approche de la création d’une application serveur sous la forme d’un ensemble de petits services.</span><span class="sxs-lookup"><span data-stu-id="b1f76-104">As the name implies, a microservices architecture is an approach to building a server application as a set of small services.</span></span> <span data-ttu-id="b1f76-105">Cela signifie qu’une architecture de microservices est principalement orientée vers le back-end, même si l’approche est également utilisée pour le front-end.</span><span class="sxs-lookup"><span data-stu-id="b1f76-105">That means a microservices architecture is mainly oriented to the back-end, although the approach is also being used for the front end.</span></span> <span data-ttu-id="b1f76-106">Chaque service s’exécute dans son propre processus et communique avec d’autres processus avec des protocoles comme HTTP/HTTPS, WebSockets ou [AMQP](https://en.wikipedia.org/wiki/Advanced_Message_Queuing_Protocol).</span><span class="sxs-lookup"><span data-stu-id="b1f76-106">Each service runs in its own process and communicates with other processes using protocols such as HTTP/HTTPS, WebSockets, or [AMQP](https://en.wikipedia.org/wiki/Advanced_Message_Queuing_Protocol).</span></span> <span data-ttu-id="b1f76-107">Chaque microservice implémente une fonctionnalité métier ou de domaine spécifique de bout en bout dans une certaine limite de contexte, et chacun doit être développé de manière autonome et pouvoir être déployé indépendamment.</span><span class="sxs-lookup"><span data-stu-id="b1f76-107">Each microservice implements a specific end-to-end domain or business capability within a certain context boundary, and each must be developed autonomously and be deployable independently.</span></span> <span data-ttu-id="b1f76-108">Enfin, chaque microservice doit avoir son modèle de données de domaine et sa logique de domaine associés (souveraineté et gestion des données décentralisée). Il peut être basé sur différentes technologies de stockage de données (SQL, NoSQL) et sur différents langages de programmation.</span><span class="sxs-lookup"><span data-stu-id="b1f76-108">Finally, each microservice should own its related domain data model and domain logic (sovereignty and decentralized data management) and could be based on different data storage technologies (SQL, NoSQL) and different programming languages.</span></span>

<span data-ttu-id="b1f76-109">De quelle taille doit être un microservice ?</span><span class="sxs-lookup"><span data-stu-id="b1f76-109">What size should a microservice be?</span></span> <span data-ttu-id="b1f76-110">Quand vous développez un microservice, la taille ne doit pas être le point important.</span><span class="sxs-lookup"><span data-stu-id="b1f76-110">When developing a microservice, size shouldn't be the important point.</span></span> <span data-ttu-id="b1f76-111">Le point important doit plutôt être de créer des services faiblement couplés, afin que le développement, le déploiement et la mise à l’échelle soient autonomes pour chaque service.</span><span class="sxs-lookup"><span data-stu-id="b1f76-111">Instead, the important point should be to create loosely coupled services so you have autonomy of development, deployment, and scale, for each service.</span></span> <span data-ttu-id="b1f76-112">Bien sûr, quand vous identifiez et concevez des microservices, vous devez essayer de les rendre les plus petits possible, tant que vous n’avez pas trop de dépendances directes avec d’autres microservices.</span><span class="sxs-lookup"><span data-stu-id="b1f76-112">Of course, when identifying and designing microservices, you should try to make them as small as possible as long as you don't have too many direct dependencies with other microservices.</span></span> <span data-ttu-id="b1f76-113">Deux éléments sont plus importants que la taille du microservice : sa cohésion interne et son indépendance vis-à-vis d’autres services.</span><span class="sxs-lookup"><span data-stu-id="b1f76-113">More important than the size of the microservice is the internal cohesion it must have and its independence from other services.</span></span>

<span data-ttu-id="b1f76-114">Pourquoi une architecture en microservices ?</span><span class="sxs-lookup"><span data-stu-id="b1f76-114">Why a microservices architecture?</span></span> <span data-ttu-id="b1f76-115">Pour faire court, disons qu’elle offre une agilité à long terme.</span><span class="sxs-lookup"><span data-stu-id="b1f76-115">In short, it provides long-term agility.</span></span> <span data-ttu-id="b1f76-116">Les microservices permettent une meilleure maintenabilité dans les grands systèmes complexes et hautement scalables, en vous permettant de créer des applications basées sur de nombreux services qui peuvent être déployés indépendamment, chacun ayant des cycles de vie granulaires et autonomes.</span><span class="sxs-lookup"><span data-stu-id="b1f76-116">Microservices enable better maintainability in complex, large, and highly-scalable systems by letting you create applications based on many independently deployable services that each have granular and autonomous lifecycles.</span></span>

<span data-ttu-id="b1f76-117">Un autre avantage est que les microservices peuvent monter en charge (scale out) de façon indépendante.</span><span class="sxs-lookup"><span data-stu-id="b1f76-117">As an additional benefit, microservices can scale out independently.</span></span> <span data-ttu-id="b1f76-118">Au lieu d’avoir une seule application monolithique que vous devez faire monter en charge en totalité, vous pouvez faire monter en charge des microservices spécifiques.</span><span class="sxs-lookup"><span data-stu-id="b1f76-118">Instead of having a single monolithic application that you must scale out as a unit, you can instead scale out specific microservices.</span></span> <span data-ttu-id="b1f76-119">Ainsi, vous pouvez effectuer un scale-out ciblé de la zone fonctionnelle qui nécessite plus de puissance de traitement ou plus de bande passante réseau pour satisfaire la demande, au lieu d’effectuer un scale-out d’autres zones de l’application qui n’en ont pas besoin.</span><span class="sxs-lookup"><span data-stu-id="b1f76-119">That way, you can scale just the functional area that needs more processing power or network bandwidth to support demand, rather than scaling out other areas of the application that don't need to be scaled.</span></span> <span data-ttu-id="b1f76-120">Cela signifie des frais réduits, car vous avez besoin de moins de matériel.</span><span class="sxs-lookup"><span data-stu-id="b1f76-120">That means cost savings because you need less hardware.</span></span>

![Diagramme des différences entre les deux méthodes de déploiement.](./media/microservices-architecture/monolith-deployment-vs-microservice-approach.png)

<span data-ttu-id="b1f76-122">**Figure 4-6**.</span><span class="sxs-lookup"><span data-stu-id="b1f76-122">**Figure 4-6**.</span></span> <span data-ttu-id="b1f76-123">Déploiement monolithique comparé à l’approche par microservices</span><span class="sxs-lookup"><span data-stu-id="b1f76-123">Monolithic deployment versus the microservices approach</span></span>

<span data-ttu-id="b1f76-124">Comme le montre la figure 4-6, dans l’approche monolithique traditionnelle, l’application se met à l’échelle en clonant l’application entière dans plusieurs serveurs/machines virtuelles.</span><span class="sxs-lookup"><span data-stu-id="b1f76-124">As Figure 4-6 shows, in the traditional monolithic approach, the application scales by cloning the whole app in several servers/VM.</span></span> <span data-ttu-id="b1f76-125">Dans l’approche liée aux microservices, les fonctionnalités sont séparées en services plus petits, pour permettre à chaque service d’être scalable indépendamment.</span><span class="sxs-lookup"><span data-stu-id="b1f76-125">In the microservices approach, functionality is segregated in smaller services, so each service can scale independently.</span></span> <span data-ttu-id="b1f76-126">L’approche de microservices permet des modifications agiles et une itération rapide de chaque microservice, car vous pouvez modifier des zones spécifiques et de petite taille d’applications complexes, volumineuses et évolutives.</span><span class="sxs-lookup"><span data-stu-id="b1f76-126">The microservices approach allows agile changes and rapid iteration of each microservice, because you can change specific, small areas of complex, large, and scalable applications.</span></span>

<span data-ttu-id="b1f76-127">Le fait d’architecturer des applications basées sur des microservices à granularité fine permet des pratiques d’intégration continue et de livraison continue.</span><span class="sxs-lookup"><span data-stu-id="b1f76-127">Architecting fine-grained microservices-based applications enables continuous integration and continuous delivery practices.</span></span> <span data-ttu-id="b1f76-128">Il accélère également l’ajout de nouvelles fonctions dans l’application.</span><span class="sxs-lookup"><span data-stu-id="b1f76-128">It also accelerates delivery of new functions into the application.</span></span> <span data-ttu-id="b1f76-129">La composition d’applications avec une granularité fine vous permet également d’exécuter et de tester des microservices de façon isolée, et de les faire évoluer de façon autonome tout en maintenant des contrats clairs entre eux.</span><span class="sxs-lookup"><span data-stu-id="b1f76-129">Fine-grained composition of applications also allows you to run and test microservices in isolation, and to evolve them autonomously while maintaining clear contracts between them.</span></span> <span data-ttu-id="b1f76-130">Tant que vous ne changez pas les contrats ou les interfaces, vous pouvez changer l’implémentation interne de n’importe quel microservice ou ajouter de nouvelles fonctionnalités sans perturber le fonctionnement des autres microservices.</span><span class="sxs-lookup"><span data-stu-id="b1f76-130">As long as you don't change the interfaces or contracts, you can change the internal implementation of any microservice or add new functionality without breaking other microservices.</span></span>

<span data-ttu-id="b1f76-131">Voici des aspects importants pour réussir à passer en production avec un système basé sur des microservices :</span><span class="sxs-lookup"><span data-stu-id="b1f76-131">The following are important aspects to enable success in going into production with a microservices-based system:</span></span>

- <span data-ttu-id="b1f76-132">Surveillance et vérification de l’intégrité des services et de l’infrastructure.</span><span class="sxs-lookup"><span data-stu-id="b1f76-132">Monitoring and health checks of the services and infrastructure.</span></span>

- <span data-ttu-id="b1f76-133">Infrastructure évolutive pour les services (c’est-à-dire le cloud et des orchestrateurs).</span><span class="sxs-lookup"><span data-stu-id="b1f76-133">Scalable infrastructure for the services (that is, cloud and orchestrators).</span></span>

- <span data-ttu-id="b1f76-134">Conception et implémentation de la sécurité à plusieurs niveaux : authentification, autorisation, gestion des secrets, communication sécurisée, etc.</span><span class="sxs-lookup"><span data-stu-id="b1f76-134">Security design and implementation at multiple levels: authentication, authorization, secrets management, secure communication, etc.</span></span>

- <span data-ttu-id="b1f76-135">Livraison rapide des applications, généralement avec différentes équipes s’occupant des différents microservices.</span><span class="sxs-lookup"><span data-stu-id="b1f76-135">Rapid application delivery, usually with different teams focusing on different microservices.</span></span>

- <span data-ttu-id="b1f76-136">Pratiques et infrastructure DevOps et Intégration continue/livraison continue.</span><span class="sxs-lookup"><span data-stu-id="b1f76-136">DevOps and CI/CD practices and infrastructure.</span></span>

<span data-ttu-id="b1f76-137">Parmi ces aspects, seuls les trois premiers sont couverts ou présentés dans ce guide.</span><span class="sxs-lookup"><span data-stu-id="b1f76-137">Of these, only the first three are covered or introduced in this guide.</span></span> <span data-ttu-id="b1f76-138">Les deux derniers points, qui sont liés au cycle de vie des applications, sont traités dans un autre livre électronique, [Cycle de vie des applications Docker en conteneur avec la plateforme et les outils Microsoft](https://aka.ms/dockerlifecycleebook).</span><span class="sxs-lookup"><span data-stu-id="b1f76-138">The last two points, which are related to application lifecycle, are covered in the additional [Containerized Docker Application Lifecycle with Microsoft Platform and Tools](https://aka.ms/dockerlifecycleebook) e-book.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="b1f76-139">Ressources supplémentaires</span><span class="sxs-lookup"><span data-stu-id="b1f76-139">Additional resources</span></span>

- <span data-ttu-id="b1f76-140">**Mark Russinovich. Microservices : Une révolution des applications grâce au cloud** </span><span class="sxs-lookup"><span data-stu-id="b1f76-140">**Mark Russinovich. Microservices: An application revolution powered by the cloud** </span></span>\
  <https://azure.microsoft.com/blog/microservices-an-application-revolution-powered-by-the-cloud/>

- <span data-ttu-id="b1f76-141">**Martin Fowler. Microservices** </span><span class="sxs-lookup"><span data-stu-id="b1f76-141">**Martin Fowler. Microservices** </span></span>\
  <https://www.martinfowler.com/articles/microservices.html>

- <span data-ttu-id="b1f76-142">**Martin Fowler. Microservice Prerequisites** </span><span class="sxs-lookup"><span data-stu-id="b1f76-142">**Martin Fowler. Microservice Prerequisites** </span></span>\
  <https://martinfowler.com/bliki/MicroservicePrerequisites.html>

- <span data-ttu-id="b1f76-143">**Jimmy Nilsson. Chunk Cloud Computing** </span><span class="sxs-lookup"><span data-stu-id="b1f76-143">**Jimmy Nilsson. Chunk Cloud Computing** </span></span>\
  <https://www.infoq.com/articles/CCC-Jimmy-Nilsson>

- <span data-ttu-id="b1f76-144">**Cesar de la Torre. Containerized Docker Application Lifecycle with Microsoft Platform and Tools** (livre électronique téléchargeable) </span><span class="sxs-lookup"><span data-stu-id="b1f76-144">**Cesar de la Torre. Containerized Docker Application Lifecycle with Microsoft Platform and Tools** (downloadable e-book) </span></span>\
  <https://aka.ms/dockerlifecycleebook>

>[!div class="step-by-step"]
><span data-ttu-id="b1f76-145">[Précédent](service-oriented-architecture.md)
>[Suivant](data-sovereignty-per-microservice.md)</span><span class="sxs-lookup"><span data-stu-id="b1f76-145">[Previous](service-oriented-architecture.md)
[Next](data-sovereignty-per-microservice.md)</span></span>
