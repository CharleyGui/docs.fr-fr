---
title: Orchestration des microservices et des applications à plusieurs conteneurs pour une grande scalabilité et une haute disponibilité
description: Découvrez les options qui permettent d’orchestrer des microservices et des applications multiconteneurs pour fournir une scalabilité et une disponibilité élevées. Découvrez également les possibilités offertes par Azure Dev Spaces durant le développement du cycle de vie des applications Kubernetes.
ms.date: 09/20/2018
ms.openlocfilehash: 76fa68cee41f8d1f34ec399c346f457efae57151
ms.sourcegitcommit: f20dd18dbcf2275513281f5d9ad7ece6a62644b4
ms.translationtype: HT
ms.contentlocale: fr-FR
ms.lasthandoff: 07/30/2019
ms.locfileid: "68675026"
---
# <a name="orchestrating-microservices-and-multi-container-applications-for-high-scalability-and-availability"></a><span data-ttu-id="0ae7e-103">Orchestration des microservices et des applications à plusieurs conteneurs pour une grande scalabilité et une haute disponibilité</span><span class="sxs-lookup"><span data-stu-id="0ae7e-103">Orchestrating microservices and multi-container applications for high scalability and availability</span></span>

<span data-ttu-id="0ae7e-104">L’utilisation d’orchestrateurs pour les applications prêtes pour la production est essentielle si votre application est basée sur des microservices ou si elle est simplement répartie entre plusieurs conteneurs.</span><span class="sxs-lookup"><span data-stu-id="0ae7e-104">Using orchestrators for production-ready applications is essential if your application is based on microservices or simply split across multiple containers.</span></span> <span data-ttu-id="0ae7e-105">Comme expliqué précédemment, dans une approche basée sur les microservices, chaque microservice détient son modèle et ses données, ce qui le rend autonome du point de vue du développement et du déploiement.</span><span class="sxs-lookup"><span data-stu-id="0ae7e-105">As introduced previously, in a microservice-based approach, each microservice owns its model and data so that it will be autonomous from a development and deployment point of view.</span></span> <span data-ttu-id="0ae7e-106">Toutefois, même si vous avez une application plus classique composée de plusieurs services (par exemple SOA), vous aurez également plusieurs conteneurs ou services constituant une même application métier, qui doivent être déployés en tant que système distribué.</span><span class="sxs-lookup"><span data-stu-id="0ae7e-106">But even if you have a more traditional application that's composed of multiple services (like SOA), you'll also have multiple containers or services comprising a single business application that need to be deployed as a distributed system.</span></span> <span data-ttu-id="0ae7e-107">Ces types de systèmes sont complexes à monter en charge et à gérer : pour cette raison, vous avez absolument besoin d’un orchestrateur si vous voulez disposer d’une application multiconteneur prête pour la production et scalable.</span><span class="sxs-lookup"><span data-stu-id="0ae7e-107">These kinds of systems are complex to scale out and manage; therefore, you absolutely need an orchestrator if you want to have a production-ready and scalable multi-container application.</span></span>

<span data-ttu-id="0ae7e-108">La figure 4-23 illustre un déploiement dans un cluster d’une application composée de plusieurs microservices (conteneurs).</span><span class="sxs-lookup"><span data-stu-id="0ae7e-108">Figure 4-23 illustrates deployment into a cluster of an application composed of multiple microservices (containers).</span></span>

![Applications Docker composées dans un cluster : vous utilisez un conteneur pour chaque instance de service.](./media/image23.png)

<span data-ttu-id="0ae7e-111">**Figure 4-23**.</span><span class="sxs-lookup"><span data-stu-id="0ae7e-111">**Figure 4-23**.</span></span> <span data-ttu-id="0ae7e-112">Un cluster de conteneurs</span><span class="sxs-lookup"><span data-stu-id="0ae7e-112">A cluster of containers</span></span>

<span data-ttu-id="0ae7e-113">Ceci ressemble à une approche logique.</span><span class="sxs-lookup"><span data-stu-id="0ae7e-113">It looks like a logical approach.</span></span> <span data-ttu-id="0ae7e-114">Mais comment gérez-vous l’équilibrage de charge, le routage et l’orchestration de ces applications composées ?</span><span class="sxs-lookup"><span data-stu-id="0ae7e-114">But how are you handling load-balancing, routing, and orchestrating these composed applications?</span></span>

<span data-ttu-id="0ae7e-115">Le moteur Docker standard dans des hôtes Docker individuels répond aux besoins de la gestion des instances avec une seule image sur un seul hôte, mais il ne peut pas faire face quand il s’agit de gérer plusieurs conteneurs déployés sur plusieurs hôtes pour des applications distribuées plus complexes.</span><span class="sxs-lookup"><span data-stu-id="0ae7e-115">The plain Docker Engine in single Docker hosts meets the needs of managing single image instances on one host, but it falls short when it comes to managing multiple containers deployed on multiple hosts for more complex distributed applications.</span></span> <span data-ttu-id="0ae7e-116">Dans la plupart des cas, vous avez besoin d’une plateforme de gestion qui va démarrer automatiquement les conteneurs, monter en charge les conteneurs avec plusieurs instances par image, les suspendre ou les arrêter si nécessaire, et idéalement, contrôler comment ils accèdent à des ressources comme le réseau et le stockage de données.</span><span class="sxs-lookup"><span data-stu-id="0ae7e-116">In most cases, you need a management platform that will automatically start containers, scale-out containers with multiple instances per image, suspend them or shut them down when needed, and ideally also control how they access resources like the network and data storage.</span></span>

<span data-ttu-id="0ae7e-117">Pour aller au-delà de la gestion de conteneurs individuels ou d’applications composées très simples et passer à des applications d’entreprise plus grandes avec des microservices, vous devez faire appel à l’orchestration et au clustering des plateformes.</span><span class="sxs-lookup"><span data-stu-id="0ae7e-117">To go beyond the management of individual containers or very simple composed apps and move toward larger enterprise applications with microservices, you must turn to orchestration and clustering platforms.</span></span>

<span data-ttu-id="0ae7e-118">Du point de vue de l’architecture et du développement, si vous générez de grosses applications d’entreprise basées sur des microservices, il est important de comprendre les plateformes et les produits suivants, qui prennent en charge des scénarios avancés :</span><span class="sxs-lookup"><span data-stu-id="0ae7e-118">From an architecture and development point of view, if you're building large enterprise composed of microservices-based applications, it's important to understand the following platforms and products that support advanced scenarios:</span></span>

<span data-ttu-id="0ae7e-119">**Clusters et orchestrateurs.**</span><span class="sxs-lookup"><span data-stu-id="0ae7e-119">**Clusters and orchestrators.**</span></span> <span data-ttu-id="0ae7e-120">Quand vous devez effectuer un scale-out des applications sur plusieurs hôtes Docker, comme dans le cas d’une application imposante basée sur des microservices, il est essentiel de pouvoir gérer tous ces hôtes sous la forme d’un seul cluster, en faisant abstraction de la complexité de la plateforme sous-jacente.</span><span class="sxs-lookup"><span data-stu-id="0ae7e-120">When you need to scale out applications across many Docker hosts, as when a large microservice-based application, it's critical to be able to manage all those hosts as a single cluster by abstracting the complexity of the underlying platform.</span></span> <span data-ttu-id="0ae7e-121">C’est précisément ce que les clusters de conteneurs et les orchestrateurs permettent de faire.</span><span class="sxs-lookup"><span data-stu-id="0ae7e-121">That's what the container clusters and orchestrators provide.</span></span> <span data-ttu-id="0ae7e-122">Kubernetes est un exemple d’orchestrateur disponible dans Azure par le biais d’Azure Kubernetes Service.</span><span class="sxs-lookup"><span data-stu-id="0ae7e-122">Kubernetes is an example of an orchestrator, and is available in Azure through Azure Kubernetes Service.</span></span>

<span data-ttu-id="0ae7e-123">**Planificateurs.**</span><span class="sxs-lookup"><span data-stu-id="0ae7e-123">**Schedulers.**</span></span> <span data-ttu-id="0ae7e-124">La *planification* signifie qu’un administrateur a la possibilité de lancer des conteneurs dans un cluster : ils doivent donc également fournir une interface utilisateur.</span><span class="sxs-lookup"><span data-stu-id="0ae7e-124">*Scheduling* means to have the capability for an administrator to launch containers in a cluster so they also provide a UI.</span></span> <span data-ttu-id="0ae7e-125">Un planificateur de cluster a plusieurs responsabilités : utiliser efficacement les ressources du cluster, définir les contraintes fournies par l’utilisateur, équilibrer efficacement la charge des conteneurs entre les nœuds ou les hôtes, et faire preuve de robustesse face aux erreurs, tout en offrant une haute disponibilité.</span><span class="sxs-lookup"><span data-stu-id="0ae7e-125">A cluster scheduler has several responsibilities: to use the cluster's resources efficiently, to set the constraints provided by the user, to efficiently load-balance containers across nodes or hosts, and to be robust against errors while providing high availability.</span></span>

<span data-ttu-id="0ae7e-126">Les concepts de cluster et de planificateur sont étroitement liés : les produits fournis par les différents fournisseurs offrent souvent les deux ensembles de fonctionnalités.</span><span class="sxs-lookup"><span data-stu-id="0ae7e-126">The concepts of a cluster and a scheduler are closely related, so the products provided by different vendors often provide both sets of capabilities.</span></span> <span data-ttu-id="0ae7e-127">La liste suivante montre les choix les plus importants pour les plateformes et les logiciels dont vous disposez pour les clusters et les planificateurs.</span><span class="sxs-lookup"><span data-stu-id="0ae7e-127">The following list shows the most important platform and software choices you have for clusters and schedulers.</span></span> <span data-ttu-id="0ae7e-128">Ces orchestrateurs sont généralement proposés dans des clouds publics comme Azure.</span><span class="sxs-lookup"><span data-stu-id="0ae7e-128">These orchestrators are generally offered in public clouds like Azure.</span></span>

## <a name="software-platforms-for-container-clustering-orchestration-and-scheduling"></a><span data-ttu-id="0ae7e-129">Plateformes logicielles pour le clustering, l’orchestration et la planification de conteneurs</span><span class="sxs-lookup"><span data-stu-id="0ae7e-129">Software platforms for container clustering, orchestration, and scheduling</span></span>

### <a name="kubernetes"></a><span data-ttu-id="0ae7e-130">Kubernetes</span><span class="sxs-lookup"><span data-stu-id="0ae7e-130">Kubernetes</span></span>

![Logo Kubernetes](./media/image24.png)

> <span data-ttu-id="0ae7e-132">[*Kubernetes*](https://kubernetes.io/) est un produit open source qui offre des fonctionnalités allant de l’infrastructure de cluster et la planification de conteneurs aux fonctionnalités d’orchestration.</span><span class="sxs-lookup"><span data-stu-id="0ae7e-132">[*Kubernetes*](https://kubernetes.io/) is an open-source product that provides functionality that ranges from cluster infrastructure and container scheduling to orchestrating capabilities.</span></span> <span data-ttu-id="0ae7e-133">Il vous permet d’automatiser le déploiement, la mise à l’échelle et le fonctionnement de conteneurs d’application entre des clusters d’hôtes.</span><span class="sxs-lookup"><span data-stu-id="0ae7e-133">It lets you automate deployment, scaling, and operations of application containers across clusters of hosts.</span></span>
>
> <span data-ttu-id="0ae7e-134">*Kubernetes* fournit une infrastructure orientée conteneur, qui regroupe les conteneurs d’application dans des unités logiques pour en faciliter la gestion et la découverte.</span><span class="sxs-lookup"><span data-stu-id="0ae7e-134">*Kubernetes* provides a container-centric infrastructure that groups application containers into logical units for easy management and discovery.</span></span>
>
> <span data-ttu-id="0ae7e-135">*Kubernetes* est suffisamment mature dans Linux, mais il l’est moins dans Windows.</span><span class="sxs-lookup"><span data-stu-id="0ae7e-135">*Kubernetes* is mature in Linux, less mature in Windows.</span></span>

### <a name="azure-kubernetes-service-aks"></a><span data-ttu-id="0ae7e-136">Azure Kubernetes Service (AKS)</span><span class="sxs-lookup"><span data-stu-id="0ae7e-136">Azure Kubernetes Service (AKS)</span></span>

![Logo Azure Kubernetes Service](./media/image41.png)

> <span data-ttu-id="0ae7e-138">[AKS (Azure Kubernetes Service)](https://azure.microsoft.com/services/kubernetes-service/) est un service managé d’orchestration de conteneur Kubernetes dans Azure, qui simplifie la gestion, le déploiement et les opérations liés au cluster Kubernetes.</span><span class="sxs-lookup"><span data-stu-id="0ae7e-138">[Azure Kubernetes Service (AKS)](https://azure.microsoft.com/services/kubernetes-service/) is a managed Kubernetes container orchestration service in Azure that simplifies Kubernetes cluster’s management, deployment, and operations.</span></span>

## <a name="using-container-based-orchestrators-in-microsoft-azure"></a><span data-ttu-id="0ae7e-139">Utilisation d’orchestrateurs basés sur des conteneurs dans Microsoft Azure</span><span class="sxs-lookup"><span data-stu-id="0ae7e-139">Using container-based orchestrators in Microsoft Azure</span></span>

<span data-ttu-id="0ae7e-140">Plusieurs fournisseurs de cloud offrent la prise en charge des conteneurs Docker, ainsi que celle des clusters et de l’orchestration Docker, notamment Microsoft Azure, Amazon EC2 Container Service et Google Container Engine.</span><span class="sxs-lookup"><span data-stu-id="0ae7e-140">Several cloud vendors offer Docker containers support plus Docker clusters and orchestration support, including Microsoft Azure, Amazon EC2 Container Service, and Google Container Engine.</span></span> <span data-ttu-id="0ae7e-141">Microsoft Azure fournit une prise en charge des clusters et des orchestrateurs Docker par le biais d’Azure Kubernetes Service (AKS).</span><span class="sxs-lookup"><span data-stu-id="0ae7e-141">Microsoft Azure provides Docker cluster and orchestrator support through Azure Kubernetes Service (AKS).</span></span>

## <a name="using-azure-kubernetes-service"></a><span data-ttu-id="0ae7e-142">Utilisation d’Azure Kubernetes Service</span><span class="sxs-lookup"><span data-stu-id="0ae7e-142">Using Azure Kubernetes Service</span></span>

<span data-ttu-id="0ae7e-143">Un cluster Kubernetes regroupe plusieurs hôtes Docker et les expose sous la forme d’un seul hôte Docker virtuel. Vous pouvez donc déployer plusieurs conteneurs sur le cluster et effectuer un scale-out d’un nombre illimité d’instances de conteneurs.</span><span class="sxs-lookup"><span data-stu-id="0ae7e-143">A Kubernetes cluster pools multiple Docker hosts and exposes them as a single virtual Docker host, so you can deploy multiple containers into the cluster and scale-out with any number of container instances.</span></span> <span data-ttu-id="0ae7e-144">Le cluster prend en charge tous les détails complexes de la gestion, comme la scalabilité , l’intégrité, etc.</span><span class="sxs-lookup"><span data-stu-id="0ae7e-144">The cluster will handle all the complex management plumbing, like scalability, health, and so forth.</span></span>

<span data-ttu-id="0ae7e-145">AKS offre un moyen de simplifier la création, la configuration et la gestion d’un cluster de machines virtuelles dans Azure. Ces machines virtuelles sont préconfigurées pour exécuter des applications conteneurisées.</span><span class="sxs-lookup"><span data-stu-id="0ae7e-145">AKS provides a way to simplify the creation, configuration, and management of a cluster of virtual machines in Azure that are preconfigured to run containerized applications.</span></span> <span data-ttu-id="0ae7e-146">À l’aide d’une configuration optimisée d’outils open source courants de planification et d’orchestration, AKS vous permet d’utiliser vos compétences existantes ou de profiter de l’expertise importante et toujours croissante de la communauté pour déployer et gérer des applications conteneurisées sur Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="0ae7e-146">Using an optimized configuration of popular open-source scheduling and orchestration tools, AKS enables you to use your existing skills or draw on a large and growing body of community expertise to deploy and manage container-based applications on Microsoft Azure.</span></span>

<span data-ttu-id="0ae7e-147">Azure Kubernetes Service optimise la configuration des technologies et outils open source courants de clustering Docker spécifiquement pour Azure.</span><span class="sxs-lookup"><span data-stu-id="0ae7e-147">Azure Kubernetes Service optimizes the configuration of popular Docker clustering open-source tools and technologies specifically for Azure.</span></span> <span data-ttu-id="0ae7e-148">Vous obtenez une solution ouverte qui offre la portabilité à la fois pour vos conteneurs et pour la configuration de votre application.</span><span class="sxs-lookup"><span data-stu-id="0ae7e-148">You get an open solution that offers portability for both your containers and your application configuration.</span></span> <span data-ttu-id="0ae7e-149">Il vous suffit de sélectionner la taille, le nombre d’hôtes et les outils de l’orchestrateur, AKS gère tout le reste.</span><span class="sxs-lookup"><span data-stu-id="0ae7e-149">You select the size, the number of hosts, and the orchestrator tools, and AKS handles everything else.</span></span>

![Structure de cluster Kubernetes : il existe un nœud principal qui gère le système DNS, le planificateur, le proxy, etc., et plusieurs nœuds de travail, qui hébergent les conteneurs.](media/image36.png)

<span data-ttu-id="0ae7e-151">**Figure 4-24**.</span><span class="sxs-lookup"><span data-stu-id="0ae7e-151">**Figure 4-24**.</span></span> <span data-ttu-id="0ae7e-152">Structure et topologie simplifiées du cluster Kubernetes</span><span class="sxs-lookup"><span data-stu-id="0ae7e-152">Kubernetes cluster's simplified structure and topology</span></span>

<span data-ttu-id="0ae7e-153">Sur la figure 4-24, vous pouvez voir la structure d’un cluster Kubernetes où un nœud principal (machine virtuelle) contrôle la majeure partie de la coordination du cluster. Vous pouvez déployer des conteneurs sur le reste des nœuds, qui sont managés sous forme de pool unique du point de vue d’une application. De plus, vous pouvez effectuer un scale-out de milliers, voire de dizaines de milliers de conteneurs.</span><span class="sxs-lookup"><span data-stu-id="0ae7e-153">In figure 4-24 you can see the structure of a Kubernetes cluster where a master node (VM) controls most of the coordination of the cluster and you can deploy containers to the rest of the nodes which are managed as a single pool from an application point of view and allows you to scale to thousands or even tens of thousands of containers.</span></span>

## <a name="development-environment-for-kubernetes"></a><span data-ttu-id="0ae7e-154">Environnement de développement pour Kubernetes</span><span class="sxs-lookup"><span data-stu-id="0ae7e-154">Development environment for Kubernetes</span></span>

<span data-ttu-id="0ae7e-155">Pour l’environnement de développement, [Docker a annoncé en juillet 2018](https://blog.docker.com/2018/07/kubernetes-is-now-available-in-docker-desktop-stable-channel/) que Kubernetes pouvait également s’exécuter sur une seule machine de développement (Windows 10 ou macOS) à condition simplement d’installer [Docker Desktop](https://docs.docker.com/install/).</span><span class="sxs-lookup"><span data-stu-id="0ae7e-155">In the development environment, [Docker announced in July 2018](https://blog.docker.com/2018/07/kubernetes-is-now-available-in-docker-desktop-stable-channel/) that Kubernetes can also run in a single development machine (Windows 10 or macOS) by simply installing [Docker Desktop](https://docs.docker.com/install/).</span></span> <span data-ttu-id="0ae7e-156">Vous pouvez ensuite effectuer un déploiement sur le cloud (AKS) pour d’autres tests d’intégration, comme indiqué sur la figure 4-25.</span><span class="sxs-lookup"><span data-stu-id="0ae7e-156">You can later deploy to the cloud (AKS) for further integration tests, as shown in figure 4-25.</span></span>

![Docker a annoncé la prise en charge des machines de développement pour les clusters Kubernetes en juillet 2018 avec Docker Desktop.](media/image37.png) 

<span data-ttu-id="0ae7e-158">**Figure 4-25**.</span><span class="sxs-lookup"><span data-stu-id="0ae7e-158">**Figure 4-25**.</span></span> <span data-ttu-id="0ae7e-159">Exécution de Kubernetes sur la machine de développement et dans le cloud</span><span class="sxs-lookup"><span data-stu-id="0ae7e-159">Running Kubernetes in dev machine and the cloud</span></span>

## <a name="getting-started-with-azure-kubernetes-service-aks"></a><span data-ttu-id="0ae7e-160">Bien démarrer avec AKS (Azure Kubernetes Service)</span><span class="sxs-lookup"><span data-stu-id="0ae7e-160">Getting started with Azure Kubernetes Service (AKS)</span></span> 

<span data-ttu-id="0ae7e-161">Pour commencer à utiliser AKS, vous devez déployer un cluster AKS à partir du Portail Azure ou à l’aide de l’interface de ligne de commande.</span><span class="sxs-lookup"><span data-stu-id="0ae7e-161">To begin using AKS, you deploy an AKS cluster from the Azure portal or by using the CLI.</span></span> <span data-ttu-id="0ae7e-162">Pour plus d’informations sur le déploiement d’un cluster Kubernetes dans Azure, consultez [Déployer un cluster AKS (Azure Kubernetes Service)](https://docs.microsoft.com/azure/aks/kubernetes-walkthrough-portal).</span><span class="sxs-lookup"><span data-stu-id="0ae7e-162">For more information on deploying a Kubernetes cluster in Azure, see [Deploy an Azure Kubernetes Service (AKS) cluster](https://docs.microsoft.com/azure/aks/kubernetes-walkthrough-portal).</span></span>

<span data-ttu-id="0ae7e-163">Aucun coût n’est facturé pour les logiciels installés par défaut dans le cadre d’AKS.</span><span class="sxs-lookup"><span data-stu-id="0ae7e-163">There are no fees for any of the software installed by default as part of AKS.</span></span> <span data-ttu-id="0ae7e-164">Toutes les options par défaut sont implémentées avec des logiciels open source.</span><span class="sxs-lookup"><span data-stu-id="0ae7e-164">All default options are implemented with open-source software.</span></span> <span data-ttu-id="0ae7e-165">AKS est disponible pour plusieurs machines virtuelles dans Azure.</span><span class="sxs-lookup"><span data-stu-id="0ae7e-165">AKS is available for multiple virtual machines in Azure.</span></span> <span data-ttu-id="0ae7e-166">Vous payez seulement pour les instances de calcul que vous choisissez ainsi que pour les autres ressources de l’infrastructure sous-jacente consommées, comme le stockage et le réseau.</span><span class="sxs-lookup"><span data-stu-id="0ae7e-166">You're charged only for the compute instances you choose, as well as the other underlying infrastructure resources consumed, such as storage and networking.</span></span> <span data-ttu-id="0ae7e-167">Aucun coût supplémentaire n’est facturé pour AKS.</span><span class="sxs-lookup"><span data-stu-id="0ae7e-167">There are no incremental charges for AKS itself.</span></span>

<span data-ttu-id="0ae7e-168">Pour plus d’informations sur l’implémentation du déploiement sur Kubernetes à partir de fichiers kubectl et .yaml d’origine, consultez le billet relatif à la [configuration d’eShopOnContainers dans AKS (Azure Kubernetes Service)](https://github.com/dotnet-architecture/eShopOnContainers/wiki/10.-Setting-the-solution-up-in-AKS-(Azure-Kubernetes-Service)).</span><span class="sxs-lookup"><span data-stu-id="0ae7e-168">For further implementation information on deployment to Kubernetes based on kubectl and original .yaml files, check the post on [Setting eShopOnContainers up in AKS (Azure Kubernetes Service)](https://github.com/dotnet-architecture/eShopOnContainers/wiki/10.-Setting-the-solution-up-in-AKS-(Azure-Kubernetes-Service)).</span></span>

## <a name="deploying-with-helm-charts-into-kubernetes-clusters"></a><span data-ttu-id="0ae7e-169">Déploiement à l’aide de charts Helm sur des clusters Kubernetes</span><span class="sxs-lookup"><span data-stu-id="0ae7e-169">Deploying with Helm charts into Kubernetes clusters</span></span>

<span data-ttu-id="0ae7e-170">Durant le déploiement d’une application sur un cluster Kubernetes, vous pouvez utiliser l’outil CLI kubectl.exe d’origine et des fichiers de déploiement basés sur le format natif (fichiers .yaml), comme indiqué dans la section précédente.</span><span class="sxs-lookup"><span data-stu-id="0ae7e-170">When deploying an application to a Kubernetes cluster, you can use the original kubectl.exe CLI tool using deployment files based on the native format (.yaml files), as already mentioned in the previous section.</span></span> <span data-ttu-id="0ae7e-171">Toutefois, pour les applications Kubernetes plus complexes, par exemple quand vous déployez des applications de microservices complexes, il est recommandé d’utiliser [Helm](https://helm.sh/).</span><span class="sxs-lookup"><span data-stu-id="0ae7e-171">However, for more complex Kubernetes applications such as when deploying complex microservice-based applications, it's recommended to use [Helm](https://helm.sh/).</span></span>

<span data-ttu-id="0ae7e-172">Les charts Helm facilitent la définition, la gestion de versions, l’installation, le partage, la mise à niveau ou la restauration des applications Kubernetes les plus complexes.</span><span class="sxs-lookup"><span data-stu-id="0ae7e-172">Helm Charts helps you define, version, install, share, upgrade or rollback even the most complex Kubernetes application.</span></span>

<span data-ttu-id="0ae7e-173">De plus, l’utilisation de Helm est également recommandée, car d’autres environnements Kubernetes dans Azure, par exemple [Azure Dev Spaces](https://docs.microsoft.com/azure/dev-spaces/azure-dev-spaces), sont également basés sur des charts Helm.</span><span class="sxs-lookup"><span data-stu-id="0ae7e-173">Going further, Helm usage is also recommended because additional Kubernetes environments in Azure, such as [Azure Dev Spaces](https://docs.microsoft.com/azure/dev-spaces/azure-dev-spaces) are also based on Helm charts.</span></span>

<span data-ttu-id="0ae7e-174">Helm est géré par le [CNCF (Cloud Native Computing Foundation)](https://www.cncf.io/), en collaboration avec Microsoft, Google, Bitnami et la communauté de contributeurs Helm.</span><span class="sxs-lookup"><span data-stu-id="0ae7e-174">Helm is maintained by the [Cloud Native Computing Foundation (CNCF)](https://www.cncf.io/) - in collaboration with Microsoft, Google, Bitnami and the Helm contributor community.</span></span>

<span data-ttu-id="0ae7e-175">Pour plus d’informations sur l’implémentation de charts Helm et de Kubernetes, consultez le billet relatif à l’[utilisation de charts Helm afin de déployer eShopOnContainers sur AKS](https://github.com/dotnet-architecture/eShopOnContainers/wiki/10.1-Deploying-to-AKS-using-Helm-Charts).</span><span class="sxs-lookup"><span data-stu-id="0ae7e-175">For further implementation information on Helm charts and Kubernetes check the post on [Using Helm Charts to deploy eShopOnContainers to AKS](https://github.com/dotnet-architecture/eShopOnContainers/wiki/10.1-Deploying-to-AKS-using-Helm-Charts).</span></span>

## <a name="use-azure-dev-spaces-for-your-kubernetes-application-lifecycle"></a><span data-ttu-id="0ae7e-176">Utiliser Azure Dev Spaces pour le cycle de vie de votre application Kubernetes</span><span class="sxs-lookup"><span data-stu-id="0ae7e-176">Use Azure Dev Spaces for your Kubernetes application lifecycle</span></span>

<span data-ttu-id="0ae7e-177">[Azure Dev Spaces](https://docs.microsoft.com/azure/dev-spaces/azure-dev-spaces) fournit aux équipes une expérience de développement rapide et itérative de Kubernetes.</span><span class="sxs-lookup"><span data-stu-id="0ae7e-177">[Azure Dev Spaces](https://docs.microsoft.com/azure/dev-spaces/azure-dev-spaces) provides a rapid, iterative Kubernetes development experience for teams.</span></span> <span data-ttu-id="0ae7e-178">Avec une configuration minimale de la machine de développement, vous pouvez exécuter et déboguer des conteneurs de manière itérative directement dans AKS (Azure Kubernetes Service).</span><span class="sxs-lookup"><span data-stu-id="0ae7e-178">With minimal dev machine setup, you can iteratively run and debug containers directly in Azure Kubernetes Service (AKS).</span></span> <span data-ttu-id="0ae7e-179">Développez sur Windows, Mac ou Linux à l’aide d’outils familiers, tels que Visual Studio et Visual Studio Code, ou à partir de la ligne de commande.</span><span class="sxs-lookup"><span data-stu-id="0ae7e-179">Develop on Windows, Mac, or Linux using familiar tools like Visual Studio, Visual Studio Code, or the command line.</span></span>

<span data-ttu-id="0ae7e-180">Comme cela a déjà été indiqué, Azure Dev Spaces utilise des charts Helm durant le déploiement d’applications conteneurisées.</span><span class="sxs-lookup"><span data-stu-id="0ae7e-180">As mentioned, Azure Dev Spaces uses Helm charts when deploying the container-based applications.</span></span>

<span data-ttu-id="0ae7e-181">Azure Dev Spaces permet aux équipes de développement d’être plus productives sur Kubernetes, car il permet d’itérer et de déboguer rapidement du code directement dans un cluster Kubernetes global au sein d’Azure, en utilisant simplement Visual Studio 2017 ou Visual Studio Code.</span><span class="sxs-lookup"><span data-stu-id="0ae7e-181">Azure Dev Spaces helps development teams be more productive on Kubernetes because it allows you to rapidly iterate and debug code directly in a global Kubernetes cluster in Azure by simply using Visual Studio 2017 or Visual Studio Code.</span></span> <span data-ttu-id="0ae7e-182">Ce cluster Kubernetes dans Azure est un cluster Kubernetes managé partagé, ce qui permet à votre équipe de travailler de manière collaborative.</span><span class="sxs-lookup"><span data-stu-id="0ae7e-182">That Kubernetes cluster in Azure is a shared managed Kubernetes cluster, so your team can collaboratively work together.</span></span> <span data-ttu-id="0ae7e-183">Vous pouvez développer votre code de manière isolée, puis le déployer sur le cluster global et effectuer des tests de bout en bout avec d’autres composants sans réplication ou simulation des dépendances.</span><span class="sxs-lookup"><span data-stu-id="0ae7e-183">You can develop your code in isolation, then deploy to the global cluster and do end-to-end testing with other components without replicating or mocking up dependencies.</span></span>

<span data-ttu-id="0ae7e-184">Comme indiqué sur la figure 4-26, la fonctionnalité la plus différenciée dans Azure Dev Spaces est la création d’« espaces » pouvant être intégrés au reste du déploiement global dans le cluster.</span><span class="sxs-lookup"><span data-stu-id="0ae7e-184">As shown in figure 4-26, the most differential feature in Azure Dev Spaces is capability of creating 'spaces' that can run integrated to the rest of the global deployment in the cluster.</span></span>

![Azure Dev Spaces peut mélanger et associer de manière transparente des microservices de production à une instance de conteneur de développement pour faciliter le test des nouvelles versions.](media/image38.png)

<span data-ttu-id="0ae7e-186">**Figure 4-26**.</span><span class="sxs-lookup"><span data-stu-id="0ae7e-186">**Figure 4-26**.</span></span> <span data-ttu-id="0ae7e-187">Utilisation de plusieurs espaces dans Azure Dev Spaces</span><span class="sxs-lookup"><span data-stu-id="0ae7e-187">Using multiple spaces in Azure Dev Spaces</span></span>

<span data-ttu-id="0ae7e-188">Vous pouvez configurer un espace de développement partagé dans Azure.</span><span class="sxs-lookup"><span data-stu-id="0ae7e-188">Basically you can set up a shared dev space in Azure.</span></span> <span data-ttu-id="0ae7e-189">Chaque développeur peut se concentrer simplement sur sa partie de l’application et développer de manière itérative du code de prévalidation dans un espace de développement qui contient déjà tous les autres services et ressources cloud dont dépendent leurs scénarios.</span><span class="sxs-lookup"><span data-stu-id="0ae7e-189">Each developer can focus on just their part of the application, and can iteratively develop pre-commit code in a dev space that already contains all the other services and cloud resources that their scenarios depend on.</span></span> <span data-ttu-id="0ae7e-190">Les dépendances sont toujours à jour, et les développeurs travaillent comme en production.</span><span class="sxs-lookup"><span data-stu-id="0ae7e-190">Dependencies are always up-to-date, and developers are working in a way that mirrors production.</span></span>

<span data-ttu-id="0ae7e-191">Le concept d’espace propre à Azure Dev Spaces vous permet de travailler de manière relativement isolée sans craindre de perturber les membres de votre équipe.</span><span class="sxs-lookup"><span data-stu-id="0ae7e-191">Azure Dev Spaces provides the concept of a space, which allows you to work in relative isolation, and without the fear of breaking your team's work.</span></span> <span data-ttu-id="0ae7e-192">Chaque espace de développement fait partie d’une structure hiérarchique qui vous permet de remplacer un microservice (ou plusieurs), à partir de l’espace de développement principal « en haut », par votre microservice en cours d’élaboration.</span><span class="sxs-lookup"><span data-stu-id="0ae7e-192">Each dev space is part of a hierarchical structure that allows you to override one microservice (or many), from the "top" master dev space, with your own work-in-progress microservice.</span></span>

<span data-ttu-id="0ae7e-193">Cette fonctionnalité est basée sur les préfixes d’URL. Par conséquent, lorsque vous utilisez un préfixe d’espace de développement dans l’URL, une requête est envoyée à partir du microservice cible s’il existe dans l’espace de développement. Dans le cas contraire, cette requête est transférée à la première instance du microservice cible trouvée dans la hiérarchie, pour éventuellement atteindre l’espace de développement principal en haut.</span><span class="sxs-lookup"><span data-stu-id="0ae7e-193">This feature is based on URL prefixes, so when using any dev space prefix in the url, a request is served from the target microservice if it exists in the dev space, otherwise it's forwarded up to the first instance of the target microservice found in the hierarchy, eventually getting to the master dev space at the top.</span></span>

<span data-ttu-id="0ae7e-194">Vous pouvez voir la [page wiki d’eShopOnContainers sur Azure Dev Spaces](https://github.com/dotnet-architecture/eShopOnContainers/wiki/10.1-Using-Azure-Dev-Spaces-and-AKS) pour obtenir un exemple concret.</span><span class="sxs-lookup"><span data-stu-id="0ae7e-194">You can see the [eShopOnContainers wiki page on Azure Dev Spaces](https://github.com/dotnet-architecture/eShopOnContainers/wiki/10.1-Using-Azure-Dev-Spaces-and-AKS), to get a practical view on a concrete example.</span></span>

<span data-ttu-id="0ae7e-195">Pour plus d’informations, consultez l’article sur le [développement en équipe avec Azure Dev Spaces](https://docs.microsoft.com/azure/dev-spaces/team-development-netcore).</span><span class="sxs-lookup"><span data-stu-id="0ae7e-195">For further information check the article on [Team Development with Azure Dev Spaces](https://docs.microsoft.com/azure/dev-spaces/team-development-netcore).</span></span>

## <a name="additional-resources"></a><span data-ttu-id="0ae7e-196">Ressources supplémentaires</span><span class="sxs-lookup"><span data-stu-id="0ae7e-196">Additional resources</span></span>

- <span data-ttu-id="0ae7e-197">**Bien démarrer avec AKS (Azure Kubernetes Service)**  </span><span class="sxs-lookup"><span data-stu-id="0ae7e-197">**Getting started with Azure Kubernetes Service (AKS)** </span></span>\
  <https://docs.microsoft.com/azure/aks/kubernetes-walkthrough-portal>

- <span data-ttu-id="0ae7e-198">**Azure Dev Spaces** </span><span class="sxs-lookup"><span data-stu-id="0ae7e-198">**Azure Dev Spaces** </span></span>\
  <https://docs.microsoft.com/azure/dev-spaces/azure-dev-spaces>

- <span data-ttu-id="0ae7e-199">**Kubernetes** : site officiel.</span><span class="sxs-lookup"><span data-stu-id="0ae7e-199">**Kubernetes** The official site.</span></span> \
  <https://kubernetes.io/>

>[!div class="step-by-step"]
><span data-ttu-id="0ae7e-200">[Précédent](resilient-high-availability-microservices.md)
>[Suivant](../docker-application-development-process/index.md)</span><span class="sxs-lookup"><span data-stu-id="0ae7e-200">[Previous](resilient-high-availability-microservices.md)
[Next](../docker-application-development-process/index.md)</span></span>
