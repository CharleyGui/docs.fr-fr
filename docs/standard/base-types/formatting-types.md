---
title: Mettre en forme des types dans .NET
ms.date: 03/30/2017
ms.technology: dotnet-standard
dev_langs:
- csharp
- vb
helpviewer_keywords:
- data formatting [.NET Framework]
- dates [.NET Framework], formatting
- date formatting [.NET Framework]
- number formatting [.NET Framework]
- ToString method
- custom cultural settings [.NET Framework]
- numbers [.NET Framework], formatting
- formatting strings [.NET Framework]
- time [.NET Framework], formatting
- currency [.NET Framework], formatting
- types [.NET Framework], formatting
- format specifiers [.NET Framework]
- times [.NET Framework], formatting
- culture [.NET Framework], formatting
- formatting [.NET Framework], types supported
- base types [.NET Framework], formatting
- custom formatting [.NET Framework]
- strings [.NET Framework], formatting
ms.assetid: 0d1364da-5b30-4d42-8e6b-03378343343f
ms.openlocfilehash: e362ad75fd9989cc87751286f83918d340a58820
ms.sourcegitcommit: 559fcfbe4871636494870a8b716bf7325df34ac5
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/30/2019
ms.locfileid: "73141487"
---
# <a name="format-types-in-net"></a><span data-ttu-id="82064-102">Types de format dans .NET</span><span class="sxs-lookup"><span data-stu-id="82064-102">Format types in .NET</span></span>

<span data-ttu-id="82064-103">La mise en forme est le processus de conversion d'une instance d'une classe, d'une structure ou d'une valeur d'énumération en représentation sous forme de chaîne, généralement pour exposer la chaîne obtenue aux utilisateurs ou pour qu'elle soit désérialisée afin de restaurer le type de données d'origine.</span><span class="sxs-lookup"><span data-stu-id="82064-103">Formatting is the process of converting an instance of a class, structure, or enumeration value to its string representation, often so that the resulting string can be displayed to users or deserialized to restore the original data type.</span></span> <span data-ttu-id="82064-104">Cette conversion peut présenter plusieurs difficultés :</span><span class="sxs-lookup"><span data-stu-id="82064-104">This conversion can pose a number of challenges:</span></span>

- <span data-ttu-id="82064-105">La manière dont les valeurs sont stockées en interne ne reflète pas nécessairement celle dont les utilisateurs souhaitent les voir.</span><span class="sxs-lookup"><span data-stu-id="82064-105">The way that values are stored internally does not necessarily reflect the way that users want to view them.</span></span> <span data-ttu-id="82064-106">Par exemple, un numéro de téléphone peut être stocké sous la forme 8009999999, ce qui n'est pas convivial.</span><span class="sxs-lookup"><span data-stu-id="82064-106">For example, a telephone number might be stored in the form 8009999999, which is not user-friendly.</span></span> <span data-ttu-id="82064-107">Il devrait plutôt être affiché sous la forme 800-999-9999.</span><span class="sxs-lookup"><span data-stu-id="82064-107">It should instead be displayed as 800-999-9999.</span></span> <span data-ttu-id="82064-108">Consultez la section [Chaînes de format personnalisé](#custom-format-strings) pour obtenir un exemple d'une telle mise en forme d'un nombre.</span><span class="sxs-lookup"><span data-stu-id="82064-108">See the [Custom Format Strings](#custom-format-strings) section for an example that formats a number in this way.</span></span>

- <span data-ttu-id="82064-109">La conversion d'un objet en sa représentation sous forme de chaîne n'est pas toujours intuitive.</span><span class="sxs-lookup"><span data-stu-id="82064-109">Sometimes the conversion of an object to its string representation is not intuitive.</span></span> <span data-ttu-id="82064-110">Par exemple, il n'est pas évident de savoir comment doit s'afficher la représentation sous forme de chaîne d'un objet Temperature ou Person.</span><span class="sxs-lookup"><span data-stu-id="82064-110">For example, it is not clear how the string representation of a Temperature object or a Person object should appear.</span></span> <span data-ttu-id="82064-111">Pour obtenir un exemple illustrant la mise en forme d'un objet Temperature selon différentes manières, consultez la section [Chaînes de format standard](#standard-format-strings) .</span><span class="sxs-lookup"><span data-stu-id="82064-111">For an example that formats a Temperature object in a variety of ways, see the [Standard Format Strings](#standard-format-strings) section.</span></span>

- <span data-ttu-id="82064-112">Les valeurs requièrent souvent une mise en forme qui tient compte de la culture.</span><span class="sxs-lookup"><span data-stu-id="82064-112">Values often require culture-sensitive formatting.</span></span> <span data-ttu-id="82064-113">Par exemple, dans une application qui utilise des nombre pour refléter des valeurs monétaires, les chaînes numériques doivent inclure le symbole monétaire, le séparateur de groupes (qui, dans la plupart des cultures, est le séparateur des milliers) et le symbole décimal qui correspondent à la culture actuelle.</span><span class="sxs-lookup"><span data-stu-id="82064-113">For example, in an application that uses numbers to reflect monetary values, numeric strings should include the current culture’s currency symbol, group separator (which, in most cultures, is the thousands separator), and decimal symbol.</span></span> <span data-ttu-id="82064-114">Pour obtenir un exemple, consultez la section [mise en forme dépendante de la culture avec les fournisseurs de format](#culture-sensitive-formatting-with-format-providers) .</span><span class="sxs-lookup"><span data-stu-id="82064-114">For an example, see the [Culture-sensitive formatting with format providers](#culture-sensitive-formatting-with-format-providers) section.</span></span>

- <span data-ttu-id="82064-115">Une application peut avoir à afficher la même valeur de différentes manières.</span><span class="sxs-lookup"><span data-stu-id="82064-115">An application may have to display the same value in different ways.</span></span> <span data-ttu-id="82064-116">Par exemple, une application peut représenter un membre d'énumération en affichant une représentation sous forme de chaîne de son nom ou en affichant sa valeur sous-jacente.</span><span class="sxs-lookup"><span data-stu-id="82064-116">For example, an application may represent an enumeration member by displaying a string representation of its name or by displaying its underlying value.</span></span> <span data-ttu-id="82064-117">Pour obtenir un exemple illustrant la mise en forme d'un membre de l'énumération <xref:System.DayOfWeek> selon différentes manières, consultez la section [Chaînes de format standard](#standard-format-strings) .</span><span class="sxs-lookup"><span data-stu-id="82064-117">For an example that formats a member of the <xref:System.DayOfWeek> enumeration in different ways, see the [Standard Format Strings](#standard-format-strings) section.</span></span>

> [!NOTE]
> <span data-ttu-id="82064-118">La mise en forme convertit la valeur d'un type en une représentation sous forme de chaîne.</span><span class="sxs-lookup"><span data-stu-id="82064-118">Formatting converts the value of a type into a string representation.</span></span> <span data-ttu-id="82064-119">L'analyse est l'opération inverse de la mise en forme.</span><span class="sxs-lookup"><span data-stu-id="82064-119">Parsing is the inverse of formatting.</span></span> <span data-ttu-id="82064-120">Une opération d'analyse crée une instance d'un type de données à partir de sa représentation sous forme de chaîne.</span><span class="sxs-lookup"><span data-stu-id="82064-120">A parsing operation creates an instance of a data type from its string representation.</span></span> <span data-ttu-id="82064-121">Pour plus d’informations sur la conversion de chaînes en d’autres types de données, consultez [Parsing Strings](../../../docs/standard/base-types/parsing-strings.md).</span><span class="sxs-lookup"><span data-stu-id="82064-121">For information about converting strings to other data types, see [Parsing Strings](../../../docs/standard/base-types/parsing-strings.md).</span></span>

<span data-ttu-id="82064-122">.NET assure une prise en charge évoluée de la mise en forme qui permet aux développeurs de surmonter ces difficultés.</span><span class="sxs-lookup"><span data-stu-id="82064-122">.NET provides rich formatting support that enables developers to address these requirements.</span></span>

## <a name="formatting-in-net"></a><span data-ttu-id="82064-123">Mise en forme dans .NET</span><span class="sxs-lookup"><span data-stu-id="82064-123">Formatting in .NET</span></span>

<span data-ttu-id="82064-124">Le mécanisme de base de la mise en forme est l'implémentation par défaut de la méthode <xref:System.Object.ToString%2A?displayProperty=nameWithType>, décrite dans la section [Mise en forme par défaut à l'aide de la méthode ToString](#default-formatting-using-the-tostring-method), plus loin dans cette rubrique.</span><span class="sxs-lookup"><span data-stu-id="82064-124">The basic mechanism for formatting is the default implementation of the <xref:System.Object.ToString%2A?displayProperty=nameWithType> method, which is discussed in the [Default Formatting Using the ToString Method](#default-formatting-using-the-tostring-method) section later in this topic.</span></span> <span data-ttu-id="82064-125">Toutefois, .NET propose différentes manières de modifier et d’étendre sa prise en charge par défaut de la mise en forme.</span><span class="sxs-lookup"><span data-stu-id="82064-125">However, .NET provides several ways to modify and extend its default formatting support.</span></span> <span data-ttu-id="82064-126">Notamment :</span><span class="sxs-lookup"><span data-stu-id="82064-126">These include the following:</span></span>

- <span data-ttu-id="82064-127">Substitution de la méthode <xref:System.Object.ToString%2A?displayProperty=nameWithType> pour définir une représentation sous forme de chaîne personnalisée de la valeur d'un objet.</span><span class="sxs-lookup"><span data-stu-id="82064-127">Overriding the <xref:System.Object.ToString%2A?displayProperty=nameWithType> method to define a custom string representation of an object’s value.</span></span> <span data-ttu-id="82064-128">Pour plus d’informations, consultez la section [substitution de la méthode ToString](#override-the-tostring-method) , plus loin dans cette rubrique.</span><span class="sxs-lookup"><span data-stu-id="82064-128">For more information, see the [Override the ToString Method](#override-the-tostring-method) section later in this topic.</span></span>

- <span data-ttu-id="82064-129">Définition de spécificateurs de format qui permettent à la représentation sous forme de chaîne de la valeur d'un objet de prendre plusieurs formes.</span><span class="sxs-lookup"><span data-stu-id="82064-129">Defining format specifiers that enable the string representation of an object’s value to take multiple forms.</span></span> <span data-ttu-id="82064-130">Par exemple, dans l'instruction suivante, le spécificateur de format "X" convertit un entier en la représentation sous forme de chaîne d'une valeur hexadécimale.</span><span class="sxs-lookup"><span data-stu-id="82064-130">For example, the "X" format specifier in the following statement converts an integer to the string representation of a hexadecimal value.</span></span>

     [!code-csharp[Conceptual.Formatting.Overview#3](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.formatting.overview/cs/specifier1.cs#3)]
     [!code-vb[Conceptual.Formatting.Overview#3](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.formatting.overview/vb/specifier1.vb#3)]

     <span data-ttu-id="82064-131">Pour plus d'informations sur les spécificateurs de format, consultez la section [Méthode ToString et chaînes de format](#the-tostring-method-and-format-strings) .</span><span class="sxs-lookup"><span data-stu-id="82064-131">For more information about format specifiers, see the [ToString Method and Format Strings](#the-tostring-method-and-format-strings) section.</span></span>

- <span data-ttu-id="82064-132">Utilisation de fournisseurs de format pour tirer parti des conventions de mise en forme d'une culture spécifique.</span><span class="sxs-lookup"><span data-stu-id="82064-132">Using format providers to take advantage of the formatting conventions of a specific culture.</span></span> <span data-ttu-id="82064-133">Par exemple, l'instruction suivante affiche une valeur monétaire en utilisant les conventions de mise en forme de la culture en-US.</span><span class="sxs-lookup"><span data-stu-id="82064-133">For example, the following statement displays a currency value by using the formatting conventions of the en-US culture.</span></span>

     [!code-csharp[Conceptual.Formatting.Overview#10](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.formatting.overview/cs/specifier1.cs#10)]
     [!code-vb[Conceptual.Formatting.Overview#10](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.formatting.overview/vb/specifier1.vb#10)]

     <span data-ttu-id="82064-134">Pour plus d’informations sur la mise en forme avec les fournisseurs de format, consultez la section [fournisseurs de format](#culture-sensitive-formatting-with-format-providers) .</span><span class="sxs-lookup"><span data-stu-id="82064-134">For more information about formatting with format providers, see the [Format Providers](#culture-sensitive-formatting-with-format-providers) section.</span></span>

- <span data-ttu-id="82064-135">Implémentation de l'interface <xref:System.IFormattable> pour prendre en charge la conversion de chaînes avec la classe <xref:System.Convert> et la mise en forme composite.</span><span class="sxs-lookup"><span data-stu-id="82064-135">Implementing the <xref:System.IFormattable> interface to support both string conversion with the <xref:System.Convert> class and composite formatting.</span></span> <span data-ttu-id="82064-136">Pour plus d'informations, consultez la section [Interface IFormattable](#the-iformattable-interface) .</span><span class="sxs-lookup"><span data-stu-id="82064-136">For more information, see the [IFormattable Interface](#the-iformattable-interface) section.</span></span>

- <span data-ttu-id="82064-137">Utilisation de la mise en forme composite pour incorporer la représentation sous forme de chaîne d'une valeur dans une chaîne plus grande.</span><span class="sxs-lookup"><span data-stu-id="82064-137">Using composite formatting to embed the string representation of a value in a larger string.</span></span> <span data-ttu-id="82064-138">Pour plus d'informations, consultez la section [Mise en forme composite](#composite-formatting) .</span><span class="sxs-lookup"><span data-stu-id="82064-138">For more information, see the [Composite Formatting](#composite-formatting) section.</span></span>

- <span data-ttu-id="82064-139">Implémentation d' <xref:System.ICustomFormatter> et d' <xref:System.IFormatProvider> pour fournir une solution de mise en forme personnalisée et complète.</span><span class="sxs-lookup"><span data-stu-id="82064-139">Implementing <xref:System.ICustomFormatter> and <xref:System.IFormatProvider> to provide a complete custom formatting solution.</span></span> <span data-ttu-id="82064-140">Pour plus d'informations, consultez la section [Mise en forme personnalisée avec ICustomFormatter](#custom-formatting-with-icustomformatter) .</span><span class="sxs-lookup"><span data-stu-id="82064-140">For more information, see the [Custom Formatting with ICustomFormatter](#custom-formatting-with-icustomformatter) section.</span></span>

<span data-ttu-id="82064-141">Les sections suivantes étudient ces méthodes de conversion d'un objet en sa représentation sous forme de chaîne.</span><span class="sxs-lookup"><span data-stu-id="82064-141">The following sections examine these methods for converting an object to its string representation.</span></span>

## <a name="default-formatting-using-the-tostring-method"></a><span data-ttu-id="82064-142">Mise en forme par défaut à l’aide de la méthode ToString</span><span class="sxs-lookup"><span data-stu-id="82064-142">Default formatting using the ToString method</span></span>

<span data-ttu-id="82064-143">Chaque type qui est dérivé d' <xref:System.Object?displayProperty=nameWithType> hérite automatiquement d'une méthode `ToString` sans paramètre, laquelle retourne le nom du type par défaut.</span><span class="sxs-lookup"><span data-stu-id="82064-143">Every type that is derived from <xref:System.Object?displayProperty=nameWithType> automatically inherits a parameterless `ToString` method, which returns the name of the type by default.</span></span> <span data-ttu-id="82064-144">L'exemple suivant illustre la méthode `ToString` par défaut.</span><span class="sxs-lookup"><span data-stu-id="82064-144">The following example illustrates the default `ToString` method.</span></span> <span data-ttu-id="82064-145">Il définit une classe nommée `Automobile` qui n'a pas d'implémentation.</span><span class="sxs-lookup"><span data-stu-id="82064-145">It defines a class named `Automobile` that has no implementation.</span></span> <span data-ttu-id="82064-146">Lorsque cette classe est instanciée et que sa méthode `ToString` est appelée, elle affiche son nom de type.</span><span class="sxs-lookup"><span data-stu-id="82064-146">When the class is instantiated and its `ToString` method is called, it displays its type name.</span></span> <span data-ttu-id="82064-147">Notez que la méthode `ToString` n'est pas appelée explicitement dans cet exemple.</span><span class="sxs-lookup"><span data-stu-id="82064-147">Note that the `ToString` method is not explicitly called in the example.</span></span> <span data-ttu-id="82064-148">La méthode <xref:System.Console.WriteLine%28System.Object%29?displayProperty=nameWithType> appelle implicitement la méthode `ToString` de l'objet qui lui est passé comme argument.</span><span class="sxs-lookup"><span data-stu-id="82064-148">The <xref:System.Console.WriteLine%28System.Object%29?displayProperty=nameWithType> method implicitly calls the `ToString` method of the object passed to it as an argument.</span></span>

[!code-csharp[Conceptual.Formatting.Overview#1](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.formatting.overview/cs/default1.cs#1)]
[!code-vb[Conceptual.Formatting.Overview#1](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.formatting.overview/vb/default1.vb#1)]

> [!WARNING]
> <span data-ttu-id="82064-149">À partir de [!INCLUDE[win81](../../../includes/win81-md.md)], le Windows Runtime inclut une interface <xref:Windows.Foundation.IStringable> avec une méthode unique ([IStringable.ToString](xref:Windows.Foundation.IStringable.ToString%2A)) qui fournit la prise en charge par défaut de la mise en forme.</span><span class="sxs-lookup"><span data-stu-id="82064-149">Starting with [!INCLUDE[win81](../../../includes/win81-md.md)], the Windows Runtime includes an <xref:Windows.Foundation.IStringable> interface with a single method, [IStringable.ToString](xref:Windows.Foundation.IStringable.ToString%2A), which provides default formatting support.</span></span> <span data-ttu-id="82064-150">Toutefois, nous recommandons que les types managés n'implémentent pas l'interface `IStringable` .</span><span class="sxs-lookup"><span data-stu-id="82064-150">However, we recommend that managed types do not implement the `IStringable` interface.</span></span> <span data-ttu-id="82064-151">Pour plus d’informations, consultez la section « Windows Runtime et interface `IStringable` » dans la page de référence de <xref:System.Object.ToString%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="82064-151">For more information, see "The Windows Runtime and the `IStringable` Interface" section on the <xref:System.Object.ToString%2A?displayProperty=nameWithType> reference page.</span></span>

<span data-ttu-id="82064-152">Étant donné que tous les types autres que les interfaces sont dérivés de <xref:System.Object>, ces fonctionnalités sont fournies automatiquement à vos classes ou structures personnalisées.</span><span class="sxs-lookup"><span data-stu-id="82064-152">Because all types other than interfaces are derived from <xref:System.Object>, this functionality is automatically provided to your custom classes or structures.</span></span> <span data-ttu-id="82064-153">Toutefois, les fonctionnalités offertes par la méthode `ToString` par défaut sont limitées : Bien qu'elle identifie le type, elle ne fournit aucune information relative à une instance du type.</span><span class="sxs-lookup"><span data-stu-id="82064-153">However, the functionality offered by the default `ToString` method, is limited: Although it identifies the type, it fails to provide any information about an instance of the type.</span></span> <span data-ttu-id="82064-154">Pour fournir une représentation sous forme de chaîne d'un objet qui donne des informations sur cet objet, vous devez substituer la méthode `ToString` .</span><span class="sxs-lookup"><span data-stu-id="82064-154">To provide a string representation of an object that provides information about that object, you must override the `ToString` method.</span></span>

> [!NOTE]
> <span data-ttu-id="82064-155">Les structures héritent de <xref:System.ValueType>, qui, à son tour, est dérivé d' <xref:System.Object>.</span><span class="sxs-lookup"><span data-stu-id="82064-155">Structures inherit from <xref:System.ValueType>, which in turn is derived from <xref:System.Object>.</span></span> <span data-ttu-id="82064-156">Bien que <xref:System.ValueType> substitue <xref:System.Object.ToString%2A?displayProperty=nameWithType>, son implémentation est identique.</span><span class="sxs-lookup"><span data-stu-id="82064-156">Although <xref:System.ValueType> overrides <xref:System.Object.ToString%2A?displayProperty=nameWithType>, its implementation is identical.</span></span>

## <a name="override-the-tostring-method"></a><span data-ttu-id="82064-157">Substituer la méthode ToString</span><span class="sxs-lookup"><span data-stu-id="82064-157">Override the ToString method</span></span>

<span data-ttu-id="82064-158">L'utilité de l'affichage du nom d'un type est souvent limitée et ne permet pas aux consommateurs de vos types de différencier une instance d'une autre.</span><span class="sxs-lookup"><span data-stu-id="82064-158">Displaying the name of a type is often of limited use and does not allow consumers of your types to differentiate one instance from another.</span></span> <span data-ttu-id="82064-159">Toutefois, vous pouvez substituer la méthode `ToString` pour fournir une représentation plus utile de la valeur d'un objet.</span><span class="sxs-lookup"><span data-stu-id="82064-159">However, you can override the `ToString` method to provide a more useful representation of an object’s value.</span></span> <span data-ttu-id="82064-160">L'exemple suivant définit un objet `Temperature` et substitue sa méthode `ToString` pour afficher la température en degrés Celsius.</span><span class="sxs-lookup"><span data-stu-id="82064-160">The following example defines a `Temperature` object and overrides its `ToString` method to display the temperature in degrees Celsius.</span></span>

[!code-csharp[Conceptual.Formatting.Overview#2](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.formatting.overview/cs/overrides1.cs#2)]
[!code-vb[Conceptual.Formatting.Overview#2](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.formatting.overview/vb/overrides1.vb#2)]

<span data-ttu-id="82064-161">Dans .NET, la méthode `ToString` de chaque type valeur primitif a été écrasée de façon à afficher la valeur de l’objet plutôt que son nom.</span><span class="sxs-lookup"><span data-stu-id="82064-161">In .NET, the `ToString` method of each primitive value type has been overridden to display the object’s value instead of its name.</span></span> <span data-ttu-id="82064-162">Le tableau suivant montre la substitution pour chaque type primitif.</span><span class="sxs-lookup"><span data-stu-id="82064-162">The following table shows the override for each primitive type.</span></span> <span data-ttu-id="82064-163">Notez que la plupart des méthodes substituées appellent une autre surcharge de la méthode `ToString` et lui passent le spécificateur de format "G", qui définit le format général pour son type, ainsi qu'un objet <xref:System.IFormatProvider> qui représente la culture actuelle.</span><span class="sxs-lookup"><span data-stu-id="82064-163">Note that most of the overridden methods call another overload of the `ToString` method and pass it the "G" format specifier, which defines the general format for its type, and an <xref:System.IFormatProvider> object that represents the current culture.</span></span>

|<span data-ttu-id="82064-164">Tapez</span><span class="sxs-lookup"><span data-stu-id="82064-164">Type</span></span>|<span data-ttu-id="82064-165">Substitution de ToString</span><span class="sxs-lookup"><span data-stu-id="82064-165">ToString override</span></span>|
|----------|-----------------------|
|<xref:System.Boolean>|<span data-ttu-id="82064-166">Retourne <xref:System.Boolean.TrueString?displayProperty=nameWithType> ou <xref:System.Boolean.FalseString?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="82064-166">Returns either <xref:System.Boolean.TrueString?displayProperty=nameWithType> or <xref:System.Boolean.FalseString?displayProperty=nameWithType>.</span></span>|
|<xref:System.Byte>|<span data-ttu-id="82064-167">Appelle `Byte.ToString("G", NumberFormatInfo.CurrentInfo)` afin de mettre en forme la valeur <xref:System.Byte> pour la culture actuelle.</span><span class="sxs-lookup"><span data-stu-id="82064-167">Calls `Byte.ToString("G", NumberFormatInfo.CurrentInfo)` to format the <xref:System.Byte> value for the current culture.</span></span>|
|<xref:System.Char>|<span data-ttu-id="82064-168">Retourne le caractère sous forme de chaîne.</span><span class="sxs-lookup"><span data-stu-id="82064-168">Returns the character as a string.</span></span>|
|<xref:System.DateTime>|<span data-ttu-id="82064-169">Appelle `DateTime.ToString("G", DatetimeFormatInfo.CurrentInfo)` afin de mettre en forme la valeur de date et d'heure pour la culture actuelle.</span><span class="sxs-lookup"><span data-stu-id="82064-169">Calls `DateTime.ToString("G", DatetimeFormatInfo.CurrentInfo)` to format the date and time value for the current culture.</span></span>|
|<xref:System.Decimal>|<span data-ttu-id="82064-170">Appelle `Decimal.ToString("G", NumberFormatInfo.CurrentInfo)` afin de mettre en forme la valeur <xref:System.Decimal> pour la culture actuelle.</span><span class="sxs-lookup"><span data-stu-id="82064-170">Calls `Decimal.ToString("G", NumberFormatInfo.CurrentInfo)` to format the <xref:System.Decimal> value for the current culture.</span></span>|
|<xref:System.Double>|<span data-ttu-id="82064-171">Appelle `Double.ToString("G", NumberFormatInfo.CurrentInfo)` afin de mettre en forme la valeur <xref:System.Double> pour la culture actuelle.</span><span class="sxs-lookup"><span data-stu-id="82064-171">Calls `Double.ToString("G", NumberFormatInfo.CurrentInfo)` to format the <xref:System.Double> value for the current culture.</span></span>|
|<xref:System.Int16>|<span data-ttu-id="82064-172">Appelle `Int16.ToString("G", NumberFormatInfo.CurrentInfo)` afin de mettre en forme la valeur <xref:System.Int16> pour la culture actuelle.</span><span class="sxs-lookup"><span data-stu-id="82064-172">Calls `Int16.ToString("G", NumberFormatInfo.CurrentInfo)` to format the <xref:System.Int16> value for the current culture.</span></span>|
|<xref:System.Int32>|<span data-ttu-id="82064-173">Appelle `Int32.ToString("G", NumberFormatInfo.CurrentInfo)` afin de mettre en forme la valeur <xref:System.Int32> pour la culture actuelle.</span><span class="sxs-lookup"><span data-stu-id="82064-173">Calls `Int32.ToString("G", NumberFormatInfo.CurrentInfo)` to format the <xref:System.Int32> value for the current culture.</span></span>|
|<xref:System.Int64>|<span data-ttu-id="82064-174">Appelle `Int64.ToString("G", NumberFormatInfo.CurrentInfo)` afin de mettre en forme la valeur <xref:System.Int64> pour la culture actuelle.</span><span class="sxs-lookup"><span data-stu-id="82064-174">Calls `Int64.ToString("G", NumberFormatInfo.CurrentInfo)` to format the <xref:System.Int64> value for the current culture.</span></span>|
|<xref:System.SByte>|<span data-ttu-id="82064-175">Appelle `SByte.ToString("G", NumberFormatInfo.CurrentInfo)` afin de mettre en forme la valeur <xref:System.SByte> pour la culture actuelle.</span><span class="sxs-lookup"><span data-stu-id="82064-175">Calls `SByte.ToString("G", NumberFormatInfo.CurrentInfo)` to format the <xref:System.SByte> value for the current culture.</span></span>|
|<xref:System.Single>|<span data-ttu-id="82064-176">Appelle `Single.ToString("G", NumberFormatInfo.CurrentInfo)` afin de mettre en forme la valeur <xref:System.Single> pour la culture actuelle.</span><span class="sxs-lookup"><span data-stu-id="82064-176">Calls `Single.ToString("G", NumberFormatInfo.CurrentInfo)` to format the <xref:System.Single> value for the current culture.</span></span>|
|<xref:System.UInt16>|<span data-ttu-id="82064-177">Appelle `UInt16.ToString("G", NumberFormatInfo.CurrentInfo)` afin de mettre en forme la valeur <xref:System.UInt16> pour la culture actuelle.</span><span class="sxs-lookup"><span data-stu-id="82064-177">Calls `UInt16.ToString("G", NumberFormatInfo.CurrentInfo)` to format the <xref:System.UInt16> value for the current culture.</span></span>|
|<xref:System.UInt32>|<span data-ttu-id="82064-178">Appelle `UInt32.ToString("G", NumberFormatInfo.CurrentInfo)` afin de mettre en forme la valeur <xref:System.UInt32> pour la culture actuelle.</span><span class="sxs-lookup"><span data-stu-id="82064-178">Calls `UInt32.ToString("G", NumberFormatInfo.CurrentInfo)` to format the <xref:System.UInt32> value for the current culture.</span></span>|
|<xref:System.UInt64>|<span data-ttu-id="82064-179">Appelle `UInt64.ToString("G", NumberFormatInfo.CurrentInfo)` afin de mettre en forme la valeur <xref:System.UInt64> pour la culture actuelle.</span><span class="sxs-lookup"><span data-stu-id="82064-179">Calls `UInt64.ToString("G", NumberFormatInfo.CurrentInfo)` to format the <xref:System.UInt64> value for the current culture.</span></span>|

## <a name="the-tostring-method-and-format-strings"></a><span data-ttu-id="82064-180">Méthode ToString et chaînes de format</span><span class="sxs-lookup"><span data-stu-id="82064-180">The ToString method and format strings</span></span>

<span data-ttu-id="82064-181">Le recours à la méthode `ToString` ou la substitution de `ToString` ne valent que lorsqu'un objet a une seule représentation sous forme de chaîne possible.</span><span class="sxs-lookup"><span data-stu-id="82064-181">Relying on the default `ToString` method or overriding `ToString` is appropriate when an object has a single string representation.</span></span> <span data-ttu-id="82064-182">Toutefois, la valeur d'un objet a souvent plusieurs représentations.</span><span class="sxs-lookup"><span data-stu-id="82064-182">However, the value of an object often has multiple representations.</span></span> <span data-ttu-id="82064-183">Par exemple, une température peut être exprimée en degrés Fahrenheit, Celsius ou Kelvin.</span><span class="sxs-lookup"><span data-stu-id="82064-183">For example, a temperature can be expressed in degrees Fahrenheit, degrees Celsius, or kelvins.</span></span> <span data-ttu-id="82064-184">De même, la valeur entière 10 peut être représentée de plusieurs façons, dont 10, 10,0, 1,0e01 ou $10,00.</span><span class="sxs-lookup"><span data-stu-id="82064-184">Similarly, the integer value 10 can be represented in numerous ways, including 10, 10.0, 1.0e01, or $10.00.</span></span>

<span data-ttu-id="82064-185">Pour permettre à une même valeur d’avoir plusieurs représentations sous forme de chaîne, .NET utilise des chaînes de format.</span><span class="sxs-lookup"><span data-stu-id="82064-185">To enable a single value to have multiple string representations, .NET uses format strings.</span></span> <span data-ttu-id="82064-186">Une chaîne de format est une chaîne qui contient un ou plusieurs spécificateurs de format prédéfinis, constitués d'un ou de plusieurs caractères servant à définir la manière dont la méthode `ToString` doit mettre en forme sa sortie.</span><span class="sxs-lookup"><span data-stu-id="82064-186">A format string is a string that contains one or more predefined format specifiers, which are single characters or groups of characters that define how the `ToString` method should format its output.</span></span> <span data-ttu-id="82064-187">La chaîne de format est ensuite passée en tant que paramètre à la méthode `ToString` de l'objet et détermine la manière dont la représentation sous forme de chaîne de la valeur de cet objet doit apparaître.</span><span class="sxs-lookup"><span data-stu-id="82064-187">The format string is then passed as a parameter to the object's `ToString` method and determines how the string representation of that object's value should appear.</span></span>

<span data-ttu-id="82064-188">Dans .NET, tous les types numériques, types de date et d’heure et types énumération prennent en charge un jeu prédéfini de spécificateurs de format.</span><span class="sxs-lookup"><span data-stu-id="82064-188">All numeric types, date and time types, and enumeration types in .NET support a predefined set of format specifiers.</span></span> <span data-ttu-id="82064-189">Vous pouvez aussi utiliser des chaînes de format pour définir plusieurs représentations sous forme de chaîne de vos types de données définis par l'application.</span><span class="sxs-lookup"><span data-stu-id="82064-189">You can also use format strings to define multiple string representations of your application-defined data types.</span></span>

### <a name="standard-format-strings"></a><span data-ttu-id="82064-190">Chaînes de format standard</span><span class="sxs-lookup"><span data-stu-id="82064-190">Standard format strings</span></span>

<span data-ttu-id="82064-191">Une chaîne de format standard comprend un spécificateur de format unique, qui est un caractère alphabétique définissant la représentation sous forme de chaîne de l'objet auquel il s'applique, ainsi qu'un spécificateur de précision facultatif qui affecte le nombre de chiffres affichés dans la chaîne de résultat.</span><span class="sxs-lookup"><span data-stu-id="82064-191">A standard format string contains a single format specifier, which is an alphabetic character that defines the string representation of the object to which it is applied, along with an optional precision specifier that affects how many digits are displayed in the result string.</span></span> <span data-ttu-id="82064-192">Si le spécificateur de précision est omis ou n'est pas pris en charge, un spécificateur de format standard équivaut à une chaîne de format standard.</span><span class="sxs-lookup"><span data-stu-id="82064-192">If the precision specifier is omitted or is not supported, a standard format specifier is equivalent to a standard format string.</span></span>

<span data-ttu-id="82064-193">.NET définit un jeu de spécificateurs de format standard pour tous les types numériques, types de date et d’heure et types énumération.</span><span class="sxs-lookup"><span data-stu-id="82064-193">.NET defines a set of standard format specifiers for all numeric types, all date and time types, and all enumeration types.</span></span> <span data-ttu-id="82064-194">Par exemple, chacune de ces catégories prend en charge un spécificateur de format standard "G", lequel définit une représentation sous forme de chaîne générale d'une valeur de ce type.</span><span class="sxs-lookup"><span data-stu-id="82064-194">For example, each of these categories supports a "G" standard format specifier, which defines a general string representation of a value of that type.</span></span>

<span data-ttu-id="82064-195">Les chaînes de format standard pour les types énumération contrôlent directement la représentation sous forme de chaîne d'une valeur.</span><span class="sxs-lookup"><span data-stu-id="82064-195">Standard format strings for enumeration types directly control the string representation of a value.</span></span> <span data-ttu-id="82064-196">Les chaînes de format passées à la méthode `ToString` d'une valeur d'énumération déterminent si la valeur est affichée en utilisant son nom de chaîne (spécificateurs de format "G" et "F"), sa valeur intégrale sous-jacente (spécificateur de format "D") ou sa valeur hexadécimale (spécificateur de format "X").</span><span class="sxs-lookup"><span data-stu-id="82064-196">The format strings passed to an enumeration value’s `ToString` method determine whether the value is displayed using its string name (the "G" and "F" format specifiers), its underlying integral value (the "D" format specifier), or its hexadecimal value (the "X" format specifier).</span></span> <span data-ttu-id="82064-197">L'exemple suivant illustre l'utilisation de chaînes de format standard pour mettre en forme une valeur d'énumération <xref:System.DayOfWeek> .</span><span class="sxs-lookup"><span data-stu-id="82064-197">The following example illustrates the use of standard format strings to format a <xref:System.DayOfWeek> enumeration value.</span></span>

[!code-csharp[Conceptual.Formatting.Overview#4](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.formatting.overview/cs/standard1.cs#4)]
[!code-vb[Conceptual.Formatting.Overview#4](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.formatting.overview/vb/standard1.vb#4)]

<span data-ttu-id="82064-198">Pour plus d’informations sur les chaînes de format d’énumération, consultez [Enumeration Format Strings](../../../docs/standard/base-types/enumeration-format-strings.md).</span><span class="sxs-lookup"><span data-stu-id="82064-198">For information about enumeration format strings, see [Enumeration Format Strings](../../../docs/standard/base-types/enumeration-format-strings.md).</span></span>

<span data-ttu-id="82064-199">Les chaînes de format standard pour les types numériques définissent généralement une chaîne de résultat dont l'apparence précise est contrôlée par une ou plusieurs valeurs de propriété.</span><span class="sxs-lookup"><span data-stu-id="82064-199">Standard format strings for numeric types usually define a result string whose precise appearance is controlled by one or more property values.</span></span> <span data-ttu-id="82064-200">Par exemple, le spécificateur de format "C" met en forme un nombre en tant que valeur monétaire.</span><span class="sxs-lookup"><span data-stu-id="82064-200">For example, the "C" format specifier formats a number as a currency value.</span></span> <span data-ttu-id="82064-201">Lorsque vous appelez la méthode `ToString` avec, comme seul paramètre, le spécificateur de format "C", les valeurs des propriétés suivantes de l'objet <xref:System.Globalization.NumberFormatInfo> de la culture actuelle sont utilisées pour définir la représentation sous forme de chaîne de la valeur numérique :</span><span class="sxs-lookup"><span data-stu-id="82064-201">When you call the `ToString` method with the "C" format specifier as the only parameter, the following property values from the current culture’s <xref:System.Globalization.NumberFormatInfo> object are used to define the string representation of the numeric value:</span></span>

- <span data-ttu-id="82064-202">Propriété <xref:System.Globalization.NumberFormatInfo.CurrencySymbol%2A> , qui spécifie le symbole monétaire de la culture actuelle.</span><span class="sxs-lookup"><span data-stu-id="82064-202">The <xref:System.Globalization.NumberFormatInfo.CurrencySymbol%2A> property, which specifies the current culture’s currency symbol.</span></span>

- <span data-ttu-id="82064-203">Propriété <xref:System.Globalization.NumberFormatInfo.CurrencyNegativePattern%2A> ou <xref:System.Globalization.NumberFormatInfo.CurrencyPositivePattern%2A> , qui retourne un entier déterminant :</span><span class="sxs-lookup"><span data-stu-id="82064-203">The <xref:System.Globalization.NumberFormatInfo.CurrencyNegativePattern%2A> or <xref:System.Globalization.NumberFormatInfo.CurrencyPositivePattern%2A> property, which returns an integer that determines the following:</span></span>

  - <span data-ttu-id="82064-204">la position du symbole monétaire ;</span><span class="sxs-lookup"><span data-stu-id="82064-204">The placement of the currency symbol.</span></span>

  - <span data-ttu-id="82064-205">si les valeurs négatives sont indiquées par un signe négatif devant, par un signe négatif derrière ou par des parenthèses ;</span><span class="sxs-lookup"><span data-stu-id="82064-205">Whether negative values are indicated by a leading negative sign, a trailing negative sign, or parentheses.</span></span>

  - <span data-ttu-id="82064-206">si un espace apparaît entre la valeur numérique et le symbole monétaire.</span><span class="sxs-lookup"><span data-stu-id="82064-206">Whether a space appears between the numeric value and the currency symbol.</span></span>

- <span data-ttu-id="82064-207">Propriété <xref:System.Globalization.NumberFormatInfo.CurrencyDecimalDigits%2A> , qui définit le nombre de chiffres fractionnaires dans la chaîne de résultat.</span><span class="sxs-lookup"><span data-stu-id="82064-207">The <xref:System.Globalization.NumberFormatInfo.CurrencyDecimalDigits%2A> property, which defines the number of fractional digits in the result string.</span></span>

- <span data-ttu-id="82064-208">Propriété <xref:System.Globalization.NumberFormatInfo.CurrencyDecimalSeparator%2A> , qui définit le symbole de séparateur décimal dans la chaîne de résultat.</span><span class="sxs-lookup"><span data-stu-id="82064-208">The <xref:System.Globalization.NumberFormatInfo.CurrencyDecimalSeparator%2A> property, which defines the decimal separator symbol in the result string.</span></span>

- <span data-ttu-id="82064-209">Propriété <xref:System.Globalization.NumberFormatInfo.CurrencyGroupSeparator%2A> , qui définit le symbole du séparateur de groupes.</span><span class="sxs-lookup"><span data-stu-id="82064-209">The <xref:System.Globalization.NumberFormatInfo.CurrencyGroupSeparator%2A> property, which defines the group separator symbol.</span></span>

- <span data-ttu-id="82064-210">Propriété <xref:System.Globalization.NumberFormatInfo.CurrencyGroupSizes%2A> , qui définit le nombre de chiffres de chaque groupe situé à gauche du séparateur décimal.</span><span class="sxs-lookup"><span data-stu-id="82064-210">The <xref:System.Globalization.NumberFormatInfo.CurrencyGroupSizes%2A> property, which defines the number of digits in each group to the left of the decimal.</span></span>

- <span data-ttu-id="82064-211">Propriété <xref:System.Globalization.NumberFormatInfo.NegativeSign%2A> , qui détermine le signe négatif utilisé dans la chaîne de résultat si les parenthèses ne sont pas utilisées pour indiquer des valeurs négatives.</span><span class="sxs-lookup"><span data-stu-id="82064-211">The <xref:System.Globalization.NumberFormatInfo.NegativeSign%2A> property, which determines the negative sign used in the result string if parentheses are not used to indicate negative values.</span></span>

<span data-ttu-id="82064-212">De plus, les chaînes de format numériques peuvent inclure un spécificateur de précision.</span><span class="sxs-lookup"><span data-stu-id="82064-212">In addition, numeric format strings may include a precision specifier.</span></span> <span data-ttu-id="82064-213">La signification de ce spécificateur dépend de la chaîne de format avec laquelle il est utilisé, mais il indique généralement le nombre total de chiffres ou le nombre de chiffres fractionnaires qui doivent s'afficher dans la chaîne de résultat.</span><span class="sxs-lookup"><span data-stu-id="82064-213">The meaning of this specifier depends on the format string with which it is used, but it typically indicates either the total number of digits or the number of fractional digits that should appear in the result string.</span></span> <span data-ttu-id="82064-214">Par exemple, le code suivant utilise la chaîne numérique standard "X4" et un spécificateur de précision pour créer une valeur de chaîne qui comprend quatre chiffres hexadécimaux.</span><span class="sxs-lookup"><span data-stu-id="82064-214">For example, the following example uses the "X4" standard numeric string and a precision specifier to create a string value that has four hexadecimal digits.</span></span>

[!code-csharp[Conceptual.Formatting.Overview#6](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.formatting.overview/cs/precisionspecifier1.cs#6)]
[!code-vb[Conceptual.Formatting.Overview#6](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.formatting.overview/vb/precisionspecifier1.vb#6)]

<span data-ttu-id="82064-215">Pour plus d’informations sur les chaînes de format numériques standard, consultez [Standard Numeric Format Strings](../../../docs/standard/base-types/standard-numeric-format-strings.md).</span><span class="sxs-lookup"><span data-stu-id="82064-215">For more information about standard numeric formatting strings, see [Standard Numeric Format Strings](../../../docs/standard/base-types/standard-numeric-format-strings.md).</span></span>

<span data-ttu-id="82064-216">Les chaînes de format standard pour les valeurs de date et d'heure sont des alias de chaînes de format personnalisées stockées par une propriété <xref:System.Globalization.DateTimeFormatInfo> particulière.</span><span class="sxs-lookup"><span data-stu-id="82064-216">Standard format strings for date and time values are aliases for custom format strings stored by a particular <xref:System.Globalization.DateTimeFormatInfo> property.</span></span> <span data-ttu-id="82064-217">Par exemple, appeler la méthode `ToString` d'une valeur de date et d'heure avec le spécificateur de format "D" affiche la date et l'heure en utilisant la chaîne de format personnalisée stockée dans la propriété <xref:System.Globalization.DateTimeFormatInfo.LongDatePattern%2A?displayProperty=nameWithType> de la culture actuelle.</span><span class="sxs-lookup"><span data-stu-id="82064-217">For example, calling the `ToString` method of a date and time value with the "D" format specifier displays the date and time by using the custom format string stored in the current culture’s <xref:System.Globalization.DateTimeFormatInfo.LongDatePattern%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="82064-218">(Pour plus d’informations sur les chaînes de format personnalisées, consultez la [section suivante](#custom-format-strings).) L’exemple suivant illustre cette relation.</span><span class="sxs-lookup"><span data-stu-id="82064-218">(For more information about custom format strings, see the [next section](#custom-format-strings).) The following example illustrates this relationship.</span></span>

[!code-csharp[Conceptual.Formatting.Overview#5](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.formatting.overview/cs/alias1.cs#5)]
[!code-vb[Conceptual.Formatting.Overview#5](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.formatting.overview/vb/alias1.vb#5)]

<span data-ttu-id="82064-219">Pour plus d’informations sur les chaînes de format de date et heure standard, consultez [Standard Date and Time Format Strings](../../../docs/standard/base-types/standard-date-and-time-format-strings.md).</span><span class="sxs-lookup"><span data-stu-id="82064-219">For more information about standard date and time format strings, see [Standard Date and Time Format Strings](../../../docs/standard/base-types/standard-date-and-time-format-strings.md).</span></span>

<span data-ttu-id="82064-220">Vous pouvez aussi utiliser des chaînes de format standard pour définir la représentation sous forme de chaîne produite par la méthode `ToString(String)` d'un objet défini par l'application.</span><span class="sxs-lookup"><span data-stu-id="82064-220">You can also use standard format strings to define the string representation of an application-defined object that is produced by the object’s `ToString(String)` method.</span></span> <span data-ttu-id="82064-221">Vous pouvez définir les spécificateurs de format standard spécifiques que votre objet prend en charge, et déterminer s'ils respectent la casse.</span><span class="sxs-lookup"><span data-stu-id="82064-221">You can define the specific standard format specifiers that your object supports, and you can determine whether they are case-sensitive or case-insensitive.</span></span> <span data-ttu-id="82064-222">Votre implémentation de la méthode `ToString(String)` doit prendre en charge les éléments suivants :</span><span class="sxs-lookup"><span data-stu-id="82064-222">Your implementation of the `ToString(String)` method should support the following:</span></span>

- <span data-ttu-id="82064-223">Spécificateur de format "G" qui représente un format habituel ou commun de l'objet.</span><span class="sxs-lookup"><span data-stu-id="82064-223">A "G" format specifier that represents a customary or common format of the object.</span></span> <span data-ttu-id="82064-224">La surcharge sans paramètre de la méthode `ToString` de votre objet doit appeler sa surcharge `ToString(String)` et lui passer la chaîne de format standard "G".</span><span class="sxs-lookup"><span data-stu-id="82064-224">The parameterless overload of your object's `ToString` method should call its `ToString(String)` overload and pass it the "G" standard format string.</span></span>

- <span data-ttu-id="82064-225">Prise en charge d'un spécificateur de format qui est égal à une référence null (`Nothing` en Visual Basic).</span><span class="sxs-lookup"><span data-stu-id="82064-225">Support for a format specifier that is equal to a null reference (`Nothing` in Visual Basic).</span></span> <span data-ttu-id="82064-226">Un spécificateur de format qui est égal à une référence null doit être considéré comme équivalent au spécificateur de format "G".</span><span class="sxs-lookup"><span data-stu-id="82064-226">A format specifier that is equal to a null reference should be considered equivalent to the "G" format specifier.</span></span>

<span data-ttu-id="82064-227">Par exemple, une classe `Temperature` peut stocker en interne la température en degrés Celsius et utiliser des spécificateurs de format pour représenter la valeur de l'objet `Temperature` en degrés Celsius, Fahrenheit et Kelvin.</span><span class="sxs-lookup"><span data-stu-id="82064-227">For example, a `Temperature` class can internally store the temperature in degrees Celsius and use format specifiers to represent the value of the `Temperature` object in degrees Celsius, degrees Fahrenheit, and kelvins.</span></span> <span data-ttu-id="82064-228">L'exemple suivant illustre cette situation.</span><span class="sxs-lookup"><span data-stu-id="82064-228">The following example provides an illustration.</span></span>

[!code-csharp[Conceptual.Formatting.Overview#7](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.formatting.overview/cs/appstandard1.cs#7)]
[!code-vb[Conceptual.Formatting.Overview#7](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.formatting.overview/vb/appstandard1.vb#7)]

### <a name="custom-format-strings"></a><span data-ttu-id="82064-229">Chaînes de format personnalisées</span><span class="sxs-lookup"><span data-stu-id="82064-229">Custom format strings</span></span>

<span data-ttu-id="82064-230">Outre les chaînes de format standard, .NET définit des chaînes de format personnalisées pour les valeurs numériques et les valeurs de date et d’heure.</span><span class="sxs-lookup"><span data-stu-id="82064-230">In addition to the standard format strings, .NET defines custom format strings for both numeric values and date and time values.</span></span> <span data-ttu-id="82064-231">Une chaîne de format personnalisée se compose d'un ou de plusieurs spécificateurs de format personnalisés qui définissent la représentation sous forme de chaîne d'une valeur.</span><span class="sxs-lookup"><span data-stu-id="82064-231">A custom format string consists of one or more custom format specifiers that define the string representation of a value.</span></span> <span data-ttu-id="82064-232">Par exemple, la chaîne de format de date et d'heure personnalisée "yyyy\mm\dd hh:mm:ffff t zzz" convertit une date en sa représentation sous forme de chaîne "2008/11/15 07:45:00.0000 P -08:00" pour la culture en-US.</span><span class="sxs-lookup"><span data-stu-id="82064-232">For example, the custom date and time format string "yyyy/mm/dd hh:mm:ss.ffff t zzz" converts a date to its string representation in the form "2008/11/15 07:45:00.0000 P -08:00" for the en-US culture.</span></span> <span data-ttu-id="82064-233">De même, la chaîne de format personnalisée "0000" convertit la valeur entière 12 en "0012".</span><span class="sxs-lookup"><span data-stu-id="82064-233">Similarly, the custom format string "0000" converts the integer value 12 to "0012".</span></span> <span data-ttu-id="82064-234">Pour obtenir la liste complète des chaînes de format personnalisées, consultez [Custom Date and Time Format Strings](../../../docs/standard/base-types/custom-date-and-time-format-strings.md) et [Custom Numeric Format Strings](../../../docs/standard/base-types/custom-numeric-format-strings.md).</span><span class="sxs-lookup"><span data-stu-id="82064-234">For a complete list of custom format strings, see [Custom Date and Time Format Strings](../../../docs/standard/base-types/custom-date-and-time-format-strings.md) and [Custom Numeric Format Strings](../../../docs/standard/base-types/custom-numeric-format-strings.md).</span></span>

<span data-ttu-id="82064-235">Si une chaîne de format se compose d'un seul spécificateur de format personnalisé, le spécificateur de format doit être précédé du symbole de pourcentage (%) pour éviter toute confusion avec un spécificateur de format standard.</span><span class="sxs-lookup"><span data-stu-id="82064-235">If a format string consists of a single custom format specifier, the format specifier should be preceded by the percent (%) symbol to avoid confusion with a standard format specifier.</span></span> <span data-ttu-id="82064-236">L'exemple suivant utilise le spécificateur de format personnalisé "M" pour afficher un nombre à un chiffre ou à deux chiffres du mois d'une date particulière.</span><span class="sxs-lookup"><span data-stu-id="82064-236">The following example uses the "M" custom format specifier to display a one-digit or two-digit number of the month of a particular date.</span></span>

[!code-csharp[Conceptual.Formatting.Overview#8](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.formatting.overview/cs/singlecustom1.cs#8)]
[!code-vb[Conceptual.Formatting.Overview#8](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.formatting.overview/vb/singlecustom1.vb#8)]

<span data-ttu-id="82064-237">De nombreuses chaînes de format standard pour les valeurs de date et d'heure sont des alias de chaînes de format personnalisées qui sont définies par les propriétés de l'objet <xref:System.Globalization.DateTimeFormatInfo> .</span><span class="sxs-lookup"><span data-stu-id="82064-237">Many standard format strings for date and time values are aliases for custom format strings that are defined by properties of the <xref:System.Globalization.DateTimeFormatInfo> object.</span></span> <span data-ttu-id="82064-238">Les chaînes de format personnalisées offrent également une souplesse considérable en matière de mise en forme définie par l'application pour les valeurs numériques ou les valeurs de date et d'heure.</span><span class="sxs-lookup"><span data-stu-id="82064-238">Custom format strings also offer considerable flexibility in providing application-defined formatting for numeric values or date and time values.</span></span> <span data-ttu-id="82064-239">Vous pouvez définir vos propres chaînes de résultat personnalisées à la fois pour les valeurs numériques et pour les valeurs de date et d'heure en combinant plusieurs spécificateurs de format personnalisés dans une chaîne de format personnalisée unique.</span><span class="sxs-lookup"><span data-stu-id="82064-239">You can define your own custom result strings for both numeric values and date and time values by combining multiple custom format specifiers into a single custom format string.</span></span> <span data-ttu-id="82064-240">L'exemple suivant définit une chaîne de format personnalisée qui affiche le jour de la semaine entre parenthèses après le nom du mois, le jour et l'année.</span><span class="sxs-lookup"><span data-stu-id="82064-240">The following example defines a custom format string that displays the day of the week in parentheses after the month name, day, and year.</span></span>

[!code-csharp[Conceptual.Formatting.Overview#9](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.formatting.overview/cs/custom1.cs#9)]
[!code-vb[Conceptual.Formatting.Overview#9](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.formatting.overview/vb/custom1.vb#9)]

<span data-ttu-id="82064-241">L’exemple ci-dessous définit une chaîne de format personnalisée qui affiche une valeur <xref:System.Int64> sous la forme d’un numéro de téléphone américain standard à sept chiffres avec son indicatif régional.</span><span class="sxs-lookup"><span data-stu-id="82064-241">The following example defines a custom format string that displays an <xref:System.Int64> value as a standard, seven-digit U.S. telephone number along with its area code.</span></span>

[!code-csharp[Conceptual.Formatting.Overview#21](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.formatting.overview/cs/telnumber1.cs#21)]
[!code-vb[Conceptual.Formatting.Overview#21](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.formatting.overview/vb/telnumber1.vb#21)]

<span data-ttu-id="82064-242">Bien que les chaînes de format standard puissent généralement gérer la plupart des besoins de mise en forme pour vos types définis par l'application, vous pouvez également définir des spécificateurs de format personnalisés pour mettre en forme vos types.</span><span class="sxs-lookup"><span data-stu-id="82064-242">Although standard format strings can generally handle most of the formatting needs for your application-defined types, you may also define custom format specifiers to format your types.</span></span>

### <a name="format-strings-and-net-types"></a><span data-ttu-id="82064-243">Chaînes de format et types .NET</span><span class="sxs-lookup"><span data-stu-id="82064-243">Format strings and .NET types</span></span>

<span data-ttu-id="82064-244">Tous les types numériques (c’est-à-dire, les types <xref:System.Byte>, <xref:System.Decimal>, <xref:System.Double>, <xref:System.Int16>, <xref:System.Int32>, <xref:System.Int64>, <xref:System.SByte>, <xref:System.Single>, <xref:System.UInt16>, <xref:System.UInt32>, <xref:System.UInt64> et <xref:System.Numerics.BigInteger>), ainsi que les types <xref:System.DateTime>, <xref:System.DateTimeOffset>, <xref:System.TimeSpan> et <xref:System.Guid>, et tous les types énumération, prennent en charge la mise en forme avec des chaînes de format.</span><span class="sxs-lookup"><span data-stu-id="82064-244">All numeric types (that is, the <xref:System.Byte>, <xref:System.Decimal>, <xref:System.Double>, <xref:System.Int16>, <xref:System.Int32>, <xref:System.Int64>, <xref:System.SByte>, <xref:System.Single>, <xref:System.UInt16>, <xref:System.UInt32>, <xref:System.UInt64>, and <xref:System.Numerics.BigInteger> types), as well as the <xref:System.DateTime>, <xref:System.DateTimeOffset>, <xref:System.TimeSpan>, <xref:System.Guid>, and all enumeration types, support formatting with format strings.</span></span> <span data-ttu-id="82064-245">Pour plus d’informations sur les chaînes de format spécifiques prises en charge par chaque type, consultez les rubriques suivantes :</span><span class="sxs-lookup"><span data-stu-id="82064-245">For information on the specific format strings supported by each type, see the following topics:</span></span>

|<span data-ttu-id="82064-246">Titre</span><span class="sxs-lookup"><span data-stu-id="82064-246">Title</span></span>|<span data-ttu-id="82064-247">Définition</span><span class="sxs-lookup"><span data-stu-id="82064-247">Definition</span></span>|
|-----------|----------------|
|[<span data-ttu-id="82064-248">Chaînes de format numériques standard</span><span class="sxs-lookup"><span data-stu-id="82064-248">Standard Numeric Format Strings</span></span>](../../../docs/standard/base-types/standard-numeric-format-strings.md)|<span data-ttu-id="82064-249">Décrit des chaînes de format standard qui créent des représentations sous forme de chaîne couramment utilisées de valeurs numériques.</span><span class="sxs-lookup"><span data-stu-id="82064-249">Describes standard format strings that create commonly used string representations of numeric values.</span></span>|
|[<span data-ttu-id="82064-250">Chaînes de format numériques personnalisées</span><span class="sxs-lookup"><span data-stu-id="82064-250">Custom Numeric Format Strings</span></span>](../../../docs/standard/base-types/custom-numeric-format-strings.md)|<span data-ttu-id="82064-251">Décrit des chaînes de format personnalisées qui créent des formats spécifiques à l'application pour les valeurs numériques.</span><span class="sxs-lookup"><span data-stu-id="82064-251">Describes custom format strings that create application-specific formats for numeric values.</span></span>|
|[<span data-ttu-id="82064-252">Chaînes de format de date et d'heure standard</span><span class="sxs-lookup"><span data-stu-id="82064-252">Standard Date and Time Format Strings</span></span>](../../../docs/standard/base-types/standard-date-and-time-format-strings.md)|<span data-ttu-id="82064-253">Décrit des chaînes de format standard qui créent des représentations courantes de valeurs <xref:System.DateTime> et <xref:System.DateTimeOffset> sous forme de chaînes.</span><span class="sxs-lookup"><span data-stu-id="82064-253">Describes standard format strings that create commonly used string representations of <xref:System.DateTime> and <xref:System.DateTimeOffset> values.</span></span>|
|[<span data-ttu-id="82064-254">Chaînes de format de date et d’heure personnalisées</span><span class="sxs-lookup"><span data-stu-id="82064-254">Custom Date and Time Format Strings</span></span>](../../../docs/standard/base-types/custom-date-and-time-format-strings.md)|<span data-ttu-id="82064-255">Décrit des chaînes de format personnalisées qui créent des formats propres à l'application pour les valeurs <xref:System.DateTime> et <xref:System.DateTimeOffset>.</span><span class="sxs-lookup"><span data-stu-id="82064-255">Describes custom format strings that create application-specific formats for <xref:System.DateTime> and <xref:System.DateTimeOffset> values.</span></span>|
|[<span data-ttu-id="82064-256">Chaînes de format TimeSpan standard</span><span class="sxs-lookup"><span data-stu-id="82064-256">Standard TimeSpan Format Strings</span></span>](../../../docs/standard/base-types/standard-timespan-format-strings.md)|<span data-ttu-id="82064-257">Décrit des chaînes de format standard qui créent des représentations sous forme de chaîne couramment utilisées d'intervalles de temps.</span><span class="sxs-lookup"><span data-stu-id="82064-257">Describes standard format strings that create commonly used string representations of time intervals.</span></span>|
|[<span data-ttu-id="82064-258">Chaînes de format TimeSpan personnalisées</span><span class="sxs-lookup"><span data-stu-id="82064-258">Custom TimeSpan Format Strings</span></span>](../../../docs/standard/base-types/custom-timespan-format-strings.md)|<span data-ttu-id="82064-259">Décrit des chaînes de format personnalisées qui créent des formats spécifiques à l'application pour les intervalles de temps.</span><span class="sxs-lookup"><span data-stu-id="82064-259">Describes custom format strings that create application-specific formats for time intervals.</span></span>|
|[<span data-ttu-id="82064-260">Enumeration Format Strings</span><span class="sxs-lookup"><span data-stu-id="82064-260">Enumeration Format Strings</span></span>](../../../docs/standard/base-types/enumeration-format-strings.md)|<span data-ttu-id="82064-261">Décrit les chaînes de format standard qui sont utilisées pour créer des représentations sous forme de chaîne de valeurs d'énumération.</span><span class="sxs-lookup"><span data-stu-id="82064-261">Describes standard format strings that are used to create string representations of enumeration values.</span></span>|
|<xref:System.Guid.ToString%28System.String%29?displayProperty=nameWithType>|<span data-ttu-id="82064-262">Décrit les chaînes de format standard pour les valeurs <xref:System.Guid> .</span><span class="sxs-lookup"><span data-stu-id="82064-262">Describes standard format strings for <xref:System.Guid> values.</span></span>|

## <a name="culture-sensitive-formatting-with-format-providers"></a><span data-ttu-id="82064-263">Mise en forme dépendante de la culture avec les fournisseurs de format</span><span class="sxs-lookup"><span data-stu-id="82064-263">Culture-sensitive formatting with format providers</span></span>

<span data-ttu-id="82064-264">Si les spécificateurs de format vous permettent de personnaliser la mise en forme d'objets, la production, pour ces derniers, d'une représentation sous forme de chaîne explicite requiert souvent des informations de mise en forme supplémentaires.</span><span class="sxs-lookup"><span data-stu-id="82064-264">Although format specifiers let you customize the formatting of objects, producing a meaningful string representation of objects often requires additional formatting information.</span></span> <span data-ttu-id="82064-265">Par exemple, la mise en forme d'un nombre en tant que valeur monétaire en utilisant la chaîne de format standard "C" ou une chaîne de format personnalisée telle que "$ #, #.00" requiert au minimum l'existence d'informations à inclure dans la chaîne mise en forme concernant le symbole monétaire, le séparateur de groupes et le séparateur décimal appropriés.</span><span class="sxs-lookup"><span data-stu-id="82064-265">For example, formatting a number as a currency value by using either the "C" standard format string or a custom format string such as "$ #,#.00" requires, at a minimum, information about the correct currency symbol, group separator, and decimal separator to be available to include in the formatted string.</span></span> <span data-ttu-id="82064-266">Dans .NET, ces informations de mise en forme supplémentaires sont disponibles sur l’interface <xref:System.IFormatProvider>, laquelle est fournie comme paramètre d’une ou plusieurs surcharges de la méthode `ToString` de types numériques et de types de date et d’heure.</span><span class="sxs-lookup"><span data-stu-id="82064-266">In .NET, this additional formatting information is made available through the <xref:System.IFormatProvider> interface, which is provided as a parameter to one or more overloads of the `ToString` method of numeric types and date and time types.</span></span> <span data-ttu-id="82064-267">Des implémentations de <xref:System.IFormatProvider> sont utilisées dans .NET pour prendre en charge la mise en forme propre à la culture.</span><span class="sxs-lookup"><span data-stu-id="82064-267"><xref:System.IFormatProvider> implementations are used in .NET to support culture-specific formatting.</span></span> <span data-ttu-id="82064-268">L'exemple suivant montre comment la représentation d'un objet sous forme de chaîne évolue lorsqu'il est mis en forme avec trois objets <xref:System.IFormatProvider> représentant des cultures différentes.</span><span class="sxs-lookup"><span data-stu-id="82064-268">The following example illustrates how the string representation of an object changes when it is formatted with three <xref:System.IFormatProvider> objects that represent different cultures.</span></span>

[!code-csharp[Conceptual.Formatting.Overview#11](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.formatting.overview/cs/iformatprovider1.cs#11)]
[!code-vb[Conceptual.Formatting.Overview#11](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.formatting.overview/vb/iformatprovider1.vb#11)]

<span data-ttu-id="82064-269">L'interface <xref:System.IFormatProvider> inclut une méthode, <xref:System.IFormatProvider.GetFormat%28System.Type%29>, qui a un seul paramètre spécifiant le type d'objet qui fournit les informations de mise en forme.</span><span class="sxs-lookup"><span data-stu-id="82064-269">The <xref:System.IFormatProvider> interface includes one method, <xref:System.IFormatProvider.GetFormat%28System.Type%29>, which has a single parameter that specifies the type of object that provides formatting information.</span></span> <span data-ttu-id="82064-270">Si la méthode peut fournir un objet de ce type, elle le retourne.</span><span class="sxs-lookup"><span data-stu-id="82064-270">If the method can provide an object of that type, it returns it.</span></span> <span data-ttu-id="82064-271">Sinon, elle retourne une référence null (`Nothing` en Visual Basic).</span><span class="sxs-lookup"><span data-stu-id="82064-271">Otherwise, it returns a null reference (`Nothing` in Visual Basic).</span></span>

<span data-ttu-id="82064-272"><xref:System.IFormatProvider.GetFormat%2A?displayProperty=nameWithType> est une méthode de rappel.</span><span class="sxs-lookup"><span data-stu-id="82064-272"><xref:System.IFormatProvider.GetFormat%2A?displayProperty=nameWithType> is a callback method.</span></span> <span data-ttu-id="82064-273">Lorsque vous appelez une surcharge de méthode `ToString` qui inclut un paramètre <xref:System.IFormatProvider> , elle appelle la méthode <xref:System.IFormatProvider.GetFormat%2A> de cet objet <xref:System.IFormatProvider> .</span><span class="sxs-lookup"><span data-stu-id="82064-273">When you call a `ToString` method overload that includes an <xref:System.IFormatProvider> parameter, it calls the <xref:System.IFormatProvider.GetFormat%2A> method of that <xref:System.IFormatProvider> object.</span></span> <span data-ttu-id="82064-274">La méthode <xref:System.IFormatProvider.GetFormat%2A> est chargée de retourner les informations de mise en forme requises, spécifiées par son paramètre `formatType` , à la méthode `ToString` .</span><span class="sxs-lookup"><span data-stu-id="82064-274">The <xref:System.IFormatProvider.GetFormat%2A> method is responsible for returning an object that provides the necessary formatting information, as specified by its `formatType` parameter, to the `ToString` method.</span></span>

<span data-ttu-id="82064-275">Certaines méthodes de mise en forme ou de conversion de chaînes incluent un paramètre de type <xref:System.IFormatProvider>, mais la valeur de ce paramètre est souvent ignorée lorsque la méthode est appelée.</span><span class="sxs-lookup"><span data-stu-id="82064-275">A number of formatting or string conversion methods include a parameter of type <xref:System.IFormatProvider>, but in many cases the value of the parameter is ignored when the method is called.</span></span> <span data-ttu-id="82064-276">Le tableau suivant répertorie certaines des méthodes de mise en forme qui utilisent le paramètre et le type de l'objet <xref:System.Type> qu'elles passent à la méthode <xref:System.IFormatProvider.GetFormat%2A?displayProperty=nameWithType> .</span><span class="sxs-lookup"><span data-stu-id="82064-276">The following table lists some of the formatting methods that use the parameter and the type of the <xref:System.Type> object that they pass to the <xref:System.IFormatProvider.GetFormat%2A?displayProperty=nameWithType> method.</span></span>

|<span data-ttu-id="82064-277">Méthode</span><span class="sxs-lookup"><span data-stu-id="82064-277">Method</span></span>|<span data-ttu-id="82064-278">Type de paramètre `formatType`</span><span class="sxs-lookup"><span data-stu-id="82064-278">Type of `formatType` parameter</span></span>|
|------------|------------------------------------|
|<span data-ttu-id="82064-279">Méthode `ToString` de types numériques</span><span class="sxs-lookup"><span data-stu-id="82064-279">`ToString` method of numeric types</span></span>|<xref:System.Globalization.NumberFormatInfo?displayProperty=nameWithType>|
|<span data-ttu-id="82064-280">Méthode `ToString` de types de date et d'heure</span><span class="sxs-lookup"><span data-stu-id="82064-280">`ToString` method of date and time types</span></span>|<xref:System.Globalization.DateTimeFormatInfo?displayProperty=nameWithType>|
|<xref:System.String.Format%2A?displayProperty=nameWithType>|<xref:System.ICustomFormatter?displayProperty=nameWithType>|
|<xref:System.Text.StringBuilder.AppendFormat%2A?displayProperty=nameWithType>|<xref:System.ICustomFormatter?displayProperty=nameWithType>|

> [!NOTE]
> <span data-ttu-id="82064-281">Les méthodes `ToString` des types numériques et des types de date et d'heure sont surchargées, et seules certaines des surcharges incluent un paramètre <xref:System.IFormatProvider> .</span><span class="sxs-lookup"><span data-stu-id="82064-281">The `ToString` methods of the numeric types and date and time types are overloaded, and only some of the overloads include an <xref:System.IFormatProvider> parameter.</span></span> <span data-ttu-id="82064-282">Si une méthode n'a pas de paramètre de type <xref:System.IFormatProvider>, l'objet retourné par la propriété <xref:System.Globalization.CultureInfo.CurrentCulture%2A?displayProperty=nameWithType> est passé à la place.</span><span class="sxs-lookup"><span data-stu-id="82064-282">If a method does not have a parameter of type <xref:System.IFormatProvider>, the object that is returned by the <xref:System.Globalization.CultureInfo.CurrentCulture%2A?displayProperty=nameWithType> property is passed instead.</span></span> <span data-ttu-id="82064-283">Par exemple, un appel à la méthode <xref:System.Int32.ToString?displayProperty=nameWithType> par défaut a, pour résultat, un appel de méthode semblable au suivant : `Int32.ToString("G", System.Globalization.CultureInfo.CurrentCulture)`.</span><span class="sxs-lookup"><span data-stu-id="82064-283">For example, a call to the default <xref:System.Int32.ToString?displayProperty=nameWithType> method ultimately results in a method call such as the following: `Int32.ToString("G", System.Globalization.CultureInfo.CurrentCulture)`.</span></span>

<span data-ttu-id="82064-284">.NET propose trois classes qui implémentent <xref:System.IFormatProvider> :</span><span class="sxs-lookup"><span data-stu-id="82064-284">.NET provides three classes that implement <xref:System.IFormatProvider>:</span></span>

- <span data-ttu-id="82064-285"><xref:System.Globalization.DateTimeFormatInfo>, une classe qui fournit des informations de mise en forme pour les valeurs de date et d'heure pour une culture spécifique.</span><span class="sxs-lookup"><span data-stu-id="82064-285"><xref:System.Globalization.DateTimeFormatInfo>, a class that provides formatting information for date and time values for a specific culture.</span></span> <span data-ttu-id="82064-286">Son implémentation de <xref:System.IFormatProvider.GetFormat%2A?displayProperty=nameWithType> retourne une instance d'elle-même.</span><span class="sxs-lookup"><span data-stu-id="82064-286">Its <xref:System.IFormatProvider.GetFormat%2A?displayProperty=nameWithType> implementation returns an instance of itself.</span></span>

- <span data-ttu-id="82064-287"><xref:System.Globalization.NumberFormatInfo>, une classe qui fournit des informations de mise en forme des nombres pour une culture spécifique.</span><span class="sxs-lookup"><span data-stu-id="82064-287"><xref:System.Globalization.NumberFormatInfo>, a class that provides numeric formatting information for a specific culture.</span></span> <span data-ttu-id="82064-288">Son implémentation de <xref:System.IFormatProvider.GetFormat%2A?displayProperty=nameWithType> retourne une instance d'elle-même.</span><span class="sxs-lookup"><span data-stu-id="82064-288">Its <xref:System.IFormatProvider.GetFormat%2A?displayProperty=nameWithType> implementation returns an instance of itself.</span></span>

- <span data-ttu-id="82064-289"><xref:System.Globalization.CultureInfo>.,</span><span class="sxs-lookup"><span data-stu-id="82064-289"><xref:System.Globalization.CultureInfo>.</span></span> <span data-ttu-id="82064-290">Son implémentation de <xref:System.IFormatProvider.GetFormat%2A?displayProperty=nameWithType> peut retourner un objet <xref:System.Globalization.NumberFormatInfo> pour fournir des informations de mise en forme des nombres ou un objet <xref:System.Globalization.DateTimeFormatInfo> pour fournir des informations de mise en forme des valeurs de date et d'heure.</span><span class="sxs-lookup"><span data-stu-id="82064-290">Its <xref:System.IFormatProvider.GetFormat%2A?displayProperty=nameWithType> implementation can return either a <xref:System.Globalization.NumberFormatInfo> object to provide numeric formatting information or a <xref:System.Globalization.DateTimeFormatInfo> object to provide formatting information for date and time values.</span></span>

<span data-ttu-id="82064-291">Vous pouvez aussi implémenter votre propre fournisseur de format en remplacement de l'une de ces classes.</span><span class="sxs-lookup"><span data-stu-id="82064-291">You can also implement your own format provider to replace any one of these classes.</span></span> <span data-ttu-id="82064-292">Toutefois, la méthode <xref:System.IFormatProvider.GetFormat%2A> de votre implémentation doit retourner un objet du type répertorié dans le tableau précédent s'il doit fournir des informations de mise en forme à la méthode `ToString`.</span><span class="sxs-lookup"><span data-stu-id="82064-292">However, your implementation’s <xref:System.IFormatProvider.GetFormat%2A> method must return an object of the type listed in the previous table if it has to provide formatting information to the `ToString` method.</span></span>

### <a name="culture-sensitive-formatting-of-numeric-values"></a><span data-ttu-id="82064-293">Mise en forme dépendante de la culture des valeurs numériques</span><span class="sxs-lookup"><span data-stu-id="82064-293">Culture-sensitive formatting of numeric values</span></span>

<span data-ttu-id="82064-294">Par défaut, la mise en forme des valeurs numériques est dépendante de la culture.</span><span class="sxs-lookup"><span data-stu-id="82064-294">By default, the formatting of numeric values is culture-sensitive.</span></span> <span data-ttu-id="82064-295">Si vous ne spécifiez pas de culture lorsque vous appelez une méthode de mise en forme, les conventions de mise en forme de la culture actuelle du thread sont utilisées.</span><span class="sxs-lookup"><span data-stu-id="82064-295">If you do not specify a culture when you call a formatting method, the formatting conventions of the current thread culture are used.</span></span> <span data-ttu-id="82064-296">Ceci est illustré dans l'exemple ci-dessous où la culture actuelle du thread est changée quatre fois avant que la méthode <xref:System.Decimal.ToString%28System.String%29?displayProperty=nameWithType> soit appelée.</span><span class="sxs-lookup"><span data-stu-id="82064-296">This is illustrated in the following example, which changes the current thread culture four times and then calls the <xref:System.Decimal.ToString%28System.String%29?displayProperty=nameWithType> method.</span></span> <span data-ttu-id="82064-297">Dans chaque cas, la chaîne obtenue reflète les conventions de mise en forme de la culture actuelle.</span><span class="sxs-lookup"><span data-stu-id="82064-297">In each case, the result string reflects the formatting conventions of the current culture.</span></span> <span data-ttu-id="82064-298">Ceci tient au fait que les méthodes `ToString` et `ToString(String)` encapsulent les appels à la méthode `ToString(String, IFormatProvider)` de chaque type numérique.</span><span class="sxs-lookup"><span data-stu-id="82064-298">This is because the `ToString` and `ToString(String)` methods wrap calls to each numeric type's `ToString(String, IFormatProvider)` method.</span></span>

[!code-csharp[Conceptual.Formatting.Overview#19](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.formatting.overview/cs/culturespecific3.cs#19)]
[!code-vb[Conceptual.Formatting.Overview#19](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.formatting.overview/vb/culturespecific3.vb#19)]

<span data-ttu-id="82064-299">Vous pouvez également mettre en forme une valeur numérique pour une culture spécifique en appelant une surcharge `ToString` dotée d'un paramètre `provider` et en lui passant l'un ou l'autre des éléments suivants :</span><span class="sxs-lookup"><span data-stu-id="82064-299">You can also format a numeric value for a specific culture by calling a `ToString` overload that has a `provider` parameter and passing it either of the following:</span></span>

- <span data-ttu-id="82064-300">Un objet <xref:System.Globalization.CultureInfo> représentant la culture dont les conventions de mise en forme doivent être utilisées.</span><span class="sxs-lookup"><span data-stu-id="82064-300">A <xref:System.Globalization.CultureInfo> object that represents the culture whose formatting conventions are to be used.</span></span> <span data-ttu-id="82064-301">Sa méthode <xref:System.Globalization.CultureInfo.GetFormat%2A?displayProperty=nameWithType> retourne la valeur de la propriété <xref:System.Globalization.CultureInfo.NumberFormat%2A?displayProperty=nameWithType> , qui est l'objet <xref:System.Globalization.NumberFormatInfo> qui fournit des informations de mise en forme propres à la culture pour les valeurs numériques.</span><span class="sxs-lookup"><span data-stu-id="82064-301">Its <xref:System.Globalization.CultureInfo.GetFormat%2A?displayProperty=nameWithType> method returns the value of the <xref:System.Globalization.CultureInfo.NumberFormat%2A?displayProperty=nameWithType> property, which is the <xref:System.Globalization.NumberFormatInfo> object that provides culture-specific formatting information for numeric values.</span></span>

- <span data-ttu-id="82064-302">Un objet <xref:System.Globalization.NumberFormatInfo> définissant les conventions de mise en forme propres à la culture qui doivent être utilisées.</span><span class="sxs-lookup"><span data-stu-id="82064-302">A <xref:System.Globalization.NumberFormatInfo> object that defines the culture-specific formatting conventions to be used.</span></span> <span data-ttu-id="82064-303">Sa méthode <xref:System.Globalization.NumberFormatInfo.GetFormat%2A> retourne une instance d'elle-même.</span><span class="sxs-lookup"><span data-stu-id="82064-303">Its <xref:System.Globalization.NumberFormatInfo.GetFormat%2A> method returns an instance of itself.</span></span>

<span data-ttu-id="82064-304">L'exemple suivant utilise des objets <xref:System.Globalization.NumberFormatInfo> qui représentent les cultures Anglais (États-Unis) et Anglais (Royaume-Uni), ainsi que les cultures neutres Français et Russe pour mettre en forme un nombre à virgule flottante.</span><span class="sxs-lookup"><span data-stu-id="82064-304">The following example uses <xref:System.Globalization.NumberFormatInfo> objects that represent the English (United States) and English (Great Britain) cultures and the French and Russian neutral cultures to format a floating-point number.</span></span>

[!code-csharp[Conceptual.Formatting.Overview#20](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.formatting.overview/cs/culturespecific4.cs#20)]
[!code-vb[Conceptual.Formatting.Overview#20](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.formatting.overview/vb/culturespecific4.vb#20)]

### <a name="culture-sensitive-formatting-of-date-and-time-values"></a><span data-ttu-id="82064-305">Mise en forme dépendante de la culture des valeurs de date et d’heure</span><span class="sxs-lookup"><span data-stu-id="82064-305">Culture-sensitive formatting of date and time values</span></span>

<span data-ttu-id="82064-306">Par défaut, la mise en forme des valeurs de date et d'heure est dépendante de la culture.</span><span class="sxs-lookup"><span data-stu-id="82064-306">By default, the formatting of date and time values is culture-sensitive.</span></span> <span data-ttu-id="82064-307">Si vous ne spécifiez pas de culture lorsque vous appelez une méthode de mise en forme, les conventions de mise en forme de la culture actuelle du thread sont utilisées.</span><span class="sxs-lookup"><span data-stu-id="82064-307">If you do not specify a culture when you call a formatting method, the formatting conventions of the current thread culture are used.</span></span> <span data-ttu-id="82064-308">Ceci est illustré dans l'exemple ci-dessous où la culture actuelle du thread est changée quatre fois avant que la méthode <xref:System.DateTime.ToString%28System.String%29?displayProperty=nameWithType> soit appelée.</span><span class="sxs-lookup"><span data-stu-id="82064-308">This is illustrated in the following example, which changes the current thread culture four times and then calls the <xref:System.DateTime.ToString%28System.String%29?displayProperty=nameWithType> method.</span></span> <span data-ttu-id="82064-309">Dans chaque cas, la chaîne obtenue reflète les conventions de mise en forme de la culture actuelle.</span><span class="sxs-lookup"><span data-stu-id="82064-309">In each case, the result string reflects the formatting conventions of the current culture.</span></span> <span data-ttu-id="82064-310">Ceci tient au fait que les méthodes <xref:System.DateTime.ToString?displayProperty=nameWithType>, <xref:System.DateTime.ToString%28System.String%29?displayProperty=nameWithType>, <xref:System.DateTimeOffset.ToString?displayProperty=nameWithType>et <xref:System.DateTimeOffset.ToString%28System.String%29?displayProperty=nameWithType> encapsulent les appels aux méthodes <xref:System.DateTime.ToString%28System.String%2CSystem.IFormatProvider%29?displayProperty=nameWithType> et <xref:System.DateTimeOffset.ToString%28System.String%2CSystem.IFormatProvider%29?displayProperty=nameWithType> .</span><span class="sxs-lookup"><span data-stu-id="82064-310">This is because the <xref:System.DateTime.ToString?displayProperty=nameWithType>, <xref:System.DateTime.ToString%28System.String%29?displayProperty=nameWithType>, <xref:System.DateTimeOffset.ToString?displayProperty=nameWithType>, and <xref:System.DateTimeOffset.ToString%28System.String%29?displayProperty=nameWithType> methods wrap calls to the <xref:System.DateTime.ToString%28System.String%2CSystem.IFormatProvider%29?displayProperty=nameWithType> and <xref:System.DateTimeOffset.ToString%28System.String%2CSystem.IFormatProvider%29?displayProperty=nameWithType> methods.</span></span>

[!code-csharp[Conceptual.Formatting.Overview#17](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.formatting.overview/cs/culturespecific1.cs#17)]
[!code-vb[Conceptual.Formatting.Overview#17](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.formatting.overview/vb/culturespecific1.vb#17)]

<span data-ttu-id="82064-311">Vous pouvez également mettre en forme une valeur de date et d'heure pour une culture spécifique en appelant une surcharge <xref:System.DateTime.ToString%2A?displayProperty=nameWithType> ou <xref:System.DateTimeOffset.ToString%2A?displayProperty=nameWithType> dotée d'un paramètre `provider` et en lui passant l'un ou l'autre des éléments suivants :</span><span class="sxs-lookup"><span data-stu-id="82064-311">You can also format a date and time value for a specific culture by calling a <xref:System.DateTime.ToString%2A?displayProperty=nameWithType> or <xref:System.DateTimeOffset.ToString%2A?displayProperty=nameWithType> overload that has a `provider` parameter and passing it either of the following:</span></span>

- <span data-ttu-id="82064-312">Un objet <xref:System.Globalization.CultureInfo> représentant la culture dont les conventions de mise en forme doivent être utilisées.</span><span class="sxs-lookup"><span data-stu-id="82064-312">A <xref:System.Globalization.CultureInfo> object that represents the culture whose formatting conventions are to be used.</span></span> <span data-ttu-id="82064-313">Sa méthode <xref:System.Globalization.CultureInfo.GetFormat%2A?displayProperty=nameWithType> retourne la valeur de la propriété <xref:System.Globalization.CultureInfo.DateTimeFormat%2A?displayProperty=nameWithType> , qui est l'objet <xref:System.Globalization.DateTimeFormatInfo> qui fournit des informations de mise en forme propres à la culture pour les valeurs de date et d'heure.</span><span class="sxs-lookup"><span data-stu-id="82064-313">Its <xref:System.Globalization.CultureInfo.GetFormat%2A?displayProperty=nameWithType> method returns the value of the <xref:System.Globalization.CultureInfo.DateTimeFormat%2A?displayProperty=nameWithType> property, which is the <xref:System.Globalization.DateTimeFormatInfo> object that provides culture-specific formatting information for date and time values.</span></span>

- <span data-ttu-id="82064-314">Un objet <xref:System.Globalization.DateTimeFormatInfo> définissant les conventions de mise en forme propres à la culture qui doivent être utilisées.</span><span class="sxs-lookup"><span data-stu-id="82064-314">A <xref:System.Globalization.DateTimeFormatInfo> object that defines the culture-specific formatting conventions to be used.</span></span> <span data-ttu-id="82064-315">Sa méthode <xref:System.Globalization.DateTimeFormatInfo.GetFormat%2A> retourne une instance d'elle-même.</span><span class="sxs-lookup"><span data-stu-id="82064-315">Its <xref:System.Globalization.DateTimeFormatInfo.GetFormat%2A> method returns an instance of itself.</span></span>

<span data-ttu-id="82064-316">L'exemple suivant utilise des objets <xref:System.Globalization.DateTimeFormatInfo> qui représentent les cultures Anglais (États-Unis) et Anglais (Royaume-Uni), ainsi que les cultures neutres Français et Russe pour mettre en forme une date.</span><span class="sxs-lookup"><span data-stu-id="82064-316">The following example uses <xref:System.Globalization.DateTimeFormatInfo> objects that represent the English (United States) and English (Great Britain) cultures and the French and Russian neutral cultures to format a date.</span></span>

[!code-csharp[Conceptual.Formatting.Overview#18](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.formatting.overview/cs/culturespecific2.cs#18)]
[!code-vb[Conceptual.Formatting.Overview#18](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.formatting.overview/vb/culturespecific2.vb#18)]

## <a name="the-iformattable-interface"></a><span data-ttu-id="82064-317">Interface IFormattable</span><span class="sxs-lookup"><span data-stu-id="82064-317">The IFormattable interface</span></span>

<span data-ttu-id="82064-318">En règle générale, les types qui surchargent la méthode `ToString` avec une chaîne de format et un paramètre <xref:System.IFormatProvider> implémentent également l'interface <xref:System.IFormattable> .</span><span class="sxs-lookup"><span data-stu-id="82064-318">Typically, types that overload the `ToString` method with a format string and an <xref:System.IFormatProvider> parameter also implement the <xref:System.IFormattable> interface.</span></span> <span data-ttu-id="82064-319">Cette interface comprend un seul membre, <xref:System.IFormattable.ToString%28System.String%2CSystem.IFormatProvider%29?displayProperty=nameWithType>, qui inclut comme paramètres une chaîne de format et un fournisseur de format.</span><span class="sxs-lookup"><span data-stu-id="82064-319">This interface has a single member, <xref:System.IFormattable.ToString%28System.String%2CSystem.IFormatProvider%29?displayProperty=nameWithType>, that includes both a format string and a format provider as parameters.</span></span>

<span data-ttu-id="82064-320">L'implémentation de l'interface <xref:System.IFormattable> pour votre classe définie par l'application présente deux avantages :</span><span class="sxs-lookup"><span data-stu-id="82064-320">Implementing the <xref:System.IFormattable> interface for your application-defined class offers two advantages:</span></span>

- <span data-ttu-id="82064-321">Prise en charge de la conversion de chaînes par la classe <xref:System.Convert> .</span><span class="sxs-lookup"><span data-stu-id="82064-321">Support for string conversion by the <xref:System.Convert> class.</span></span> <span data-ttu-id="82064-322">Les appels aux méthodes <xref:System.Convert.ToString%28System.Object%29?displayProperty=nameWithType> et <xref:System.Convert.ToString%28System.Object%2CSystem.IFormatProvider%29?displayProperty=nameWithType> appellent automatiquement votre implémentation d' <xref:System.IFormattable> .</span><span class="sxs-lookup"><span data-stu-id="82064-322">Calls to the <xref:System.Convert.ToString%28System.Object%29?displayProperty=nameWithType> and <xref:System.Convert.ToString%28System.Object%2CSystem.IFormatProvider%29?displayProperty=nameWithType> methods call your <xref:System.IFormattable> implementation automatically.</span></span>

- <span data-ttu-id="82064-323">Prise en charge de la mise en forme composite.</span><span class="sxs-lookup"><span data-stu-id="82064-323">Support for composite formatting.</span></span> <span data-ttu-id="82064-324">Si un élément de mise en forme qui inclut une chaîne de format est utilisé pour mettre en forme votre type personnalisé, le Common Language Runtime appelle automatiquement votre implémentation d' <xref:System.IFormattable> et lui passe la chaîne de format.</span><span class="sxs-lookup"><span data-stu-id="82064-324">If a format item that includes a format string is used to format your custom type, the common language runtime automatically calls your <xref:System.IFormattable> implementation and passes it the format string.</span></span> <span data-ttu-id="82064-325">Pour plus d'informations sur la mise en forme composite avec des méthodes telles que <xref:System.String.Format%2A?displayProperty=nameWithType> ou <xref:System.Console.WriteLine%2A?displayProperty=nameWithType>, consultez la section [Mise en forme composite](#composite-formatting) .</span><span class="sxs-lookup"><span data-stu-id="82064-325">For more information about composite formatting with methods such as <xref:System.String.Format%2A?displayProperty=nameWithType> or <xref:System.Console.WriteLine%2A?displayProperty=nameWithType>, see the [Composite Formatting](#composite-formatting) section.</span></span>

<span data-ttu-id="82064-326">L'exemple suivant définit une classe `Temperature` qui implémente l'interface <xref:System.IFormattable> .</span><span class="sxs-lookup"><span data-stu-id="82064-326">The following example defines a `Temperature` class that implements the <xref:System.IFormattable> interface.</span></span> <span data-ttu-id="82064-327">Il prend en charge les spécificateurs de format "C" ou "G" pour afficher la température en Celsius, le spécificateur de format "F" pour afficher la température en Fahrenheit et le spécificateur de format "K" pour afficher la température en Kelvin.</span><span class="sxs-lookup"><span data-stu-id="82064-327">It supports the "C" or "G" format specifiers to display the temperature in Celsius, the "F" format specifier to display the temperature in Fahrenheit, and the "K" format specifier to display the temperature in Kelvin.</span></span>

[!code-csharp[Conceptual.Formatting.Overview#12](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.formatting.overview/cs/iformattable.cs#12)]
[!code-vb[Conceptual.Formatting.Overview#12](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.formatting.overview/vb/iformattable.vb#12)]

<span data-ttu-id="82064-328">L'exemple suivant instancie un objet `Temperature`.</span><span class="sxs-lookup"><span data-stu-id="82064-328">The following example instantiates a `Temperature` object.</span></span> <span data-ttu-id="82064-329">Il appelle ensuite la méthode <xref:System.Convert.ToString%2A> et utilise plusieurs chaînes de format composites pour obtenir des représentations sous forme de chaîne différentes d'un objet `Temperature` .</span><span class="sxs-lookup"><span data-stu-id="82064-329">It then calls the <xref:System.Convert.ToString%2A> method and uses several composite format strings to obtain different string representations of a `Temperature` object.</span></span> <span data-ttu-id="82064-330">Chacun de ces appels de méthode appelle, à son tour, l'implémentation d' <xref:System.IFormattable> de la classe `Temperature` .</span><span class="sxs-lookup"><span data-stu-id="82064-330">Each of these method calls, in turn, calls the <xref:System.IFormattable> implementation of the `Temperature` class.</span></span>

[!code-csharp[Conceptual.Formatting.Overview#13](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.formatting.overview/cs/iformattable.cs#13)]
[!code-vb[Conceptual.Formatting.Overview#13](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.formatting.overview/vb/iformattable.vb#13)]

## <a name="composite-formatting"></a><span data-ttu-id="82064-331">Mise en forme composite</span><span class="sxs-lookup"><span data-stu-id="82064-331">Composite formatting</span></span>

<span data-ttu-id="82064-332">Certaines méthodes, telles que <xref:System.String.Format%2A?displayProperty=nameWithType> et <xref:System.Text.StringBuilder.AppendFormat%2A?displayProperty=nameWithType>, prennent en charge la mise en forme composite.</span><span class="sxs-lookup"><span data-stu-id="82064-332">Some methods, such as <xref:System.String.Format%2A?displayProperty=nameWithType> and <xref:System.Text.StringBuilder.AppendFormat%2A?displayProperty=nameWithType>, support composite formatting.</span></span> <span data-ttu-id="82064-333">Une chaîne de format composite est un genre de modèle retournant une seule chaîne qui incorpore la représentation sous forme de chaîne de zéro, un ou plusieurs objets.</span><span class="sxs-lookup"><span data-stu-id="82064-333">A composite format string is a kind of template that returns a single string that incorporates the string representation of zero, one, or more objects.</span></span> <span data-ttu-id="82064-334">Chaque objet est représenté dans la chaîne de format composite par un élément de mise en forme indexé.</span><span class="sxs-lookup"><span data-stu-id="82064-334">Each object is represented in the composite format string by an indexed format item.</span></span> <span data-ttu-id="82064-335">L'index de l'élément de mise en forme correspond à la position de l'objet qu'il représente dans la liste de paramètres de la méthode.</span><span class="sxs-lookup"><span data-stu-id="82064-335">The index of the format item corresponds to the position of the object that it represents in the method's parameter list.</span></span> <span data-ttu-id="82064-336">Les index sont de base zéro.</span><span class="sxs-lookup"><span data-stu-id="82064-336">Indexes are zero-based.</span></span> <span data-ttu-id="82064-337">Par exemple, dans l'appel suivant à la méthode <xref:System.String.Format%2A?displayProperty=nameWithType>, le premier élément de mise en forme, `{0:D}`, est remplacé par la représentation sous forme de chaîne de `thatDate` ; le deuxième élément de mise en forme, `{1}`, est remplacé par la représentation sous forme de chaîne `item1` ; le troisième élément de mise en forme, `{2:C2}`, est remplacé par la représentation sous forme de chaîne de `item1.Value`.</span><span class="sxs-lookup"><span data-stu-id="82064-337">For example, in the following call to the <xref:System.String.Format%2A?displayProperty=nameWithType> method, the first format item, `{0:D}`, is replaced by the string representation of `thatDate`; the second format item, `{1}`, is replaced by the string representation of `item1`; and the third format item, `{2:C2}`, is replaced by the string representation of `item1.Value`.</span></span>

[!code-csharp[Conceptual.Formatting.Overview#14](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.formatting.overview/cs/composite1.cs#14)]
[!code-vb[Conceptual.Formatting.Overview#14](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.formatting.overview/vb/composite1.vb#14)]

<span data-ttu-id="82064-338">En plus de remplacer un élément de format par la représentation sous forme de chaîne de l'objet correspondant, les éléments de format vous permettent également de contrôler les éléments suivants :</span><span class="sxs-lookup"><span data-stu-id="82064-338">In addition to replacing a format item with the string representation of its corresponding object, format items also let you control the following:</span></span>

- <span data-ttu-id="82064-339">La façon spécifique dont un objet est représenté sous forme de chaîne, si l'objet implémente l'interface <xref:System.IFormattable> et prend en charge les chaînes de format.</span><span class="sxs-lookup"><span data-stu-id="82064-339">The specific way in which an object is represented as a string, if the object implements the <xref:System.IFormattable> interface and supports format strings.</span></span> <span data-ttu-id="82064-340">Ceci se fait en faisant suivre l'index de l'élément de format d'un `:` (deux-points), suivi d'une chaîne de format valide.</span><span class="sxs-lookup"><span data-stu-id="82064-340">You do this by following the format item's index with a `:` (colon) followed by a valid format string.</span></span> <span data-ttu-id="82064-341">L'exemple précédent a fait cela en mettant en forme une valeur de date avec la chaîne de format "d" (modèle de date courte) (par exemple `{0:d}`) et en mettant en forme une valeur numérique avec la chaîne de format "C2" (par exemple `{2:C2}` pour représenter le nombre comme valeur monétaire avec deux décimales.</span><span class="sxs-lookup"><span data-stu-id="82064-341">The previous example did this by formatting a date value with the "d" (short date pattern) format string (e.g., `{0:d}`) and   by formatting a numeric value with the "C2" format string (e.g., `{2:C2}` to represent the number as a currency value with two fractional decimal digits.</span></span>

- <span data-ttu-id="82064-342">La largeur du champ qui contient la représentation sous forme de chaîne de l'objet, et l'alignement de la représentation sous forme de chaîne de ce champ.</span><span class="sxs-lookup"><span data-stu-id="82064-342">The width of the field that contains the object's string representation, and the alignment of the string representation in that field.</span></span> <span data-ttu-id="82064-343">Ceci se fait en faisant suivre l'index de l'élément de format d'une `,` (virgule), suivie de la largeur du champ.</span><span class="sxs-lookup"><span data-stu-id="82064-343">You do this by following the format item's index with a `,` (comma) followed the field width.</span></span> <span data-ttu-id="82064-344">La chaîne est alignée à droite dans le champ si la largeur du champ est une valeur positive, et elle est alignée à gauche si la largeur du champ est une valeur négative.</span><span class="sxs-lookup"><span data-stu-id="82064-344">The string is right-aligned in the field if the field width is a positive value, and it is left-aligned if the field width is a negative value.</span></span> <span data-ttu-id="82064-345">L'exemple suivant aligne à gauche des valeurs de date dans un champ de 20 caractères, et aligne à droite des valeurs décimales avec une décimale dans un champ de 11 caractères.</span><span class="sxs-lookup"><span data-stu-id="82064-345">The following example left-aligns date values in a 20-character field, and it right-aligns decimal values with one fractional digit in an 11-character field.</span></span>

     [!code-csharp[Conceptual.Formatting.Overview#22](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.formatting.overview/cs/composite2.cs#22)]
     [!code-vb[Conceptual.Formatting.Overview#22](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.formatting.overview/vb/composite2.vb#22)]

     <span data-ttu-id="82064-346">Notez que si le composant de chaîne d'alignement et le composant de chaîne de format sont présents, le premier a priorité sur le deuxième (par exemple `{0,-20:g}`.</span><span class="sxs-lookup"><span data-stu-id="82064-346">Note that, if both the alignment string component and the format string component are present, the former precedes the latter (for example, `{0,-20:g}`.</span></span>

<span data-ttu-id="82064-347">Pour plus d’informations sur la mise en forme composite, consultez [Composite Formatting](../../../docs/standard/base-types/composite-formatting.md).</span><span class="sxs-lookup"><span data-stu-id="82064-347">For more information about composite formatting, see [Composite Formatting](../../../docs/standard/base-types/composite-formatting.md).</span></span>

## <a name="custom-formatting-with-icustomformatter"></a><span data-ttu-id="82064-348">Mise en forme personnalisée avec ICustomFormatter</span><span class="sxs-lookup"><span data-stu-id="82064-348">Custom formatting with ICustomFormatter</span></span>

<span data-ttu-id="82064-349">Deux méthodes de mise en forme composites, <xref:System.String.Format%28System.IFormatProvider%2CSystem.String%2CSystem.Object%5B%5D%29?displayProperty=nameWithType> et <xref:System.Text.StringBuilder.AppendFormat%28System.IFormatProvider%2CSystem.String%2CSystem.Object%5B%5D%29?displayProperty=nameWithType>, incluent également un paramètre de fournisseur de format qui prend en charge la mise en forme personnalisée.</span><span class="sxs-lookup"><span data-stu-id="82064-349">Two composite formatting methods, <xref:System.String.Format%28System.IFormatProvider%2CSystem.String%2CSystem.Object%5B%5D%29?displayProperty=nameWithType> and <xref:System.Text.StringBuilder.AppendFormat%28System.IFormatProvider%2CSystem.String%2CSystem.Object%5B%5D%29?displayProperty=nameWithType>, include a format provider parameter that supports custom formatting.</span></span> <span data-ttu-id="82064-350">Lorsque l'une de ces méthodes de mise en forme est appelée, elle passe à la méthode <xref:System.Type> du fournisseur de format un objet <xref:System.ICustomFormatter> qui représente une interface <xref:System.IFormatProvider.GetFormat%2A> .</span><span class="sxs-lookup"><span data-stu-id="82064-350">When either of these formatting methods is called, it passes a <xref:System.Type> object that represents an <xref:System.ICustomFormatter> interface to the format provider’s <xref:System.IFormatProvider.GetFormat%2A> method.</span></span> <span data-ttu-id="82064-351">La méthode <xref:System.IFormatProvider.GetFormat%2A> est alors chargée de retourner l'implémentation d' <xref:System.ICustomFormatter> qui fournit la mise en forme personnalisée.</span><span class="sxs-lookup"><span data-stu-id="82064-351">The <xref:System.IFormatProvider.GetFormat%2A> method is then responsible for returning the <xref:System.ICustomFormatter> implementation that provides custom formatting.</span></span>

<span data-ttu-id="82064-352">L'interface <xref:System.ICustomFormatter> a une méthode unique, <xref:System.ICustomFormatter.Format%28System.String%2CSystem.Object%2CSystem.IFormatProvider%29>, qui est appelée automatiquement par une méthode de mise en forme composite, une fois pour chaque élément de mise en forme dans une chaîne de format composite.</span><span class="sxs-lookup"><span data-stu-id="82064-352">The <xref:System.ICustomFormatter> interface has a single method, <xref:System.ICustomFormatter.Format%28System.String%2CSystem.Object%2CSystem.IFormatProvider%29>, that is called automatically by a composite formatting method, once for each format item in a composite format string.</span></span> <span data-ttu-id="82064-353">La méthode <xref:System.ICustomFormatter.Format%28System.String%2CSystem.Object%2CSystem.IFormatProvider%29> a trois paramètres : une chaîne de format, qui représente l'argument `formatString` dans un élément de mise en forme, un objet à mettre en forme et un objet <xref:System.IFormatProvider> qui fournit des services de mise en forme.</span><span class="sxs-lookup"><span data-stu-id="82064-353">The <xref:System.ICustomFormatter.Format%28System.String%2CSystem.Object%2CSystem.IFormatProvider%29> method has three parameters: a format string, which represents the `formatString` argument in a format item, an object to format, and an <xref:System.IFormatProvider> object that provides formatting services.</span></span> <span data-ttu-id="82064-354">En général, la classe qui implémente <xref:System.ICustomFormatter> implémente également <xref:System.IFormatProvider>; ce dernier paramètre est donc une référence à la classe de mise en forme personnalisée elle-même.</span><span class="sxs-lookup"><span data-stu-id="82064-354">Typically, the class that implements <xref:System.ICustomFormatter> also implements <xref:System.IFormatProvider>, so this last parameter is a reference to the custom formatting class itself.</span></span> <span data-ttu-id="82064-355">La méthode retourne une représentation sous forme de chaîne mise en forme personnalisée de l'objet à mettre en forme.</span><span class="sxs-lookup"><span data-stu-id="82064-355">The method returns a custom formatted string representation of the object to be formatted.</span></span> <span data-ttu-id="82064-356">Si la méthode ne peut pas mettre en forme l'objet, elle doit retourner une référence null (`Nothing` en Visual Basic).</span><span class="sxs-lookup"><span data-stu-id="82064-356">If the method cannot format the object, it should return a null reference (`Nothing` in Visual Basic).</span></span>

<span data-ttu-id="82064-357">L'exemple suivant fournit une implémentation d' <xref:System.ICustomFormatter> nommée `ByteByByteFormatter` qui affiche des valeurs entières sous la forme d'une séquence de valeurs hexadécimales à deux chiffres suivie d'un espace.</span><span class="sxs-lookup"><span data-stu-id="82064-357">The following example provides an <xref:System.ICustomFormatter> implementation named `ByteByByteFormatter` that displays integer values as a sequence of two-digit hexadecimal values followed by a space.</span></span>

[!code-csharp[Conceptual.Formatting.Overview#15](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.formatting.overview/cs/icustomformatter1.cs#15)]
[!code-vb[Conceptual.Formatting.Overview#15](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.formatting.overview/vb/icustomformatter1.vb#15)]

<span data-ttu-id="82064-358">L'exemple suivant utilise la classe `ByteByByteFormatter` pour mettre en forme des valeurs entières.</span><span class="sxs-lookup"><span data-stu-id="82064-358">The following example uses the `ByteByByteFormatter` class to format integer values.</span></span> <span data-ttu-id="82064-359">Notez que la méthode <xref:System.ICustomFormatter.Format%2A?displayProperty=nameWithType> est appelée plusieurs fois dans le deuxième appel de méthode <xref:System.String.Format%28System.IFormatProvider%2CSystem.String%2CSystem.Object%5B%5D%29?displayProperty=nameWithType>, et que le fournisseur <xref:System.Globalization.NumberFormatInfo> par défaut est utilisé dans le troisième appel de méthode, car la méthode .`ByteByByteFormatter.Format`</span><span class="sxs-lookup"><span data-stu-id="82064-359">Note that the <xref:System.ICustomFormatter.Format%2A?displayProperty=nameWithType> method is called more than once in the second <xref:System.String.Format%28System.IFormatProvider%2CSystem.String%2CSystem.Object%5B%5D%29?displayProperty=nameWithType> method call, and that the default <xref:System.Globalization.NumberFormatInfo> provider is used in the third method call because the .`ByteByByteFormatter.Format`</span></span> <span data-ttu-id="82064-360">ne reconnaît pas la chaîne de format "N0" et retourne une référence null (`Nothing` en Visual Basic).</span><span class="sxs-lookup"><span data-stu-id="82064-360">method does not recognize the "N0" format string and returns a null reference (`Nothing` in Visual Basic).</span></span>

[!code-csharp[Conceptual.Formatting.Overview#16](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.formatting.overview/cs/icustomformatter1.cs#16)]
[!code-vb[Conceptual.Formatting.Overview#16](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.formatting.overview/vb/icustomformatter1.vb#16)]

## <a name="related-topics"></a><span data-ttu-id="82064-361">Rubriques connexes</span><span class="sxs-lookup"><span data-stu-id="82064-361">Related topics</span></span>

|<span data-ttu-id="82064-362">Titre</span><span class="sxs-lookup"><span data-stu-id="82064-362">Title</span></span>|<span data-ttu-id="82064-363">Définition</span><span class="sxs-lookup"><span data-stu-id="82064-363">Definition</span></span>|
|-----------|----------------|
|[<span data-ttu-id="82064-364">Chaînes de format numériques standard</span><span class="sxs-lookup"><span data-stu-id="82064-364">Standard Numeric Format Strings</span></span>](../../../docs/standard/base-types/standard-numeric-format-strings.md)|<span data-ttu-id="82064-365">Décrit des chaînes de format standard qui créent des représentations sous forme de chaîne couramment utilisées de valeurs numériques.</span><span class="sxs-lookup"><span data-stu-id="82064-365">Describes standard format strings that create commonly used string representations of numeric values.</span></span>|
|[<span data-ttu-id="82064-366">Chaînes de format numériques personnalisées</span><span class="sxs-lookup"><span data-stu-id="82064-366">Custom Numeric Format Strings</span></span>](../../../docs/standard/base-types/custom-numeric-format-strings.md)|<span data-ttu-id="82064-367">Décrit des chaînes de format personnalisées qui créent des formats spécifiques à l'application pour les valeurs numériques.</span><span class="sxs-lookup"><span data-stu-id="82064-367">Describes custom format strings that create application-specific formats for numeric values.</span></span>|
|[<span data-ttu-id="82064-368">Chaînes de format de date et d'heure standard</span><span class="sxs-lookup"><span data-stu-id="82064-368">Standard Date and Time Format Strings</span></span>](../../../docs/standard/base-types/standard-date-and-time-format-strings.md)|<span data-ttu-id="82064-369">Décrit des chaînes de format standard qui créent des représentations sous forme de chaîne couramment utilisées de valeurs <xref:System.DateTime> .</span><span class="sxs-lookup"><span data-stu-id="82064-369">Describes standard format strings that create commonly used string representations of <xref:System.DateTime> values.</span></span>|
|[<span data-ttu-id="82064-370">Chaînes de format de date et d’heure personnalisées</span><span class="sxs-lookup"><span data-stu-id="82064-370">Custom Date and Time Format Strings</span></span>](../../../docs/standard/base-types/custom-date-and-time-format-strings.md)|<span data-ttu-id="82064-371">Décrit des chaînes de format personnalisées qui créent des formats spécifiques à l'application pour les valeurs <xref:System.DateTime> .</span><span class="sxs-lookup"><span data-stu-id="82064-371">Describes custom format strings that create application-specific formats for <xref:System.DateTime> values.</span></span>|
|[<span data-ttu-id="82064-372">Chaînes de format TimeSpan standard</span><span class="sxs-lookup"><span data-stu-id="82064-372">Standard TimeSpan Format Strings</span></span>](../../../docs/standard/base-types/standard-timespan-format-strings.md)|<span data-ttu-id="82064-373">Décrit des chaînes de format standard qui créent des représentations sous forme de chaîne couramment utilisées d'intervalles de temps.</span><span class="sxs-lookup"><span data-stu-id="82064-373">Describes standard format strings that create commonly used string representations of time intervals.</span></span>|
|[<span data-ttu-id="82064-374">Chaînes de format TimeSpan personnalisées</span><span class="sxs-lookup"><span data-stu-id="82064-374">Custom TimeSpan Format Strings</span></span>](../../../docs/standard/base-types/custom-timespan-format-strings.md)|<span data-ttu-id="82064-375">Décrit des chaînes de format personnalisées qui créent des formats spécifiques à l'application pour les intervalles de temps.</span><span class="sxs-lookup"><span data-stu-id="82064-375">Describes custom format strings that create application-specific formats for time intervals.</span></span>|
|[<span data-ttu-id="82064-376">Enumeration Format Strings</span><span class="sxs-lookup"><span data-stu-id="82064-376">Enumeration Format Strings</span></span>](../../../docs/standard/base-types/enumeration-format-strings.md)|<span data-ttu-id="82064-377">Décrit les chaînes de format standard qui sont utilisées pour créer des représentations sous forme de chaîne de valeurs d'énumération.</span><span class="sxs-lookup"><span data-stu-id="82064-377">Describes standard format strings that are used to create string representations of enumeration values.</span></span>|
|[<span data-ttu-id="82064-378">Mise en forme composite</span><span class="sxs-lookup"><span data-stu-id="82064-378">Composite Formatting</span></span>](../../../docs/standard/base-types/composite-formatting.md)|<span data-ttu-id="82064-379">Explique comment incorporer une ou plusieurs valeurs mises en forme dans une chaîne.</span><span class="sxs-lookup"><span data-stu-id="82064-379">Describes how to embed one or more formatted values in a string.</span></span> <span data-ttu-id="82064-380">La chaîne peut ensuite être affichée dans la console ou écrite dans un flux.</span><span class="sxs-lookup"><span data-stu-id="82064-380">The string can subsequently be displayed on the console or written to a stream.</span></span>|
|[<span data-ttu-id="82064-381">Exécution d’opérations de mise en forme</span><span class="sxs-lookup"><span data-stu-id="82064-381">Performing Formatting Operations</span></span>](../../../docs/standard/base-types/performing-formatting-operations.md)|<span data-ttu-id="82064-382">Répertorie les rubriques qui fournissent des instructions pas à pas pour effectuer des opérations de mise en forme spécifiques.</span><span class="sxs-lookup"><span data-stu-id="82064-382">Lists topics that provide step-by-step instructions for performing specific formatting operations.</span></span>|
|[<span data-ttu-id="82064-383">Analyse de chaînes</span><span class="sxs-lookup"><span data-stu-id="82064-383">Parsing Strings</span></span>](../../../docs/standard/base-types/parsing-strings.md)|<span data-ttu-id="82064-384">Décrit comment initialiser des objets aux valeurs décrites par des représentations sous forme de chaîne de ces objets.</span><span class="sxs-lookup"><span data-stu-id="82064-384">Describes how to initialize objects to the values described by string representations of those objects.</span></span> <span data-ttu-id="82064-385">L'analyse est l'opération inverse de la mise en forme.</span><span class="sxs-lookup"><span data-stu-id="82064-385">Parsing is the inverse operation of formatting.</span></span>|

## <a name="reference"></a><span data-ttu-id="82064-386">Reference</span><span class="sxs-lookup"><span data-stu-id="82064-386">Reference</span></span>

- <xref:System.IFormattable?displayProperty=nameWithType>
- <xref:System.IFormatProvider?displayProperty=nameWithType>
- <xref:System.ICustomFormatter?displayProperty=nameWithType>
