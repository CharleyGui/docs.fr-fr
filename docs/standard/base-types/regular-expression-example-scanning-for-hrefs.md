---
title: "Exemple d'expression régulière : recherche de valeurs HREF"
description: Consultez un exemple d’expressions régulières dans .NET. L’exemple recherche une chaîne d’entrée et affiche toutes les valeurs d’attribut href et leurs emplacements.
ms.date: 06/30/2020
ms.technology: dotnet-standard
dev_langs:
- csharp
- vb
helpviewer_keywords:
- searching with regular expressions, examples
- parsing text with regular expressions, examples
- regular expressions, examples
- .NET Framework regular expressions, examples
- regular expressions [.NET Framework], examples
- pattern-matching with regular expressions, examples
ms.assetid: fae2c15b-7adf-4b15-b118-58eb3906994f
ms.openlocfilehash: 7bcc2a4242bfaed3e3340347a30e97e7e4060794
ms.sourcegitcommit: c23d9666ec75b91741da43ee3d91c317d68c7327
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 07/01/2020
ms.locfileid: "85802848"
---
# <a name="regular-expression-example-scanning-for-hrefs"></a><span data-ttu-id="f8c72-104">Exemple d'expression régulière : recherche de valeurs HREF</span><span class="sxs-lookup"><span data-stu-id="f8c72-104">Regular Expression Example: Scanning for HREFs</span></span>
<span data-ttu-id="f8c72-105">L’exemple suivant recherche une chaîne d’entrée et affiche toutes les valeurs href="…" et leurs emplacements dans la chaîne.</span><span class="sxs-lookup"><span data-stu-id="f8c72-105">The following example searches an input string and displays all the href="…" values and their locations in the string.</span></span>  

[!INCLUDE [regex](../../../includes/regex.md)]

## <a name="the-regex-object"></a><span data-ttu-id="f8c72-106">Objet Regex</span><span class="sxs-lookup"><span data-stu-id="f8c72-106">The Regex Object</span></span>
 <span data-ttu-id="f8c72-107">Étant donné que la méthode `DumpHRefs` peut être appelée plusieurs fois à partir du code utilisateur, la méthode <xref:System.Text.RegularExpressions.Regex.Match%28System.String%2CSystem.String%2CSystem.Text.RegularExpressions.RegexOptions%29?displayProperty=nameWithType>`static`(`Shared` dans Visual Basic) est utilisée.</span><span class="sxs-lookup"><span data-stu-id="f8c72-107">Because the `DumpHRefs` method can be called multiple times from user code, it uses the `static` (`Shared` in Visual Basic) <xref:System.Text.RegularExpressions.Regex.Match%28System.String%2CSystem.String%2CSystem.Text.RegularExpressions.RegexOptions%29?displayProperty=nameWithType> method.</span></span> <span data-ttu-id="f8c72-108">Ainsi, le moteur d’expression régulière peut mettre en cache l’expression régulière et éviter le traitement de l’instanciation d’un nouvel objet <xref:System.Text.RegularExpressions.Regex> chaque fois que la méthode est appelée.</span><span class="sxs-lookup"><span data-stu-id="f8c72-108">This enables the regular expression engine to cache the regular expression and avoids the overhead of instantiating a new <xref:System.Text.RegularExpressions.Regex> object each time the method is called.</span></span> <span data-ttu-id="f8c72-109">Un objet <xref:System.Text.RegularExpressions.Match> est alors utilisé pour effectuer une itération dans toutes les correspondances dans la chaîne.</span><span class="sxs-lookup"><span data-stu-id="f8c72-109">A <xref:System.Text.RegularExpressions.Match> object is then used to iterate through all matches in the string.</span></span>  
  
 [!code-csharp[RegularExpressions.Examples.HREF#1](../../../samples/snippets/csharp/VS_Snippets_CLR/RegularExpressions.Examples.HREF/cs/example.cs#1)]
 [!code-vb[RegularExpressions.Examples.HREF#1](../../../samples/snippets/visualbasic/VS_Snippets_CLR/RegularExpressions.Examples.HREF/vb/example.vb#1)]  
  
 <span data-ttu-id="f8c72-110">L’exemple suivant illustre un appel à la méthode `DumpHRefs`.</span><span class="sxs-lookup"><span data-stu-id="f8c72-110">The following example then illustrates a call to the `DumpHRefs` method.</span></span>  
  
 [!code-csharp[RegularExpressions.Examples.HREF#2](../../../samples/snippets/csharp/VS_Snippets_CLR/RegularExpressions.Examples.HREF/cs/example.cs#2)]
 [!code-vb[RegularExpressions.Examples.HREF#2](../../../samples/snippets/visualbasic/VS_Snippets_CLR/RegularExpressions.Examples.HREF/vb/example.vb#2)]  
  
 <span data-ttu-id="f8c72-111">Le modèle d'expression régulière `href\s*=\s*(?:["'](?<1>[^"']*)["']|(?<1>\S+))` est interprété comme indiqué dans le tableau suivant.</span><span class="sxs-lookup"><span data-stu-id="f8c72-111">The regular expression pattern `href\s*=\s*(?:["'](?<1>[^"']*)["']|(?<1>\S+))` is interpreted as shown in the following table.</span></span>  
  
|<span data-ttu-id="f8c72-112">Modèle</span><span class="sxs-lookup"><span data-stu-id="f8c72-112">Pattern</span></span>|<span data-ttu-id="f8c72-113">Description</span><span class="sxs-lookup"><span data-stu-id="f8c72-113">Description</span></span>|  
|-------------|-----------------|  
|`href`|<span data-ttu-id="f8c72-114">Correspond à la chaîne littérale « href ».</span><span class="sxs-lookup"><span data-stu-id="f8c72-114">Match the literal string "href".</span></span> <span data-ttu-id="f8c72-115">La recherche de correspondance ne respecte pas la casse.</span><span class="sxs-lookup"><span data-stu-id="f8c72-115">The match is case-insensitive.</span></span>|  
|`\s*`|<span data-ttu-id="f8c72-116">Correspond à zéro, un ou plusieurs espaces blancs.</span><span class="sxs-lookup"><span data-stu-id="f8c72-116">Match zero or more white-space characters.</span></span>|  
|`=`|<span data-ttu-id="f8c72-117">Correspond au signe égal.</span><span class="sxs-lookup"><span data-stu-id="f8c72-117">Match the equals sign.</span></span>|  
|`\s*`|<span data-ttu-id="f8c72-118">Correspond à zéro, un ou plusieurs espaces blancs.</span><span class="sxs-lookup"><span data-stu-id="f8c72-118">Match zero or more white-space characters.</span></span>|  
|`(?:\["'\](?<1>\[^"'\]*)["']|(?<1>\S+))`|<span data-ttu-id="f8c72-119">Correspond à l’un des éléments suivants sans assigner le résultat à un groupe capturé :</span><span class="sxs-lookup"><span data-stu-id="f8c72-119">Match one of the following without assigning the result to a captured group:</span></span><br /> <ul><li><p><span data-ttu-id="f8c72-120">Un guillemet ou une apostrophe, suivi(e) de zéro, une ou plusieurs occurrences de tout caractère autre qu’un guillemet ou une apostrophe, suivie(s) d’un guillemet ou d’une apostrophe.</span><span class="sxs-lookup"><span data-stu-id="f8c72-120">A quotation mark or apostrophe, followed by zero or more occurrences of any character other than a quotation mark or apostrophe, followed by a quotation mark or apostrophe.</span></span> <span data-ttu-id="f8c72-121">Le groupe nommé `1` est inclus dans ce modèle.</span><span class="sxs-lookup"><span data-stu-id="f8c72-121">The group named `1` is included in this pattern.</span></span></p></li><li><p><span data-ttu-id="f8c72-122">Un ou plusieurs caractères autres que des espaces.</span><span class="sxs-lookup"><span data-stu-id="f8c72-122">One or more non-white-space characters.</span></span> <span data-ttu-id="f8c72-123">Le groupe nommé `1` est inclus dans ce modèle.</span><span class="sxs-lookup"><span data-stu-id="f8c72-123">The group named `1` is included in this pattern.</span></span></p></li></ul>|  
|`(?<1>[^"']*)`|<span data-ttu-id="f8c72-124">Affecte zéro, une ou plusieurs occurrences de tout caractère autre qu’un guillemet ou une apostrophe au groupe de capture nommé `1`.</span><span class="sxs-lookup"><span data-stu-id="f8c72-124">Assign zero or more occurrences of any character other than a quotation mark or apostrophe to the capturing group named `1`.</span></span>|  
|`(?<1>\S+)`|<span data-ttu-id="f8c72-125">Affecte un ou plusieurs caractères non espace blanc au groupe de capture nommé `1`.</span><span class="sxs-lookup"><span data-stu-id="f8c72-125">Assign one or more non-white-space characters to the capturing group named `1`.</span></span>|  
  
## <a name="match-result-class"></a><span data-ttu-id="f8c72-126">Classe de résultats Match</span><span class="sxs-lookup"><span data-stu-id="f8c72-126">Match Result Class</span></span>  
 <span data-ttu-id="f8c72-127">Les résultats d’une recherche sont stockés dans la classe <xref:System.Text.RegularExpressions.Match>, qui donne accès à toutes les sous-chaînes extraites par la recherche.</span><span class="sxs-lookup"><span data-stu-id="f8c72-127">The results of a search are stored in the <xref:System.Text.RegularExpressions.Match> class, which provides access to all the substrings extracted by the search.</span></span> <span data-ttu-id="f8c72-128">Cette classe mémorise également la chaîne recherchée et l’expression régulière utilisée, pour pouvoir appeler la méthode <xref:System.Text.RegularExpressions.Match.NextMatch%2A?displayProperty=nameWithType> afin d’effectuer une nouvelle recherche qui commence là où la dernière s’est terminée.</span><span class="sxs-lookup"><span data-stu-id="f8c72-128">It also remembers the string being searched and the regular expression being used, so it can call the <xref:System.Text.RegularExpressions.Match.NextMatch%2A?displayProperty=nameWithType> method to perform another search starting where the last one ended.</span></span>  
  
## <a name="explicitly-named-captures"></a><span data-ttu-id="f8c72-129">Captures explicitement nommées</span><span class="sxs-lookup"><span data-stu-id="f8c72-129">Explicitly Named Captures</span></span>  
 <span data-ttu-id="f8c72-130">Dans les expressions régulières classiques, les parenthèses de capture sont automatiquement numérotées dans l’ordre.</span><span class="sxs-lookup"><span data-stu-id="f8c72-130">In traditional regular expressions, capturing parentheses are automatically numbered sequentially.</span></span> <span data-ttu-id="f8c72-131">Cela génère deux problèmes.</span><span class="sxs-lookup"><span data-stu-id="f8c72-131">This leads to two problems.</span></span> <span data-ttu-id="f8c72-132">Tout d’abord, si une expression régulière est modifiée par l’insertion ou la suppression d’un jeu de parenthèses, tout code qui fait référence aux captures numérotées doit être réécrit pour refléter la nouvelle numérotation.</span><span class="sxs-lookup"><span data-stu-id="f8c72-132">First, if a regular expression is modified by inserting or removing a set of parentheses, all code that refers to the numbered captures must be rewritten to reflect the new numbering.</span></span> <span data-ttu-id="f8c72-133">Ensuite, étant donné que différents jeux de parenthèses sont souvent utilisés pour fournir deux expressions différentes pour une correspondance acceptable, il peut s’avérer difficile de déterminer laquelle des deux expressions en fait retourné un résultat.</span><span class="sxs-lookup"><span data-stu-id="f8c72-133">Second, because different sets of parentheses often are used to provide two alternative expressions for an acceptable match, it might be difficult to determine which of the two expressions actually returned a result.</span></span>  
  
 <span data-ttu-id="f8c72-134">Pour résoudre ces problèmes, la classe <xref:System.Text.RegularExpressions.Regex> prend en charge la syntaxe `(?<name>…)` pour capturer une correspondance dans un emplacement spécifié (l’emplacement peut être nommé à l’aide d’une chaîne ou d’un entier ; les entiers peuvent être rappelés plus rapidement).</span><span class="sxs-lookup"><span data-stu-id="f8c72-134">To address these problems, the <xref:System.Text.RegularExpressions.Regex> class supports the syntax `(?<name>…)` for capturing a match into a specified slot (the slot can be named using a string or an integer; integers can be recalled more quickly).</span></span> <span data-ttu-id="f8c72-135">Ainsi, les autres correspondances de la même chaîne peuvent toutes être dirigées vers le même emplacement.</span><span class="sxs-lookup"><span data-stu-id="f8c72-135">Thus, alternative matches for the same string all can be directed to the same place.</span></span> <span data-ttu-id="f8c72-136">En cas de conflit, la dernière correspondance placée dans un emplacement est la correspondance correcte.</span><span class="sxs-lookup"><span data-stu-id="f8c72-136">In case of a conflict, the last match dropped into a slot is the successful match.</span></span> <span data-ttu-id="f8c72-137">(Toutefois, la liste complète des différentes correspondances pour un seul emplacement est disponible.</span><span class="sxs-lookup"><span data-stu-id="f8c72-137">(However, a complete list of multiple matches for a single slot is available.</span></span> <span data-ttu-id="f8c72-138">Consultez la collection <xref:System.Text.RegularExpressions.Group.Captures%2A?displayProperty=nameWithType> pour plus d’informations.)</span><span class="sxs-lookup"><span data-stu-id="f8c72-138">See the <xref:System.Text.RegularExpressions.Group.Captures%2A?displayProperty=nameWithType> collection for details.)</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="f8c72-139">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="f8c72-139">See also</span></span>

- [<span data-ttu-id="f8c72-140">Expressions régulières .NET</span><span class="sxs-lookup"><span data-stu-id="f8c72-140">.NET Regular Expressions</span></span>](regular-expressions.md)
