---
title: Développement interplateforme avec la bibliothèque de classes portable
ms.date: 09/17/2018
ms.technology: dotnet-standard
helpviewer_keywords:
- Portable Class Library [.NET Framework]
- targeting multiple platforms
- multiple platforms, targeting
ms.assetid: c31e1663-c164-4e65-b66d-d3aa8750a154
ms.openlocfilehash: dd5e5612de15a499c0dce34dc30faa6fd5731c17
ms.sourcegitcommit: 011314e0c8eb4cf4a11d92078f58176c8c3efd2d
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 02/11/2020
ms.locfileid: "77124531"
---
# <a name="cross-platform-development-with-the-portable-class-library"></a><span data-ttu-id="5d0ec-102">Développement multiplateforme avec la bibliothèque de classes portables</span><span class="sxs-lookup"><span data-stu-id="5d0ec-102">Cross-platform development with the Portable Class Library</span></span>

<span data-ttu-id="5d0ec-103">Le type de projet de bibliothèque de classes portables dans Visual Studio vous permet de créer rapidement et facilement des bibliothèques et des applications multiplateformes pour les plateformes Microsoft.</span><span class="sxs-lookup"><span data-stu-id="5d0ec-103">The Portable Class Library project type in Visual Studio helps you build cross-platform apps and libraries for Microsoft platforms quickly and easily.</span></span>

[!INCLUDE[standard](../../../includes/pcl-to-standard.md)]

<span data-ttu-id="5d0ec-104">Les bibliothèques de classes portables vous aident à réduire le temps et les coûts de développement et de test du code.</span><span class="sxs-lookup"><span data-stu-id="5d0ec-104">Portable class libraries can help you reduce the time and costs of developing and testing code.</span></span> <span data-ttu-id="5d0ec-105">Utilisez ce type de projet pour écrire et générer des assemblys de .NET Framework portable, puis référencez ces assemblys à partir d’applications qui ciblent plusieurs plateformes, telles que le .NET Framework, iOS ou Mac.</span><span class="sxs-lookup"><span data-stu-id="5d0ec-105">Use this project type to write and build portable .NET Framework assemblies, and then reference those assemblies from apps that target multiple platforms such as the .NET Framework, iOS, or Mac.</span></span>

<span data-ttu-id="5d0ec-106">Même après avoir créé un projet de bibliothèque de classes portables dans Visual Studio et commencé à le développer, vous pouvez modifier les plateformes cibles.</span><span class="sxs-lookup"><span data-stu-id="5d0ec-106">Even after you create a Portable Class Library project in Visual Studio and start developing it, you can change the target platforms.</span></span> <span data-ttu-id="5d0ec-107">Visual Studio compile votre bibliothèque avec les nouveaux assemblys, ce qui vous permet d’identifier les modifications que vous devez apporter dans votre code.</span><span class="sxs-lookup"><span data-stu-id="5d0ec-107">Visual Studio compiles your library with the new assemblies, which helps you identify the changes you need to make in your code.</span></span>

## <a name="create-a-portable-class-library-project"></a><span data-ttu-id="5d0ec-108">Créer un projet de bibliothèque de classes portables</span><span class="sxs-lookup"><span data-stu-id="5d0ec-108">Create a Portable Class Library project</span></span>

<span data-ttu-id="5d0ec-109">Pour créer une bibliothèque de classes portables, utilisez le modèle fourni dans Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="5d0ec-109">To create a Portable Class Library, use the template provided in Visual Studio.</span></span> <span data-ttu-id="5d0ec-110">Créez un projet (**fichier** > **nouveau projet**) et, dans la boîte de dialogue **nouveau projet** , sélectionnez votre langage de programmation ( C# visuel ou Visual Basic).</span><span class="sxs-lookup"><span data-stu-id="5d0ec-110">Create a new project (**File** > **New Project**), and in the **New Project** dialog box, select your programming language (Visual C# or Visual Basic).</span></span> <span data-ttu-id="5d0ec-111">Ensuite, sélectionnez le modèle **bibliothèque de classes (portable hérité)** .</span><span class="sxs-lookup"><span data-stu-id="5d0ec-111">Then, select the **Class Library (Legacy Portable)** template.</span></span> <span data-ttu-id="5d0ec-112">Entrez un nom pour votre projet, puis choisissez **OK**.</span><span class="sxs-lookup"><span data-stu-id="5d0ec-112">Enter a name for your project and choose **OK**.</span></span>

<span data-ttu-id="5d0ec-113">La boîte de dialogue **Ajouter une bibliothèque de classes portables** s’affiche.</span><span class="sxs-lookup"><span data-stu-id="5d0ec-113">The **Add Portable Class Library** dialog box appears.</span></span> <span data-ttu-id="5d0ec-114">Choisissez au moins deux cibles, puis choisissez **OK**.</span><span class="sxs-lookup"><span data-stu-id="5d0ec-114">Choose two or more targets, and then choose **OK**.</span></span>

![Ajouter des cibles de bibliothèque de classes portables dans Visual Studio](media/add-portable-class-library.png)

## <a name="change-targets"></a><span data-ttu-id="5d0ec-116">Modifier les cibles</span><span class="sxs-lookup"><span data-stu-id="5d0ec-116">Change targets</span></span>

<span data-ttu-id="5d0ec-117">Vous pouvez modifier les plateformes cibles d’un projet de bibliothèque de classes portable lorsque vous le créez ou après avoir démarré le développement.</span><span class="sxs-lookup"><span data-stu-id="5d0ec-117">You can change the target platforms of a portable class library project when you create it or after you’ve started development.</span></span> <span data-ttu-id="5d0ec-118">Si vous souhaitez modifier les cibles après avoir créé votre projet, dans **Explorateur de solutions**, ouvrez le menu contextuel de votre projet de bibliothèque de classes portable (pas la solution), puis choisissez **Propriétés**.</span><span class="sxs-lookup"><span data-stu-id="5d0ec-118">If you want to change the targets after you’ve created your project, in **Solution Explorer**, open the shortcut menu for your Portable Class Library project (not the solution), and then choose **Properties**.</span></span> <span data-ttu-id="5d0ec-119">Dans la page Propriétés du projet, l’onglet **bibliothèque** affiche les plateformes actuellement ciblées par votre projet.</span><span class="sxs-lookup"><span data-stu-id="5d0ec-119">On the project properties page, the **Library** tab shows the platforms that your project currently targets.</span></span>

![Propriétés de projet pour la bibliothèque de classes portables dans Visual Studio](media/pcl-project-properties.png)

<span data-ttu-id="5d0ec-121">Pour ajouter ou supprimer des cibles, cliquez sur le bouton **modifier** , puis activez et désactivez les cases à cocher appropriées.</span><span class="sxs-lookup"><span data-stu-id="5d0ec-121">To add or remove targets, choose the **Change** button, and then select and clear the appropriate check boxes.</span></span>

<span data-ttu-id="5d0ec-122">Quand vous modifiez les cibles, les API disponibles pour le développement de votre projet changent en conséquence.</span><span class="sxs-lookup"><span data-stu-id="5d0ec-122">When you change the targets, the APIs that are available to you for developing your project will change to match your selection.</span></span> <span data-ttu-id="5d0ec-123">Visual Studio indique les erreurs et les avertissements éventuellement engendrés par la modification des cibles.</span><span class="sxs-lookup"><span data-stu-id="5d0ec-123">Visual Studio reports the errors and warnings that may occur as a result of the targets changing.</span></span>

<span data-ttu-id="5d0ec-124">Si vous souhaitez évaluer la portabilité de vos assemblys avant d’apporter des modifications dans Visual Studio, vous pouvez utiliser l' [Analyseur de portabilité .net](https://visualstudiogallery.msdn.microsoft.com/1177943e-cfb7-4822-a8a6-e56c7905292b).</span><span class="sxs-lookup"><span data-stu-id="5d0ec-124">If you want to evaluate the portability of your assemblies before you make changes in Visual Studio, you can use the [.NET Portability Analyzer](https://visualstudiogallery.msdn.microsoft.com/1177943e-cfb7-4822-a8a6-e56c7905292b).</span></span>

## <a name="supported-types-and-members"></a><span data-ttu-id="5d0ec-125">Types et membres pris en charge</span><span class="sxs-lookup"><span data-stu-id="5d0ec-125">Supported types and members</span></span>

<span data-ttu-id="5d0ec-126">Les types et les membres disponibles dans les projets de bibliothèque de classes portables dépendent de plusieurs facteurs de compatibilité :</span><span class="sxs-lookup"><span data-stu-id="5d0ec-126">The types and members that are available in Portable Class Library projects are constrained by several compatibility factors:</span></span>

- <span data-ttu-id="5d0ec-127">Ils doivent être partagés entre les cibles que vous avez sélectionnées.</span><span class="sxs-lookup"><span data-stu-id="5d0ec-127">They must be shared across the targets you selected.</span></span>

- <span data-ttu-id="5d0ec-128">Leur comportement doit être similaire sur ces cibles.</span><span class="sxs-lookup"><span data-stu-id="5d0ec-128">The must behave similarly across those targets.</span></span>

- <span data-ttu-id="5d0ec-129">Ils ne doivent pas être candidats pour la dépréciation.</span><span class="sxs-lookup"><span data-stu-id="5d0ec-129">They must not be candidates for deprecation.</span></span>

- <span data-ttu-id="5d0ec-130">Ils doivent s'avérer utiles dans un environnement portable, en particulier lorsque les membres qui les prennent en charge ne sont pas portables.</span><span class="sxs-lookup"><span data-stu-id="5d0ec-130">They must make sense in a portable environment, especially when supporting members are not portable.</span></span>

<span data-ttu-id="5d0ec-131">Si un membre est pris en charge dans la bibliothèque de classes portables et pour les cibles que vous avez sélectionnées, il apparaît dans votre projet dans IntelliSense.</span><span class="sxs-lookup"><span data-stu-id="5d0ec-131">If a member is supported in the Portable Class Library and for your selected targets, it will appear in your project in IntelliSense.</span></span> <span data-ttu-id="5d0ec-132">Toutefois, gardez à l'esprit que même si une API est prise en charge dans la bibliothèque de classes portables, ce sont les cibles que vous sélectionnez qui déterminent si vous pouvez utiliser cette API.</span><span class="sxs-lookup"><span data-stu-id="5d0ec-132">However, remember that an API may be supported in the Portable Class Library, but whether you can use the API depends on the targets you select.</span></span>

## <a name="api-differences-in-the-portable-class-library"></a><span data-ttu-id="5d0ec-133">Différences d'API dans la bibliothèque de classes portables</span><span class="sxs-lookup"><span data-stu-id="5d0ec-133">API differences in the Portable Class Library</span></span>

<span data-ttu-id="5d0ec-134">Pour rendre les assemblys de bibliothèque de classes portables compatibles sur toutes les plateformes prises en charge, certains membres ont été légèrement modifiés dans la bibliothèque de classes portables.</span><span class="sxs-lookup"><span data-stu-id="5d0ec-134">To make Portable Class Library assemblies compatible across all supported platforms, some members have been slightly changed in the Portable Class Library.</span></span>

## <a name="use-the-portable-class-library"></a><span data-ttu-id="5d0ec-135">Utiliser la bibliothèque de classes portables</span><span class="sxs-lookup"><span data-stu-id="5d0ec-135">Use the Portable Class Library</span></span>

<span data-ttu-id="5d0ec-136">Après avoir créé votre projet de bibliothèque de classes portables, vous n'avez plus qu'à le référencer à partir d'autres projets.</span><span class="sxs-lookup"><span data-stu-id="5d0ec-136">After you build your Portable Class Library project, you just reference it from other projects.</span></span> <span data-ttu-id="5d0ec-137">Vous pouvez référencer le projet ou des assemblys spécifiques qui contiennent les classes auxquelles vous souhaitez accéder.</span><span class="sxs-lookup"><span data-stu-id="5d0ec-137">You can reference either the project or specific assemblies that contain the classes you want to access.</span></span>

<span data-ttu-id="5d0ec-138">Pour exécuter une application qui référence un assembly de bibliothèque de classes portables, la version requise (ou version ultérieure) des plateformes ciblées doit être installée sur votre ordinateur.</span><span class="sxs-lookup"><span data-stu-id="5d0ec-138">To run an app that references a Portable Class Library assembly, the required version (or later) of the targeted platforms must be installed on your computer.</span></span> <span data-ttu-id="5d0ec-139">Visual Studio contient toutes les infrastructures requises pour que vous puissiez exécuter l'application sans modification supplémentaire sur l'ordinateur que vous avez utilisé pour développer l'application.</span><span class="sxs-lookup"><span data-stu-id="5d0ec-139">Visual Studio contains all the required frameworks, so you can run the app without further modification on the computer that you used to develop the app.</span></span>

### <a name="deploy-a-universal-windows-app"></a><span data-ttu-id="5d0ec-140">Déployer une application Windows universelle</span><span class="sxs-lookup"><span data-stu-id="5d0ec-140">Deploy a Universal Windows app</span></span>

<span data-ttu-id="5d0ec-141">Lorsque vous créez une application Windows universelle qui fait référence à un assembly de bibliothèque de classes portable, tout ce dont vous avez besoin pour déployer l’application est inclus dans le package d’application et aucune autre étape n’est requise.</span><span class="sxs-lookup"><span data-stu-id="5d0ec-141">When you create a Universal Windows app that references a Portable Class Library assembly, everything you need to deploy the app is included in the app package, and no further steps are required.</span></span>

### <a name="deploy-a-net-framework-app"></a><span data-ttu-id="5d0ec-142">Déployer une application .NET Framework</span><span class="sxs-lookup"><span data-stu-id="5d0ec-142">Deploy a .NET Framework app</span></span>

<span data-ttu-id="5d0ec-143">Quand vous déployez une application .NET Framework qui référence un assembly de bibliothèque de classes portables, vous devez spécifier une dépendance sur la version appropriée du .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="5d0ec-143">When you deploy a .NET Framework app that references a Portable Class Library assembly, you must specify a dependency on the correct version of the .NET Framework.</span></span> <span data-ttu-id="5d0ec-144">En spécifiant cette dépendance, vous êtes assuré que la version requise est installée avec votre application.</span><span class="sxs-lookup"><span data-stu-id="5d0ec-144">By specifying this dependency, you ensure that the required version is installed with your app.</span></span>

- <span data-ttu-id="5d0ec-145">Pour créer une dépendance avec un déploiement ClickOnce : dans **Explorateur de solutions**, choisissez le nœud de projet pour le projet que vous souhaitez publier.</span><span class="sxs-lookup"><span data-stu-id="5d0ec-145">To create a dependency with ClickOnce deployment: In **Solution Explorer**, choose the project node for the project you want to publish.</span></span> <span data-ttu-id="5d0ec-146">(Il s’agit du projet qui référence le projet de bibliothèque de classes portables.) Dans la barre de menus, choisissez **projet** > **Propriétés**, puis choisissez l’onglet **publier** . Sur la page **publier** , choisissez **composants requis**.</span><span class="sxs-lookup"><span data-stu-id="5d0ec-146">(This is the project that references the Portable Class Library project.) On the menu bar, choose **Project** > **Properties**, and then choose the **Publish** tab. On the **Publish** page, choose **Prerequisites**.</span></span> <span data-ttu-id="5d0ec-147">Sélectionnez la version requise du .NET Framework en tant que composant requis.</span><span class="sxs-lookup"><span data-stu-id="5d0ec-147">Select the required .NET Framework version as a prerequisite.</span></span>

- <span data-ttu-id="5d0ec-148">Pour créer une dépendance avec un projet d’installation : dans **Explorateur de solutions**, choisissez le projet d’installation.</span><span class="sxs-lookup"><span data-stu-id="5d0ec-148">To create a dependency with a setup project: In **Solution Explorer**, choose the setup project.</span></span> <span data-ttu-id="5d0ec-149">Dans la barre de menus, choisissez **projet** > **Propriétés** > **composants requis**.</span><span class="sxs-lookup"><span data-stu-id="5d0ec-149">On the menu bar, choose **Project** > **Properties** > **Prerequisites**.</span></span> <span data-ttu-id="5d0ec-150">Sélectionnez la version requise du .NET Framework en tant que composant requis.</span><span class="sxs-lookup"><span data-stu-id="5d0ec-150">Select the required .NET Framework version as a prerequisite.</span></span>

<span data-ttu-id="5d0ec-151">Pour plus d’informations sur le déploiement d’applications .NET Framework, consultez le [Guide de déploiement pour les développeurs](../../../docs/framework/deployment/deployment-guide-for-developers.md).</span><span class="sxs-lookup"><span data-stu-id="5d0ec-151">For more information about deploying .NET Framework apps, see [Deployment Guide for Developers](../../../docs/framework/deployment/deployment-guide-for-developers.md).</span></span>

## <a name="see-also"></a><span data-ttu-id="5d0ec-152">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="5d0ec-152">See also</span></span>

- [<span data-ttu-id="5d0ec-153">Utilisation de la bibliothèque de classes portable avec MVVM</span><span class="sxs-lookup"><span data-stu-id="5d0ec-153">Using Portable Class Library with MVVM</span></span>](../../../docs/standard/cross-platform/using-portable-class-library-with-model-view-view-model.md)
- [<span data-ttu-id="5d0ec-154">Ressources d’application pour les bibliothèques qui ciblent plusieurs plateformes</span><span class="sxs-lookup"><span data-stu-id="5d0ec-154">App Resources for Libraries That Target Multiple Platforms</span></span>](../../../docs/standard/cross-platform/app-resources-for-libraries-that-target-multiple-platforms.md)
- [<span data-ttu-id="5d0ec-155">Analyseur de portabilité .NET</span><span class="sxs-lookup"><span data-stu-id="5d0ec-155">.NET Portability Analyzer</span></span>](https://marketplace.visualstudio.com/items?itemName=ConnieYau.NETPortabilityAnalyzer)
- [<span data-ttu-id="5d0ec-156">Prise en charge .NET Framework pour les applications Windows Store et Windows Runtime</span><span class="sxs-lookup"><span data-stu-id="5d0ec-156">.NET Framework Support for Windows Store Apps and Windows Runtime</span></span>](../../../docs/standard/cross-platform/support-for-windows-store-apps-and-windows-runtime.md)
- [<span data-ttu-id="5d0ec-157">Déploiement</span><span class="sxs-lookup"><span data-stu-id="5d0ec-157">Deployment</span></span>](../../../docs/framework/deployment/net-framework-applications.md)
