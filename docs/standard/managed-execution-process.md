---
title: processus d'exécution managée
ms.date: 03/30/2017
ms.technology: dotnet-standard
helpviewer_keywords:
- source code language
- code, managed execution process
- runtime, managed execution process
- compiling source code, managed execution process
- managed execution process
- common language runtime, managed execution process
ms.assetid: 476b03dc-2b12-49a7-b067-41caeaa2f533
ms.openlocfilehash: 5ead3d1ac37b3c7ee50f18a81530720205678de2
ms.sourcegitcommit: 559fcfbe4871636494870a8b716bf7325df34ac5
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/30/2019
ms.locfileid: "73122003"
---
# <a name="managed-execution-process"></a><span data-ttu-id="f16bc-102">processus d'exécution managée</span><span class="sxs-lookup"><span data-stu-id="f16bc-102">Managed Execution Process</span></span>
<a name="introduction"></a> <span data-ttu-id="f16bc-103">Le processus d'exécution managé inclut les étapes suivantes,qui sont décrites en détail plus loin dans cette rubrique :</span><span class="sxs-lookup"><span data-stu-id="f16bc-103">The managed execution process includes the following steps, which are discussed in detail later in this topic:</span></span>  
  
1. <span data-ttu-id="f16bc-104">[Choix d'un compilateur](#choosing_a_compiler)</span><span class="sxs-lookup"><span data-stu-id="f16bc-104">[Choosing a compiler](#choosing_a_compiler).</span></span>  
  
     <span data-ttu-id="f16bc-105">Pour bénéficier des avantages qu'apporte le Common Language Runtime, vous devez utiliser un ou plusieurs compilateurs de langage ciblant le runtime.</span><span class="sxs-lookup"><span data-stu-id="f16bc-105">To obtain the benefits provided by the common language runtime, you must use one or more language compilers that target the runtime.</span></span>  
  
2. <span data-ttu-id="f16bc-106">[Compilation de votre code en MSIL](#compiling_to_msil)</span><span class="sxs-lookup"><span data-stu-id="f16bc-106">[Compiling your code to MSIL](#compiling_to_msil).</span></span>  
  
     <span data-ttu-id="f16bc-107">La compilation traduit votre code source en langage MSIL (Microsoft Intermediate Language) et génère les métadonnées requises.</span><span class="sxs-lookup"><span data-stu-id="f16bc-107">Compiling translates your source code into Microsoft intermediate language (MSIL) and generates the required metadata.</span></span>  
  
3. <span data-ttu-id="f16bc-108">[Compilation du MSIL en code natif](#compiling_msil_to_native_code)</span><span class="sxs-lookup"><span data-stu-id="f16bc-108">[Compiling MSIL to native code](#compiling_msil_to_native_code).</span></span>  
  
     <span data-ttu-id="f16bc-109">Au moment de l'exécution, un compilateur juste-à-temps (JIT) transforme le MSIL en code natif.</span><span class="sxs-lookup"><span data-stu-id="f16bc-109">At execution time, a just-in-time (JIT) compiler translates the MSIL into native code.</span></span> <span data-ttu-id="f16bc-110">Au moment de la compilation, le code est soumis à un processus de vérification qui examine le MSIL et les métadonnées afin de déterminer si le code peut être considéré comme étant de type sécurisé.</span><span class="sxs-lookup"><span data-stu-id="f16bc-110">During this compilation, code must pass a verification process that examines the MSIL and metadata to find out whether the code can be determined to be type safe.</span></span>  
  
4. <span data-ttu-id="f16bc-111">[Exécution de code](#running_code)</span><span class="sxs-lookup"><span data-stu-id="f16bc-111">[Running code](#running_code).</span></span>  
  
     <span data-ttu-id="f16bc-112">Le Common Language Runtime fournit l'infrastructure qui permet à l'exécution d'avoir lieu et les services pouvant être utilisés pendant l'exécution.</span><span class="sxs-lookup"><span data-stu-id="f16bc-112">The common language runtime provides the infrastructure that enables execution to take place and services that can be used during execution.</span></span>  
  
<a name="choosing_a_compiler"></a>   
## <a name="choosing-a-compiler"></a><span data-ttu-id="f16bc-113">Choix d'un compilateur</span><span class="sxs-lookup"><span data-stu-id="f16bc-113">Choosing a Compiler</span></span>  
 <span data-ttu-id="f16bc-114">Pour bénéficier des avantages qu'offre le Common Language Runtime (CLR), vous devez utiliser un ou plusieurs compilateurs de langage ciblant le runtime, tels que les compilateurs Visual Basic, C#, Visual C++, F# ou l'un des nombreux compilateurs tiers tels que les compilateurs Eiffel, Perl ou COBOL.</span><span class="sxs-lookup"><span data-stu-id="f16bc-114">To obtain the benefits provided by the common language runtime (CLR), you must use one or more language compilers that target the runtime, such as Visual Basic, C#, Visual C++, F#, or one of many third-party compilers such as an Eiffel, Perl, or COBOL compiler.</span></span>  
  
 <span data-ttu-id="f16bc-115">Dans la mesure où il représente un environnement d'exécution multilangage, le runtime prend en charge une grande variété de types de données et de fonctionnalités de langage.</span><span class="sxs-lookup"><span data-stu-id="f16bc-115">Because it is a multilanguage execution environment, the runtime supports a wide variety of data types and language features.</span></span> <span data-ttu-id="f16bc-116">Le compilateur de langage que vous utilisez détermine les fonctionnalités du runtime qui sont disponibles et que vous utilisez pour concevoir votre code.</span><span class="sxs-lookup"><span data-stu-id="f16bc-116">The language compiler you use determines which runtime features are available, and you design your code using those features.</span></span> <span data-ttu-id="f16bc-117">C'est votre compilateur et non le runtime qui établit la syntaxe à laquelle votre code doit se conformer.</span><span class="sxs-lookup"><span data-stu-id="f16bc-117">Your compiler, not the runtime, establishes the syntax your code must use.</span></span> <span data-ttu-id="f16bc-118">Si votre composant doit être entièrement utilisable par des composants écrits dans d’autres langages, les types exportés de votre composant doivent exposer uniquement les fonctionnalités de langage qui font partie de la spécification [Language Independence and Language-Independent Components](../../docs/standard/language-independence-and-language-independent-components.md) .</span><span class="sxs-lookup"><span data-stu-id="f16bc-118">If your component must be completely usable by components written in other languages, your component's exported types must expose only language features that are included in the [Language Independence and Language-Independent Components](../../docs/standard/language-independence-and-language-independent-components.md) (CLS).</span></span> <span data-ttu-id="f16bc-119">Vous pouvez utiliser l'attribut <xref:System.CLSCompliantAttribute> pour vous assurer que votre code est conforme CLS.</span><span class="sxs-lookup"><span data-stu-id="f16bc-119">You can use the <xref:System.CLSCompliantAttribute> attribute to ensure that your code is CLS-compliant.</span></span> <span data-ttu-id="f16bc-120">Pour plus d'informations, consultez [Language Independence and Language-Independent Components](../../docs/standard/language-independence-and-language-independent-components.md).</span><span class="sxs-lookup"><span data-stu-id="f16bc-120">For more information, see [Language Independence and Language-Independent Components](../../docs/standard/language-independence-and-language-independent-components.md).</span></span>  
  
 [<span data-ttu-id="f16bc-121">Retour au début</span><span class="sxs-lookup"><span data-stu-id="f16bc-121">Back to top</span></span>](#introduction)  
  
<a name="compiling_to_msil"></a>   
## <a name="compiling-to-msil"></a><span data-ttu-id="f16bc-122">Compilation en MSIL</span><span class="sxs-lookup"><span data-stu-id="f16bc-122">Compiling to MSIL</span></span>  
 <span data-ttu-id="f16bc-123">Lors d'une compilation destinée à produire du code managé, le compilateur convertit le code source en langage MSIL (Microsoft Intermediate Language), un jeu d'instructions indépendant du processeur qui peut être converti efficacement en code natif.</span><span class="sxs-lookup"><span data-stu-id="f16bc-123">When compiling to managed code, the compiler translates your source code into Microsoft intermediate language (MSIL), which is a CPU-independent set of instructions that can be efficiently converted to native code.</span></span> <span data-ttu-id="f16bc-124">MSIL inclut des instructions pour le chargement, le stockage, l'initialisation et l'appel de méthodes sur des objets, ainsi que des instructions pour la réalisation d'opérations arithmétiques et logiques, le flux de contrôle, l'accès direct à la mémoire, la gestion des exceptions et d'autres opérations.</span><span class="sxs-lookup"><span data-stu-id="f16bc-124">MSIL includes instructions for loading, storing, initializing, and calling methods on objects, as well as instructions for arithmetic and logical operations, control flow, direct memory access, exception handling, and other operations.</span></span> <span data-ttu-id="f16bc-125">Avant d'exécuter du code, vous devez d'abord convertir le MSIL en code spécifique au processeur, généralement à l'aide d'un [compilateur juste-à-temps (JIT)](#compiling_msil_to_native_code).</span><span class="sxs-lookup"><span data-stu-id="f16bc-125">Before code can be run, MSIL must be converted to CPU-specific code, usually by a [just-in-time (JIT) compiler](#compiling_msil_to_native_code).</span></span> <span data-ttu-id="f16bc-126">Dans la mesure où le Common Language Runtime fournit un ou plusieurs compilateurs JIT pour chaque architecture d'ordinateur qu'il prend en charge, le même jeu d'instructions MSIL peut être traité par un compilateur JIT et exécuté sur toute architecture prise en charge.</span><span class="sxs-lookup"><span data-stu-id="f16bc-126">Because the common language runtime supplies one or more JIT compilers for each computer architecture it supports, the same set of MSIL can be JIT-compiled and run on any supported architecture.</span></span>  
  
 <span data-ttu-id="f16bc-127">Quand un compilateur produit du code MSIL, il génère aussi des métadonnées.</span><span class="sxs-lookup"><span data-stu-id="f16bc-127">When a compiler produces MSIL, it also produces metadata.</span></span> <span data-ttu-id="f16bc-128">Les métadonnées décrivent les types contenus dans votre code, y compris la définition de chaque type, les signatures des membres de chaque type, les membres référencés par votre code, et d'autres données que le runtime utilise au moment de l'exécution.</span><span class="sxs-lookup"><span data-stu-id="f16bc-128">Metadata describes the types in your code, including the definition of each type, the signatures of each type's members, the members that your code references, and other data that the runtime uses at execution time.</span></span> <span data-ttu-id="f16bc-129">Le MSIL et les métadonnées sont stockés dans un fichier exécutable portable (PE) qui est basé sur le fichier Microsoft PE publié qu'il prolonge et sur le format COFF (Common Object File Format) utilisé traditionnellement pour le contenu exécutable.</span><span class="sxs-lookup"><span data-stu-id="f16bc-129">The MSIL and metadata are contained in a portable executable (PE) file that is based on and that extends the published Microsoft PE and common object file format (COFF) used historically for executable content.</span></span> <span data-ttu-id="f16bc-130">Ce format de fichier, qui accepte le code MSIL ou le code natif ainsi que les métadonnées, permet au système d'exploitation de reconnaître les images du Common Language Runtime.</span><span class="sxs-lookup"><span data-stu-id="f16bc-130">This file format, which accommodates MSIL or native code as well as metadata, enables the operating system to recognize common language runtime images.</span></span> <span data-ttu-id="f16bc-131">La présence de métadonnées dans le fichier en même temps que le jeu d'instructions MSIL permet à votre code de se décrire lui-même, ce qui signifie que les bibliothèques de types et IDL (Interface Definition Language) ne sont pas nécessaires.</span><span class="sxs-lookup"><span data-stu-id="f16bc-131">The presence of metadata in the file together with MSIL enables your code to describe itself, which means that there is no need for type libraries or Interface Definition Language (IDL).</span></span> <span data-ttu-id="f16bc-132">Le runtime recherche les métadonnées dans le fichier et les extrait selon les besoins, au moment de l'exécution.</span><span class="sxs-lookup"><span data-stu-id="f16bc-132">The runtime locates and extracts the metadata from the file as needed during execution.</span></span>  
  
 [<span data-ttu-id="f16bc-133">Retour au début</span><span class="sxs-lookup"><span data-stu-id="f16bc-133">Back to top</span></span>](#introduction)  
  
<a name="compiling_msil_to_native_code"></a>   
## <a name="compiling-msil-to-native-code"></a><span data-ttu-id="f16bc-134">Compilation du MSIL en code natif</span><span class="sxs-lookup"><span data-stu-id="f16bc-134">Compiling MSIL to Native Code</span></span>  
 <span data-ttu-id="f16bc-135">Avant de pouvoir exécuter le langage MSIL (MicroSoft Intermediate Language), vous devez le compiler en code natif avec le Common Language Runtime pour l'architecture de l'ordinateur cible.</span><span class="sxs-lookup"><span data-stu-id="f16bc-135">Before you can run Microsoft intermediate language (MSIL), it must be compiled against the common language runtime to native code for the target machine architecture.</span></span> <span data-ttu-id="f16bc-136">Le .NET Framework propose deux méthodes pour effectuer cette conversion :</span><span class="sxs-lookup"><span data-stu-id="f16bc-136">The .NET Framework provides two ways to perform this conversion:</span></span>  
  
- <span data-ttu-id="f16bc-137">À l'aide d'un compilateur juste-à-temps (JIT) .NET Framework</span><span class="sxs-lookup"><span data-stu-id="f16bc-137">A .NET Framework just-in-time (JIT) compiler.</span></span>  
  
- <span data-ttu-id="f16bc-138">À l’aide de l’outil [Ngen.exe (générateur d’images natives)](../../docs/framework/tools/ngen-exe-native-image-generator.md) de .NET Framework</span><span class="sxs-lookup"><span data-stu-id="f16bc-138">The .NET Framework [Ngen.exe (Native Image Generator)](../../docs/framework/tools/ngen-exe-native-image-generator.md).</span></span>  
  
### <a name="compilation-by-the-jit-compiler"></a><span data-ttu-id="f16bc-139">Compilation par le compilateur JIT</span><span class="sxs-lookup"><span data-stu-id="f16bc-139">Compilation by the JIT Compiler</span></span>  
 <span data-ttu-id="f16bc-140">La compilation JIT convertit à la demande le langage MSIL en code natif au moment de l'exécution de l'application, quand le contenu d'un assembly est chargé et exécuté.</span><span class="sxs-lookup"><span data-stu-id="f16bc-140">JIT compilation converts MSIL to native code on demand at application run time, when the contents of an assembly are loaded and executed.</span></span> <span data-ttu-id="f16bc-141">Dans la mesure où le Common Language Runtime fournit un compilateur JIT pour chaque architecture de processeur qu'il prend en charge, les développeurs peuvent générer un jeu d'assemblys MSIL pouvant être traité par un compilateur JIT et exécuté sur différents ordinateurs ayant des architectures d'ordinateur différentes.</span><span class="sxs-lookup"><span data-stu-id="f16bc-141">Because the common language runtime supplies a JIT compiler for each supported CPU architecture, developers can build a set of MSIL assemblies that can be JIT-compiled and run on different computers with different machine architectures.</span></span> <span data-ttu-id="f16bc-142">Cependant, si votre code managé appelle des API natives spécifiques à une plateforme ou une bibliothèque de classes spécifique à une plateforme, il s'exécutera sur un système d'exploitation spécifique uniquement.</span><span class="sxs-lookup"><span data-stu-id="f16bc-142">However, if your managed code calls platform-specific native APIs or a platform-specific class library, it will run only on that operating system.</span></span>  
  
 <span data-ttu-id="f16bc-143">La compilation JIT tient compte de la possibilité qu'une partie du code ne soit peut-être jamais appelée au moment de l'exécution.</span><span class="sxs-lookup"><span data-stu-id="f16bc-143">JIT compilation takes into account the possibility that some code might never be called during execution.</span></span> <span data-ttu-id="f16bc-144">Au lieu de consacrer du temps et des ressources mémoire à la conversion de toutes les instructions MSIL d'un fichier PE en code natif, elle les convertit au fur et à mesure des besoins au moment de l'exécution et stocke le code natif obtenu en mémoire afin qu'il soit accessible pour les appels ultérieurs dans le contexte de ce processus.</span><span class="sxs-lookup"><span data-stu-id="f16bc-144">Instead of using time and memory to convert all the MSIL in a PE file to native code, it converts the MSIL as needed during execution and stores the resulting native code in memory so that it is accessible for subsequent calls in the context of that process.</span></span> <span data-ttu-id="f16bc-145">Le chargeur crée et attache un stub à chaque méthode dans un type quand le type est chargé et initialisé.</span><span class="sxs-lookup"><span data-stu-id="f16bc-145">The loader creates and attaches a stub to each method in a type when the type is loaded and initialized.</span></span> <span data-ttu-id="f16bc-146">Quand une méthode est appelée pour la première fois, le stub passe le contrôle au compilateur JIT, qui convertit le MSIL de cette méthode en code natif et modifie le stub afin de pointer directement vers le code natif généré.</span><span class="sxs-lookup"><span data-stu-id="f16bc-146">When a method is called for the first time, the stub passes control to the JIT compiler, which converts the MSIL for that method into native code and modifies the stub to point directly to the generated native code.</span></span> <span data-ttu-id="f16bc-147">Par conséquent, les appels suivants à la méthode traitée par le compilateur JIT passent directement au code natif.</span><span class="sxs-lookup"><span data-stu-id="f16bc-147">Therefore, subsequent calls to the JIT-compiled method go directly to the native code.</span></span>  
  
### <a name="install-time-code-generation-using-ngenexe"></a><span data-ttu-id="f16bc-148">Génération du code d'installation à l'aide de NGen.exe</span><span class="sxs-lookup"><span data-stu-id="f16bc-148">Install-Time Code Generation Using NGen.exe</span></span>  
 <span data-ttu-id="f16bc-149">Comme le compilateur JIT convertit le MSIL d'un assembly en code natif quand les méthodes individuelles définies dans cet assembly sont appelées, les performances sont nécessairement altérées au moment de l'exécution.</span><span class="sxs-lookup"><span data-stu-id="f16bc-149">Because the JIT compiler converts an assembly's MSIL to native code when individual methods defined in that assembly are called, it affects performance adversely at run time.</span></span> <span data-ttu-id="f16bc-150">Dans la plupart des cas, cette baisse de performances est acceptable.</span><span class="sxs-lookup"><span data-stu-id="f16bc-150">In most cases, that diminished performance is acceptable.</span></span> <span data-ttu-id="f16bc-151">Et surtout, le code généré par le compilateur JIT est lié au processus qui a déclenché la compilation.</span><span class="sxs-lookup"><span data-stu-id="f16bc-151">More importantly, the code generated by the JIT compiler is bound to the process that triggered the compilation.</span></span> <span data-ttu-id="f16bc-152">Il ne peut pas être partagé entre plusieurs processus.</span><span class="sxs-lookup"><span data-stu-id="f16bc-152">It cannot be shared across multiple processes.</span></span> <span data-ttu-id="f16bc-153">Pour que le code généré puisse être partagé entre plusieurs appels d'une application ou entre plusieurs processus partageant un jeu d'assemblys, le Common Language Runtime prend en charge un mode de compilation à l'avance.</span><span class="sxs-lookup"><span data-stu-id="f16bc-153">To allow the generated code to be shared across multiple invocations of an application or across multiple processes that share a set of assemblies, the common language runtime supports an ahead-of-time compilation mode.</span></span> <span data-ttu-id="f16bc-154">Ce mode de compilation à l’avance utilise [Ngen.exe (générateur d’images natives)](../../docs/framework/tools/ngen-exe-native-image-generator.md) pour convertir les assemblys MSIL en code natif de façon similaire au compilateur JIT.</span><span class="sxs-lookup"><span data-stu-id="f16bc-154">This ahead-of-time compilation mode uses the [Ngen.exe (Native Image Generator)](../../docs/framework/tools/ngen-exe-native-image-generator.md) to convert MSIL assemblies to native code much like the JIT compiler does.</span></span> <span data-ttu-id="f16bc-155">Toutefois, le fonctionnement de Ngen.exe diffère de celui du compilateur JIT sur trois points :</span><span class="sxs-lookup"><span data-stu-id="f16bc-155">However, the operation of Ngen.exe differs from that of the JIT compiler in three ways:</span></span>  
  
- <span data-ttu-id="f16bc-156">Il exécute la conversion de MSIL en code natif avant d'exécuter l'application et non pendant l'exécution de celle-ci.</span><span class="sxs-lookup"><span data-stu-id="f16bc-156">It performs the conversion from MSIL to native code before running the application instead of while the application is running.</span></span>  
  
- <span data-ttu-id="f16bc-157">Il compile un assembly entier à la fois, au lieu d'une méthode à la fois.</span><span class="sxs-lookup"><span data-stu-id="f16bc-157">It compiles an entire assembly at a time, instead of one method at a time.</span></span>  
  
- <span data-ttu-id="f16bc-158">Il conserve le code généré dans le cache des images natives comme un fichier sur le disque.</span><span class="sxs-lookup"><span data-stu-id="f16bc-158">It persists the generated code in the Native Image Cache as a file on disk.</span></span>  
  
### <a name="code-verification"></a><span data-ttu-id="f16bc-159">Vérification du code</span><span class="sxs-lookup"><span data-stu-id="f16bc-159">Code Verification</span></span>  
 <span data-ttu-id="f16bc-160">Dans le cadre de sa compilation en code natif, le code MSIL est soumis à un processus de vérification, sauf si un administrateur a établi une stratégie de sécurité qui autorise le code à ignorer ce processus.</span><span class="sxs-lookup"><span data-stu-id="f16bc-160">As part of its compilation to native code, the MSIL code must pass a verification process unless an administrator has established a security policy that allows the code to bypass verification.</span></span> <span data-ttu-id="f16bc-161">La vérification examine le MSIL et les métadonnées afin de déterminer si le code est de type sécurisé, ce qui signifie qu'il ne doit accéder qu'aux emplacements de mémoire autorisés.</span><span class="sxs-lookup"><span data-stu-id="f16bc-161">Verification examines MSIL and metadata to find out whether the code is type safe, which means that it accesses only the memory locations it is authorized to access.</span></span> <span data-ttu-id="f16bc-162">La sécurité de type permet d'isoler les objets les uns des autres et de les protéger de toute altération accidentelle ou malveillante.</span><span class="sxs-lookup"><span data-stu-id="f16bc-162">Type safety helps isolate objects from each other and helps protect them from inadvertent or malicious corruption.</span></span> <span data-ttu-id="f16bc-163">Elle garantit également que les restrictions liées à la sécurité peuvent être appliquées au code de manière fiable.</span><span class="sxs-lookup"><span data-stu-id="f16bc-163">It also provides assurance that security restrictions on code can be reliably enforced.</span></span>  
  
 <span data-ttu-id="f16bc-164">Le runtime s'appuie sur le fait que les instructions suivantes sont vraies pour le code de type sécurisé vérifié :</span><span class="sxs-lookup"><span data-stu-id="f16bc-164">The runtime relies on the fact that the following statements are true for code that is verifiably type safe:</span></span>  
  
- <span data-ttu-id="f16bc-165">une référence à un type qui est strictement compatible avec le type référencé ;</span><span class="sxs-lookup"><span data-stu-id="f16bc-165">A reference to a type is strictly compatible with the type being referenced.</span></span>  
  
- <span data-ttu-id="f16bc-166">seules les opérations définies de façon appropriée sont appelées pour un objet ;</span><span class="sxs-lookup"><span data-stu-id="f16bc-166">Only appropriately defined operations are invoked on an object.</span></span>  
  
- <span data-ttu-id="f16bc-167">les identités sont conformes à ce qu'elles prétendent être.</span><span class="sxs-lookup"><span data-stu-id="f16bc-167">Identities are what they claim to be.</span></span>  
  
 <span data-ttu-id="f16bc-168">Pendant le processus de vérification, le code MSIL est examiné en vue d'essayer de confirmer qu'il peut accéder aux emplacements de mémoire et appeler des méthodes uniquement par le biais de types correctement définis.</span><span class="sxs-lookup"><span data-stu-id="f16bc-168">During the verification process, MSIL code is examined in an attempt to confirm that the code can access memory locations and call methods only through properly defined types.</span></span> <span data-ttu-id="f16bc-169">Par exemple, le code n'autorise pas l'accès aux champs d'un objet d'une manière qui accepte le débordement de capacité des emplacements de mémoire.</span><span class="sxs-lookup"><span data-stu-id="f16bc-169">For example, code cannot allow an object's fields to be accessed in a manner that allows memory locations to be overrun.</span></span> <span data-ttu-id="f16bc-170">Par ailleurs, le processus de vérification inspecte le code MSIL afin de déterminer s'il a été généré correctement, car un code MSIL incorrect peut donner lieu à une violation des règles de sécurité des types.</span><span class="sxs-lookup"><span data-stu-id="f16bc-170">Additionally, verification inspects code to determine whether the MSIL has been correctly generated, because incorrect MSIL can lead to a violation of the type safety rules.</span></span> <span data-ttu-id="f16bc-171">Le processus de vérification passe un jeu de code de type sécurisé et correctement défini, et ne passe que du code de ce type.</span><span class="sxs-lookup"><span data-stu-id="f16bc-171">The verification process passes a well-defined set of type-safe code, and it passes only code that is type safe.</span></span> <span data-ttu-id="f16bc-172">Cependant, une partie du code de type sécurisé peut ne pas passer le test de vérification avec succès en raison de certaines limitations du processus de vérification, et certains langages, de par leur design, ne produisent pas un code de type sécurisé vérifié.</span><span class="sxs-lookup"><span data-stu-id="f16bc-172">However, some type-safe code might not pass verification because of some limitations of the verification process, and some languages, by design, do not produce verifiably type-safe code.</span></span> <span data-ttu-id="f16bc-173">Si le code de type sécurisé est requis par la stratégie de sécurité, mais qu'il ne passe pas le test de vérification avec succès, une exception est levée quand le code est exécuté.</span><span class="sxs-lookup"><span data-stu-id="f16bc-173">If type-safe code is required by the security policy but the code does not pass verification, an exception is thrown when the code is run.</span></span>  
  
 [<span data-ttu-id="f16bc-174">Retour au début</span><span class="sxs-lookup"><span data-stu-id="f16bc-174">Back to top</span></span>](#introduction)  
  
<a name="running_code"></a>   
## <a name="running-code"></a><span data-ttu-id="f16bc-175">Exécution de code</span><span class="sxs-lookup"><span data-stu-id="f16bc-175">Running Code</span></span>  
 <span data-ttu-id="f16bc-176">Le Common Language Runtime fournit l'infrastructure qui permet à l'exécution managée d'avoir lieu et les services pouvant être utilisés pendant l'exécution.</span><span class="sxs-lookup"><span data-stu-id="f16bc-176">The common language runtime provides the infrastructure that enables managed execution to take place and services that can be used during execution.</span></span> <span data-ttu-id="f16bc-177">Pour qu'une méthode puisse être exécutée, elle doit d'abord être compilée en un code spécifique au processeur.</span><span class="sxs-lookup"><span data-stu-id="f16bc-177">Before a method can be run, it must be compiled to processor-specific code.</span></span> <span data-ttu-id="f16bc-178">Chaque méthode pour laquelle le MSIL a été généré est compilée juste-à-temps quand elle est appelée pour la première fois, puis s'exécute.</span><span class="sxs-lookup"><span data-stu-id="f16bc-178">Each method for which MSIL has been generated is JIT-compiled when it is called for the first time, and then run.</span></span> <span data-ttu-id="f16bc-179">Quand la méthode est exécutée la fois suivante, le code natif existant traité par le compilateur JIT est exécuté.</span><span class="sxs-lookup"><span data-stu-id="f16bc-179">The next time the method is run, the existing JIT-compiled native code is run.</span></span> <span data-ttu-id="f16bc-180">Le processus de compilation JIT puis d'exécution du code est répété jusqu'à ce que l'exécution soit complètement terminée.</span><span class="sxs-lookup"><span data-stu-id="f16bc-180">The process of JIT-compiling and then running the code is repeated until execution is complete.</span></span>  
  
 <span data-ttu-id="f16bc-181">Pendant l'exécution, le code managé bénéficie de services tels que le garbage collection, la sécurité, l'interopérabilité avec le code non managé, la prise en charge du débogage interlangage ainsi que la prise en charge améliorée du déploiement et du versioning.</span><span class="sxs-lookup"><span data-stu-id="f16bc-181">During execution, managed code receives services such as garbage collection, security, interoperability with unmanaged code, cross-language debugging support, and enhanced deployment and versioning support.</span></span>  
  
 <span data-ttu-id="f16bc-182">Dans Microsoft [!INCLUDE[winxp](../../includes/winxp-md.md)] et [!INCLUDE[windowsver](../../includes/windowsver-md.md)], le chargeur du système d'exploitation recherche des modules managés en examinant un bit dans l'en-tête du format COFF (Common Object File Format).</span><span class="sxs-lookup"><span data-stu-id="f16bc-182">In Microsoft [!INCLUDE[winxp](../../includes/winxp-md.md)] and [!INCLUDE[windowsver](../../includes/windowsver-md.md)], the operating system loader checks for managed modules by examining a bit in the COFF header.</span></span> <span data-ttu-id="f16bc-183">Le bit défini indique un module managé.</span><span class="sxs-lookup"><span data-stu-id="f16bc-183">The bit being set denotes a managed module.</span></span> <span data-ttu-id="f16bc-184">Si le chargeur détecte des modules managés, il charge mscoree.dll. `_CorValidateImage` et `_CorImageUnloading` informent le chargeur quand les images de modules managés sont chargées et déchargées.</span><span class="sxs-lookup"><span data-stu-id="f16bc-184">If the loader detects managed modules, it loads mscoree.dll, and `_CorValidateImage` and `_CorImageUnloading` notify the loader when the managed module images are loaded and unloaded.</span></span> <span data-ttu-id="f16bc-185">`_CorValidateImage` effectue les actions suivantes :</span><span class="sxs-lookup"><span data-stu-id="f16bc-185">`_CorValidateImage` performs the following actions:</span></span>  
  
1. <span data-ttu-id="f16bc-186">garantit que le code est du code managé valide ;</span><span class="sxs-lookup"><span data-stu-id="f16bc-186">Ensures that the code is valid managed code.</span></span>  
  
2. <span data-ttu-id="f16bc-187">change le point d'entrée dans l'image en point d'entrée dans le runtime.</span><span class="sxs-lookup"><span data-stu-id="f16bc-187">Changes the entry point in the image to an entry point in the runtime.</span></span>  
  
 <span data-ttu-id="f16bc-188">Sous Windows 64 bits, `_CorValidateImage` modifie l'image en mémoire en la transformant du format PE32 au format PE32+.</span><span class="sxs-lookup"><span data-stu-id="f16bc-188">On 64-bit Windows, `_CorValidateImage` modifies the image that is in memory by transforming it from PE32 to PE32+ format.</span></span>  
  
 [<span data-ttu-id="f16bc-189">Retour au début</span><span class="sxs-lookup"><span data-stu-id="f16bc-189">Back to top</span></span>](#introduction)  
  
## <a name="see-also"></a><span data-ttu-id="f16bc-190">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="f16bc-190">See also</span></span>

- [<span data-ttu-id="f16bc-191">Vue d’ensemble</span><span class="sxs-lookup"><span data-stu-id="f16bc-191">Overview</span></span>](../../docs/framework/get-started/overview.md)
- [<span data-ttu-id="f16bc-192">Indépendance du langage et composants indépendants du langage</span><span class="sxs-lookup"><span data-stu-id="f16bc-192">Language Independence and Language-Independent Components</span></span>](../../docs/standard/language-independence-and-language-independent-components.md)
- [<span data-ttu-id="f16bc-193">Métadonnées et composants autodescriptifs</span><span class="sxs-lookup"><span data-stu-id="f16bc-193">Metadata and Self-Describing Components</span></span>](../../docs/standard/metadata-and-self-describing-components.md)
- [<span data-ttu-id="f16bc-194">Ilasm.exe (assembleur IL)</span><span class="sxs-lookup"><span data-stu-id="f16bc-194">Ilasm.exe (IL Assembler)</span></span>](../../docs/framework/tools/ilasm-exe-il-assembler.md)
- [<span data-ttu-id="f16bc-195">Security</span><span class="sxs-lookup"><span data-stu-id="f16bc-195">Security</span></span>](../../docs/standard/security/index.md)
- [<span data-ttu-id="f16bc-196">Interopération avec du code non managé</span><span class="sxs-lookup"><span data-stu-id="f16bc-196">Interoperating with Unmanaged Code</span></span>](../../docs/framework/interop/index.md)
- [<span data-ttu-id="f16bc-197">Déploiement</span><span class="sxs-lookup"><span data-stu-id="f16bc-197">Deployment</span></span>](../../docs/framework/deployment/net-framework-applications.md)
- [<span data-ttu-id="f16bc-198">Assemblys dans .NET</span><span class="sxs-lookup"><span data-stu-id="f16bc-198">Assemblies in .NET</span></span>](assembly/index.md)
- [<span data-ttu-id="f16bc-199">Domaines d’application</span><span class="sxs-lookup"><span data-stu-id="f16bc-199">Application Domains</span></span>](../../docs/framework/app-domains/application-domains.md)
