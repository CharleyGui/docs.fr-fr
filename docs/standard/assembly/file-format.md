---
title: Format de fichier d’assembly .NET
description: Découvrez le format de fichier d’assembly .NET, qui sert à décrire et à contenir les bibliothèques et les applications .NET.
author: richlander
ms.date: 08/20/2019
ms.technology: dotnet-standard
ms.assetid: 6520323e-ff28-4c8a-ba80-e64a413199e6
ms.openlocfilehash: 4cf6522d66d7a1efccde45078768a773db6e6cb0
ms.sourcegitcommit: 5f236cd78cf09593c8945a7d753e0850e96a0b80
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/07/2020
ms.locfileid: "75711582"
---
# <a name="net-assembly-file-format"></a><span data-ttu-id="48fd0-103">Format de fichier d’assembly .NET</span><span class="sxs-lookup"><span data-stu-id="48fd0-103">.NET assembly file format</span></span>

<span data-ttu-id="48fd0-104">.NET définit un format de fichier binaire, *assembly*, qui est utilisé pour décrire et contenir entièrement des programmes .net.</span><span class="sxs-lookup"><span data-stu-id="48fd0-104">.NET defines a binary file format, *assembly*, that is used to fully describe and contain .NET programs.</span></span> <span data-ttu-id="48fd0-105">Les assemblys sont utilisés pour les programmes eux-mêmes comme n’importe quelle bibliothèque dépendante.</span><span class="sxs-lookup"><span data-stu-id="48fd0-105">Assemblies are used for the programs themselves as well as any dependent libraries.</span></span> <span data-ttu-id="48fd0-106">Un programme .NET peut être exécuté comme tout autre assembly, sans que d’autres artefacts soient nécessaires, en dehors de l’implémentation de .NET appropriée.</span><span class="sxs-lookup"><span data-stu-id="48fd0-106">A .NET program can be executed as one or more assemblies, with no other required artifacts, beyond the appropriate .NET implementation.</span></span> <span data-ttu-id="48fd0-107">Les dépendances natives, y compris les API du système d’exploitation, sont une préoccupation distincte et ne sont pas contenues dans le format d’assembly .NET, même si elles sont parfois décrites avec ce format (par exemple, WinRT).</span><span class="sxs-lookup"><span data-stu-id="48fd0-107">Native dependencies, including operating system APIs, are a separate concern and are not contained within the .NET assembly format, although they are sometimes described with this format (for example, WinRT).</span></span>

> <span data-ttu-id="48fd0-108">Chaque composant CLI inclut les métadonnées des déclarations, implémentations et références spécifiques de ce composant.</span><span class="sxs-lookup"><span data-stu-id="48fd0-108">Each CLI component carries the metadata for declarations, implementations, and references specific to that component.</span></span> <span data-ttu-id="48fd0-109">Par conséquent, les métadonnées spécifiques du composant sont désignées comme les métadonnées de composant, et le composant qui en résulte est autodescriptif (d’après ECMA 335 I.9.1, Components and assemblies).</span><span class="sxs-lookup"><span data-stu-id="48fd0-109">Therefore, the component-specific metadata is referred to as component metadata, and the resulting component is said to be self-describing – from ECMA 335 I.9.1, Components and assemblies.</span></span>

<span data-ttu-id="48fd0-110">Le format est entièrement spécifié et normalisé sous [ECMA 335](https://www.ecma-international.org/publications/standards/Ecma-335.htm).</span><span class="sxs-lookup"><span data-stu-id="48fd0-110">The format is fully specified and standardized as [ECMA 335](https://www.ecma-international.org/publications/standards/Ecma-335.htm).</span></span> <span data-ttu-id="48fd0-111">Tous les compilateurs et les runtimes .NET utilisent ce format.</span><span class="sxs-lookup"><span data-stu-id="48fd0-111">All .NET compilers and runtimes use this format.</span></span> <span data-ttu-id="48fd0-112">La présence d’un format binaire documenté et rarement mis à jour a été un atout majeur (peut-être même une condition sine qua none) pour l’interopérabilité.</span><span class="sxs-lookup"><span data-stu-id="48fd0-112">The presence of a documented and infrequently updated binary format has been a major benefit (arguably a requirement) for interoperability.</span></span> <span data-ttu-id="48fd0-113">Le format a été modifié de manière substantielle en 2005 (.NET 2.0) pour prendre en charge les génériques et l’architecture de processeur.</span><span class="sxs-lookup"><span data-stu-id="48fd0-113">The format was last updated in a substantive way in 2005 (.NET 2.0) to accommodate generics and processor architecture.</span></span>

<span data-ttu-id="48fd0-114">Le format est indépendant du processeur et du système d’exploitation.</span><span class="sxs-lookup"><span data-stu-id="48fd0-114">The format is CPU- and OS-agnostic.</span></span> <span data-ttu-id="48fd0-115">Il a été utilisé dans le cadre des implémentations de .NET qui ciblent plusieurs processeurs.</span><span class="sxs-lookup"><span data-stu-id="48fd0-115">It has been used as part of .NET implementations that target many chips and CPUs.</span></span> <span data-ttu-id="48fd0-116">Le format lui-même est hérité de Windows, il peut être implémenté sur n’importe quel système d’exploitation.</span><span class="sxs-lookup"><span data-stu-id="48fd0-116">While the format itself has Windows heritage, it is implementable on any operating system.</span></span> <span data-ttu-id="48fd0-117">La raison pour laquelle il est largement adopté pour l’interopérabilité du système d’exploitation est sans doute que la plupart des valeurs sont stockées dans un format Little Endian.</span><span class="sxs-lookup"><span data-stu-id="48fd0-117">Its arguably most significant choice for OS interoperability is that most values are stored in little-endian format.</span></span> <span data-ttu-id="48fd0-118">Il n’a pas d’affinité particulière avec la taille du pointeur d’ordinateur (par exemple, 32 bits, 64 bits).</span><span class="sxs-lookup"><span data-stu-id="48fd0-118">It doesn’t have a specific affinity to machine pointer size (for example, 32-bit, 64-bit).</span></span>

<span data-ttu-id="48fd0-119">Le format d’assembly .NET est également très descriptif de la structure d’une bibliothèque ou d’un programme donné.</span><span class="sxs-lookup"><span data-stu-id="48fd0-119">The .NET assembly format is also very descriptive about the structure of a given program or library.</span></span> <span data-ttu-id="48fd0-120">Il décrit les composants internes d’un assembly, notamment les références d’assembly et les types définis et leur structure interne.</span><span class="sxs-lookup"><span data-stu-id="48fd0-120">It describes the internal components of an assembly, specifically assembly references and types defined and their internal structure.</span></span> <span data-ttu-id="48fd0-121">Les API ou les outils peuvent lire et traiter ces informations pour l’affichage ou pour prendre des décisions de programmation.</span><span class="sxs-lookup"><span data-stu-id="48fd0-121">Tools or APIs can read and process this information for display or to make programmatic decisions.</span></span>

## <a name="format"></a><span data-ttu-id="48fd0-122">Format</span><span class="sxs-lookup"><span data-stu-id="48fd0-122">Format</span></span>

<span data-ttu-id="48fd0-123">Le format binaire .NET est basé sur le format de [fichier PE](https://en.wikipedia.org/wiki/Portable_Executable) de Windows.</span><span class="sxs-lookup"><span data-stu-id="48fd0-123">The .NET binary format is based on the Windows [PE file](https://en.wikipedia.org/wiki/Portable_Executable) format.</span></span> <span data-ttu-id="48fd0-124">En fait, les bibliothèques de classes .NET sont des fichiers Windows PE conformes qui ressemblent à première vue à des bibliothèques de liens dynamiques (DLL) Windows ou à des fichiers exécutables d’application (EXE).</span><span class="sxs-lookup"><span data-stu-id="48fd0-124">In fact, .NET class libraries are conformant Windows PEs, and appear on first glance to be Windows dynamic link libraries (DLLs) or application executables (EXEs).</span></span> <span data-ttu-id="48fd0-125">Il s’agit d’une caractéristique très utile dans Windows, car ces fichiers peuvent se faire passer pour des fichiers binaires exécutables natifs et recevoir le même traitement (par exemple, charge de système d’exploitation, outils PE).</span><span class="sxs-lookup"><span data-stu-id="48fd0-125">This is a very useful characteristic on Windows, where they can masquerade as native executable binaries and get some of the same treatment (for example, OS load, PE tools).</span></span>

![En-têtes d’assembly](../media/assembly-format/assembly-headers.png)

<span data-ttu-id="48fd0-127">En-têtes d’assembly d’après ECMA 335 II.25.1, Structure of the runtime file format.</span><span class="sxs-lookup"><span data-stu-id="48fd0-127">Assembly Headers from ECMA 335 II.25.1, Structure of the runtime file format.</span></span>

## <a name="process-the-assemblies"></a><span data-ttu-id="48fd0-128">Traiter les assemblys</span><span class="sxs-lookup"><span data-stu-id="48fd0-128">Process the assemblies</span></span>

<span data-ttu-id="48fd0-129">Vous pouvez écrire des outils ou des API pour traiter les assemblys.</span><span class="sxs-lookup"><span data-stu-id="48fd0-129">It is possible to write tools or APIs to process assemblies.</span></span> <span data-ttu-id="48fd0-130">Les informations d’assembly permettent de prendre des décisions de programmation au moment de l’exécution, de réécrire des assemblys, de fournir l’IntelliSense des API dans un éditeur et de générer de la documentation.</span><span class="sxs-lookup"><span data-stu-id="48fd0-130">Assembly information enables making programmatic decisions at runtime, re-writing assemblies, providing API IntelliSense in an editor and generating documentation.</span></span> <span data-ttu-id="48fd0-131"><xref:System.Reflection?displayProperty=nameWithType>, <xref:System.Reflection.MetadataLoadContext?displayProperty=nameWithType> et [Mono.Cecil](https://www.mono-project.com/docs/tools+libraries/libraries/Mono.Cecil/) sont de bons exemples d’outils fréquemment utilisés à cet effet.</span><span class="sxs-lookup"><span data-stu-id="48fd0-131"><xref:System.Reflection?displayProperty=nameWithType>, <xref:System.Reflection.MetadataLoadContext?displayProperty=nameWithType>, and [Mono.Cecil](https://www.mono-project.com/docs/tools+libraries/libraries/Mono.Cecil/) are good examples of tools that are frequently used for this purpose.</span></span>
