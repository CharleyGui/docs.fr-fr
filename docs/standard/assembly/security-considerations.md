---
title: Considérations sur la sécurité des assemblys
ms.date: 08/20/2019
helpviewer_keywords:
- assemblies [.NET Framework], security
- signcodes
- names [.NET Framework], assemblies
- strong-named assemblies, security considerations
- signing assemblies
- assemblies [.NET Framework], signing
- granting permissions, assemblies
- assemblies [.NET Framework], strong-named
- names [.NET Framework], strong names
- permissions [.NET Framework], assemblies
- security [.NET Framework], assemblies
- integrity with assemblies
ms.assetid: 1b5439c1-f3d5-4529-bd69-01814703d067
author: rpetrusha
ms.author: ronpet
ms.openlocfilehash: b8cf99e766e3ea66440a30b4b616a1d90ec937e3
ms.sourcegitcommit: 7b1ce327e8c84f115f007be4728d29a89efe11ef
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 09/13/2019
ms.locfileid: "70973081"
---
# <a name="assembly-security-considerations"></a><span data-ttu-id="ac84b-102">Considérations sur la sécurité des assemblys</span><span class="sxs-lookup"><span data-stu-id="ac84b-102">Assembly security considerations</span></span>
<a name="top"></a><span data-ttu-id="ac84b-103">Lorsque vous générez un assembly, vous pouvez spécifier un jeu d’autorisations que l’assembly doit exécuter.</span><span class="sxs-lookup"><span data-stu-id="ac84b-103">When you build an assembly, you can specify a set of permissions that the assembly requires to run.</span></span> <span data-ttu-id="ac84b-104">L'octroi ou non de certaines autorisations à un assembly repose sur la preuve.</span><span class="sxs-lookup"><span data-stu-id="ac84b-104">Whether certain permissions are granted or not granted to an assembly is based on evidence.</span></span>  
  
 <span data-ttu-id="ac84b-105">La preuve est utilisée de deux façons :</span><span class="sxs-lookup"><span data-stu-id="ac84b-105">There are two distinct ways evidence is used:</span></span>  
  
- <span data-ttu-id="ac84b-106">La preuve d’entrée est fusionnée avec la preuve rassemblée par le chargeur afin de constituer un jeu final de preuves utilisé pour la résolution de stratégie.</span><span class="sxs-lookup"><span data-stu-id="ac84b-106">The input evidence is merged with the evidence gathered by the loader to create a final set of evidence used for policy resolution.</span></span> <span data-ttu-id="ac84b-107">Les méthodes qui utilisent cette sémantique sont **Assembly.Load**, **Assembly.LoadFrom** et **Activator.CreateInstance**.</span><span class="sxs-lookup"><span data-stu-id="ac84b-107">The methods that use this semantic include **Assembly.Load**, **Assembly.LoadFrom**, and **Activator.CreateInstance**.</span></span>  
  
- <span data-ttu-id="ac84b-108">La preuve d’entrée est utilisée sans altération comme jeu final de preuves utilisé pour la résolution de stratégie.</span><span class="sxs-lookup"><span data-stu-id="ac84b-108">The input evidence is used unaltered as the final set of evidence used for policy resolution.</span></span> <span data-ttu-id="ac84b-109">Les méthodes qui utilisent cette sémantique sont **Assembly.Load(byte[])** et **AppDomain.DefineDynamicAssembly()** .</span><span class="sxs-lookup"><span data-stu-id="ac84b-109">The methods that use this semantic include **Assembly.Load(byte[])** and **AppDomain.DefineDynamicAssembly()**.</span></span>  
  
  <span data-ttu-id="ac84b-110">Des autorisations facultatives peuvent être accordées par la [stratégie de sécurité](../../framework/misc/code-access-security-basics.md) définie sur l’ordinateur sur lequel l’assembly s’exécute.</span><span class="sxs-lookup"><span data-stu-id="ac84b-110">Optional permissions can be granted by the [security policy](../../framework/misc/code-access-security-basics.md) set on the computer where the assembly will run.</span></span> <span data-ttu-id="ac84b-111">Si vous souhaitez que votre code gère toutes les exceptions de sécurité possibles, vous pouvez effectuer l'une des opérations suivantes :</span><span class="sxs-lookup"><span data-stu-id="ac84b-111">If you want your code to handle all potential security exceptions, you can do one of the following:</span></span>  
  
- <span data-ttu-id="ac84b-112">insérer une demande d'autorisation pour toutes les autorisations que votre code doit posséder et gérer à l'avance la défaillance de durée de chargement qui se produit lorsque les autorisations ne sont pas accordées ;</span><span class="sxs-lookup"><span data-stu-id="ac84b-112">Insert a permission request for all the permissions your code must have, and handle up front the load-time failure that occurs if the permissions are not granted.</span></span>  
  
- <span data-ttu-id="ac84b-113">ne pas utiliser de demande d'autorisation pour obtenir les autorisations dont votre code peut avoir besoin, mais être préparé à gérer les exceptions de sécurité lorsque les autorisations ne sont pas accordées.</span><span class="sxs-lookup"><span data-stu-id="ac84b-113">Do not use a permission request to obtain permissions your code might need, but be prepared to handle security exceptions if permissions are not granted.</span></span>  
  
  > [!NOTE]
  > <span data-ttu-id="ac84b-114">La sécurité est un domaine complexe et vous pouvez effectuer votre choix parmi de nombreuses options.</span><span class="sxs-lookup"><span data-stu-id="ac84b-114">Security is a complex area, and you have many options to choose from.</span></span> <span data-ttu-id="ac84b-115">Pour plus d’informations, consultez [Concepts fondamentaux sur la sécurité](../../standard/security/key-security-concepts.md).</span><span class="sxs-lookup"><span data-stu-id="ac84b-115">For more information, see [Key Security Concepts](../../standard/security/key-security-concepts.md).</span></span>  
  
 <span data-ttu-id="ac84b-116">Au moment du chargement, la preuve de l'assembly est utilisée comme entrée vers la stratégie de sécurité.</span><span class="sxs-lookup"><span data-stu-id="ac84b-116">At load time, the assembly's evidence is used as input to security policy.</span></span> <span data-ttu-id="ac84b-117">La stratégie de sécurité est établie par l'entreprise et l'administrateur de l'ordinateur, ainsi que par les paramètres de stratégie de l'utilisateur, et détermine le jeu d'autorisations qui est accordé à l'ensemble du code managé lors de son exécution.</span><span class="sxs-lookup"><span data-stu-id="ac84b-117">Security policy is established by the enterprise and the computer's administrator as well as by user policy settings, and determines the set of permissions that is granted to all managed code when executed.</span></span> <span data-ttu-id="ac84b-118">La stratégie de sécurité peut être établie pour l'éditeur de l'assembly (s'il possède une signature générée par un outil de signature), pour le site Web et la zone (selon les termes d'Internet Explorer) à partir desquels l'assembly a été téléchargé ou pour le nom fort de l'assembly.</span><span class="sxs-lookup"><span data-stu-id="ac84b-118">Security policy can be established for the publisher of the assembly (if it has a signing tool generated signature), for the Web site and zone (in Internet Explorer terms) the assembly was downloaded from, or for the assembly's strong name.</span></span> <span data-ttu-id="ac84b-119">Par exemple, l'administrateur d'un ordinateur peut établir une stratégie de sécurité qui autorise l'ensemble d'un code téléchargé à partir d'un site Web et signé par un éditeur de logiciel donné d'accéder à une base de données sur un ordinateur, mais qui n'accorde pas d'accès en écriture sur le disque de l'ordinateur.</span><span class="sxs-lookup"><span data-stu-id="ac84b-119">For example, a computer's administrator can establish security policy that allows all code downloaded from a Web site and signed by a given software company to access a database on a computer, but does not grant access to write to the computer's disk.</span></span>  
  
## <a name="strong-named-assemblies-and-signing-tools"></a><span data-ttu-id="ac84b-120">Assemblys avec nom fort et outils de signature</span><span class="sxs-lookup"><span data-stu-id="ac84b-120">Strong-named assemblies and signing tools</span></span>  

 > [!WARNING]
 > <span data-ttu-id="ac84b-121">Ne comptez pas sur les noms forts pour la sécurité.</span><span class="sxs-lookup"><span data-stu-id="ac84b-121">Do not rely on strong names for security.</span></span> <span data-ttu-id="ac84b-122">Ils fournissent seulement une identité unique.</span><span class="sxs-lookup"><span data-stu-id="ac84b-122">They provide a unique identity only.</span></span>

 <span data-ttu-id="ac84b-123">Vous pouvez signer un assembly de deux manières différentes, mais qui sont complémentaires : avec un nom fort ou à l’aide de [SignTool.exe (outil de signature)](../../framework/tools/signtool-exe.md).</span><span class="sxs-lookup"><span data-stu-id="ac84b-123">You can sign an assembly in two different but complementary ways: with a strong name or by using  [SignTool.exe (Sign Tool)](../../framework/tools/signtool-exe.md).</span></span> <span data-ttu-id="ac84b-124">La signature d’un assembly avec un nom fort ajoute un chiffrement à clé publique au fichier contenant le manifeste d’assembly.</span><span class="sxs-lookup"><span data-stu-id="ac84b-124">Signing an assembly with a strong name adds public key encryption to the file containing the assembly manifest.</span></span> <span data-ttu-id="ac84b-125">La signature avec un nom fort permet de vérifier l'unicité du nom, empêche l'usurpation de noms et fournit aux appelants une certaine identité lorsqu'une référence est résolue.</span><span class="sxs-lookup"><span data-stu-id="ac84b-125">Strong name signing helps to verify name uniqueness, prevent name spoofing, and provide callers with some identity when a reference is resolved.</span></span>  
  
 <span data-ttu-id="ac84b-126">Aucun niveau de confiance n’est associé à un nom fort, d’où l’importance accordée à l’outil de signature [SignTool.exe](../../framework/tools/signtool-exe.md).</span><span class="sxs-lookup"><span data-stu-id="ac84b-126">No level of trust is associated with a strong name, which makes [SignTool.exe (Sign Tool)](../../framework/tools/signtool-exe.md) important.</span></span> <span data-ttu-id="ac84b-127">Les deux outils de signature exigent d'un éditeur qu'il prouve son identité à une tierce autorité et obtienne un certificat.</span><span class="sxs-lookup"><span data-stu-id="ac84b-127">The two signing tools require a publisher to prove its identity to a third-party authority and obtain a certificate.</span></span> <span data-ttu-id="ac84b-128">Ce certificat est ensuite incorporé à votre fichier et peut être utilisé par un administrateur pour décider d'approuver ou non l'authenticité du code.</span><span class="sxs-lookup"><span data-stu-id="ac84b-128">This certificate is then embedded in your file and can be used by an administrator to decide whether to trust the code's authenticity.</span></span>  
  
 <span data-ttu-id="ac84b-129">Vous pouvez attribuer à un assembly un nom fort et une signature numérique créés à l’aide de [SignTool.exe (outil de signature) ](../../framework/tools/signtool-exe.md), ou utiliser l’un ou l’autre indépendamment.</span><span class="sxs-lookup"><span data-stu-id="ac84b-129">You can give both a strong name and a digital signature created using [SignTool.exe (Sign Tool)](../../framework/tools/signtool-exe.md) to an assembly, or you can use either alone.</span></span> <span data-ttu-id="ac84b-130">Les deux outils de signature ne peuvent signer qu'un fichier à la fois ; pour un assembly multifichier, vous signez le fichier qui contient le manifeste d'assembly.</span><span class="sxs-lookup"><span data-stu-id="ac84b-130">The two signing tools can sign only one file at a time; for a multifile assembly, you sign the file that contains the assembly manifest.</span></span> <span data-ttu-id="ac84b-131">Un nom fort est stocké dans un fichier qui contient le manifeste d’assembly, tandis qu’une signature créée à l’aide de l’outil de signature [SignTool.exe](../../framework/tools/signtool-exe.md) est stockée dans un emplacement réservé à cet effet, dans un fichier exécutable portable qui contient le manifeste d’assembly.</span><span class="sxs-lookup"><span data-stu-id="ac84b-131">A strong name is stored in the file containing the assembly manifest, but a signature created using [SignTool.exe (Sign Tool)](../../framework/tools/signtool-exe.md) is stored in a reserved slot in the portable executable (PE) file containing the assembly manifest.</span></span> <span data-ttu-id="ac84b-132">La signature d’un assembly à l’aide de l’[outil de signature SignTool.exe](../../framework/tools/signtool-exe.md) peut être utilisée (avec ou sans nom fort) lorsque vous avez déjà une hiérarchie d’approbations qui s’appuie sur les signatures générées par cet [outil de signature SignTool.exe](../../framework/tools/signtool-exe.md), ou lorsque votre stratégie n’utilise que la partie propre à la clé et ne contrôle pas de chaîne de confiance.</span><span class="sxs-lookup"><span data-stu-id="ac84b-132">Signing of an assembly using [SignTool.exe (Sign Tool)](../../framework/tools/signtool-exe.md) can be used (with or without a strong name) when you already have a trust hierarchy that relies on [SignTool.exe (Sign Tool)](../../framework/tools/signtool-exe.md) generated signatures, or when your policy uses only the key portion and does not check a chain of trust.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="ac84b-133">Lorsque vous utilisez à la fois un nom fort et une signature générée par un outil avec un assembly, le nom fort doit être assigné en premier.</span><span class="sxs-lookup"><span data-stu-id="ac84b-133">When using both a strong name and a signing tool signature on an assembly, the strong name must be assigned first.</span></span>  
  
 <span data-ttu-id="ac84b-134">Le Common Language Runtime effectue également une vérification du hachage ; le manifeste d'assembly contient la liste de tous les fichiers qui composent l'assembly, y compris un hachage de chaque fichier tel qu'il existait lors de la génération du manifeste.</span><span class="sxs-lookup"><span data-stu-id="ac84b-134">The common language runtime also performs a hash verification; the assembly manifest contains a list of all files that make up the assembly, including a hash of each file as it existed when the manifest was built.</span></span> <span data-ttu-id="ac84b-135">À mesure que chaque fichier est chargé, son contenu est haché et comparé à la valeur de hachage stockée dans le manifeste.</span><span class="sxs-lookup"><span data-stu-id="ac84b-135">As each file is loaded, its contents are hashed and compared with the hash value stored in the manifest.</span></span> <span data-ttu-id="ac84b-136">Si les deux hachages ne correspondent pas, l'assembly échoue.</span><span class="sxs-lookup"><span data-stu-id="ac84b-136">If the two hashes do not match, the assembly fails to load.</span></span>  
  
 <span data-ttu-id="ac84b-137">Comme l’affectation de nom fort et la signature à l’aide de l’[outil de signature SignTool.exe](../../framework/tools/signtool-exe.md) garantissent l’intégrité, vous pouvez baser la stratégie de sécurité d’accès du code sur ces deux formes de preuve d’assembly.</span><span class="sxs-lookup"><span data-stu-id="ac84b-137">Because strong naming and signing using [SignTool.exe (Sign Tool)](../../framework/tools/signtool-exe.md) guarantee integrity, you can base code access security policy on these two forms of assembly evidence.</span></span> <span data-ttu-id="ac84b-138">L’affectation de nom fort et la signature à l’aide de l’[outil de signature SignTool.exe](../../framework/tools/signtool-exe.md) garantissent l’intégrité par les signatures numériques et les certificats.</span><span class="sxs-lookup"><span data-stu-id="ac84b-138">Strong naming and signing using [SignTool.exe (Sign Tool)](../../framework/tools/signtool-exe.md) guarantee integrity through digital signatures and certificates.</span></span> <span data-ttu-id="ac84b-139">Toutes les technologies mentionnées (vérification du hachage, affectation de nom fort et signature à l’aide de l’[outil de signature SignTool.exe](../../framework/tools/signtool-exe.md)) fonctionnent ensemble pour que l’assembly ne soit pas altéré d’une manière ou d’une autre.</span><span class="sxs-lookup"><span data-stu-id="ac84b-139">All the technologies mentioned—hash verification, strong naming, and signing using [SignTool.exe (Sign Tool)](../../framework/tools/signtool-exe.md)—work together to ensure that the assembly has not been altered in any way.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="ac84b-140">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="ac84b-140">See also</span></span>

- [<span data-ttu-id="ac84b-141">Assemblys avec nom fort</span><span class="sxs-lookup"><span data-stu-id="ac84b-141">Strong-named assemblies</span></span>](strong-named.md)
- [<span data-ttu-id="ac84b-142">Assemblys dans .NET</span><span class="sxs-lookup"><span data-stu-id="ac84b-142">Assemblies in .NET</span></span>](index.md)
- [<span data-ttu-id="ac84b-143">SignTool.exe (outil de signature)</span><span class="sxs-lookup"><span data-stu-id="ac84b-143">SignTool.exe (Sign Tool)</span></span>](../../framework/tools/signtool-exe.md)
