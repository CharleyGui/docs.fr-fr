---
title: Contrôle de version des assemblys
ms.date: 08/20/2019
helpviewer_keywords:
- informational versions
- version numbers, assemblies
- assemblies [.NET Framework], versioning
- resolving assembly binding requests
- versioning, assemblies
ms.assetid: 775ad4fb-914f-453c-98ef-ce1089b6f903
ms.openlocfilehash: bbb3dae2ce66c93d05a2a1c0f7e426901fa7b2e0
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 03/15/2020
ms.locfileid: "73140180"
---
# <a name="assembly-versioning"></a><span data-ttu-id="a1b6f-102">Contrôle de version des assemblys</span><span class="sxs-lookup"><span data-stu-id="a1b6f-102">Assembly versioning</span></span>

<span data-ttu-id="a1b6f-103">Tout le versioning des assemblys qui utilisent le Common Language Runtime est effectué au niveau de l'assembly.</span><span class="sxs-lookup"><span data-stu-id="a1b6f-103">All versioning of assemblies that use the common language runtime is done at the assembly level.</span></span> <span data-ttu-id="a1b6f-104">La version spécifique d'un assembly et les versions des assemblys dépendants sont enregistrées dans le manifeste d'assembly.</span><span class="sxs-lookup"><span data-stu-id="a1b6f-104">The specific version of an assembly and the versions of dependent assemblies are recorded in the assembly's manifest.</span></span> <span data-ttu-id="a1b6f-105">La stratégie de version par défaut du runtime est la suivante : les applications s'exécutent uniquement avec les versions dans lesquelles elles ont été générées et testées, sauf en cas de substitution par une stratégie de version explicite dans des fichiers de configuration (le fichier de configuration de l'application, le fichier de stratégie de l'éditeur et le fichier de configuration de l'administrateur de l'ordinateur).</span><span class="sxs-lookup"><span data-stu-id="a1b6f-105">The default version policy for the runtime is that applications run only with the versions they were built and tested with, unless overridden by explicit version policy in configuration files (the application configuration file, the publisher policy file, and the computer's administrator configuration file).</span></span>  
  
> [!NOTE]
> <span data-ttu-id="a1b6f-106">Le versioning est uniquement effectué sur les assemblys avec des noms forts.</span><span class="sxs-lookup"><span data-stu-id="a1b6f-106">Versioning is done only on assemblies with strong names.</span></span>  
  
<span data-ttu-id="a1b6f-107">Le runtime procède en plusieurs étapes pour résoudre une demande de liaison d'assembly :</span><span class="sxs-lookup"><span data-stu-id="a1b6f-107">The runtime performs several steps to resolve an assembly binding request:</span></span>  
  
1. <span data-ttu-id="a1b6f-108">Il vérifie la référence de l'assembly d'origine afin de déterminer la version de l'assembly à lier.</span><span class="sxs-lookup"><span data-stu-id="a1b6f-108">Checks the original assembly reference to determine the version of the assembly to be bound.</span></span>  
  
2. <span data-ttu-id="a1b6f-109">Il recherche tous les fichiers de configuration applicables pour appliquer la stratégie de version.</span><span class="sxs-lookup"><span data-stu-id="a1b6f-109">Checks for all applicable configuration files to apply version policy.</span></span>  
  
3. <span data-ttu-id="a1b6f-110">Il détermine l'assembly correct à partir de la référence de l'assembly d'origine et de toute redirection spécifiée dans les fichiers de configuration et il définit la version qui doit être liée à l'assembly d'appel.</span><span class="sxs-lookup"><span data-stu-id="a1b6f-110">Determines the correct assembly from the original assembly reference and any redirection specified in the configuration files, and determines the version that should be bound to the calling assembly.</span></span>  
  
4. <span data-ttu-id="a1b6f-111">Vérifie le cache d’assemblage global, les bases de code spécifiées dans les fichiers de configuration, puis vérifie l’annuaire de l’application et les sous-directeurs en utilisant les règles de sondage expliquées dans [Comment le temps d’exécution localise les assemblages](../../framework/deployment/how-the-runtime-locates-assemblies.md).</span><span class="sxs-lookup"><span data-stu-id="a1b6f-111">Checks the global assembly cache, codebases specified in configuration files, and then checks the application's directory and subdirectories using the probing rules explained in [How the runtime locates assemblies](../../framework/deployment/how-the-runtime-locates-assemblies.md).</span></span>  
  
<span data-ttu-id="a1b6f-112">L’illustration suivante indique ces étapes :</span><span class="sxs-lookup"><span data-stu-id="a1b6f-112">The following illustration shows these steps:</span></span>  
  
![Diagramme qui montre les étapes de la résolution des demandes de liaison d’assemblys.](./media/versioning/resolve-assembly-binding-request.gif)
  
<span data-ttu-id="a1b6f-114">Pour plus d’informations sur les applications configurées, voir [configurer les applications](../../framework/configure-apps/index.md).</span><span class="sxs-lookup"><span data-stu-id="a1b6f-114">For more information about configuring applications, see [Configure apps](../../framework/configure-apps/index.md).</span></span> <span data-ttu-id="a1b6f-115">Pour plus d’informations sur la politique contraignante, voir [Comment le temps d’exécution localise les assemblages](../../framework/deployment/how-the-runtime-locates-assemblies.md).</span><span class="sxs-lookup"><span data-stu-id="a1b6f-115">For more information about binding policy, see [How the runtime locates assemblies](../../framework/deployment/how-the-runtime-locates-assemblies.md).</span></span>  
  
## <a name="version-information"></a><span data-ttu-id="a1b6f-116">Informations sur la version</span><span class="sxs-lookup"><span data-stu-id="a1b6f-116">Version information</span></span>  

<span data-ttu-id="a1b6f-117">Chaque assembly possède deux modes distincts d'expression d'informations sur la version :</span><span class="sxs-lookup"><span data-stu-id="a1b6f-117">Each assembly has two distinct ways of expressing version information:</span></span>  
  
- <span data-ttu-id="a1b6f-118">Le numéro de version de l'assembly qui, avec le nom de l'assembly et les informations sur la culture, fait partie de l'identité de l'assembly.</span><span class="sxs-lookup"><span data-stu-id="a1b6f-118">The assembly's version number, which, together with the assembly name and culture information, is part of the assembly's identity.</span></span> <span data-ttu-id="a1b6f-119">Ce numéro est utilisé par le runtime pour appliquer la stratégie de version et joue un rôle essentiel dans le processus de résolution des types au moment de l'exécution.</span><span class="sxs-lookup"><span data-stu-id="a1b6f-119">This number is used by the runtime to enforce version policy and plays a key part in the type resolution process at run time.</span></span>  
  
- <span data-ttu-id="a1b6f-120">Une version d'informations, qui correspond à une chaîne représentant des informations supplémentaires sur la version incluses à des fins d'information uniquement.</span><span class="sxs-lookup"><span data-stu-id="a1b6f-120">An informational version, which is a string that represents additional version information included for informational purposes only.</span></span>  
  
### <a name="assembly-version-number"></a><span data-ttu-id="a1b6f-121">Numéro de version de l’assembly</span><span class="sxs-lookup"><span data-stu-id="a1b6f-121">Assembly version number</span></span>  

<span data-ttu-id="a1b6f-122">Chaque assembly possède un numéro de version faisant partie de son identité.</span><span class="sxs-lookup"><span data-stu-id="a1b6f-122">Each assembly has a version number as part of its identity.</span></span> <span data-ttu-id="a1b6f-123">Deux assemblys dont les numéros de versions diffèrent sont de ce fait considérés par le runtime comme étant des assemblys complètement différents.</span><span class="sxs-lookup"><span data-stu-id="a1b6f-123">As such, two assemblies that differ by version number are considered by the runtime to be completely different assemblies.</span></span> <span data-ttu-id="a1b6f-124">Ce numéro de version est physiquement représenté par une chaîne en quatre parties au format suivant :</span><span class="sxs-lookup"><span data-stu-id="a1b6f-124">This version number is physically represented as a four-part string with the following format:</span></span>  
  
<span data-ttu-id="a1b6f-125">\<*version majeure*>.\<*version mineure*>.\<*numéro de build*>.\<*révision*></span><span class="sxs-lookup"><span data-stu-id="a1b6f-125">\<*major version*>.\<*minor version*>.\<*build number*>.\<*revision*></span></span>  
  
<span data-ttu-id="a1b6f-126">Par exemple, la version 1.5.1254.0 indique que 1 est la version principale, 5 la version secondaire, 1254 le numéro de build et 0 le numéro de révision.</span><span class="sxs-lookup"><span data-stu-id="a1b6f-126">For example, version 1.5.1254.0 indicates 1 as the major version, 5 as the minor version, 1254 as the build number, and 0 as the revision number.</span></span>  
  
<span data-ttu-id="a1b6f-127">Le numéro de version est stocké dans le manifeste d'assembly avec d'autres informations sur l'identité, parmi lesquelles le nom de l'assembly et la clé publique, ainsi que des informations sur les relations et les identités des autres assemblys connectés à l'application.</span><span class="sxs-lookup"><span data-stu-id="a1b6f-127">The version number is stored in the assembly manifest along with other identity information, including the assembly name and public key, as well as information on relationships and identities of other assemblies connected with the application.</span></span>  
  
<span data-ttu-id="a1b6f-128">Lors de la génération d'un assembly, l'outil de développement enregistre des informations sur la dépendance de chaque assembly qui est référencé dans le manifeste d'assembly.</span><span class="sxs-lookup"><span data-stu-id="a1b6f-128">When an assembly is built, the development tool records dependency information for each assembly that is referenced in the assembly manifest.</span></span> <span data-ttu-id="a1b6f-129">Le runtime utilise ces numéros de version, ainsi que des informations sur la configuration définies par un administrateur, une application ou un éditeur, pour charger la version correcte d'un assembly référencé.</span><span class="sxs-lookup"><span data-stu-id="a1b6f-129">The runtime uses these version numbers, in conjunction with configuration information set by an administrator, an application, or a publisher, to load the proper version of a referenced assembly.</span></span>  
  
<span data-ttu-id="a1b6f-130">Le runtime fait la différence entre les assemblys normaux et les assemblys avec nom fort à des fins de versioning.</span><span class="sxs-lookup"><span data-stu-id="a1b6f-130">The runtime distinguishes between regular and strong-named assemblies for the purposes of versioning.</span></span> <span data-ttu-id="a1b6f-131">La vérification de la version n'est effectuée qu'avec les assemblys avec nom fort.</span><span class="sxs-lookup"><span data-stu-id="a1b6f-131">Version checking only occurs with strong-named assemblies.</span></span>  
  
<span data-ttu-id="a1b6f-132">Pour plus d’informations sur la spécifier les stratégies de liaison de la version, voir [configurer les applications](../../framework/configure-apps/index.md).</span><span class="sxs-lookup"><span data-stu-id="a1b6f-132">For information about specifying version binding policies, see [Configure apps](../../framework/configure-apps/index.md).</span></span> <span data-ttu-id="a1b6f-133">Pour plus d’informations sur la façon dont le temps d’exécution utilise les informations de version pour trouver un assemblage particulier, voir [comment le temps d’exécution localise les assemblages](../../framework/deployment/how-the-runtime-locates-assemblies.md).</span><span class="sxs-lookup"><span data-stu-id="a1b6f-133">For information about how the runtime uses version information to find a particular assembly, see [How the runtime locates assemblies](../../framework/deployment/how-the-runtime-locates-assemblies.md).</span></span>  
  
### <a name="assembly-informational-version"></a><span data-ttu-id="a1b6f-134">Version des informations sur l'assembly</span><span class="sxs-lookup"><span data-stu-id="a1b6f-134">Assembly informational version</span></span>  

<span data-ttu-id="a1b6f-135">La version d'informations correspond à une chaîne qui attache des informations supplémentaires sur la version à un assembly à des fins d'information uniquement ; ces informations ne sont pas utilisées au moment de l'exécution.</span><span class="sxs-lookup"><span data-stu-id="a1b6f-135">The informational version is a string that attaches additional version information to an assembly for informational purposes only; this information is not used at run time.</span></span> <span data-ttu-id="a1b6f-136">La version d'informations en mode texte correspond à la documentation marketing, au coffret et au nom de produit du produit et n'est pas utilisée par le runtime.</span><span class="sxs-lookup"><span data-stu-id="a1b6f-136">The text-based informational version corresponds to the product's marketing literature, packaging, or product name and is not used by the runtime.</span></span> <span data-ttu-id="a1b6f-137">Par exemple, une version d'informations pourrait être "Version 1.0 du Common Language Runtime » ou « Contrôle NET SP 2".</span><span class="sxs-lookup"><span data-stu-id="a1b6f-137">For example, an informational version could be "Common Language Runtime version 1.0" or "NET Control SP 2".</span></span> <span data-ttu-id="a1b6f-138">Sous Microsoft Windows, ces informations apparaissent dans l'élément "Product Version" de l'onglet Version de la boîte de dialogue des propriétés du fichier.</span><span class="sxs-lookup"><span data-stu-id="a1b6f-138">On the Version tab of the file properties dialog in Microsoft Windows, this information appears in the item "Product Version".</span></span>  
  
> [!NOTE]
> <span data-ttu-id="a1b6f-139">Même si tout type de texte peut être spécifié, un message d'avertissement apparaît à la compilation si le format de la chaîne n'est pas celui qui est utilisé par le numéro de version de l'assembly ou si le format est correct mais contient des caractères génériques.</span><span class="sxs-lookup"><span data-stu-id="a1b6f-139">Although you can specify any text, a warning message appears on compilation if the string is not in the format used by the assembly version number, or if it is in that format but contains wildcards.</span></span> <span data-ttu-id="a1b6f-140">Cet avertissement est sans incidence.</span><span class="sxs-lookup"><span data-stu-id="a1b6f-140">This warning is harmless.</span></span>  
  
<span data-ttu-id="a1b6f-141">La version d'informations est représentée à l'aide de l'attribut personnalisé <xref:System.Reflection.AssemblyInformationalVersionAttribute?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="a1b6f-141">The informational version is represented using the custom attribute <xref:System.Reflection.AssemblyInformationalVersionAttribute?displayProperty=nameWithType>.</span></span> <span data-ttu-id="a1b6f-142">Pour plus d’informations sur l’attribut de version d’information, voir [attributs d’assemblage De set](set-attributes.md).</span><span class="sxs-lookup"><span data-stu-id="a1b6f-142">For more information about the informational version attribute, see [Set assembly attributes](set-attributes.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="a1b6f-143">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="a1b6f-143">See also</span></span>

- [<span data-ttu-id="a1b6f-144">Comment le temps d’exécution localise les assemblages</span><span class="sxs-lookup"><span data-stu-id="a1b6f-144">How the runtime locates assemblies</span></span>](../../framework/deployment/how-the-runtime-locates-assemblies.md)
- [<span data-ttu-id="a1b6f-145">Configurer des applications</span><span class="sxs-lookup"><span data-stu-id="a1b6f-145">Configure apps</span></span>](../../framework/configure-apps/index.md)
- [<span data-ttu-id="a1b6f-146">Définir des attributs d’assembly</span><span class="sxs-lookup"><span data-stu-id="a1b6f-146">Set assembly attributes</span></span>](set-attributes.md)
- [<span data-ttu-id="a1b6f-147">Assemblys dans .NET</span><span class="sxs-lookup"><span data-stu-id="a1b6f-147">Assemblies in .NET</span></span>](index.md)
