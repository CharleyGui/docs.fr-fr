---
title: Créer et utiliser des assemblys avec nom fort
description: Cet article vous montre le processus de signature d’un assembly dans .NET avec un nom fort et de le référencer ultérieurement par ce nom.
ms.date: 08/19/2019
helpviewer_keywords:
- strong-name bypass feature
- strong-named assemblies, about strong-named assemblies
- strong-named assemblies
- signing assemblies
- assemblies [.NET], signing
- strong-named assemblies, scenarios
- assemblies [.NET], strong-named
- strong-named assemblies, loading into trusted application domains
- assembly binding, strong-named
ms.assetid: ffbf6d9e-4a88-4a8a-9645-4ce0ee1ee5f9
ms.openlocfilehash: 1d87edde97e77011b678662f61500c7acd8293b0
ms.sourcegitcommit: ff5a4eb5cffbcac9521bc44a907a118cd7e8638d
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/17/2020
ms.locfileid: "92162711"
---
# <a name="create-and-use-strong-named-assemblies"></a><span data-ttu-id="1dcd3-103">Créer et utiliser des assemblys avec nom fort</span><span class="sxs-lookup"><span data-stu-id="1dcd3-103">Create and use strong-named assemblies</span></span>

<span data-ttu-id="1dcd3-104">Un nom fort est constitué de l'identité de l'assembly (son simple nom textuel, son numéro de version et des informations de culture, le cas échéant) ainsi que d'une clé publique et d'une signature numérique.</span><span class="sxs-lookup"><span data-stu-id="1dcd3-104">A strong name consists of the assembly's identity—its simple text name, version number, and culture information (if provided)—plus a public key and a digital signature.</span></span> <span data-ttu-id="1dcd3-105">Il est généré à partir d'un fichier d'assembly à l'aide de la clé privée correspondante.</span><span class="sxs-lookup"><span data-stu-id="1dcd3-105">It is generated from an assembly file using the corresponding private key.</span></span> <span data-ttu-id="1dcd3-106">(Le fichier d'assembly contient le manifeste d'assembly, qui contient les noms et les hachages de tous les fichiers composant l'assembly.)</span><span class="sxs-lookup"><span data-stu-id="1dcd3-106">(The assembly file contains the assembly manifest, which contains the names and hashes of all the files that make up the assembly.)</span></span>

> [!WARNING]
> <span data-ttu-id="1dcd3-107">Ne comptez pas sur les noms forts pour la sécurité.</span><span class="sxs-lookup"><span data-stu-id="1dcd3-107">Do not rely on strong names for security.</span></span> <span data-ttu-id="1dcd3-108">Ils fournissent seulement une identité unique.</span><span class="sxs-lookup"><span data-stu-id="1dcd3-108">They provide a unique identity only.</span></span>

<span data-ttu-id="1dcd3-109">Un assembly avec nom fort peut uniquement utiliser les types d'autres assemblys avec nom fort.</span><span class="sxs-lookup"><span data-stu-id="1dcd3-109">A strong-named assembly can only use types from other strong-named assemblies.</span></span> <span data-ttu-id="1dcd3-110">Si ce n'était pas le cas, l’intégrité de l’assembly avec nom fort serait compromise.</span><span class="sxs-lookup"><span data-stu-id="1dcd3-110">Otherwise, the integrity of the strong-named assembly would be compromised.</span></span>

> [!NOTE]
> <span data-ttu-id="1dcd3-111">Bien que .NET Core prenne en charge les assemblys avec nom fort et que tous les assemblys de la bibliothèque .NET Core soient signés, la majorité des assemblys tiers n’ont pas besoin de noms forts.</span><span class="sxs-lookup"><span data-stu-id="1dcd3-111">Although .NET Core supports strong-named assemblies, and all assemblies in the .NET Core library are signed, the majority of third-party assemblies do not need strong names.</span></span> <span data-ttu-id="1dcd3-112">Pour plus d’informations, consultez [signature avec nom fort](https://github.com/dotnet/runtime/blob/master/docs/project/strong-name-signing.md) sur GitHub.</span><span class="sxs-lookup"><span data-stu-id="1dcd3-112">For more information, see [Strong Name Signing](https://github.com/dotnet/runtime/blob/master/docs/project/strong-name-signing.md) on GitHub.</span></span>

## <a name="strong-name-scenario"></a><span data-ttu-id="1dcd3-113">Scénario de nom fort</span><span class="sxs-lookup"><span data-stu-id="1dcd3-113">Strong name scenario</span></span>

<span data-ttu-id="1dcd3-114">Le scénario suivant met en avant le processus de signature d'un assembly avec nom fort, puis son référencement par ce nom.</span><span class="sxs-lookup"><span data-stu-id="1dcd3-114">The following scenario outlines the process of signing an assembly with a strong name and later referencing it by that name.</span></span>

1. <span data-ttu-id="1dcd3-115">L'assembly A est créé avec un nom fort à l'aide de l'une des méthodes suivantes :</span><span class="sxs-lookup"><span data-stu-id="1dcd3-115">Assembly A is created with a strong name using one of the following methods:</span></span>

    - <span data-ttu-id="1dcd3-116">En utilisant un environnement de développement qui prend en charge la création de noms forts, tel que Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="1dcd3-116">Using a development environment that supports creating strong names, such as Visual Studio.</span></span>

    - <span data-ttu-id="1dcd3-117">En créant une paire de clés de chiffrement avec l’[outil Strong Name (Sn.exe)](../../framework/tools/sn-exe-strong-name-tool.md) et en l’assignant à l’assembly à l’aide d’un compilateur de ligne de commande ou de [Assembly Linker (Al.exe)](../../framework/tools/al-exe-assembly-linker.md).</span><span class="sxs-lookup"><span data-stu-id="1dcd3-117">Creating a cryptographic key pair using the [Strong Name tool (Sn.exe)](../../framework/tools/sn-exe-strong-name-tool.md) and assigning that key pair to the assembly using either a command-line compiler or the [Assembly Linker (Al.exe)](../../framework/tools/al-exe-assembly-linker.md).</span></span> <span data-ttu-id="1dcd3-118">Le SDK Windows fournit Sn.exe et Al.exe.</span><span class="sxs-lookup"><span data-stu-id="1dcd3-118">The Windows SDK provides both Sn.exe and Al.exe.</span></span>

2. <span data-ttu-id="1dcd3-119">L'environnement de développement ou l'outil signe le hachage du fichier contenant le manifeste de l'assembly avec la clé privée du développeur.</span><span class="sxs-lookup"><span data-stu-id="1dcd3-119">The development environment or tool signs the hash of the file containing the assembly's manifest with the developer's private key.</span></span> <span data-ttu-id="1dcd3-120">Cette signature numérique est stockée dans le fichier exécutable portable (PE) qui contient le manifeste de l'assembly A.</span><span class="sxs-lookup"><span data-stu-id="1dcd3-120">This digital signature is stored in the portable executable (PE) file that contains Assembly A's manifest.</span></span>

3. <span data-ttu-id="1dcd3-121">L’assembly B est un consommateur de l’Assembly A. La section de référence du manifeste de l’assembly B inclut un jeton qui représente la clé publique de l’assembly A.</span><span class="sxs-lookup"><span data-stu-id="1dcd3-121">Assembly B is a consumer of Assembly A. The reference section of Assembly B's manifest includes a token that represents Assembly A's public key.</span></span> <span data-ttu-id="1dcd3-122">Un jeton est une partie de la clé publique complète. Il est utilisé à la place de la clé pour économiser de l'espace.</span><span class="sxs-lookup"><span data-stu-id="1dcd3-122">A token is a portion of the full public key and is used rather than the key itself to save space.</span></span>

4. <span data-ttu-id="1dcd3-123">Le Common Language Runtime vérifie la signature de nom fort quand l'assembly est placé dans le Global Assembly Cache.</span><span class="sxs-lookup"><span data-stu-id="1dcd3-123">The common language runtime verifies the strong name signature when the assembly is placed in the global assembly cache.</span></span> <span data-ttu-id="1dcd3-124">Lors de la liaison par nom fort au moment de l’exécution, le common language runtime compare la clé stockée dans le manifeste de l’assembly B avec la clé utilisée pour générer le nom fort de l’assembly A. Si les contrôles de sécurité .NET réussissent et que la liaison réussit, l’assembly B a la garantie que les bits de l’assembly a n’ont pas été falsifiés et que ces bits proviennent réellement des développeurs de l’assembly A.</span><span class="sxs-lookup"><span data-stu-id="1dcd3-124">When binding by strong name at run time, the common language runtime compares the key stored in Assembly B's manifest with the key used to generate the strong name for Assembly A. If the .NET security checks pass and the bind succeeds, Assembly B has a guarantee that Assembly A's bits have not been tampered with and that these bits actually come from the developers of Assembly A.</span></span>

> [!NOTE]
> <span data-ttu-id="1dcd3-125">Ce scénario ne traite pas des problèmes de confiance.</span><span class="sxs-lookup"><span data-stu-id="1dcd3-125">This scenario doesn't address trust issues.</span></span> <span data-ttu-id="1dcd3-126">Outre un nom fort, les assemblys peuvent posséder des signatures Microsoft Authenticode complètes.</span><span class="sxs-lookup"><span data-stu-id="1dcd3-126">Assemblies can carry full Microsoft Authenticode signatures in addition to a strong name.</span></span> <span data-ttu-id="1dcd3-127">Les signatures Authenticode incluent un certificat établissant la confiance.</span><span class="sxs-lookup"><span data-stu-id="1dcd3-127">Authenticode signatures include a certificate that establishes trust.</span></span> <span data-ttu-id="1dcd3-128">Il est important de noter que les noms forts ne nécessitent pas que le code soit signé de cette manière.</span><span class="sxs-lookup"><span data-stu-id="1dcd3-128">It's important to note that strong names don't require code to be signed in this way.</span></span> <span data-ttu-id="1dcd3-129">Les noms forts fournissent seulement une identité unique.</span><span class="sxs-lookup"><span data-stu-id="1dcd3-129">Strong names only provide a unique identity.</span></span>

## <a name="bypass-signature-verification-of-trusted-assemblies"></a><span data-ttu-id="1dcd3-130">Ignorer la vérification de signature des assemblys approuvés</span><span class="sxs-lookup"><span data-stu-id="1dcd3-130">Bypass signature verification of trusted assemblies</span></span>

<span data-ttu-id="1dcd3-131">À partir du .NET Framework 3.5 Service Pack 1, les signatures de nom fort ne sont pas validées quand un assembly est chargé dans un domaine d'application de confiance totale tel que le domaine de l'application par défaut pour la zone `MyComputer`.</span><span class="sxs-lookup"><span data-stu-id="1dcd3-131">Starting with the .NET Framework 3.5 Service Pack 1, strong-name signatures are not validated when an assembly is loaded into a full-trust application domain, such as the default application domain for the `MyComputer` zone.</span></span> <span data-ttu-id="1dcd3-132">Cette fonctionnalité permet d’ignorer les noms forts.</span><span class="sxs-lookup"><span data-stu-id="1dcd3-132">This is referred to as the strong-name bypass feature.</span></span> <span data-ttu-id="1dcd3-133">Dans un environnement de confiance totale, les demandes de <xref:System.Security.Permissions.StrongNameIdentityPermission> aboutissent toujours pour les assemblys de confiance totale signés, quelle que soit leur signature.</span><span class="sxs-lookup"><span data-stu-id="1dcd3-133">In a full-trust environment, demands for <xref:System.Security.Permissions.StrongNameIdentityPermission> always succeed for signed, full-trust assemblies, regardless of their signature.</span></span> <span data-ttu-id="1dcd3-134">La fonctionnalité consistant à ignorer les noms forts évite les traitements inutiles liés à la vérification de signature de nom fort des assemblys de confiance totale dans cette situation, ce qui permet un chargement plus rapide des assemblys.</span><span class="sxs-lookup"><span data-stu-id="1dcd3-134">The strong-name bypass feature avoids the unnecessary overhead of strong-name signature verification of full-trust assemblies in this situation, allowing the assemblies to load faster.</span></span>

<span data-ttu-id="1dcd3-135">Cette fonctionnalité s’applique à tout assembly signé avec un nom fort qui présente les caractéristiques suivantes :</span><span class="sxs-lookup"><span data-stu-id="1dcd3-135">The bypass feature applies to any assembly that is signed with a strong name and that has the following characteristics:</span></span>

- <span data-ttu-id="1dcd3-136">Confiance totale sans preuve <xref:System.Security.Policy.StrongName> (par exemple, dispose de la preuve de zone `MyComputer`).</span><span class="sxs-lookup"><span data-stu-id="1dcd3-136">Fully trusted without <xref:System.Security.Policy.StrongName> evidence (for example, has `MyComputer` zone evidence).</span></span>

- <span data-ttu-id="1dcd3-137">Chargé dans un <xref:System.AppDomain> de confiance totale.</span><span class="sxs-lookup"><span data-stu-id="1dcd3-137">Loaded into a fully trusted <xref:System.AppDomain>.</span></span>

- <span data-ttu-id="1dcd3-138">Chargé à partir d'un emplacement sous la propriété <xref:System.AppDomainSetup.ApplicationBase%2A> de cet <xref:System.AppDomain>.</span><span class="sxs-lookup"><span data-stu-id="1dcd3-138">Loaded from a location under the <xref:System.AppDomainSetup.ApplicationBase%2A> property of that <xref:System.AppDomain>.</span></span>

- <span data-ttu-id="1dcd3-139">Sans signature différée.</span><span class="sxs-lookup"><span data-stu-id="1dcd3-139">Not delay-signed.</span></span>

<span data-ttu-id="1dcd3-140">Cette fonctionnalité peut être désactivée pour des applications individuelles ou pour un ordinateur.</span><span class="sxs-lookup"><span data-stu-id="1dcd3-140">This feature can be disabled for individual applications or for a computer.</span></span> <span data-ttu-id="1dcd3-141">Consultez [Comment : désactiver la fonctionnalité de contournement de nom fort](disable-strong-name-bypass-feature.md).</span><span class="sxs-lookup"><span data-stu-id="1dcd3-141">See [How to: Disable the strong-name bypass feature](disable-strong-name-bypass-feature.md).</span></span>

## <a name="related-topics"></a><span data-ttu-id="1dcd3-142">Rubriques connexes</span><span class="sxs-lookup"><span data-stu-id="1dcd3-142">Related topics</span></span>

|<span data-ttu-id="1dcd3-143">Titre</span><span class="sxs-lookup"><span data-stu-id="1dcd3-143">Title</span></span>|<span data-ttu-id="1dcd3-144">Description</span><span class="sxs-lookup"><span data-stu-id="1dcd3-144">Description</span></span>|
|-----------|-----------------|
|[<span data-ttu-id="1dcd3-145">Comment : créer une paire de clés publique/privée</span><span class="sxs-lookup"><span data-stu-id="1dcd3-145">How to: Create a public-private key pair</span></span>](create-public-private-key-pair.md)|<span data-ttu-id="1dcd3-146">Décrit comment créer une paire de clés de chiffrement pour signer un assembly.</span><span class="sxs-lookup"><span data-stu-id="1dcd3-146">Describes how to create a cryptographic key pair for signing an assembly.</span></span>|
|[<span data-ttu-id="1dcd3-147">Comment : signer un assembly avec un nom fort</span><span class="sxs-lookup"><span data-stu-id="1dcd3-147">How to: Sign an assembly with a strong name</span></span>](sign-strong-name.md)|<span data-ttu-id="1dcd3-148">Décrit comment créer un assembly avec nom fort.</span><span class="sxs-lookup"><span data-stu-id="1dcd3-148">Describes how to create a strong-named assembly.</span></span>|
|[<span data-ttu-id="1dcd3-149">Amélioration de l’utilisation de noms forts</span><span class="sxs-lookup"><span data-stu-id="1dcd3-149">Enhanced strong naming</span></span>](enhanced-strong-naming.md)|<span data-ttu-id="1dcd3-150">Décrit les améliorations apportées aux noms forts dans .NET Framework 4.5.</span><span class="sxs-lookup"><span data-stu-id="1dcd3-150">Describes enhancements to strong-names in the .NET Framework 4.5.</span></span>|
|[<span data-ttu-id="1dcd3-151">Comment : référencer un assembly avec nom fort</span><span class="sxs-lookup"><span data-stu-id="1dcd3-151">How to: Reference a strong-named assembly</span></span>](reference-strong-named.md)|<span data-ttu-id="1dcd3-152">Décrit comment référencer des types ou des ressources dans un assembly avec nom fort au moment de la compilation ou de l'exécution.</span><span class="sxs-lookup"><span data-stu-id="1dcd3-152">Describes how to reference types or resources in a strong-named assembly at compile time or run time.</span></span>|
|[<span data-ttu-id="1dcd3-153">Comment : désactiver la fonctionnalité de contournement de nom fort</span><span class="sxs-lookup"><span data-stu-id="1dcd3-153">How to: Disable the strong-name bypass feature</span></span>](disable-strong-name-bypass-feature.md)|<span data-ttu-id="1dcd3-154">Décrit comment désactiver la fonctionnalité qui ignore la validation des signatures avec nom fort.</span><span class="sxs-lookup"><span data-stu-id="1dcd3-154">Describes how to disable the feature that bypasses the validation of strong-name signatures.</span></span> <span data-ttu-id="1dcd3-155">Cette fonctionnalité peut être désactivée pour toutes les applications ou pour des applications spécifiques.</span><span class="sxs-lookup"><span data-stu-id="1dcd3-155">This feature can be disabled for all or for specific applications.</span></span>|
|[<span data-ttu-id="1dcd3-156">Créer des assemblys</span><span class="sxs-lookup"><span data-stu-id="1dcd3-156">Create assemblies</span></span>](create.md)|<span data-ttu-id="1dcd3-157">Fournit une vue d'ensemble des assemblys multifichiers et à fichier unique.</span><span class="sxs-lookup"><span data-stu-id="1dcd3-157">Provides an overview of single-file and multifile assemblies.</span></span>|
|[<span data-ttu-id="1dcd3-158">Comment différer la signature d’un assembly dans Visual Studio</span><span class="sxs-lookup"><span data-stu-id="1dcd3-158">How to delay sign an assembly in Visual Studio</span></span>](/visualstudio/ide/managing-assembly-and-manifest-signing#how-to-sign-an-assembly-in-visual-studio)|<span data-ttu-id="1dcd3-159">Explique comment signer un assembly avec un nom fort après la création de l'assembly.</span><span class="sxs-lookup"><span data-stu-id="1dcd3-159">Explains how to sign an assembly with a strong name after the assembly has been created.</span></span>|
|[<span data-ttu-id="1dcd3-160">Sn.exe (outil Strong Name Tool)</span><span class="sxs-lookup"><span data-stu-id="1dcd3-160">Sn.exe (Strong Name tool)</span></span>](../../framework/tools/sn-exe-strong-name-tool.md)|<span data-ttu-id="1dcd3-161">Décrit l'outil inclus dans le .NET Framework qui facilite la création d'assemblys avec des noms forts.</span><span class="sxs-lookup"><span data-stu-id="1dcd3-161">Describes the tool included in the .NET Framework that helps create assemblies with strong names.</span></span> <span data-ttu-id="1dcd3-162">Cet outil fournit des options de gestion des clés, de génération des signatures et de vérification des signatures.</span><span class="sxs-lookup"><span data-stu-id="1dcd3-162">This tool provides options for key management, signature generation, and signature verification.</span></span>|
|[<span data-ttu-id="1dcd3-163">Al.exe (Assembly Linker)</span><span class="sxs-lookup"><span data-stu-id="1dcd3-163">Al.exe (Assembly linker)</span></span>](../../framework/tools/al-exe-assembly-linker.md)|<span data-ttu-id="1dcd3-164">Décrit l'outil inclus dans le .NET Framework qui génère un fichier possédant un manifeste d'assembly à partir de modules ou de fichiers de ressources.</span><span class="sxs-lookup"><span data-stu-id="1dcd3-164">Describes the tool included in the .NET Framework that generates a file that has an assembly manifest from modules or resource files.</span></span>|
