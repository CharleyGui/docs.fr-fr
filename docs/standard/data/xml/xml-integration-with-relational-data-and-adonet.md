---
title: Intégration de XML aux données relationnelles et à ADO.NET
ms.date: 03/30/2017
ms.technology: dotnet-standard
ms.assetid: f6ebb1a1-f2ca-49b9-92c9-0150940cf6e6
ms.openlocfilehash: 373e28d1fffd8c47acb4acb70271db056aa3a27b
ms.sourcegitcommit: 5f236cd78cf09593c8945a7d753e0850e96a0b80
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/07/2020
ms.locfileid: "75709931"
---
# <a name="xml-integration-with-relational-data-and-adonet"></a><span data-ttu-id="4120b-102">Intégration de XML aux données relationnelles et à ADO.NET</span><span class="sxs-lookup"><span data-stu-id="4120b-102">XML Integration with Relational Data and ADO.NET</span></span>
<span data-ttu-id="4120b-103">LaLa classe **XmlDataDocument** est une classe dérivée de **XmlDocument** et contient des données XML.</span><span class="sxs-lookup"><span data-stu-id="4120b-103">The **XmlDataDocument** class is a derived class of the **XmlDocument**, and contains XML data.</span></span> <span data-ttu-id="4120b-104">L'avantage de **XmlDataDocument** est de fournir une passerelle entre les données relationnelles et hiérarchiques.</span><span class="sxs-lookup"><span data-stu-id="4120b-104">The advantage of the **XmlDataDocument** is that it provides a bridge between relational and hierarchical data.</span></span> <span data-ttu-id="4120b-105">Il s’agit d’un **XmlDocument** qui peut être lié à un **DataSet** et les deux classes peuvent synchroniser des changements apportés aux données contenues dans ces deux classes.</span><span class="sxs-lookup"><span data-stu-id="4120b-105">It is an **XmlDocument** that can be bound to a **DataSet** and both classes can synchronize changes made to data contained in the two classes.</span></span> <span data-ttu-id="4120b-106">Un **XmlDocument** lié à un **DataSet** permet à du XML de s'intégrer à des données relationnelles, et il n'est pas nécessaire que vos données soient représentées soit sous la forme XML, soit dans un format relationnel.</span><span class="sxs-lookup"><span data-stu-id="4120b-106">An **XmlDocument** that is bound to a **DataSet** allows XML to integrate with relational data, and you do not have to have your data represented as either XML or in a relational format.</span></span> <span data-ttu-id="4120b-107">Vous pouvez effectuer les deux sans être limité à une représentation unique des données.</span><span class="sxs-lookup"><span data-stu-id="4120b-107">You can do both and not be constrained to a single representation of the data.</span></span>  
  
 <span data-ttu-id="4120b-108">Les avantages d'avoir les données disponibles sous deux vues sont les suivants :</span><span class="sxs-lookup"><span data-stu-id="4120b-108">The benefits of having data available in two views are:</span></span>  
  
- <span data-ttu-id="4120b-109">La portion structurée d'un document XML peut être mappée à un groupe de données et peut être stockée, indexée et recherchée efficacement.</span><span class="sxs-lookup"><span data-stu-id="4120b-109">The structured portion of an XML document can be mapped to a dataset, and be efficiently stored, indexed, and searched.</span></span>  
  
- <span data-ttu-id="4120b-110">Transformations, validation et navigation peuvent s’effectuer de manière efficace par l’intermédiaire d’un modèle de curseur sur les données XML stockées de manière relationnelle.</span><span class="sxs-lookup"><span data-stu-id="4120b-110">Transformations, validation, and navigation can be done efficiently through a cursor model over the XML data that is stored relationally.</span></span> <span data-ttu-id="4120b-111">Il est parfois possible d'effectuer cette opération plus efficacement par rapport à des structures relationnelles que lorsque le XML est stocké dans un modèle **XmlDocument**.</span><span class="sxs-lookup"><span data-stu-id="4120b-111">At times, it can be done more efficiently against relational structures than if the XML is stored in an **XmlDocument** model.</span></span>  
  
- <span data-ttu-id="4120b-112">Le **DataSet** peut stocker une portion du XML.</span><span class="sxs-lookup"><span data-stu-id="4120b-112">The **DataSet** can store a portion of the XML.</span></span> <span data-ttu-id="4120b-113">Vous pouvez donc utiliser**XPath** ou **XslTransform** pour ne stocker dans un **DataSet** que les éléments et attributs présentant un intérêt.</span><span class="sxs-lookup"><span data-stu-id="4120b-113">That is, you can use **XPath** or **XslTransform** to store to a **DataSet** only those elements and attributes of interest.</span></span> <span data-ttu-id="4120b-114">À partir de là, il est possible d'apporter des changements au sous-ensemble, plus petit et filtré, des données, les changements se propageant aux données plus volumineuses dans **XmlDataDocument**.</span><span class="sxs-lookup"><span data-stu-id="4120b-114">From there, changes can be made to the smaller, filtered subset of data, with the changes propagating to the larger data in the **XmlDataDocument**.</span></span>  
  
 <span data-ttu-id="4120b-115">Vous pouvez également effectuer une transformation sur des données chargées dans le**DataSet** à partir de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="4120b-115">You can also run a transform over data that was loaded into the **DataSet** from SQL Server.</span></span> <span data-ttu-id="4120b-116">Une autre option consiste à lier des contrôles WebForm et WinForm managés par style de classes .NET Framework à un **DataSet** qui a été rempli à partir d'un flux d'entrée XML.</span><span class="sxs-lookup"><span data-stu-id="4120b-116">Another option is to bind .NET Framework classes-style-managed WinForm and WebForm controls to a **DataSet** that was populated from an XML input stream.</span></span>  
  
 <span data-ttu-id="4120b-117">En plus de prendre en charge **XslTransform**, un **XmlDataDocument** expose des données relationnelles à des requêtes et validation **XPath**.</span><span class="sxs-lookup"><span data-stu-id="4120b-117">In addition to supporting **XslTransform**, an **XmlDataDocument** exposes relational data to **XPath** queries and validation.</span></span>  <span data-ttu-id="4120b-118">Autrement dit, tous les services XML sont disponibles pour les données relationnelles, et les fonctionnalités relationnelles, comme la liaison de contrôle, codegen, etc., sont disponibles sur une projection structurée de XML sans compromettre la fidélité du XML.</span><span class="sxs-lookup"><span data-stu-id="4120b-118">Basically, all XML services are available over relational data, and relational facilities, such as control binding, codegen, and so on, are available over a structured projection of XML without compromising XML fidelity.</span></span>  
  
 <span data-ttu-id="4120b-119">Comme **XmlDataDocument** est hérité à partir d'un **XmlDocument**, il fournit une implémentation du DOM W3C.</span><span class="sxs-lookup"><span data-stu-id="4120b-119">Because **XmlDataDocument** is inherited from an **XmlDocument**, it provides an implementation of the W3C DOM.</span></span> <span data-ttu-id="4120b-120">Le fait que **XmlDataDocument** soit associé à un sous-ensemble de ses données et les stocke dans un **DataSet** ne restreint ni ne modifie en aucune manière+ son utilisation en tant que **XmlDocument**.</span><span class="sxs-lookup"><span data-stu-id="4120b-120">The fact that the **XmlDataDocument** is associated with, and stores a subset of its data within, a **DataSet** does not restrict or alter its use as an **XmlDocument** in any way.</span></span> <span data-ttu-id="4120b-121">Le code écrit pour consommer un **XmlDocument** fonctionne sans altération par rapport à un **XmlDataDocument**.</span><span class="sxs-lookup"><span data-stu-id="4120b-121">Code written to consume an **XmlDocument** works unaltered against an **XmlDataDocument**.</span></span> <span data-ttu-id="4120b-122">Le **DataSet** fournit la vue relationnelle des mêmes données en définissant des tableaux, des colonnes, des relations et des contraintes, et correspond à un magasin autonome de données utilisateur en mémoire.</span><span class="sxs-lookup"><span data-stu-id="4120b-122">The **DataSet** provides the relational view of the same data by defining tables, columns, relations, and constraints, and is a stand-alone, in-memory user data store.</span></span>  
  
 <span data-ttu-id="4120b-123">L’illustration suivante montre les différentes associations entre, d’une part, les données XML et, d’autre part, **DataSet** et **XmlDataDocument** :</span><span class="sxs-lookup"><span data-stu-id="4120b-123">The following illustration shows the different associations that XML data has with the **DataSet** and **XmlDataDocument**:</span></span> 
  
 ![Diagramme illustrant les différentes associations avec le jeu de données XML.](./media/xml-integration-with-relational-data-and-adonet/xml-integration-relational-data-adodotnet.gif)  
  
 <span data-ttu-id="4120b-125">L'illustration montre que des données XML peuvent être chargées directement dans un **DataSet**, ce qui permet une manipulation directe avec du XML de manière relationnelle.</span><span class="sxs-lookup"><span data-stu-id="4120b-125">The illustration shows that XML data can be loaded directly into a **DataSet**, which allows direct manipulation with XML in the relational manner.</span></span> <span data-ttu-id="4120b-126">Ou bien, le XML peut être chargé dans une classe dérivée du DOM, qui correspond au **XmlDataDocument**, puis être chargé et synchronisé avec le **DataSet**.</span><span class="sxs-lookup"><span data-stu-id="4120b-126">Or, the XML can be loaded into a derived class of the DOM, which is the **XmlDataDocument**, and subsequently loaded and synchronized with the **DataSet**.</span></span> <span data-ttu-id="4120b-127">Comme **DataSet** et **XmlDataDocument** sont synchronisés sur un seul jeu de données, des modifications apportées aux données dans un magasin sont reflétées dans l’autre magasin.</span><span class="sxs-lookup"><span data-stu-id="4120b-127">Because the **DataSet** and **XmlDataDocument** are synchronized over a single set of data, changes made to the data in one store are reflected in the other store.</span></span>  
  
 <span data-ttu-id="4120b-128">Le **XmlDataDocument** hérite de toutes les fonctionnalités de modification et de navigation à partir de **XmlDocument**.</span><span class="sxs-lookup"><span data-stu-id="4120b-128">The **XmlDataDocument** inherits all the editing and navigational features from the **XmlDocument**.</span></span> <span data-ttu-id="4120b-129">Il existe des cas où l’utilisation de **XmlDataDocument** et de ses fonctionnalités héritées, synchronisées avec un **DataSet**, représente une option plus appropriée que le chargement de XML directement dans le **DataSet**.</span><span class="sxs-lookup"><span data-stu-id="4120b-129">There are times when using the **XmlDataDocument** and its inherited features, synchronized with a **DataSet**, is a more appropriate option than loading XML directly into the **DataSet**.</span></span> <span data-ttu-id="4120b-130">Le tableau suivant illustre les éléments à prendre en compte lors du choix de la méthode à utiliser pour charger le **DataSet**.</span><span class="sxs-lookup"><span data-stu-id="4120b-130">The following table shows the items to be considered when choosing which method to use to load the **DataSet**.</span></span>  
  
|<span data-ttu-id="4120b-131">Exemple de chargement du XML directement dans un DataSet</span><span class="sxs-lookup"><span data-stu-id="4120b-131">When to load XML directly into a DataSet</span></span>|<span data-ttu-id="4120b-132">Exemple de synchronisation d’un DataSet avec un XmlDataDocument</span><span class="sxs-lookup"><span data-stu-id="4120b-132">When to synchronize an XmlDataDocument with a DataSet</span></span>|  
|----------------------------------------------|-----------------------------------------------------------|  
|<span data-ttu-id="4120b-133">Les requêtes de données dans le **DataSet** sont plus simples avec SQL qu’avec XPath.</span><span class="sxs-lookup"><span data-stu-id="4120b-133">Queries of data in the **DataSet** are easier using SQL than XPath.</span></span>|<span data-ttu-id="4120b-134">Les requêtes XPath sont nécessaires sur les données dans le **DataSet**.</span><span class="sxs-lookup"><span data-stu-id="4120b-134">XPath queries are needed over data in the **DataSet**.</span></span>|  
|<span data-ttu-id="4120b-135">La préservation de l'ordre des éléments dans le XML source n'est pas critique.</span><span class="sxs-lookup"><span data-stu-id="4120b-135">Preservation of element ordering in the source XML is not critical.</span></span>|<span data-ttu-id="4120b-136">La préservation de l'ordre des éléments dans le XML source est critique.</span><span class="sxs-lookup"><span data-stu-id="4120b-136">Preservation of element ordering in the source XML is critical.</span></span>|  
|<span data-ttu-id="4120b-137">Il n'est pas nécessaire de préserver l'espace blanc entre des éléments et la mise en forme dans le XML source.</span><span class="sxs-lookup"><span data-stu-id="4120b-137">White space between elements and formatting does not need to be preserved in the source XML.</span></span>|<span data-ttu-id="4120b-138">La préservation des espaces blancs et de la mise en forme dans le XML source est critique.</span><span class="sxs-lookup"><span data-stu-id="4120b-138">White space and formatting preservation in the source XML is critical.</span></span>|  
  
 <span data-ttu-id="4120b-139">Si le chargement et l'écriture de XML directement dans un et à partir d’un **DataSet** répond à vos besoins, voir [Chargement d'un DataSet à partir de XML](../../../../docs/framework/data/adonet/dataset-datatable-dataview/loading-a-dataset-from-xml.md) et [Écriture d'un DataSet sous forme de données XML](../../../../docs/framework/data/adonet/dataset-datatable-dataview/writing-dataset-contents-as-xml-data.md).</span><span class="sxs-lookup"><span data-stu-id="4120b-139">If loading and writing XML directly into and out of a **DataSet** addresses your needs, see [Loading a DataSet from XML](../../../../docs/framework/data/adonet/dataset-datatable-dataview/loading-a-dataset-from-xml.md) and [Writing a DataSet as XML Data](../../../../docs/framework/data/adonet/dataset-datatable-dataview/writing-dataset-contents-as-xml-data.md).</span></span>  
  
 <span data-ttu-id="4120b-140">Si le chargement du **DataSet** à partir d’un **XmlDataDocument** répond à vos besoins, consultez [Synchronisation d’un DataSet avec un document XML](../../../../docs/framework/data/adonet/dataset-datatable-dataview/dataset-and-xmldatadocument-synchronization.md).</span><span class="sxs-lookup"><span data-stu-id="4120b-140">If loading the **DataSet** from an **XmlDataDocument** addresses your needs, see [Synchronizing a Dataset with an XML Document](../../../../docs/framework/data/adonet/dataset-datatable-dataview/dataset-and-xmldatadocument-synchronization.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="4120b-141">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="4120b-141">See also</span></span>

- [<span data-ttu-id="4120b-142">Utilisation de XML dans un DataSet</span><span class="sxs-lookup"><span data-stu-id="4120b-142">Using XML in a DataSet</span></span>](../../../../docs/framework/data/adonet/dataset-datatable-dataview/using-xml-in-a-dataset.md)
