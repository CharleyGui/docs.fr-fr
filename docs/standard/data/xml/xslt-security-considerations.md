---
title: XSLT et la sécurité
ms.date: 03/30/2017
ms.technology: dotnet-standard
ms.assetid: fea695be-617c-4977-9567-140e820436fc
author: mairaw
ms.author: mairaw
ms.openlocfilehash: 683cf4a38ed08e0c569df62778c2ff80323ef261
ms.sourcegitcommit: 68653db98c5ea7744fd438710248935f70020dfb
ms.translationtype: HT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/22/2019
ms.locfileid: "69910494"
---
# <a name="xslt-security-considerations"></a><span data-ttu-id="63b1c-102">XSLT et la sécurité</span><span class="sxs-lookup"><span data-stu-id="63b1c-102">XSLT Security Considerations</span></span>
<span data-ttu-id="63b1c-103">Le langage XSLT possède une panoplie de fonctionnalités offrant puissance et flexibilité.</span><span class="sxs-lookup"><span data-stu-id="63b1c-103">The XSLT language has a rich set of features that give you a great deal of power and flexibility.</span></span> <span data-ttu-id="63b1c-104">Il comprend de nombreuses fonctionnalités qui, tout en étant utiles, pourraient aussi être exploitées par des sources extérieures.</span><span class="sxs-lookup"><span data-stu-id="63b1c-104">It includes many features that, while useful, could also be exploited by outside sources.</span></span> <span data-ttu-id="63b1c-105">Pour utiliser XSLT en toute sécurité, vous devez comprendre les types de risques pour la sécurité que pose l'utilisation de XSLT et les stratégies de base que vous pouvez employer pour minimiser ces risques.</span><span class="sxs-lookup"><span data-stu-id="63b1c-105">In order to use XSLT safely, you must understand the types of security issues that arise when using XSLT, and the basic strategies that you can employ to mitigate these risks.</span></span>  
  
## <a name="xslt-extensions"></a><span data-ttu-id="63b1c-106">Extensions XSLT</span><span class="sxs-lookup"><span data-stu-id="63b1c-106">XSLT Extensions</span></span>  
 <span data-ttu-id="63b1c-107">Deux extensions XSLT populaires sont les scripts de feuille de style et les objets d'extension.</span><span class="sxs-lookup"><span data-stu-id="63b1c-107">Two popular XSLT extensions are style sheet scripting and extension objects.</span></span> <span data-ttu-id="63b1c-108">Ces extensions permettent au processeur XSLT d'exécuter du code.</span><span class="sxs-lookup"><span data-stu-id="63b1c-108">These extensions allow the XSLT processor to execute code.</span></span>  
  
- <span data-ttu-id="63b1c-109">Les objets d'extension ajoutent des capacités de programmation aux transformations XSL.</span><span class="sxs-lookup"><span data-stu-id="63b1c-109">Extension objects add programming capabilities to XSL transformations.</span></span>  
  
- <span data-ttu-id="63b1c-110">Des scripts peuvent être intégrés dans la feuille de style à l'aide de l'élément d'extension `msxsl:script`.</span><span class="sxs-lookup"><span data-stu-id="63b1c-110">Scripts can be embedded in the style sheet using the `msxsl:script` extension element.</span></span>  
  
### <a name="extension-objects"></a><span data-ttu-id="63b1c-111">Objets d’extension</span><span class="sxs-lookup"><span data-stu-id="63b1c-111">Extension Objects</span></span>  
 <span data-ttu-id="63b1c-112">Les objets d’extension sont ajoutés avec la méthode <xref:System.Xml.Xsl.XsltArgumentList.AddExtensionObject%2A>.</span><span class="sxs-lookup"><span data-stu-id="63b1c-112">Extension objects are added using the <xref:System.Xml.Xsl.XsltArgumentList.AddExtensionObject%2A> method.</span></span> <span data-ttu-id="63b1c-113">Le jeu d’autorisations FullTrust est requis pour la prise en charge des objets d’extension.</span><span class="sxs-lookup"><span data-stu-id="63b1c-113">The FullTrust permission set is required to support extension objects.</span></span> <span data-ttu-id="63b1c-114">Cela garantit qu’il n’y a pas d’élévation d’autorisations lors de l’exécution du code de l’objet d’extension.</span><span class="sxs-lookup"><span data-stu-id="63b1c-114">This ensures that elevation of permissions does not happen when extension object code is executed.</span></span> <span data-ttu-id="63b1c-115">Une tentative d'appel de la méthode <xref:System.Xml.Xsl.XsltArgumentList.AddExtensionObject%2A> sans autorisation FullTrust produit une exception de sécurité.</span><span class="sxs-lookup"><span data-stu-id="63b1c-115">Attempting to call the <xref:System.Xml.Xsl.XsltArgumentList.AddExtensionObject%2A> method without FullTrust permissions results in a security exception being thrown.</span></span>  
  
### <a name="style-sheet-scripts"></a><span data-ttu-id="63b1c-116">Scripts de feuille de style</span><span class="sxs-lookup"><span data-stu-id="63b1c-116">Style Sheet Scripts</span></span>  
 <span data-ttu-id="63b1c-117">Des scripts peuvent être intégrés dans une feuille de style à l’aide de l’élément d’extension `msxsl:script`.</span><span class="sxs-lookup"><span data-stu-id="63b1c-117">Scripts can be embedded in a style sheet using the `msxsl:script` extension element.</span></span> <span data-ttu-id="63b1c-118">La prise en charge des scripts est une fonction facultative de la classe <xref:System.Xml.Xsl.XslCompiledTransform>. Elle est désactivée par défaut.</span><span class="sxs-lookup"><span data-stu-id="63b1c-118">Script support is an optional feature on the <xref:System.Xml.Xsl.XslCompiledTransform> class that is disabled by default.</span></span> <span data-ttu-id="63b1c-119">Les scripts peuvent être activés en définissant la propriété <xref:System.Xml.Xsl.XsltSettings.EnableScript%2A?displayProperty=nameWithType> sur `true` et en transmettant l'objet <xref:System.Xml.Xsl.XsltSettings> à la méthode <xref:System.Xml.Xsl.XslCompiledTransform.Load%2A>.</span><span class="sxs-lookup"><span data-stu-id="63b1c-119">Scripting can be enabled by setting the <xref:System.Xml.Xsl.XsltSettings.EnableScript%2A?displayProperty=nameWithType> property to `true` and passing the <xref:System.Xml.Xsl.XsltSettings> object to the <xref:System.Xml.Xsl.XslCompiledTransform.Load%2A> method.</span></span>  
  
#### <a name="guidelines"></a><span data-ttu-id="63b1c-120">Recommandations</span><span class="sxs-lookup"><span data-stu-id="63b1c-120">Guidelines</span></span>  
 <span data-ttu-id="63b1c-121">N'activez les scripts que lorsque la source de la feuille de style est fiable.</span><span class="sxs-lookup"><span data-stu-id="63b1c-121">Enable scripting only when the style sheet comes from a trusted source.</span></span> <span data-ttu-id="63b1c-122">Si vous ne pouvez pas vérifier la source de la feuille de style ou si celle-ci ne provient pas d'une source fiable, transmettez l'argument `null` dans les réglages XSLT.</span><span class="sxs-lookup"><span data-stu-id="63b1c-122">If you cannot verify the source of the style sheet, or if the style sheet does not come from a trusted source, pass in `null` for the XSLT settings argument.</span></span>  
  
## <a name="external-resources"></a><span data-ttu-id="63b1c-123">Ressources externes</span><span class="sxs-lookup"><span data-stu-id="63b1c-123">External Resources</span></span>  
 <span data-ttu-id="63b1c-124">Le langage XSLT possède des fonctions telles que `xsl:import`, `xsl:include` ou `document()` où le processeur doit résoudre des références URI.</span><span class="sxs-lookup"><span data-stu-id="63b1c-124">The XSLT language has features such as `xsl:import`, `xsl:include`, or the `document()` function, where the processor needs to resolve URI references.</span></span> <span data-ttu-id="63b1c-125">La classe <xref:System.Xml.XmlResolver> permet de résoudre des ressources externes.</span><span class="sxs-lookup"><span data-stu-id="63b1c-125">The <xref:System.Xml.XmlResolver> class is used to resolve external resources.</span></span> <span data-ttu-id="63b1c-126">La résolution de ressources externes peut être requise dans les deux cas suivants :</span><span class="sxs-lookup"><span data-stu-id="63b1c-126">External resources may need to be resolved in the following two cases:</span></span>  
  
- <span data-ttu-id="63b1c-127">Lors de la compilation d'une feuille de style, l'objet <xref:System.Xml.XmlResolver> est utilisé pour résoudre `xsl:import` et `xsl:include`.</span><span class="sxs-lookup"><span data-stu-id="63b1c-127">When compiling a style sheet, the <xref:System.Xml.XmlResolver> is used for `xsl:import` and `xsl:include` resolution.</span></span>  
  
- <span data-ttu-id="63b1c-128">Lorsque la transformation est effectuée, l'objet <xref:System.Xml.XmlResolver> est utilisé pour résoudre la fonction `document()`.</span><span class="sxs-lookup"><span data-stu-id="63b1c-128">When executing the transformation, the <xref:System.Xml.XmlResolver> is used to resolve the `document()` function.</span></span>  
  
    > [!NOTE]
    > <span data-ttu-id="63b1c-129">La fonction `document()` est désactivée par défaut dans la classe <xref:System.Xml.Xsl.XslCompiledTransform>.</span><span class="sxs-lookup"><span data-stu-id="63b1c-129">The `document()` function is disabled by default on the <xref:System.Xml.Xsl.XslCompiledTransform> class.</span></span> <span data-ttu-id="63b1c-130">Cette fonctionnalité peut être activée en définissant la propriété <xref:System.Xml.Xsl.XsltSettings.EnableDocumentFunction%2A?displayProperty=nameWithType> sur `true` et en transmettant l’objet <xref:System.Xml.Xsl.XsltSettings> à la méthode <xref:System.Xml.Xsl.XslCompiledTransform.Load%2A>.</span><span class="sxs-lookup"><span data-stu-id="63b1c-130">This feature can be enabled by setting the <xref:System.Xml.Xsl.XsltSettings.EnableDocumentFunction%2A?displayProperty=nameWithType> property to `true` and passing the <xref:System.Xml.Xsl.XsltSettings> object to the <xref:System.Xml.Xsl.XslCompiledTransform.Load%2A> method.</span></span>  
  
 <span data-ttu-id="63b1c-131">Les méthodes <xref:System.Xml.Xsl.XslCompiledTransform.Load%2A> et <xref:System.Xml.Xsl.XslCompiledTransform.Transform%2A> comprennent des surcharges qui prennent un objet <xref:System.Xml.XmlResolver> comme l’un de leurs arguments.</span><span class="sxs-lookup"><span data-stu-id="63b1c-131">The <xref:System.Xml.Xsl.XslCompiledTransform.Load%2A> and <xref:System.Xml.Xsl.XslCompiledTransform.Transform%2A> methods each include overloads that accept an <xref:System.Xml.XmlResolver> as one of its arguments.</span></span> <span data-ttu-id="63b1c-132">Si aucun <xref:System.Xml.XmlResolver> n'est spécifié, un <xref:System.Xml.XmlUrlResolver> par défaut sans informations d'identification est utilisé.</span><span class="sxs-lookup"><span data-stu-id="63b1c-132">If an <xref:System.Xml.XmlResolver> is not specified, a default <xref:System.Xml.XmlUrlResolver> with no credentials is used.</span></span>  
  
#### <a name="guidelines"></a><span data-ttu-id="63b1c-133">Recommandations</span><span class="sxs-lookup"><span data-stu-id="63b1c-133">Guidelines</span></span>  
 <span data-ttu-id="63b1c-134">N'activez la fonction `document()` que lorsque la source de la feuille de style est fiable.</span><span class="sxs-lookup"><span data-stu-id="63b1c-134">Enable the `document()` function only when the style sheet comes from a trusted source.</span></span>  
  
 <span data-ttu-id="63b1c-135">La liste suivante décrit les cas dans lesquels vous pouvez préférer spécifier un objet <xref:System.Xml.XmlResolver> :</span><span class="sxs-lookup"><span data-stu-id="63b1c-135">The following list describes when you may want to specify an <xref:System.Xml.XmlResolver> object:</span></span>  
  
- <span data-ttu-id="63b1c-136">Si le traitement XSLT doit accéder à une ressource réseau qui nécessite une authentification, vous pouvez utiliser un objet <xref:System.Xml.XmlResolver> avec les informations d'identification nécessaires.</span><span class="sxs-lookup"><span data-stu-id="63b1c-136">If the XSLT process needs to access a network resource that requires authentication, you can use an <xref:System.Xml.XmlResolver> with the necessary credentials.</span></span>  
  
- <span data-ttu-id="63b1c-137">Si vous souhaitez limiter les ressources auxquelles le traitement XSLT peut accéder, vous pouvez utiliser un objet <xref:System.Xml.XmlSecureResolver> avec toutes les autorisations correctes.</span><span class="sxs-lookup"><span data-stu-id="63b1c-137">If you want to restrict the resources that the XSLT process can access, you can use an <xref:System.Xml.XmlSecureResolver> with the correct permission set.</span></span> <span data-ttu-id="63b1c-138">La classe <xref:System.Xml.XmlSecureResolver> doit être utilisée si vous devez ouvrir une ressource non contrôlée ou non fiable.</span><span class="sxs-lookup"><span data-stu-id="63b1c-138">Use the <xref:System.Xml.XmlSecureResolver> class if you need to open a resource that you do not control, or that is untrusted.</span></span>  
  
- <span data-ttu-id="63b1c-139">Pour personnaliser le comportement, vous pouvez implémenter votre propre classe <xref:System.Xml.XmlResolver> et l'utiliser pour résoudre les ressources.</span><span class="sxs-lookup"><span data-stu-id="63b1c-139">If you want to customize behavior, you can implement your own <xref:System.Xml.XmlResolver> class and use it to resolve resources.</span></span>  
  
- <span data-ttu-id="63b1c-140">Pour vous assurer qu’aucune ressource externe n’est accessible, vous pouvez spécifier `null` pour l’argument <xref:System.Xml.XmlResolver>.</span><span class="sxs-lookup"><span data-stu-id="63b1c-140">If you want to ensure that no external resources are accessed, you can specify `null` for the <xref:System.Xml.XmlResolver> argument.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="63b1c-141">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="63b1c-141">See also</span></span>

- [<span data-ttu-id="63b1c-142">Transformations XSLT</span><span class="sxs-lookup"><span data-stu-id="63b1c-142">XSLT Transformations</span></span>](../../../../docs/standard/data/xml/xslt-transformations.md)
- [<span data-ttu-id="63b1c-143">Résolution de ressources externes lors du traitement XSLT</span><span class="sxs-lookup"><span data-stu-id="63b1c-143">Resolving External Resources During XSLT Processing</span></span>](../../../../docs/standard/data/xml/resolving-external-resources-during-xslt-processing.md)
- [<span data-ttu-id="63b1c-144">Sécurité d’accès du code</span><span class="sxs-lookup"><span data-stu-id="63b1c-144">Code Access Security</span></span>](../../../../docs/framework/misc/code-access-security.md)
