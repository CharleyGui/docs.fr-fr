---
title: Résolution des ressources externes
ms.date: 03/30/2017
ms.technology: dotnet-standard
ms.assetid: ad3fa320-4b8f-4e5c-b549-01157591007a
author: mairaw
ms.author: mairaw
ms.openlocfilehash: b4ba0cbb25e2c83a33ffba99ccbb29d5b414b3c1
ms.sourcegitcommit: 68653db98c5ea7744fd438710248935f70020dfb
ms.translationtype: HT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/22/2019
ms.locfileid: "69918204"
---
# <a name="resolving-external-resources"></a><span data-ttu-id="aa77c-102">Résolution des ressources externes</span><span class="sxs-lookup"><span data-stu-id="aa77c-102">Resolving External Resources</span></span>
<span data-ttu-id="aa77c-103">La propriété **XmlResolver** de **XmlDocument** est utilisée par la classe **XmlDocument** pour localiser des ressources qui ne sont pas incluses dans les données XML, comme des définitions de type de document (DTD), des entités et des schémas externes.</span><span class="sxs-lookup"><span data-stu-id="aa77c-103">The **XmlResolver** property of the **XmlDocument** is used by the **XmlDocument** class to locate resources that are not inline in the XML data, such as external document type definitions (DTDs), entities, and schemas.</span></span> <span data-ttu-id="aa77c-104">Ces éléments peuvent être localisés sur un réseau ou un lecteur local et sont identifiables par un URI (Uniform Resource Identifier).</span><span class="sxs-lookup"><span data-stu-id="aa77c-104">These items can be located on a network or on a local drive, and are identifiable by a Uniform Resource Identifier (URI).</span></span> <span data-ttu-id="aa77c-105">**XmlDocument** peut ainsi résoudre les nœuds **EntityReference** présents dans le document et valider le document en fonction de la DTD ou du schéma externe.</span><span class="sxs-lookup"><span data-stu-id="aa77c-105">This allows the **XmlDocument** to resolve **EntityReference** nodes that are present in the document and validate the document according to the external DTD or schema.</span></span>  
  
## <a name="fully-trusted-xmldocument"></a><span data-ttu-id="aa77c-106">XmlDocument d'une confiance suffisante</span><span class="sxs-lookup"><span data-stu-id="aa77c-106">Fully-Trusted XmlDocument</span></span>  
 <span data-ttu-id="aa77c-107">La propriété **XmlResolver** affecte la fonctionnalité de la méthode **XmlDocument.Load**.</span><span class="sxs-lookup"><span data-stu-id="aa77c-107">The **XmlResolver** property affects the functionality of the **XmlDocument.Load** method.</span></span> <span data-ttu-id="aa77c-108">Le tableau suivant montre comment la propriété **XmlDocument.XmlResolver** fonctionne lorsque l'objet **XmlDocument** est entièrement fiable.</span><span class="sxs-lookup"><span data-stu-id="aa77c-108">The table below shows how the **XmlDocument.XmlResolver** property works when the **XmlDocument** object is fully trusted.</span></span> <span data-ttu-id="aa77c-109">Le tableau suivant illustre les méthodes **XmlDocument.Load** lorsque l'entrée de Load est **TextReader**, **String**, **Stream** ou **URI**.</span><span class="sxs-lookup"><span data-stu-id="aa77c-109">The following table shows the **XmlDocument.Load** methods when the input to the Load is a **TextReader**, **String**, **Stream**, or **URI**.</span></span> <span data-ttu-id="aa77c-110">Ce tableau ne s'applique pas à la méthode **Load** si **XmlDocument** est chargé depuis un **XmlReader**.</span><span class="sxs-lookup"><span data-stu-id="aa77c-110">This table does not apply to the **Load** method if the **XmlDocument** is loaded from an **XmlReader**.</span></span>  
  
|<span data-ttu-id="aa77c-111">XmlResolver, propriété</span><span class="sxs-lookup"><span data-stu-id="aa77c-111">XmlResolver property</span></span>|<span data-ttu-id="aa77c-112">Fonction</span><span class="sxs-lookup"><span data-stu-id="aa77c-112">Function</span></span>|<span data-ttu-id="aa77c-113">Notes</span><span class="sxs-lookup"><span data-stu-id="aa77c-113">Notes</span></span>|  
|--------------------------|--------------|-----------|  
|<span data-ttu-id="aa77c-114">La propriété est définie sur une classe **XmlResolver** créée précédemment et possède des propriétés déjà définies par l'utilisateur.</span><span class="sxs-lookup"><span data-stu-id="aa77c-114">The property is set to an **XmlResolver** class that has been previously created and has properties already set on it by the user.</span></span>|<span data-ttu-id="aa77c-115">Le **XmlDocument** utilise le **XmlResolver** donné pour résoudre des noms de fichiers ainsi que des références aux ressources externes comme par exemple des DTD, des entités et des schémas.</span><span class="sxs-lookup"><span data-stu-id="aa77c-115">The **XmlDocument** uses the **XmlResolver** that is given to resolve file names, to resolve references to external resources such as DTDs, entities, and schemas.</span></span><br /><br /> <span data-ttu-id="aa77c-116">**XmlResolver** est également utilisé pour la résolution des ressources externes nécessaires lors de l'addition ou de la modification de nœuds dans **XmlDocument**.</span><span class="sxs-lookup"><span data-stu-id="aa77c-116">The **XmlResolver** is also used when resolving external resources that are needed when adding or editing nodes in the **XmlDocument**.</span></span>|<span data-ttu-id="aa77c-117">Le **XmlResolver** donné à **XmlDocument** est le programme de résolution utilisé à chaque fois que des ressources externes doivent être localisées et résolues.</span><span class="sxs-lookup"><span data-stu-id="aa77c-117">The **XmlResolver** given to the **XmlDocument** is the resolver that is used whenever external resources need to be located and resolved.</span></span>|  
|<span data-ttu-id="aa77c-118">La propriété a la valeur **null** (**Nothing** dans Microsoft Visual Basic .NET).</span><span class="sxs-lookup"><span data-stu-id="aa77c-118">The property is set to **null** (**Nothing** in Microsoft Visual Basic .NET).</span></span>|<span data-ttu-id="aa77c-119">Les fonctionnalités qui nécessitent une ressource externe ne sont pas prises en charge comme la localisation d’un schéma ou DTD externe.</span><span class="sxs-lookup"><span data-stu-id="aa77c-119">Features that require an external resource are not supported, such as locating an external schema, or DTD.</span></span> <span data-ttu-id="aa77c-120">Les entités externes ne seront pas non plus résolues et les fonctions de modification, comme l’insertion de nœuds d’entité qui demandent une résolution, ne sont pas prises en charge.</span><span class="sxs-lookup"><span data-stu-id="aa77c-120">Nor will external entities be resolved, and performing editing functions, such as inserting entity nodes that require resolution, are not supported.</span></span>|<span data-ttu-id="aa77c-121">**XmlDocument** charge des fichiers de manière anonyme et ne cherche pas à résoudre d'autres ressources.</span><span class="sxs-lookup"><span data-stu-id="aa77c-121">The **XmlDocument** loads files as anonymous and does not attempt to resolve any other resources.</span></span>|  
|<span data-ttu-id="aa77c-122">La propriété n'est pas définie, elle reste dans son état par défaut.</span><span class="sxs-lookup"><span data-stu-id="aa77c-122">The property is not set, but left in its default state.</span></span>|<span data-ttu-id="aa77c-123">Un **XmlUrlResolver** avec des informations d'identification NULL sera instancié et utilisé par **XmlDocument** lors de la résolution de noms de fichiers, de la localisation des DTD, des entités et des schémas externes ; des informations d'identification **null** sont également utilisées lors de la modification des nœuds.</span><span class="sxs-lookup"><span data-stu-id="aa77c-123">An **XmlUrlResolver** with NULL credentials will be instantiated and used by the **XmlDocument** when resolving file names, locating external DTDs, entities, and schemas, and **null** credentials are used when editing nodes.</span></span>||  
  
 <span data-ttu-id="aa77c-124">Le tableau suivant illustre la méthode **XmlDocument.Load** lorsque l'entrée de **Load** est **XmlReader** et que **XmlDocument** est entièrement fiable.</span><span class="sxs-lookup"><span data-stu-id="aa77c-124">The following table shows the **XmlDocument.Load** method when the input to the **Load** is an **XmlReader** and the **XmlDocument** is fully trusted.</span></span>  
  
|<span data-ttu-id="aa77c-125">XmlResolver, propriété</span><span class="sxs-lookup"><span data-stu-id="aa77c-125">XmlResolver property</span></span>|<span data-ttu-id="aa77c-126">Fonction</span><span class="sxs-lookup"><span data-stu-id="aa77c-126">Function</span></span>|<span data-ttu-id="aa77c-127">Notes</span><span class="sxs-lookup"><span data-stu-id="aa77c-127">Notes</span></span>|  
|--------------------------|--------------|-----------|  
|<span data-ttu-id="aa77c-128">La classe **XmlResolver** utilisée par **XmlDocument** correspond à la même classe utilisée par **XmlReader**.</span><span class="sxs-lookup"><span data-stu-id="aa77c-128">The **XmlResolver** class used by the **XmlDocument** is the same class being used by the **XmlReader**.</span></span>|<span data-ttu-id="aa77c-129">Le **XmlDocument** utilise le **XmlResolver** assigné à **XmlReader**.</span><span class="sxs-lookup"><span data-stu-id="aa77c-129">The **XmlDocument** uses the **XmlResolver** that was assigned to the **XmlReader**.</span></span><br /><br /> <span data-ttu-id="aa77c-130">La propriété **XmlDocument.Resolver** ne peut pas être définie, quel que soit le niveau de confiance de **XmlDocument**, car elle reçoit un **XmlResolver** de **XmlReader**.</span><span class="sxs-lookup"><span data-stu-id="aa77c-130">The **XmlDocument.Resolver** property cannot be set, regardless of the **XmlDocument** trust level, because it is getting an **XmlResolver** from the **XmlReader**.</span></span> <span data-ttu-id="aa77c-131">Vous ne pouvez pas essayer de substituer les paramètres **XmlResolver** de **XmlReader** en définissant la propriété **XmlResolver** du **XmlDocument**.</span><span class="sxs-lookup"><span data-stu-id="aa77c-131">You cannot attempt to override the settings of the **XmlReaders**' **XmlResolver** by setting the **XmlResolver** property of the **XmlDocument**.</span></span>|<span data-ttu-id="aa77c-132">Le **XmlReader** peut être le **XmlTextReader**, **XmlValidatingReader** ou un lecteur à l'écriture personnalisée.</span><span class="sxs-lookup"><span data-stu-id="aa77c-132">The **XmlReader** can be the **XmlTextReader**, **XmlValidatingReader**, or a custom-written reader.</span></span> <span data-ttu-id="aa77c-133">Si le lecteur utilisé prend en charge la résolution d’entité, les entités externes sont résolues.</span><span class="sxs-lookup"><span data-stu-id="aa77c-133">If the reader used supports entity resolution, external entities are resolved.</span></span> <span data-ttu-id="aa77c-134">Si le lecteur passé ne prend pas en charge les références d'entité, dans ce cas celles-ci ne sont pas résolues.</span><span class="sxs-lookup"><span data-stu-id="aa77c-134">If the reader passed does not support entity references, then entity references are not resolved.</span></span>|  
  
## <a name="semi-trusted-xmldocument"></a><span data-ttu-id="aa77c-135">XmlDocument d'une confiance partielle</span><span class="sxs-lookup"><span data-stu-id="aa77c-135">Semi-Trusted XmlDocument</span></span>  
 <span data-ttu-id="aa77c-136">Le tableau suivant montre comment la propriété **XmlDocument.XmlResolver** fonctionne lorsque l'objet est d'un niveau de confiance partiel.</span><span class="sxs-lookup"><span data-stu-id="aa77c-136">The following table shows how the **XmlDocument.XmlResolver** property works when the object is semi-trusted.</span></span> <span data-ttu-id="aa77c-137">Ce tableau s'applique aux méthodes**XmlDocument.Load** lorsque l'entrée de Load est **TextReader**, **String**, **Stream** ou **URI**.</span><span class="sxs-lookup"><span data-stu-id="aa77c-137">This table applies to the **XmlDocument.Load** methods when the input to the Load is a **TextReader**, **String**, **Stream**, or **URI**.</span></span> <span data-ttu-id="aa77c-138">Ce tableau ne s'applique pas à la méthode **Load** si **XmlDocument** est chargé depuis un **XmlReader**.</span><span class="sxs-lookup"><span data-stu-id="aa77c-138">This table does not apply to the **Load** method if the **XmlDocument** is loaded from an **XmlReader**.</span></span>  
  
|<span data-ttu-id="aa77c-139">XmlResolver, propriété</span><span class="sxs-lookup"><span data-stu-id="aa77c-139">XmlResolver property</span></span>|<span data-ttu-id="aa77c-140">Fonction</span><span class="sxs-lookup"><span data-stu-id="aa77c-140">Function</span></span>|<span data-ttu-id="aa77c-141">Notes</span><span class="sxs-lookup"><span data-stu-id="aa77c-141">Notes</span></span>|  
|--------------------------|--------------|-----------|  
|<span data-ttu-id="aa77c-142">Dans le scénario d'un niveau de confiance partiel, la propriété **XmlResolver** ne peut pas être définie d'une autre manière que null.</span><span class="sxs-lookup"><span data-stu-id="aa77c-142">In the semi-trusted scenario, the **XmlResolver** property cannot be set to anything other than null.</span></span>|<span data-ttu-id="aa77c-143">Un **XmlUrlResolver** avec des informations d'identification **null** sera instancié et utilisé par **XmlDocument** lors de la résolution de noms de fichiers, la localisation des DTD, des entités et des schémas externes ; des informations d'identification **null** sont également utilisées lors de l'édition des nœuds.</span><span class="sxs-lookup"><span data-stu-id="aa77c-143">An **XmlUrlResolver** with **null** credentials will be instantiated and used by the **XmlDocument** when resolving file names, locating external DTDs, entities, and schemas, and **null** credentials are used when editing nodes.</span></span>|<span data-ttu-id="aa77c-144">Ce comportement est identique au comportement où la propriété **XmlResolver** n'est pas définie, mais laissée dans son état par défaut.</span><span class="sxs-lookup"><span data-stu-id="aa77c-144">This behavior is identical to the behavior when the **XmlResolver** property is not set, but left in its default state.</span></span><br /><br /> <span data-ttu-id="aa77c-145">**XmlDocument** utilise des autorisations anonymes pour toutes les actions.</span><span class="sxs-lookup"><span data-stu-id="aa77c-145">The **XmlDocument** uses anonymous permissions for all actions.</span></span>|  
|<span data-ttu-id="aa77c-146">La propriété a la valeur **null** (**Nothing** dans Microsoft Visual Basic .NET).</span><span class="sxs-lookup"><span data-stu-id="aa77c-146">The property is set to **null** (**Nothing** in Microsoft Visual Basic .NET).</span></span>|<span data-ttu-id="aa77c-147">Aucune fonctionnalité qui nécessite une ressource externe n'est prise en charge comme la localisation d'un schéma ou DTD externe.</span><span class="sxs-lookup"><span data-stu-id="aa77c-147">No features that require an external resource are supported, such as locating an external schema or DTD.</span></span> <span data-ttu-id="aa77c-148">Les entités externes ne seront pas non plus résolues et les fonctions de modification, comme l’insertion de nœuds d’entité qui demandent une résolution, ne sont pas prises en charge.</span><span class="sxs-lookup"><span data-stu-id="aa77c-148">Nor will external entities be resolved, and performing editing functions such as inserting entity nodes that require resolution, are not supported.</span></span>|<span data-ttu-id="aa77c-149">Lorsque la propriété est **null**, le comportement est le même, que **XmlDocument** soit d'un niveau de confiance parfait ou suffisant.</span><span class="sxs-lookup"><span data-stu-id="aa77c-149">When the property is **null**, the behavior is the same regardless if the **XmlDocument** is fully trusted or semi-trusted.</span></span>|  
|<span data-ttu-id="aa77c-150">La propriété n'est pas définie, elle reste dans son état par défaut.</span><span class="sxs-lookup"><span data-stu-id="aa77c-150">The property is not set, but left in its default state.</span></span>|<span data-ttu-id="aa77c-151">Un **XmlUrlResolver** avec des informations d'identification **null** sera instancié et utilisé par **XmlDocument** lors de la résolution de noms de fichiers, la localisation des DTD, des entités et des schémas externes ; des informations d'identification **null** sont également utilisées lors de l'édition des nœuds.</span><span class="sxs-lookup"><span data-stu-id="aa77c-151">An **XmlUrlResolver** with **null** credentials will be instantiated and used by the **XmlDocument** when resolving file names, locating external DTDs, entities, and schemas, and **null** credentials are used when editing nodes.</span></span>|<span data-ttu-id="aa77c-152">**XmlDocument** utilise des autorisations anonymes pour toutes les actions.</span><span class="sxs-lookup"><span data-stu-id="aa77c-152">The **XmlDocument** uses anonymous permissions for all actions.</span></span>|  
  
 <span data-ttu-id="aa77c-153">Ce tableau s'applique à la méthode **XmlDocument.Load** lorsque l'entrée de **Load** est **XmlReader** et que **XmlDocument** est d'un niveau de confiance partiel.</span><span class="sxs-lookup"><span data-stu-id="aa77c-153">This table applies to the **XmlDocument.Load** method when the input to the **Load** is an **XmlReader**, and the **XmlDocument** is semi-trusted.</span></span>  
  
|<span data-ttu-id="aa77c-154">XmlResolver, propriété</span><span class="sxs-lookup"><span data-stu-id="aa77c-154">XmlResolver property</span></span>|<span data-ttu-id="aa77c-155">Fonction</span><span class="sxs-lookup"><span data-stu-id="aa77c-155">Function</span></span>|<span data-ttu-id="aa77c-156">Notes</span><span class="sxs-lookup"><span data-stu-id="aa77c-156">Notes</span></span>|  
|--------------------------|--------------|-----------|  
|<span data-ttu-id="aa77c-157">La classe **XmlResolver** utilisée par **XmlDocument** correspond à la même classe utilisée par **XmlReader**.</span><span class="sxs-lookup"><span data-stu-id="aa77c-157">The **XmlResolver** class used by the **XmlDocument** is the same one being used by the **XmlReader**.</span></span>|<span data-ttu-id="aa77c-158">Le **XmlDocument** utilise le **XmlResolver** assigné à **XmlReader**.</span><span class="sxs-lookup"><span data-stu-id="aa77c-158">The **XmlDocument** uses the **XmlResolver** that was assigned to the **XmlReader**.</span></span><br /><br /> <span data-ttu-id="aa77c-159">La propriété **XmlDocument.Resolver** ne peut pas être définie, quel que soit le niveau de confiance de **XmlDocument**, car elle reçoit un **XmlResolver** de **XmlReader**.</span><span class="sxs-lookup"><span data-stu-id="aa77c-159">The **XmlDocument.Resolver** property cannot be set, regardless of the **XmlDocument** trust level, because it is getting an **XmlResolver** from the **XmlReader**.</span></span> <span data-ttu-id="aa77c-160">Vous ne pouvez pas essayer de substituer les paramètres **XmlResolver** de **XmlReader** en définissant la propriété **XmlResolver** du **XmlDocument**.</span><span class="sxs-lookup"><span data-stu-id="aa77c-160">You cannot attempt to override the settings of the **XmlReaders** **XmlResolver** by setting the **XmlResolver** property of the **XmlDocument**.</span></span>|<span data-ttu-id="aa77c-161">Le **XmlReader** peut être le **XmlTextReader**, l'objet de validation <xref:System.Xml.XmlReader> ou un lecteur à l'écriture personnalisée.</span><span class="sxs-lookup"><span data-stu-id="aa77c-161">The **XmlReader** can be the **XmlTextReader**, validating <xref:System.Xml.XmlReader>, or a custom-written reader.</span></span> <span data-ttu-id="aa77c-162">Si le lecteur utilisé prend en charge la résolution d’entité, les entités externes sont résolues.</span><span class="sxs-lookup"><span data-stu-id="aa77c-162">If the reader used supports entity resolution, external entities are resolved.</span></span> <span data-ttu-id="aa77c-163">Si le lecteur passé ne prend pas en charge de références d'entité, dans ce cas celles-ci ne sont pas résolues.</span><span class="sxs-lookup"><span data-stu-id="aa77c-163">If the reader passed in does not support entity references, then entity references are not resolved.</span></span>|  
  
 <span data-ttu-id="aa77c-164">Le paramétrage de XmlResolver pour contenir les informations d'identification correctes permet d'accéder à des ressources externes.</span><span class="sxs-lookup"><span data-stu-id="aa77c-164">Setting the XmlResolver to contain the correct credentials allows access to external resources.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="aa77c-165">Il n'existe aucun moyen de récupérer la propriété **XmlResolver**.</span><span class="sxs-lookup"><span data-stu-id="aa77c-165">There is no way to retrieve the **XmlResolver** property.</span></span> <span data-ttu-id="aa77c-166">Cela permet d'éviter qu'un utilisateur ne réutilise un **XmlResolver** sur lequel des informations d'identification ont été définies.</span><span class="sxs-lookup"><span data-stu-id="aa77c-166">This helps to prevent a user from reusing an **XmlResolver** on which credentials have been set.</span></span> <span data-ttu-id="aa77c-167">De plus, si un **XmlTextReader** ou un objet de validation <xref:System.Xml.XmlReader> est utilisé pour charger **XmlDocument** et si un programme de résolution a été défini sur le **XmlDocument**, les programmes de résolution de ces lecteurs ne sont pas mis en cache par **XmlDocument** après la phase **Load**, dans la mesure où cela présente également un risque pour la sécurité.</span><span class="sxs-lookup"><span data-stu-id="aa77c-167">Also, if an **XmlTextReader** or validating <xref:System.Xml.XmlReader> is used to load the **XmlDocument** and the **XmlDocument** has a resolver that has been set, the resolvers from these readers are not cached by the **XmlDocument** after the **Load** phase, since this also presents a security risk.</span></span>  
  
 <span data-ttu-id="aa77c-168">Pour plus d'informations, consultez la section Notes de la page de référence <xref:System.Xml.XmlResolver>.</span><span class="sxs-lookup"><span data-stu-id="aa77c-168">For more information, see the Remarks section of the <xref:System.Xml.XmlResolver> reference page.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="aa77c-169">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="aa77c-169">See also</span></span>

- [<span data-ttu-id="aa77c-170">DOM (Document Object Model) XML</span><span class="sxs-lookup"><span data-stu-id="aa77c-170">XML Document Object Model (DOM)</span></span>](../../../../docs/standard/data/xml/xml-document-object-model-dom.md)
