---
title: Prise en charge de DateTime et DateTimeOffset dans System.Text.Json
description: Vue d’ensemble de la façon dont les types DateTime et DateTimeOffset sont pris en charge dans la System.Text.Jssur la bibliothèque.
ms.technology: dotnet-standard
author: layomia
ms.author: laakinri
ms.date: 07/22/2019
helpviewer_keywords:
- JSON, Serializer, Utf8
- JSON DateTime, JSON DateTimeOffset
- DateTime, DateTimeOffset
- JsonSerializer, Utf8JsonReader, Utf8JsonWriter, JsonElement, JsonDocument
- JSON Serializer, JSON Reader, JSON Writer
- Converter, JSON Converter, DateTime Converter
- ISO, ISO 8601, ISO 8601-1:2019
ms.openlocfilehash: 020e6903069da2c5d8761c86e890c4e9575a3fae
ms.sourcegitcommit: 7588b1f16b7608bc6833c05f91ae670c22ef56f8
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 11/02/2020
ms.locfileid: "93188755"
---
# <a name="datetime-and-datetimeoffset-support-in-systemtextjson"></a><span data-ttu-id="aa3e2-103">Prise en charge de DateTime et DateTimeOffset dans System.Text.Json</span><span class="sxs-lookup"><span data-stu-id="aa3e2-103">DateTime and DateTimeOffset support in System.Text.Json</span></span>

<span data-ttu-id="aa3e2-104">La System.Text.Jssur la bibliothèque analyse et écrit <xref:System.DateTime> les <xref:System.DateTimeOffset> valeurs et en fonction du profil étendu ISO 8601 :-2019.</span><span class="sxs-lookup"><span data-stu-id="aa3e2-104">The System.Text.Json library parses and writes <xref:System.DateTime> and <xref:System.DateTimeOffset> values according to the ISO 8601:-2019 extended profile.</span></span>
<span data-ttu-id="aa3e2-105">Les [convertisseurs](xref:System.Text.Json.Serialization.JsonConverter%601) fournissent une prise en charge personnalisée pour la sérialisation et la désérialisation avec <xref:System.Text.Json.JsonSerializer> .</span><span class="sxs-lookup"><span data-stu-id="aa3e2-105">[Converters](xref:System.Text.Json.Serialization.JsonConverter%601) provide custom support for serializing and deserializing with <xref:System.Text.Json.JsonSerializer>.</span></span>
<span data-ttu-id="aa3e2-106">La prise en charge personnalisée peut également être implémentée lors de l’utilisation <xref:System.Text.Json.Utf8JsonReader> de et <xref:System.Text.Json.Utf8JsonWriter> .</span><span class="sxs-lookup"><span data-stu-id="aa3e2-106">Custom support can also be implemented when using <xref:System.Text.Json.Utf8JsonReader> and <xref:System.Text.Json.Utf8JsonWriter>.</span></span>

## <a name="support-for-the-iso-8601-12019-format"></a><span data-ttu-id="aa3e2-107">Prise en charge du format ISO 8601-1:2019</span><span class="sxs-lookup"><span data-stu-id="aa3e2-107">Support for the ISO 8601-1:2019 format</span></span>

<span data-ttu-id="aa3e2-108">Les <xref:System.Text.Json.JsonSerializer> types,, <xref:System.Text.Json.Utf8JsonReader> <xref:System.Text.Json.Utf8JsonWriter> et <xref:System.Text.Json.JsonElement> analysent et écrivent des <xref:System.DateTime> <xref:System.DateTimeOffset> représentations textuelles selon le profil étendu du format ISO 8601-1:2019, par exemple, 2019-07-26T16:59:57-05:00.</span><span class="sxs-lookup"><span data-stu-id="aa3e2-108">The <xref:System.Text.Json.JsonSerializer>, <xref:System.Text.Json.Utf8JsonReader>, <xref:System.Text.Json.Utf8JsonWriter>, and <xref:System.Text.Json.JsonElement> types parse and write <xref:System.DateTime> and <xref:System.DateTimeOffset> text representations according to the extended profile of the ISO 8601-1:2019 format; for example, 2019-07-26T16:59:57-05:00.</span></span>

<span data-ttu-id="aa3e2-109"><xref:System.DateTime> les <xref:System.DateTimeOffset> données et peuvent être sérialisées avec <xref:System.Text.Json.JsonSerializer> :</span><span class="sxs-lookup"><span data-stu-id="aa3e2-109"><xref:System.DateTime> and <xref:System.DateTimeOffset> data can be serialized with <xref:System.Text.Json.JsonSerializer>:</span></span>

[!code-csharp[example-serializing-with-jsonserializer](~/samples/snippets/standard/datetime/json/csharp/serializing-with-jsonserializer/Program.cs)]

<span data-ttu-id="aa3e2-110">Elles peuvent également être désérialisées avec <xref:System.Text.Json.JsonSerializer> :</span><span class="sxs-lookup"><span data-stu-id="aa3e2-110">They can also be deserialized with <xref:System.Text.Json.JsonSerializer>:</span></span>

[!code-csharp[example-deserializing-with-jsonserializer-valid](~/samples/snippets/standard/datetime/json/csharp/deserializing-with-jsonserializer-valid/Program.cs)]

<span data-ttu-id="aa3e2-111">Avec les options par défaut, <xref:System.DateTime> les représentations d’entrée et de <xref:System.DateTimeOffset> texte doivent être conformes au profil ISO 8601-1:2019 étendu.</span><span class="sxs-lookup"><span data-stu-id="aa3e2-111">With default options, input <xref:System.DateTime> and <xref:System.DateTimeOffset> text representations must conform to the extended ISO 8601-1:2019 profile.</span></span>
<span data-ttu-id="aa3e2-112">Toute tentative de désérialisation de représentations qui ne sont pas conformes au profil entraîne la <xref:System.Text.Json.JsonSerializer> levée d’un <xref:System.Text.Json.JsonException> :</span><span class="sxs-lookup"><span data-stu-id="aa3e2-112">Attempting to deserialize representations that don't conform to the profile will cause <xref:System.Text.Json.JsonSerializer> to throw a <xref:System.Text.Json.JsonException>:</span></span>

[!code-csharp[example-deserializing-with-jsonserializer-error](~/samples/snippets/standard/datetime/json/csharp/deserializing-with-jsonserializer-error/Program.cs)]

<span data-ttu-id="aa3e2-113">Le <xref:System.Text.Json.JsonDocument> fournit un accès structuré au contenu d’une charge utile JSON, y compris les <xref:System.DateTime> <xref:System.DateTimeOffset> représentations et.</span><span class="sxs-lookup"><span data-stu-id="aa3e2-113">The <xref:System.Text.Json.JsonDocument> provides structured access to the contents of a JSON payload, including <xref:System.DateTime> and <xref:System.DateTimeOffset> representations.</span></span> <span data-ttu-id="aa3e2-114">L’exemple ci-dessous montre comment, lorsqu’une collection de températures est donnée, la température moyenne sur lundi peut être calculée :</span><span class="sxs-lookup"><span data-stu-id="aa3e2-114">The example below shows how, when given a collection of temperatures, the average temperature on Mondays can be calculated:</span></span>

[!code-csharp[example-computing-with-jsondocument-valid](~/samples/snippets/standard/datetime/json/csharp/computing-with-jsondocument-valid/Program.cs)]

<span data-ttu-id="aa3e2-115">Toute tentative de calcul de la température moyenne en fonction d’une charge utile avec des représentations non conformes <xref:System.DateTime> entraînera la <xref:System.Text.Json.JsonDocument> levée d’un <xref:System.FormatException> :</span><span class="sxs-lookup"><span data-stu-id="aa3e2-115">Attempting to compute the average temperature given a payload with non-compliant <xref:System.DateTime> representations will cause <xref:System.Text.Json.JsonDocument> to throw a <xref:System.FormatException>:</span></span>

[!code-csharp[example-computing-with-jsondocument-error](~/samples/snippets/standard/datetime/json/csharp/computing-with-jsondocument-error/Program.cs)]

<span data-ttu-id="aa3e2-116">Les écritures et les données de niveau inférieur <xref:System.Text.Json.Utf8JsonWriter> <xref:System.DateTime> <xref:System.DateTimeOffset> :</span><span class="sxs-lookup"><span data-stu-id="aa3e2-116">The lower level <xref:System.Text.Json.Utf8JsonWriter> writes <xref:System.DateTime> and <xref:System.DateTimeOffset> data:</span></span>

[!code-csharp[example-writing-with-utf8jsonwriter](~/samples/snippets/standard/datetime/json/csharp/writing-with-utf8jsonwriter/Program.cs)]

<span data-ttu-id="aa3e2-117"><xref:System.Text.Json.Utf8JsonReader> analyse <xref:System.DateTime> et <xref:System.DateTimeOffset> données :</span><span class="sxs-lookup"><span data-stu-id="aa3e2-117"><xref:System.Text.Json.Utf8JsonReader> parses <xref:System.DateTime> and <xref:System.DateTimeOffset> data:</span></span>

[!code-csharp[example-reading-with-utf8jsonreader-valid](~/samples/snippets/standard/datetime/json/csharp/reading-with-utf8jsonreader-valid/Program.cs)]

<span data-ttu-id="aa3e2-118">Si vous tentez de lire des formats non conformes avec <xref:System.Text.Json.Utf8JsonReader> , cela entraînera la levée d’un <xref:System.FormatException> :</span><span class="sxs-lookup"><span data-stu-id="aa3e2-118">Attempting to read non-compliant formats with <xref:System.Text.Json.Utf8JsonReader> will cause it to throw a <xref:System.FormatException>:</span></span>

[!code-csharp[example-reading-with-utf8jsonreader-error](~/samples/snippets/standard/datetime/json/csharp/reading-with-utf8jsonreader-error/Program.cs)]

## <a name="custom-support-for-xrefsystemdatetime-and-xrefsystemdatetimeoffset"></a><span data-ttu-id="aa3e2-119">Prise en charge personnalisée pour <xref:System.DateTime> et <xref:System.DateTimeOffset></span><span class="sxs-lookup"><span data-stu-id="aa3e2-119">Custom support for <xref:System.DateTime> and <xref:System.DateTimeOffset></span></span>

### <a name="when-using-xrefsystemtextjsonjsonserializer"></a><span data-ttu-id="aa3e2-120">Quand vous utilisez <xref:System.Text.Json.JsonSerializer></span><span class="sxs-lookup"><span data-stu-id="aa3e2-120">When using <xref:System.Text.Json.JsonSerializer></span></span>

<span data-ttu-id="aa3e2-121">Si vous souhaitez que le sérialiseur effectue une analyse personnalisée ou une mise en forme, vous pouvez implémenter des [convertisseurs personnalisés](xref:System.Text.Json.Serialization.JsonConverter%601).</span><span class="sxs-lookup"><span data-stu-id="aa3e2-121">If you want the serializer to perform custom parsing or formatting, you can implement [custom converters](xref:System.Text.Json.Serialization.JsonConverter%601).</span></span>
<span data-ttu-id="aa3e2-122">Voici quelques exemples :</span><span class="sxs-lookup"><span data-stu-id="aa3e2-122">Here are a few examples:</span></span>

#### <a name="using-datetimeoffsetparse-and-datetimeoffsettostring"></a><span data-ttu-id="aa3e2-123">Utilisation `DateTime(Offset).Parse` de et `DateTime(Offset).ToString`</span><span class="sxs-lookup"><span data-stu-id="aa3e2-123">Using `DateTime(Offset).Parse` and `DateTime(Offset).ToString`</span></span>

<span data-ttu-id="aa3e2-124">Si vous ne pouvez pas déterminer les formats de vos représentations d’entrée <xref:System.DateTime> ou de <xref:System.DateTimeOffset> texte, vous pouvez utiliser la `DateTime(Offset).Parse` méthode dans la logique de lecture de votre convertisseur.</span><span class="sxs-lookup"><span data-stu-id="aa3e2-124">If you can't determine the formats of your input <xref:System.DateTime> or <xref:System.DateTimeOffset> text representations, you can use the `DateTime(Offset).Parse` method in your converter read logic.</span></span> <span data-ttu-id="aa3e2-125">Cela vous permet d’utiliser. Prise en charge étendue nette pour l’analyse de divers <xref:System.DateTime> <xref:System.DateTimeOffset> formats de texte, y compris les chaînes non ISO 8601 et les formats ISO 8601 qui ne sont pas conformes au profil ISO 8601-1:2019 étendu.</span><span class="sxs-lookup"><span data-stu-id="aa3e2-125">This allows you to use .NET's extensive support for parsing various <xref:System.DateTime> and <xref:System.DateTimeOffset> text formats, including non-ISO 8601 strings and ISO 8601 formats that don't conform to the extended ISO 8601-1:2019 profile.</span></span> <span data-ttu-id="aa3e2-126">Cette approche est beaucoup moins performante que l’utilisation de l’implémentation native du sérialiseur.</span><span class="sxs-lookup"><span data-stu-id="aa3e2-126">This approach is significantly less performant than using the serializer's native implementation.</span></span>

<span data-ttu-id="aa3e2-127">Pour la sérialisation, vous pouvez utiliser la `DateTime(Offset).ToString` méthode dans votre logique d’écriture de convertisseur.</span><span class="sxs-lookup"><span data-stu-id="aa3e2-127">For serializing, you can use the `DateTime(Offset).ToString` method in your converter write logic.</span></span> <span data-ttu-id="aa3e2-128">Cela vous permet d’écrire <xref:System.DateTime> des <xref:System.DateTimeOffset> valeurs et à l’aide de l’un des [formats de date et d’heure standard](../base-types/standard-date-and-time-format-strings.md), ainsi que des [formats de date et d’heure personnalisés](../base-types/custom-date-and-time-format-strings.md).</span><span class="sxs-lookup"><span data-stu-id="aa3e2-128">This allows you to write <xref:System.DateTime> and <xref:System.DateTimeOffset> values using any of the [standard date and time formats](../base-types/standard-date-and-time-format-strings.md), and the [custom date and time formats](../base-types/custom-date-and-time-format-strings.md).</span></span>
<span data-ttu-id="aa3e2-129">Cela est également beaucoup moins performant que l’utilisation de l’implémentation native du sérialiseur.</span><span class="sxs-lookup"><span data-stu-id="aa3e2-129">This is also significantly less performant than using the serializer's native implementation.</span></span>

[!code-csharp[example-showing-datetime-parse](~/samples/snippets/standard/datetime/json/csharp/datetime-converter-examples/example1/Program.cs)]

> [!NOTE]
> <span data-ttu-id="aa3e2-130">Lors de <xref:System.Text.Json.Serialization.JsonConverter%601> l’implémentation de, et `T` est <xref:System.DateTime> , le `typeToConvert` paramètre sera toujours `typeof(DateTime)` .</span><span class="sxs-lookup"><span data-stu-id="aa3e2-130">When implementing <xref:System.Text.Json.Serialization.JsonConverter%601>, and `T` is <xref:System.DateTime>, the `typeToConvert` parameter will always be `typeof(DateTime)`.</span></span>
<span data-ttu-id="aa3e2-131">Le paramètre est utile pour gérer les cas polymorphes et lors de l’utilisation de génériques pour obtenir `typeof(T)` de façon performante.</span><span class="sxs-lookup"><span data-stu-id="aa3e2-131">The parameter is useful for handling polymorphic cases and when using generics to get `typeof(T)` in a performant way.</span></span>

#### <a name="using-xrefsystembufferstextutf8parser-and-xrefsystembufferstextutf8formatter"></a><span data-ttu-id="aa3e2-132">Utilisation <xref:System.Buffers.Text.Utf8Parser> de et <xref:System.Buffers.Text.Utf8Formatter></span><span class="sxs-lookup"><span data-stu-id="aa3e2-132">Using <xref:System.Buffers.Text.Utf8Parser> and <xref:System.Buffers.Text.Utf8Formatter></span></span>

<span data-ttu-id="aa3e2-133">Vous pouvez utiliser les méthodes d’analyse et de mise en forme rapides UTF-8 dans votre logique de conversion si vos représentations d’entrée <xref:System.DateTime> ou de <xref:System.DateTimeOffset> texte sont conformes à l’une des [chaînes de format de date et d’heure standard](../base-types/standard-date-and-time-format-strings.md)"R", "l", "O" ou "G", ou si vous souhaitez écrire en fonction de l’un de ces formats.</span><span class="sxs-lookup"><span data-stu-id="aa3e2-133">You can use fast UTF-8-based parsing and formatting methods in your converter logic if your input <xref:System.DateTime> or <xref:System.DateTimeOffset> text representations are compliant with one of the "R", "l", "O", or "G" [standard date and time format strings](../base-types/standard-date-and-time-format-strings.md), or you want to write according to one of these formats.</span></span> <span data-ttu-id="aa3e2-134">C’est beaucoup plus rapide que d’utiliser `DateTime(Offset).Parse` et `DateTime(Offset).ToString` .</span><span class="sxs-lookup"><span data-stu-id="aa3e2-134">This is much faster than using `DateTime(Offset).Parse` and `DateTime(Offset).ToString`.</span></span>

<span data-ttu-id="aa3e2-135">Cet exemple montre un convertisseur personnalisé qui sérialise et désérialise des <xref:System.DateTime> valeurs selon [le format standard « R »](../base-types/standard-date-and-time-format-strings.md#the-rfc1123-r-r-format-specifier):</span><span class="sxs-lookup"><span data-stu-id="aa3e2-135">This example shows a custom converter that serializes and deserializes <xref:System.DateTime> values according to [the "R" standard format](../base-types/standard-date-and-time-format-strings.md#the-rfc1123-r-r-format-specifier):</span></span>

[!code-csharp[example-showing-utf8-parser-and-formatter](~/samples/snippets/standard/datetime/json/csharp/datetime-converter-examples/example2/Program.cs)]

> [!NOTE]
> <span data-ttu-id="aa3e2-136">Le format standard « R » aura toujours une longueur de 29 caractères.</span><span class="sxs-lookup"><span data-stu-id="aa3e2-136">The "R" standard format will always be 29 characters long.</span></span>
>
> <span data-ttu-id="aa3e2-137">Le format « l » (minuscule « L ») n’est pas documenté avec les autres [chaînes de format de date et d’heure standard](../base-types/standard-date-and-time-format-strings.md) , car il est pris en charge uniquement par les `Utf8Parser` `Utf8Formatter` types et.</span><span class="sxs-lookup"><span data-stu-id="aa3e2-137">The "l" (lowercase "L") format is not documented with the other [standard date and time format strings](../base-types/standard-date-and-time-format-strings.md) because it is supported only by the `Utf8Parser` and `Utf8Formatter` types.</span></span> <span data-ttu-id="aa3e2-138">Le format est RFC 1123 en minuscules (une version en minuscules du format « R »), par exemple : « Thou, 25 Jul 2019 06:36:07 GMT ».</span><span class="sxs-lookup"><span data-stu-id="aa3e2-138">The format is lowercase RFC 1123 (a lowercase version of the "R" format), for example: "thu, 25 jul 2019 06:36:07 gmt".</span></span>

#### <a name="using-datetimeoffsetparse-as-a-fallback-to-the-serializers-native-parsing"></a><span data-ttu-id="aa3e2-139">Utilisation de `DateTime(Offset).Parse` comme secours pour l’analyse native du sérialiseur</span><span class="sxs-lookup"><span data-stu-id="aa3e2-139">Using `DateTime(Offset).Parse` as a fallback to the serializer's native parsing</span></span>

<span data-ttu-id="aa3e2-140">Si vous vous attendez généralement à ce que votre entrée <xref:System.DateTime> ou vos <xref:System.DateTimeOffset> données soient conformes au profil ISO 8601-1:2019 étendu, vous pouvez utiliser la logique d’analyse native du sérialiseur.</span><span class="sxs-lookup"><span data-stu-id="aa3e2-140">If you generally expect your input <xref:System.DateTime> or <xref:System.DateTimeOffset> data to conform to the extended ISO 8601-1:2019 profile, you can use the serializer's native parsing logic.</span></span> <span data-ttu-id="aa3e2-141">Vous pouvez également implémenter un mécanisme de secours uniquement dans le cas.</span><span class="sxs-lookup"><span data-stu-id="aa3e2-141">You can also implement a fallback mechanism just in case.</span></span>
<span data-ttu-id="aa3e2-142">Cet exemple montre que, après l’échec de l’analyse d’une <xref:System.DateTime> représentation textuelle à l’aide de <xref:System.Text.Json.Utf8JsonReader.TryGetDateTime(System.DateTime@)> , le convertisseur analyse les données avec succès à l’aide de <xref:System.DateTime.Parse(System.String)> .</span><span class="sxs-lookup"><span data-stu-id="aa3e2-142">This example shows that, after failing to parse a <xref:System.DateTime> text representation using <xref:System.Text.Json.Utf8JsonReader.TryGetDateTime(System.DateTime@)>, the converter successfully parses the data using <xref:System.DateTime.Parse(System.String)>.</span></span>

[!code-csharp[example-showing-datetime-parse-as-fallback](~/samples/snippets/standard/datetime/json/csharp/datetime-converter-examples/example3/Program.cs)]

### <a name="when-writing-with-xrefsystemtextjsonutf8jsonwriter"></a><span data-ttu-id="aa3e2-143">Lors de l’écriture avec <xref:System.Text.Json.Utf8JsonWriter></span><span class="sxs-lookup"><span data-stu-id="aa3e2-143">When writing with <xref:System.Text.Json.Utf8JsonWriter></span></span>

<span data-ttu-id="aa3e2-144">Si vous souhaitez écrire une représentation personnalisée <xref:System.DateTime> ou <xref:System.DateTimeOffset> textuelle avec <xref:System.Text.Json.Utf8JsonWriter> , vous pouvez mettre en forme votre représentation personnalisée en <xref:System.String> , `ReadOnlySpan<Byte>` , `ReadOnlySpan<Char>` ou <xref:System.Text.Json.JsonEncodedText> , puis la passer à la <xref:System.Text.Json.Utf8JsonWriter.WriteStringValue%2A?displayProperty=nameWithType> méthode ou correspondante <xref:System.Text.Json.Utf8JsonWriter.WriteString%2A?displayProperty=nameWithType> .</span><span class="sxs-lookup"><span data-stu-id="aa3e2-144">If you want to write a custom <xref:System.DateTime> or <xref:System.DateTimeOffset> text representation with <xref:System.Text.Json.Utf8JsonWriter>, you can format your custom representation to a <xref:System.String>, `ReadOnlySpan<Byte>`, `ReadOnlySpan<Char>`, or <xref:System.Text.Json.JsonEncodedText>, then pass it to the corresponding <xref:System.Text.Json.Utf8JsonWriter.WriteStringValue%2A?displayProperty=nameWithType> or <xref:System.Text.Json.Utf8JsonWriter.WriteString%2A?displayProperty=nameWithType> method.</span></span>

<span data-ttu-id="aa3e2-145">L’exemple suivant montre comment créer un <xref:System.DateTime> format personnalisé avec <xref:System.DateTime.ToString(System.String,System.IFormatProvider)> , puis écrit avec la <xref:System.Text.Json.Utf8JsonWriter.WriteStringValue(System.String)> méthode :</span><span class="sxs-lookup"><span data-stu-id="aa3e2-145">The following example shows how a custom <xref:System.DateTime> format can be created with <xref:System.DateTime.ToString(System.String,System.IFormatProvider)>, then written with the <xref:System.Text.Json.Utf8JsonWriter.WriteStringValue(System.String)> method:</span></span>

[!code-csharp[example-custom-writing-with-utf8jsonwriter](~/samples/snippets/standard/datetime/json/csharp/custom-writing-with-utf8jsonwriter/Program.cs)]

### <a name="when-reading-with-xrefsystemtextjsonutf8jsonreader"></a><span data-ttu-id="aa3e2-146">Lors de la lecture avec <xref:System.Text.Json.Utf8JsonReader></span><span class="sxs-lookup"><span data-stu-id="aa3e2-146">When reading with <xref:System.Text.Json.Utf8JsonReader></span></span>

<span data-ttu-id="aa3e2-147">Si vous souhaitez lire une représentation personnalisée <xref:System.DateTime> ou <xref:System.DateTimeOffset> textuelle avec <xref:System.Text.Json.Utf8JsonReader> , vous pouvez obtenir la valeur du jeton JSON actuel en <xref:System.String> utilisant <xref:System.Text.Json.Utf8JsonReader.GetString> , puis analyser la valeur à l’aide d’une logique personnalisée.</span><span class="sxs-lookup"><span data-stu-id="aa3e2-147">If you want to read a custom <xref:System.DateTime> or <xref:System.DateTimeOffset> text representation with <xref:System.Text.Json.Utf8JsonReader>, you can get the value of the current JSON token as a <xref:System.String> using <xref:System.Text.Json.Utf8JsonReader.GetString>, then parse the value using custom logic.</span></span>

<span data-ttu-id="aa3e2-148">L’exemple suivant montre comment une <xref:System.DateTimeOffset> représentation textuelle personnalisée peut être récupérée à l’aide de <xref:System.Text.Json.Utf8JsonReader.GetString> , puis analysée à l’aide de <xref:System.DateTimeOffset.ParseExact(System.String,System.String,System.IFormatProvider)> :</span><span class="sxs-lookup"><span data-stu-id="aa3e2-148">The following example shows how a custom <xref:System.DateTimeOffset> text representation can be retrieved using <xref:System.Text.Json.Utf8JsonReader.GetString>, then parsed using <xref:System.DateTimeOffset.ParseExact(System.String,System.String,System.IFormatProvider)>:</span></span>

[!code-csharp[example-custom-reading-with-utf8jsonreader](~/samples/snippets/standard/datetime/json/csharp/custom-reading-with-utf8jsonreader/Program.cs)]

## <a name="the-extended-iso-8601-12019-profile-in-systemtextjson"></a><span data-ttu-id="aa3e2-149">Le profil ISO 8601-1:2019 étendu dans System.Text.Jssur</span><span class="sxs-lookup"><span data-stu-id="aa3e2-149">The extended ISO 8601-1:2019 profile in System.Text.Json</span></span>

### <a name="date-and-time-components"></a><span data-ttu-id="aa3e2-150">Composants de date et d’heure</span><span class="sxs-lookup"><span data-stu-id="aa3e2-150">Date and time components</span></span>

<span data-ttu-id="aa3e2-151">Le profil ISO 8601-1:2019 étendu implémenté dans <xref:System.Text.Json> définit les composants suivants pour les représentations de date et d’heure.</span><span class="sxs-lookup"><span data-stu-id="aa3e2-151">The extended ISO 8601-1:2019 profile implemented in <xref:System.Text.Json> defines the following components for date and time representations.</span></span> <span data-ttu-id="aa3e2-152">Ces composants sont utilisés pour définir différents niveaux de granularité pris en charge lors de l’analyse et de la mise en forme <xref:System.DateTime> et des <xref:System.DateTimeOffset> représentations.</span><span class="sxs-lookup"><span data-stu-id="aa3e2-152">These components are used to define various levels of granularity supported when parsing and formatting <xref:System.DateTime> and <xref:System.DateTimeOffset> representations.</span></span>

| <span data-ttu-id="aa3e2-153">Composant</span><span class="sxs-lookup"><span data-stu-id="aa3e2-153">Component</span></span>       | <span data-ttu-id="aa3e2-154">Format</span><span class="sxs-lookup"><span data-stu-id="aa3e2-154">Format</span></span>                      | <span data-ttu-id="aa3e2-155">Description</span><span class="sxs-lookup"><span data-stu-id="aa3e2-155">Description</span></span>                                                                     |
|-----------------|-----------------------------|---------------------------------------------------------------------------------|
| <span data-ttu-id="aa3e2-156">Year</span><span class="sxs-lookup"><span data-stu-id="aa3e2-156">Year</span></span>            | <span data-ttu-id="aa3e2-157">"yyyy"</span><span class="sxs-lookup"><span data-stu-id="aa3e2-157">"yyyy"</span></span>                      | <span data-ttu-id="aa3e2-158">0001-9999</span><span class="sxs-lookup"><span data-stu-id="aa3e2-158">0001-9999</span></span>                                                                       |
| <span data-ttu-id="aa3e2-159">Month (Mois)</span><span class="sxs-lookup"><span data-stu-id="aa3e2-159">Month</span></span>           | <span data-ttu-id="aa3e2-160">"MM"</span><span class="sxs-lookup"><span data-stu-id="aa3e2-160">"MM"</span></span>                        | <span data-ttu-id="aa3e2-161">01-12</span><span class="sxs-lookup"><span data-stu-id="aa3e2-161">01-12</span></span>                                                                           |
| <span data-ttu-id="aa3e2-162">Jour</span><span class="sxs-lookup"><span data-stu-id="aa3e2-162">Day</span></span>             | <span data-ttu-id="aa3e2-163">"dd"</span><span class="sxs-lookup"><span data-stu-id="aa3e2-163">"dd"</span></span>                        | <span data-ttu-id="aa3e2-164">01-28, 01-29, 01-30, 01-31 sur la base du mois/de l’année</span><span class="sxs-lookup"><span data-stu-id="aa3e2-164">01-28, 01-29, 01-30, 01-31 based on month/year</span></span>                                  |
| <span data-ttu-id="aa3e2-165">Heure</span><span class="sxs-lookup"><span data-stu-id="aa3e2-165">Hour</span></span>            | <span data-ttu-id="aa3e2-166">"HH"</span><span class="sxs-lookup"><span data-stu-id="aa3e2-166">"HH"</span></span>                        | <span data-ttu-id="aa3e2-167">00-23</span><span class="sxs-lookup"><span data-stu-id="aa3e2-167">00-23</span></span>                                                                           |
| <span data-ttu-id="aa3e2-168">Minute</span><span class="sxs-lookup"><span data-stu-id="aa3e2-168">Minute</span></span>          | <span data-ttu-id="aa3e2-169">"mm"</span><span class="sxs-lookup"><span data-stu-id="aa3e2-169">"mm"</span></span>                        | <span data-ttu-id="aa3e2-170">00-59</span><span class="sxs-lookup"><span data-stu-id="aa3e2-170">00-59</span></span>                                                                           |
| <span data-ttu-id="aa3e2-171">Seconde</span><span class="sxs-lookup"><span data-stu-id="aa3e2-171">Second</span></span>          | <span data-ttu-id="aa3e2-172">"ss"</span><span class="sxs-lookup"><span data-stu-id="aa3e2-172">"ss"</span></span>                        | <span data-ttu-id="aa3e2-173">00-59</span><span class="sxs-lookup"><span data-stu-id="aa3e2-173">00-59</span></span>                                                                           |
| <span data-ttu-id="aa3e2-174">Seconde fraction</span><span class="sxs-lookup"><span data-stu-id="aa3e2-174">Second fraction</span></span> | <span data-ttu-id="aa3e2-175">"FFFFFFF"</span><span class="sxs-lookup"><span data-stu-id="aa3e2-175">"FFFFFFF"</span></span>                   | <span data-ttu-id="aa3e2-176">Au minimum un chiffre, 16 chiffres au maximum</span><span class="sxs-lookup"><span data-stu-id="aa3e2-176">Minimum of one digit, maximum of 16 digits</span></span>                                      |
| <span data-ttu-id="aa3e2-177">Décalage horaire</span><span class="sxs-lookup"><span data-stu-id="aa3e2-177">Time offset</span></span>     | <span data-ttu-id="aa3e2-178">"K"</span><span class="sxs-lookup"><span data-stu-id="aa3e2-178">"K"</span></span>                         | <span data-ttu-id="aa3e2-179">« Z » ou « ( » + « / »-« ) HH » : « mm »</span><span class="sxs-lookup"><span data-stu-id="aa3e2-179">Either "Z" or "('+'/'-')HH':'mm"</span></span>                                                |
| <span data-ttu-id="aa3e2-180">Temps partiel</span><span class="sxs-lookup"><span data-stu-id="aa3e2-180">Partial time</span></span>    | <span data-ttu-id="aa3e2-181">"HH" : 'mm' : 'ss [FFFFFFF] "</span><span class="sxs-lookup"><span data-stu-id="aa3e2-181">"HH':'mm':'ss[FFFFFFF]"</span></span>     | <span data-ttu-id="aa3e2-182">Heure sans informations de décalage UTC</span><span class="sxs-lookup"><span data-stu-id="aa3e2-182">Time without UTC offset information</span></span>                                             |
| <span data-ttu-id="aa3e2-183">Date complète</span><span class="sxs-lookup"><span data-stu-id="aa3e2-183">Full date</span></span>       | <span data-ttu-id="aa3e2-184">« chaîne-personnalisée "YYYY'-'MM'-'DD’T’HH-yyyy'-'mm'-'dd »</span><span class="sxs-lookup"><span data-stu-id="aa3e2-184">"yyyy'-'MM'-'dd"</span></span>            | <span data-ttu-id="aa3e2-185">Date du calendrier</span><span class="sxs-lookup"><span data-stu-id="aa3e2-185">Calendar date</span></span>                                                                   |
| <span data-ttu-id="aa3e2-186">Plein temps</span><span class="sxs-lookup"><span data-stu-id="aa3e2-186">Full time</span></span>       | <span data-ttu-id="aa3e2-187">« Time’K partiel »</span><span class="sxs-lookup"><span data-stu-id="aa3e2-187">"'Partial time'K"</span></span>           | <span data-ttu-id="aa3e2-188">Heure UTC du jour ou heure locale du jour avec le décalage horaire entre l’heure locale et l’heure UTC</span><span class="sxs-lookup"><span data-stu-id="aa3e2-188">UTC of day or Local time of day with the time offset between local time and UTC</span></span> |
| <span data-ttu-id="aa3e2-189">Date et heure</span><span class="sxs-lookup"><span data-stu-id="aa3e2-189">Date time</span></span>       | <span data-ttu-id="aa3e2-190">"'Date complète’t' « heure complète' »</span><span class="sxs-lookup"><span data-stu-id="aa3e2-190">"'Full date''T''Full time'"</span></span> | <span data-ttu-id="aa3e2-191">Date et heure calendaires de la journée, par exemple 2019-07-26T16:59:57-05:00</span><span class="sxs-lookup"><span data-stu-id="aa3e2-191">Calendar date and time of day, e.g. 2019-07-26T16:59:57-05:00</span></span>                   |

### <a name="support-for-parsing"></a><span data-ttu-id="aa3e2-192">Prise en charge de l’analyse</span><span class="sxs-lookup"><span data-stu-id="aa3e2-192">Support for parsing</span></span>

<span data-ttu-id="aa3e2-193">Les niveaux de granularité suivants sont définis pour l’analyse :</span><span class="sxs-lookup"><span data-stu-id="aa3e2-193">The following levels of granularity are defined for parsing:</span></span>

1. <span data-ttu-id="aa3e2-194">'Date complète'</span><span class="sxs-lookup"><span data-stu-id="aa3e2-194">'Full date'</span></span>
    1. <span data-ttu-id="aa3e2-195">« chaîne-personnalisée "YYYY'-'MM'-'DD’T’HH-yyyy'-'mm'-'dd »</span><span class="sxs-lookup"><span data-stu-id="aa3e2-195">"yyyy'-'MM'-'dd"</span></span>

2. <span data-ttu-id="aa3e2-196">"'Date complète’t' 'heure' ' : ' 'minute'</span><span class="sxs-lookup"><span data-stu-id="aa3e2-196">"'Full date''T''Hour'':''Minute'"</span></span>
    1. <span data-ttu-id="aa3e2-197">« chaîne-personnalisée "YYYY'-'MM'-'DD’T’HH-Yyyy'-'mm'-'dd’t’hh » : « mm »</span><span class="sxs-lookup"><span data-stu-id="aa3e2-197">"yyyy'-'MM'-'dd'T'HH':'mm"</span></span>

3. <span data-ttu-id="aa3e2-198">"'Date complète’t' 'temps partiel'"</span><span class="sxs-lookup"><span data-stu-id="aa3e2-198">"'Full date''T''Partial time'"</span></span>
    1. <span data-ttu-id="aa3e2-199">"chaîne-personnalisée" YYYY'-'MM'-'DD’T’HH-Yyyy'-'mm'-'dd’t’hh' : 'mm' : 'SS' ([spécificateur de format pouvant être trié ("s")](../base-types/standard-date-and-time-format-strings.md#the-sortable-s-format-specifier))</span><span class="sxs-lookup"><span data-stu-id="aa3e2-199">"yyyy'-'MM'-'dd'T'HH':'mm':'ss" ([The Sortable ("s") Format Specifier](../base-types/standard-date-and-time-format-strings.md#the-sortable-s-format-specifier))</span></span>
    2. <span data-ttu-id="aa3e2-200">"chaîne-personnalisée" YYYY'-'MM'-'DD’T’HH-Yyyy'-'mm'-'dd’t’hh' : 'mm' : 'SS'. ' FFFFFFF</span><span class="sxs-lookup"><span data-stu-id="aa3e2-200">"yyyy'-'MM'-'dd'T'HH':'mm':'ss'.'FFFFFFF"</span></span>

4. <span data-ttu-id="aa3e2-201">"'Date complète’t' 'heure heure' ' : ' 'minute' 'décalage horaire'"</span><span class="sxs-lookup"><span data-stu-id="aa3e2-201">"'Full date''T''Time hour'':''Minute''Time offset'"</span></span>
    1. <span data-ttu-id="aa3e2-202">« chaîne-personnalisée "YYYY'-'MM'-'DD’T’HH-Yyyy'-'mm'-'dd’t’hh » : « mmZ »</span><span class="sxs-lookup"><span data-stu-id="aa3e2-202">"yyyy'-'MM'-'dd'T'HH':'mmZ"</span></span>
    2. <span data-ttu-id="aa3e2-203">« chaîne-personnalisée "YYYY'-'MM'-'DD’T’HH-Yyyy'-'mm'-'dd’t’hh » : « mm (' + '/'-') HH » : « mm »</span><span class="sxs-lookup"><span data-stu-id="aa3e2-203">"yyyy'-'MM'-'dd'T'HH':'mm('+'/'-')HH':'mm"</span></span>

5. <span data-ttu-id="aa3e2-204">« Date et heure »</span><span class="sxs-lookup"><span data-stu-id="aa3e2-204">'Date time'</span></span>
    1. <span data-ttu-id="aa3e2-205">"chaîne-personnalisée" YYYY'-'MM'-'DD’T’HH-Yyyy'-'mm'-'dd’t’hh' : 'mm' : 'ssZ'</span><span class="sxs-lookup"><span data-stu-id="aa3e2-205">"yyyy'-'MM'-'dd'T'HH':'mm':'ssZ"</span></span>
    2. <span data-ttu-id="aa3e2-206">"chaîne-personnalisée" YYYY'-'MM'-'DD’T’HH-Yyyy'-'mm'-'dd’t’hh' : 'mm' : 'SS'. ' FFFFFFFZ"</span><span class="sxs-lookup"><span data-stu-id="aa3e2-206">"yyyy'-'MM'-'dd'T'HH':'mm':'ss'.'FFFFFFFZ"</span></span>
    3. <span data-ttu-id="aa3e2-207">"chaîne-personnalisée" YYYY'-'MM'-'DD’T’HH-Yyyy'-'mm'-'dd’t’hh' : 'mm' : 'SS (' + '/'-') HH' : 'mm'</span><span class="sxs-lookup"><span data-stu-id="aa3e2-207">"yyyy'-'MM'-'dd'T'HH':'mm':'ss('+'/'-')HH':'mm"</span></span>
    4. <span data-ttu-id="aa3e2-208">"chaîne-personnalisée" YYYY'-'MM'-'DD’T’HH-Yyyy'-'mm'-'dd’t’hh' : 'mm' : 'SS'. ' FFFFFFF (' + '/'-') HH' : 'mm'</span><span class="sxs-lookup"><span data-stu-id="aa3e2-208">"yyyy'-'MM'-'dd'T'HH':'mm':'ss'.'FFFFFFF('+'/'-')HH':'mm"</span></span>

    <span data-ttu-id="aa3e2-209">Ce niveau de granularité est conforme à la norme [RFC 3339](https://tools.ietf.org/html/rfc3339#section-5.6), un profil largement adopté de la norme ISO 8601, utilisé pour l’échange d’informations de date et d’heure.</span><span class="sxs-lookup"><span data-stu-id="aa3e2-209">This level of granularity is compliant with [RFC 3339](https://tools.ietf.org/html/rfc3339#section-5.6), a widely adopted profile of ISO 8601 used for interchanging date and time information.</span></span> <span data-ttu-id="aa3e2-210">Toutefois, il existe quelques restrictions dans le System.Text.Jslors de l’implémentation.</span><span class="sxs-lookup"><span data-stu-id="aa3e2-210">However, there are a few restrictions in the System.Text.Json implementation.</span></span>

    - <span data-ttu-id="aa3e2-211">La RFC 3339 ne spécifie pas un nombre maximal de chiffres de fractions de seconde, mais spécifie qu’au moins un chiffre doit suivre le point, si une section de fractions de seconde est présente.</span><span class="sxs-lookup"><span data-stu-id="aa3e2-211">RFC 3339 does not specify a maximum number of fractional-second digits, but specifies that at least one digit must follow the period, if a fractional-second section is present.</span></span> <span data-ttu-id="aa3e2-212">L’implémentation dans System.Text.Jssur autorise jusqu’à 16 chiffres (pour prendre en charge l’interopérabilité avec d’autres langages et infrastructures de programmation), mais analyse uniquement les sept premières.</span><span class="sxs-lookup"><span data-stu-id="aa3e2-212">The implementation in System.Text.Json allows up to 16 digits (to support interop with other programming languages and frameworks), but parses only the first seven.</span></span> <span data-ttu-id="aa3e2-213">Une <xref:System.Text.Json.JsonException> exception est levée s’il y a plus de 16 chiffres de fractions de seconde lors de la lecture `DateTime` des `DateTimeOffset` instances et.</span><span class="sxs-lookup"><span data-stu-id="aa3e2-213">A <xref:System.Text.Json.JsonException> will be thrown if there are more than 16 fractional second digits when reading `DateTime` and `DateTimeOffset` instances.</span></span>
    - <span data-ttu-id="aa3e2-214">La RFC 3339 autorise les caractères « t » et « z » respectivement à « t » ou « z », mais permet aux applications de limiter la prise en charge uniquement aux variantes majuscules.</span><span class="sxs-lookup"><span data-stu-id="aa3e2-214">RFC 3339 allows the "T" and "Z" characters to be "t" or "z" respectively, but allows applications to limit support to just the upper-case variants.</span></span> <span data-ttu-id="aa3e2-215">L’implémentation dans System.Text.Jssur exige qu’elles soient « T » et « Z ».</span><span class="sxs-lookup"><span data-stu-id="aa3e2-215">The implementation in System.Text.Json requires them to be "T" and "Z".</span></span> <span data-ttu-id="aa3e2-216">Une <xref:System.Text.Json.JsonException> est levée si les charges utiles d’entrée contiennent « t » ou « z » lors `DateTime` de la lecture et des `DateTimeOffset` instances.</span><span class="sxs-lookup"><span data-stu-id="aa3e2-216">A <xref:System.Text.Json.JsonException> will be thrown if input payloads contain "t" or "z" when reading `DateTime` and `DateTimeOffset` instances.</span></span>
    - <span data-ttu-id="aa3e2-217">RFC 3339 spécifie que les sections de date et d’heure sont séparées par « T », mais permet aux applications de les séparer par un espace («») à la place.</span><span class="sxs-lookup"><span data-stu-id="aa3e2-217">RFC 3339 specifies that the date and time sections are separated by "T", but allows applications to separate them by a space (" ") instead.</span></span> <span data-ttu-id="aa3e2-218">System.Text.Jssur requiert que les sections date et heure soient séparées par « T ».</span><span class="sxs-lookup"><span data-stu-id="aa3e2-218">System.Text.Json requires date and time sections to be separated with "T".</span></span> <span data-ttu-id="aa3e2-219">Une <xref:System.Text.Json.JsonException> est levée si les charges utiles d’entrée contiennent un espace ("") lors de la lecture `DateTime` et des `DateTimeOffset` instances.</span><span class="sxs-lookup"><span data-stu-id="aa3e2-219">A <xref:System.Text.Json.JsonException> will be thrown if input payloads contain a space (" ") when reading `DateTime` and `DateTimeOffset` instances.</span></span>

<span data-ttu-id="aa3e2-220">S’il existe des fractions décimales pour les secondes, il doit y avoir au moins un chiffre ; `2019-07-26T00:00:00.` n’est pas autorisé.</span><span class="sxs-lookup"><span data-stu-id="aa3e2-220">If there are decimal fractions for seconds, there must be at least one digit; `2019-07-26T00:00:00.` is not allowed.</span></span>
<span data-ttu-id="aa3e2-221">Alors que jusqu’à 16 chiffres fractionnaires sont autorisés, seuls les sept premiers sont analysés.</span><span class="sxs-lookup"><span data-stu-id="aa3e2-221">While up to 16 fractional digits are allowed, only the first seven are parsed.</span></span> <span data-ttu-id="aa3e2-222">Tout au-delà de ce qui est considéré comme un zéro.</span><span class="sxs-lookup"><span data-stu-id="aa3e2-222">Anything beyond that is considered a zero.</span></span>
<span data-ttu-id="aa3e2-223">Par exemple, `2019-07-26T00:00:00.1234567890` sera analysé comme s’il s’agissait de `2019-07-26T00:00:00.1234567` .</span><span class="sxs-lookup"><span data-stu-id="aa3e2-223">For example, `2019-07-26T00:00:00.1234567890` will be parsed as if it is `2019-07-26T00:00:00.1234567`.</span></span>
<span data-ttu-id="aa3e2-224">Cela permet de rester compatible avec l' <xref:System.DateTime> implémentation, qui est limitée à cette résolution.</span><span class="sxs-lookup"><span data-stu-id="aa3e2-224">This is to stay compatible with the <xref:System.DateTime> implementation, which is limited to this resolution.</span></span>

<span data-ttu-id="aa3e2-225">Les secondes bissextiles ne sont pas prises en charge.</span><span class="sxs-lookup"><span data-stu-id="aa3e2-225">Leap seconds are not supported.</span></span>

### <a name="support-for-formatting"></a><span data-ttu-id="aa3e2-226">Prise en charge de la mise en forme</span><span class="sxs-lookup"><span data-stu-id="aa3e2-226">Support for formatting</span></span>

<span data-ttu-id="aa3e2-227">Les niveaux de granularité suivants sont définis pour la mise en forme :</span><span class="sxs-lookup"><span data-stu-id="aa3e2-227">The following levels of granularity are defined for formatting:</span></span>

1. <span data-ttu-id="aa3e2-228">"'Date complète’t' 'temps partiel'"</span><span class="sxs-lookup"><span data-stu-id="aa3e2-228">"'Full date''T''Partial time'"</span></span>
    1. <span data-ttu-id="aa3e2-229">"chaîne-personnalisée" YYYY'-'MM'-'DD’T’HH-Yyyy'-'mm'-'dd’t’hh' : 'mm' : 'SS' ([spécificateur de format pouvant être trié ("s")](../base-types/standard-date-and-time-format-strings.md#the-sortable-s-format-specifier))</span><span class="sxs-lookup"><span data-stu-id="aa3e2-229">"yyyy'-'MM'-'dd'T'HH':'mm':'ss"  ([The Sortable ("s") Format Specifier](../base-types/standard-date-and-time-format-strings.md#the-sortable-s-format-specifier))</span></span>

        <span data-ttu-id="aa3e2-230">Utilisé pour mettre en forme une valeur <xref:System.DateTime> sans fractions de seconde et sans informations de décalage.</span><span class="sxs-lookup"><span data-stu-id="aa3e2-230">Used to format a <xref:System.DateTime> without fractional seconds and without offset information.</span></span>

    2. <span data-ttu-id="aa3e2-231">"chaîne-personnalisée" YYYY'-'MM'-'DD’T’HH-Yyyy'-'mm'-'dd’t’hh' : 'mm' : 'SS'. ' FFFFFFF</span><span class="sxs-lookup"><span data-stu-id="aa3e2-231">"yyyy'-'MM'-'dd'T'HH':'mm':'ss'.'FFFFFFF"</span></span>

        <span data-ttu-id="aa3e2-232">Utilisé pour mettre en forme un <xref:System.DateTime> avec des fractions de seconde mais sans informations de décalage.</span><span class="sxs-lookup"><span data-stu-id="aa3e2-232">Used to format a <xref:System.DateTime> with fractional seconds but without offset information.</span></span>

2. <span data-ttu-id="aa3e2-233">« Date et heure »</span><span class="sxs-lookup"><span data-stu-id="aa3e2-233">'Date time'</span></span>
    1. <span data-ttu-id="aa3e2-234">"chaîne-personnalisée" YYYY'-'MM'-'DD’T’HH-Yyyy'-'mm'-'dd’t’hh' : 'mm' : 'ssZ'</span><span class="sxs-lookup"><span data-stu-id="aa3e2-234">"yyyy'-'MM'-'dd'T'HH':'mm':'ssZ"</span></span>

        <span data-ttu-id="aa3e2-235">Utilisé pour mettre en forme un <xref:System.DateTime> sans fractions de seconde, mais avec un décalage UTC.</span><span class="sxs-lookup"><span data-stu-id="aa3e2-235">Used to format a <xref:System.DateTime> without fractional seconds but with a UTC offset.</span></span>

    2. <span data-ttu-id="aa3e2-236">"chaîne-personnalisée" YYYY'-'MM'-'DD’T’HH-Yyyy'-'mm'-'dd’t’hh' : 'mm' : 'SS'. ' FFFFFFFZ"</span><span class="sxs-lookup"><span data-stu-id="aa3e2-236">"yyyy'-'MM'-'dd'T'HH':'mm':'ss'.'FFFFFFFZ"</span></span>

        <span data-ttu-id="aa3e2-237">Utilisé pour mettre en forme un <xref:System.DateTime> avec des fractions de seconde et avec un décalage UTC.</span><span class="sxs-lookup"><span data-stu-id="aa3e2-237">Used to format a <xref:System.DateTime> with fractional seconds and with a UTC offset.</span></span>

    3. <span data-ttu-id="aa3e2-238">"chaîne-personnalisée" YYYY'-'MM'-'DD’T’HH-Yyyy'-'mm'-'dd’t’hh' : 'mm' : 'SS (' + '/'-') HH' : 'mm'</span><span class="sxs-lookup"><span data-stu-id="aa3e2-238">"yyyy'-'MM'-'dd'T'HH':'mm':'ss('+'/'-')HH':'mm"</span></span>

        <span data-ttu-id="aa3e2-239">Utilisé pour mettre en forme un <xref:System.DateTime> ou <xref:System.DateTimeOffset> sans fractions de seconde, mais avec un décalage local.</span><span class="sxs-lookup"><span data-stu-id="aa3e2-239">Used to format a <xref:System.DateTime> or <xref:System.DateTimeOffset> without fractional seconds but with a local offset.</span></span>

    4. <span data-ttu-id="aa3e2-240">"chaîne-personnalisée" YYYY'-'MM'-'DD’T’HH-Yyyy'-'mm'-'dd’t’hh' : 'mm' : 'SS'. ' FFFFFFF (' + '/'-') HH' : 'mm'</span><span class="sxs-lookup"><span data-stu-id="aa3e2-240">"yyyy'-'MM'-'dd'T'HH':'mm':'ss'.'FFFFFFF('+'/'-')HH':'mm"</span></span>

        <span data-ttu-id="aa3e2-241">Utilisé pour mettre en forme un <xref:System.DateTime> ou <xref:System.DateTimeOffset> avec des fractions de seconde et avec un décalage local.</span><span class="sxs-lookup"><span data-stu-id="aa3e2-241">Used to format a <xref:System.DateTime> or <xref:System.DateTimeOffset> with fractional seconds and with a local offset.</span></span>

    <span data-ttu-id="aa3e2-242">Ce niveau de granularité est conforme à la norme [RFC 3339](https://tools.ietf.org/html/rfc3339#section-5.6).</span><span class="sxs-lookup"><span data-stu-id="aa3e2-242">This level of granularity is compliant with [RFC 3339](https://tools.ietf.org/html/rfc3339#section-5.6).</span></span>

<span data-ttu-id="aa3e2-243">Si la représentation du [format aller-retour](../base-types/standard-date-and-time-format-strings.md#the-round-trip-o-o-format-specifier) d' <xref:System.DateTime> une <xref:System.DateTimeOffset> instance ou a des zéros de fin dans ses fractions de seconde, <xref:System.Text.Json.JsonSerializer> et <xref:System.Text.Json.Utf8JsonWriter> mettra en forme une représentation de l’instance sans zéros de fin.</span><span class="sxs-lookup"><span data-stu-id="aa3e2-243">If the [round-trip format](../base-types/standard-date-and-time-format-strings.md#the-round-trip-o-o-format-specifier) representation of a <xref:System.DateTime> or <xref:System.DateTimeOffset> instance has trailing zeros in its fractional seconds, then <xref:System.Text.Json.JsonSerializer> and <xref:System.Text.Json.Utf8JsonWriter> will format a representation of the instance without trailing zeros.</span></span>
<span data-ttu-id="aa3e2-244">Par exemple, une <xref:System.DateTime> instance dont la représentation [de format aller-retour](../base-types/standard-date-and-time-format-strings.md#the-round-trip-o-o-format-specifier) est `2019-04-24T14:50:17.1010000Z` , sera mise en forme en tant que `2019-04-24T14:50:17.101Z` par <xref:System.Text.Json.JsonSerializer> et <xref:System.Text.Json.Utf8JsonWriter> .</span><span class="sxs-lookup"><span data-stu-id="aa3e2-244">For example, a <xref:System.DateTime> instance whose [round-trip format](../base-types/standard-date-and-time-format-strings.md#the-round-trip-o-o-format-specifier) representation is `2019-04-24T14:50:17.1010000Z`, will be formatted as `2019-04-24T14:50:17.101Z` by <xref:System.Text.Json.JsonSerializer> and <xref:System.Text.Json.Utf8JsonWriter>.</span></span>

<span data-ttu-id="aa3e2-245">Si la représentation du [format aller-retour](../base-types/standard-date-and-time-format-strings.md#the-round-trip-o-o-format-specifier) d’une <xref:System.DateTime> instance ou contient uniquement des <xref:System.DateTimeOffset> zéros dans ses fractions de seconde, <xref:System.Text.Json.JsonSerializer> et met en <xref:System.Text.Json.Utf8JsonWriter> forme une représentation de l’instance sans les fractions de seconde.</span><span class="sxs-lookup"><span data-stu-id="aa3e2-245">If the [round-trip format](../base-types/standard-date-and-time-format-strings.md#the-round-trip-o-o-format-specifier) representation of a <xref:System.DateTime> or <xref:System.DateTimeOffset> instance has all zeros in its fractional seconds, then <xref:System.Text.Json.JsonSerializer> and <xref:System.Text.Json.Utf8JsonWriter> will format a representation of the instance without fractional seconds.</span></span>
<span data-ttu-id="aa3e2-246">Par exemple, une <xref:System.DateTime> instance dont la représentation [de format aller-retour](../base-types/standard-date-and-time-format-strings.md#the-round-trip-o-o-format-specifier) est `2019-04-24T14:50:17.0000000+02:00` , sera mise en forme en tant que `2019-04-24T14:50:17+02:00` par <xref:System.Text.Json.JsonSerializer> et <xref:System.Text.Json.Utf8JsonWriter> .</span><span class="sxs-lookup"><span data-stu-id="aa3e2-246">For example, a <xref:System.DateTime> instance whose [round-trip format](../base-types/standard-date-and-time-format-strings.md#the-round-trip-o-o-format-specifier) representation is `2019-04-24T14:50:17.0000000+02:00`, will be formatted as `2019-04-24T14:50:17+02:00` by <xref:System.Text.Json.JsonSerializer> and <xref:System.Text.Json.Utf8JsonWriter>.</span></span>

<span data-ttu-id="aa3e2-247">La troncation des zéros dans les chiffres de fractions de seconde permet d’écrire la plus petite sortie nécessaire pour conserver les informations sur un aller-retour.</span><span class="sxs-lookup"><span data-stu-id="aa3e2-247">Truncating zeros in fractional-second digits allows the smallest output needed to preserve information on a round trip to be written.</span></span>

<span data-ttu-id="aa3e2-248">Un maximum de 7 chiffres de fractions de seconde sont écrits.</span><span class="sxs-lookup"><span data-stu-id="aa3e2-248">A maximum of 7 fractional-second digits are written.</span></span> <span data-ttu-id="aa3e2-249">Cela s’aligne avec l' <xref:System.DateTime> implémentation, qui est limitée à cette résolution.</span><span class="sxs-lookup"><span data-stu-id="aa3e2-249">This aligns with the <xref:System.DateTime> implementation, which is limited to this resolution.</span></span>
