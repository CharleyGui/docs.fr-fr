---
title: Conversion d’heures entre fuseaux horaires
ms.date: 04/10/2017
ms.technology: dotnet-standard
dev_langs:
- csharp
- vb
helpviewer_keywords:
- times [.NET Framework], converting
- time zones [.NET Framework], conversions
- UTC times, converting
- converting times
- local time conversions
ms.assetid: a51e1a3b-c983-4320-b31a-1f9fa3cf824a
ms.openlocfilehash: fbb59dbe364763209f44a4e2241d1d5275036c40
ms.sourcegitcommit: 00aa62e2f469c2272a457b04e66b4cc3c97a800b
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 02/28/2020
ms.locfileid: "78156021"
---
# <a name="converting-times-between-time-zones"></a><span data-ttu-id="711e1-102">Conversion d’heures entre fuseaux horaires</span><span class="sxs-lookup"><span data-stu-id="711e1-102">Converting times between time zones</span></span>

<span data-ttu-id="711e1-103">Il devient de plus en plus important pour une application qui fonctionne avec des dates et des heures de gérer les différences entre les fuseaux horaires.</span><span class="sxs-lookup"><span data-stu-id="711e1-103">It is becoming increasingly important for any application that works with dates and times to handle differences between time zones.</span></span> <span data-ttu-id="711e1-104">Une application ne peut plus supposer que toutes les heures peuvent être exprimées dans l’heure locale, qui est l’heure disponible à partir de la structure <xref:System.DateTime>.</span><span class="sxs-lookup"><span data-stu-id="711e1-104">An application can no longer assume that all times can be expressed in the local time, which is the time available from the <xref:System.DateTime> structure.</span></span> <span data-ttu-id="711e1-105">Par exemple, une page web qui affiche l’heure actuelle dans la partie Est des États-Unis ne sera pas crédible pour un client d’Asie orientale.</span><span class="sxs-lookup"><span data-stu-id="711e1-105">For example, a Web page that displays the current time in the eastern part of the United States will lack credibility to a customer in eastern Asia.</span></span> <span data-ttu-id="711e1-106">Cette rubrique explique comment convertir des heures d’un fuseau horaire vers un autre, et comment convertir des valeurs de <xref:System.DateTimeOffset> qui ont une prise en forme limitée des fuseaux horaires.</span><span class="sxs-lookup"><span data-stu-id="711e1-106">This topic explains how to convert times from one time zone to another, as well as how to convert <xref:System.DateTimeOffset> values that have limited time zone awareness.</span></span>

## <a name="converting-to-coordinated-universal-time"></a><span data-ttu-id="711e1-107">Conversion en heure UTC</span><span class="sxs-lookup"><span data-stu-id="711e1-107">Converting to Coordinated Universal Time</span></span>

<span data-ttu-id="711e1-108">Le temps universel coordonné (UTC) est une norme d’heure atomique de haute précision.</span><span class="sxs-lookup"><span data-stu-id="711e1-108">Coordinated Universal Time (UTC) is a high-precision, atomic time standard.</span></span> <span data-ttu-id="711e1-109">Les fuseaux horaires du monde sont exprimés comme décalages positifs ou négatifs par rapport à l’heure UTC.</span><span class="sxs-lookup"><span data-stu-id="711e1-109">The world’s time zones are expressed as positive or negative offsets from UTC.</span></span> <span data-ttu-id="711e1-110">Par conséquent, l’heure UTC fournit une sorte d’heure neutre du point de vue des fuseaux horaires.</span><span class="sxs-lookup"><span data-stu-id="711e1-110">Thus, UTC provides a kind of time-zone free or time-zone neutral time.</span></span> <span data-ttu-id="711e1-111">L’utilisation de l’heure UTC est recommandée lorsque la portabilité de la date et de l’heure entre les ordinateurs est importante.</span><span class="sxs-lookup"><span data-stu-id="711e1-111">The use of UTC time is recommended when a date and time's portability across computers is important.</span></span> <span data-ttu-id="711e1-112">(Pour plus d’informations et pour connaître les meilleures pratiques utilisant des dates et des heures, consultez [codage des meilleures pratiques à l’aide de DateTime dans le .NET Framework](https://docs.microsoft.com/previous-versions/dotnet/articles/ms973825(v=msdn.10)).) La conversion de fuseaux horaires individuels en heure UTC facilite les comparaisons temporelles.</span><span class="sxs-lookup"><span data-stu-id="711e1-112">(For details and other best practices using dates and times, see [Coding best practices using DateTime in the .NET Framework](https://docs.microsoft.com/previous-versions/dotnet/articles/ms973825(v=msdn.10)).) Converting individual time zones to UTC makes time comparisons easy.</span></span>

> [!NOTE]
> <span data-ttu-id="711e1-113">Vous pouvez également sérialiser une structure <xref:System.DateTimeOffset> pour représenter de façon non ambiguë un point unique dans le temps.</span><span class="sxs-lookup"><span data-stu-id="711e1-113">You can also serialize a <xref:System.DateTimeOffset> structure to unambiguously represent a single point in time.</span></span> <span data-ttu-id="711e1-114">Étant donné que les objets <xref:System.DateTimeOffset> stockent une valeur de date et d’heure avec son décalage par rapport à l’heure UTC, ils représentent toujours un point particulier dans le temps par rapport à l’heure UTC.</span><span class="sxs-lookup"><span data-stu-id="711e1-114">Because <xref:System.DateTimeOffset> objects store a date and time value along with its offset from UTC, they always represent a particular point in time in relationship to UTC.</span></span>

<span data-ttu-id="711e1-115">Le moyen le plus simple de convertir une heure en heure UTC consiste à appeler la méthode de <xref:System.TimeZoneInfo.ConvertTimeToUtc%28System.DateTime%29?displayProperty=nameWithType> `static` (`Shared` dans Visual Basic).</span><span class="sxs-lookup"><span data-stu-id="711e1-115">The easiest way to convert a time to UTC is to call the `static` (`Shared` in Visual Basic) <xref:System.TimeZoneInfo.ConvertTimeToUtc%28System.DateTime%29?displayProperty=nameWithType> method.</span></span> <span data-ttu-id="711e1-116">La conversion exacte effectuée par la méthode dépend de la valeur de la propriété <xref:System.DateTime.Kind%2A> du paramètre `dateTime`, comme le montre le tableau suivant.</span><span class="sxs-lookup"><span data-stu-id="711e1-116">The exact conversion performed by the method depends on the value of the `dateTime` parameter's <xref:System.DateTime.Kind%2A> property, as the following table shows.</span></span>

| `DateTime.Kind`            | <span data-ttu-id="711e1-117">Conversion</span><span class="sxs-lookup"><span data-stu-id="711e1-117">Conversion</span></span>                                                                     |
| -------------------------- | ------------------------------------------------------------------------------ |
| `DateTimeKind.Local`       | <span data-ttu-id="711e1-118">Convertit l’heure locale en heure UTC.</span><span class="sxs-lookup"><span data-stu-id="711e1-118">Converts local time to UTC.</span></span>                                                    |
| `DateTimeKind.Unspecified` | <span data-ttu-id="711e1-119">Suppose que le paramètre `dateTime` est l’heure locale et convertit l’heure locale en heure UTC.</span><span class="sxs-lookup"><span data-stu-id="711e1-119">Assumes the `dateTime` parameter is local time and converts local time to UTC.</span></span> |
| `DateTimeKind.Utc`         | <span data-ttu-id="711e1-120">Retourne le paramètre `dateTime` inchangé.</span><span class="sxs-lookup"><span data-stu-id="711e1-120">Returns the `dateTime` parameter unchanged.</span></span>                                    |

<span data-ttu-id="711e1-121">Le code suivant convertit l’heure locale actuelle en heure UTC et affiche le résultat dans la console.</span><span class="sxs-lookup"><span data-stu-id="711e1-121">The following code converts the current local time to UTC and displays the result to the console.</span></span>

[!code-csharp[System.TimeZone2.Concepts#6](../../../samples/snippets/csharp/VS_Snippets_CLR_System/system.TimeZone2.Concepts/CS/TimeZone2Concepts.cs#6)]
[!code-vb[System.TimeZone2.Concepts#6](../../../samples/snippets/visualbasic/VS_Snippets_CLR_System/system.TimeZone2.Concepts/VB/TimeZone2Concepts.vb#6)]

<span data-ttu-id="711e1-122">Si la valeur de date et d’heure ne représente ni l’heure locale ni l’heure UTC, la méthode <xref:System.DateTime.ToUniversalTime%2A> retournera probablement un résultat erroné.</span><span class="sxs-lookup"><span data-stu-id="711e1-122">If the date and time value does not represent either the local time or UTC, the <xref:System.DateTime.ToUniversalTime%2A> method will likely return an erroneous result.</span></span> <span data-ttu-id="711e1-123">Toutefois, vous pouvez utiliser la méthode <xref:System.TimeZoneInfo.ConvertTimeToUtc%2A?displayProperty=nameWithType> pour convertir la date et l’heure d’un fuseau horaire spécifié.</span><span class="sxs-lookup"><span data-stu-id="711e1-123">However, you can use the <xref:System.TimeZoneInfo.ConvertTimeToUtc%2A?displayProperty=nameWithType> method to convert the date and time from a specified time zone.</span></span> <span data-ttu-id="711e1-124">(Pour plus d’informations sur la récupération d’un objet <xref:System.TimeZoneInfo> qui représente le fuseau horaire de destination, consultez [recherche des fuseaux horaires définis sur un système local](../../../docs/standard/datetime/finding-the-time-zones-on-local-system.md).) Le code suivant utilise la méthode <xref:System.TimeZoneInfo.ConvertTimeToUtc%2A?displayProperty=nameWithType> pour convertir l’heure de l’est en heure UTC.</span><span class="sxs-lookup"><span data-stu-id="711e1-124">(For details on retrieving a <xref:System.TimeZoneInfo> object that represents the destination time zone, see [Finding the time zones defined on a local system](../../../docs/standard/datetime/finding-the-time-zones-on-local-system.md).) The following code uses the <xref:System.TimeZoneInfo.ConvertTimeToUtc%2A?displayProperty=nameWithType> method to convert Eastern Standard Time to UTC.</span></span>

[!code-csharp[System.TimeZone2.Concepts#7](../../../samples/snippets/csharp/VS_Snippets_CLR_System/system.TimeZone2.Concepts/CS/TimeZone2Concepts.cs#7)]
[!code-vb[System.TimeZone2.Concepts#7](../../../samples/snippets/visualbasic/VS_Snippets_CLR_System/system.TimeZone2.Concepts/VB/TimeZone2Concepts.vb#7)]

<span data-ttu-id="711e1-125">Notez que cette méthode lève une <xref:System.ArgumentException> si la propriété <xref:System.DateTime.Kind%2A> de l’objet <xref:System.DateTime> et le fuseau horaire ne correspondent pas.</span><span class="sxs-lookup"><span data-stu-id="711e1-125">Note that this method throws an <xref:System.ArgumentException> if the <xref:System.DateTime> object's <xref:System.DateTime.Kind%2A> property and the time zone are mismatched.</span></span> <span data-ttu-id="711e1-126">Une incompatibilité se produit si la propriété <xref:System.DateTime.Kind%2A> est <xref:System.DateTimeKind.Local?displayProperty=nameWithType> mais que l’objet <xref:System.TimeZoneInfo> ne représente pas le fuseau horaire local, ou si la propriété <xref:System.DateTime.Kind%2A> est <xref:System.DateTimeKind.Utc?displayProperty=nameWithType>, mais que l’objet <xref:System.TimeZoneInfo> n’est pas égal à <xref:System.TimeZoneInfo.Utc?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="711e1-126">A mismatch occurs if the <xref:System.DateTime.Kind%2A> property is <xref:System.DateTimeKind.Local?displayProperty=nameWithType> but the <xref:System.TimeZoneInfo> object does not represent the local time zone, or if the <xref:System.DateTime.Kind%2A> property is <xref:System.DateTimeKind.Utc?displayProperty=nameWithType> but the <xref:System.TimeZoneInfo> object does not equal <xref:System.TimeZoneInfo.Utc?displayProperty=nameWithType>.</span></span>

<span data-ttu-id="711e1-127">Toutes ces méthodes prennent <xref:System.DateTime> valeurs en tant que paramètres et retournent une valeur de <xref:System.DateTime>.</span><span class="sxs-lookup"><span data-stu-id="711e1-127">All of these methods take <xref:System.DateTime> values as parameters and return a <xref:System.DateTime> value.</span></span> <span data-ttu-id="711e1-128">Pour les valeurs <xref:System.DateTimeOffset>, la structure <xref:System.DateTimeOffset> a une méthode d’instance <xref:System.DateTimeOffset.ToUniversalTime%2A> qui convertit la date et l’heure de l’instance actuelle en heure UTC.</span><span class="sxs-lookup"><span data-stu-id="711e1-128">For <xref:System.DateTimeOffset> values, the <xref:System.DateTimeOffset> structure has a <xref:System.DateTimeOffset.ToUniversalTime%2A> instance method that converts the date and time of the current instance to UTC.</span></span> <span data-ttu-id="711e1-129">L’exemple suivant appelle la méthode <xref:System.DateTimeOffset.ToUniversalTime%2A> pour convertir une heure locale et plusieurs autres heures en temps universel coordonné (UTC, Universal Time Coordinated).</span><span class="sxs-lookup"><span data-stu-id="711e1-129">The following example calls the <xref:System.DateTimeOffset.ToUniversalTime%2A> method to convert a local time and several other times to Coordinated Universal Time (UTC).</span></span>

[!code-csharp[System.DateTimeOffset.Methods#16](../../../samples/snippets/csharp/VS_Snippets_CLR_System/system.DateTimeOffset.Methods/cs/Methods.cs#16)]
[!code-vb[System.DateTimeOffset.Methods#16](../../../samples/snippets/visualbasic/VS_Snippets_CLR_System/system.DateTimeOffset.Methods/vb/Methods.vb#16)]

## <a name="converting-utc-to-a-designated-time-zone"></a><span data-ttu-id="711e1-130">Conversion de l’heure UTC dans un fuseau horaire désigné</span><span class="sxs-lookup"><span data-stu-id="711e1-130">Converting UTC to a designated time zone</span></span>

<span data-ttu-id="711e1-131">Pour convertir l’heure UTC en heure locale, consultez la section « conversion de l’heure UTC en heure locale » qui suit.</span><span class="sxs-lookup"><span data-stu-id="711e1-131">To convert UTC to local time, see the "Converting UTC to Local Time" section that follows.</span></span> <span data-ttu-id="711e1-132">Pour convertir l’heure UTC et l’heure dans n’importe quel fuseau horaire que vous désignez, appelez la méthode <xref:System.TimeZoneInfo.ConvertTimeFromUtc%2A>.</span><span class="sxs-lookup"><span data-stu-id="711e1-132">To convert UTC to the time in any time zone that you designate, call the <xref:System.TimeZoneInfo.ConvertTimeFromUtc%2A> method.</span></span> <span data-ttu-id="711e1-133">La méthode accepte deux paramètres :</span><span class="sxs-lookup"><span data-stu-id="711e1-133">The method takes two parameters:</span></span>

- <span data-ttu-id="711e1-134">L’heure UTC à convertir.</span><span class="sxs-lookup"><span data-stu-id="711e1-134">The UTC to convert.</span></span> <span data-ttu-id="711e1-135">Il doit s’agir d’une valeur <xref:System.DateTime> dont la propriété <xref:System.DateTime.Kind%2A> a la valeur `Unspecified` ou `Utc`.</span><span class="sxs-lookup"><span data-stu-id="711e1-135">This must be a <xref:System.DateTime> value whose <xref:System.DateTime.Kind%2A> property is set to `Unspecified` or `Utc`.</span></span>

- <span data-ttu-id="711e1-136">Le fuseau horaire vers lequel convertir l’heure UTC.</span><span class="sxs-lookup"><span data-stu-id="711e1-136">The time zone to convert the UTC to.</span></span>

<span data-ttu-id="711e1-137">Le code suivant convertit l’heure UTC en heure propre au fuseau horaire Centre.</span><span class="sxs-lookup"><span data-stu-id="711e1-137">The following code converts UTC to Central Standard Time.</span></span>

[!code-csharp[System.TimeZone2.Concepts#8](../../../samples/snippets/csharp/VS_Snippets_CLR_System/system.TimeZone2.Concepts/CS/TimeZone2Concepts.cs#8)]
[!code-vb[System.TimeZone2.Concepts#8](../../../samples/snippets/visualbasic/VS_Snippets_CLR_System/system.TimeZone2.Concepts/VB/TimeZone2Concepts.vb#8)]

## <a name="converting-utc-to-local-time"></a><span data-ttu-id="711e1-138">Conversion de l’heure UTC en heure locale</span><span class="sxs-lookup"><span data-stu-id="711e1-138">Converting UTC to local time</span></span>

<span data-ttu-id="711e1-139">Pour convertir l’heure UTC en heure locale, appelez la méthode <xref:System.DateTime.ToLocalTime%2A> de l’objet <xref:System.DateTime> dont vous souhaitez effectuer la conversion.</span><span class="sxs-lookup"><span data-stu-id="711e1-139">To convert UTC to local time, call the <xref:System.DateTime.ToLocalTime%2A> method of the <xref:System.DateTime> object whose time you want to convert.</span></span> <span data-ttu-id="711e1-140">Le comportement exact de la méthode dépend de la valeur de la propriété <xref:System.DateTime.Kind%2A> de l’objet, comme le montre le tableau suivant.</span><span class="sxs-lookup"><span data-stu-id="711e1-140">The exact behavior of the method depends on the value of the object’s <xref:System.DateTime.Kind%2A> property, as the following table shows.</span></span>

| `DateTime.Kind`            | <span data-ttu-id="711e1-141">Conversion</span><span class="sxs-lookup"><span data-stu-id="711e1-141">Conversion</span></span>                                                                               |
| -------------------------- | ---------------------------------------------------------------------------------------- |
| `DateTimeKind.Local`       | <span data-ttu-id="711e1-142">Retourne la valeur <xref:System.DateTime> inchangée.</span><span class="sxs-lookup"><span data-stu-id="711e1-142">Returns the <xref:System.DateTime> value unchanged.</span></span>                                      |
| `DateTimeKind.Unspecified` | <span data-ttu-id="711e1-143">Suppose que la valeur <xref:System.DateTime> est UTC et convertit l’heure UTC en heure locale.</span><span class="sxs-lookup"><span data-stu-id="711e1-143">Assumes that the <xref:System.DateTime> value is UTC and converts the UTC to local time.</span></span> |
| `DateTimeKind.Utc`         | <span data-ttu-id="711e1-144">Convertit la valeur <xref:System.DateTime> en heure locale.</span><span class="sxs-lookup"><span data-stu-id="711e1-144">Converts the <xref:System.DateTime> value to local time.</span></span>                                 |

> [!NOTE]
> <span data-ttu-id="711e1-145">La méthode <xref:System.TimeZone.ToLocalTime%2A?displayProperty=nameWithType> se comporte de la même façon que la méthode `DateTime.ToLocalTime`.</span><span class="sxs-lookup"><span data-stu-id="711e1-145">The <xref:System.TimeZone.ToLocalTime%2A?displayProperty=nameWithType> method behaves identically to the `DateTime.ToLocalTime` method.</span></span> <span data-ttu-id="711e1-146">Il accepte un seul paramètre, qui est la valeur de date et d’heure à convertir.</span><span class="sxs-lookup"><span data-stu-id="711e1-146">It takes a single parameter, which is the date and time value to convert.</span></span>

<span data-ttu-id="711e1-147">Vous pouvez également convertir l’heure d’un fuseau horaire désigné en heure locale à l’aide de la méthode <xref:System.TimeZoneInfo.ConvertTime%2A?displayProperty=nameWithType> `static` (`Shared` dans Visual Basic).</span><span class="sxs-lookup"><span data-stu-id="711e1-147">You can also convert the time in any designated time zone to local time by using the `static` (`Shared` in Visual Basic) <xref:System.TimeZoneInfo.ConvertTime%2A?displayProperty=nameWithType> method.</span></span> <span data-ttu-id="711e1-148">Cette technique est décrite dans la section suivante.</span><span class="sxs-lookup"><span data-stu-id="711e1-148">This technique is discussed in the next section.</span></span>

## <a name="converting-between-any-two-time-zones"></a><span data-ttu-id="711e1-149">Conversion entre deux fuseaux horaires quelconques</span><span class="sxs-lookup"><span data-stu-id="711e1-149">Converting between any two time zones</span></span>

<span data-ttu-id="711e1-150">Vous pouvez effectuer une conversion entre deux fuseaux horaires quelconques à l’aide de l’une des deux méthodes `static` suivantes (`Shared` dans Visual Basic) de la classe <xref:System.TimeZoneInfo> :</span><span class="sxs-lookup"><span data-stu-id="711e1-150">You can convert between any two time zones by using either of the following two `static` (`Shared` in Visual Basic) methods of the <xref:System.TimeZoneInfo> class:</span></span>

- <xref:System.TimeZoneInfo.ConvertTime%2A>

  <span data-ttu-id="711e1-151">Les paramètres de cette méthode sont la valeur de date et d’heure à convertir, un objet `TimeZoneInfo` qui représente le fuseau horaire de la valeur de date et d’heure, et un objet `TimeZoneInfo` qui représente le fuseau horaire vers lequel convertir la valeur de date et d’heure.</span><span class="sxs-lookup"><span data-stu-id="711e1-151">This method's parameters are the date and time value to convert, a `TimeZoneInfo` object that represents the time zone of the date and time value, and a `TimeZoneInfo` object that represents the time zone to convert the date and time value to.</span></span>

- <xref:System.TimeZoneInfo.ConvertTimeBySystemTimeZoneId%2A>

  <span data-ttu-id="711e1-152">Les paramètres de cette méthode sont la valeur de date et d’heure à convertir, l’identificateur du fuseau horaire de la valeur de date et d’heure et l’identificateur du fuseau horaire vers lequel convertir la valeur de date et d’heure.</span><span class="sxs-lookup"><span data-stu-id="711e1-152">This method's parameters are the date and time value to convert, the identifier of the date and time value's time zone, and the identifier of the time zone to convert the date and time value to.</span></span>

<span data-ttu-id="711e1-153">Les deux méthodes requièrent que la propriété <xref:System.DateTime.Kind%2A> de la valeur de date et d’heure à convertir et l’objet <xref:System.TimeZoneInfo> ou l’identificateur de fuseau horaire qui représente son fuseau horaire correspondent l’un à l’autre.</span><span class="sxs-lookup"><span data-stu-id="711e1-153">Both methods require that the <xref:System.DateTime.Kind%2A> property of the date and time value to convert and the <xref:System.TimeZoneInfo> object or time zone identifier that represents its time zone correspond to one another.</span></span> <span data-ttu-id="711e1-154">Sinon, une exception <xref:System.ArgumentException> est levée.</span><span class="sxs-lookup"><span data-stu-id="711e1-154">Otherwise, an <xref:System.ArgumentException> is thrown.</span></span> <span data-ttu-id="711e1-155">Par exemple, si la propriété `Kind` de la valeur de date et d’heure est `DateTimeKind.Local`, une exception est levée si l’objet `TimeZoneInfo` passé comme paramètre à la méthode n’est pas égal à `TimeZoneInfo.Local`.</span><span class="sxs-lookup"><span data-stu-id="711e1-155">For example, if the `Kind` property of the date and time value is `DateTimeKind.Local`, an exception is thrown if the `TimeZoneInfo` object passed as a parameter to the method is not equal to `TimeZoneInfo.Local`.</span></span> <span data-ttu-id="711e1-156">Une exception est également levée si l’identificateur passé comme paramètre à la méthode n’est pas égal à `TimeZoneInfo.Local.Id`.</span><span class="sxs-lookup"><span data-stu-id="711e1-156">An exception is also thrown if the identifier passed as a parameter to the method is not equal to `TimeZoneInfo.Local.Id`.</span></span>

<span data-ttu-id="711e1-157">L’exemple suivant utilise la méthode <xref:System.TimeZoneInfo.ConvertTime%2A> pour convertir l’heure standard d’Hawaii en heure locale.</span><span class="sxs-lookup"><span data-stu-id="711e1-157">The following example uses the <xref:System.TimeZoneInfo.ConvertTime%2A> method to convert from Hawaiian Standard Time to local time.</span></span>

[!code-csharp[System.TimeZone2.Concepts#9](../../../samples/snippets/csharp/VS_Snippets_CLR_System/system.TimeZone2.Concepts/CS/TimeZone2Concepts.cs#9)]
[!code-vb[System.TimeZone2.Concepts#9](../../../samples/snippets/visualbasic/VS_Snippets_CLR_System/system.TimeZone2.Concepts/VB/TimeZone2Concepts.vb#9)]

## <a name="converting-datetimeoffset-values"></a><span data-ttu-id="711e1-158">Conversion de valeurs DateTimeOffset</span><span class="sxs-lookup"><span data-stu-id="711e1-158">Converting DateTimeOffset values</span></span>

<span data-ttu-id="711e1-159">Les valeurs de date et d’heure représentées par <xref:System.DateTimeOffset> objets ne prennent pas complètement en charge les fuseaux horaires, car l’objet est dissocié de son fuseau horaire au moment où il est instancié.</span><span class="sxs-lookup"><span data-stu-id="711e1-159">Date and time values represented by <xref:System.DateTimeOffset> objects are not fully time-zone aware because the object is disassociated from its time zone at the time it is instantiated.</span></span> <span data-ttu-id="711e1-160">Toutefois, dans de nombreux cas, une application doit simplement convertir une date et une heure en fonction de deux décalages différents par rapport à l’heure UTC plutôt qu’en fonction de l’heure dans des fuseaux horaires particuliers.</span><span class="sxs-lookup"><span data-stu-id="711e1-160">However, in many cases an application simply needs to convert a date and time based on two different offsets from UTC rather than on the time in particular time zones.</span></span> <span data-ttu-id="711e1-161">Pour effectuer cette conversion, vous pouvez appeler la méthode <xref:System.DateTimeOffset.ToOffset%2A> de l’instance actuelle.</span><span class="sxs-lookup"><span data-stu-id="711e1-161">To perform this conversion, you can call the current instance's <xref:System.DateTimeOffset.ToOffset%2A> method.</span></span> <span data-ttu-id="711e1-162">Le paramètre unique de la méthode est le décalage de la nouvelle valeur de date et d’heure que la méthode doit retourner.</span><span class="sxs-lookup"><span data-stu-id="711e1-162">The method's single parameter is the offset of the new date and time value that the method is to return.</span></span>

<span data-ttu-id="711e1-163">Par exemple, si la date et l’heure d’une demande de page web de l’utilisateur sont connues et sont sérialisées comme chaîne au format MM/jj/aaaa hh:mm:ss zzzz, la méthode `ReturnTimeOnServer` qui suit convertit cette valeur de date et d’heure en date et heure sur le serveur web.</span><span class="sxs-lookup"><span data-stu-id="711e1-163">For example, if the date and time of a user request for a Web page is known and is serialized as a string in the format MM/dd/yyyy hh:mm:ss zzzz, the following `ReturnTimeOnServer` method converts this date and time value to the date and time on the Web server.</span></span>

[!code-csharp[System.DateTimeOffset.Conceptual.OffsetConversions#1](../../../samples/snippets/csharp/VS_Snippets_CLR_System/system.DateTimeOffset.Conceptual.OffsetConversions/cs/TimeConversions.cs#1)]
[!code-vb[System.DateTimeOffset.Conceptual.OffsetConversions#1](../../../samples/snippets/visualbasic/VS_Snippets_CLR_System/system.DateTimeOffset.Conceptual.OffsetConversions/vb/TimeConversions.vb#1)]

<span data-ttu-id="711e1-164">Si la chaîne « 9/1/2007 5:32:07 -05:00 », qui représente la date et l’heure d’un fuseau horaire cinq heures avant l’heure UTC, est passée à la méthode, elle retourne 9/1/2007 3:32:07 AM-07:00 pour un serveur situé dans le fuseau horaire Pacifique (États-Unis).</span><span class="sxs-lookup"><span data-stu-id="711e1-164">If the method is passed the string "9/1/2007 5:32:07 -05:00", which represents the date and time in a time zone five hours earlier than UTC, it returns 9/1/2007 3:32:07 AM -07:00 for a server located in the U.S. Pacific Standard Time zone.</span></span>

<span data-ttu-id="711e1-165">La classe <xref:System.TimeZoneInfo> comprend également une surcharge de la méthode <xref:System.TimeZoneInfo.ConvertTime%28System.DateTimeOffset%2CSystem.TimeZoneInfo%29?displayProperty=nameWithType> qui effectue des conversions de fuseau horaire avec des valeurs <xref:System.DateTimeOffset.ToOffset(System.TimeSpan)>.</span><span class="sxs-lookup"><span data-stu-id="711e1-165">The <xref:System.TimeZoneInfo> class also includes an overload of the <xref:System.TimeZoneInfo.ConvertTime%28System.DateTimeOffset%2CSystem.TimeZoneInfo%29?displayProperty=nameWithType> method that performs time zone conversions with <xref:System.DateTimeOffset.ToOffset(System.TimeSpan)> values.</span></span> <span data-ttu-id="711e1-166">Les paramètres de la méthode sont une valeur <xref:System.DateTimeOffset> et une référence au fuseau horaire dans lequel l’heure doit être convertie.</span><span class="sxs-lookup"><span data-stu-id="711e1-166">The method's parameters are a <xref:System.DateTimeOffset> value and a reference to the time zone to which the time is to be converted.</span></span> <span data-ttu-id="711e1-167">L’appel de méthode retourne une valeur <xref:System.DateTimeOffset>.</span><span class="sxs-lookup"><span data-stu-id="711e1-167">The method call returns a <xref:System.DateTimeOffset> value.</span></span> <span data-ttu-id="711e1-168">Par exemple, la méthode `ReturnTimeOnServer` dans l’exemple précédent peut être réécrite comme suit pour appeler la méthode <xref:System.TimeZoneInfo.ConvertTime%28System.DateTimeOffset%2CSystem.TimeZoneInfo%29>.</span><span class="sxs-lookup"><span data-stu-id="711e1-168">For example, the `ReturnTimeOnServer` method in the previous example could be rewritten as follows to call the <xref:System.TimeZoneInfo.ConvertTime%28System.DateTimeOffset%2CSystem.TimeZoneInfo%29> method.</span></span>

[!code-csharp[System.DateTimeOffset.Conceptual.OffsetConversions#2](../../../samples/snippets/csharp/VS_Snippets_CLR_System/system.DateTimeOffset.Conceptual.OffsetConversions/cs/timeconversions2.cs#2)]
[!code-vb[System.DateTimeOffset.Conceptual.OffsetConversions#2](../../../samples/snippets/visualbasic/VS_Snippets_CLR_System/system.DateTimeOffset.Conceptual.OffsetConversions/vb/TimeConversions2.vb#2)]

## <a name="see-also"></a><span data-ttu-id="711e1-169">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="711e1-169">See also</span></span>

- <xref:System.TimeZoneInfo>
- [<span data-ttu-id="711e1-170">Dates, heures et fuseaux horaires</span><span class="sxs-lookup"><span data-stu-id="711e1-170">Dates, times, and time zones</span></span>](../../../docs/standard/datetime/index.md)
- [<span data-ttu-id="711e1-171">Recherche des fuseaux horaires définis sur un système local</span><span class="sxs-lookup"><span data-stu-id="711e1-171">Finding the time zones defined on a local system</span></span>](../../../docs/standard/datetime/finding-the-time-zones-on-local-system.md)
