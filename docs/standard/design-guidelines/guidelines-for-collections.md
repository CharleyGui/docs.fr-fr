---
title: Instructions relatives aux collections
ms.date: 10/22/2008
ms.assetid: 297b8f1d-b11f-4dc6-960a-8e990817304e
ms.openlocfilehash: 2306462d933e71d0d23021a0e036e8cc23100c68
ms.sourcegitcommit: 965a5af7918acb0a3fd3baf342e15d511ef75188
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 11/18/2020
ms.locfileid: "94821084"
---
# <a name="guidelines-for-collections"></a><span data-ttu-id="234fa-102">Instructions relatives aux collections</span><span class="sxs-lookup"><span data-stu-id="234fa-102">Guidelines for Collections</span></span>
<span data-ttu-id="234fa-103">Tout type conçu spécifiquement pour manipuler un groupe d’objets ayant des caractéristiques communes peut être considéré comme une collection.</span><span class="sxs-lookup"><span data-stu-id="234fa-103">Any type designed specifically to manipulate a group of objects having some common characteristic can be considered a collection.</span></span> <span data-ttu-id="234fa-104">Il est presque toujours approprié pour que ces types implémentent <xref:System.Collections.IEnumerable> ou <xref:System.Collections.Generic.IEnumerable%601> . par conséquent, dans cette section, nous prenons uniquement en compte les types qui implémentent l’une de ces interfaces, ou les deux, pour être des collections.</span><span class="sxs-lookup"><span data-stu-id="234fa-104">It is almost always appropriate for such types to implement <xref:System.Collections.IEnumerable> or <xref:System.Collections.Generic.IEnumerable%601>, so in this section we only consider types implementing one or both of those interfaces to be collections.</span></span>

 <span data-ttu-id="234fa-105">❌ N’utilisez pas de collections faiblement typées dans les API publiques.</span><span class="sxs-lookup"><span data-stu-id="234fa-105">❌ DO NOT use weakly typed collections in public APIs.</span></span>

 <span data-ttu-id="234fa-106">Le type de toutes les valeurs de retour et paramètres représentant les éléments de la collection doit être le type d’élément exact, et non l’un de ses types de base (cela s’applique uniquement aux membres publics de la collection).</span><span class="sxs-lookup"><span data-stu-id="234fa-106">The type of all return values and parameters representing collection items should be the exact item type, not any of its base types (this applies only to public members of the collection).</span></span>

 <span data-ttu-id="234fa-107">❌ N’utilisez pas <xref:System.Collections.ArrayList> ou <xref:System.Collections.Generic.List%601> dans les API publiques.</span><span class="sxs-lookup"><span data-stu-id="234fa-107">❌ DO NOT use <xref:System.Collections.ArrayList> or <xref:System.Collections.Generic.List%601> in public APIs.</span></span>

 <span data-ttu-id="234fa-108">Ces types sont des structures de données conçues pour être utilisées dans une implémentation interne, et non dans des API publiques.</span><span class="sxs-lookup"><span data-stu-id="234fa-108">These types are data structures designed to be used in internal implementation, not in public APIs.</span></span> <span data-ttu-id="234fa-109">`List<T>` est optimisé pour les performances et la puissance au détriment du nettoyage des API et de la flexibilité.</span><span class="sxs-lookup"><span data-stu-id="234fa-109">`List<T>` is optimized for performance and power at the cost of cleanness of the APIs and flexibility.</span></span> <span data-ttu-id="234fa-110">Par exemple, si vous retournez `List<T>` , vous ne serez jamais en mesure de recevoir des notifications lorsque le code client modifie la collection.</span><span class="sxs-lookup"><span data-stu-id="234fa-110">For example, if you return `List<T>`, you will not ever be able to receive notifications when client code modifies the collection.</span></span> <span data-ttu-id="234fa-111">En outre, `List<T>` expose de nombreux membres, tels que <xref:System.Collections.Generic.List%601.BinarySearch%2A> , qui ne sont pas utiles ou applicables dans de nombreux scénarios.</span><span class="sxs-lookup"><span data-stu-id="234fa-111">Also, `List<T>` exposes many members, such as <xref:System.Collections.Generic.List%601.BinarySearch%2A>, that are not useful or applicable in many scenarios.</span></span> <span data-ttu-id="234fa-112">Les deux sections suivantes décrivent les types (abstractions) conçus spécifiquement pour une utilisation dans les API publiques.</span><span class="sxs-lookup"><span data-stu-id="234fa-112">The following two sections describe types (abstractions) designed specifically for use in public APIs.</span></span>

 <span data-ttu-id="234fa-113">❌ N’utilisez pas `Hashtable` ou `Dictionary<TKey,TValue>` dans les API publiques.</span><span class="sxs-lookup"><span data-stu-id="234fa-113">❌ DO NOT use `Hashtable` or `Dictionary<TKey,TValue>` in public APIs.</span></span>

 <span data-ttu-id="234fa-114">Ces types sont des structures de données conçues pour être utilisées dans une implémentation interne.</span><span class="sxs-lookup"><span data-stu-id="234fa-114">These types are data structures designed to be used in internal implementation.</span></span> <span data-ttu-id="234fa-115">Les API publiques doivent utiliser <xref:System.Collections.IDictionary> , `IDictionary <TKey, TValue>` ou un type personnalisé qui implémente l’une des interfaces ou les deux.</span><span class="sxs-lookup"><span data-stu-id="234fa-115">Public APIs should use <xref:System.Collections.IDictionary>, `IDictionary <TKey, TValue>`, or a custom type implementing one or both of the interfaces.</span></span>

 <span data-ttu-id="234fa-116">❌ N’utilisez pas <xref:System.Collections.Generic.IEnumerator%601> , <xref:System.Collections.IEnumerator> ou tout autre type qui implémente l’une de ces interfaces, sauf en tant que type de retour d’une `GetEnumerator` méthode.</span><span class="sxs-lookup"><span data-stu-id="234fa-116">❌ DO NOT use <xref:System.Collections.Generic.IEnumerator%601>, <xref:System.Collections.IEnumerator>, or any other type that implements either of these interfaces, except as the return type of a `GetEnumerator` method.</span></span>

 <span data-ttu-id="234fa-117">Les types qui retournent des énumérateurs à partir de méthodes autres que `GetEnumerator` ne peuvent pas être utilisés avec l' `foreach` instruction.</span><span class="sxs-lookup"><span data-stu-id="234fa-117">Types returning enumerators from methods other than `GetEnumerator` cannot be used with the `foreach` statement.</span></span>

 <span data-ttu-id="234fa-118">❌ N’implémentez pas `IEnumerator<T>` et `IEnumerable<T>` sur le même type.</span><span class="sxs-lookup"><span data-stu-id="234fa-118">❌ DO NOT implement both `IEnumerator<T>` and `IEnumerable<T>` on the same type.</span></span> <span data-ttu-id="234fa-119">Il en va de même pour les interfaces non génériques `IEnumerator` et `IEnumerable` .</span><span class="sxs-lookup"><span data-stu-id="234fa-119">The same applies to the nongeneric interfaces `IEnumerator` and `IEnumerable`.</span></span>

## <a name="collection-parameters"></a><span data-ttu-id="234fa-120">Paramètres de collection</span><span class="sxs-lookup"><span data-stu-id="234fa-120">Collection Parameters</span></span>
 <span data-ttu-id="234fa-121">✔️ Utilisez le type le moins spécialisé possible comme type de paramètre.</span><span class="sxs-lookup"><span data-stu-id="234fa-121">✔️ DO use the least-specialized type possible as a parameter type.</span></span> <span data-ttu-id="234fa-122">La plupart des membres qui prennent des collections comme paramètres utilisent l' `IEnumerable<T>` interface.</span><span class="sxs-lookup"><span data-stu-id="234fa-122">Most members taking collections as parameters use the `IEnumerable<T>` interface.</span></span>

 <span data-ttu-id="234fa-123">❌ Évitez <xref:System.Collections.Generic.ICollection%601> d’utiliser ou <xref:System.Collections.ICollection> comme paramètre simplement pour accéder à la `Count` propriété.</span><span class="sxs-lookup"><span data-stu-id="234fa-123">❌ AVOID using <xref:System.Collections.Generic.ICollection%601> or <xref:System.Collections.ICollection> as a parameter just to access the `Count` property.</span></span>

 <span data-ttu-id="234fa-124">Au lieu de cela, envisagez d’utiliser `IEnumerable<T>` ou `IEnumerable` et de vérifier dynamiquement si l’objet implémente `ICollection<T>` ou `ICollection` .</span><span class="sxs-lookup"><span data-stu-id="234fa-124">Instead, consider using `IEnumerable<T>` or `IEnumerable` and dynamically checking whether the object implements `ICollection<T>` or `ICollection`.</span></span>

## <a name="collection-properties-and-return-values"></a><span data-ttu-id="234fa-125">Propriétés de collection et valeurs de retour</span><span class="sxs-lookup"><span data-stu-id="234fa-125">Collection Properties and Return Values</span></span>
 <span data-ttu-id="234fa-126">❌ NE fournissez pas de propriétés de collection définissables.</span><span class="sxs-lookup"><span data-stu-id="234fa-126">❌ DO NOT provide settable collection properties.</span></span>

 <span data-ttu-id="234fa-127">Les utilisateurs peuvent remplacer le contenu de la collection en effaçant d’abord la collection, puis en ajoutant le nouveau contenu.</span><span class="sxs-lookup"><span data-stu-id="234fa-127">Users can replace the contents of the collection by clearing the collection first and then adding the new contents.</span></span> <span data-ttu-id="234fa-128">Si le remplacement de l’ensemble de la collection est un scénario courant, envisagez de fournir la `AddRange` méthode sur la collection.</span><span class="sxs-lookup"><span data-stu-id="234fa-128">If replacing the whole collection is a common scenario, consider providing the `AddRange` method on the collection.</span></span>

 <span data-ttu-id="234fa-129">✔️ Utilisez `Collection<T>` ou une sous-classe de `Collection<T>` pour les propriétés ou les valeurs de retour représentant des collections en lecture/écriture.</span><span class="sxs-lookup"><span data-stu-id="234fa-129">✔️ DO use `Collection<T>` or a subclass of `Collection<T>` for properties or return values representing read/write collections.</span></span>

 <span data-ttu-id="234fa-130">Si `Collection<T>` ne répond pas à certaines exigences (par exemple, si la collection ne doit pas implémenter <xref:System.Collections.IList> ), utilisez une collection personnalisée en implémentant `IEnumerable<T>` , `ICollection<T>` ou <xref:System.Collections.Generic.IList%601> .</span><span class="sxs-lookup"><span data-stu-id="234fa-130">If `Collection<T>` does not meet some requirement (e.g., the collection must not implement <xref:System.Collections.IList>), use a custom collection by implementing `IEnumerable<T>`, `ICollection<T>`, or <xref:System.Collections.Generic.IList%601>.</span></span>

 <span data-ttu-id="234fa-131">✔️ Utilisez <xref:System.Collections.ObjectModel.ReadOnlyCollection%601> , une sous-classe de `ReadOnlyCollection<T>` ou, dans de rares cas, `IEnumerable<T>` des propriétés ou des valeurs de retour représentant des collections en lecture seule.</span><span class="sxs-lookup"><span data-stu-id="234fa-131">✔️ DO use <xref:System.Collections.ObjectModel.ReadOnlyCollection%601>, a subclass of `ReadOnlyCollection<T>`, or in rare cases `IEnumerable<T>` for properties or return values representing read-only collections.</span></span>

 <span data-ttu-id="234fa-132">En général, préférez `ReadOnlyCollection<T>` .</span><span class="sxs-lookup"><span data-stu-id="234fa-132">In general, prefer `ReadOnlyCollection<T>`.</span></span> <span data-ttu-id="234fa-133">S’il ne répond pas à certaines exigences (par exemple, si la collection ne doit pas implémenter `IList` ), utilisez une collection personnalisée en implémentant `IEnumerable<T>` , `ICollection<T>` ou `IList<T>` .</span><span class="sxs-lookup"><span data-stu-id="234fa-133">If it does not meet some requirement (e.g., the collection must not implement `IList`), use a custom collection by implementing `IEnumerable<T>`, `ICollection<T>`, or `IList<T>`.</span></span> <span data-ttu-id="234fa-134">Si vous implémentez une collection en lecture seule personnalisée, implémentez `ICollection<T>.IsReadOnly` pour retourner `true` .</span><span class="sxs-lookup"><span data-stu-id="234fa-134">If you do implement a custom read-only collection, implement `ICollection<T>.IsReadOnly` to return `true`.</span></span>

 <span data-ttu-id="234fa-135">Dans les cas où vous êtes certain que le seul scénario que vous souhaiterez peut-être prendre en charge est l’itération avant uniquement, vous pouvez simplement utiliser `IEnumerable<T>` .</span><span class="sxs-lookup"><span data-stu-id="234fa-135">In cases where you are sure that the only scenario you will ever want to support is forward-only iteration, you can simply use `IEnumerable<T>`.</span></span>

 <span data-ttu-id="234fa-136">✔️ envisagez d’utiliser des sous-classes de collections de base génériques au lieu d’utiliser directement les collections.</span><span class="sxs-lookup"><span data-stu-id="234fa-136">✔️ CONSIDER using subclasses of generic base collections instead of using the collections directly.</span></span>

 <span data-ttu-id="234fa-137">Cela permet d’obtenir un meilleur nom et d’ajouter des membres d’assistance qui ne sont pas présents sur les types de collections de base.</span><span class="sxs-lookup"><span data-stu-id="234fa-137">This allows for a better name and for adding helper members that are not present on the base collection types.</span></span> <span data-ttu-id="234fa-138">Cela s’applique en particulier aux API de haut niveau.</span><span class="sxs-lookup"><span data-stu-id="234fa-138">This is especially applicable to high-level APIs.</span></span>

 <span data-ttu-id="234fa-139">✔️ envisagez de retourner une sous-classe de `Collection<T>` ou `ReadOnlyCollection<T>` à partir de méthodes et de propriétés très couramment utilisées.</span><span class="sxs-lookup"><span data-stu-id="234fa-139">✔️ CONSIDER returning a subclass of `Collection<T>` or `ReadOnlyCollection<T>` from very commonly used methods and properties.</span></span>

 <span data-ttu-id="234fa-140">Cela vous permettra d’ajouter des méthodes d’assistance ou de modifier l’implémentation de la collection à l’avenir.</span><span class="sxs-lookup"><span data-stu-id="234fa-140">This will make it possible for you to add helper methods or change the collection implementation in the future.</span></span>

 <span data-ttu-id="234fa-141">✔️ envisagez d’utiliser une collection à clé si les éléments stockés dans la collection ont des clés uniques (noms, ID, etc.).</span><span class="sxs-lookup"><span data-stu-id="234fa-141">✔️ CONSIDER using a keyed collection if the items stored in the collection have unique keys (names, IDs, etc.).</span></span> <span data-ttu-id="234fa-142">Les collections à clé sont des collections qui peuvent être indexées à la fois par un entier et une clé et qui sont généralement implémentées à partir de `KeyedCollection<TKey,TItem>` .</span><span class="sxs-lookup"><span data-stu-id="234fa-142">Keyed collections are collections that can be indexed by both an integer and a key and are usually implemented by inheriting from `KeyedCollection<TKey,TItem>`.</span></span>

 <span data-ttu-id="234fa-143">Les collections à clé sont généralement plus volumineuses et ne doivent pas être utilisées si la surcharge de mémoire compense les avantages de l’utilisation des clés.</span><span class="sxs-lookup"><span data-stu-id="234fa-143">Keyed collections usually have larger memory footprints and should not be used if the memory overhead outweighs the benefits of having the keys.</span></span>

 <span data-ttu-id="234fa-144">❌ NE retournez pas de valeurs NULL à partir de propriétés de collection ou de méthodes qui retournent des collections.</span><span class="sxs-lookup"><span data-stu-id="234fa-144">❌ DO NOT return null values from collection properties or from methods returning collections.</span></span> <span data-ttu-id="234fa-145">Retourne une collection vide ou un tableau vide à la place.</span><span class="sxs-lookup"><span data-stu-id="234fa-145">Return an empty collection or an empty array instead.</span></span>

 <span data-ttu-id="234fa-146">La règle générale est que les collections ou tableaux null et vides (0 élément) doivent être traités de la même façon.</span><span class="sxs-lookup"><span data-stu-id="234fa-146">The general rule is that null and empty (0 item) collections or arrays should be treated the same.</span></span>

### <a name="snapshots-versus-live-collections"></a><span data-ttu-id="234fa-147">Captures instantanées et collections en direct</span><span class="sxs-lookup"><span data-stu-id="234fa-147">Snapshots Versus Live Collections</span></span>
 <span data-ttu-id="234fa-148">Les collections représentant un État à un moment donné sont appelées collections d’instantanés.</span><span class="sxs-lookup"><span data-stu-id="234fa-148">Collections representing a state at some point in time are called snapshot collections.</span></span> <span data-ttu-id="234fa-149">Par exemple, une collection contenant des lignes retournées par une requête de base de données serait un instantané.</span><span class="sxs-lookup"><span data-stu-id="234fa-149">For example, a collection containing rows returned from a database query would be a snapshot.</span></span> <span data-ttu-id="234fa-150">Les collections qui représentent toujours l’état actuel sont appelées collections dynamiques.</span><span class="sxs-lookup"><span data-stu-id="234fa-150">Collections that always represent the current state are called live collections.</span></span> <span data-ttu-id="234fa-151">Par exemple, une collection d' `ComboBox` éléments est une collection en direct.</span><span class="sxs-lookup"><span data-stu-id="234fa-151">For example, a collection of `ComboBox` items is a live collection.</span></span>

 <span data-ttu-id="234fa-152">❌ NE retournez pas de collections d’instantanés à partir des propriétés.</span><span class="sxs-lookup"><span data-stu-id="234fa-152">❌ DO NOT return snapshot collections from properties.</span></span> <span data-ttu-id="234fa-153">Les propriétés doivent retourner des collections dynamiques.</span><span class="sxs-lookup"><span data-stu-id="234fa-153">Properties should return live collections.</span></span>

 <span data-ttu-id="234fa-154">Les accesseurs get de propriété doivent être des opérations très légères.</span><span class="sxs-lookup"><span data-stu-id="234fa-154">Property getters should be very lightweight operations.</span></span> <span data-ttu-id="234fa-155">Le retour d’un instantané requiert la création d’une copie d’une collection interne dans une opération O (n).</span><span class="sxs-lookup"><span data-stu-id="234fa-155">Returning a snapshot requires creating a copy of an internal collection in an O(n) operation.</span></span>

 <span data-ttu-id="234fa-156">✔️ Utilisez soit une collection d’instantanés, soit un `IEnumerable<T>` en direct (ou son sous-type) pour représenter les collections volatiles (c’est-à-dire, qui peuvent changer sans modification explicite de la collection).</span><span class="sxs-lookup"><span data-stu-id="234fa-156">✔️ DO use either a snapshot collection or a live `IEnumerable<T>` (or its subtype) to represent collections that are volatile (i.e., that can change without explicitly modifying the collection).</span></span>

 <span data-ttu-id="234fa-157">En général, toutes les collections représentant une ressource partagée (par exemple, les fichiers dans un répertoire) sont volatiles.</span><span class="sxs-lookup"><span data-stu-id="234fa-157">In general, all collections representing a shared resource (e.g., files in a directory) are volatile.</span></span> <span data-ttu-id="234fa-158">Ces collections sont très difficiles ou impossibles à implémenter en tant que collections dynamiques, sauf si l’implémentation est simplement un énumérateur avant uniquement.</span><span class="sxs-lookup"><span data-stu-id="234fa-158">Such collections are very difficult or impossible to implement as live collections unless the implementation is simply a forward-only enumerator.</span></span>

## <a name="choosing-between-arrays-and-collections"></a><span data-ttu-id="234fa-159">Choix entre les tableaux et les collections</span><span class="sxs-lookup"><span data-stu-id="234fa-159">Choosing Between Arrays and Collections</span></span>
 <span data-ttu-id="234fa-160">✔️ préférez les collections sur les tableaux.</span><span class="sxs-lookup"><span data-stu-id="234fa-160">✔️ DO prefer collections over arrays.</span></span>

 <span data-ttu-id="234fa-161">Les collections permettent de mieux contrôler le contenu, peuvent évoluer au fil du temps et sont plus utilisables.</span><span class="sxs-lookup"><span data-stu-id="234fa-161">Collections provide more control over contents, can evolve over time, and are more usable.</span></span> <span data-ttu-id="234fa-162">En outre, il est déconseillé d’utiliser des tableaux pour les scénarios en lecture seule, car le coût du clonage du tableau est prohibitif.</span><span class="sxs-lookup"><span data-stu-id="234fa-162">In addition, using arrays for read-only scenarios is discouraged because the cost of cloning the array is prohibitive.</span></span> <span data-ttu-id="234fa-163">Les études de convivialité ont montré que certains développeurs se sentent plus à l’aise avec les API basées sur les collections.</span><span class="sxs-lookup"><span data-stu-id="234fa-163">Usability studies have shown that some developers feel more comfortable using collection-based APIs.</span></span>

 <span data-ttu-id="234fa-164">Toutefois, si vous développez des API de bas niveau, il peut être préférable d’utiliser des tableaux pour les scénarios de lecture-écriture.</span><span class="sxs-lookup"><span data-stu-id="234fa-164">However, if you are developing low-level APIs, it might be better to use arrays for read-write scenarios.</span></span> <span data-ttu-id="234fa-165">Les tableaux ont un faible encombrement mémoire, ce qui permet de réduire la plage de travail, et l’accès aux éléments d’un tableau est plus rapide, car il est optimisé par le Runtime.</span><span class="sxs-lookup"><span data-stu-id="234fa-165">Arrays have a smaller memory footprint, which helps reduce the working set, and access to elements in an array is faster because it is optimized by the runtime.</span></span>

 <span data-ttu-id="234fa-166">✔️ envisagez d’utiliser des tableaux dans les API de bas niveau pour réduire la consommation de mémoire et optimiser les performances.</span><span class="sxs-lookup"><span data-stu-id="234fa-166">✔️ CONSIDER using arrays in low-level APIs to minimize memory consumption and maximize performance.</span></span>

 <span data-ttu-id="234fa-167">✔️ Utilisez des tableaux d’octets au lieu de collections d’octets.</span><span class="sxs-lookup"><span data-stu-id="234fa-167">✔️ DO use byte arrays instead of collections of bytes.</span></span>

 <span data-ttu-id="234fa-168">❌ N’utilisez pas de tableaux pour les propriétés si la propriété doit retourner un nouveau tableau (par exemple, une copie d’un tableau interne) chaque fois que l’accesseur Get de propriété est appelé.</span><span class="sxs-lookup"><span data-stu-id="234fa-168">❌ DO NOT use arrays for properties if the property would have to return a new array (e.g., a copy of an internal array) every time the property getter is called.</span></span>

## <a name="implementing-custom-collections"></a><span data-ttu-id="234fa-169">Implémentation de regroupements personnalisés</span><span class="sxs-lookup"><span data-stu-id="234fa-169">Implementing Custom Collections</span></span>
 <span data-ttu-id="234fa-170">✔️ ENVISAGER d’hériter de `Collection<T>` , `ReadOnlyCollection<T>` ou lors de la `KeyedCollection<TKey,TItem>` conception de nouvelles collections.</span><span class="sxs-lookup"><span data-stu-id="234fa-170">✔️ CONSIDER inheriting from `Collection<T>`, `ReadOnlyCollection<T>`, or `KeyedCollection<TKey,TItem>` when designing new collections.</span></span>

 <span data-ttu-id="234fa-171">✔️ implémenter `IEnumerable<T>` lors de la conception de nouvelles collections.</span><span class="sxs-lookup"><span data-stu-id="234fa-171">✔️ DO implement `IEnumerable<T>` when designing new collections.</span></span> <span data-ttu-id="234fa-172">Envisagez d’implémenter `ICollection<T>` ou même `IList<T>` là où cela est pertinent.</span><span class="sxs-lookup"><span data-stu-id="234fa-172">Consider implementing `ICollection<T>` or even `IList<T>` where it makes sense.</span></span>

 <span data-ttu-id="234fa-173">Lors de l’implémentation de cette collection personnalisée, suivez le modèle d’API établi par et le plus `Collection<T>` `ReadOnlyCollection<T>` fidèlement possible.</span><span class="sxs-lookup"><span data-stu-id="234fa-173">When implementing such custom collection, follow the API pattern established by `Collection<T>` and `ReadOnlyCollection<T>` as closely as possible.</span></span> <span data-ttu-id="234fa-174">Autrement dit, implémentez les mêmes membres explicitement, nommez-les comme ces deux collections, et ainsi de suite.</span><span class="sxs-lookup"><span data-stu-id="234fa-174">That is, implement the same members explicitly, name the parameters like these two collections name them, and so on.</span></span>

 <span data-ttu-id="234fa-175">✔️ envisagez d’implémenter des interfaces de collection non génériques ( `IList` et `ICollection` ) si la collection est souvent passée à des API acceptant ces interfaces comme entrée.</span><span class="sxs-lookup"><span data-stu-id="234fa-175">✔️ CONSIDER implementing nongeneric collection interfaces (`IList` and `ICollection`) if the collection will often be passed to APIs taking these interfaces as input.</span></span>

 <span data-ttu-id="234fa-176">❌ Évitez d’implémenter des interfaces de collection sur des types avec des API complexes sans rapport avec le concept d’une collection.</span><span class="sxs-lookup"><span data-stu-id="234fa-176">❌ AVOID implementing collection interfaces on types with complex APIs unrelated to the concept of a collection.</span></span>

 <span data-ttu-id="234fa-177">❌ N’héritez pas de collections de base non génériques telles que `CollectionBase` .</span><span class="sxs-lookup"><span data-stu-id="234fa-177">❌ DO NOT inherit from nongeneric base collections such as `CollectionBase`.</span></span> <span data-ttu-id="234fa-178">Utilisez `Collection<T>` , `ReadOnlyCollection<T>` et à la `KeyedCollection<TKey,TItem>` place.</span><span class="sxs-lookup"><span data-stu-id="234fa-178">Use `Collection<T>`, `ReadOnlyCollection<T>`, and `KeyedCollection<TKey,TItem>` instead.</span></span>

### <a name="naming-custom-collections"></a><span data-ttu-id="234fa-179">Nommer des collections personnalisées</span><span class="sxs-lookup"><span data-stu-id="234fa-179">Naming Custom Collections</span></span>
 <span data-ttu-id="234fa-180">Les collections (types qui implémentent `IEnumerable` ) sont créées principalement pour deux raisons : (1) pour créer une nouvelle structure de données avec des opérations spécifiques à la structure et souvent différentes caractéristiques de performances que les structures de données existantes (par exemple,,,  <xref:System.Collections.Generic.List%601> <xref:System.Collections.Generic.LinkedList%601> <xref:System.Collections.Generic.Stack%601> ) et (2) pour créer une collection spécialisée pour conserver un ensemble spécifique d’éléments (par exemple,  <xref:System.Collections.Specialized.StringCollection> ).</span><span class="sxs-lookup"><span data-stu-id="234fa-180">Collections (types that implement `IEnumerable`) are created mainly for two reasons: (1) to create a new data structure with structure-specific operations and often different performance characteristics than existing data structures (e.g.,  <xref:System.Collections.Generic.List%601>, <xref:System.Collections.Generic.LinkedList%601>, <xref:System.Collections.Generic.Stack%601>), and (2) to create a specialized collection for holding a specific set of items (e.g.,  <xref:System.Collections.Specialized.StringCollection>).</span></span> <span data-ttu-id="234fa-181">Les structures de données sont le plus souvent utilisées dans l’implémentation interne des applications et des bibliothèques.</span><span class="sxs-lookup"><span data-stu-id="234fa-181">Data structures are most often used in the internal implementation of applications and libraries.</span></span> <span data-ttu-id="234fa-182">Les collections spécialisées sont principalement exposées dans les API (en tant que types de propriété et de paramètre).</span><span class="sxs-lookup"><span data-stu-id="234fa-182">Specialized collections are mainly to be exposed in APIs (as property and parameter types).</span></span>

 <span data-ttu-id="234fa-183">✔️ Utilisez le suffixe « dictionary » dans les noms d’abstractions implémentant `IDictionary` ou `IDictionary<TKey,TValue>` .</span><span class="sxs-lookup"><span data-stu-id="234fa-183">✔️ DO use the "Dictionary" suffix in names of abstractions implementing `IDictionary` or `IDictionary<TKey,TValue>`.</span></span>

 <span data-ttu-id="234fa-184">✔️ Utilisez le suffixe « collection » dans les noms des types `IEnumerable` qui implémentent (ou l’un de ses descendants) et qui représentent une liste d’éléments.</span><span class="sxs-lookup"><span data-stu-id="234fa-184">✔️ DO use the "Collection" suffix in names of types implementing `IEnumerable` (or any of its descendants) and representing a list of items.</span></span>

 <span data-ttu-id="234fa-185">✔️ Utilisez le nom de structure de données approprié pour les structures de données personnalisées.</span><span class="sxs-lookup"><span data-stu-id="234fa-185">✔️ DO use the appropriate data structure name for custom data structures.</span></span>

 <span data-ttu-id="234fa-186">❌ Évitez d’utiliser des suffixes qui impliquent une implémentation particulière, telle que « LinkedList » ou « Hashtable », dans les noms des abstractions de collection.</span><span class="sxs-lookup"><span data-stu-id="234fa-186">❌ AVOID using any suffixes implying particular implementation, such as "LinkedList" or "Hashtable," in names of collection abstractions.</span></span>

 <span data-ttu-id="234fa-187">✔️ envisagez de préfixer les noms de collections avec le nom du type d’élément.</span><span class="sxs-lookup"><span data-stu-id="234fa-187">✔️ CONSIDER prefixing collection names with the name of the item type.</span></span> <span data-ttu-id="234fa-188">Par exemple, une collection qui stocke des éléments de type `Address` (implémentation `IEnumerable<Address>` ) doit être nommée `AddressCollection` .</span><span class="sxs-lookup"><span data-stu-id="234fa-188">For example, a collection storing items of type `Address` (implementing `IEnumerable<Address>`) should be named `AddressCollection`.</span></span> <span data-ttu-id="234fa-189">Si le type d’élément est une interface, le préfixe « I » du type d’élément peut être omis.</span><span class="sxs-lookup"><span data-stu-id="234fa-189">If the item type is an interface, the "I" prefix of the item type can be omitted.</span></span> <span data-ttu-id="234fa-190">Par conséquent, une collection d' <xref:System.IDisposable> éléments peut être appelée `DisposableCollection` .</span><span class="sxs-lookup"><span data-stu-id="234fa-190">Thus, a collection of <xref:System.IDisposable> items can be called `DisposableCollection`.</span></span>

 <span data-ttu-id="234fa-191">✔️ envisagez d’utiliser le préfixe « ReadOnly » dans les noms de collections en lecture seule si une collection accessible en écriture correspondante peut être ajoutée ou existe déjà dans le Framework.</span><span class="sxs-lookup"><span data-stu-id="234fa-191">✔️ CONSIDER using the "ReadOnly" prefix in names of read-only collections if a corresponding writeable collection might be added or already exists in the framework.</span></span>

 <span data-ttu-id="234fa-192">Par exemple, une collection de chaînes en lecture seule doit être appelée `ReadOnlyStringCollection` .</span><span class="sxs-lookup"><span data-stu-id="234fa-192">For example, a read-only collection of strings should be called `ReadOnlyStringCollection`.</span></span>

 <span data-ttu-id="234fa-193">*Parties © 2005, 2009 Microsoft Corporation. Tous droits réservés.*</span><span class="sxs-lookup"><span data-stu-id="234fa-193">*Portions © 2005, 2009 Microsoft Corporation. All rights reserved.*</span></span>

 <span data-ttu-id="234fa-194">*Réimprimé avec l’autorisation de Pearson Education, Inc. et extrait de [Framework Design Guidelines: Conventions, Idioms, and Patterns for Reusable .NET Libraries, 2nd Edition](https://www.informit.com/store/framework-design-guidelines-conventions-idioms-and-9780321545619) par Krzysztof Cwalina et Brad Abrams, publié le 22 octobre 2008 par Addison-Wesley Professional dans le cadre de la série sur le développement Microsoft Windows.*</span><span class="sxs-lookup"><span data-stu-id="234fa-194">*Reprinted by permission of Pearson Education, Inc. from [Framework Design Guidelines: Conventions, Idioms, and Patterns for Reusable .NET Libraries, 2nd Edition](https://www.informit.com/store/framework-design-guidelines-conventions-idioms-and-9780321545619) by Krzysztof Cwalina and Brad Abrams, published Oct 22, 2008 by Addison-Wesley Professional as part of the Microsoft Windows Development Series.*</span></span>

## <a name="see-also"></a><span data-ttu-id="234fa-195">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="234fa-195">See also</span></span>

- [<span data-ttu-id="234fa-196">Directives de conception d’infrastructure</span><span class="sxs-lookup"><span data-stu-id="234fa-196">Framework Design Guidelines</span></span>](index.md)
- [<span data-ttu-id="234fa-197">Instructions d’utilisation</span><span class="sxs-lookup"><span data-stu-id="234fa-197">Usage Guidelines</span></span>](usage-guidelines.md)
