---
title: Visual Studio Tools pour Docker sur Windows
description: Familiarisez-vous avec les outils Docker disponibles dans Visual Studio 2017 version 15.7 et ultérieure.
author: CESARDELATORRE
ms.author: wiwagn
ms.date: 02/15/2019
ms.custom: vs-dotnet
ms.openlocfilehash: d361b0c471402c097dfac799eb58ef08209d4343
ms.sourcegitcommit: 2701302a99cafbe0d86d53d540eb0fa7e9b46b36
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 04/28/2019
ms.locfileid: "64664349"
---
# <a name="use-docker-tools-in-visual-studio-2017-on-windows"></a><span data-ttu-id="ae983-103">Utilisez des outils Docker dans Visual Studio 2017 sur Windows</span><span class="sxs-lookup"><span data-stu-id="ae983-103">Use Docker Tools in Visual Studio 2017 on Windows</span></span>

<span data-ttu-id="ae983-104">Le flux de travail de développeur lorsque vous utilisez les outils Docker inclus dans Visual Studio 2017 version 15.7 et ultérieure, est similaire à l’aide de Visual Studio Code et interface CLI Docker (en fait, il est basé sur la même interface CLI Docker), mais il est plus facile de commencer, simplifie le processus, et Fournit une plus grande productivité pour la build, exécuter et composer des tâches.</span><span class="sxs-lookup"><span data-stu-id="ae983-104">The developer workflow when using the Docker Tools included in Visual Studio 2017 version 15.7 and later, is similar to using Visual Studio Code and Docker CLI (in fact, it's based on the same Docker CLI), but it's easier to get started, simplifies the process, and provides greater productivity for the build, run, and compose tasks.</span></span> <span data-ttu-id="ae983-105">Elle peut également exécuter et déboguer vos conteneurs via habituelles `F5` et `Ctrl+F5` clés à partir de Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="ae983-105">It can also run and debug your containers via the usual `F5` and `Ctrl+F5` keys from Visual Studio.</span></span> <span data-ttu-id="ae983-106">Vous pouvez même déboguer une solution dans son intégralité si ses conteneurs sont définis dans le même `docker-compose.yml` fichier au niveau de la solution.</span><span class="sxs-lookup"><span data-stu-id="ae983-106">You can even debug a whole solution if its containers are defined in the same `docker-compose.yml` file at the solution level.</span></span>

## <a name="configure-your-local-environment"></a><span data-ttu-id="ae983-107">Configurer votre environnement local</span><span class="sxs-lookup"><span data-stu-id="ae983-107">Configure your local environment</span></span>

<span data-ttu-id="ae983-108">Avec les dernières versions de Docker pour Windows, il est plus facile que jamais pour développer des applications Docker, car le programme d’installation est simple, comme expliqué dans les références suivantes.</span><span class="sxs-lookup"><span data-stu-id="ae983-108">With the latest versions of Docker for Windows, it's easier than ever to develop Docker applications because the setup is straightforward, as explained in the following references.</span></span>

> [!TIP]
> <span data-ttu-id="ae983-109">Pour en savoir plus sur l’installation de Docker pour Windows, accédez à (<https://docs.docker.com/docker-for-windows/>).</span><span class="sxs-lookup"><span data-stu-id="ae983-109">To learn more about installing Docker for Windows, go to (<https://docs.docker.com/docker-for-windows/>).</span></span>

## <a name="docker-support-in-visual-studio-2017"></a><span data-ttu-id="ae983-110">Prise en charge de docker dans Visual Studio 2017</span><span class="sxs-lookup"><span data-stu-id="ae983-110">Docker support in Visual Studio 2017</span></span>

<span data-ttu-id="ae983-111">Il existe deux niveaux de prise en charge de Docker que vous pouvez ajouter à un projet.</span><span class="sxs-lookup"><span data-stu-id="ae983-111">There are two levels of Docker support you can add to a project.</span></span> <span data-ttu-id="ae983-112">Dans les projets ASP.NET Core, vous pouvez simplement ajouter un `Dockerfile` fichier au projet en activant la prise en charge Docker.</span><span class="sxs-lookup"><span data-stu-id="ae983-112">In ASP.NET Core projects, you can just add a `Dockerfile` file to the project by enabling Docker support.</span></span> <span data-ttu-id="ae983-113">Le niveau suivant est prise en charge de conteneurs d’orchestration, qui ajoute un `Dockerfile` au projet (s’il n’existe pas déjà) et un `docker-compose.yml` fichier au niveau de la solution.</span><span class="sxs-lookup"><span data-stu-id="ae983-113">The next level is container orchestration support, which adds a `Dockerfile` to the project (if it doesn't already exist) and a `docker-compose.yml` file at the solution level.</span></span> <span data-ttu-id="ae983-114">Prise en charge d’orchestration de conteneur, via Docker Compose, est ajouté par défaut dans Visual Studio 2017 version 15.0 pour 15.7.</span><span class="sxs-lookup"><span data-stu-id="ae983-114">Container orchestration support, via Docker Compose, is added by default in Visual Studio 2017 versions 15.0 to 15.7.</span></span> <span data-ttu-id="ae983-115">Prise en charge d’orchestration de conteneur est une fonctionnalité à activer dans les versions de Visual Studio 2017 15,8 ou version ultérieures.</span><span class="sxs-lookup"><span data-stu-id="ae983-115">Container orchestration support is an opt-in feature in Visual Studio 2017 versions 15.8 or later.</span></span> <span data-ttu-id="ae983-116">Version 15.8 une version ultérieure prennent en charge Docker Compose et Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="ae983-116">Version 15.8 an later support Docker Compose and Service Fabric.</span></span>

<span data-ttu-id="ae983-117">Le **Ajouter > prise en charge Docker** et **Ajouter > prise en charge de conteneurs Orchestrator** commandes se trouvent sur le menu contextuel (ou le menu contextuel) du nœud du projet pour un projet ASP.NET Core dans  **L’Explorateur de solutions**, comme illustré dans la Figure 4-31 :</span><span class="sxs-lookup"><span data-stu-id="ae983-117">The **Add > Docker Support** and **Add > Container Orchestrator Support** commands are located on the right-click menu (or context menu) of the project node for an ASP.NET Core project in **Solution Explorer**, as shown in Figure 4-31:</span></span>

![Option de menu Ajouter la prise en charge de Docker dans Visual Studio](./media/add-docker-support-menu.png)

<span data-ttu-id="ae983-119">**Figure 4-31**.</span><span class="sxs-lookup"><span data-stu-id="ae983-119">**Figure 4-31**.</span></span> <span data-ttu-id="ae983-120">Ajout de prise en charge Docker à un projet Visual Studio 2017</span><span class="sxs-lookup"><span data-stu-id="ae983-120">Adding Docker support to a Visual Studio 2017 project</span></span>

### <a name="add-docker-support"></a><span data-ttu-id="ae983-121">Ajouter la prise en charge Docker</span><span class="sxs-lookup"><span data-stu-id="ae983-121">Add Docker support</span></span>

<span data-ttu-id="ae983-122">Vous pouvez ajouter la prise en charge Docker à un projet ASP.NET Core existant en sélectionnant **ajouter** > **prennent en charge de Docker** dans **l’Explorateur de solutions**.</span><span class="sxs-lookup"><span data-stu-id="ae983-122">You can add Docker support to an existing ASP.NET Core project by selecting **Add** > **Docker Support** in **Solution Explorer**.</span></span> <span data-ttu-id="ae983-123">Vous pouvez également activer la prise en charge de Docker lors de la création du projet en sélectionnant **activer la prise en charge Docker** dans le **nouvelle Application de Web ASP.NET Core** boîte de dialogue qui s’ouvre après avoir cliqué sur **OK** dans le **nouveau projet** boîte de dialogue, comme illustré dans la Figure 4-32.</span><span class="sxs-lookup"><span data-stu-id="ae983-123">You can also enable Docker support during project creation by selecting **Enable Docker Support** in the **New ASP.NET Core Web Application** dialog box that opens after you click **OK** in the **New Project** dialog box, as shown in Figure 4-32.</span></span>

![Activer la prise en charge de Docker pour une nouvelle application web ASP.NET Core dans Visual Studio](./media/enable-docker-support-visual-studio.png)

<span data-ttu-id="ae983-125">**Figure 4-32**.</span><span class="sxs-lookup"><span data-stu-id="ae983-125">**Figure 4-32**.</span></span> <span data-ttu-id="ae983-126">Activer la prise en charge Docker lors de la création du projet dans Visual Studio 2017</span><span class="sxs-lookup"><span data-stu-id="ae983-126">Enable Docker support during project creation in Visual Studio 2017</span></span>

<span data-ttu-id="ae983-127">Lorsque vous ajoutez ou activez la prise en charge Docker, Visual Studio ajoute un *Dockerfile* fichier au projet.</span><span class="sxs-lookup"><span data-stu-id="ae983-127">When you add or enable Docker support, Visual Studio adds a *Dockerfile* file to the project.</span></span>

> [!NOTE]
> <span data-ttu-id="ae983-128">Lorsque vous activez la prise en charge de Docker Compose lors de la création de projet pour un projet ASP.NET (.NET Framework, pas un projet .NET Core) comme indiqué dans la Figure 4-33, prise en charge d’orchestration de conteneurs est également ajouté.</span><span class="sxs-lookup"><span data-stu-id="ae983-128">When you enable Docker Compose support during project creation for a ASP.NET project (.NET Framework, not a .NET Core project) as shown in Figure 4-33, container orchestration support is also added.</span></span>

![Activer la prise en charge de Docker Compose pour un projet ASP.NET](media/enable-docker-compose-support.png)

<span data-ttu-id="ae983-130">**Figure 4-33**.</span><span class="sxs-lookup"><span data-stu-id="ae983-130">**Figure 4-33**.</span></span> <span data-ttu-id="ae983-131">Prise en charge de Docker Compose pour un projet ASP.NET dans Visual Studio 2017</span><span class="sxs-lookup"><span data-stu-id="ae983-131">Enabling Docker Compose support for an ASP.NET project in Visual Studio 2017</span></span>

### <a name="add-container-orchestration-support"></a><span data-ttu-id="ae983-132">Ajouter la prise en charge d’orchestration de conteneurs</span><span class="sxs-lookup"><span data-stu-id="ae983-132">Add container orchestration support</span></span>

<span data-ttu-id="ae983-133">Lorsque vous souhaitez composer une solution de plusieurs conteneurs, ajouter la prise en charge d’orchestration de conteneurs à vos projets.</span><span class="sxs-lookup"><span data-stu-id="ae983-133">When you want to compose a multi-container solution, add container orchestration support to your projects.</span></span> <span data-ttu-id="ae983-134">Cela vous permet d’exécuter et déboguer un groupe de conteneurs (un ensemble de la solution) en même temps, si elles sont définies dans le même *docker-compose.yml* fichier.</span><span class="sxs-lookup"><span data-stu-id="ae983-134">This lets you run and debug a group of containers (a whole solution) at the same time if they're defined in the same *docker-compose.yml* file.</span></span>

<span data-ttu-id="ae983-135">Pour ajouter la prise en charge d’orchestration de conteneur, cliquez sur le nœud solution ou projet dans **l’Explorateur de solutions**, puis choisissez **Ajouter > Orchestration de conteneur prend en charge**.</span><span class="sxs-lookup"><span data-stu-id="ae983-135">To add container orchestration support, right-click on the solution or project node in **Solution Explorer**, and choose **Add > Container Orchestration Support**.</span></span> <span data-ttu-id="ae983-136">Puis choisissez **Docker Compose** ou **Service Fabric** pour gérer les conteneurs.</span><span class="sxs-lookup"><span data-stu-id="ae983-136">Then choose **Docker Compose** or **Service Fabric** to manage the containers.</span></span>

<span data-ttu-id="ae983-137">Après avoir ajouté la prise en charge d’orchestration de conteneurs à votre projet, vous voyez un fichier Dockerfile ajouté au projet et un **docker-compose** dossier ajouté à la solution dans **l’Explorateur de solutions**, comme illustré dans la Figure 4-34 :</span><span class="sxs-lookup"><span data-stu-id="ae983-137">After you add container orchestration support to your project, you see a Dockerfile added to the project and a **docker-compose** folder added to the solution in **Solution Explorer**, as shown in Figure 4-34:</span></span>

![Fichiers Docker dans l’Explorateur de solutions de Visual Studio](media/docker-support-solution-explorer.png)

<span data-ttu-id="ae983-139">**Figure 4-34**.</span><span class="sxs-lookup"><span data-stu-id="ae983-139">**Figure 4-34**.</span></span> <span data-ttu-id="ae983-140">Fichiers docker dans l’Explorateur de solutions dans Visual Studio 2017</span><span class="sxs-lookup"><span data-stu-id="ae983-140">Docker files in Solution Explorer in Visual Studio 2017</span></span>

<span data-ttu-id="ae983-141">Si le fichier *docker-compose.yml* existe déjà, Visual Studio ajoute simplement les lignes de code de configuration requises.</span><span class="sxs-lookup"><span data-stu-id="ae983-141">If *docker-compose.yml* already exists, Visual Studio just adds the required lines of configuration code to it.</span></span>

## <a name="configure-docker-tools"></a><span data-ttu-id="ae983-142">Configurer les outils Docker</span><span class="sxs-lookup"><span data-stu-id="ae983-142">Configure Docker tools</span></span>

<span data-ttu-id="ae983-143">Dans le menu principal, choisissez **Outils > Options**et développez **conteneur Outils > paramètres**.</span><span class="sxs-lookup"><span data-stu-id="ae983-143">From the main menu, choose **Tools > Options**, and expand **Container Tools > Settings**.</span></span> <span data-ttu-id="ae983-144">Les paramètres d’outils de conteneur s’affichent.</span><span class="sxs-lookup"><span data-stu-id="ae983-144">The container tools settings appear.</span></span>

![Docker pour Visual Studio outils options, montrant : Extraire automatiquement des images Docker nécessaires lors du chargement du projet, démarrer automatiquement les conteneurs en arrière-plan, arrêter automatiquement les conteneurs sur la solution de fermeture et ne pas demander de l’approbation certificat SSL.](./media/visual-studio-docker-tools-options.png)

<span data-ttu-id="ae983-146">**Figure 4-35**.</span><span class="sxs-lookup"><span data-stu-id="ae983-146">**Figure 4-35**.</span></span> <span data-ttu-id="ae983-147">Options des outils docker</span><span class="sxs-lookup"><span data-stu-id="ae983-147">Docker Tools Options</span></span>

<span data-ttu-id="ae983-148">Le tableau suivant peut vous aider à décider comment définir ces options.</span><span class="sxs-lookup"><span data-stu-id="ae983-148">The following table might help you decide how to set these options.</span></span>

| <span data-ttu-id="ae983-149">Nom</span><span class="sxs-lookup"><span data-stu-id="ae983-149">Name</span></span> | <span data-ttu-id="ae983-150">Paramètre par défaut</span><span class="sxs-lookup"><span data-stu-id="ae983-150">Default Setting</span></span> | <span data-ttu-id="ae983-151">S'applique à</span><span class="sxs-lookup"><span data-stu-id="ae983-151">Applies To</span></span> | <span data-ttu-id="ae983-152">Description</span><span class="sxs-lookup"><span data-stu-id="ae983-152">Description</span></span> |
| -----|:---------------:|:----------:| ----------- |
| <span data-ttu-id="ae983-153">Extraire automatiquement des images Docker nécessaires lors du chargement du projet</span><span class="sxs-lookup"><span data-stu-id="ae983-153">Automatically pull required Docker images on project load</span></span> | <span data-ttu-id="ae983-154">Activé</span><span class="sxs-lookup"><span data-stu-id="ae983-154">On</span></span> | <span data-ttu-id="ae983-155">Docker Compose</span><span class="sxs-lookup"><span data-stu-id="ae983-155">Docker Compose</span></span> | <span data-ttu-id="ae983-156">Pour améliorer les performances lors du chargement des projets, Visual Studio démarre une opération d’extraction de Docker en arrière-plan afin que lorsque vous êtes prêt à exécuter votre code, l’image est déjà téléchargée ou en cours de téléchargement.</span><span class="sxs-lookup"><span data-stu-id="ae983-156">For increased performance when loading projects, Visual Studio will start a Docker pull operation in the background so that when you're ready to run your code, the image is already downloaded or in the process of downloading.</span></span> <span data-ttu-id="ae983-157">Si vous êtes simplement charger les projets et parcourez le code, vous pouvez désactiver cette option pour éviter le téléchargement des images de conteneur que vous n’avez pas besoin.</span><span class="sxs-lookup"><span data-stu-id="ae983-157">If you're just loading projects and browsing code, you can turn this off to avoid downloading container images you don't need.</span></span> |
| <span data-ttu-id="ae983-158">Démarrer automatiquement les conteneurs en arrière-plan</span><span class="sxs-lookup"><span data-stu-id="ae983-158">Automatically start containers in background</span></span> | <span data-ttu-id="ae983-159">Activé</span><span class="sxs-lookup"><span data-stu-id="ae983-159">On</span></span> | <span data-ttu-id="ae983-160">Docker Compose</span><span class="sxs-lookup"><span data-stu-id="ae983-160">Docker Compose</span></span> | <span data-ttu-id="ae983-161">À nouveau pour de meilleures performances, Visual Studio crée un conteneur avec les montages de volume prêt pour lorsque vous générez et exécutez votre conteneur.</span><span class="sxs-lookup"><span data-stu-id="ae983-161">Again for increased performance, Visual Studio creates a container with volume mounts ready for when you build and run your container.</span></span> <span data-ttu-id="ae983-162">Si vous souhaitez contrôler la création de votre conteneur, désactivez cette option.</span><span class="sxs-lookup"><span data-stu-id="ae983-162">If you want to control when your container is created, turn this off.</span></span> |
| <span data-ttu-id="ae983-163">Ferment automatiquement les conteneurs kill sur la solution</span><span class="sxs-lookup"><span data-stu-id="ae983-163">Automatically kill containers on solution close</span></span> | <span data-ttu-id="ae983-164">Activé</span><span class="sxs-lookup"><span data-stu-id="ae983-164">On</span></span> | <span data-ttu-id="ae983-165">Docker Compose</span><span class="sxs-lookup"><span data-stu-id="ae983-165">Docker Compose</span></span> | <span data-ttu-id="ae983-166">Désactiver cette option si vous souhaitez que les conteneurs de votre solution continuer à exécuter après la fermeture de la solution ou de fermeture de Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="ae983-166">Turn this off if you would like containers for your solution to continue to run after closing the solution or closing Visual Studio.</span></span> |
| <span data-ttu-id="ae983-167">Ne demande pas de certificat SSL localhost approbation</span><span class="sxs-lookup"><span data-stu-id="ae983-167">Do not prompt for trusting localhost SSL certificate</span></span> | <span data-ttu-id="ae983-168">Off</span><span class="sxs-lookup"><span data-stu-id="ae983-168">Off</span></span> | <span data-ttu-id="ae983-169">Projets ASP.NET Core 2.2</span><span class="sxs-lookup"><span data-stu-id="ae983-169">ASP.NET Core 2.2 projects</span></span> | <span data-ttu-id="ae983-170">Si le certificat SSL localhost n’est pas approuvé, Visual Studio vous invite chaque fois que vous exécutez votre projet, sauf si cette case à cocher est activée.</span><span class="sxs-lookup"><span data-stu-id="ae983-170">If the localhost SSL certificate is not trusted, Visual Studio will prompt every time you run your project, unless this checkbox is checked.</span></span> |

> [!WARNING]
> <span data-ttu-id="ae983-171">Si le certificat SSL localhost n’est pas approuvé et que vous cochez la case pour supprimer l’invite, les demandes web HTTPS peuvent échouer lors de l’exécution dans votre application ou service.</span><span class="sxs-lookup"><span data-stu-id="ae983-171">If the localhost SSL certificate is not trusted, and you check the box to suppress prompting, then HTTPS web requests might fail at runtime in your app or service.</span></span> <span data-ttu-id="ae983-172">Dans ce cas, désactivez le **ne pas demander** case à cocher, exécuter votre projet et indiquer l’approbation à l’invite.</span><span class="sxs-lookup"><span data-stu-id="ae983-172">In that case, uncheck the **Do not prompt** checkbox, run your project, and indicate trust at the prompt.</span></span>

> [!TIP]
> <span data-ttu-id="ae983-173">Pour plus d’informations sur la mise en œuvre des services et l’utilisation de Visual Studio Tools pour Docker, lisez les articles suivants :</span><span class="sxs-lookup"><span data-stu-id="ae983-173">For further details on the services implementation and use of Visual Studio Tools for Docker, read the following articles:</span></span>
>
><span data-ttu-id="ae983-174">Débogage d’applications dans un conteneur Docker local : <https://docs.microsoft.com/azure/vs-azure-tools-docker-edit-and-refresh></span><span class="sxs-lookup"><span data-stu-id="ae983-174">Debugging apps in a local Docker container: <https://docs.microsoft.com/azure/vs-azure-tools-docker-edit-and-refresh></span></span>
>
><span data-ttu-id="ae983-175">Déployer un conteneur ASP.NET sur un Registre de conteneur à l’aide de Visual Studio : <https://docs.microsoft.com/azure/vs-azure-tools-docker-hosting-web-apps-in-docker></span><span class="sxs-lookup"><span data-stu-id="ae983-175">Deploy an ASP.NET container to a container registry using Visual Studio: <https://docs.microsoft.com/azure/vs-azure-tools-docker-hosting-web-apps-in-docker></span></span>

>[!div class="step-by-step"]
><span data-ttu-id="ae983-176">[Précédent](docker-apps-inner-loop-workflow.md)
>[Suivant](set-up-windows-containers-with-powershell.md)</span><span class="sxs-lookup"><span data-stu-id="ae983-176">[Previous](docker-apps-inner-loop-workflow.md)
[Next](set-up-windows-containers-with-powershell.md)</span></span>
