---
title: Globalisation
ms.date: 03/30/2017
ms.technology: dotnet-standard
dev_langs:
- csharp
- vb
helpviewer_keywords:
- globalization [.NET Framework], about globalization
- global applications, globalization
- international applications [.NET Framework], globalization
- world-ready applications, globalization
- application development [.NET Framework], globalization
- culture, globalization
ms.assetid: 4e919934-6b19-42f2-b770-275a4fae87c9
ms.openlocfilehash: fe03bbdd7d037a9f1fb4985b62b447c6ef9c6535
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 03/15/2020
ms.locfileid: "79174782"
---
# <a name="globalization"></a><span data-ttu-id="0846b-102">Globalisation</span><span class="sxs-lookup"><span data-stu-id="0846b-102">Globalization</span></span>

<span data-ttu-id="0846b-103">La globalisation a trait à la conception et au développement d’applications universelles qui prennent en charge les interfaces localisées et les données régionales pour les utilisateurs de diverses cultures.</span><span class="sxs-lookup"><span data-stu-id="0846b-103">Globalization involves designing and developing a world-ready app that supports localized interfaces and regional data for users in multiple cultures.</span></span> <span data-ttu-id="0846b-104">Avant d’entreprendre la phase de conception, vous devez déterminer les cultures que votre application devra prendre en charge.</span><span class="sxs-lookup"><span data-stu-id="0846b-104">Before beginning the design phase, you should determine which cultures your app will support.</span></span> <span data-ttu-id="0846b-105">Bien qu’une application cible par défaut une seule et même culture ou région, vous pouvez la concevoir et l’écrire de façon à faciliter son extension à d’autres cultures ou régions.</span><span class="sxs-lookup"><span data-stu-id="0846b-105">Although an app targets a single culture or region as its default, you can design and write it so that it can easily be extended to users in other cultures or regions.</span></span>

<span data-ttu-id="0846b-106">En tant que développeurs, nous avons tous des principes en matière d’interfaces utilisateur et des données qui sont formées par nos cultures.</span><span class="sxs-lookup"><span data-stu-id="0846b-106">As developers, we all have assumptions about user interfaces and data that are formed by our cultures.</span></span> <span data-ttu-id="0846b-107">Par exemple, pour un développeur dont la langue est l’anglais des États-Unis, sérialiser les données de date et d’heure sous forme de chaîne au format `MM/dd/yyyy hh:mm:ss` semble tout à fait raisonnable.</span><span class="sxs-lookup"><span data-stu-id="0846b-107">For example, for an English-speaking developer in the United States, serializing date and time data as a string in the format `MM/dd/yyyy hh:mm:ss` seems perfectly reasonable.</span></span> <span data-ttu-id="0846b-108">Cependant, la désérialisation de cette chaîne sur un système d’une autre culture est susceptible de lever une exception <xref:System.FormatException> ou de produire des données incorrectes.</span><span class="sxs-lookup"><span data-stu-id="0846b-108">However, deserializing that string on a system in a different culture is likely to throw a <xref:System.FormatException> exception or produce inaccurate data.</span></span> <span data-ttu-id="0846b-109">La globalisation nous permet d’identifier ces principes propres aux cultures et de s’assurer qu’elles n’affectent pas la conception ou le code de notre application.</span><span class="sxs-lookup"><span data-stu-id="0846b-109">Globalization enables us to identify such culture-specific assumptions and ensure that they do not affect our app's design or code.</span></span>

<span data-ttu-id="0846b-110">Cet article expose certaines des questions phares que vous devez prendre en considération, ainsi que les bonnes pratiques que vous pouvez suivre pour gérer les chaînes, les valeurs de date et d’heure et les valeurs numériques dans une application globalisée.</span><span class="sxs-lookup"><span data-stu-id="0846b-110">This article discusses some of the major issues you should consider and the best practices you can follow when handling strings, date and time values, and numeric values in a globalized app.</span></span>

## <a name="strings"></a><span data-ttu-id="0846b-111">Chaînes</span><span class="sxs-lookup"><span data-stu-id="0846b-111">Strings</span></span>

<span data-ttu-id="0846b-112">La gestion des caractères et des chaînes est un élément central de la globalisation, car chaque culture ou région peut utiliser des caractères et des jeux de caractères différents et les trier différemment.</span><span class="sxs-lookup"><span data-stu-id="0846b-112">The handling of characters and strings is a central focus of globalization, because each culture or region may use different characters and character sets and sort them differently.</span></span> <span data-ttu-id="0846b-113">Cette section émet des recommandations pour l’utilisation de chaînes dans les applications globalisées.</span><span class="sxs-lookup"><span data-stu-id="0846b-113">This section provides recommendations for using strings in globalized apps.</span></span>

### <a name="use-unicode-internally"></a><span data-ttu-id="0846b-114">Utiliser Unicode en interne</span><span class="sxs-lookup"><span data-stu-id="0846b-114">Use Unicode internally</span></span>

<span data-ttu-id="0846b-115">Par défaut, .NET utilise des chaînes Unicode.</span><span class="sxs-lookup"><span data-stu-id="0846b-115">By default, .NET uses Unicode strings.</span></span> <span data-ttu-id="0846b-116">Une chaîne Unicode se compose de zéro, un ou plusieurs objets <xref:System.Char>, chacun représentant une unité de code UTF-16.</span><span class="sxs-lookup"><span data-stu-id="0846b-116">A Unicode string consists of zero, one, or more <xref:System.Char> objects, each of which represents a UTF-16 code unit.</span></span> <span data-ttu-id="0846b-117">Il existe une représentation Unicode pour pratiquement tous les caractères de chaque jeu de caractères utilisé dans le monde.</span><span class="sxs-lookup"><span data-stu-id="0846b-117">There is a Unicode representation for almost every character in every character set in use throughout the world.</span></span>

<span data-ttu-id="0846b-118">Beaucoup d’applications et de systèmes d’exploitation, dont le système d’exploitation Windows, peuvent aussi utiliser des pages de codes pour représenter des jeux de caractères.</span><span class="sxs-lookup"><span data-stu-id="0846b-118">Many applications and operating systems, including the Windows operating system, can use also use code pages to represent character sets.</span></span> <span data-ttu-id="0846b-119">Les pages de codes contiennent généralement les valeurs ASCII standard (de 0x00 à 0x7F) et mappent les autres caractères aux valeurs restantes (de 0x80 à 0xFF).</span><span class="sxs-lookup"><span data-stu-id="0846b-119">Code pages typically contain the standard ASCII values from 0x00 through 0x7F and map other characters to the remaining values from 0x80 through 0xFF.</span></span> <span data-ttu-id="0846b-120">L’interprétation des valeurs 0x80 à 0xFF dépend de la page de codes utilisée.</span><span class="sxs-lookup"><span data-stu-id="0846b-120">The interpretation of values from 0x80 through 0xFF depends on the specific code page.</span></span> <span data-ttu-id="0846b-121">C’est pour cette raison que vous devez éviter d’utiliser des pages de codes dans une application globalisée, dans la mesure du possible.</span><span class="sxs-lookup"><span data-stu-id="0846b-121">Because of this, you should avoid using code pages in a globalized app if possible.</span></span>

<span data-ttu-id="0846b-122">L’exemple suivant illustre les risques liés à l’interprétation des données de page de codes quand la page de codes par défaut d’un système est différente de celle sur lequel les données ont été enregistrées.</span><span class="sxs-lookup"><span data-stu-id="0846b-122">The following example illustrates the dangers of interpreting code page data when the default code page on a system is different from the code page on which the data was saved.</span></span> <span data-ttu-id="0846b-123">(Pour simuler ce scénario, l’exemple spécifie explicitement différentes pages de code.) Tout d’abord, l’exemple définit un tableau qui se compose des caractères supérieurs de l’alphabet grec.</span><span class="sxs-lookup"><span data-stu-id="0846b-123">(To simulate this scenario, the example explicitly specifies different code pages.) First, the example defines an array that consists of the uppercase characters of the Greek alphabet.</span></span> <span data-ttu-id="0846b-124">Ces caractères sont encodés dans un tableau d’octets en utilisant la page de codes 737 (aussi appelée MS-DOS Grec), tableau d’octets qui est ensuite enregistré dans un fichier.</span><span class="sxs-lookup"><span data-stu-id="0846b-124">It encodes them into a byte array by using code page 737 (also known as MS-DOS Greek) and saves the byte array to a file.</span></span> <span data-ttu-id="0846b-125">Si le fichier est récupéré et que son tableau d’octets est décodé en utilisant la page de codes 737, les caractères d’origine sont restaurés.</span><span class="sxs-lookup"><span data-stu-id="0846b-125">If the file is retrieved and its byte array is decoded by using code page 737, the original characters are restored.</span></span> <span data-ttu-id="0846b-126">En revanche, si le fichier est récupéré et que son tableau d’octets est décodé en utilisant la page de codes 1252 (ou Windows-1252, qui représente les caractères de l’alphabet latin), les caractères d’origine sont perdus.</span><span class="sxs-lookup"><span data-stu-id="0846b-126">However, if the file is retrieved and its byte array is decoded by using code page 1252 (or Windows-1252, which represents characters in the Latin alphabet), the original characters are lost.</span></span>

[!code-csharp[Conceptual.Globalization#1](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.globalization/cs/codepages1.cs#1)]
[!code-vb[Conceptual.Globalization#1](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.globalization/vb/codepages1.vb#1)]

<span data-ttu-id="0846b-127">L’utilisation d’Unicode est la garantie que les mêmes unités de code correspondent toujours aux mêmes caractères, et que les mêmes caractères correspondent toujours aux mêmes tableaux d’octets.</span><span class="sxs-lookup"><span data-stu-id="0846b-127">The use of Unicode ensures that the same code units always map to the same characters, and that the same characters always map to the same byte arrays.</span></span>

### <a name="use-resource-files"></a><span data-ttu-id="0846b-128">Utiliser les fichiers de ressources</span><span class="sxs-lookup"><span data-stu-id="0846b-128">Use resource files</span></span>

<span data-ttu-id="0846b-129">Même si vous décidez de développer une application qui cible une seule et même culture ou région, vous avez tout intérêt à utiliser des fichiers de ressources pour y stocker les chaînes et les autres ressources qui s’afficheront dans l’interface utilisateur.</span><span class="sxs-lookup"><span data-stu-id="0846b-129">Even if you are developing an app that targets a single culture or region, you should use resource files to store strings and other resources that are displayed in the user interface.</span></span> <span data-ttu-id="0846b-130">Vous ne devez jamais les ajouter directement à votre code.</span><span class="sxs-lookup"><span data-stu-id="0846b-130">You should never add them directly to your code.</span></span> <span data-ttu-id="0846b-131">L’utilisation de fichiers de ressources offre un certain nombre d’avantages :</span><span class="sxs-lookup"><span data-stu-id="0846b-131">Using resource files has a number of advantages:</span></span>

- <span data-ttu-id="0846b-132">Toutes les chaînes se trouvent à un même emplacement.</span><span class="sxs-lookup"><span data-stu-id="0846b-132">All the strings are in a single location.</span></span> <span data-ttu-id="0846b-133">Vous n’avez pas besoin de parcourir tout le code source pour identifier les chaînes à modifier pour une langue ou une culture donnée.</span><span class="sxs-lookup"><span data-stu-id="0846b-133">You don't have to search throughout your source code to identify strings to modify for a specific language or culture.</span></span>

- <span data-ttu-id="0846b-134">Il n’est pas nécessaire de dupliquer les chaînes.</span><span class="sxs-lookup"><span data-stu-id="0846b-134">There is no need to duplicate strings.</span></span> <span data-ttu-id="0846b-135">Souvent, les développeurs qui n’utilisent pas de fichiers de ressources définissent une même chaîne dans plusieurs fichiers de code source.</span><span class="sxs-lookup"><span data-stu-id="0846b-135">Developers who don't use resource files often define the same string in multiple source code files.</span></span> <span data-ttu-id="0846b-136">Or, cette duplication augmente les chances d’oubli d’une ou plusieurs instances d’une chaîne modifiée.</span><span class="sxs-lookup"><span data-stu-id="0846b-136">This duplication increases the probability that one or more instances will be overlooked when a string is modified.</span></span>

- <span data-ttu-id="0846b-137">Au lieu de stocker les ressources qui ne sont pas des chaînes (p.ex., images ou données binaires) dans un fichier autonome, vous pouvez les inclure dans le fichier de ressources de façon à en faciliter la récupération.</span><span class="sxs-lookup"><span data-stu-id="0846b-137">You can include non-string resources, such as images or binary data, in the resource file instead of storing them in a separate standalone file, so they can be retrieved easily.</span></span>

<span data-ttu-id="0846b-138">L’utilisation de fichiers de ressources offre des avantages particuliers si vous créez une application localisée.</span><span class="sxs-lookup"><span data-stu-id="0846b-138">Using resource files has particular advantages if you are creating a localized app.</span></span> <span data-ttu-id="0846b-139">Quand vous déployez des ressources dans des assemblys satellites, le common language runtime sélectionne automatiquement la ressource adaptée à la culture en fonction de la culture d’interface utilisateur active de l’utilisateur définie par la propriété <xref:System.Globalization.CultureInfo.CurrentUICulture%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="0846b-139">When you deploy resources in satellite assemblies, the common language runtime automatically selects a culture-appropriate resource based on the user's current UI culture as defined by the <xref:System.Globalization.CultureInfo.CurrentUICulture%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="0846b-140">Dans la mesure où vous fournissez une ressource appropriée propre à la culture et que vous instanciez correctement un objet <xref:System.Resources.ResourceManager> ou que vous utilisez une classe de ressource fortement typée, le runtime se charge de récupérer les ressources appropriées.</span><span class="sxs-lookup"><span data-stu-id="0846b-140">As long as you provide an appropriate culture-specific resource and correctly instantiate a <xref:System.Resources.ResourceManager> object or use a strongly typed resource class, the runtime handles the details of retrieving the appropriate resources.</span></span>

<span data-ttu-id="0846b-141">Pour plus d’informations sur la création de fichiers de ressources, consultez [Création de fichiers de ressources](../../../docs/framework/resources/creating-resource-files-for-desktop-apps.md).</span><span class="sxs-lookup"><span data-stu-id="0846b-141">For more information about creating resource files, see [Creating Resource Files](../../../docs/framework/resources/creating-resource-files-for-desktop-apps.md).</span></span> <span data-ttu-id="0846b-142">Pour plus d’informations sur la création et le déploiement d’assemblys satellites, consultez [Création d'assemblys satellites](../../../docs/framework/resources/creating-satellite-assemblies-for-desktop-apps.md) et [Empaquetage et déploiement de ressources](../../../docs/framework/resources/packaging-and-deploying-resources-in-desktop-apps.md).</span><span class="sxs-lookup"><span data-stu-id="0846b-142">For information about creating and deploying satellite assemblies, see [Creating Satellite Assemblies](../../../docs/framework/resources/creating-satellite-assemblies-for-desktop-apps.md) and [Packaging and Deploying Resources](../../../docs/framework/resources/packaging-and-deploying-resources-in-desktop-apps.md).</span></span>

### <a name="search-and-compare-strings"></a><span data-ttu-id="0846b-143">Rechercher et comparer des chaînes</span><span class="sxs-lookup"><span data-stu-id="0846b-143">Search and compare strings</span></span>

<span data-ttu-id="0846b-144">Dans la mesure du possible, vous devez traiter les chaînes comme des chaînes entières, et non comme une série de caractères individuels.</span><span class="sxs-lookup"><span data-stu-id="0846b-144">Whenever possible, you should handle strings as entire strings instead of handling them as a series of individual characters.</span></span> <span data-ttu-id="0846b-145">Cela est particulièrement important quand il s’agit de trier ou rechercher des sous-chaînes de façon à éviter les problèmes liés à l’analyse de caractères combinés.</span><span class="sxs-lookup"><span data-stu-id="0846b-145">This is especially important when you sort or search for substrings, to prevent problems associated with parsing combined characters.</span></span>

> [!TIP]
> <span data-ttu-id="0846b-146">Vous pouvez utiliser la classe <xref:System.Globalization.StringInfo> pour travailler sur les éléments de texte plutôt que sur les caractères individuels d’une chaîne.</span><span class="sxs-lookup"><span data-stu-id="0846b-146">You can use the <xref:System.Globalization.StringInfo> class to work with the text elements rather than the individual characters in a string.</span></span>

<span data-ttu-id="0846b-147">Pendant les opérations de recherche et de comparaison de chaînes, l’erreur courante à éviter est de traiter les chaînes comme des ensembles de caractères, chacun représenté par un objet <xref:System.Char>.</span><span class="sxs-lookup"><span data-stu-id="0846b-147">In string searches and comparisons, a common mistake is to treat the string as a collection of characters, each of which is represented by a <xref:System.Char> object.</span></span> <span data-ttu-id="0846b-148">De fait, un même caractère peut être constitué d’un ou plusieurs objets <xref:System.Char>.</span><span class="sxs-lookup"><span data-stu-id="0846b-148">In fact, a single character may be formed by one, two, or more <xref:System.Char> objects.</span></span> <span data-ttu-id="0846b-149">Ces caractères se trouvent généralement dans des chaînes de cultures dont les alphabets comportent des caractères extérieurs à la plage de caractères latins de base Unicode (de U+0021 à U+007E).</span><span class="sxs-lookup"><span data-stu-id="0846b-149">Such characters are found most frequently in strings from cultures whose alphabets consist of characters outside the Unicode Basic Latin character range (U+0021 through U+007E).</span></span> <span data-ttu-id="0846b-150">L’exemple suivant recherche l’index du caractère LETTRE MAJUSCULE LATINE A AVEC ACCENT GRAVE (U+00C 0) dans une chaîne.</span><span class="sxs-lookup"><span data-stu-id="0846b-150">The following example tries to find the index of the LATIN CAPITAL LETTER A WITH GRAVE character (U+00C0) in a string.</span></span> <span data-ttu-id="0846b-151">Cependant, ce personnage peut être représenté de deux manières différentes : en tant qu’unité de code unique (U-00C0) ou en tant que caractère composite (deux unités de code : U-0041 et U-0300).</span><span class="sxs-lookup"><span data-stu-id="0846b-151">However, this character can be represented in two different ways: as a single code unit (U+00C0) or as a composite character (two code units: U+0041 and U+0300).</span></span> <span data-ttu-id="0846b-152">Dans ce cas, le personnage est représenté <xref:System.Char> dans l’instance de chaîne par deux objets, U-0041 et U-0300.</span><span class="sxs-lookup"><span data-stu-id="0846b-152">In this case, the character is represented in the string instance by two <xref:System.Char> objects, U+0041 and U+0300.</span></span> <span data-ttu-id="0846b-153">L’exemple de code appelle les surcharges <xref:System.String.IndexOf%28System.Char%29?displayProperty=nameWithType> et <xref:System.String.IndexOf%28System.String%29?displayProperty=nameWithType> pour rechercher la position de ce caractère dans l’instance de la chaîne, mais elles retournent des résultats différents.</span><span class="sxs-lookup"><span data-stu-id="0846b-153">The example code calls the <xref:System.String.IndexOf%28System.Char%29?displayProperty=nameWithType> and <xref:System.String.IndexOf%28System.String%29?displayProperty=nameWithType> overloads to find the position of this character in the string instance, but these return different results.</span></span> <span data-ttu-id="0846b-154">Le premier appel de méthode comporte un argument <xref:System.Char> ; il effectue une comparaison ordinale et ne peut donc pas trouver de correspondance.</span><span class="sxs-lookup"><span data-stu-id="0846b-154">The first method call has a <xref:System.Char> argument; it performs an ordinal comparison and therefore cannot find a match.</span></span> <span data-ttu-id="0846b-155">Le deuxième appel comporte un argument <xref:System.String> ; il effectue une comparaison dépendante de la culture et trouve donc une correspondance.</span><span class="sxs-lookup"><span data-stu-id="0846b-155">The second call has a <xref:System.String> argument; it performs a culture-sensitive comparison and therefore finds a match.</span></span>

[!code-csharp[Conceptual.Globalization#18](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.globalization/cs/search1.cs#18)]
[!code-vb[Conceptual.Globalization#18](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.globalization/vb/search1.vb#18)]

<span data-ttu-id="0846b-156">Vous pouvez lever une partie de l’ambiguïté de cet exemple (appel à deux surcharges similaires d’une méthode qui retourne des résultats différents) en appelant une surcharge qui inclue un paramètre <xref:System.StringComparison>, tel que la méthode <xref:System.String.IndexOf%28System.String%2CSystem.StringComparison%29?displayProperty=nameWithType> ou <xref:System.String.LastIndexOf%28System.String%2CSystem.StringComparison%29?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="0846b-156">You can avoid some of the ambiguity of this example (calls to two similar overloads of a method returning different results) by calling an overload that includes a <xref:System.StringComparison> parameter, such as the <xref:System.String.IndexOf%28System.String%2CSystem.StringComparison%29?displayProperty=nameWithType> or <xref:System.String.LastIndexOf%28System.String%2CSystem.StringComparison%29?displayProperty=nameWithType> method.</span></span>

<span data-ttu-id="0846b-157">Cependant, les recherches ne sont pas toujours dépendantes de la culture.</span><span class="sxs-lookup"><span data-stu-id="0846b-157">However, searches are not always culture-sensitive.</span></span> <span data-ttu-id="0846b-158">Si la recherche vise à prendre une décision en matière de sécurité ou à autoriser ou interdire l’accès à une ressource, la comparaison doit être ordinale, comme nous le verrons dans la section suivante.</span><span class="sxs-lookup"><span data-stu-id="0846b-158">If the purpose of the search is to make a security decision or to allow or disallow access to some resource, the comparison should be ordinal, as discussed in the next section.</span></span>

### <a name="test-strings-for-equality"></a><span data-ttu-id="0846b-159">Tester l’égalité de chaînes</span><span class="sxs-lookup"><span data-stu-id="0846b-159">Test strings for equality</span></span>

<span data-ttu-id="0846b-160">Si vous voulez effectuer un test d’égalité entre deux chaînes au lieu de les comparer par rapport à l’ordre de tri, utilisez la méthode <xref:System.String.Equals%2A?displayProperty=nameWithType> plutôt qu’une méthode de comparaison de chaînes comme <xref:System.String.Compare%2A?displayProperty=nameWithType> ou <xref:System.Globalization.CompareInfo.Compare%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="0846b-160">If you want to test two strings for equality rather than determine how they compare in the sort order, use the <xref:System.String.Equals%2A?displayProperty=nameWithType> method instead of a string comparison method such as <xref:System.String.Compare%2A?displayProperty=nameWithType> or <xref:System.Globalization.CompareInfo.Compare%2A?displayProperty=nameWithType>.</span></span>

<span data-ttu-id="0846b-161">Les comparaisons d’égalité sont généralement effectuées pour accéder de manière conditionnelle à certaines ressources.</span><span class="sxs-lookup"><span data-stu-id="0846b-161">Comparisons for equality are typically performed to access some resource conditionally.</span></span> <span data-ttu-id="0846b-162">Par exemple, vous pouvez effectuer une comparaison d’égalité pour vérifier un mot de passe ou confirmer qu’un fichier existe.</span><span class="sxs-lookup"><span data-stu-id="0846b-162">For example, you might perform a comparison for equality to verify a password or to confirm that a file exists.</span></span> <span data-ttu-id="0846b-163">Ces comparaisons non linguistiques doivent toujours être ordinales et non dépendantes de la culture.</span><span class="sxs-lookup"><span data-stu-id="0846b-163">Such non-linguistic comparisons should always be ordinal rather than culture-sensitive.</span></span> <span data-ttu-id="0846b-164">En général, vous avez tout intérêt à appeler la méthode d’instance <xref:System.String.Equals%28System.String%2CSystem.StringComparison%29?displayProperty=nameWithType> ou la méthode statique <xref:System.String.Equals%28System.String%2CSystem.String%2CSystem.StringComparison%29?displayProperty=nameWithType> avec la valeur <xref:System.StringComparison.Ordinal?displayProperty=nameWithType> pour des chaînes telles que des mots de passe et la valeur <xref:System.StringComparison.OrdinalIgnoreCase?displayProperty=nameWithType> pour des chaînes telles que des noms de fichiers ou des URI.</span><span class="sxs-lookup"><span data-stu-id="0846b-164">In general, you should call the instance <xref:System.String.Equals%28System.String%2CSystem.StringComparison%29?displayProperty=nameWithType> method or the static <xref:System.String.Equals%28System.String%2CSystem.String%2CSystem.StringComparison%29?displayProperty=nameWithType> method with a value of <xref:System.StringComparison.Ordinal?displayProperty=nameWithType> for strings such as passwords, and a value of <xref:System.StringComparison.OrdinalIgnoreCase?displayProperty=nameWithType> for strings such as file names or URIs.</span></span>

<span data-ttu-id="0846b-165">Les comparaisons d’égalité impliquent parfois des recherches ou des comparaisons de sous-chaînes plutôt que des appels à la méthode <xref:System.String.Equals%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="0846b-165">Comparisons for equality sometimes involve searches or substring comparisons rather than calls to the <xref:System.String.Equals%2A?displayProperty=nameWithType> method.</span></span> <span data-ttu-id="0846b-166">Dans certains cas, vous pouvez rechercher une sous-chaîne pour déterminer si elle est égale à une autre chaîne.</span><span class="sxs-lookup"><span data-stu-id="0846b-166">In some cases, you may use a substring search to determine whether that substring equals another string.</span></span> <span data-ttu-id="0846b-167">Si l’objet de cette comparaison n’est pas linguistique, la recherche doit aussi être ordinale et non dépendante de la culture.</span><span class="sxs-lookup"><span data-stu-id="0846b-167">If the purpose of this comparison is non-linguistic, the search should also be ordinal rather than culture-sensitive.</span></span>

<span data-ttu-id="0846b-168">L’exemple suivant illustre le risque associé à une recherche dépendante de la culture sur des données non linguistiques.</span><span class="sxs-lookup"><span data-stu-id="0846b-168">The following example illustrates the danger of a culture-sensitive search on non-linguistic data.</span></span> <span data-ttu-id="0846b-169">La méthode `AccessesFileSystem` vise à interdire l’accès au système de fichiers pour les URI commençant par la sous-chaîne « FILE».</span><span class="sxs-lookup"><span data-stu-id="0846b-169">The `AccessesFileSystem` method is designed to prohibit file system access for URIs that begin with the substring "FILE".</span></span> <span data-ttu-id="0846b-170">Pour cela, elle effectue une comparaison dépendante de la culture et sans respect de la casse entre le début de l’URI et la chaîne « FILE ».</span><span class="sxs-lookup"><span data-stu-id="0846b-170">To do this, it performs a culture-sensitive, case-insensitive comparison of the beginning of the URI with the string "FILE".</span></span> <span data-ttu-id="0846b-171">Sachant qu’un URI qui accède au système de fichiers peut commencer par « FILE: » ou « file: », la supposition implicite est que ce « i » (U+0069) est toujours l’équivalent en minuscule de « I » (U+0049).</span><span class="sxs-lookup"><span data-stu-id="0846b-171">Because a URI that accesses the file system can begin with either "FILE:" or "file:", the implicit assumption is that "i" (U+0069) is always the lowercase equivalent of "I" (U+0049).</span></span> <span data-ttu-id="0846b-172">Toutefois, en turc et en azéri, la version en majuscule du « i » est « i » (U + 0130).</span><span class="sxs-lookup"><span data-stu-id="0846b-172">However, in Turkish and Azerbaijani, the uppercase version of "i" is "İ" (U+0130).</span></span> <span data-ttu-id="0846b-173">Du fait de cette différence, la comparaison dépendante de la culture autorise l’accès au système de fichiers, alors qu’il devrait être interdit.</span><span class="sxs-lookup"><span data-stu-id="0846b-173">Because of this discrepancy, the culture-sensitive comparison allows file system access when it should be prohibited.</span></span>

[!code-csharp[Conceptual.Globalization#12](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.globalization/cs/equals1.cs#12)]
[!code-vb[Conceptual.Globalization#12](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.globalization/vb/equals1.vb#12)]

<span data-ttu-id="0846b-174">Vous pouvez éviter ce problème en effectuant une comparaison ordinale qui ignore la casse, comme le montre l’exemple suivant.</span><span class="sxs-lookup"><span data-stu-id="0846b-174">You can avoid this problem by performing an ordinal comparison that ignores case, as the following example shows.</span></span>

[!code-csharp[Conceptual.Globalization#13](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.globalization/cs/equals2.cs#13)]
[!code-vb[Conceptual.Globalization#13](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.globalization/vb/equals2.vb#13)]

### <a name="order-and-sort-strings"></a><span data-ttu-id="0846b-175">Ordonner et trier des chaînes</span><span class="sxs-lookup"><span data-stu-id="0846b-175">Order and sort strings</span></span>

<span data-ttu-id="0846b-176">En règle générale, les chaînes ordonnées devant s’afficher dans l’interface utilisateur doivent être triées en fonction de la culture.</span><span class="sxs-lookup"><span data-stu-id="0846b-176">Typically, ordered strings that are to be displayed in the user interface should be sorted based on culture.</span></span> <span data-ttu-id="0846b-177">La plupart du temps, ces comparaisons de chaînes sont gérées implicitement par .NET dès lors que vous appelez une méthode qui trie les chaînes, comme <xref:System.Array.Sort%2A?displayProperty=nameWithType> ou <xref:System.Collections.Generic.List%601.Sort%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="0846b-177">For the most part, such string comparisons are handled implicitly by .NET when you call a method that sorts strings, such as <xref:System.Array.Sort%2A?displayProperty=nameWithType> or <xref:System.Collections.Generic.List%601.Sort%2A?displayProperty=nameWithType>.</span></span> <span data-ttu-id="0846b-178">Par défaut, les chaînes sont triées selon les conventions de tri de la culture active.</span><span class="sxs-lookup"><span data-stu-id="0846b-178">By default, strings are sorted by using the sorting conventions of the current culture.</span></span> <span data-ttu-id="0846b-179">L’exemple suivant illustre la différence entre le tri d’un tableau de chaînes avec les conventions de la culture Anglais (États-Unis) et le tri de ce même tableau avec la culture Suédois (Suède).</span><span class="sxs-lookup"><span data-stu-id="0846b-179">The following example illustrates the difference when an array of strings is sorted by using the conventions of the English (United States) culture and the Swedish (Sweden) culture.</span></span>

[!code-csharp[Conceptual.Globalization#14](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.globalization/cs/sort1.cs#14)]
[!code-vb[Conceptual.Globalization#14](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.globalization/vb/sort1.vb#14)]

<span data-ttu-id="0846b-180">La comparaison de chaînes dépendante de la culture est définie par l’objet <xref:System.Globalization.CompareInfo>, qui est retourné par la propriété <xref:System.Globalization.CultureInfo.CompareInfo%2A?displayProperty=nameWithType> de chaque culture.</span><span class="sxs-lookup"><span data-stu-id="0846b-180">Culture-sensitive string comparison is defined by the <xref:System.Globalization.CompareInfo> object, which is returned by each culture's <xref:System.Globalization.CultureInfo.CompareInfo%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="0846b-181">Les comparaisons de chaînes dépendantes de la culture qui utilisent les surcharges de méthode <xref:System.String.Compare%2A?displayProperty=nameWithType> utilisent aussi l’objet <xref:System.Globalization.CompareInfo>.</span><span class="sxs-lookup"><span data-stu-id="0846b-181">Culture-sensitive string comparisons that use the <xref:System.String.Compare%2A?displayProperty=nameWithType> method overloads also use the <xref:System.Globalization.CompareInfo> object.</span></span>

<span data-ttu-id="0846b-182">.NET utilise des tables pour effectuer des tris dépendants de la culture sur les données de chaîne.</span><span class="sxs-lookup"><span data-stu-id="0846b-182">.NET uses tables to perform culture-sensitive sorts on string data.</span></span> <span data-ttu-id="0846b-183">Le contenu de ces tables, qui comportent des données de pondération de tri et de normalisation de chaînes, est déterminé par la version de la norme Unicode implémentée par une version déterminée de .NET.</span><span class="sxs-lookup"><span data-stu-id="0846b-183">The content of these tables, which contain data on sort weights and string normalization, is determined by the version of the Unicode standard implemented by a particular version of .NET.</span></span> <span data-ttu-id="0846b-184">Le tableau suivant répertorie les versions d’Unicode implémentées par les versions indiquées de .NET.</span><span class="sxs-lookup"><span data-stu-id="0846b-184">The following table lists the versions of Unicode implemented by the specified versions of the .NET Framework and by .NET Core.</span></span> <span data-ttu-id="0846b-185">Notez que cette liste de versions d’Unicode prises en charge s’applique uniquement à la comparaison et au tri de caractères ; elle ne s’applique pas à la classification des caractères Unicode par catégorie.</span><span class="sxs-lookup"><span data-stu-id="0846b-185">Note that this list of supported Unicode versions applies to character comparison and sorting only; it does not apply to classification of Unicode characters by category.</span></span> <span data-ttu-id="0846b-186">Pour plus d’informations, consultez la section « Chaînes et norme Unicode » de l’article <xref:System.String>.</span><span class="sxs-lookup"><span data-stu-id="0846b-186">For more information, see the "Strings and The Unicode Standard" section in the <xref:System.String> article.</span></span>

|<span data-ttu-id="0846b-187">Version du .NET Framework</span><span class="sxs-lookup"><span data-stu-id="0846b-187">.NET Framework version</span></span>|<span data-ttu-id="0846b-188">Système d’exploitation</span><span class="sxs-lookup"><span data-stu-id="0846b-188">Operating system</span></span>|<span data-ttu-id="0846b-189">Version d’Unicode</span><span class="sxs-lookup"><span data-stu-id="0846b-189">Unicode version</span></span>|
|----------------------------|----------------------|---------------------|
|<span data-ttu-id="0846b-190">.NET Framework 2.0</span><span class="sxs-lookup"><span data-stu-id="0846b-190">.NET Framework 2.0</span></span>|<span data-ttu-id="0846b-191">Tous les systèmes d’exploitation</span><span class="sxs-lookup"><span data-stu-id="0846b-191">All operating systems</span></span>|<span data-ttu-id="0846b-192">Unicode 4.1</span><span class="sxs-lookup"><span data-stu-id="0846b-192">Unicode 4.1</span></span>|
|<span data-ttu-id="0846b-193">.NET Framework 3.0</span><span class="sxs-lookup"><span data-stu-id="0846b-193">.NET Framework 3.0</span></span>|<span data-ttu-id="0846b-194">Tous les systèmes d’exploitation</span><span class="sxs-lookup"><span data-stu-id="0846b-194">All operating systems</span></span>|<span data-ttu-id="0846b-195">Unicode 4.1</span><span class="sxs-lookup"><span data-stu-id="0846b-195">Unicode 4.1</span></span>|
|<span data-ttu-id="0846b-196">.NET Framework 3.5</span><span class="sxs-lookup"><span data-stu-id="0846b-196">.NET Framework 3.5</span></span>|<span data-ttu-id="0846b-197">Tous les systèmes d’exploitation</span><span class="sxs-lookup"><span data-stu-id="0846b-197">All operating systems</span></span>|<span data-ttu-id="0846b-198">Unicode 4.1</span><span class="sxs-lookup"><span data-stu-id="0846b-198">Unicode 4.1</span></span>|
|<span data-ttu-id="0846b-199">.NET Framework 4</span><span class="sxs-lookup"><span data-stu-id="0846b-199">.NET Framework 4</span></span>|<span data-ttu-id="0846b-200">Tous les systèmes d’exploitation</span><span class="sxs-lookup"><span data-stu-id="0846b-200">All operating systems</span></span>|<span data-ttu-id="0846b-201">Unicode 5.0</span><span class="sxs-lookup"><span data-stu-id="0846b-201">Unicode 5.0</span></span>|
|<span data-ttu-id="0846b-202">.NET Framework 4.5 et ultérieur sur Windows 7</span><span class="sxs-lookup"><span data-stu-id="0846b-202">.NET Framework 4.5 and later on Windows 7</span></span>|<span data-ttu-id="0846b-203">Unicode 5.0</span><span class="sxs-lookup"><span data-stu-id="0846b-203">Unicode 5.0</span></span>|
|<span data-ttu-id="0846b-204">.NET Framework 4.5 et ultérieur sur les systèmes d’exploitation Windows 8 et versions ultérieures</span><span class="sxs-lookup"><span data-stu-id="0846b-204">.NET Framework 4.5 and later on Windows 8 and later operating systems</span></span>|<span data-ttu-id="0846b-205">Unicode 6.3.0</span><span class="sxs-lookup"><span data-stu-id="0846b-205">Unicode 6.3.0</span></span>|
|<span data-ttu-id="0846b-206">.NET Core (toutes les versions)</span><span class="sxs-lookup"><span data-stu-id="0846b-206">.NET Core (all versions)</span></span>|<span data-ttu-id="0846b-207">En fonction de la version de la norme Unicode prise en charge par le système d’exploitation sous-jacent.</span><span class="sxs-lookup"><span data-stu-id="0846b-207">Depends on the version of the Unicode Standard supported by the underlying operating system.</span></span>|

<span data-ttu-id="0846b-208">Depuis .NET Framework 4.5 et dans toutes les versions de .NET Core, la comparaison et le tri de chaînes dépendent du système d’exploitation.</span><span class="sxs-lookup"><span data-stu-id="0846b-208">Starting with .NET Framework 4.5 and in all versions of .NET Core, string comparison and sorting depends on the operating system.</span></span> <span data-ttu-id="0846b-209">.NET Framework 4.5 et ultérieur s’exécutant sur Windows 7 récupère les données dans ses propres tables qui implémentent Unicode 5.0.</span><span class="sxs-lookup"><span data-stu-id="0846b-209">The .NET Framework 4.5 and later running on Windows 7 retrieves data from its own tables that implement Unicode 5.0.</span></span> <span data-ttu-id="0846b-210">.NET Framework 4.5 et ultérieur s’exécutant sur Windows 8 récupère les données dans ses propres tables qui implémentent Unicode 6.3.</span><span class="sxs-lookup"><span data-stu-id="0846b-210">The .NET Framework 4.5 and later running on Windows 8 and later retrieves data from operating system tables that implement Unicode 6.3.</span></span> <span data-ttu-id="0846b-211">Sur .NET Core, la version Unicode prise en charge dépend du système d’exploitation sous-jacent.</span><span class="sxs-lookup"><span data-stu-id="0846b-211">On .NET Core, the supported version of Unicode depends on the underlying operating system.</span></span> <span data-ttu-id="0846b-212">Si vous sérialisez des données triées dépendantes de la culture, vous pouvez utiliser la classe <xref:System.Globalization.SortVersion> pour déterminer à quel moment vos données sérialisées doivent être triées de sorte qu’elles correspondent au .NET et à l’ordre de tri du système d’exploitation.</span><span class="sxs-lookup"><span data-stu-id="0846b-212">If you serialize culture-sensitive sorted data, you can use the <xref:System.Globalization.SortVersion> class to determine when your serialized data needs to be sorted so that it is consistent with .NET and the operating system's sort order.</span></span> <span data-ttu-id="0846b-213">Pour obtenir un exemple, consultez la rubrique relative à la classe <xref:System.Globalization.SortVersion>.</span><span class="sxs-lookup"><span data-stu-id="0846b-213">For an example, see the <xref:System.Globalization.SortVersion> class topic.</span></span>

<span data-ttu-id="0846b-214">Si votre application effectue des tris étendus propres à la culture sur des données de chaîne, vous pouvez utiliser la classe <xref:System.Globalization.SortKey> pour comparer des chaînes.</span><span class="sxs-lookup"><span data-stu-id="0846b-214">If your app performs extensive culture-specific sorts of string data, you can work with the <xref:System.Globalization.SortKey> class to compare strings.</span></span> <span data-ttu-id="0846b-215">Une clé de tri reflète les pondérations de tri propres à la culture, notamment les pondérations alphabétiques, de casse et diacritiques d’une chaîne déterminée.</span><span class="sxs-lookup"><span data-stu-id="0846b-215">A sort key reflects the culture-specific sort weights, including the alphabetic, case, and diacritic weights of a particular string.</span></span> <span data-ttu-id="0846b-216">Les comparaisons à base de clés de tri étant binaires, elles sont plus rapides que les comparaisons qui utilisent un objet <xref:System.Globalization.CompareInfo>, que ce soit de manière implicite ou explicite.</span><span class="sxs-lookup"><span data-stu-id="0846b-216">Because comparisons using sort keys are binary, they are faster than comparisons that use a <xref:System.Globalization.CompareInfo> object either implicitly or explicitly.</span></span> <span data-ttu-id="0846b-217">Vous pouvez créer une clé de tri propre à la culture pour une chaîne déterminée en passant la chaîne à la méthode <xref:System.Globalization.CompareInfo.GetSortKey%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="0846b-217">You create a culture-specific sort key for a particular string by passing the string to the <xref:System.Globalization.CompareInfo.GetSortKey%2A?displayProperty=nameWithType> method.</span></span>

<span data-ttu-id="0846b-218">L’exemple suivant est similaire à l’exemple précédent.</span><span class="sxs-lookup"><span data-stu-id="0846b-218">The following example is similar to the previous example.</span></span> <span data-ttu-id="0846b-219">Cependant, au lieu d’appeler la méthode <xref:System.Array.Sort%28System.Array%29?displayProperty=nameWithType>, qui appelle implicitement la méthode <xref:System.Globalization.CompareInfo.Compare%2A?displayProperty=nameWithType>, il définit une implémentation <xref:System.Collections.Generic.IComparer%601?displayProperty=nameWithType> qui compare les clés de tri, qu’il instancie et passe à la méthode <xref:System.Array.Sort%60%601%28%60%600%5B%5D%2CSystem.Collections.Generic.IComparer%7B%60%600%7D%29?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="0846b-219">However, instead of calling the <xref:System.Array.Sort%28System.Array%29?displayProperty=nameWithType> method, which implicitly calls the <xref:System.Globalization.CompareInfo.Compare%2A?displayProperty=nameWithType> method, it defines an <xref:System.Collections.Generic.IComparer%601?displayProperty=nameWithType> implementation that compares sort keys, which it instantiates and passes to the <xref:System.Array.Sort%60%601%28%60%600%5B%5D%2CSystem.Collections.Generic.IComparer%7B%60%600%7D%29?displayProperty=nameWithType> method.</span></span>

[!code-csharp[Conceptual.Globalization#15](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.globalization/cs/sortkey1.cs#15)]
[!code-vb[Conceptual.Globalization#15](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.globalization/vb/sortkey1.vb#15)]

### <a name="avoid-string-concatenation"></a><span data-ttu-id="0846b-220">Éviter la concaténation de chaînes</span><span class="sxs-lookup"><span data-stu-id="0846b-220">Avoid string concatenation</span></span>

<span data-ttu-id="0846b-221">Dans la mesure du possible, évitez d’utiliser les chaînes composites qui sont construites au moment de l’exécution à partir d’expressions concaténées.</span><span class="sxs-lookup"><span data-stu-id="0846b-221">If at all possible, avoid using composite strings that are built at run time from concatenated phrases.</span></span> <span data-ttu-id="0846b-222">Les chaînes composites sont difficiles à localiser, car elles prennent souvent en compte l’ordre grammatical de la langue d’origine de l’application qui ne s’applique pas aux autres langues localisées.</span><span class="sxs-lookup"><span data-stu-id="0846b-222">Composite strings are difficult to localize, because they often assume a grammatical order in the app's original language that does not apply to other localized languages.</span></span>

## <a name="handle-dates-and-times"></a><span data-ttu-id="0846b-223">Gérer des dates et des heures</span><span class="sxs-lookup"><span data-stu-id="0846b-223">Handle dates and times</span></span>

<span data-ttu-id="0846b-224">La façon dont vous gérez les valeurs de date et d’heure varie selon qu’elles s’affichent dans l’interface utilisateur ou qu’elles sont persistantes.</span><span class="sxs-lookup"><span data-stu-id="0846b-224">How you handle date and time values depends on whether they are displayed in the user interface or persisted.</span></span> <span data-ttu-id="0846b-225">Cette section se penche sur les deux cas.</span><span class="sxs-lookup"><span data-stu-id="0846b-225">This section examines both usages.</span></span> <span data-ttu-id="0846b-226">De même, elle explique comment gérer les décalages horaires et les opérations arithmétiques appliquées aux dates et heures.</span><span class="sxs-lookup"><span data-stu-id="0846b-226">It also discusses how you can handle time zone differences and arithmetic operations when working with dates and times.</span></span>

### <a name="display-dates-and-times"></a><span data-ttu-id="0846b-227">Afficher des dates et des heures</span><span class="sxs-lookup"><span data-stu-id="0846b-227">Display dates and times</span></span>

<span data-ttu-id="0846b-228">En règle générale, quand les dates et les heures s’affichent dans l’interface utilisateur, vous devez utiliser les conventions de mise en forme de la culture de l’utilisateur, ce qui est défini par la propriété <xref:System.Globalization.CultureInfo.CurrentCulture%2A?displayProperty=nameWithType> et l’objet <xref:System.Globalization.DateTimeFormatInfo> retourné par la propriété `CultureInfo.CurrentCulture.DateTimeFormat`.</span><span class="sxs-lookup"><span data-stu-id="0846b-228">Typically, when dates and times are displayed in the user interface, you should use the formatting conventions of the user's culture, which is defined by the <xref:System.Globalization.CultureInfo.CurrentCulture%2A?displayProperty=nameWithType> property and by the <xref:System.Globalization.DateTimeFormatInfo> object returned by the `CultureInfo.CurrentCulture.DateTimeFormat` property.</span></span> <span data-ttu-id="0846b-229">Les conventions de mise en forme de la culture active sont utilisées automatiquement quand vous mettez en forme une date en utilisant l’une de ces méthodes :</span><span class="sxs-lookup"><span data-stu-id="0846b-229">The formatting conventions of the current culture are automatically used when you format a date by using any of these methods:</span></span>

- <span data-ttu-id="0846b-230">méthode <xref:System.DateTime.ToString?displayProperty=nameWithType> sans paramètre ;</span><span class="sxs-lookup"><span data-stu-id="0846b-230">The parameterless <xref:System.DateTime.ToString?displayProperty=nameWithType> method</span></span>

- <span data-ttu-id="0846b-231">méthode <xref:System.DateTime.ToString%28System.String%29?displayProperty=nameWithType>, qui inclut une chaîne de format ;</span><span class="sxs-lookup"><span data-stu-id="0846b-231">The <xref:System.DateTime.ToString%28System.String%29?displayProperty=nameWithType> method, which includes a format string</span></span>

- <span data-ttu-id="0846b-232">méthode <xref:System.DateTimeOffset.ToString?displayProperty=nameWithType> sans paramètre ;</span><span class="sxs-lookup"><span data-stu-id="0846b-232">The parameterless <xref:System.DateTimeOffset.ToString?displayProperty=nameWithType> method</span></span>

- <span data-ttu-id="0846b-233"><xref:System.DateTimeOffset.ToString%28System.String%29?displayProperty=nameWithType>, qui inclut une chaîne de format ;</span><span class="sxs-lookup"><span data-stu-id="0846b-233">The <xref:System.DateTimeOffset.ToString%28System.String%29?displayProperty=nameWithType>, which includes a format string</span></span>

- <span data-ttu-id="0846b-234">fonctionnalité de [mise en forme composite](../../../docs/standard/base-types/composite-formatting.md), quand elle est utilisée avec des dates.</span><span class="sxs-lookup"><span data-stu-id="0846b-234">The [composite formatting](../../../docs/standard/base-types/composite-formatting.md) feature, when it is used with dates</span></span>

<span data-ttu-id="0846b-235">L’exemple suivant affiche des données relatives au lever du soleil (« sunrise ») et au coucher du soleil (« sunset ») à deux reprises pour le 11 octobre 2012.</span><span class="sxs-lookup"><span data-stu-id="0846b-235">The following example displays sunrise and sunset data twice for October 11, 2012.</span></span> <span data-ttu-id="0846b-236">Dans un premier temps, il définit la culture active Croate (Croatie), puis Anglais (Royaume-Uni).</span><span class="sxs-lookup"><span data-stu-id="0846b-236">It first sets the current culture to Croatian (Croatia), and then to English (Great Britain).</span></span> <span data-ttu-id="0846b-237">Dans les deux cas, les dates et heures s’affichent au format adapté à la culture en question.</span><span class="sxs-lookup"><span data-stu-id="0846b-237">In each case, the dates and times are displayed in the format that is appropriate for that culture.</span></span>

[!code-csharp[Conceptual.Globalization#2](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.globalization/cs/dates1.cs#2)]
[!code-vb[Conceptual.Globalization#2](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.globalization/vb/dates1.vb#2)]

### <a name="persist-dates-and-times"></a><span data-ttu-id="0846b-238">Figer des dates et des heures</span><span class="sxs-lookup"><span data-stu-id="0846b-238">Persist dates and times</span></span>

<span data-ttu-id="0846b-239">Vous ne devez jamais figer les données de date et d’heure dans un format qui peut varier d’une culture à une autre.</span><span class="sxs-lookup"><span data-stu-id="0846b-239">You should never persist date and time data in a format that can vary by culture.</span></span> <span data-ttu-id="0846b-240">Il s’agit d’une erreur de programmation courante qui se traduit par des données endommagées ou par une exception au moment de l’exécution.</span><span class="sxs-lookup"><span data-stu-id="0846b-240">This is a common programming error that results in either corrupted data or a run-time exception.</span></span> <span data-ttu-id="0846b-241">L’exemple suivant sérialise deux dates (le 9 janvier 2013 et le 18 août 2013) sous forme de chaînes en utilisant les conventions de mise en forme de la culture Anglais (États-Unis).</span><span class="sxs-lookup"><span data-stu-id="0846b-241">The following example serializes two dates, January 9, 2013 and August 18, 2013, as strings by using the formatting conventions of the English (United States) culture.</span></span> <span data-ttu-id="0846b-242">Quand les données sont récupérées et analysées en utilisant les conventions de la culture Anglais (États-Unis), elles sont restaurées avec succès.</span><span class="sxs-lookup"><span data-stu-id="0846b-242">When the data is retrieved and parsed by using the conventions of the English (United States) culture, it is successfully restored.</span></span> <span data-ttu-id="0846b-243">En revanche, quand elles sont récupérées et analysées en utilisant les conventions de la culture Anglais (Royaume-Uni), la première date est interprétée par erreur comme étant le 1er septembre, et la deuxième ne peut pas être analysée, car le calendrier grégorien n’a pas de dix-huitième mois.</span><span class="sxs-lookup"><span data-stu-id="0846b-243">However, when it is retrieved and parsed by using the conventions of the English (United Kingdom) culture, the first date is wrongly interpreted as September 1, and the second fails to parse because the Gregorian calendar does not have an eighteenth month.</span></span>

[!code-csharp[Conceptual.Globalization#3](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.globalization/cs/dates2.cs#3)]
[!code-vb[Conceptual.Globalization#3](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.globalization/vb/dates2.vb#3)]

<span data-ttu-id="0846b-244">Vous pouvez éviter ce problème de l’une des trois façons suivantes :</span><span class="sxs-lookup"><span data-stu-id="0846b-244">You can avoid this problem in any of three ways:</span></span>

- <span data-ttu-id="0846b-245">Sérialisez la date et l’heure au format binaire et non sous forme de chaîne.</span><span class="sxs-lookup"><span data-stu-id="0846b-245">Serialize the date and time in binary format rather than as a string.</span></span>

- <span data-ttu-id="0846b-246">Enregistrez et analysez la représentation de la date et de l’heure sous la forme d’une chaîne de format personnalisé qui reste identique, quelle que soit la culture de l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="0846b-246">Save and parse the string representation of the date and time by using a custom format string that is the same regardless of the user's culture.</span></span>

- <span data-ttu-id="0846b-247">Enregistrez la chaîne en utilisant les conventions de mise en forme de la culture dite indifférente.</span><span class="sxs-lookup"><span data-stu-id="0846b-247">Save the string by using the formatting conventions of the invariant culture.</span></span>

<span data-ttu-id="0846b-248">L’exemple suivant illustre la dernière approche.</span><span class="sxs-lookup"><span data-stu-id="0846b-248">The following example illustrates the last approach.</span></span> <span data-ttu-id="0846b-249">Il utilise les conventions de mise en forme de la culture dite indifférente retournée par la propriété statique <xref:System.Globalization.CultureInfo.InvariantCulture%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="0846b-249">It uses the formatting conventions of the invariant culture returned by the static <xref:System.Globalization.CultureInfo.InvariantCulture%2A?displayProperty=nameWithType> property.</span></span>

[!code-csharp[Conceptual.Globalization#4](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.globalization/cs/dates3.cs#4)]
[!code-vb[Conceptual.Globalization#4](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.globalization/vb/dates3.vb#4)]

### <a name="serialization-and-time-zone-awareness"></a><span data-ttu-id="0846b-250">Prise en compte de la sérialisation et des fuseaux horaires</span><span class="sxs-lookup"><span data-stu-id="0846b-250">Serialization and time zone awareness</span></span>

<span data-ttu-id="0846b-251">Une valeur de date et d’heure peut être interprétée de plusieurs façons, par exemple, en tant qu’heure générale (« les magasins seront ouverts le 2 janvier 2013 à 9h00 ») ou en tant que moment précis dans le temps (« Date de naissance : le 2 janvier 2013 à 6h32 »).</span><span class="sxs-lookup"><span data-stu-id="0846b-251">A date and time value can have multiple interpretations, ranging from a general time ("The stores open on January 2, 2013, at 9:00 A.M.") to a specific moment in time ("Date of birth: January 2, 2013 6:32:00 A.M.").</span></span> <span data-ttu-id="0846b-252">Quand une valeur d’heure représente un moment précis dans le temps et que vous la restaurez à partir d’une valeur sérialisée, vous devez vérifier qu’elle représente le même moment dans le temps, quelle que soit la situation géographique ou le fuseau horaire de l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="0846b-252">When a time value represents a specific moment in time and you restore it from a serialized value, you should ensure that it represents the same moment in time regardless of the user's geographical location or time zone.</span></span>

<span data-ttu-id="0846b-253">L'exemple de code suivant illustre ce problème.</span><span class="sxs-lookup"><span data-stu-id="0846b-253">The following example illustrates this problem.</span></span> <span data-ttu-id="0846b-254">Il enregistre une même valeur de date et d’heure locale sous forme de chaîne dans trois [formats standard](../../../docs/standard/base-types/standard-date-and-time-format-strings.md) (« G » pour date générale et heure longue, « s » pour date/heure pouvant être triée et « o » pour date/heure aller-retour), ainsi qu’au format binaire.</span><span class="sxs-lookup"><span data-stu-id="0846b-254">It saves a single local date and time value as a string in three [standard formats](../../../docs/standard/base-types/standard-date-and-time-format-strings.md) ("G" for general date long time, "s" for sortable date/time, and "o" for round-trip date/time) as well as in binary format.</span></span>

[!code-csharp[Conceptual.Globalization#10](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.globalization/cs/dates4.cs#10)]
[!code-vb[Conceptual.Globalization#10](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.globalization/vb/dates4.vb#10)]

<span data-ttu-id="0846b-255">Quand les données sont restaurées sur un système situé dans le même fuseau horaire que le système sur lequel elles ont été sérialisées, les valeurs de date et d’heure désérialisées sont le reflet exact de la valeur d’origine, comme le montre la sortie suivante :</span><span class="sxs-lookup"><span data-stu-id="0846b-255">When the data is restored on a system in the same time zone as the system on which it was serialized, the deserialized date and time values accurately reflect the original value, as the output shows:</span></span>

```console
'3/30/2013 6:00:00 PM' --> 3/30/2013 6:00:00 PM Unspecified
'2013-03-30T18:00:00' --> 3/30/2013 6:00:00 PM Unspecified
'2013-03-30T18:00:00.0000000-07:00' --> 3/30/2013 6:00:00 PM Local

3/30/2013 6:00:00 PM Local
```

<span data-ttu-id="0846b-256">Cependant, si vous restaurez les données sur un système situé dans un autre fuseau horaire, seule la valeur de date et d’heure qui a été mise en forme avec la chaîne de format standard « o » (aller-retour) conserve les informations de fuseau horaire et par conséquent représente le même instant dans le temps.</span><span class="sxs-lookup"><span data-stu-id="0846b-256">However, if you restore the data on a system in a different time zone, only the date and time value that was formatted with the "o" (round-trip) standard format string preserves time zone information and therefore represents the same instant in time.</span></span> <span data-ttu-id="0846b-257">Voici le résultat de la restauration des données de date et d’heure sur un système situé dans le fuseau horaire d’Europe centrale :</span><span class="sxs-lookup"><span data-stu-id="0846b-257">Here's the output when the date and time data is restored on a system in the Romance Standard Time zone:</span></span>

```console
'3/30/2013 6:00:00 PM' --> 3/30/2013 6:00:00 PM Unspecified
'2013-03-30T18:00:00' --> 3/30/2013 6:00:00 PM Unspecified
'2013-03-30T18:00:00.0000000-07:00' --> 3/31/2013 3:00:00 AM Local

3/30/2013 6:00:00 PM Local
```

<span data-ttu-id="0846b-258">Pour représenter avec précision une valeur de date et d’heure qui correspond à un moment précis dans le temps, indépendamment du fuseau horaire du système sur lequel les données sont désérialisées, vous pouvez procéder de l’une des façons suivantes :</span><span class="sxs-lookup"><span data-stu-id="0846b-258">To accurately reflect a date and time value that represents a single moment of time regardless of the time zone of the system on which the data is deserialized, you can do any of the following:</span></span>

- <span data-ttu-id="0846b-259">Enregistrez la valeur sous forme de chaîne en utilisant la chaîne de format « o » (aller-retour).</span><span class="sxs-lookup"><span data-stu-id="0846b-259">Save the value as a string by using the "o" (round-trip) standard format string.</span></span> <span data-ttu-id="0846b-260">Ensuite, désérialisez-la sur le système cible.</span><span class="sxs-lookup"><span data-stu-id="0846b-260">Then deserialize it on the target system.</span></span>

- <span data-ttu-id="0846b-261">Convertissez-la au format UTC et enregistrez-la sous forme de chaîne en utilisant la chaîne de format standard « r » (RFC1123).</span><span class="sxs-lookup"><span data-stu-id="0846b-261">Convert it to UTC and save it as a string by using the "r" (RFC1123) standard format string.</span></span> <span data-ttu-id="0846b-262">Désérialisez-la ensuite sur le système cible et convertissez-la en heure locale.</span><span class="sxs-lookup"><span data-stu-id="0846b-262">Then deserialize it on the target system and convert it to local time.</span></span>

- <span data-ttu-id="0846b-263">Convertissez-la au format UTC et enregistrez-la sous forme de chaîne en utilisant la chaîne de format standard « u » (universel pouvant être trié).</span><span class="sxs-lookup"><span data-stu-id="0846b-263">Convert it to UTC and save it as a string by using the "u" (universal sortable) standard format string.</span></span> <span data-ttu-id="0846b-264">Désérialisez-la ensuite sur le système cible et convertissez-la en heure locale.</span><span class="sxs-lookup"><span data-stu-id="0846b-264">Then deserialize it on the target system and convert it to local time.</span></span>

- <span data-ttu-id="0846b-265">Convertissez-la au format UTC et enregistrez-la au format binaire.</span><span class="sxs-lookup"><span data-stu-id="0846b-265">Convert it to UTC and save it in binary format.</span></span> <span data-ttu-id="0846b-266">Désérialisez-la ensuite sur le système cible et convertissez-la en heure locale.</span><span class="sxs-lookup"><span data-stu-id="0846b-266">Then deserialize it on the target system and convert it to local time.</span></span>

<span data-ttu-id="0846b-267">L’exemple suivant illustre chaque technique.</span><span class="sxs-lookup"><span data-stu-id="0846b-267">The following example illustrates each technique.</span></span>

[!code-csharp[Conceptual.Globalization#11](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.globalization/cs/dates8.cs#11)]
[!code-vb[Conceptual.Globalization#11](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.globalization/vb/dates8.vb#11)]

<span data-ttu-id="0846b-268">Quand les données sont sérialisées sur un système situé dans le fuseau horaire du Pacifique, puis désérialisées sur un système situé dans le fuseau horaire d’Europe centrale, l’exemple affiche la sortie suivante :</span><span class="sxs-lookup"><span data-stu-id="0846b-268">When the data is serialized on a system in the Pacific Standard Time zone and deserialized on a system in the Romance Standard Time zone, the example displays the following output:</span></span>

```console
'2013-03-30T18:00:00.0000000-07:00' --> 3/31/2013 3:00:00 AM Local
'Sun, 31 Mar 2013 01:00:00 GMT' --> 3/31/2013 3:00:00 AM Local
'2013-03-31 01:00:00Z' --> 3/31/2013 3:00:00 AM Local

3/31/2013 3:00:00 AM Local
```

<span data-ttu-id="0846b-269">Pour plus d’informations, consultez [Conversion d’heures entre fuseaux horaires](../../../docs/standard/datetime/converting-between-time-zones.md).</span><span class="sxs-lookup"><span data-stu-id="0846b-269">For more information, see [Converting Times Between Time Zones](../../../docs/standard/datetime/converting-between-time-zones.md).</span></span>

### <a name="perform-date-and-time-arithmetic"></a><span data-ttu-id="0846b-270">Exécuter des calculs de date et d’heure</span><span class="sxs-lookup"><span data-stu-id="0846b-270">Perform date and time arithmetic</span></span>

<span data-ttu-id="0846b-271">Les types <xref:System.DateTime> et <xref:System.DateTimeOffset> prennent en charge les opérations arithmétiques.</span><span class="sxs-lookup"><span data-stu-id="0846b-271">Both the <xref:System.DateTime> and <xref:System.DateTimeOffset> types support arithmetic operations.</span></span> <span data-ttu-id="0846b-272">Vous pouvez calculer la différence entre deux valeurs de date, ou vous pouvez ajouter ou soustraire des intervalles de temps déterminés à une valeur de date.</span><span class="sxs-lookup"><span data-stu-id="0846b-272">You can calculate the difference between two date values, or you can add or subtract particular time intervals to or from a date value.</span></span> <span data-ttu-id="0846b-273">Cependant, les opérations arithmétiques sur les valeurs de date et d’heure ne prennent pas en compte les fuseaux horaires et les règles d’ajustement de fuseaux horaires.</span><span class="sxs-lookup"><span data-stu-id="0846b-273">However, arithmetic operations on date and time values do not take time zones and time zone adjustment rules into account.</span></span> <span data-ttu-id="0846b-274">Pour cette raison, les calculs arithmétiques sur les valeurs de date et d’heure qui représentent des moments dans le temps peuvent retourner des résultats incorrects.</span><span class="sxs-lookup"><span data-stu-id="0846b-274">Because of this, date and time arithmetic on values that represent moments in time can return inaccurate results.</span></span>

<span data-ttu-id="0846b-275">Par exemple, le passage de l’heure d’hiver à l’heure d’été dans la zone Pacifique intervient le deuxième dimanche de mars, c’est-à-dire le 10 mars pour l’année 2013.</span><span class="sxs-lookup"><span data-stu-id="0846b-275">For example, the transition from Pacific Standard Time to Pacific Daylight Time occurs on the second Sunday of March, which is March 10 for the year 2013.</span></span> <span data-ttu-id="0846b-276">Comme le montre l’exemple suivant, si vous calculez la date et l’heure à 48 heures après le 9 mars 2013 à 10h30</span><span class="sxs-lookup"><span data-stu-id="0846b-276">As the following example shows, if you calculate the date and time that is 48 hours after March 9, 2013 at 10:30 A.M.</span></span> <span data-ttu-id="0846b-277">sur un système situé dans le fuseau horaire du Pacifique, le résultat (11 mars 2013 à 10h30) ne prend pas en compte le changement d’heure intervenu entre-temps</span><span class="sxs-lookup"><span data-stu-id="0846b-277">on a system in the Pacific Standard Time zone, the result, March 11, 2013 at 10:30 A.M., does not take the intervening time adjustment into account.</span></span>

[!code-csharp[Conceptual.Globalization#8](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.globalization/cs/dates5.cs#8)]
[!code-vb[Conceptual.Globalization#8](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.globalization/vb/dates5.vb#8)]

<span data-ttu-id="0846b-278">Pour être certain qu’une opération arithmétique sur des valeurs de date et d’heure génère des résultats précis, procédez comme suit :</span><span class="sxs-lookup"><span data-stu-id="0846b-278">To ensure that an arithmetic operation on date and time values produces accurate results, follow these steps:</span></span>

1. <span data-ttu-id="0846b-279">Convertissez l’heure du fuseau horaire source au format UTC.</span><span class="sxs-lookup"><span data-stu-id="0846b-279">Convert the time in the source time zone to UTC.</span></span>

2. <span data-ttu-id="0846b-280">Effectuez l’opération arithmétique.</span><span class="sxs-lookup"><span data-stu-id="0846b-280">Perform the arithmetic operation.</span></span>

3. <span data-ttu-id="0846b-281">Si le résultat obtenu est une valeur de date et d’heure, convertissez-la du format UTC à l’heure du fuseau horaire source.</span><span class="sxs-lookup"><span data-stu-id="0846b-281">If the result is a date and time value, convert it from UTC to the time in the source time zone.</span></span>

<span data-ttu-id="0846b-282">L’exemple suivant est similaire à l’exemple précédent, sauf qu’il respecte ces trois étapes pour ajouter correctement 48 heures au 9 mars 2013 à 10h30.</span><span class="sxs-lookup"><span data-stu-id="0846b-282">The following example is similar to the previous example, except that it follows these three steps to correctly add 48 hours to March 9, 2013 at 10:30 A.M.</span></span>

[!code-csharp[Conceptual.Globalization#9](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.globalization/cs/dates6.cs#9)]
[!code-vb[Conceptual.Globalization#9](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.globalization/vb/dates6.vb#9)]

<span data-ttu-id="0846b-283">Pour plus d’informations, consultez [Exécution d’opérations arithmétiques avec des dates et heures](../../../docs/standard/datetime/performing-arithmetic-operations.md).</span><span class="sxs-lookup"><span data-stu-id="0846b-283">For more information, see [Performing Arithmetic Operations with Dates and Times](../../../docs/standard/datetime/performing-arithmetic-operations.md).</span></span>

### <a name="use-culture-sensitive-names-for-date-elements"></a><span data-ttu-id="0846b-284">Utiliser des noms dépendants de la culture pour les éléments de date</span><span class="sxs-lookup"><span data-stu-id="0846b-284">Use culture-sensitive names for date elements</span></span>

<span data-ttu-id="0846b-285">Votre application peut avoir besoin d’afficher le nom du mois ou le jour de la semaine.</span><span class="sxs-lookup"><span data-stu-id="0846b-285">Your app may need to display the name of the month or the day of the week.</span></span> <span data-ttu-id="0846b-286">Pour cela, le code suivant est d’usage courant.</span><span class="sxs-lookup"><span data-stu-id="0846b-286">To do this, code such as the following is common.</span></span>

[!code-csharp[Conceptual.Globalization#19](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.globalization/cs/monthname1.cs#19)]
[!code-vb[Conceptual.Globalization#19](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.globalization/vb/monthname1.vb#19)]

<span data-ttu-id="0846b-287">Or, ce code retourne toujours le nom des jours de la semaine en anglais.</span><span class="sxs-lookup"><span data-stu-id="0846b-287">However, this code always returns the names of the days of the week in English.</span></span> <span data-ttu-id="0846b-288">Il est fréquent que le code chargé d’extraire le nom du mois soit encore moins flexible.</span><span class="sxs-lookup"><span data-stu-id="0846b-288">Code that extracts the name of the month is often even more inflexible.</span></span> <span data-ttu-id="0846b-289">Il part souvent du principe que le calendrier est constitué de douze mois et affiche le nom des mois dans une langue spécifique.</span><span class="sxs-lookup"><span data-stu-id="0846b-289">It frequently assumes a twelve-month calendar with names of months in a specific language.</span></span>

<span data-ttu-id="0846b-290">En utilisant des [chaînes de format de date et d’heure personnalisées](../../../docs/standard/base-types/custom-date-and-time-format-strings.md) ou les propriétés de l’objet <xref:System.Globalization.DateTimeFormatInfo>, il est facile d’extraire des chaînes qui correspondent au nom des jours de la semaine ou des mois dans la culture de l’utilisateur, comme l’illustre l’exemple suivant.</span><span class="sxs-lookup"><span data-stu-id="0846b-290">By using [custom date and time format strings](../../../docs/standard/base-types/custom-date-and-time-format-strings.md) or the properties of the <xref:System.Globalization.DateTimeFormatInfo> object, it is easy to extract strings that reflect the names of days of the week or months in the user's culture, as the following example illustrates.</span></span> <span data-ttu-id="0846b-291">Il remplace la culture active par la culture Français (France) et affiche le nom du jour de la semaine et le nom du mois pour le 1er juillet 2013.</span><span class="sxs-lookup"><span data-stu-id="0846b-291">It changes the current culture to French (France) and displays the name of the day of the week and the name of the month for July 1, 2013.</span></span>

[!code-csharp[Conceptual.Globalization#20](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.globalization/cs/monthname2.cs#20)]
[!code-vb[Conceptual.Globalization#20](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.globalization/vb/monthname2.vb#20)]

## <a name="numeric-values"></a><span data-ttu-id="0846b-292">Valeurs numériques</span><span class="sxs-lookup"><span data-stu-id="0846b-292">Numeric values</span></span>

<span data-ttu-id="0846b-293">La gestion des nombres varie selon qu’ils s’affichent dans l’interface utilisateur ou qu’ils sont persistants.</span><span class="sxs-lookup"><span data-stu-id="0846b-293">The handling of numbers depends on whether they are displayed in the user interface or persisted.</span></span> <span data-ttu-id="0846b-294">Cette section se penche sur les deux cas.</span><span class="sxs-lookup"><span data-stu-id="0846b-294">This section examines both usages.</span></span>

> [!NOTE]
> <span data-ttu-id="0846b-295">Pendant les opérations d’analyse et de mise en forme, le .NET ne reconnaît comme caractères numériques que les caractères latins de base compris entre 0 à 9 (de U+0030 à U+0039).</span><span class="sxs-lookup"><span data-stu-id="0846b-295">In parsing and formatting operations, .NET recognizes only the Basic Latin characters 0 through 9 (U+0030 through U+0039) as numeric digits.</span></span>

### <a name="display-numeric-values"></a><span data-ttu-id="0846b-296">Afficher des valeurs numériques</span><span class="sxs-lookup"><span data-stu-id="0846b-296">Display numeric values</span></span>

<span data-ttu-id="0846b-297">En règle générale, quand les nombres s’affichent dans l’interface utilisateur, vous devez utiliser les conventions de mise en forme de la culture de l’utilisateur, ce qui est défini par la propriété <xref:System.Globalization.CultureInfo.CurrentCulture%2A?displayProperty=nameWithType> et l’objet <xref:System.Globalization.NumberFormatInfo> retourné par la propriété `CultureInfo.CurrentCulture.NumberFormat`.</span><span class="sxs-lookup"><span data-stu-id="0846b-297">Typically, when numbers are displayed in the user interface, you should use the formatting conventions of the user's culture, which is defined by the <xref:System.Globalization.CultureInfo.CurrentCulture%2A?displayProperty=nameWithType> property and by the <xref:System.Globalization.NumberFormatInfo> object returned by the `CultureInfo.CurrentCulture.NumberFormat` property.</span></span> <span data-ttu-id="0846b-298">Les conventions de mise en forme de la culture active sont utilisées automatiquement quand vous mettez en forme une date en utilisant l’une des méthodes suivantes :</span><span class="sxs-lookup"><span data-stu-id="0846b-298">The formatting conventions of the current culture are automatically used when you format a date by using any of the following methods:</span></span>

- <span data-ttu-id="0846b-299">méthode `ToString` sans paramètre de tout type numérique ;</span><span class="sxs-lookup"><span data-stu-id="0846b-299">The parameterless `ToString` method of any numeric type</span></span>

- <span data-ttu-id="0846b-300">méthode `ToString(String)` de tout type numérique, ce qui inclut une chaîne de format en guise d’argument ;</span><span class="sxs-lookup"><span data-stu-id="0846b-300">The `ToString(String)` method of any numeric type, which includes a format string as an argument</span></span>

- <span data-ttu-id="0846b-301">fonctionnalité de [mise en forme composite](../../../docs/standard/base-types/composite-formatting.md), quand elle est utilisée avec des valeurs numériques.</span><span class="sxs-lookup"><span data-stu-id="0846b-301">The [composite formatting](../../../docs/standard/base-types/composite-formatting.md) feature, when it is used with numeric values</span></span>

<span data-ttu-id="0846b-302">L’exemple suivant affiche la température moyenne par mois à Paris.</span><span class="sxs-lookup"><span data-stu-id="0846b-302">The following example displays the average temperature per month in Paris, France.</span></span> <span data-ttu-id="0846b-303">Dans un premier temps, il définit la culture active Français (France) avant d’afficher les données, puis définit ensuite Anglais (États-Unis).</span><span class="sxs-lookup"><span data-stu-id="0846b-303">It first sets the current culture to French (France) before displaying the data, and then sets it to English (United States).</span></span> <span data-ttu-id="0846b-304">Dans les deux cas, le nom des mois et les températures s’affichent au format adapté à la culture en question.</span><span class="sxs-lookup"><span data-stu-id="0846b-304">In each case, the month names and temperatures are displayed in the format that is appropriate for that culture.</span></span> <span data-ttu-id="0846b-305">À noter que les deux cultures utilisent des séparateurs décimaux différents dans la valeur de température.</span><span class="sxs-lookup"><span data-stu-id="0846b-305">Note that the two cultures use different decimal separators in the temperature value.</span></span> <span data-ttu-id="0846b-306">De même, notez que la chaîne de format de date et d’heure personnalisée « MMMM » est utilisée pour afficher le nom de mois complet et que la quantité d’espace nécessaire est allouée au nom de mois dans la chaîne de résultat par rapport à la longueur du nom de mois le plus long dans la tableau <xref:System.Globalization.DateTimeFormatInfo.MonthNames%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="0846b-306">Also note that the example uses the "MMMM" custom date and time format string to display the full month name, and that it allocates the appropriate amount of space for the month name in the result string by determining the length of the longest month name in the <xref:System.Globalization.DateTimeFormatInfo.MonthNames%2A?displayProperty=nameWithType> array.</span></span>

[!code-csharp[Conceptual.Globalization#5](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.globalization/cs/numbers1.cs#5)]
[!code-vb[Conceptual.Globalization#5](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.globalization/vb/numbers1.vb#5)]

### <a name="persist-numeric-values"></a><span data-ttu-id="0846b-307">Conserver des valeurs numériques</span><span class="sxs-lookup"><span data-stu-id="0846b-307">Persist numeric values</span></span>

<span data-ttu-id="0846b-308">Vous ne devez jamais conserver les données numériques dans un format propre à la culture.</span><span class="sxs-lookup"><span data-stu-id="0846b-308">You should never persist numeric data in a culture-specific format.</span></span> <span data-ttu-id="0846b-309">Il s’agit d’une erreur de programmation courante qui se traduit par des données endommagées ou par une exception au moment de l’exécution.</span><span class="sxs-lookup"><span data-stu-id="0846b-309">This is a common programming error that results in either corrupted data or a run-time exception.</span></span> <span data-ttu-id="0846b-310">L’exemple suivant génère dix nombres à virgule flottante aléatoires et les sérialise sous forme de chaînes en utilisant les conventions de mise en forme de la culture Anglais (États-Unis).</span><span class="sxs-lookup"><span data-stu-id="0846b-310">The following example generates ten random floating-point numbers, and then serializes them as strings by using the formatting conventions of the English (United States) culture.</span></span> <span data-ttu-id="0846b-311">Quand les données sont récupérées et analysées en utilisant les conventions de la culture Anglais (États-Unis), elles sont restaurées avec succès.</span><span class="sxs-lookup"><span data-stu-id="0846b-311">When the data is retrieved and parsed by using the conventions of the English (United States) culture, it is successfully restored.</span></span> <span data-ttu-id="0846b-312">Cependant, quand elles sont récupérées et analysées en utilisant les conventions de la culture Français (France), aucun de ces nombres ne peut être analysé, car les cultures utilisent des séparateurs décimaux différents.</span><span class="sxs-lookup"><span data-stu-id="0846b-312">However, when it is retrieved and parsed by using the conventions of the French (France) culture, none of the numbers can be parsed because the cultures use different decimal separators.</span></span>

[!code-csharp[Conceptual.Globalization#6](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.globalization/cs/numbers2.cs#6)]
[!code-vb[Conceptual.Globalization#6](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.globalization/vb/numbers2.vb#6)]

<span data-ttu-id="0846b-313">Pour éviter ce problème, vous pouvez utiliser l’une de ces techniques :</span><span class="sxs-lookup"><span data-stu-id="0846b-313">To avoid this problem, you can use one of these techniques:</span></span>

- <span data-ttu-id="0846b-314">Enregistrez et analysez la représentation du nombre sous la forme d’une chaîne de format personnalisé qui reste identique, quelle que soit la culture de l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="0846b-314">Save and parse the string representation of the number by using a custom format string that is the same regardless of the user's culture.</span></span>

- <span data-ttu-id="0846b-315">Enregistrez le nombre sous forme de chaîne en utilisant les conventions de mise en forme de la culture dite indifférente, qui est retourné par la propriété <xref:System.Globalization.CultureInfo.InvariantCulture%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="0846b-315">Save the number as a string by using the formatting conventions of the invariant culture, which is returned by the <xref:System.Globalization.CultureInfo.InvariantCulture%2A?displayProperty=nameWithType> property.</span></span>

- <span data-ttu-id="0846b-316">Sérialisez le nombre au format binaire et non chaîne.</span><span class="sxs-lookup"><span data-stu-id="0846b-316">Serialize the number in binary instead of string format.</span></span>

<span data-ttu-id="0846b-317">L’exemple suivant illustre la dernière approche.</span><span class="sxs-lookup"><span data-stu-id="0846b-317">The following example illustrates the last approach.</span></span> <span data-ttu-id="0846b-318">Il sérialise le tableau de valeurs <xref:System.Double> pour ensuite les désérialiser et les afficher selon les conventions de mise en forme des cultures Français (France) et Anglais (États-Unis).</span><span class="sxs-lookup"><span data-stu-id="0846b-318">It serializes the array of <xref:System.Double> values, and then deserializes and displays them by using the formatting conventions of the English (United States) and French (France) cultures.</span></span>

[!code-csharp[Conceptual.Globalization#7](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.globalization/cs/numbers3.cs#7)]
[!code-vb[Conceptual.Globalization#7](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.globalization/vb/numbers3.vb#7)]

<span data-ttu-id="0846b-319">La sérialisation des valeurs de devise est un cas spécial.</span><span class="sxs-lookup"><span data-stu-id="0846b-319">Serializing currency values is a special case.</span></span> <span data-ttu-id="0846b-320">Sachant qu’une valeur monétaire dépend de l’unité de devise dans laquelle elle est exprimée, il est peu judicieux de la traiter comme une valeur numérique indépendante.</span><span class="sxs-lookup"><span data-stu-id="0846b-320">Because a currency value depends on the unit of currency in which it is expressed; it makes little sense to treat it as an independent numeric value.</span></span> <span data-ttu-id="0846b-321">En revanche, si vous enregistrez une valeur de devise sous forme de chaîne mise en forme avec un symbole de devise, elle ne peut pas être désérialisée sur un système dont la culture par défaut utilise un autre symbole monétaire, comme le montre l’exemple suivant.</span><span class="sxs-lookup"><span data-stu-id="0846b-321">However, if you save a currency value as a formatted string that includes a currency symbol, it cannot be deserialized on a system whose default culture uses a different currency symbol, as the following example shows.</span></span>

[!code-csharp[Conceptual.Globalization#16](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.globalization/cs/currency1.cs#16)]
[!code-vb[Conceptual.Globalization#16](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.globalization/vb/currency1.vb#16)]

<span data-ttu-id="0846b-322">Au lieu de cela, vous devez sérialiser la valeur numérique avec des informations sur la culture, telles que le nom de celle-ci, pour permettre la désérialisation de la valeur et de son symbole de devise indépendamment de la culture active.</span><span class="sxs-lookup"><span data-stu-id="0846b-322">Instead, you should serialize the numeric value along with some cultural information, such as the name of the culture, so that the value and its currency symbol can be deserialized independently of the current culture.</span></span> <span data-ttu-id="0846b-323">C’est ce que fait l’exemple suivant en définissant une structure `CurrencyValue` avec deux membres : la valeur <xref:System.Decimal> et le nom de la culture à laquelle appartient la valeur.</span><span class="sxs-lookup"><span data-stu-id="0846b-323">The following example does that by defining a `CurrencyValue` structure with two members: the <xref:System.Decimal> value and the name of the culture to which the value belongs.</span></span>

[!code-csharp[Conceptual.Globalization#17](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.globalization/cs/currency2.cs#17)]
[!code-vb[Conceptual.Globalization#17](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.globalization/vb/currency2.vb#17)]

## <a name="work-with-culture-specific-settings"></a><span data-ttu-id="0846b-324">Utiliser des paramètres spécifiques à la culture</span><span class="sxs-lookup"><span data-stu-id="0846b-324">Work with culture-specific settings</span></span>

<span data-ttu-id="0846b-325">Dans .NET, la classe <xref:System.Globalization.CultureInfo> représente une culture ou une région particulière.</span><span class="sxs-lookup"><span data-stu-id="0846b-325">In .NET, the <xref:System.Globalization.CultureInfo> class represents a particular culture or region.</span></span> <span data-ttu-id="0846b-326">Certaines de ses propriétés retournent des objets qui fournissent des informations spécifiques sur un aspect déterminé d’une culture :</span><span class="sxs-lookup"><span data-stu-id="0846b-326">Some of its properties return objects that provide specific information about some aspect of a culture:</span></span>

- <span data-ttu-id="0846b-327">La propriété <xref:System.Globalization.CultureInfo.CompareInfo%2A?displayProperty=nameWithType> retourne un objet <xref:System.Globalization.CompareInfo> qui contient des informations sur la façon dont la culture compare et trie les chaînes.</span><span class="sxs-lookup"><span data-stu-id="0846b-327">The <xref:System.Globalization.CultureInfo.CompareInfo%2A?displayProperty=nameWithType> property returns a <xref:System.Globalization.CompareInfo> object that contains information about how the culture compares and orders strings.</span></span>

- <span data-ttu-id="0846b-328">La propriété <xref:System.Globalization.CultureInfo.DateTimeFormat%2A?displayProperty=nameWithType> retourne un objet <xref:System.Globalization.DateTimeFormatInfo> qui fournit les informations propres à la culture nécessaires à la mise en forme des données de date et d’heure.</span><span class="sxs-lookup"><span data-stu-id="0846b-328">The <xref:System.Globalization.CultureInfo.DateTimeFormat%2A?displayProperty=nameWithType> property returns a <xref:System.Globalization.DateTimeFormatInfo> object that provides culture-specific information used in formatting date and time data.</span></span>

- <span data-ttu-id="0846b-329">La propriété <xref:System.Globalization.CultureInfo.NumberFormat%2A?displayProperty=nameWithType> retourne un objet <xref:System.Globalization.NumberFormatInfo> qui fournit les informations propres à la culture nécessaires à la mise en forme des données numériques.</span><span class="sxs-lookup"><span data-stu-id="0846b-329">The <xref:System.Globalization.CultureInfo.NumberFormat%2A?displayProperty=nameWithType> property returns a <xref:System.Globalization.NumberFormatInfo> object that provides culture-specific information used in formatting numeric data.</span></span>

- <span data-ttu-id="0846b-330">La propriété <xref:System.Globalization.CultureInfo.TextInfo%2A?displayProperty=nameWithType> retourne un objet <xref:System.Globalization.TextInfo> qui fournit des informations sur le système d’écriture de la culture.</span><span class="sxs-lookup"><span data-stu-id="0846b-330">The <xref:System.Globalization.CultureInfo.TextInfo%2A?displayProperty=nameWithType> property returns a <xref:System.Globalization.TextInfo> object that provides information about the culture's writing system.</span></span>

<span data-ttu-id="0846b-331">En général, ne faites aucune supposition quant aux valeurs des propriétés <xref:System.Globalization.CultureInfo> spécifiques et des objets associés.</span><span class="sxs-lookup"><span data-stu-id="0846b-331">In general, do not make any assumptions about the values of specific <xref:System.Globalization.CultureInfo> properties and their related objects.</span></span> <span data-ttu-id="0846b-332">Vous devez plutôt considérer les données propres à la culture comme des valeurs susceptibles de changer pour les raisons suivantes :</span><span class="sxs-lookup"><span data-stu-id="0846b-332">Instead, you should view culture-specific data as subject to change, for these reasons:</span></span>

- <span data-ttu-id="0846b-333">Les valeurs des propriété individuelles sont susceptibles de changer et d’évoluer dans le temps, à mesure que les données sont corrigées, que des données plus fiables sont disponibles ou que les conventions propres à la culture évoluent.</span><span class="sxs-lookup"><span data-stu-id="0846b-333">Individual property values are subject to change and revision over time, as data is corrected, better data becomes available, or culture-specific conventions change.</span></span>

- <span data-ttu-id="0846b-334">Les valeurs des propriétés individuelles peuvent varier entre les différentes versions du .NET ou du système d’exploitation.</span><span class="sxs-lookup"><span data-stu-id="0846b-334">Individual property values may vary across versions of .NET or operating system versions.</span></span>

- <span data-ttu-id="0846b-335">.NET prend en charge les cultures de remplacement.</span><span class="sxs-lookup"><span data-stu-id="0846b-335">.NET supports replacement cultures.</span></span> <span data-ttu-id="0846b-336">Cela permet de définir une nouvelle culture personnalisée qui complète les cultures standard existants ou qui remplace entièrement une culture standard existante.</span><span class="sxs-lookup"><span data-stu-id="0846b-336">This makes it possible to define a new custom culture that either supplements existing standard cultures or completely replaces an existing standard culture.</span></span>

- <span data-ttu-id="0846b-337">Sur des systèmes Windows, l’utilisateur peut personnaliser les paramètres propres à une culture à l’aide de l’application **Région et langue** du Panneau de configuration.</span><span class="sxs-lookup"><span data-stu-id="0846b-337">On Windows systems, the user can customize culture-specific settings by using the **Region and Language** app in Control Panel.</span></span> <span data-ttu-id="0846b-338">Quand vous instanciez un objet <xref:System.Globalization.CultureInfo>, vous pouvez déterminer s’il reflète ces personnalisations utilisateur en appelant le constructeur <xref:System.Globalization.CultureInfo.%23ctor%28System.String%2CSystem.Boolean%29?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="0846b-338">When you instantiate a <xref:System.Globalization.CultureInfo> object, you can determine whether it reflects these user customizations by calling the <xref:System.Globalization.CultureInfo.%23ctor%28System.String%2CSystem.Boolean%29?displayProperty=nameWithType> constructor.</span></span> <span data-ttu-id="0846b-339">En règle générale, pour les applications utilisateur final, vous devez respecter les préférences des utilisateurs afin que l’utilisateur soit présenté avec des données dans un format qu’il attend.</span><span class="sxs-lookup"><span data-stu-id="0846b-339">Typically, for end-user apps, you should respect user preferences so that the user is presented with data in a format that they expect.</span></span>

## <a name="see-also"></a><span data-ttu-id="0846b-340">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="0846b-340">See also</span></span>

- [<span data-ttu-id="0846b-341">Globalisation et localisation</span><span class="sxs-lookup"><span data-stu-id="0846b-341">Globalization and Localization</span></span>](../../../docs/standard/globalization-localization/index.md)
- [<span data-ttu-id="0846b-342">Bonnes pratiques pour l’utilisation de chaînes</span><span class="sxs-lookup"><span data-stu-id="0846b-342">Best Practices for Using Strings</span></span>](../../../docs/standard/base-types/best-practices-strings.md)
