---
title: Utilisation des threads et du threading
description: En savoir plus sur l’utilisation des threads et du Threading dans .NET, vous pouvez écrire des applications pour effectuer de nombreuses opérations en même temps (multithreading).
ms.date: 08/08/2018
ms.technology: dotnet-standard
helpviewer_keywords:
- threading [.NET], about threading
- managed threading
ms.assetid: 9b5ec2cd-121b-4d49-b075-222cf26f2344
ms.openlocfilehash: 127ea9e28d9ce303270512bf86bf4eecf2f86437
ms.sourcegitcommit: 7588b1f16b7608bc6833c05f91ae670c22ef56f8
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 11/02/2020
ms.locfileid: "93188703"
---
# <a name="using-threads-and-threading"></a><span data-ttu-id="7e0fd-103">Utilisation des threads et du threading</span><span class="sxs-lookup"><span data-stu-id="7e0fd-103">Using threads and threading</span></span>

<span data-ttu-id="7e0fd-104">Avec .NET, vous pouvez écrire des applications qui effectuent plusieurs opérations en même temps.</span><span class="sxs-lookup"><span data-stu-id="7e0fd-104">With .NET, you can write applications that perform multiple operations at the same time.</span></span> <span data-ttu-id="7e0fd-105">Les opérations présentant le risque d’accaparer les ressources d’autres opérations peuvent s’exécuter sur des threads distincts : ce processus est appelé *multithreading* ou *threading libre* .</span><span class="sxs-lookup"><span data-stu-id="7e0fd-105">Operations with the potential of holding up other operations can execute on separate threads, a process known as *multithreading* or *free threading* .</span></span>  
  
<span data-ttu-id="7e0fd-106">Les applications qui utilisent le multithreading sont plus réactives aux entrées utilisateur, car l’interface utilisateur reste active pendant que les tâches sollicitant beaucoup le processeur s’exécutent sur des threads distincts.</span><span class="sxs-lookup"><span data-stu-id="7e0fd-106">Applications that use multithreading are more responsive to user input because the user interface stays active as processor-intensive tasks execute on separate threads.</span></span> <span data-ttu-id="7e0fd-107">Le multithreading est également utile quand vous créez des applications scalables, car vous pouvez ajouter des threads au fil de l’augmentation de la charge de travail.</span><span class="sxs-lookup"><span data-stu-id="7e0fd-107">Multithreading is also useful when you create scalable applications, because you can add threads as the workload increases.</span></span>

> [!NOTE]
> <span data-ttu-id="7e0fd-108">Si vous avez besoin de plus de contrôle sur le comportement des threads de l’application, vous pouvez gérer vous-même les threads.</span><span class="sxs-lookup"><span data-stu-id="7e0fd-108">If you need more control over the behavior of the application's threads, you can manage the threads yourself.</span></span> <span data-ttu-id="7e0fd-109">Toutefois, la programmation multithread est considérablement simplifiée avec les <xref:System.Threading.Tasks.Parallel?displayProperty=nameWithType> <xref:System.Threading.Tasks.Task?displayProperty=nameWithType> classes et, [Parallel LINQ (PLINQ)](../parallel-programming/introduction-to-plinq.md), les classes de collection simultanée dans l' <xref:System.Collections.Concurrent?displayProperty=nameWithType> espace de noms et un modèle de programmation basé sur le concept de tâches plutôt que sur les threads.</span><span class="sxs-lookup"><span data-stu-id="7e0fd-109">However, multithreaded programming is greatly simplified with the <xref:System.Threading.Tasks.Parallel?displayProperty=nameWithType> and <xref:System.Threading.Tasks.Task?displayProperty=nameWithType> classes, [Parallel LINQ (PLINQ)](../parallel-programming/introduction-to-plinq.md), concurrent collection classes in the <xref:System.Collections.Concurrent?displayProperty=nameWithType> namespace, and a programming model that is based on the concept of tasks rather than threads.</span></span> <span data-ttu-id="7e0fd-110">Pour plus d’informations, consultez [Programmation parallèle](../parallel-programming/index.md) et [Bibliothèque parallèle de tâches (TPL)](../parallel-programming/task-parallel-library-tpl.md).</span><span class="sxs-lookup"><span data-stu-id="7e0fd-110">For more information, see [Parallel Programming](../parallel-programming/index.md) and [Task Parallel Library (TPL)](../parallel-programming/task-parallel-library-tpl.md).</span></span>

## <a name="how-to-create-and-start-a-new-thread"></a><span data-ttu-id="7e0fd-111">Comment créer et démarrer un nouveau thread</span><span class="sxs-lookup"><span data-stu-id="7e0fd-111">How to: Create and start a new thread</span></span>

<span data-ttu-id="7e0fd-112">Pour créer un thread, vous devez créer une instance de la classe <xref:System.Threading.Thread?displayProperty=nameWithType> et fournir au constructeur le nom de la méthode que vous souhaitez exécuter sur un nouveau thread.</span><span class="sxs-lookup"><span data-stu-id="7e0fd-112">You create a new thread by creating a new instance of the <xref:System.Threading.Thread?displayProperty=nameWithType> class and providing the name of the method that you want to execute on a new thread to the constructor.</span></span> <span data-ttu-id="7e0fd-113">Pour démarrer un thread créé, appelez la méthode <xref:System.Threading.Thread.Start%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="7e0fd-113">To start a created thread, call the <xref:System.Threading.Thread.Start%2A?displayProperty=nameWithType> method.</span></span> <span data-ttu-id="7e0fd-114">Pour plus d’informations et pour obtenir des exemples, consultez l’article [Création de threads et passage de données au démarrage](creating-threads-and-passing-data-at-start-time.md) et la référence de l’API <xref:System.Threading.Thread>.</span><span class="sxs-lookup"><span data-stu-id="7e0fd-114">For more information and examples, see the [Creating threads and passing data at start time](creating-threads-and-passing-data-at-start-time.md) article and the <xref:System.Threading.Thread> API reference.</span></span>

## <a name="how-to-stop-a-thread"></a><span data-ttu-id="7e0fd-115">Comment arrêter un thread</span><span class="sxs-lookup"><span data-stu-id="7e0fd-115">How to: Stop a thread</span></span>

<span data-ttu-id="7e0fd-116">Pour mettre fin à l’exécution d’un thread, utilisez <xref:System.Threading.CancellationToken?displayProperty=nameWithType> .</span><span class="sxs-lookup"><span data-stu-id="7e0fd-116">To terminate the execution of a thread, use the <xref:System.Threading.CancellationToken?displayProperty=nameWithType>.</span></span> <span data-ttu-id="7e0fd-117">Il offre un moyen unifié d’arrêter les threads de manière coopérative.</span><span class="sxs-lookup"><span data-stu-id="7e0fd-117">It provides a unified way to stop threads cooperatively.</span></span> <span data-ttu-id="7e0fd-118">Pour plus d’informations, consultez [Annulation dans les threads managés](cancellation-in-managed-threads.md).</span><span class="sxs-lookup"><span data-stu-id="7e0fd-118">For more information, see [Cancellation in managed threads](cancellation-in-managed-threads.md).</span></span>

<span data-ttu-id="7e0fd-119">Parfois, il n’est pas possible d’arrêter un thread de manière coopérative, car il exécute du code tiers non conçu pour l’annulation coopérative.</span><span class="sxs-lookup"><span data-stu-id="7e0fd-119">Sometimes it is not possible to stop a thread cooperatively, because it runs third-party code not designed for cooperative cancellation.</span></span> <span data-ttu-id="7e0fd-120">Dans ce cas, vous souhaiterez peut-être mettre fin à l’exécution de force.</span><span class="sxs-lookup"><span data-stu-id="7e0fd-120">In this case, you might want to terminate its execution forcibly.</span></span> <span data-ttu-id="7e0fd-121">Pour mettre fin à l’exécution d’un thread de force, dans .NET Framework vous pouvez utiliser la <xref:System.Threading.Thread.Abort%2A?displayProperty=nameWithType> méthode.</span><span class="sxs-lookup"><span data-stu-id="7e0fd-121">To terminate the execution of a thread forcibly, in .NET Framework you can use the <xref:System.Threading.Thread.Abort%2A?displayProperty=nameWithType> method.</span></span> <span data-ttu-id="7e0fd-122">Cette méthode lève une <xref:System.Threading.ThreadAbortException> sur le thread sur lequel elle est appelée.</span><span class="sxs-lookup"><span data-stu-id="7e0fd-122">That method raises a <xref:System.Threading.ThreadAbortException> on the thread on which it's invoked.</span></span> <span data-ttu-id="7e0fd-123">Pour plus d’informations, consultez [Destruction de threads](destroying-threads.md).</span><span class="sxs-lookup"><span data-stu-id="7e0fd-123">For more information, see [Destroying threads](destroying-threads.md).</span></span> <span data-ttu-id="7e0fd-124">La <xref:System.Threading.Thread.Abort%2A?displayProperty=nameWithType> méthode n’est pas prise en charge dans .net core.</span><span class="sxs-lookup"><span data-stu-id="7e0fd-124">The <xref:System.Threading.Thread.Abort%2A?displayProperty=nameWithType> method is not supported in .NET Core.</span></span> <span data-ttu-id="7e0fd-125">Si vous devez mettre fin à l’exécution de code tiers de force dans .NET Core, exécutez-le dans le processus distinct et utilisez <xref:System.Diagnostics.Process.Kill%2A?displayProperty=nameWithType> .</span><span class="sxs-lookup"><span data-stu-id="7e0fd-125">If you need to terminate the execution of third-party code forcibly in .NET Core, run it in the separate process and use <xref:System.Diagnostics.Process.Kill%2A?displayProperty=nameWithType>.</span></span>

<span data-ttu-id="7e0fd-126">Le <xref:System.Threading.CancellationToken?displayProperty=nameWithType> n’est pas disponible avant le .NET Framework 4.</span><span class="sxs-lookup"><span data-stu-id="7e0fd-126">The <xref:System.Threading.CancellationToken?displayProperty=nameWithType> is not available before .NET Framework 4.</span></span> <span data-ttu-id="7e0fd-127">Pour arrêter un thread dans les anciennes versions de .NET Framework, implémentez manuellement l’annulation coopérative à l’aide des techniques de synchronisation de threads.</span><span class="sxs-lookup"><span data-stu-id="7e0fd-127">To stop a thread in older .NET Framework versions, implement the cooperative cancellation manually using the thread synchronization techniques.</span></span> <span data-ttu-id="7e0fd-128">Par exemple, vous pouvez créer le champ booléen volatile `shouldStop` et l’utiliser pour demander l’arrêt du code exécuté par le thread.</span><span class="sxs-lookup"><span data-stu-id="7e0fd-128">For example, you can create the volatile boolean field `shouldStop` and use it to request the code executed by the thread to stop.</span></span> <span data-ttu-id="7e0fd-129">Pour plus d’informations, consultez [volatile](../../csharp/language-reference/keywords/volatile.md) in C# Reference et <xref:System.Threading.Volatile?displayProperty=nameWithType> .</span><span class="sxs-lookup"><span data-stu-id="7e0fd-129">For more information, see [volatile](../../csharp/language-reference/keywords/volatile.md) in C# Reference and <xref:System.Threading.Volatile?displayProperty=nameWithType>.</span></span>

<span data-ttu-id="7e0fd-130">Utilisez la <xref:System.Threading.Thread.Join%2A?displayProperty=nameWithType> méthode pour que le thread appelant attende la fin du thread en cours d’arrêt.</span><span class="sxs-lookup"><span data-stu-id="7e0fd-130">Use the <xref:System.Threading.Thread.Join%2A?displayProperty=nameWithType> method to make the calling thread wait for the termination of the thread being stopped.</span></span>

## <a name="how-to-pause-or-interrupt-a-thread"></a><span data-ttu-id="7e0fd-131">Comment suspendre ou interrompre un thread</span><span class="sxs-lookup"><span data-stu-id="7e0fd-131">How to: Pause or interrupt a thread</span></span>

<span data-ttu-id="7e0fd-132">Vous utilisez la méthode <xref:System.Threading.Thread.Sleep%2A?displayProperty=nameWithType> pour suspendre le thread actif pendant un certain laps de temps.</span><span class="sxs-lookup"><span data-stu-id="7e0fd-132">You use the <xref:System.Threading.Thread.Sleep%2A?displayProperty=nameWithType> method to pause the current thread for a specified amount of time.</span></span> <span data-ttu-id="7e0fd-133">Vous pouvez interrompre un thread bloqué en appelant la méthode <xref:System.Threading.Thread.Interrupt%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="7e0fd-133">You can interrupt a blocked thread by calling the <xref:System.Threading.Thread.Interrupt%2A?displayProperty=nameWithType> method.</span></span> <span data-ttu-id="7e0fd-134">Pour plus d’informations, consultez [Suspension et interruption de threads](pausing-and-resuming-threads.md).</span><span class="sxs-lookup"><span data-stu-id="7e0fd-134">For more information, see [Pausing and interrupting threads](pausing-and-resuming-threads.md).</span></span>

## <a name="thread-properties"></a><span data-ttu-id="7e0fd-135">Propriétés du thread</span><span class="sxs-lookup"><span data-stu-id="7e0fd-135">Thread properties</span></span>

<span data-ttu-id="7e0fd-136">Le tableau suivant présente certaines des propriétés de <xref:System.Threading.Thread> :</span><span class="sxs-lookup"><span data-stu-id="7e0fd-136">The following table presents some of the <xref:System.Threading.Thread> properties:</span></span>  
  
|<span data-ttu-id="7e0fd-137">Propriété</span><span class="sxs-lookup"><span data-stu-id="7e0fd-137">Property</span></span>|<span data-ttu-id="7e0fd-138">Description</span><span class="sxs-lookup"><span data-stu-id="7e0fd-138">Description</span></span>|  
|--------------|-----------|  
|<xref:System.Threading.Thread.IsAlive%2A>|<span data-ttu-id="7e0fd-139">Retourne `true` si un thread a été démarré et ne s’est pas encore arrêté normalement ou n’a pas été abandonné.</span><span class="sxs-lookup"><span data-stu-id="7e0fd-139">Returns `true` if a thread has been started and has not yet terminated normally or aborted.</span></span>|  
|<xref:System.Threading.Thread.IsBackground%2A>|<span data-ttu-id="7e0fd-140">Obtient ou définit une valeur booléenne qui indique si un thread est un thread d’arrière-plan.</span><span class="sxs-lookup"><span data-stu-id="7e0fd-140">Gets or sets a Boolean that indicates if a thread is a background thread.</span></span> <span data-ttu-id="7e0fd-141">Les threads d’arrière-plan ressemblent aux threads de premier plan, mais un thread d’arrière-plan n’empêche pas un processus de s’arrêter.</span><span class="sxs-lookup"><span data-stu-id="7e0fd-141">Background threads are like foreground threads, but a background thread doesn't prevent a process from stopping.</span></span> <span data-ttu-id="7e0fd-142">Une fois que tous les threads de premier plan appartenant à un processus sont arrêtés, le common language runtime met fin au processus en appelant la méthode <xref:System.Threading.Thread.Abort%2A> sur les threads d’arrière-plan encore actifs.</span><span class="sxs-lookup"><span data-stu-id="7e0fd-142">Once all foreground threads that belong to a process have stopped, the common language runtime ends the process by calling the <xref:System.Threading.Thread.Abort%2A> method on background threads that are still alive.</span></span> <span data-ttu-id="7e0fd-143">Pour plus d’informations, consultez [Threads de premier plan et d’arrière-plan](foreground-and-background-threads.md).</span><span class="sxs-lookup"><span data-stu-id="7e0fd-143">For more information, see [Foreground and Background Threads](foreground-and-background-threads.md).</span></span>|  
|<xref:System.Threading.Thread.Name%2A>|<span data-ttu-id="7e0fd-144">Obtient ou définit le nom d’un thread.</span><span class="sxs-lookup"><span data-stu-id="7e0fd-144">Gets or sets the name of a thread.</span></span> <span data-ttu-id="7e0fd-145">Généralement utilisé pour découvrir des threads individuels lors du débogage.</span><span class="sxs-lookup"><span data-stu-id="7e0fd-145">Most frequently used to discover individual threads when you debug.</span></span>|  
|<xref:System.Threading.Thread.Priority%2A>|<span data-ttu-id="7e0fd-146">Obtient ou définit une valeur <xref:System.Threading.ThreadPriority> utilisée par le système d’exploitation pour classer par priorité la planification des threads.</span><span class="sxs-lookup"><span data-stu-id="7e0fd-146">Gets or sets a <xref:System.Threading.ThreadPriority> value that is used by the operating system to prioritize thread scheduling.</span></span> <span data-ttu-id="7e0fd-147">Pour plus d’informations, consultez [Planification des threads](scheduling-threads.md) et la référence de <xref:System.Threading.ThreadPriority>.</span><span class="sxs-lookup"><span data-stu-id="7e0fd-147">For more information, see [Scheduling threads](scheduling-threads.md) and the <xref:System.Threading.ThreadPriority> reference.</span></span>|  
|<xref:System.Threading.Thread.ThreadState%2A>|<span data-ttu-id="7e0fd-148">Obtient une valeur <xref:System.Threading.ThreadState> contenant les états actuels d’un thread.</span><span class="sxs-lookup"><span data-stu-id="7e0fd-148">Gets a <xref:System.Threading.ThreadState> value containing the current states of a thread.</span></span>|  

## <a name="see-also"></a><span data-ttu-id="7e0fd-149">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="7e0fd-149">See also</span></span>

- <xref:System.Threading.Thread?displayProperty=nameWithType>
- [<span data-ttu-id="7e0fd-150">Threads et threading</span><span class="sxs-lookup"><span data-stu-id="7e0fd-150">Threads and Threading</span></span>](threads-and-threading.md)
- [<span data-ttu-id="7e0fd-151">Programmation parallèle</span><span class="sxs-lookup"><span data-stu-id="7e0fd-151">Parallel Programming</span></span>](../parallel-programming/index.md)
