---
title: 'Procédure pas à pas : création d’un pipeline de dataflow'
description: Créez un pipeline de flux de données, qui est une série de composants ou de blocs de flux de données. Un bloc de flux de données effectue une certaine tâche pour contribuer à un objectif plus large.
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- dataflow pipelines, creating with TPL
- Task Parallel Library, dataflows
- TPL dataflow library, creating dataflow pipeline
ms.assetid: 69308f82-aa22-4ac5-833d-e748533b58e8
ms.openlocfilehash: 9efa77062be35dd93e72c88c67cccd06ff485141
ms.sourcegitcommit: d8020797a6657d0fbbdff362b80300815f682f94
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 11/24/2020
ms.locfileid: "95689847"
---
# <a name="walkthrough-creating-a-dataflow-pipeline"></a><span data-ttu-id="f08ec-104">Procédure pas à pas : création d’un pipeline de dataflow</span><span class="sxs-lookup"><span data-stu-id="f08ec-104">Walkthrough: Creating a Dataflow Pipeline</span></span>

<span data-ttu-id="f08ec-105">Bien que vous puissiez utiliser les méthodes <xref:System.Threading.Tasks.Dataflow.DataflowBlock.Receive%2A?displayProperty=nameWithType>, <xref:System.Threading.Tasks.Dataflow.DataflowBlock.ReceiveAsync%2A?displayProperty=nameWithType> et <xref:System.Threading.Tasks.Dataflow.DataflowBlock.TryReceive%2A?displayProperty=nameWithType> pour recevoir des messages des blocs sources, vous pouvez également connecter des blocs de messages pour former un *pipeline de flux de données*.</span><span class="sxs-lookup"><span data-stu-id="f08ec-105">Although you can use the <xref:System.Threading.Tasks.Dataflow.DataflowBlock.Receive%2A?displayProperty=nameWithType>, <xref:System.Threading.Tasks.Dataflow.DataflowBlock.ReceiveAsync%2A?displayProperty=nameWithType>, and <xref:System.Threading.Tasks.Dataflow.DataflowBlock.TryReceive%2A?displayProperty=nameWithType> methods to receive messages from source blocks, you can also connect message blocks to form a *dataflow pipeline*.</span></span> <span data-ttu-id="f08ec-106">Un pipeline de flux de données est une série de composants, ou de *blocs de flux de données*, qui effectuent chacun une tâche spécifique qui contribue à un plus grand objectif.</span><span class="sxs-lookup"><span data-stu-id="f08ec-106">A dataflow pipeline is a series of components, or *dataflow blocks*, each of which performs a specific task that contributes to a larger goal.</span></span> <span data-ttu-id="f08ec-107">Chaque bloc de flux de données d'un pipeline de flux de données effectue un travail lorsqu'il reçoit un message d'un autre bloc de flux de données.</span><span class="sxs-lookup"><span data-stu-id="f08ec-107">Every dataflow block in a dataflow pipeline performs work when it receives a message from another dataflow block.</span></span> <span data-ttu-id="f08ec-108">Ce processus s'apparente à une chaîne de montage en construction automobile.</span><span class="sxs-lookup"><span data-stu-id="f08ec-108">An analogy to this is an assembly line for automobile manufacturing.</span></span> <span data-ttu-id="f08ec-109">Comme chaque véhicule passe via la ligne de montage, un poste assemble le châssis, le suivant installe le moteur, et ainsi de suite.</span><span class="sxs-lookup"><span data-stu-id="f08ec-109">As each vehicle passes through the assembly line, one station assembles the frame, the next one installs the engine, and so on.</span></span> <span data-ttu-id="f08ec-110">Étant donné qu'une ligne d'assemblage permet à plusieurs véhicules d'être assemblés en même temps, cela fournit une productivité supérieure à l'assemblage un par un des véhicules.</span><span class="sxs-lookup"><span data-stu-id="f08ec-110">Because an assembly line enables multiple vehicles to be assembled at the same time, it provides better throughput than assembling complete vehicles one at a time.</span></span>

 <span data-ttu-id="f08ec-111">Ce document montre un pipeline de flux de données qui télécharge le livre *L’Illiade d’Homère* à partir d’un site web et recherche dans le texte les mots dont l’inversion des caractères permet d’obtenir un autre mot.</span><span class="sxs-lookup"><span data-stu-id="f08ec-111">This document demonstrates a dataflow pipeline that downloads the book *The Iliad of Homer* from a website and searches the text to match individual words with words that reverse the first word's characters.</span></span> <span data-ttu-id="f08ec-112">La formation du pipeline de flux de données dans ce document comprend les étapes suivantes :</span><span class="sxs-lookup"><span data-stu-id="f08ec-112">The formation of the dataflow pipeline in this document consists of the following steps:</span></span>  
  
1. <span data-ttu-id="f08ec-113">Créez des blocs de flux de données qui participent au pipeline.</span><span class="sxs-lookup"><span data-stu-id="f08ec-113">Create the dataflow blocks that participate in the pipeline.</span></span>  
  
2. <span data-ttu-id="f08ec-114">Connectez chaque bloc de flux de données au bloc suivant dans le pipeline.</span><span class="sxs-lookup"><span data-stu-id="f08ec-114">Connect each dataflow block to the next block in the pipeline.</span></span> <span data-ttu-id="f08ec-115">Chaque bloc reçoit comme entrée la sortie du bloc précédent du pipeline.</span><span class="sxs-lookup"><span data-stu-id="f08ec-115">Each block receives as input the output of the previous block in the pipeline.</span></span>  
  
3. <span data-ttu-id="f08ec-116">Pour chaque bloc de flux de données, créez une tâche de continuation qui définit le bloc suivant à l’état arrêté après que le bloc précédent ait terminé.</span><span class="sxs-lookup"><span data-stu-id="f08ec-116">For each dataflow block, create a continuation task that sets the next block to the completed state after the previous block finishes.</span></span>  
  
4. <span data-ttu-id="f08ec-117">Publiez les données au début du pipeline.</span><span class="sxs-lookup"><span data-stu-id="f08ec-117">Post data to the head of the pipeline.</span></span>  
  
5. <span data-ttu-id="f08ec-118">Marquez le début du pipeline comme terminé.</span><span class="sxs-lookup"><span data-stu-id="f08ec-118">Mark the head of the pipeline as completed.</span></span>  
  
6. <span data-ttu-id="f08ec-119">Attendez que le pipeline termine tous les travaux.</span><span class="sxs-lookup"><span data-stu-id="f08ec-119">Wait for the pipeline to complete all work.</span></span>  
  
## <a name="prerequisites"></a><span data-ttu-id="f08ec-120">Prérequis</span><span class="sxs-lookup"><span data-stu-id="f08ec-120">Prerequisites</span></span>  

 <span data-ttu-id="f08ec-121">Lisez la rubrique [Flux de données](dataflow-task-parallel-library.md) avant de démarrer cette procédure pas à pas.</span><span class="sxs-lookup"><span data-stu-id="f08ec-121">Read [Dataflow](dataflow-task-parallel-library.md) before you start this walkthrough.</span></span>  
  
## <a name="creating-a-console-application"></a><span data-ttu-id="f08ec-122">Création d'une application console</span><span class="sxs-lookup"><span data-stu-id="f08ec-122">Creating a Console Application</span></span>  

 <span data-ttu-id="f08ec-123">Dans Visual Studio, créez un projet Application console en Visual C# ou en Visual Basic.</span><span class="sxs-lookup"><span data-stu-id="f08ec-123">In Visual Studio, create a Visual C# or Visual Basic Console Application project.</span></span> <span data-ttu-id="f08ec-124">Installez le package NuGet System.Threading.Tasks.Dataflow.</span><span class="sxs-lookup"><span data-stu-id="f08ec-124">Install the System.Threading.Tasks.Dataflow NuGet package.</span></span>

[!INCLUDE [tpl-install-instructions](../../../includes/tpl-install-instructions.md)]

 <span data-ttu-id="f08ec-125">Ajoutez le code suivant à votre projet pour créer l'application de base.</span><span class="sxs-lookup"><span data-stu-id="f08ec-125">Add the following code to your project to create the basic application.</span></span>  
  
 [!code-csharp[TPLDataflow_Palindromes#2](../../../samples/snippets/csharp/VS_Snippets_Misc/tpldataflow_palindromes/cs/dataflowpalindromes.cs#2)]
 [!code-vb[TPLDataflow_Palindromes#2](../../../samples/snippets/visualbasic/VS_Snippets_Misc/tpldataflow_palindromes/vb/dataflowpalindromesemptymain.vb#2)]  
  
## <a name="creating-the-dataflow-blocks"></a><span data-ttu-id="f08ec-126">Création des blocs de flux de données</span><span class="sxs-lookup"><span data-stu-id="f08ec-126">Creating the Dataflow Blocks</span></span>  

 <span data-ttu-id="f08ec-127">Ajoutez le code suivant à la méthode `Main` pour créer des blocs de flux de données qui participent au pipeline.</span><span class="sxs-lookup"><span data-stu-id="f08ec-127">Add the following code to the `Main` method to create the dataflow blocks that participate in the pipeline.</span></span> <span data-ttu-id="f08ec-128">Le tableau suivant résume le rôle de chaque membre du pipeline.</span><span class="sxs-lookup"><span data-stu-id="f08ec-128">The table that follows summarizes the role of each member of the pipeline.</span></span>  
  
 [!code-csharp[TPLDataflow_Palindromes#3](../../../samples/snippets/csharp/VS_Snippets_Misc/tpldataflow_palindromes/cs/dataflowpalindromes.cs#3)]
 [!code-vb[TPLDataflow_Palindromes#3](../../../samples/snippets/visualbasic/VS_Snippets_Misc/tpldataflow_palindromes/vb/dataflowpalindromes.vb#3)]  
  
|<span data-ttu-id="f08ec-129">Membre</span><span class="sxs-lookup"><span data-stu-id="f08ec-129">Member</span></span>|<span data-ttu-id="f08ec-130">Type</span><span class="sxs-lookup"><span data-stu-id="f08ec-130">Type</span></span>|<span data-ttu-id="f08ec-131">Description</span><span class="sxs-lookup"><span data-stu-id="f08ec-131">Description</span></span>|  
|------------|----------|-----------------|  
|`downloadString`|<xref:System.Threading.Tasks.Dataflow.TransformBlock%602>|<span data-ttu-id="f08ec-132">Télécharge le texte du livre depuis le Web.</span><span class="sxs-lookup"><span data-stu-id="f08ec-132">Downloads the book text from the Web.</span></span>|  
|`createWordList`|<xref:System.Threading.Tasks.Dataflow.TransformBlock%602>|<span data-ttu-id="f08ec-133">Sépare le texte du livre dans un tableau de mots.</span><span class="sxs-lookup"><span data-stu-id="f08ec-133">Separates the book text into an array of words.</span></span>|  
|`filterWordList`|<xref:System.Threading.Tasks.Dataflow.TransformBlock%602>|<span data-ttu-id="f08ec-134">Supprime les mots courts et les doublons du tableau de mots.</span><span class="sxs-lookup"><span data-stu-id="f08ec-134">Removes short words and duplicates from the word array.</span></span>|  
|`findReversedWords`|<xref:System.Threading.Tasks.Dataflow.TransformManyBlock%602>|<span data-ttu-id="f08ec-135">Recherche tous les mots dans la collection filtrée de tableau de mots dont le changement se produit également dans le tableau de mots.</span><span class="sxs-lookup"><span data-stu-id="f08ec-135">Finds all words in the filtered word array collection whose reverse also occurs in the word array.</span></span>|  
|`printReversedWords`|<xref:System.Threading.Tasks.Dataflow.ActionBlock%601>|<span data-ttu-id="f08ec-136">Affiche les mots et les mots inversés correspondants dans la console.</span><span class="sxs-lookup"><span data-stu-id="f08ec-136">Displays words and the corresponding reverse words to the console.</span></span>|  
  
 <span data-ttu-id="f08ec-137">Bien que vous puissiez combiner plusieurs étapes de cet exemple dans le pipeline de flux de données en une étape, l’exemple illustre le concept de composition de plusieurs tâches distinctes de flux de données pour effectuer une plus grande tâche.</span><span class="sxs-lookup"><span data-stu-id="f08ec-137">Although you could combine multiple steps in the dataflow pipeline in this example into one step, the example illustrates the concept of composing multiple independent dataflow tasks to perform a larger task.</span></span> <span data-ttu-id="f08ec-138">L'exemple utilise <xref:System.Threading.Tasks.Dataflow.TransformBlock%602> pour permettre à chaque membre du pipeline d'exécuter une opération sur les données d'entrée et d'envoyer les résultats à l'étape suivante dans le pipeline.</span><span class="sxs-lookup"><span data-stu-id="f08ec-138">The example uses <xref:System.Threading.Tasks.Dataflow.TransformBlock%602> to enable each member of the pipeline to perform an operation on its input data and send the results to the next step in the pipeline.</span></span> <span data-ttu-id="f08ec-139">Le membre `findReversedWords` du pipeline est un objet <xref:System.Threading.Tasks.Dataflow.TransformManyBlock%602> car il génère des sorties multiples indépendantes pour chaque entrée.</span><span class="sxs-lookup"><span data-stu-id="f08ec-139">The `findReversedWords` member of the pipeline is a <xref:System.Threading.Tasks.Dataflow.TransformManyBlock%602> object because it produces multiple independent outputs for each input.</span></span> <span data-ttu-id="f08ec-140">La queue du pipeline, `printReversedWords`, est un objet <xref:System.Threading.Tasks.Dataflow.ActionBlock%601> car elle exécute une action sur son entrée, et ne produit aucun résultat.</span><span class="sxs-lookup"><span data-stu-id="f08ec-140">The tail of the pipeline, `printReversedWords`, is an <xref:System.Threading.Tasks.Dataflow.ActionBlock%601> object because it performs an action on its input, and does not produce a result.</span></span>  
  
## <a name="forming-the-pipeline"></a><span data-ttu-id="f08ec-141">Formation du pipeline</span><span class="sxs-lookup"><span data-stu-id="f08ec-141">Forming the Pipeline</span></span>  

 <span data-ttu-id="f08ec-142">Ajoutez le code suivant pour adapter chaque bloc au bloc suivant dans le pipeline.</span><span class="sxs-lookup"><span data-stu-id="f08ec-142">Add the following code to connect each block to the next block in the pipeline.</span></span>  
  
 <span data-ttu-id="f08ec-143">Lorsque vous appelez la méthode <xref:System.Threading.Tasks.Dataflow.DataflowBlock.LinkTo%2A> pour adapter un bloc source de flux de données à un bloc cible de flux de données, le bloc source de flux de données se propage au bloc cible lorsque les données sont disponibles.</span><span class="sxs-lookup"><span data-stu-id="f08ec-143">When you call the <xref:System.Threading.Tasks.Dataflow.DataflowBlock.LinkTo%2A> method to connect a source dataflow block to a target dataflow block, the source dataflow block propagates data to the target block as data becomes available.</span></span> <span data-ttu-id="f08ec-144">Si vous spécifiez également <xref:System.Threading.Tasks.Dataflow.DataflowLinkOptions> avec <xref:System.Threading.Tasks.Dataflow.DataflowLinkOptions.PropagateCompletion> défini sur true, la réussite ou l’échec de l’achèvement d’un bloc dans le pipeline entraînera l’achèvement du bloc suivant dans le pipeline.</span><span class="sxs-lookup"><span data-stu-id="f08ec-144">If you also provide <xref:System.Threading.Tasks.Dataflow.DataflowLinkOptions> with <xref:System.Threading.Tasks.Dataflow.DataflowLinkOptions.PropagateCompletion> set to true, successful or unsuccessful completion of one block in the pipeline will cause completion of the next block in the pipeline.</span></span>
  
 [!code-csharp[TPLDataflow_Palindromes#4](../../../samples/snippets/csharp/VS_Snippets_Misc/tpldataflow_palindromes/cs/dataflowpalindromes.cs#4)]
 [!code-vb[TPLDataflow_Palindromes#4](../../../samples/snippets/visualbasic/VS_Snippets_Misc/tpldataflow_palindromes/vb/dataflowpalindromes.vb#4)]  
  
## <a name="posting-data-to-the-pipeline"></a><span data-ttu-id="f08ec-145">Publication des données du pipeline</span><span class="sxs-lookup"><span data-stu-id="f08ec-145">Posting Data to the Pipeline</span></span>  

 <span data-ttu-id="f08ec-146">Ajoutez le code suivant pour publier l'URL du livre de *l'Iliade d'Homère* au début du pipeline de flux de données.</span><span class="sxs-lookup"><span data-stu-id="f08ec-146">Add the following code to post the URL of the book *The Iliad of Homer* to the head of the dataflow pipeline.</span></span>  
  
 [!code-csharp[TPLDataflow_Palindromes#6](../../../samples/snippets/csharp/VS_Snippets_Misc/tpldataflow_palindromes/cs/dataflowpalindromes.cs#6)]
 [!code-vb[TPLDataflow_Palindromes#6](../../../samples/snippets/visualbasic/VS_Snippets_Misc/tpldataflow_palindromes/vb/dataflowpalindromes.vb#6)]  
  
 <span data-ttu-id="f08ec-147">Cet exemple utilise <xref:System.Threading.Tasks.Dataflow.DataflowBlock.Post%2A?displayProperty=nameWithType> pour envoyer des données de façon synchrone au début du pipeline.</span><span class="sxs-lookup"><span data-stu-id="f08ec-147">This example uses <xref:System.Threading.Tasks.Dataflow.DataflowBlock.Post%2A?displayProperty=nameWithType> to synchronously send data to the head of the pipeline.</span></span> <span data-ttu-id="f08ec-148">Utilisez la méthode <xref:System.Threading.Tasks.Dataflow.DataflowBlock.SendAsync%2A?displayProperty=nameWithType> lorsque vous devez envoyer de manière asynchrone des données à un nœud de flux de données.</span><span class="sxs-lookup"><span data-stu-id="f08ec-148">Use the <xref:System.Threading.Tasks.Dataflow.DataflowBlock.SendAsync%2A?displayProperty=nameWithType> method when you must asynchronously send data to a dataflow node.</span></span>  
  
## <a name="completing-pipeline-activity"></a><span data-ttu-id="f08ec-149">Fermeture de l'activité du pipeline</span><span class="sxs-lookup"><span data-stu-id="f08ec-149">Completing Pipeline Activity</span></span>  

 <span data-ttu-id="f08ec-150">Ajoutez le code suivant pour indiquer que le début du pipeline est terminé.</span><span class="sxs-lookup"><span data-stu-id="f08ec-150">Add the following code to mark the head of the pipeline as completed.</span></span> <span data-ttu-id="f08ec-151">Le début du pipeline propage son achèvement lorsqu’il a traité tous les messages mis en mémoire tampon.</span><span class="sxs-lookup"><span data-stu-id="f08ec-151">The head of the pipeline propagates its completion after it processes all buffered messages.</span></span>
  
 [!code-csharp[TPLDataflow_Palindromes#7](../../../samples/snippets/csharp/VS_Snippets_Misc/tpldataflow_palindromes/cs/dataflowpalindromes.cs#7)]
 [!code-vb[TPLDataflow_Palindromes#7](../../../samples/snippets/visualbasic/VS_Snippets_Misc/tpldataflow_palindromes/vb/dataflowpalindromes.vb#7)]  
  
 <span data-ttu-id="f08ec-152">Cet exemple envoie une URL via le pipeline de flux de données à traiter.</span><span class="sxs-lookup"><span data-stu-id="f08ec-152">This example sends one URL through the dataflow pipeline to be processed.</span></span> <span data-ttu-id="f08ec-153">Si vous devez envoyer plusieurs entrées par un pipeline, appelez la méthode <xref:System.Threading.Tasks.Dataflow.IDataflowBlock.Complete%2A?displayProperty=nameWithType> après avoir soumis toutes les entrées.</span><span class="sxs-lookup"><span data-stu-id="f08ec-153">If you send more than one input through a pipeline, call the <xref:System.Threading.Tasks.Dataflow.IDataflowBlock.Complete%2A?displayProperty=nameWithType> method after you submit all the input.</span></span> <span data-ttu-id="f08ec-154">Vous pouvez omettre cette étape si votre application n'a pas de points bien définis à partir desquels les données ne sont plus disponibles ou si l'application n'a pas à attendre que le pipeline se termine.</span><span class="sxs-lookup"><span data-stu-id="f08ec-154">You can omit this step if your application has no well-defined point at which data is no longer available or the application does not have to wait for the pipeline to finish.</span></span>  
  
## <a name="waiting-for-the-pipeline-to-finish"></a><span data-ttu-id="f08ec-155">Attente de la fermeture du pipeline</span><span class="sxs-lookup"><span data-stu-id="f08ec-155">Waiting for the Pipeline to Finish</span></span>  

 <span data-ttu-id="f08ec-156">Ajoutez le code suivant pour attendre que le pipeline se termine.</span><span class="sxs-lookup"><span data-stu-id="f08ec-156">Add the following code to wait for the pipeline to finish.</span></span> <span data-ttu-id="f08ec-157">L’opération globale se termine lorsque la fin du pipeline est atteinte.</span><span class="sxs-lookup"><span data-stu-id="f08ec-157">The overall operation is finished when the tail of the pipeline finishes.</span></span>  
  
 [!code-csharp[TPLDataflow_Palindromes#8](../../../samples/snippets/csharp/VS_Snippets_Misc/tpldataflow_palindromes/cs/dataflowpalindromes.cs#8)]
 [!code-vb[TPLDataflow_Palindromes#8](../../../samples/snippets/visualbasic/VS_Snippets_Misc/tpldataflow_palindromes/vb/dataflowpalindromes.vb#8)]  
  
 <span data-ttu-id="f08ec-158">Vous pouvez attendre la fin de flux de données de tous les threads ou de plusieurs threads simultanément.</span><span class="sxs-lookup"><span data-stu-id="f08ec-158">You can wait for dataflow completion from any thread or from multiple threads at the same time.</span></span>  
  
## <a name="the-complete-example"></a><span data-ttu-id="f08ec-159">Exemple complet</span><span class="sxs-lookup"><span data-stu-id="f08ec-159">The Complete Example</span></span>  

 <span data-ttu-id="f08ec-160">L'exemple suivant présente le code complet pour cette visite.</span><span class="sxs-lookup"><span data-stu-id="f08ec-160">The following example shows the complete code for this walkthrough.</span></span>  
  
 [!code-csharp[TPLDataflow_Palindromes#1](../../../samples/snippets/csharp/VS_Snippets_Misc/tpldataflow_palindromes/cs/dataflowpalindromes.cs#1)]
 [!code-vb[TPLDataflow_Palindromes#1](../../../samples/snippets/visualbasic/VS_Snippets_Misc/tpldataflow_palindromes/vb/dataflowpalindromes.vb#1)]  
  
## <a name="next-steps"></a><span data-ttu-id="f08ec-161">Étapes suivantes</span><span class="sxs-lookup"><span data-stu-id="f08ec-161">Next Steps</span></span>  

 <span data-ttu-id="f08ec-162">Cet exemple envoie une URL à traiter via le pipeline de flux de données.</span><span class="sxs-lookup"><span data-stu-id="f08ec-162">This example sends one URL to process through the dataflow pipeline.</span></span> <span data-ttu-id="f08ec-163">Si vous devez envoyer plusieurs valeurs d'entrée via le pipeline, vous pouvez introduire un forme de parallélisme dans votre application similaire à la façon dont des parties peuvent parcourir une fabrique d'automobiles.</span><span class="sxs-lookup"><span data-stu-id="f08ec-163">If you send more than one input value through a pipeline, you can introduce a form of parallelism into your application that resembles how parts might move through an automobile factory.</span></span> <span data-ttu-id="f08ec-164">Lorsque le premier membre du pipeline envoie son résultat au deuxième membre, il peut traiter un autre élément en parallèle alors que le deuxième membre traite le premier résultat.</span><span class="sxs-lookup"><span data-stu-id="f08ec-164">When the first member of the pipeline sends its result to the second member, it can process another item in parallel as the second member processes the first result.</span></span>  
  
 <span data-ttu-id="f08ec-165">Le parallélisme qui est effectué à l’aide de pipelines de flux de données s’appelle *le parallélisme de granularité grossière* parce qu’il comprend généralement moins de tâches, mais plus grosses.</span><span class="sxs-lookup"><span data-stu-id="f08ec-165">The parallelism that is achieved by using dataflow pipelines is known as *coarse-grained parallelism* because it typically consists of fewer, larger tasks.</span></span> <span data-ttu-id="f08ec-166">Vous pouvez également utiliser *le parallélisme de granularité fine* de plus petites tâches de courte durée dans un pipeline de flux de données.</span><span class="sxs-lookup"><span data-stu-id="f08ec-166">You can also use a more *fine-grained parallelism* of smaller, short-running tasks in a dataflow pipeline.</span></span> <span data-ttu-id="f08ec-167">Dans cet exemple, le membre `findReversedWords` du pipeline utilise [PLINQ](introduction-to-plinq.md) pour traiter plusieurs éléments dans la liste des travaux en parallèle.</span><span class="sxs-lookup"><span data-stu-id="f08ec-167">In this example, the `findReversedWords` member of the pipeline uses [PLINQ](introduction-to-plinq.md) to process multiple items in the work list in parallel.</span></span> <span data-ttu-id="f08ec-168">L'utilisation du parallélisme de granularité fine dans un pipeline de granularité grossière peut améliorer le débit global.</span><span class="sxs-lookup"><span data-stu-id="f08ec-168">The use of fine-grained parallelism in a coarse-grained pipeline can improve overall throughput.</span></span>  
  
 <span data-ttu-id="f08ec-169">Vous pouvez également adapter un bloc de flux de données source à plusieurs blocs cibles pour créer *un réseau de flux de données*.</span><span class="sxs-lookup"><span data-stu-id="f08ec-169">You can also connect a source dataflow block to multiple target blocks to create a *dataflow network*.</span></span> <span data-ttu-id="f08ec-170">La version surchargée de la méthode <xref:System.Threading.Tasks.Dataflow.DataflowBlock.LinkTo%2A> accepte un objet <xref:System.Predicate%601> qui définit si le bloc cible reçoit les messages en fonction de sa valeur.</span><span class="sxs-lookup"><span data-stu-id="f08ec-170">The overloaded version of the <xref:System.Threading.Tasks.Dataflow.DataflowBlock.LinkTo%2A> method takes a <xref:System.Predicate%601> object that defines whether the target block accepts each message based on its value.</span></span> <span data-ttu-id="f08ec-171">La plupart des types de bloc de flux de données qui agissent comme sources envoient des messages à toutes les blocs cibles connectés, dans l'ordre dans lequel ils ont été connectés, jusqu'à ce que l'un des blocs reçoive ce message.</span><span class="sxs-lookup"><span data-stu-id="f08ec-171">Most dataflow block types that act as sources offer messages to all connected target blocks, in the order in which they were connected, until one of the blocks accepts that message.</span></span> <span data-ttu-id="f08ec-172">En utilisant ce mécanisme de filtrage, vous pouvez créer des systèmes de blocs de flux de données connectés qui dirigent certaines données via un seul tracé et d’autres données via un autre tracé.</span><span class="sxs-lookup"><span data-stu-id="f08ec-172">By using this filtering mechanism, you can create systems of connected dataflow blocks that direct certain data through one path and other data through another path.</span></span> <span data-ttu-id="f08ec-173">Pour obtenir un exemple qui utilise le filtrage afin de créer un réseau de flux de données, consultez [Procédure pas à pas : utilisation de flux de données dans une application Windows Forms](walkthrough-using-dataflow-in-a-windows-forms-application.md).</span><span class="sxs-lookup"><span data-stu-id="f08ec-173">For an example that uses filtering to create a dataflow network, see [Walkthrough: Using Dataflow in a Windows Forms Application](walkthrough-using-dataflow-in-a-windows-forms-application.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="f08ec-174">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="f08ec-174">See also</span></span>

- [<span data-ttu-id="f08ec-175">Dataflow</span><span class="sxs-lookup"><span data-stu-id="f08ec-175">Dataflow</span></span>](dataflow-task-parallel-library.md)
