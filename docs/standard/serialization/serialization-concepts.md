---
title: Concepts de la sérialisation
description: La sérialisation peut être utilisée pour capturer l’état d’un objet afin qu’une copie puisse être créée ou pour envoyer un objet par valeur d’un domaine d’application à un autre.
ms.date: 08/07/2017
ms.assetid: e1ff4740-20a1-4c76-a8ad-d857db307054
ms.openlocfilehash: 35addd2dd2bed8ce878f2f159f1caefe89922d88
ms.sourcegitcommit: 33deec3e814238fb18a49b2a7e89278e27888291
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 06/02/2020
ms.locfileid: "84291316"
---
# <a name="serialization-concepts"></a><span data-ttu-id="63970-103">Concepts de la sérialisation</span><span class="sxs-lookup"><span data-stu-id="63970-103">Serialization concepts</span></span>
<span data-ttu-id="63970-104">Pourquoi utiliser la sérialisation ?</span><span class="sxs-lookup"><span data-stu-id="63970-104">Why would you want to use serialization?</span></span> <span data-ttu-id="63970-105">L'une des deux raisons majeures est que vous pouvez, d'une part, rendre persistant l'état d'un objet sur un support de stockage afin qu'une copie exacte puisse être recréée ultérieurement. D'autre part, vous pouvez envoyer cet objet par valeur d'un domaine d'application à l'autre.</span><span class="sxs-lookup"><span data-stu-id="63970-105">The two most important reasons are to persist the state of an object to a storage medium so an exact copy can be re-created at a later stage, and to send the object by value from one application domain to another.</span></span> <span data-ttu-id="63970-106">Par exemple, la sérialisation est utilisée pour enregistrer l'état de session dans ASP.NET et copier des objets vers le Presse-papiers dans les Windows Forms.</span><span class="sxs-lookup"><span data-stu-id="63970-106">For example, serialization is used to save session state in ASP.NET and to copy objects to the Clipboard in Windows Forms.</span></span> <span data-ttu-id="63970-107">Elle est également utilisée par la communication à distance pour passer des objets par valeur d'un domaine d'application à un autre.</span><span class="sxs-lookup"><span data-stu-id="63970-107">It is also used by remoting to pass objects by value from one application domain to another.</span></span>

[!INCLUDE [binary-serialization-warning](../../../includes/binary-serialization-warning.md)]

## <a name="persistent-storage"></a><span data-ttu-id="63970-108">Stockage persistant</span><span class="sxs-lookup"><span data-stu-id="63970-108">Persistent storage</span></span>
<span data-ttu-id="63970-109">Il est souvent nécessaire de stocker la valeur des champs d'un objet sur un disque pour pouvoir récupérer ces données ultérieurement.</span><span class="sxs-lookup"><span data-stu-id="63970-109">It is often necessary to store the value of the fields of an object to disk and then, later, retrieve this data.</span></span> <span data-ttu-id="63970-110">Bien que cela soit facile à accomplir sans utiliser la sérialisation, cette méthode est souvent fastidieuse et susceptible d'entraîner des erreurs. Elle devient en outre de plus en plus complexe lorsque vous devez suivre une hiérarchie d'objets.</span><span class="sxs-lookup"><span data-stu-id="63970-110">Although this is easy to achieve without relying on serialization, this approach is often cumbersome and error prone, and becomes progressively more complex when you need to track a hierarchy of objects.</span></span> <span data-ttu-id="63970-111">Imaginez que vous deviez enregistrer des données au sein d'une grande application d'entreprise qui contient des milliers d'objets et que vous deviez écrire du code pour enregistrer et restaurer des champs et propriétés sur et à partir d'un disque pour chaque objet.</span><span class="sxs-lookup"><span data-stu-id="63970-111">Imagine writing a large business application, that contains thousands of objects, and having to write code to save and restore the fields and properties to and from disk for each object.</span></span> <span data-ttu-id="63970-112">La sérialisation offre un mécanisme pratique permettant d'atteindre cet objectif.</span><span class="sxs-lookup"><span data-stu-id="63970-112">Serialization provides a convenient mechanism for achieving this objective.</span></span>

<span data-ttu-id="63970-113">Le Common Language Runtime gère la manière dont les objets sont stockés en mémoire et fournit un mécanisme de sérialisation automatisé par le biais de la [réflexion](../../framework/reflection-and-codedom/reflection.md).</span><span class="sxs-lookup"><span data-stu-id="63970-113">The common language runtime manages how objects are stored in memory and provides an automated serialization mechanism by using [reflection](../../framework/reflection-and-codedom/reflection.md).</span></span> <span data-ttu-id="63970-114">Lorsqu'un objet est sérialisé, le nom de la classe, l'assembly et tous les membres de données de l'instance de classe sont écrits sur le support de stockage.</span><span class="sxs-lookup"><span data-stu-id="63970-114">When an object is serialized, the name of the class, the assembly, and all the data members of the class instance are written to storage.</span></span> <span data-ttu-id="63970-115">Les objets stockent souvent des références à d'autres instances dans les variables membres.</span><span class="sxs-lookup"><span data-stu-id="63970-115">Objects often store references to other instances in member variables.</span></span> <span data-ttu-id="63970-116">Lorsque la classe est sérialisée, le moteur de sérialisation effectue un suivi des objets référencés et déjà sérialisés, pour garantir qu'un même objet n'est pas sérialisé plusieurs fois.</span><span class="sxs-lookup"><span data-stu-id="63970-116">When the class is serialized, the serialization engine tracks referenced objects, already serialized, to ensure that the same object is not serialized more than once.</span></span> <span data-ttu-id="63970-117">L’architecture de sérialisation fournie avec le .NET Framework gère correctement les graphiques d’objets et les références circulaires.</span><span class="sxs-lookup"><span data-stu-id="63970-117">The serialization architecture provided with the .NET Framework correctly handles object graphs and circular references automatically.</span></span> <span data-ttu-id="63970-118">La seule spécification définie pour les graphiques d’objets est que tous les objets référencés par l’objet sérialisé doivent également être marqués comme `Serializable` (pour plus d’informations, consultez [Sérialisation de base](basic-serialization.md)).</span><span class="sxs-lookup"><span data-stu-id="63970-118">The only requirement placed on object graphs is that all objects, referenced by the serialized object, must also be marked as `Serializable` (for more information, see [Basic Serialization](basic-serialization.md)).</span></span> <span data-ttu-id="63970-119">Si tel n'est pas le cas, une exception est levée lorsque le sérialiseur tente de sérialiser l'objet non marqué.</span><span class="sxs-lookup"><span data-stu-id="63970-119">If this is not done, an exception will be thrown when the serializer attempts to serialize the unmarked object.</span></span>

<span data-ttu-id="63970-120">Quand la classe sérialisée est désérialisée, elle est recréée et les valeurs de toutes les données membres sont restaurées automatiquement.</span><span class="sxs-lookup"><span data-stu-id="63970-120">When the serialized class is deserialized, the class is recreated and the values of all the data members are automatically restored.</span></span>

## <a name="marshal-by-value"></a><span data-ttu-id="63970-121">Marshaler par valeur</span><span class="sxs-lookup"><span data-stu-id="63970-121">Marshal by value</span></span>
<span data-ttu-id="63970-122">Les objets sont uniquement valides dans le domaine d'application au sein duquel ils ont été créés.</span><span class="sxs-lookup"><span data-stu-id="63970-122">Objects are valid only in the application domain where they are created.</span></span> <span data-ttu-id="63970-123">Toute tentative de passer l’objet comme paramètre ou de le retourner comme résultat échoue si l’objet dérive de `MarshalByRefObject` ou est marqué comme `Serializable`.</span><span class="sxs-lookup"><span data-stu-id="63970-123">Any attempt to pass the object as a parameter or return it as a result will fail unless the object derives from `MarshalByRefObject` or is marked as `Serializable`.</span></span> <span data-ttu-id="63970-124">Si l’objet est marqué comme `Serializable`, il est automatiquement sérialisé, passé du domaine d’application à l’autre, puis désérialisé pour en générer une copie exacte dans le deuxième domaine d’application.</span><span class="sxs-lookup"><span data-stu-id="63970-124">If the object is marked as `Serializable`, the object will automatically be serialized, transported from the one application domain to the other, and then deserialized to produce an exact copy of the object in the second application domain.</span></span> <span data-ttu-id="63970-125">Ce processus est en général connu sous le nom de marshaling par valeur.</span><span class="sxs-lookup"><span data-stu-id="63970-125">This process is typically referred to as marshal-by-value.</span></span>

<span data-ttu-id="63970-126">Quand un objet dérive de `MarshalByRefObject`, une référence de l’objet (et non l’objet lui-même) est passée d’un domaine d’application à un autre.</span><span class="sxs-lookup"><span data-stu-id="63970-126">When an object derives from `MarshalByRefObject`, an object reference is passed from one application domain to another, rather than the object itself.</span></span> <span data-ttu-id="63970-127">Vous pouvez également marquer un objet qui dérive de `MarshalByRefObject` comme `Serializable`.</span><span class="sxs-lookup"><span data-stu-id="63970-127">You can also mark an object that derives from `MarshalByRefObject` as `Serializable`.</span></span> <span data-ttu-id="63970-128">Quand cet objet est utilisé avec la communication à distance, le formateur responsable de la sérialisation, préconfiguré avec un sélecteur de substitut (`SurrogateSelector`), prend le contrôle du processus de sérialisation et remplace tous les objets dérivés de `MarshalByRefObject` par un proxy.</span><span class="sxs-lookup"><span data-stu-id="63970-128">When this object is used with remoting, the formatter responsible for serialization, which has been preconfigured with a surrogate selector (`SurrogateSelector`), takes control of the serialization process, and replaces all objects derived from `MarshalByRefObject` with a proxy.</span></span> <span data-ttu-id="63970-129">Si `SurrogateSelector` n’est pas défini, l’architecture de sérialisation suit les règles de sérialisation standard décrites dans [Étapes du processus de sérialisation](steps-in-the-serialization-process.md).</span><span class="sxs-lookup"><span data-stu-id="63970-129">Without the `SurrogateSelector` in place, the serialization architecture follows the standard serialization rules described in [Steps in the Serialization Process](steps-in-the-serialization-process.md).</span></span>  

## <a name="related-sections"></a><span data-ttu-id="63970-130">Sections connexes</span><span class="sxs-lookup"><span data-stu-id="63970-130">Related sections</span></span>  
 [<span data-ttu-id="63970-131">Sérialisation binaire</span><span class="sxs-lookup"><span data-stu-id="63970-131">Binary Serialization</span></span>](binary-serialization.md)  
 <span data-ttu-id="63970-132">Décrit le mécanisme de sérialisation binaire inclus avec le Common Language Runtime.</span><span class="sxs-lookup"><span data-stu-id="63970-132">Describes the binary serialization mechanism that is included with the common language runtime.</span></span>  
  
 <span data-ttu-id="63970-133">[.NET Remoting](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/72x4h507(v=vs.100))</span><span class="sxs-lookup"><span data-stu-id="63970-133">[.NET Remoting](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/72x4h507(v=vs.100))</span></span>\
 <span data-ttu-id="63970-134">Décrit les différentes méthodes de communication disponibles dans le .NET Framework pour les communications distantes.</span><span class="sxs-lookup"><span data-stu-id="63970-134">Describes the various communications methods available in the .NET Framework for remote communications.</span></span>  
  
 [<span data-ttu-id="63970-135">Sérialisation XML et SOAP</span><span class="sxs-lookup"><span data-stu-id="63970-135">XML and SOAP Serialization</span></span>](xml-and-soap-serialization.md)  
 <span data-ttu-id="63970-136">Décrit le mécanisme de sérialisation XML et SOAP inclus avec le Common Language Runtime.</span><span class="sxs-lookup"><span data-stu-id="63970-136">Describes the XML and SOAP serialization mechanism that is included with the common language runtime.</span></span>
