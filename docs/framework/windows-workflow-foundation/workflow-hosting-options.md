---
title: Options d'hébergement de workflow
ms.date: 03/30/2017
ms.assetid: 37bcd668-9c5c-4e7c-81da-a1f1b3a16514
ms.openlocfilehash: 8ddb83f068eab8480bacc8b80bc5d44b7755fa59
ms.sourcegitcommit: bc293b14af795e0e999e3304dd40c0222cf2ffe4
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 11/26/2020
ms.locfileid: "96293778"
---
# <a name="workflow-hosting-options"></a><span data-ttu-id="94b3b-102">Options d'hébergement de workflow</span><span class="sxs-lookup"><span data-stu-id="94b3b-102">Workflow Hosting Options</span></span>

<span data-ttu-id="94b3b-103">La plupart des exemples de Windows Workflow Foundation (WF) utilisent des workflows hébergés dans une application console, mais ce scénario n’est pas réaliste pour les flux de travail réels.</span><span class="sxs-lookup"><span data-stu-id="94b3b-103">Most of the Windows Workflow Foundation (WF) samples use workflows that are hosted in a console application, but this isn't a realistic scenario for real-world workflows.</span></span> <span data-ttu-id="94b3b-104">Les flux de travail des applications métier réelles sont hébergés dans des processus persistants, soit un service Windows créé par le développeur, soit une application serveur telle qu’IIS 7,0 ou AppFabric.</span><span class="sxs-lookup"><span data-stu-id="94b3b-104">Workflows in actual business applications will be hosted in persistent processes- either a Windows service authored by the developer, or a server application such as IIS 7.0 or AppFabric.</span></span> <span data-ttu-id="94b3b-105">Les différences entre ces approches sont les suivantes.</span><span class="sxs-lookup"><span data-stu-id="94b3b-105">The differences between these approaches are as follows.</span></span>

## <a name="hosting-workflows-in-iis-with-windows-appfabric"></a><span data-ttu-id="94b3b-106">Hébergement de workflows dans IIS avec Windows AppFabric</span><span class="sxs-lookup"><span data-stu-id="94b3b-106">Hosting workflows in IIS with Windows AppFabric</span></span>

<span data-ttu-id="94b3b-107">IIS avec AppFabric est l'hôte par défaut pour les workflows.</span><span class="sxs-lookup"><span data-stu-id="94b3b-107">Using IIS with AppFabric is the preferred host for workflows.</span></span> <span data-ttu-id="94b3b-108">L'application hôte de workflows utilisant AppFabric est WAS (Windows Activation Services), qui supprime la dépendance de HTTP sur IIS uniquement.</span><span class="sxs-lookup"><span data-stu-id="94b3b-108">The host application for workflows using AppFabric is Windows Activation Service, which removes the dependency on HTTP over IIS alone.</span></span>

## <a name="hosting-workflows-in-iis-alone"></a><span data-ttu-id="94b3b-109">Hébergement de workflows dans IIS uniquement</span><span class="sxs-lookup"><span data-stu-id="94b3b-109">Hosting workflows in IIS alone</span></span>

<span data-ttu-id="94b3b-110">L’utilisation de IIS 7,0 seul n’est pas recommandée, car il existe des outils de gestion et de surveillance disponibles avec AppFabric qui facilitent la maintenance des applications en cours d’exécution.</span><span class="sxs-lookup"><span data-stu-id="94b3b-110">Using IIS 7.0 alone is not recommended, as there are management and monitoring tools available with AppFabric that facilitate maintenance of running applications.</span></span> <span data-ttu-id="94b3b-111">Les workflows doivent uniquement être hébergés dans IIS 7,0 uniquement si des problèmes d’infrastructure se posent lors du passage à AppFabric.</span><span class="sxs-lookup"><span data-stu-id="94b3b-111">Workflows should only be hosted in IIS 7.0 alone if there are infrastructure concerns with moving to AppFabric.</span></span>

> [!WARNING]
> <span data-ttu-id="94b3b-112">IIS 7,0 recycle périodiquement les pools d’applications pour diverses raisons.</span><span class="sxs-lookup"><span data-stu-id="94b3b-112">IIS 7.0 recycles application pools periodically for various reasons.</span></span> <span data-ttu-id="94b3b-113">Lorsqu'un pool d'applications est recyclé, IIS cesse de recevoir des messages de l'ancien pool, et instancie un pool d'applications pour recevoir de nouvelles demandes.</span><span class="sxs-lookup"><span data-stu-id="94b3b-113">When an application pool is recycled, IIS stops accepting messages to the old pool, and instantiates a new application pool to accept new requests.</span></span> <span data-ttu-id="94b3b-114">Si un workflow continue de fonctionner après l’envoi d’une réponse, IIS 7,0 ne tient pas compte du travail effectué et peut recycler le pool d’applications d’hébergement.</span><span class="sxs-lookup"><span data-stu-id="94b3b-114">If a workflow continues working after sending a response, IIS 7.0 will not be aware of the work being done, and may recycle the hosting application pool.</span></span> <span data-ttu-id="94b3b-115">Dans ce cas, le flux de travail est abandonné et les services de suivi enregistrent un message [1004-WorkflowInstanceAborted](1004-workflowinstanceaborted.md) avec un champ raison vide.</span><span class="sxs-lookup"><span data-stu-id="94b3b-115">If this happens, the workflow will abort, and tracking services will record a [1004 - WorkflowInstanceAborted](1004-workflowinstanceaborted.md) message with an empty Reason field.</span></span>
>
> <span data-ttu-id="94b3b-116">Si la persistance est utilisée, l'hôte doit explicitement redémarrer les instances interrompues à partir du dernier point de persistance.</span><span class="sxs-lookup"><span data-stu-id="94b3b-116">If persistence is used, the host must explicitly restart aborted instances from the last persistence point.</span></span>
>
> <span data-ttu-id="94b3b-117">Si AppFabric est utilisé, le service de gestion de workflow reprend en fin de compte le workflow à partir du dernier point correct de persistance si la persistance est utilisée.</span><span class="sxs-lookup"><span data-stu-id="94b3b-117">If AppFabric is used, the workflow management service will eventually resume the workflow from the last successful persistence point if persistence is used.</span></span> <span data-ttu-id="94b3b-118">Si aucune persistance n’est utilisée, et le workflow exécute des opérations en dehors d’un modèle de requête/réponse, des données seront perdues lors de l’interruption du workflow.</span><span class="sxs-lookup"><span data-stu-id="94b3b-118">If no persistence is used, and the workflow performs operations outside a Request/Response pattern, data will be lost when the workflow aborts.</span></span>

## <a name="hosting-a-workflow-in-a-custom-windows-service"></a><span data-ttu-id="94b3b-119">Hébergement d'un workflow dans un service Windows personnalisé</span><span class="sxs-lookup"><span data-stu-id="94b3b-119">Hosting a workflow in a custom Windows Service</span></span>

<span data-ttu-id="94b3b-120">Créer un service de workflow personnalisé pour héberger le workflow nécessite que le développeur duplique nombre des fonctionnalités prêtes à l'emploi fournies par AppFabric, mais offre plus de souplesse avec des fonctionnalités personnalisées.</span><span class="sxs-lookup"><span data-stu-id="94b3b-120">Creating a custom workflow service to host the workflow will require the developer to duplicate a lot of the functionality provided out-of-box by AppFabric, but will allow for more flexibility with custom functionality.</span></span> <span data-ttu-id="94b3b-121">Cette option ne doit être prise en compte que si AppFabric s'avère ne pas être une option.</span><span class="sxs-lookup"><span data-stu-id="94b3b-121">This option should only be considered if AppFabric proves to not be an option.</span></span>
