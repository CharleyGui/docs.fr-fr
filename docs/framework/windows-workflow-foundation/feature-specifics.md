---
title: Fonctionnalités spécifiques à Windows Workflow Foundation
description: Cet article décrit les nouvelles fonctionnalités que .NET Framework 4 ajoute aux Windows Workflow Foundation et aux scénarios dans lesquels les fonctionnalités peuvent être utiles.
ms.date: 03/30/2017
ms.assetid: e84d12da-a055-45f6-b4d1-878d127b46b6
ms.openlocfilehash: 6c508e184aee0e4aa0634d128de94ac45ef78f45
ms.sourcegitcommit: d8020797a6657d0fbbdff362b80300815f682f94
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 11/24/2020
ms.locfileid: "95716289"
---
# <a name="windows-workflow-foundation-feature-specifics"></a><span data-ttu-id="c1e44-103">Fonctionnalités spécifiques à Windows Workflow Foundation</span><span class="sxs-lookup"><span data-stu-id="c1e44-103">Windows Workflow Foundation Feature Specifics</span></span>

<span data-ttu-id="c1e44-104">.NET Framework 4 ajoute un certain nombre de fonctionnalités à Windows Workflow Foundation.</span><span class="sxs-lookup"><span data-stu-id="c1e44-104">.NET Framework 4 adds a number of features to Windows Workflow Foundation.</span></span> <span data-ttu-id="c1e44-105">Ce document décrit quelques-unes de ces nouvelles fonctionnalités et donne des détails relatifs à certains scénarios dans lesquels elles peuvent être utiles.</span><span class="sxs-lookup"><span data-stu-id="c1e44-105">This document describes a number of the new features, and gives details about scenarios in which they may be useful.</span></span>

## <a name="messaging-activities"></a><span data-ttu-id="c1e44-106">Activités de messagerie</span><span class="sxs-lookup"><span data-stu-id="c1e44-106">Messaging Activities</span></span>

<span data-ttu-id="c1e44-107">Les activités de messagerie ( <xref:System.ServiceModel.Activities.Receive> , <xref:System.ServiceModel.Activities.SendReply> , <xref:System.ServiceModel.Activities.Send> , <xref:System.ServiceModel.Activities.ReceiveReply> ) sont utilisées pour envoyer et recevoir des messages WCF à partir de votre flux de travail.</span><span class="sxs-lookup"><span data-stu-id="c1e44-107">The messaging activities (<xref:System.ServiceModel.Activities.Receive>, <xref:System.ServiceModel.Activities.SendReply>, <xref:System.ServiceModel.Activities.Send>, <xref:System.ServiceModel.Activities.ReceiveReply>) are used to send and receive WCF messages from your workflow.</span></span> <span data-ttu-id="c1e44-108"><xref:System.ServiceModel.Activities.Receive> les <xref:System.ServiceModel.Activities.SendReply> activités et sont utilisées pour former une opération de service Windows Communication Foundation (WCF) qui est exposée via WSDL, tout comme les services Web WCF standard.</span><span class="sxs-lookup"><span data-stu-id="c1e44-108"><xref:System.ServiceModel.Activities.Receive> and <xref:System.ServiceModel.Activities.SendReply> activities are used to form a Windows Communication Foundation (WCF) service operation that is exposed via WSDL just like standard WCF web services.</span></span> <span data-ttu-id="c1e44-109"><xref:System.ServiceModel.Activities.Send> et <xref:System.ServiceModel.Activities.ReceiveReply> sont utilisés pour consommer un service Web similaire à WCF <xref:System.ServiceModel.ChannelFactory> ; il existe également une expérience **Ajouter une référence de service** pour Workflow Foundation qui génère des activités préconfigurées.</span><span class="sxs-lookup"><span data-stu-id="c1e44-109"><xref:System.ServiceModel.Activities.Send> and <xref:System.ServiceModel.Activities.ReceiveReply> are used to consume a web service similar to a WCF <xref:System.ServiceModel.ChannelFactory>; an **Add Service Reference** experience also exists for Workflow Foundation that generates pre-configured activities.</span></span>

### <a name="getting-started-with-messaging-activities"></a><span data-ttu-id="c1e44-110">Activités de messagerie - Mise en route</span><span class="sxs-lookup"><span data-stu-id="c1e44-110">Getting Started with Messaging Activities</span></span>

- <span data-ttu-id="c1e44-111">Dans Visual Studio 2012, créez un projet d’application de service de flux de travail WCF.</span><span class="sxs-lookup"><span data-stu-id="c1e44-111">In Visual Studio 2012, create a WCF Workflow Service Application project.</span></span> <span data-ttu-id="c1e44-112">Une combinaison <xref:System.ServiceModel.Activities.Receive> et <xref:System.ServiceModel.Activities.SendReply> sera placée sur votre zone de dessin.</span><span class="sxs-lookup"><span data-stu-id="c1e44-112">A <xref:System.ServiceModel.Activities.Receive> and <xref:System.ServiceModel.Activities.SendReply> pair will be placed on your canvas.</span></span>

- <span data-ttu-id="c1e44-113">Cliquez avec le bouton droit sur le projet, puis sélectionnez **Ajouter une référence de service**.</span><span class="sxs-lookup"><span data-stu-id="c1e44-113">Right-click on the project and select **Add Service Reference**.</span></span> <span data-ttu-id="c1e44-114">Pointez sur un service Web existant WSDL, puis cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="c1e44-114">Point to an existing web service WSDL and click **OK**.</span></span> <span data-ttu-id="c1e44-115">Générez votre projet pour afficher les activités générées (implémentées à l’aide de <xref:System.ServiceModel.Activities.Send> et <xref:System.ServiceModel.Activities.ReceiveReply> ) dans votre boîte à outils.</span><span class="sxs-lookup"><span data-stu-id="c1e44-115">Build your project to show the generated activities (implemented using <xref:System.ServiceModel.Activities.Send> and <xref:System.ServiceModel.Activities.ReceiveReply>) in your toolbox.</span></span>

- [<span data-ttu-id="c1e44-116">Documentation sur les services de workflow</span><span class="sxs-lookup"><span data-stu-id="c1e44-116">Workflow services documentation</span></span>](../wcf/feature-details/workflow-services.md)

### <a name="messaging-activities-example-scenario"></a><span data-ttu-id="c1e44-117">Exemple de scénario d'activités de messagerie</span><span class="sxs-lookup"><span data-stu-id="c1e44-117">Messaging Activities Example Scenario</span></span>

<span data-ttu-id="c1e44-118">Un `BestPriceFinder` service appelle plusieurs services de compagnie aérienne pour trouver le meilleur prix de ticket pour un itinéraire donné.</span><span class="sxs-lookup"><span data-stu-id="c1e44-118">A `BestPriceFinder` service calls out to multiple airline services to find the best ticket price for a particular route.</span></span> <span data-ttu-id="c1e44-119">L’implémentation de ce scénario nécessite que vous utilisiez les activités de message pour recevoir la demande de prix, récupérer les prix des services principaux et répondre à la demande de prix avec le meilleur prix.</span><span class="sxs-lookup"><span data-stu-id="c1e44-119">Implementing this scenario would require you to use the message activities to receive the price request, retrieve the prices from the back-end services, and reply to the price request with the best price.</span></span> <span data-ttu-id="c1e44-120">Cela nécessite également que vous utilisiez d’autres activités prêtes à l’emploi pour créer la logique métier pour le calcul du meilleur prix.</span><span class="sxs-lookup"><span data-stu-id="c1e44-120">It would also require you to use other out-of-box activities to create the business logic for calculating the best price.</span></span>

## <a name="workflowservicehost"></a><span data-ttu-id="c1e44-121">WorkflowServiceHost</span><span class="sxs-lookup"><span data-stu-id="c1e44-121">WorkflowServiceHost</span></span>

<span data-ttu-id="c1e44-122"><xref:System.ServiceModel.WorkflowServiceHost>Est l’hôte de flux de travail prêt à l’emploi qui prend en charge plusieurs instances, la configuration et la messagerie WCF (bien que les flux de travail ne soient pas requis pour utiliser la messagerie pour être hébergés).</span><span class="sxs-lookup"><span data-stu-id="c1e44-122">The <xref:System.ServiceModel.WorkflowServiceHost> is the out-of-box workflow host that supports multiple instances, configuration, and WCF messaging (although the workflows aren't required to use messaging in order to be hosted).</span></span> <span data-ttu-id="c1e44-123">Il permet également la persistance, le suivi et le contrôle de l'instance par un ensemble de comportements de service.</span><span class="sxs-lookup"><span data-stu-id="c1e44-123">It also integrates with persistence, tracking, and instance control through a set of service behaviors.</span></span> <span data-ttu-id="c1e44-124">Tout comme WCF <xref:System.ServiceModel.ServiceHost> , le <xref:System.ServiceModel.WorkflowServiceHost> peut être auto-hébergé dans une application console/WINFORMS/WPF ou un service Windows, ou hébergé sur le Web (sous la forme d’un fichier. xamlx) dans IIS ou was.</span><span class="sxs-lookup"><span data-stu-id="c1e44-124">Just like WCF's <xref:System.ServiceModel.ServiceHost>, the <xref:System.ServiceModel.WorkflowServiceHost> can be self-hosted in a console/WinForms/WPF application or Windows service, or web-hosted (as a .xamlx file) in IIS or WAS.</span></span>

### <a name="getting-started-with-workflow-service-host"></a><span data-ttu-id="c1e44-125">Mise en route avec l'hôte du service de workflow</span><span class="sxs-lookup"><span data-stu-id="c1e44-125">Getting Started with Workflow Service Host</span></span>

- <span data-ttu-id="c1e44-126">Dans Visual Studio 2010, créez un projet d’application de service de flux de travail WCF : ce projet sera configuré pour être utilisé <xref:System.ServiceModel.WorkflowServiceHost> dans un environnement d’hôte Web.</span><span class="sxs-lookup"><span data-stu-id="c1e44-126">In Visual Studio 2010, create a WCF Workflow Service Application project: this project will be set up to use <xref:System.ServiceModel.WorkflowServiceHost> in a web-host environment.</span></span>

- <span data-ttu-id="c1e44-127">Pour héberger un flux de travail sans rapport avec la messagerie, ajoutez un <xref:System.ServiceModel.Activities.WorkflowHostingEndpoint> personnalisé qui créera l'instance en fonction d'un message.</span><span class="sxs-lookup"><span data-stu-id="c1e44-127">In order to host a non-messaging workflow, add a custom <xref:System.ServiceModel.Activities.WorkflowHostingEndpoint> that will create the instance based on a message.</span></span>

- <span data-ttu-id="c1e44-128">Il est possible de contrôler des instances de flux de travail (de les suspendre ou de les arrêter, par exemple) en ajoutant un <xref:System.ServiceModel.Activities.WorkflowControlEndpoint> au <xref:System.ServiceModel.WorkflowServiceHost>, puis en utilisant un <xref:System.ServiceModel.Activities.WorkflowControlClient>.</span><span class="sxs-lookup"><span data-stu-id="c1e44-128">Workflow instances can be controlled (e.g. suspended or terminated) by adding a <xref:System.ServiceModel.Activities.WorkflowControlEndpoint> to the <xref:System.ServiceModel.WorkflowServiceHost> and then using a <xref:System.ServiceModel.Activities.WorkflowControlClient>.</span></span>

- <span data-ttu-id="c1e44-129">Vous trouverez des exemples de <xref:System.ServiceModel.WorkflowServiceHost> dans les sections suivantes :</span><span class="sxs-lookup"><span data-stu-id="c1e44-129">Samples for the <xref:System.ServiceModel.WorkflowServiceHost> can be found in the following sections:</span></span>

  - [<span data-ttu-id="c1e44-130">Exécution</span><span class="sxs-lookup"><span data-stu-id="c1e44-130">Execution</span></span>](./samples/execution.md)

  - <span data-ttu-id="c1e44-131">Application : [gestion des instances suspendues](./samples/suspended-instance-management.md)</span><span class="sxs-lookup"><span data-stu-id="c1e44-131">Application: [Suspended Instance Management](./samples/suspended-instance-management.md)</span></span>

- [<span data-ttu-id="c1e44-132">Vue d’ensemble de l’hébergement des services de workflow</span><span class="sxs-lookup"><span data-stu-id="c1e44-132">Hosting Workflow services overview</span></span>](../wcf/feature-details/hosting-workflow-services-overview.md)

### <a name="workflowservicehost-scenario"></a><span data-ttu-id="c1e44-133">Scénario WorkflowServiceHost</span><span class="sxs-lookup"><span data-stu-id="c1e44-133">WorkflowServiceHost Scenario</span></span>

<span data-ttu-id="c1e44-134">Un service BestPriceFinder appelle plusieurs services de compagnies aériennes pour trouver le meilleur prix de ticket pour un itinéraire donné.</span><span class="sxs-lookup"><span data-stu-id="c1e44-134">A BestPriceFinder service calls out to multiple airline services to find the best ticket price for a particular route.</span></span> <span data-ttu-id="c1e44-135">L’implémentation de ce scénario nécessite l’hébergement du flux de travail dans <xref:System.ServiceModel.WorkflowServiceHost> .</span><span class="sxs-lookup"><span data-stu-id="c1e44-135">Implementing this scenario would require you to host the workflow in <xref:System.ServiceModel.WorkflowServiceHost>.</span></span> <span data-ttu-id="c1e44-136">Elle utilise également les activités de message pour recevoir la demande de prix, récupérer les prix des services principaux et répondre à la demande de prix avec le meilleur prix.</span><span class="sxs-lookup"><span data-stu-id="c1e44-136">It would also use the message activities to receive the price request, retrieve the prices from the back-end services, and reply to the price request with the best price.</span></span>

## <a name="correlation"></a><span data-ttu-id="c1e44-137">Corrélation</span><span class="sxs-lookup"><span data-stu-id="c1e44-137">Correlation</span></span>

<span data-ttu-id="c1e44-138">Une corrélation correspond à l'un des deux concepts suivants :</span><span class="sxs-lookup"><span data-stu-id="c1e44-138">A correlation is one of two things:</span></span>

- <span data-ttu-id="c1e44-139">manière de regrouper des messages ; autrement dit, la relation entre un message de demande et sa réponse ;</span><span class="sxs-lookup"><span data-stu-id="c1e44-139">A way of grouping messages together; that is, the relationship between a request message and its reply.</span></span>

- <span data-ttu-id="c1e44-140">manière de mapper des données à une instance de service.</span><span class="sxs-lookup"><span data-stu-id="c1e44-140">A way of mapping a piece of data to a service instance</span></span>

### <a name="getting-started"></a><span data-ttu-id="c1e44-141">Mise en route</span><span class="sxs-lookup"><span data-stu-id="c1e44-141">Getting Started</span></span>

- <span data-ttu-id="c1e44-142">Pour démarrer une corrélation, créez un projet dans Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="c1e44-142">To get started with correlation, create a new project in Visual Studio.</span></span> <span data-ttu-id="c1e44-143">Créez une variable de type <xref:System.ServiceModel.Activities.CorrelationHandle>.</span><span class="sxs-lookup"><span data-stu-id="c1e44-143">Create a variable of type <xref:System.ServiceModel.Activities.CorrelationHandle>.</span></span>

- <span data-ttu-id="c1e44-144">À titre d'exemple de corrélation utilisé pour regrouper des messages, citons une corrélation demande-réponse.</span><span class="sxs-lookup"><span data-stu-id="c1e44-144">An example of correlation used to group messages together is a Request-Reply correlation that groups messages together.</span></span>

  - <span data-ttu-id="c1e44-145">Sur une <xref:System.ServiceModel.Activities.Receive> activité, cliquez sur la <xref:System.ServiceModel.Activities.Receive.CorrelationInitializers%2A> propriété et ajoutez un <xref:System.ServiceModel.Activities.RequestReplyCorrelationInitializer> à l’aide du CorrelationHandle créé à la première étape ci-dessus.</span><span class="sxs-lookup"><span data-stu-id="c1e44-145">On a <xref:System.ServiceModel.Activities.Receive> activity, click on the <xref:System.ServiceModel.Activities.Receive.CorrelationInitializers%2A> property and add a <xref:System.ServiceModel.Activities.RequestReplyCorrelationInitializer> using the CorrelationHandle created in the first step above.</span></span>

  - <span data-ttu-id="c1e44-146">Pour créer une <xref:System.ServiceModel.Activities.SendReply> activité, cliquez avec le bouton droit sur le <xref:System.ServiceModel.Activities.Receive> et cliquez sur « créer un SendReply ».</span><span class="sxs-lookup"><span data-stu-id="c1e44-146">Create a <xref:System.ServiceModel.Activities.SendReply> activity by right-clicking on the <xref:System.ServiceModel.Activities.Receive> and clicking "Create SendReply".</span></span> <span data-ttu-id="c1e44-147">Collez-la dans votre flux de travail à la suite de l'activité <xref:System.ServiceModel.Activities.Receive>.</span><span class="sxs-lookup"><span data-stu-id="c1e44-147">Paste it into your workflow after the <xref:System.ServiceModel.Activities.Receive> activity.</span></span>

- <span data-ttu-id="c1e44-148">Une corrélation basée sur le contenu qui mappe des données (un numéro de commande, par exemple) à une instance de flux de travail particulière constitue un exemple de mappage de données à une instance de service.</span><span class="sxs-lookup"><span data-stu-id="c1e44-148">An example of mapping a piece of data to a service instance is content-based correlation which maps a piece of data (for example, an order ID) to a particular workflow instance.</span></span>

  - <span data-ttu-id="c1e44-149">Dans une activité de messagerie, cliquez sur la propriété `CorrelationInitializers` et ajoutez un <xref:System.ServiceModel.Activities.QueryCorrelationInitializer> à l'aide de la variable <xref:System.ServiceModel.Activities.CorrelationHandle> créée ci-dessus.</span><span class="sxs-lookup"><span data-stu-id="c1e44-149">On any messaging activity, click on the `CorrelationInitializers` property and add a <xref:System.ServiceModel.Activities.QueryCorrelationInitializer> using the <xref:System.ServiceModel.Activities.CorrelationHandle> variable created above.</span></span> <span data-ttu-id="c1e44-150">Double-cliquez sur la propriété de votre choix dans le message (par exemple, OrderID) du menu déroulant.</span><span class="sxs-lookup"><span data-stu-id="c1e44-150">Double-click on the desired property on the message (e.g. OrderID) from the drop-down menu.</span></span> <span data-ttu-id="c1e44-151">Définissez la propriété `CorrelatesWith` avec la variable <xref:System.ServiceModel.Activities.CorrelationHandle> utilisée précédemment.</span><span class="sxs-lookup"><span data-stu-id="c1e44-151">Set the `CorrelatesWith` property to the <xref:System.ServiceModel.Activities.CorrelationHandle> variable used above.</span></span>

- [<span data-ttu-id="c1e44-152">Documentation conceptuelle relative à la corrélation</span><span class="sxs-lookup"><span data-stu-id="c1e44-152">Correlation Conceptual Documentation</span></span>](../wcf/feature-details/correlation.md)

### <a name="correlation-scenario"></a><span data-ttu-id="c1e44-153">Scénario de corrélation</span><span class="sxs-lookup"><span data-stu-id="c1e44-153">Correlation Scenario</span></span>

<span data-ttu-id="c1e44-154">Un flux de travail de traitement des commandes est utilisé pour gérer la création de nouvelles commandes et mettre à jour les commandes existantes qui sont en cours.</span><span class="sxs-lookup"><span data-stu-id="c1e44-154">An order-processing workflow is used to handle new order creation and updating existing orders that are in process.</span></span> <span data-ttu-id="c1e44-155">L’implémentation de ce scénario vous oblige à héberger le flux de travail dans <xref:System.ServiceModel.WorkflowServiceHost> et à utiliser les activités de messagerie.</span><span class="sxs-lookup"><span data-stu-id="c1e44-155">Implementing this scenario would require you to host the workflow in <xref:System.ServiceModel.WorkflowServiceHost> and use the messaging activities.</span></span> <span data-ttu-id="c1e44-156">Elle nécessite également une corrélation basée sur le `orderId` pour s’assurer que les mises à jour sont effectuées sur le flux de travail correct.</span><span class="sxs-lookup"><span data-stu-id="c1e44-156">It would also require correlation based on the `orderId` to ensure that updates are made to the correct workflow.</span></span>

## <a name="simplified-configuration"></a><span data-ttu-id="c1e44-157">Configuration simplifiée</span><span class="sxs-lookup"><span data-stu-id="c1e44-157">Simplified Configuration</span></span>

<span data-ttu-id="c1e44-158">Le schéma de configuration WCF est complexe et offre aux utilisateurs de nombreuses fonctionnalités difficiles à trouver.</span><span class="sxs-lookup"><span data-stu-id="c1e44-158">The WCF configuration schema is complex and provides users with many hard to find features.</span></span> <span data-ttu-id="c1e44-159">Dans [!INCLUDE[netfx_current_short](../../../includes/netfx-current-short-md.md)] , nous nous sommes concentrés sur l’aide des utilisateurs WCF qui configurent leurs services avec les fonctionnalités suivantes :</span><span class="sxs-lookup"><span data-stu-id="c1e44-159">In [!INCLUDE[netfx_current_short](../../../includes/netfx-current-short-md.md)], we have focused on helping WCF users configure their services with the following features:</span></span>

- <span data-ttu-id="c1e44-160">Plus besoin de configuration explicite par service.</span><span class="sxs-lookup"><span data-stu-id="c1e44-160">Removing the need for explicit per-service configuration.</span></span> <span data-ttu-id="c1e44-161">Si vous ne configurez pas \<service> d’éléments pour votre service et que votre service ne définit aucun point de terminaison par programme, un jeu de points de terminaison est automatiquement ajouté à votre service, un par adresse de base de service et par contrat implémenté par votre service.</span><span class="sxs-lookup"><span data-stu-id="c1e44-161">If you do not configure any \<service> elements for your service, and your service does not define programmatically any endpoint, then a set of endpoints will be automatically added to your service, one per service base address and per contract implemented by your service.</span></span>

- <span data-ttu-id="c1e44-162">Permet à l’utilisateur de définir pour les comportements et les liaisons WCF des valeurs par défaut qui seront appliquées aux services sans configuration explicite.</span><span class="sxs-lookup"><span data-stu-id="c1e44-162">Enables the user to define default values for WCF bindings and behaviors, which will be applied to services with no explicit configuration.</span></span>

- <span data-ttu-id="c1e44-163">Les points de terminaison standard définissent les points de terminaison préconfigurés réutilisables qui ont des valeurs fixes pour une ou plusieurs propriétés de point de terminaison (adresse, liaison ou contrat) et permettent la définition de propriétés personnalisées.</span><span class="sxs-lookup"><span data-stu-id="c1e44-163">Standard endpoints define reusable preconfigured endpoints, which have fixed values for one or more of the endpoint properties (address, binding and contract), and allow defining custom properties.</span></span>

- <span data-ttu-id="c1e44-164">Enfin, <xref:System.ServiceModel.Configuration.ConfigurationChannelFactory%601> vous permet d’effectuer une gestion centralisée de la configuration du client WCF, utile dans les scénarios où la configuration est sélectionnée ou modifiée après le temps de chargement du domaine d’application.</span><span class="sxs-lookup"><span data-stu-id="c1e44-164">Finally, the <xref:System.ServiceModel.Configuration.ConfigurationChannelFactory%601> allows you to do central management of WCF client configuration, useful in scenarios in which configuration is selected or changed after the application domain load time.</span></span>

### <a name="getting-started"></a><span data-ttu-id="c1e44-165">Mise en route</span><span class="sxs-lookup"><span data-stu-id="c1e44-165">Getting Started</span></span>

- <span data-ttu-id="c1e44-166">[Guide du développeur pour WCF 4.0](/previous-versions/dotnet/articles/ee354381(v=msdn.10))</span><span class="sxs-lookup"><span data-stu-id="c1e44-166">[A Developer's Guide to WCF 4.0](/previous-versions/dotnet/articles/ee354381(v=msdn.10))</span></span>

- [<span data-ttu-id="c1e44-167">Configuration Channel Factory</span><span class="sxs-lookup"><span data-stu-id="c1e44-167">Configuration Channel Factory</span></span>](xref:System.ServiceModel.Configuration.ConfigurationChannelFactory%601)

- [<span data-ttu-id="c1e44-168">Élément de point de terminaison standard</span><span class="sxs-lookup"><span data-stu-id="c1e44-168">Standard Endpoint Element</span></span>](xref:System.ServiceModel.Configuration.StandardEndpointElement)

- [<span data-ttu-id="c1e44-169">Améliorations de la configuration du service dans .NET Framework 4</span><span class="sxs-lookup"><span data-stu-id="c1e44-169">Service configuration improvements in .NET Framework 4</span></span>](/archive/blogs/endpoint/service-configuration-improvements-in-net-4)

- [<span data-ttu-id="c1e44-170">Erreur souvent commise par les utilisateurs dans .NET 4 : entrée incorrecte du nom de configuration du service WF/WCF</span><span class="sxs-lookup"><span data-stu-id="c1e44-170">Common User Mistake in .NET 4: Mistyping the WF/WCF Service Configuration Name</span></span>](/archive/blogs/endpoint/common-user-mistake-in-net-4-mistyping-the-wfwcf-service-configuration-name)

### <a name="simplified-configuration-scenarios"></a><span data-ttu-id="c1e44-171">Scénarios de configuration simplifiée</span><span class="sxs-lookup"><span data-stu-id="c1e44-171">Simplified Configuration Scenarios</span></span>

- <span data-ttu-id="c1e44-172">Un développeur ASMX expérimenté souhaite commencer à utiliser WCF.</span><span class="sxs-lookup"><span data-stu-id="c1e44-172">An experienced ASMX developer wants to start using WCF.</span></span> <span data-ttu-id="c1e44-173">Toutefois, WCF semble trop compliqué !</span><span class="sxs-lookup"><span data-stu-id="c1e44-173">However, WCF seems way too complicated!</span></span> <span data-ttu-id="c1e44-174">Quelles sont les informations dont j'ai besoin pour écrire dans un fichier de configuration ?</span><span class="sxs-lookup"><span data-stu-id="c1e44-174">What is all that information that I need to write in a configuration file?</span></span> <span data-ttu-id="c1e44-175">Dans .NET 4, vous pouvez même décider de ne pas avoir de fichier de configuration du tout.</span><span class="sxs-lookup"><span data-stu-id="c1e44-175">In .NET 4, you can even decide to not have a configuration file at all.</span></span>

- <span data-ttu-id="c1e44-176">Il est très difficile de configurer et de gérer un ensemble existant de services WCF.</span><span class="sxs-lookup"><span data-stu-id="c1e44-176">An existing set of WCF services are very difficult to configure and maintain.</span></span> <span data-ttu-id="c1e44-177">Le fichier de configuration contient des milliers de lignes de code XML qui doivent être manipulées avec la plus grande prudence.</span><span class="sxs-lookup"><span data-stu-id="c1e44-177">The configuration file has thousands of lines of XML code that are extremely dangerous to touch.</span></span> <span data-ttu-id="c1e44-178">De l'aide est nécessaire pour réduire la quantité de code afin que ce dernier soit plus facile à gérer.</span><span class="sxs-lookup"><span data-stu-id="c1e44-178">Help is needed to reduce that amount of code to something more manageable.</span></span>

## <a name="data-contract-resolver"></a><span data-ttu-id="c1e44-179">Programme de résolution de contrat de données</span><span class="sxs-lookup"><span data-stu-id="c1e44-179">Data Contract Resolver</span></span>

<span data-ttu-id="c1e44-180">Dans .NET Framework 3,5, il existe quelques limitations dans la conception des types connus :</span><span class="sxs-lookup"><span data-stu-id="c1e44-180">In .NET Framework 3.5, there were a few limitations in the design of known types:</span></span>

- <span data-ttu-id="c1e44-181">L’ajout de types connus de manière dynamique pendant la sérialisation ou la désérialisation était impossible.</span><span class="sxs-lookup"><span data-stu-id="c1e44-181">Adding known types dynamically, during serialization or deserialization, was not possible.</span></span>

- <span data-ttu-id="c1e44-182">Les sérialiseurs n'étaient pas en mesure de gérer des informations xsi:type inconnues.</span><span class="sxs-lookup"><span data-stu-id="c1e44-182">Serializers could not deal with unknown xsi:type information.</span></span>

- <span data-ttu-id="c1e44-183">Il n'était pas possible pour les utilisateurs de spécifier le xsi:type qu'ils souhaitaient voir apparaître sur le câble pour, par exemple, réduire la taille d'une instance de sérialisation sur ce dernier.</span><span class="sxs-lookup"><span data-stu-id="c1e44-183">It was not possible for users to specify what xsi:type they would like to have appear on the wire to, for instance, make the size of a serialization instance on the wire smaller.</span></span>

<span data-ttu-id="c1e44-184">Le [DataContractResolver](../wcf/samples/datacontractresolver.md) résout ces problèmes dans .NET Framework 4,5.</span><span class="sxs-lookup"><span data-stu-id="c1e44-184">The [DataContractResolver](../wcf/samples/datacontractresolver.md) solves these issues in .NET Framework 4.5.</span></span>

### <a name="getting-started"></a><span data-ttu-id="c1e44-185">Mise en route</span><span class="sxs-lookup"><span data-stu-id="c1e44-185">Getting Started</span></span>

- [<span data-ttu-id="c1e44-186">Documentation relative à l'API d'un programme de résolution de contrat de données</span><span class="sxs-lookup"><span data-stu-id="c1e44-186">Data Contract Resolver API documentation</span></span>](xref:System.Runtime.Serialization.DataContractResolver)

- [<span data-ttu-id="c1e44-187">Présentation du programme de résolution de contrat de données</span><span class="sxs-lookup"><span data-stu-id="c1e44-187">Introducing the Data Contract Resolver</span></span>](/archive/blogs/youssefm/configuring-known-types-dynamically-introducing-the-datacontractresolver)

- <span data-ttu-id="c1e44-188">Exemples :</span><span class="sxs-lookup"><span data-stu-id="c1e44-188">Samples:</span></span>

  - [<span data-ttu-id="c1e44-189">DataContractResolver</span><span class="sxs-lookup"><span data-stu-id="c1e44-189">DataContractResolver</span></span>](../wcf/samples/datacontractresolver.md)

  - [<span data-ttu-id="c1e44-190">KnownAssemblyAttribute</span><span class="sxs-lookup"><span data-stu-id="c1e44-190">KnownAssemblyAttribute</span></span>](../wcf/samples/knownassemblyattribute.md)

### <a name="data-contract-resolver-scenarios"></a><span data-ttu-id="c1e44-191">Scénarios d'un programme de résolution de contrat de données</span><span class="sxs-lookup"><span data-stu-id="c1e44-191">Data Contract Resolver Scenarios</span></span>

- <span data-ttu-id="c1e44-192">Éviter d'avoir à déclarer des dizaines d'objets <xref:System.Runtime.Serialization.KnownTypeAttribute> dans un service.</span><span class="sxs-lookup"><span data-stu-id="c1e44-192">Avoiding having to declare tens of <xref:System.Runtime.Serialization.KnownTypeAttribute> objects in a service.</span></span>

- <span data-ttu-id="c1e44-193">Réduire la taille d'un objet BLOB XML.</span><span class="sxs-lookup"><span data-stu-id="c1e44-193">Reducing the size of the XML blob.</span></span>

## <a name="flowchart"></a><span data-ttu-id="c1e44-194">Organigramme</span><span class="sxs-lookup"><span data-stu-id="c1e44-194">Flowchart</span></span>

<span data-ttu-id="c1e44-195">Un organigramme est un paradigme connu permettant la représentation visuelle de problèmes liés à un domaine.</span><span class="sxs-lookup"><span data-stu-id="c1e44-195">Flowchart is a well-known paradigm to visually represent domain problems.</span></span> <span data-ttu-id="c1e44-196">Il s’agit d’un nouveau style de flow de contrôle que nous allons introduire dans .NET Framework 4.</span><span class="sxs-lookup"><span data-stu-id="c1e44-196">It is a new control flow style we're introducing in .NET Framework 4.</span></span> <span data-ttu-id="c1e44-197">La principale caractéristique d'un organigramme tient dans le fait qu'une seule activité est exécutée à un moment donné.</span><span class="sxs-lookup"><span data-stu-id="c1e44-197">A core characteristic of Flowchart is that only one activity is executed at any given time.</span></span> <span data-ttu-id="c1e44-198">Les organigrammes peuvent représenter des boucles et des alternatives possibles, mais ne peuvent pas, de manière native, représenter l'exécution simultanée de plusieurs nœuds.</span><span class="sxs-lookup"><span data-stu-id="c1e44-198">Flowcharts can express loops and alternative outcomes, but cannot natively express concurrent execution of multiple nodes.</span></span>

### <a name="getting-started"></a><span data-ttu-id="c1e44-199">Mise en route</span><span class="sxs-lookup"><span data-stu-id="c1e44-199">Getting Started</span></span>

- <span data-ttu-id="c1e44-200">Dans Visual Studio 2012, créez une application console de Workflow.</span><span class="sxs-lookup"><span data-stu-id="c1e44-200">In Visual Studio 2012, create a workflow console application.</span></span> <span data-ttu-id="c1e44-201">Ajoutez un organigramme dans le concepteur de workflow.</span><span class="sxs-lookup"><span data-stu-id="c1e44-201">Add a Flowchart in the workflow designer.</span></span>

- <span data-ttu-id="c1e44-202">La fonctionnalité d’organigramme utilise les classes suivantes :</span><span class="sxs-lookup"><span data-stu-id="c1e44-202">The flowchart feature uses the following classes:</span></span>

  - <xref:System.Activities.Statements.Flowchart>

  - <xref:System.Activities.Statements.FlowNode>

  - <xref:System.Activities.Statements.FlowDecision>

  - <xref:System.Activities.Statements.FlowStep>

  - <xref:System.Activities.Statements.FlowSwitch%601>

- <span data-ttu-id="c1e44-203">Exemples :</span><span class="sxs-lookup"><span data-stu-id="c1e44-203">Samples:</span></span>

  - [<span data-ttu-id="c1e44-204">Gestion des erreurs dans une activité Flowchart à l'aide de TryCatch</span><span class="sxs-lookup"><span data-stu-id="c1e44-204">Fault Handling in a Flowchart Activity Using TryCatch</span></span>](./samples/fault-handling-in-a-flowchart-activity-using-trycatch.md)

  - [<span data-ttu-id="c1e44-205">Processus d'embauche</span><span class="sxs-lookup"><span data-stu-id="c1e44-205">Hiring Process</span></span>](./samples/hiring-process.md)

- <span data-ttu-id="c1e44-206">Documentation relative au concepteur :</span><span class="sxs-lookup"><span data-stu-id="c1e44-206">Designer Documentation:</span></span>

  - [<span data-ttu-id="c1e44-207">Concepteurs d’activités Flowchart</span><span class="sxs-lookup"><span data-stu-id="c1e44-207">Flowchart Activity Designers</span></span>](/visualstudio/workflow-designer/flowchart-activity-designers)

### <a name="flowchart-scenarios"></a><span data-ttu-id="c1e44-208">Scénarios d'organigramme</span><span class="sxs-lookup"><span data-stu-id="c1e44-208">Flowchart Scenarios</span></span>

<span data-ttu-id="c1e44-209">Une activité d'organigramme peut permettre d'implémenter un jeu de devinette.</span><span class="sxs-lookup"><span data-stu-id="c1e44-209">A flowchart activity can be used to implement a guessing game.</span></span> <span data-ttu-id="c1e44-210">Le jeu de devinette est très simple : l'ordinateur sélectionne un nombre aléatoire et le joueur doit deviner ce nombre.</span><span class="sxs-lookup"><span data-stu-id="c1e44-210">The guessing game is very simple: the computer selects a random number and the player has to guess that number.</span></span> <span data-ttu-id="c1e44-211">Lorsque le joueur envoie chaque estimation, l’ordinateur l’affiche comme un indice (par exemple, « essayez un nombre inférieur »).</span><span class="sxs-lookup"><span data-stu-id="c1e44-211">When the player submits each guess, the computer shows them a hint (i.e. "try a lower number").</span></span> <span data-ttu-id="c1e44-212">Si le joueur trouve le nombre en moins de 7 tentatives, il reçoit un Félicitations spécial de l’ordinateur.</span><span class="sxs-lookup"><span data-stu-id="c1e44-212">If the player finds the number in less than 7 attempts, they receive a special congratulation from the computer.</span></span> <span data-ttu-id="c1e44-213">Ce jeu peut être implémenté avec une combinaison des activités procédurales suivantes :</span><span class="sxs-lookup"><span data-stu-id="c1e44-213">This game can be implemented with a combination of the following procedural activities:</span></span>

- <xref:System.Activities.Statements.Sequence>

- <xref:System.Activities.Statements.While>

- <xref:System.Activities.Statements.Switch%601>

- <xref:System.Activities.Statements.TryCatch>

- <xref:System.Activities.Statements.Assign%601>

- <xref:System.Activities.Statements.If>

## <a name="procedural-activities-sequence-if-foreach-switch-assign-dowhile-while"></a><span data-ttu-id="c1e44-214">Activités procédurales (Sequence, If, ForEach, Switch, Assign, DoWhile, While)</span><span class="sxs-lookup"><span data-stu-id="c1e44-214">Procedural activities (Sequence, If, ForEach, Switch, Assign, DoWhile, While)</span></span>

<span data-ttu-id="c1e44-215">Les activités procédurales fournissent un mécanisme de modélisation d'un flux de contrôle séquentiel en faisant appel à des concepts que connaissent bien les programmeurs.</span><span class="sxs-lookup"><span data-stu-id="c1e44-215">Procedural activities provide a mechanism to model sequential control flow using concepts that are familiar to programmers.</span></span> <span data-ttu-id="c1e44-216">Ces activités permettent des constructions de langage de programmation structurées traditionnellement et, le cas échéant, fournissent la parité de langage avec les langages de procédure courants tels que C# et Visual Basic.</span><span class="sxs-lookup"><span data-stu-id="c1e44-216">These activities enable traditionally structured programming language constructs and, when appropriate, provide language parity with common procedural languages such as C# and Visual Basic.</span></span>

### <a name="getting-started"></a><span data-ttu-id="c1e44-217">Mise en route</span><span class="sxs-lookup"><span data-stu-id="c1e44-217">Getting Started</span></span>

- <span data-ttu-id="c1e44-218">Dans Visual Studio 2012, créez une application console de Workflow.</span><span class="sxs-lookup"><span data-stu-id="c1e44-218">In Visual Studio 2012, create a workflow console application.</span></span> <span data-ttu-id="c1e44-219">Ajoutez des activités procédurales dans le concepteur de workfow.</span><span class="sxs-lookup"><span data-stu-id="c1e44-219">Add procedural activities in the workflow designer.</span></span>

- <span data-ttu-id="c1e44-220">Exemples :</span><span class="sxs-lookup"><span data-stu-id="c1e44-220">Samples:</span></span>

  - [<span data-ttu-id="c1e44-221">Processus d'embauche</span><span class="sxs-lookup"><span data-stu-id="c1e44-221">Hiring Process</span></span>](./samples/hiring-process.md)

  - [<span data-ttu-id="c1e44-222">Processus d'achat d'entreprise</span><span class="sxs-lookup"><span data-stu-id="c1e44-222">Corporate Purchase Process</span></span>](./samples/corporate-purchase-process.md)

- <span data-ttu-id="c1e44-223">Documentation relative au concepteur :</span><span class="sxs-lookup"><span data-stu-id="c1e44-223">Designer Documentation:</span></span>

  - [<span data-ttu-id="c1e44-224">Concepteur d'activités Parallel</span><span class="sxs-lookup"><span data-stu-id="c1e44-224">Parallel Activity Designer</span></span>](/visualstudio/workflow-designer/parallel-activity-designer)

  - [<span data-ttu-id="c1e44-225">Concepteur d’activités ParallelForEach \<T></span><span class="sxs-lookup"><span data-stu-id="c1e44-225">ParallelForEach\<T> Activity Designer</span></span>](/visualstudio/workflow-designer/parallelforeach-t-activity-designer)

### <a name="procedural-activity-scenarios"></a><span data-ttu-id="c1e44-226">Scénarios d'activités procédurales</span><span class="sxs-lookup"><span data-stu-id="c1e44-226">Procedural Activity Scenarios</span></span>

- <span data-ttu-id="c1e44-227"><xref:System.Activities.Statements.Parallel>: Un système de gestion des documents intranet a un flux de travail d’approbation de document.</span><span class="sxs-lookup"><span data-stu-id="c1e44-227"><xref:System.Activities.Statements.Parallel>: An intranet document management system has a document approval workflow.</span></span> <span data-ttu-id="c1e44-228">Les documents doivent être approuvés par du personnel travaillant dans plusieurs services différents avant d'être publiés sur le réseau intranet.</span><span class="sxs-lookup"><span data-stu-id="c1e44-228">Documents need to be approved by people in several departments before they can be published to the intranet.</span></span> <span data-ttu-id="c1e44-229">Il n’existe pas d’ordre établi pour les approbations ; ils peuvent se produire à tout moment pendant que le document est dans la phase « approbation en attente ».</span><span class="sxs-lookup"><span data-stu-id="c1e44-229">There isn't an established order for the approvals; they can occur at any time while the document is in the "approval pending" phase.</span></span> <span data-ttu-id="c1e44-230">Lorsqu’un utilisateur soumet un document à des fins de révision, il doit être approuvé par son responsable direct, l’administrateur de l’intranet et le gestionnaire des communications internes.</span><span class="sxs-lookup"><span data-stu-id="c1e44-230">When a user submits a document for review, it must be approved by their direct manager, the intranet administrator, and the internal communications manager.</span></span>

- <span data-ttu-id="c1e44-231"><xref:System.Activities.Statements.ParallelForEach%601> : une application WF gère les achats au sein d'une grande entreprise.</span><span class="sxs-lookup"><span data-stu-id="c1e44-231"><xref:System.Activities.Statements.ParallelForEach%601>: A WF application manages corporate buys within a large company.</span></span> <span data-ttu-id="c1e44-232">Les règles d'entreprise imposent une évaluation de trois fournisseurs différents avant toute planification d'une opération d'achat.</span><span class="sxs-lookup"><span data-stu-id="c1e44-232">The corporate rules dictate that before planning any purchase operation, the valuations of three different vendors is required.</span></span> <span data-ttu-id="c1e44-233">Un employé du service d’achat sélectionne trois fournisseurs de la liste des fournisseurs de l’entreprise.</span><span class="sxs-lookup"><span data-stu-id="c1e44-233">An employee from the buying department selects three vendors from the company's vendor list.</span></span> <span data-ttu-id="c1e44-234">Une fois que ces fournisseurs ont été sélectionnés et informés, la société attend de recevoir leur offre.</span><span class="sxs-lookup"><span data-stu-id="c1e44-234">After these vendors have been selected and notified, the company will wait for their economic proposals.</span></span> <span data-ttu-id="c1e44-235">L'ordre de réception des offres n'a pas d'importance.</span><span class="sxs-lookup"><span data-stu-id="c1e44-235">The proposals can come in any order.</span></span> <span data-ttu-id="c1e44-236">Pour implémenter ce scénario dans WF, nous utilisons un <xref:System.Activities.Statements.ParallelForEach%601> qui permettra une recherche au sein de la liste de fournisseurs et demandera une offre de leur part.</span><span class="sxs-lookup"><span data-stu-id="c1e44-236">To implement this scenario in WF, we use a <xref:System.Activities.Statements.ParallelForEach%601> that will iterate through our collection of vendors and ask for their economic proposals.</span></span> <span data-ttu-id="c1e44-237">Une fois que toutes les offres ont été recueillies, la meilleure est sélectionnée et affichée.</span><span class="sxs-lookup"><span data-stu-id="c1e44-237">After all offers are gathered, the best one is selected and displayed.</span></span>

## <a name="invokemethod"></a><span data-ttu-id="c1e44-238">InvokeMethod</span><span class="sxs-lookup"><span data-stu-id="c1e44-238">InvokeMethod</span></span>

<span data-ttu-id="c1e44-239">L'activité <xref:System.Activities.Statements.InvokeMethod> permet l'appel de méthodes publiques dans des objets ou des types de l'étendue.</span><span class="sxs-lookup"><span data-stu-id="c1e44-239">The <xref:System.Activities.Statements.InvokeMethod> activity allows invoking public methods in objects or types in scope.</span></span> <span data-ttu-id="c1e44-240">Elle prend en charge l'appel de méthodes statiques et d'instances avec ou sans paramètres (y compris les tableaux de paramètres), ainsi que les méthodes génériques.</span><span class="sxs-lookup"><span data-stu-id="c1e44-240">It supports invoking instance and static methods with or without parameters (including parameter arrays), and generic methods.</span></span> <span data-ttu-id="c1e44-241">Elle permet également l’exécution de la méthode de façon synchrone et de façon asynchrone.</span><span class="sxs-lookup"><span data-stu-id="c1e44-241">It also allows executing method synchronously and asynchronously.</span></span>

### <a name="getting-started"></a><span data-ttu-id="c1e44-242">Mise en route</span><span class="sxs-lookup"><span data-stu-id="c1e44-242">Getting Started</span></span>

- <span data-ttu-id="c1e44-243">Dans Visual Studio 2012, créez une application console de Workflow.</span><span class="sxs-lookup"><span data-stu-id="c1e44-243">In Visual Studio 2012, create a workflow console application.</span></span> <span data-ttu-id="c1e44-244">Ajoutez une activité <xref:System.Activities.Statements.InvokeMethod> dans le concepteur de workflow et configurez-y des méthodes d'instances et statiques.</span><span class="sxs-lookup"><span data-stu-id="c1e44-244">Add an <xref:System.Activities.Statements.InvokeMethod> activity in the workflow designer, and configure static and instance methods on it.</span></span>

- <span data-ttu-id="c1e44-245">Documentation du concepteur : [Concepteur d’activités InvokeMethod](/visualstudio/workflow-designer/invokemethod-activity-designer)</span><span class="sxs-lookup"><span data-stu-id="c1e44-245">Designer Documentation: [InvokeMethod Activity Designer](/visualstudio/workflow-designer/invokemethod-activity-designer)</span></span>

### <a name="invokemethod-scenarios"></a><span data-ttu-id="c1e44-246">Scénarios InvokeMethod</span><span class="sxs-lookup"><span data-stu-id="c1e44-246">InvokeMethod Scenarios</span></span>

- <span data-ttu-id="c1e44-247">Une méthode doit être appelée dans un objet de l'étendue.</span><span class="sxs-lookup"><span data-stu-id="c1e44-247">A method in an object in scope needs to be invoked.</span></span> <span data-ttu-id="c1e44-248">Par exemple, une valeur doit être ajoutée à un dictionnaire.</span><span class="sxs-lookup"><span data-stu-id="c1e44-248">For example, a value needs to be added to a dictionary.</span></span> <span data-ttu-id="c1e44-249">La méthode d'ajout de l'instance du dictionnaire est appelée, puis la clé et la valeur sont fournies.</span><span class="sxs-lookup"><span data-stu-id="c1e44-249">The Add method of the instance of the dictionary is invoked, and the key and value are provided.</span></span>

- <span data-ttu-id="c1e44-250">Une méthode doit être appelée sur un objet CLR hérité.</span><span class="sxs-lookup"><span data-stu-id="c1e44-250">A method needs to be invoked on a legacy CLR object.</span></span> <span data-ttu-id="c1e44-251">Au lieu de créer une activité personnalisée pour encapsuler l'appel dans cette classe héritée, s'il se trouve dans l'étendue pendant l'exécution du flux de travail, il est possible d'utiliser <xref:System.Activities.Statements.InvokeMethod>.</span><span class="sxs-lookup"><span data-stu-id="c1e44-251">Instead of creating a custom activity to wrap the call to that legacy class, if it is in scope during the workflow execution, <xref:System.Activities.Statements.InvokeMethod> can be used.</span></span>

## <a name="error-handling-activities"></a><span data-ttu-id="c1e44-252">Activités de gestion des erreurs</span><span class="sxs-lookup"><span data-stu-id="c1e44-252">Error handling activities</span></span>

<span data-ttu-id="c1e44-253">L' <xref:System.Activities.Statements.TryCatch> activité fournit un mécanisme d’interception des exceptions qui se produisent pendant l’exécution d’un jeu d’activités contenues (similaire à la construction try/catch en C# et Visual Basic).</span><span class="sxs-lookup"><span data-stu-id="c1e44-253">The <xref:System.Activities.Statements.TryCatch> activity provides a mechanism for catching exceptions that occur during the execution of a set of contained activities (similar to the Try/Catch construct in C# and Visual Basic).</span></span> <span data-ttu-id="c1e44-254"><xref:System.Activities.Statements.TryCatch> permet la gestion des exceptions au niveau du flux de travail.</span><span class="sxs-lookup"><span data-stu-id="c1e44-254"><xref:System.Activities.Statements.TryCatch> provides exception handling at the workflow level.</span></span> <span data-ttu-id="c1e44-255">Lorsqu’une exception non gérée est levée, le workflow est abandonné et le bloc finally n’est pas exécuté.</span><span class="sxs-lookup"><span data-stu-id="c1e44-255">When an unhandled exception is thrown, the workflow is aborted and the Finally block won't be executed.</span></span> <span data-ttu-id="c1e44-256">Ce comportement est cohérent avec le langage C#.</span><span class="sxs-lookup"><span data-stu-id="c1e44-256">This behavior is consistent with C#.</span></span>

### <a name="getting-started"></a><span data-ttu-id="c1e44-257">Mise en route</span><span class="sxs-lookup"><span data-stu-id="c1e44-257">Getting Started</span></span>

- <span data-ttu-id="c1e44-258">Dans Visual Studio 2012, créez une application console de Workflow.</span><span class="sxs-lookup"><span data-stu-id="c1e44-258">In Visual Studio 2012, create a workflow console application.</span></span> <span data-ttu-id="c1e44-259">Ajoutez une activité <xref:System.Activities.Statements.TryCatch> dans le concepteur de workflow.</span><span class="sxs-lookup"><span data-stu-id="c1e44-259">Add a <xref:System.Activities.Statements.TryCatch> activity in the workflow designer.</span></span>

- <span data-ttu-id="c1e44-260">Exemple : [gestion des erreurs dans une activité Flowchart à l’aide de TryCatch](./samples/fault-handling-in-a-flowchart-activity-using-trycatch.md)</span><span class="sxs-lookup"><span data-stu-id="c1e44-260">Sample: [Fault Handling in a Flowchart Activity Using TryCatch](./samples/fault-handling-in-a-flowchart-activity-using-trycatch.md)</span></span>

- <span data-ttu-id="c1e44-261">Documentation du concepteur : [concepteurs d’activités de gestion des erreurs](/visualstudio/workflow-designer/error-handling-activity-designers)</span><span class="sxs-lookup"><span data-stu-id="c1e44-261">Designer Documentation: [Error Handling Activity Designers](/visualstudio/workflow-designer/error-handling-activity-designers)</span></span>

### <a name="error-handling-scenarios"></a><span data-ttu-id="c1e44-262">Scénarios de gestion des erreurs</span><span class="sxs-lookup"><span data-stu-id="c1e44-262">Error handling scenarios</span></span>

<span data-ttu-id="c1e44-263">Un ensemble d'activités doit être exécuté et une logique spécifique être exécutée en cas d'erreur.</span><span class="sxs-lookup"><span data-stu-id="c1e44-263">A set of activities needs to be executed, and specific logic needs to be executed when an error occurs.</span></span> <span data-ttu-id="c1e44-264">Si, au cours de la logique de gestion des erreurs, il apparaît qu'il n'est pas possible de remédier à l'erreur, l'exception est à nouveau levée et l'activité parente (ou l'hôte) se charge du problème.</span><span class="sxs-lookup"><span data-stu-id="c1e44-264">If during that error handling logic it is found that the error is not recoverable, the exception will be rethrown, and the parent activity (or the host) will deal with the problem.</span></span>

## <a name="pick-activity"></a><span data-ttu-id="c1e44-265">Activité Pick</span><span class="sxs-lookup"><span data-stu-id="c1e44-265">Pick activity</span></span>

<span data-ttu-id="c1e44-266">L'activité <xref:System.Activities.Statements.Pick> fournit une modélisation de flux de contrôle basée sur les événements dans WF.</span><span class="sxs-lookup"><span data-stu-id="c1e44-266">The <xref:System.Activities.Statements.Pick> Activity provides event-based control flow modeling in WF.</span></span> <span data-ttu-id="c1e44-267"><xref:System.Activities.Statements.Pick> contient de nombreuses branches, où chacune d'entre elles attend qu'un événement particulier se produise avant de s'exécuter.</span><span class="sxs-lookup"><span data-stu-id="c1e44-267"><xref:System.Activities.Statements.Pick> contains many branches where each branch waits for a particular event to occur before running.</span></span> <span data-ttu-id="c1e44-268">Dans cette configuration, un <xref:System.Activities.Statements.Pick> se comporte de manière similaire à un <xref:System.Activities.Statements.Switch%601> dans lequel l'activité exécutera un seul des jeux d'événements qu'elle écoute.</span><span class="sxs-lookup"><span data-stu-id="c1e44-268">In this setup, a <xref:System.Activities.Statements.Pick> behaves similar to a <xref:System.Activities.Statements.Switch%601> to which the Activity will execute only one of the set of events it is listening.</span></span> <span data-ttu-id="c1e44-269">Chaque branche est pilotée par l’événement et celui qui se produit exécute la branche correspondante.</span><span class="sxs-lookup"><span data-stu-id="c1e44-269">Each branch is event driven and the event that occurs runs the corresponding branch first.</span></span> <span data-ttu-id="c1e44-270">Toutes les autres branches annulent et arrêtent l'écoute des événements.</span><span class="sxs-lookup"><span data-stu-id="c1e44-270">All other branches cancel and stop listening for events.</span></span>

### <a name="getting-started"></a><span data-ttu-id="c1e44-271">Mise en route</span><span class="sxs-lookup"><span data-stu-id="c1e44-271">Getting Started</span></span>

- <span data-ttu-id="c1e44-272">Dans Visual Studio 2012, créez une application console de Workflow.</span><span class="sxs-lookup"><span data-stu-id="c1e44-272">In Visual Studio 2012, create a workflow console application.</span></span> <span data-ttu-id="c1e44-273">Ajoutez une activité <xref:System.Activities.Statements.Pick> dans le concepteur de workflow.</span><span class="sxs-lookup"><span data-stu-id="c1e44-273">Add a <xref:System.Activities.Statements.Pick> activity in the workflow designer.</span></span>

- <span data-ttu-id="c1e44-274">Exemple : [utilisation de l’activité Pick](./samples/using-the-pick-activity.md)</span><span class="sxs-lookup"><span data-stu-id="c1e44-274">Sample: [Using the Pick Activity](./samples/using-the-pick-activity.md)</span></span>

- <span data-ttu-id="c1e44-275">Documentation du concepteur : [Concepteur d’activités Pick](/visualstudio/workflow-designer/pick-activity-designer)</span><span class="sxs-lookup"><span data-stu-id="c1e44-275">Designer documentation: [Pick Activity Designer](/visualstudio/workflow-designer/pick-activity-designer)</span></span>

### <a name="pick-scenario"></a><span data-ttu-id="c1e44-276">Scénario de l'activité Pick</span><span class="sxs-lookup"><span data-stu-id="c1e44-276">Pick Scenario</span></span>

<span data-ttu-id="c1e44-277">Un utilisateur doit être invité à entrer des informations.</span><span class="sxs-lookup"><span data-stu-id="c1e44-277">A user needs to be prompted for input.</span></span> <span data-ttu-id="c1e44-278">Dans des circonstances normales, le développeur utilise un appel de méthode comme <xref:System.Console.ReadLine%2A> pour demander l’entrée d’un utilisateur.</span><span class="sxs-lookup"><span data-stu-id="c1e44-278">Under normal circumstances, the developer would use a method call like <xref:System.Console.ReadLine%2A> to prompt for a user's input.</span></span> <span data-ttu-id="c1e44-279">Le problème avec cette configuration est que le programme attend que l'utilisateur entre des données.</span><span class="sxs-lookup"><span data-stu-id="c1e44-279">The problem with this setup is that the program waits until the user enters something.</span></span> <span data-ttu-id="c1e44-280">Dans ce scénario, un délai d'attente est nécessaire pour débloquer une activité bloquante.</span><span class="sxs-lookup"><span data-stu-id="c1e44-280">In this scenario, a time-out is needed to unblock a blocking activity.</span></span> <span data-ttu-id="c1e44-281">Dans la plupart des scénarios, une tâche doit être effectuée pendant une durée déterminée.</span><span class="sxs-lookup"><span data-stu-id="c1e44-281">A common scenario is one that requires a task to be completed within a given time duration.</span></span> <span data-ttu-id="c1e44-282">La définition d'un délai d'attente pour une activité bloquante fait partie des cas où Pick apporte une grande valeur ajoutée.</span><span class="sxs-lookup"><span data-stu-id="c1e44-282">Timing out a blocking activity is a scenario where Pick adds a lot of value.</span></span>

## <a name="wcf-routing-service"></a><span data-ttu-id="c1e44-283">Service de routage WCF</span><span class="sxs-lookup"><span data-stu-id="c1e44-283">WCF Routing Service</span></span>

<span data-ttu-id="c1e44-284">Le service de routage est conçu pour être un routeur logiciel générique qui vous permet de contrôler la façon dont les messages WCF circulent entre vos clients et services.</span><span class="sxs-lookup"><span data-stu-id="c1e44-284">The Routing Service is designed to be a generic software Router that allows you to control how WCF messages flow in between your clients and services.</span></span> <span data-ttu-id="c1e44-285">Le service de routage vous permet de découpler vos clients de vos services, ce qui vous offre une plus grande liberté quant aux configurations que vous pouvez prendre en charge et à la flexibilité dont vous disposez lorsque vous envisagez d’héberger vos services.</span><span class="sxs-lookup"><span data-stu-id="c1e44-285">The Routing Service allows you to decouple your clients from your services, which gives you much more freedom in terms of the configurations that you can support and the flexibility you have when considering how to host your services.</span></span> <span data-ttu-id="c1e44-286">Dans .NET Framework 3,5, les clients et les services étaient étroitement couplés ; un client devait connaître tous les services dont il a besoin pour communiquer avec l’emplacement où ils se trouvaient.</span><span class="sxs-lookup"><span data-stu-id="c1e44-286">In .NET Framework 3.5, clients and services were tightly coupled; a client had to know about all of the services it needed to talk to and where they were located.</span></span> <span data-ttu-id="c1e44-287">En outre, WCF dans .NET Framework 3,5 comportait les limitations suivantes :</span><span class="sxs-lookup"><span data-stu-id="c1e44-287">In addition, WCF in .NET Framework 3.5 had the following limitations:</span></span>

- <span data-ttu-id="c1e44-288">La gestion des erreurs était complexe car cette logique devait être codée en dur côté client.</span><span class="sxs-lookup"><span data-stu-id="c1e44-288">Error handling was complex, as this logic had to be hard-coded into the client.</span></span>

- <span data-ttu-id="c1e44-289">Les clients et les services devaient toujours utiliser les mêmes liaisons.</span><span class="sxs-lookup"><span data-stu-id="c1e44-289">Clients and services had to always use the same bindings.</span></span>

- <span data-ttu-id="c1e44-290">Les services étaient rarement conçus de manière appropriée : il est plus facile de faire communiquer le client avec un service qui implémente tout un ensemble, plutôt que de choisir entre plusieurs services.</span><span class="sxs-lookup"><span data-stu-id="c1e44-290">Services were rarely well factored: it is easier to have the client talk to one service which implements everything, rather than needing to choose between multiple services.</span></span>

<span data-ttu-id="c1e44-291">Le service de routage dans .NET 4 est conçu pour faciliter la résolution de ces problèmes.</span><span class="sxs-lookup"><span data-stu-id="c1e44-291">The routing service in .NET 4 is designed to make these problems easier to solve.</span></span> <span data-ttu-id="c1e44-292">Le nouveau service de routage présente les fonctionnalités suivantes :</span><span class="sxs-lookup"><span data-stu-id="c1e44-292">The new routing service has the following features:</span></span>

1. <span data-ttu-id="c1e44-293">Routage basé sur le contenu (les objets <xref:System.ServiceModel.Dispatcher.MessageFilter> examinent un message afin de déterminer sa destination.)</span><span class="sxs-lookup"><span data-stu-id="c1e44-293">Content based routing (<xref:System.ServiceModel.Dispatcher.MessageFilter> objects examine a message to determine where it should be sent.)</span></span>

2. <span data-ttu-id="c1e44-294">Pontage de protocoles (message & de transport)</span><span class="sxs-lookup"><span data-stu-id="c1e44-294">Protocol bridging (transport & message)</span></span>

3. <span data-ttu-id="c1e44-295">Gestion des erreurs (le routeur intercepte les exceptions de communication et bascule sur les points de terminaison de sauvegarde)</span><span class="sxs-lookup"><span data-stu-id="c1e44-295">Error handling (the router catches communication exceptions and fails over to backup endpoints)</span></span>

4. <span data-ttu-id="c1e44-296">Mise à jour dynamique (en mémoire) de <xref:System.ServiceModel.Dispatcher.MessageFilterTable%601> et configuration du routage.</span><span class="sxs-lookup"><span data-stu-id="c1e44-296">Dynamic (in memory) update of <xref:System.ServiceModel.Dispatcher.MessageFilterTable%601> and Routing Configuration.</span></span>

### <a name="getting-started"></a><span data-ttu-id="c1e44-297">Mise en route</span><span class="sxs-lookup"><span data-stu-id="c1e44-297">Getting Started</span></span>

1. <span data-ttu-id="c1e44-298">Documentation : [routage](../wcf/feature-details/routing.md)</span><span class="sxs-lookup"><span data-stu-id="c1e44-298">Documentation: [Routing](../wcf/feature-details/routing.md)</span></span>

2. <span data-ttu-id="c1e44-299">Exemples : [services de routage &#91;exemples WCF&#93;](../wcf/samples/routing-services.md)</span><span class="sxs-lookup"><span data-stu-id="c1e44-299">Samples: [Routing Services &#91;WCF Samples&#93;](../wcf/samples/routing-services.md)</span></span>

3. <span data-ttu-id="c1e44-300">Blog : [règles de routage !](/archive/blogs/RoutingRules/)</span><span class="sxs-lookup"><span data-stu-id="c1e44-300">Blog: [Routing Rules!](/archive/blogs/RoutingRules/)</span></span>

### <a name="routing-scenarios"></a><span data-ttu-id="c1e44-301">Scénarios de routage</span><span class="sxs-lookup"><span data-stu-id="c1e44-301">Routing Scenarios</span></span>

<span data-ttu-id="c1e44-302">Le service de routage s'avère utile dans les scénarios suivants :</span><span class="sxs-lookup"><span data-stu-id="c1e44-302">The routing service is useful in the following scenarios:</span></span>

- <span data-ttu-id="c1e44-303">Les clients peuvent communiquer avec plusieurs services sans avoir à s'adresser à l'ensemble d'entre eux directement.</span><span class="sxs-lookup"><span data-stu-id="c1e44-303">Clients can talk to multiple services without having to address them all directly.</span></span>

- <span data-ttu-id="c1e44-304">Les clients peuvent apporter une logique supplémentaire à une demande du client afin de déterminer la destination du routage</span><span class="sxs-lookup"><span data-stu-id="c1e44-304">Clients can perform additional logic on a client request to determine where to route it</span></span>

- <span data-ttu-id="c1e44-305">Décomposez les opérations effectuées par un client en plusieurs implémentations du service sans refactoriser le client.</span><span class="sxs-lookup"><span data-stu-id="c1e44-305">Decompose the operations a client performs into multiple service implementations without refactoring the client.</span></span>

- <span data-ttu-id="c1e44-306">Les clients et les services peuvent présenter différentes liaisons avec différents paramètres de sécurité.</span><span class="sxs-lookup"><span data-stu-id="c1e44-306">Clients and services can speak different bindings with different security settings.</span></span>

- <span data-ttu-id="c1e44-307">Les clients peuvent être configurés de manière à être plus fiables en cas de défaillance ou d'indisponibilité des services.</span><span class="sxs-lookup"><span data-stu-id="c1e44-307">Clients can be enabled to be more robust against failure or the unavailability of services.</span></span>

## <a name="wcf-discovery"></a><span data-ttu-id="c1e44-308">Discovery WCF</span><span class="sxs-lookup"><span data-stu-id="c1e44-308">WCF Discovery</span></span>

<span data-ttu-id="c1e44-309">La découverte WCF est une technologie d’infrastructure qui vous permet d’incorporer un mécanisme de découverte à votre infrastructure d’application.</span><span class="sxs-lookup"><span data-stu-id="c1e44-309">WCF Discovery is a framework technology that allows you to incorporate a discovery mechanism to your application infrastructure.</span></span> <span data-ttu-id="c1e44-310">Vous pouvez vous en servir pour rendre votre service détectable et configurer vos clients pour qu'ils recherchent des services.</span><span class="sxs-lookup"><span data-stu-id="c1e44-310">You can use this to make your service discoverable, and configure your clients to search for services.</span></span> <span data-ttu-id="c1e44-311">Les clients n'ont plus besoin d'être codés en dur avec un point de terminaison, ce qui rend votre application plus fiable et plus tolérante aux pannes.</span><span class="sxs-lookup"><span data-stu-id="c1e44-311">Clients no longer need to be hard coded with endpoint, making your application more robust and fault tolerant.</span></span> <span data-ttu-id="c1e44-312">Discovery est la plateforme parfaite pour intégrer des fonctionnalités d'auto-configuration à votre application.</span><span class="sxs-lookup"><span data-stu-id="c1e44-312">Discovery is the perfect platform to build auto-configuration capabilities into your application.</span></span>

<span data-ttu-id="c1e44-313">Le produit repose sur la norme WS-Discovery.</span><span class="sxs-lookup"><span data-stu-id="c1e44-313">The product is built on top of the WS-Discovery standard.</span></span> <span data-ttu-id="c1e44-314">Il est conçu pour être interopérable, extensible et générique.</span><span class="sxs-lookup"><span data-stu-id="c1e44-314">It's designed to be interoperable, extensible, and generic.</span></span> <span data-ttu-id="c1e44-315">Le produit prend en charge deux modes d'opération :</span><span class="sxs-lookup"><span data-stu-id="c1e44-315">The product supports two modes of operation:</span></span>

1. <span data-ttu-id="c1e44-316">Managed : lorsqu'une entité sur le réseau est informée des services existants, les clients l'interrogent directement.</span><span class="sxs-lookup"><span data-stu-id="c1e44-316">Managed: where there is an entity on the network knowledgeable about existing services, clients query it directly for information.</span></span> <span data-ttu-id="c1e44-317">Ce comportement est similaire à Active Directory.</span><span class="sxs-lookup"><span data-stu-id="c1e44-317">This is analogous to Active Directory.</span></span>

2. <span data-ttu-id="c1e44-318">Ad-hoc : lorsque les clients utilisent des messages de multidiffusion pour localiser des services.</span><span class="sxs-lookup"><span data-stu-id="c1e44-318">Ad-hoc: where clients use multicast messages to locate services.</span></span>

<span data-ttu-id="c1e44-319">Par ailleurs, les messages de découverte ne dépendent pas du protocole réseau ; vous pouvez les utiliser avec tout protocole qui prend en charge les besoins de chaque mode.</span><span class="sxs-lookup"><span data-stu-id="c1e44-319">Furthermore, discovery messages are network protocol agnostic; you can use them on top any protocol that supports the mode requirements.</span></span> <span data-ttu-id="c1e44-320">Par exemple, les messages de multidiffusion de découverte peuvent être envoyés via le canal UDP ou tout autre réseau qui prend en charge la messagerie multidiffusion.</span><span class="sxs-lookup"><span data-stu-id="c1e44-320">For example, discovery multicast messages can be sent over the UDP channel or any other network that supports multicast messaging.</span></span> <span data-ttu-id="c1e44-321">Ces points de conception, combinés à la flexibilité des fonctionnalités, vous permettent d’adapter la détection spécifiquement à votre solution.</span><span class="sxs-lookup"><span data-stu-id="c1e44-321">These design points, combined with feature flexibility, allow you to adapt the discovery specifically to your solution.</span></span>

### <a name="getting-started"></a><span data-ttu-id="c1e44-322">Mise en route</span><span class="sxs-lookup"><span data-stu-id="c1e44-322">Getting Started</span></span>

- <span data-ttu-id="c1e44-323">Documentation : [découverte WCF](../wcf/feature-details/wcf-discovery.md)</span><span class="sxs-lookup"><span data-stu-id="c1e44-323">Documentation: [WCF Discovery](../wcf/feature-details/wcf-discovery.md)</span></span>

- <span data-ttu-id="c1e44-324">Exemples : [découverte (exemples)](../wcf/samples/discovery-samples.md)</span><span class="sxs-lookup"><span data-stu-id="c1e44-324">Samples: [Discovery (Samples)](../wcf/samples/discovery-samples.md)</span></span>

### <a name="discovery-scenarios"></a><span data-ttu-id="c1e44-325">Scénarios Discovery</span><span class="sxs-lookup"><span data-stu-id="c1e44-325">Discovery Scenarios</span></span>

<span data-ttu-id="c1e44-326">Un développeur ne souhaite pas coder en dur les points de terminaison car la date de disponibilité de mon service n'est pas encore connue.</span><span class="sxs-lookup"><span data-stu-id="c1e44-326">A developer doesn't want to hard code endpoints, since it is unknown when my service will be available.</span></span> <span data-ttu-id="c1e44-327">Il souhaite plutôt choisir un service au moment du runtime.</span><span class="sxs-lookup"><span data-stu-id="c1e44-327">Instead, the developer wants to choose a service at runtime.</span></span> <span data-ttu-id="c1e44-328">Un plus grand degré de découplage, de fiabilité et de configuration automatique est requis entre les composants de l'application.</span><span class="sxs-lookup"><span data-stu-id="c1e44-328">More decoupling, robustness, and auto-configuration is needed between the components in the application.</span></span>

## <a name="tracking"></a><span data-ttu-id="c1e44-329">Suivi</span><span class="sxs-lookup"><span data-stu-id="c1e44-329">Tracking</span></span>

<span data-ttu-id="c1e44-330">Le suivi de flux de travail fournit des informations sur l’exécution d’une instance de Workflow.</span><span class="sxs-lookup"><span data-stu-id="c1e44-330">Workflow tracking provides insight into the execution of a workflow instance.</span></span> <span data-ttu-id="c1e44-331">Les événements de suivi sont émis à partir d’un flux de travail au niveau de l’instance de workflow et lors de l’exécution des activités dans le Workflow.</span><span class="sxs-lookup"><span data-stu-id="c1e44-331">The tracking events are emitted from a workflow at the workflow instance level and when activities within the workflow execute.</span></span> <span data-ttu-id="c1e44-332">Un participant au suivi du flux de travail doit être ajouté à l'hôte du flux de travail pour s'abonner aux enregistrements de suivi.</span><span class="sxs-lookup"><span data-stu-id="c1e44-332">A workflow tracking participant needs to be added to the workflow host to subscribe to tracking records.</span></span> <span data-ttu-id="c1e44-333">Les enregistrements de suivi sont filtrés à l'aide d'un profil de suivi.</span><span class="sxs-lookup"><span data-stu-id="c1e44-333">The tracking records are filtered using a tracking profile.</span></span> <span data-ttu-id="c1e44-334">Le .NET Framework fournit un participant de suivi ETW (Suivi d’v nements pour Windows) et un profil de base est installé dans le fichier machine.config.</span><span class="sxs-lookup"><span data-stu-id="c1e44-334">The .NET Framework provides an ETW (Event Tracing for Windows) tracking participant, and a basic profile is installed in the machine.config file.</span></span>

### <a name="getting-started"></a><span data-ttu-id="c1e44-335">Mise en route</span><span class="sxs-lookup"><span data-stu-id="c1e44-335">Getting Started</span></span>

1. <span data-ttu-id="c1e44-336">Dans Visual Studio 2010, créez un projet d'application de service de flux de travail WCF.</span><span class="sxs-lookup"><span data-stu-id="c1e44-336">In Visual Studio 2010, create a WCF Workflow Service Application project.</span></span> <span data-ttu-id="c1e44-337">Une paire <xref:System.ServiceModel.Activities.Receive> et <xref:System.ServiceModel.Activities.SendReply> sera placée dans votre zone de dessin pour le démarrage.</span><span class="sxs-lookup"><span data-stu-id="c1e44-337">A <xref:System.ServiceModel.Activities.Receive> and <xref:System.ServiceModel.Activities.SendReply> pair will be placed on your canvas to start.</span></span>

2. <span data-ttu-id="c1e44-338">Ouvrez le fichier web.config et ajoutez un comportement de suivi ETW sans profil.</span><span class="sxs-lookup"><span data-stu-id="c1e44-338">Open the web.config and add an ETW tracking behavior with no profile.</span></span>

    1. <span data-ttu-id="c1e44-339">Le profil par défaut est utilisé.</span><span class="sxs-lookup"><span data-stu-id="c1e44-339">The default profile is used.</span></span>

    2. <span data-ttu-id="c1e44-340">Ouvrez l’observateur d’événements et activez le canal analytique dans le nœud suivant : **Observateur d’événements**, **journaux des applications et des services**, **Microsoft**, **Windows**, serveur d’applications **-applications**.</span><span class="sxs-lookup"><span data-stu-id="c1e44-340">Open event viewer and enable the analytic channel in the following node: **Event Viewer**, **Applications and Services Logs**, **Microsoft**, **Windows**, **Application Server-Applications**.</span></span> <span data-ttu-id="c1e44-341">Cliquez avec le bouton droit sur **analyse** et sélectionnez **activer le journal**.</span><span class="sxs-lookup"><span data-stu-id="c1e44-341">Right-click **Analytic** and select **Enable Log**.</span></span>

    3. <span data-ttu-id="c1e44-342">Exécutez le service de flux de travail.</span><span class="sxs-lookup"><span data-stu-id="c1e44-342">Run the workflow service.</span></span>

    4. <span data-ttu-id="c1e44-343">Observez les événements de suivi du flux de travail dans l'observateur d'événements.</span><span class="sxs-lookup"><span data-stu-id="c1e44-343">Observe the workflow tracking events in event viewer.</span></span>

3. <span data-ttu-id="c1e44-344">Exemples : [suivi](./samples/tracking.md)</span><span class="sxs-lookup"><span data-stu-id="c1e44-344">Samples: [Tracking](./samples/tracking.md)</span></span>

4. <span data-ttu-id="c1e44-345">Documentation conceptuelle : [suivi et traçage de workflow](workflow-tracking-and-tracing.md)</span><span class="sxs-lookup"><span data-stu-id="c1e44-345">Conceptual documentation: [Workflow Tracking and Tracing](workflow-tracking-and-tracing.md)</span></span>

## <a name="sql-workflow-instance-store"></a><span data-ttu-id="c1e44-346">Magasin d'instances de workflow SQL</span><span class="sxs-lookup"><span data-stu-id="c1e44-346">SQL Workflow Instance Store</span></span>

<span data-ttu-id="c1e44-347">Le <xref:System.Activities.DurableInstancing.SqlWorkflowInstanceStore> est une implémentation basée sur SQL d'un magasin d'instances.</span><span class="sxs-lookup"><span data-stu-id="c1e44-347">The <xref:System.Activities.DurableInstancing.SqlWorkflowInstanceStore> is a SQL Server-based implementation of an instance store.</span></span> <span data-ttu-id="c1e44-348">Un magasin d'instances stocke l'état d'une instance en cours d'exécution avec l'ensemble des données nécessaires au chargement et à la reprise de cette instance.</span><span class="sxs-lookup"><span data-stu-id="c1e44-348">An instance store stores the state of a running instance together with all data necessary to load and resume that instance.</span></span> <span data-ttu-id="c1e44-349">L'hôte du service demande au magasin d'instances d'enregistrer l'état de l'instance si le flux de travail persiste et de charger l'état de l'instance quand un message arrive pour cette instance ou qu'une activité de report arrive à expiration.</span><span class="sxs-lookup"><span data-stu-id="c1e44-349">The service host instructs the instance store to save the instance state if the workflow persists, and it instructs the instance store to load the instance state when a message arrives for that instance or a delay activity expires.</span></span>

### <a name="getting-started"></a><span data-ttu-id="c1e44-350">Mise en route</span><span class="sxs-lookup"><span data-stu-id="c1e44-350">Getting Started</span></span>

1. <span data-ttu-id="c1e44-351">Dans Visual Studio 2012, créez un flux de travail qui contient une activité implicite ou explicite <xref:System.Activities.Statements.Persist> .</span><span class="sxs-lookup"><span data-stu-id="c1e44-351">In Visual Studio 2012, create a Workflow that contains an implicit or explicit <xref:System.Activities.Statements.Persist> activity.</span></span> <span data-ttu-id="c1e44-352">Ajoutez le comportement <xref:System.Activities.DurableInstancing.SqlWorkflowInstanceStore> à votre hôte de service de workflow.</span><span class="sxs-lookup"><span data-stu-id="c1e44-352">Add the <xref:System.Activities.DurableInstancing.SqlWorkflowInstanceStore> behavior to your workflow service host.</span></span> <span data-ttu-id="c1e44-353">Cela peut se faire dans le code ou dans le fichier de configuration de l'application.</span><span class="sxs-lookup"><span data-stu-id="c1e44-353">This can be done in code or in the application configuration file.</span></span>

2. <span data-ttu-id="c1e44-354">Exemples : [persistance](/previous-versions/dotnet/netframework-4.0/dd699769(v%3dvs.100))</span><span class="sxs-lookup"><span data-stu-id="c1e44-354">Samples: [Persistence](/previous-versions/dotnet/netframework-4.0/dd699769(v%3dvs.100))</span></span>

3. <span data-ttu-id="c1e44-355">Documentation conceptuelle : [magasin d’instances de workflow SQL](sql-workflow-instance-store.md).</span><span class="sxs-lookup"><span data-stu-id="c1e44-355">Conceptual documentation: [SQL Workflow Instance Store](sql-workflow-instance-store.md).</span></span>
