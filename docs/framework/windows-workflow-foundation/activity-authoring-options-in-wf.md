---
title: Options pour la création d'activités dans WF
ms.date: 03/30/2017
ms.assetid: b9061f5f-12c3-47f0-adbe-1330e2714c94
ms.openlocfilehash: e80750b3865a21d072f45b0245ae114660012e66
ms.sourcegitcommit: bc293b14af795e0e999e3304dd40c0222cf2ffe4
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 11/26/2020
ms.locfileid: "96289202"
---
# <a name="activity-authoring-options-in-wf"></a><span data-ttu-id="636bf-102">Options pour la création d'activités dans WF</span><span class="sxs-lookup"><span data-stu-id="636bf-102">Activity Authoring Options in WF</span></span>

[!INCLUDE[netfx_current_long](../../../includes/netfx-current-long-md.md)] <span data-ttu-id="636bf-103">fournit plusieurs options pour créer des activités personnalisées.</span><span class="sxs-lookup"><span data-stu-id="636bf-103">provides several options for creating custom activities.</span></span> <span data-ttu-id="636bf-104">Le choix de la méthode à utiliser pour créer une activité donnée dépend de quelles fonctionnalités d’exécution sont nécessaires.</span><span class="sxs-lookup"><span data-stu-id="636bf-104">The correct method to use for authoring a given activity depends on what run-time features are required.</span></span>  
  
## <a name="deciding-which-base-activity-class-to-use-for-authoring-custom-activities"></a><span data-ttu-id="636bf-105">Choix de la classe d'activité de base à utiliser pour créer des activités personnalisées</span><span class="sxs-lookup"><span data-stu-id="636bf-105">Deciding Which Base Activity Class to Use for Authoring Custom Activities</span></span>  

 <span data-ttu-id="636bf-106">Le tableau suivant répertorie les fonctionnalités disponibles dans les classes de base d'activités personnalisées.</span><span class="sxs-lookup"><span data-stu-id="636bf-106">The following table lists the features available in the custom activity base classes.</span></span>  
  
|<span data-ttu-id="636bf-107">Classe d'activité de base</span><span class="sxs-lookup"><span data-stu-id="636bf-107">Base activity class</span></span>|<span data-ttu-id="636bf-108">Fonctionnalités disponibles</span><span class="sxs-lookup"><span data-stu-id="636bf-108">Features available</span></span>|  
|-------------------------|------------------------|  
|<xref:System.Activities.Activity>|<span data-ttu-id="636bf-109">Compose des groupes d'activités fournies par le système et personnalisées dans une activité composite.</span><span class="sxs-lookup"><span data-stu-id="636bf-109">Composes groups of system-provided and custom activities into a composite activity.</span></span>|  
|<xref:System.Activities.CodeActivity>|<span data-ttu-id="636bf-110">Implémente les fonctionnalités impératives en fournissant une méthode <xref:System.Activities.CodeActivity%601.Execute%2A> qui peut être remplacée.</span><span class="sxs-lookup"><span data-stu-id="636bf-110">Implements imperative functionality by providing an <xref:System.Activities.CodeActivity%601.Execute%2A> method that can be overridden.</span></span> <span data-ttu-id="636bf-111">Donne également accès au suivi, aux variables et aux arguments.</span><span class="sxs-lookup"><span data-stu-id="636bf-111">Also provides access to tracking, variables, and arguments..</span></span>|  
|<xref:System.Activities.NativeActivity>|<span data-ttu-id="636bf-112">Fournit toutes les fonctionnalités de <xref:System.Activities.CodeActivity>, plus celles nécessaires pour abandonner l'exécution d'une activité, annuler l'exécution d'une activité enfant, utiliser des signets, ainsi que planifier des activités, des actions d'activité et des fonctions.</span><span class="sxs-lookup"><span data-stu-id="636bf-112">Provides all of the features of <xref:System.Activities.CodeActivity>, plus aborting activity execution, canceling child activity execution, using bookmarks, and scheduling activities, activity actions, and functions.</span></span>|  
|<xref:System.Activities.DynamicActivity>|<span data-ttu-id="636bf-113">Fournit une approche DOM pour créer des activités qui servent d'interface avec le concepteur WF et les fonctionnalités d'exécution via <xref:System.ComponentModel.ICustomTypeDescriptor>, ce qui permet de créer d'autres activités sans définir de nouveaux types.</span><span class="sxs-lookup"><span data-stu-id="636bf-113">Provides a DOM-like approach to constructing activities that interfaces with the WF designer and the run-time machinery through <xref:System.ComponentModel.ICustomTypeDescriptor>, allowing new activities to be created without defining new types.</span></span>|  
  
## <a name="authoring-activities-using-activity"></a><span data-ttu-id="636bf-114">Création d'activités à l'aide d'Activity</span><span class="sxs-lookup"><span data-stu-id="636bf-114">Authoring Activities using Activity</span></span>  

 <span data-ttu-id="636bf-115">Les activités qui dérivent de <xref:System.Activities.Activity> composent les fonctionnalités en assemblant d'autres activités existantes.</span><span class="sxs-lookup"><span data-stu-id="636bf-115">Activities that derive from <xref:System.Activities.Activity> compose functionality by assembling other existing activities.</span></span> <span data-ttu-id="636bf-116">Ces activités peuvent être des activités personnalisées existantes et des activités de la bibliothèque d'activités [!INCLUDE[netfx_current_long](../../../includes/netfx-current-long-md.md)].</span><span class="sxs-lookup"><span data-stu-id="636bf-116">These activities can be existing custom activities and activities from the [!INCLUDE[netfx_current_long](../../../includes/netfx-current-long-md.md)] activity library.</span></span> <span data-ttu-id="636bf-117">Assembler ces activités est la méthode la plus simple pour créer des fonctionnalités personnalisées.</span><span class="sxs-lookup"><span data-stu-id="636bf-117">Assembling these activities is the most basic way to create custom functionality.</span></span> <span data-ttu-id="636bf-118">Cette approche est généralement utilisée pour la création de workflows dans un environnement de conception visuelle.</span><span class="sxs-lookup"><span data-stu-id="636bf-118">This approach is most typically taken when using a visual design environment for authoring workflows.</span></span>  
  
## <a name="authoring-activities-using-codeactivity-or-asynccodeactivity"></a><span data-ttu-id="636bf-119">Activités de création à l'aide de CodeActivity ou AsyncCodeActivity</span><span class="sxs-lookup"><span data-stu-id="636bf-119">Authoring Activities using CodeActivity or AsyncCodeActivity</span></span>  

 <span data-ttu-id="636bf-120">Les activités qui dérivent de <xref:System.Activities.CodeActivity> ou <xref:System.Activities.AsyncCodeActivity> peuvent implémenter les fonctionnalités impératives en remplaçant la méthode <xref:System.Activities.CodeActivity%601.Execute%2A> par un code impératif personnalisé.</span><span class="sxs-lookup"><span data-stu-id="636bf-120">Activities that derive from <xref:System.Activities.CodeActivity> or <xref:System.Activities.AsyncCodeActivity> can implement imperative functionality by overriding the <xref:System.Activities.CodeActivity%601.Execute%2A> method with custom imperative code.</span></span> <span data-ttu-id="636bf-121">Le code personnalisé est exécuté lorsque l'activité est exécutée par le runtime.</span><span class="sxs-lookup"><span data-stu-id="636bf-121">The custom code is executed when the activity is executed by the runtime.</span></span> <span data-ttu-id="636bf-122">Les activités créées de cette façon ont accès aux fonctionnalités personnalisées, mais elles n’ont pas accès à toutes les fonctionnalités d’exécution, notamment celles offrant un accès total à l’environnement d’exécution, la capacité de planifier des activités enfants, la création de signets ou la prise en charge des méthodes Cancel ou Abort.</span><span class="sxs-lookup"><span data-stu-id="636bf-122">While activities created in this way have access to custom functionality, they do not have access to all of the features of the runtime, such as full access to the execution environment, the ability to schedule child activities, bookmark creation, or support for a Cancel or Abort method.</span></span> <span data-ttu-id="636bf-123">Lorsqu'un <xref:System.Activities.CodeActivity> est exécuté, il a accès à une version réduite de l'environnement d'exécution (via la classe <xref:System.Activities.CodeActivityContext> ou <xref:System.Activities.AsyncCodeActivityContext>).</span><span class="sxs-lookup"><span data-stu-id="636bf-123">When a <xref:System.Activities.CodeActivity> executes, it has access to a reduced version of the execution environment (through the <xref:System.Activities.CodeActivityContext> or <xref:System.Activities.AsyncCodeActivityContext> class).</span></span> <span data-ttu-id="636bf-124">Les activités créées à l'aide de <xref:System.Activities.CodeActivity> ont accès à la résolution des arguments et des variables, aux extensions et au suivi.</span><span class="sxs-lookup"><span data-stu-id="636bf-124">Activities created using <xref:System.Activities.CodeActivity> have access to argument and variable resolution, extensions, and tracking.</span></span> <span data-ttu-id="636bf-125">La planification d'activités asynchrones peut être réalisée à l'aide de <xref:System.Activities.AsyncCodeActivity>.</span><span class="sxs-lookup"><span data-stu-id="636bf-125">Asynchronous activity scheduling can be done using <xref:System.Activities.AsyncCodeActivity>.</span></span>  
  
## <a name="authoring-activities-using-nativeactivity"></a><span data-ttu-id="636bf-126">Création d'activités à l'aide de NativeActivity</span><span class="sxs-lookup"><span data-stu-id="636bf-126">Authoring Activities using NativeActivity</span></span>  

 <span data-ttu-id="636bf-127">Les activités qui dérivent de <xref:System.Activities.NativeActivity>, comme celles qui dérivent de <xref:System.Activities.CodeActivity>, créent des fonctionnalités impératives en remplaçant la méthode <xref:System.Activities.NativeActivity.Execute%2A>, mais elles ont également accès à toutes les fonctionnalités d'exécution de workflow via le contexte <xref:System.Activities.NativeActivityContext> passé dans la méthode <xref:System.Activities.NativeActivity.Execute%2A>.</span><span class="sxs-lookup"><span data-stu-id="636bf-127">Activities that derive from <xref:System.Activities.NativeActivity>, like those that derive from <xref:System.Activities.CodeActivity>, create imperative functionality by overriding <xref:System.Activities.NativeActivity.Execute%2A>, but also have access to all of the functionality of the workflow runtime through the <xref:System.Activities.NativeActivityContext> that gets passed into the <xref:System.Activities.NativeActivity.Execute%2A> method.</span></span> <span data-ttu-id="636bf-128">Ce contexte prend en charge la planification et l'annulation des activités enfants, l'exécution des objets <xref:System.Activities.ActivityAction> et objets <xref:System.Activities.ActivityFunc%601>, la circulation des transactions dans un workflow, l'appel de processus asynchrones, l'annulation et l'abandon de l'exécution, l'accès aux propriétés d'exécution et aux extensions, ainsi que l'utilisation des signets (descripteurs pour reprendre les workflows mis en pause).</span><span class="sxs-lookup"><span data-stu-id="636bf-128">This context has support for scheduling and canceling child activities, executing <xref:System.Activities.ActivityAction> and <xref:System.Activities.ActivityFunc%601> objects, flowing transactions into a workflow, invoking asynchronous processes, canceling and aborting execution, access to execution properties and extensions, and bookmarks (handles for resuming paused workflows).</span></span>  
  
## <a name="authoring-activities-using-dynamicactivity"></a><span data-ttu-id="636bf-129">Création d'activités à l'aide de DynamicActivity</span><span class="sxs-lookup"><span data-stu-id="636bf-129">Authoring Activities using DynamicActivity</span></span>  

 <span data-ttu-id="636bf-130">Contrairement aux trois autres types d'activité, les nouvelles fonctionnalités ne sont pas créées en dérivant de nouveaux types de <xref:System.Activities.DynamicActivity> (la classe est scellée), mais plutôt en assemblant les fonctionnalités dans les propriétés <xref:System.Activities.DynamicActivity.Properties%2A> et <xref:System.Activities.DynamicActivity.Implementation%2A> à l'aide d'un modèle DOM (Document Object Model) de l'activité.</span><span class="sxs-lookup"><span data-stu-id="636bf-130">Unlike the other three types of activity, new functionality is not created by deriving new types from <xref:System.Activities.DynamicActivity> (the class is sealed), but instead, by assembling functionality into the <xref:System.Activities.DynamicActivity.Properties%2A> and <xref:System.Activities.DynamicActivity.Implementation%2A> properties using an activity document object model (DOM).</span></span>  
  
## <a name="authoring-activities-that-return-a-result"></a><span data-ttu-id="636bf-131">Création d'activités qui retournent un résultat</span><span class="sxs-lookup"><span data-stu-id="636bf-131">Authoring Activities that Return a Result</span></span>  

 <span data-ttu-id="636bf-132">De nombreuses activités doivent retourner un résultat après leur exécution.</span><span class="sxs-lookup"><span data-stu-id="636bf-132">Many activities must return a result after their execution.</span></span> <span data-ttu-id="636bf-133">Pour ce faire, il est possible de toujours définir un <xref:System.Activities.OutArgument%601> personnalisé sur une activité ; il est néanmoins recommandé d'utiliser à la place <xref:System.Activities.Activity%601>, ou de dériver de <xref:System.Activities.CodeActivity%601> ou <xref:System.Activities.NativeActivity%601>.</span><span class="sxs-lookup"><span data-stu-id="636bf-133">Although it is possible to always define a custom <xref:System.Activities.OutArgument%601> on an activity for this purpose, it is suggested to instead use <xref:System.Activities.Activity%601>, or derive from <xref:System.Activities.CodeActivity%601> or <xref:System.Activities.NativeActivity%601>.</span></span> <span data-ttu-id="636bf-134">Chacune de ces classes de base a un <xref:System.Activities.OutArgument%601> nommé Result (Résultat) que votre activité peut utiliser comme valeur de retour.</span><span class="sxs-lookup"><span data-stu-id="636bf-134">Each of these base classes has an <xref:System.Activities.OutArgument%601> named Result that your activity can use for its return value.</span></span> <span data-ttu-id="636bf-135">Les activités qui retournent un résultat ne doivent être utilisées que si un seul résultat doit être retourné à partir d'une activité ; si plusieurs résultats doivent être retournés, des membres <xref:System.Activities.OutArgument%601> distincts doivent être utilisés à la place.</span><span class="sxs-lookup"><span data-stu-id="636bf-135">Activities that return a result should only be used if only one result needs to be returned from an activity; if multiple results need to be returned, separate <xref:System.Activities.OutArgument%601> members should be used instead.</span></span>
