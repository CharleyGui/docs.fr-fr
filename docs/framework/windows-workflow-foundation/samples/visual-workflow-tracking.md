---
title: Suivi de workflow visuel
ms.date: 03/30/2017
ms.assetid: 0143448f-2044-40a0-8a3d-941f6d12468b
ms.openlocfilehash: 05f8fcf4c765998fc4e101d9dbef026d85b8b2fb
ms.sourcegitcommit: 5fb5b6520b06d7f5e6131ec2ad854da302a28f2e
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 12/03/2019
ms.locfileid: "74715507"
---
# <a name="visual-workflow-tracking"></a><span data-ttu-id="5cc68-102">Suivi de workflow visuel</span><span class="sxs-lookup"><span data-stu-id="5cc68-102">Visual Workflow Tracking</span></span>
<span data-ttu-id="5cc68-103">Cet exemple montre comment écrire une application de suivi de workflow visuel à l'aide des fonctionnalités de débogage disponibles via le [!INCLUDE[netfx_current_short](../../../../includes/netfx-current-short-md.md)].</span><span class="sxs-lookup"><span data-stu-id="5cc68-103">This sample demonstrates how to write a visual workflow tracking application using the debug functionality available through the [!INCLUDE[netfx_current_short](../../../../includes/netfx-current-short-md.md)].</span></span>

## <a name="sample-details"></a><span data-ttu-id="5cc68-104">Détails de l'exemple</span><span class="sxs-lookup"><span data-stu-id="5cc68-104">Sample Details</span></span>
 <span data-ttu-id="5cc68-105">L'application exécute un workflow d'organigramme simple (défini dans Workflow.xaml) et héberge à nouveau le concepteur de workflow pour afficher le workflow en cours d'exécution.</span><span class="sxs-lookup"><span data-stu-id="5cc68-105">The application executes a simple flowchart workflow (defined in Workflow.xaml) and re-hosts the workflow designer to display the currently executing workflow.</span></span> <span data-ttu-id="5cc68-106">Lorsque le workflow est exécuté, l'activité en cours d'exécution est indiquée par un contour jaune et une flèche de débogage.</span><span class="sxs-lookup"><span data-stu-id="5cc68-106">As the workflow is executed, the currently executing activity is shown with a yellow outline and debug arrow.</span></span> <span data-ttu-id="5cc68-107">En outre, les enregistrements de suivi générés par le workflow s'affichent également dans la fenêtre d'application.</span><span class="sxs-lookup"><span data-stu-id="5cc68-107">In addition, tracking records generated by the workflow are also displayed in the application window.</span></span> <span data-ttu-id="5cc68-108">Pour plus d’informations sur le suivi de workflow, consultez [suivi et traçage de workflow](../workflow-tracking-and-tracing.md).</span><span class="sxs-lookup"><span data-stu-id="5cc68-108">For more information about workflow tracking, see [Workflow Tracking and Tracing](../workflow-tracking-and-tracing.md).</span></span> <span data-ttu-id="5cc68-109">Pour plus d’informations sur le Réhébergement du concepteur de flux de travail, consultez Réhébergement [du concepteur de flux de travail](../rehosting-the-workflow-designer.md).</span><span class="sxs-lookup"><span data-stu-id="5cc68-109">For more information about re-hosting the workflow designer, see [Rehosting the Workflow Designer](../rehosting-the-workflow-designer.md).</span></span>

 <span data-ttu-id="5cc68-110">Le simulateur de workflow fonctionne en conservant deux dictionnaires.</span><span class="sxs-lookup"><span data-stu-id="5cc68-110">The workflow simulator works by keeping two dictionaries.</span></span> <span data-ttu-id="5cc68-111">L'un contient un mappage entre l'objet d'activité en cours d'exécution et le numéro de ligne XAML dans lequel l'activité est instanciée.</span><span class="sxs-lookup"><span data-stu-id="5cc68-111">One contains a mapping between the currently executing activity object and the XAML line number in which the activity is instantiated.</span></span> <span data-ttu-id="5cc68-112">L'autre contient un mappage entre l'ID de l'instance d'activité et l'objet d'activité.</span><span class="sxs-lookup"><span data-stu-id="5cc68-112">The other contains a mapping between the activity instance ID and the activity object.</span></span> <span data-ttu-id="5cc68-113">Lorsque les enregistrements de suivi sont émis à l'aide d'un modèle de suivi personnalisé, l'application détermine l'ID d'instance de l'activité en cours d'exécution et le mappe à nouveau au fichier XAML qui l'a instancié.</span><span class="sxs-lookup"><span data-stu-id="5cc68-113">When tracking records are emitted using a custom tracking profile, the application determines the instance ID of the currently executing activity and maps it back to the XAML file that instantiated it.</span></span> <span data-ttu-id="5cc68-114">Le concepteur de workflow réhébergé a ensuite pour instruction de mettre en surbrillance l'activité sur l'aire du concepteur et d'utiliser la même méthode que le débogueur de workflow, en dessinant spécifiquement une bordure jaune autour de l'activité et en affichant une flèche jaune le long du côté gauche du concepteur.</span><span class="sxs-lookup"><span data-stu-id="5cc68-114">The rehosted workflow designer is then instructed to highlight the activity on the designer surface and use the same method as the workflow debugger, specifically drawing a yellow border around the activity and displaying a yellow arrow along the left side of the designer.</span></span>

#### <a name="to-use-this-sample"></a><span data-ttu-id="5cc68-115">Pour utiliser cet exemple</span><span class="sxs-lookup"><span data-stu-id="5cc68-115">To use this sample</span></span>

1. <span data-ttu-id="5cc68-116">Ouvrez le fichier WorkflowSimulator. sln à partir du répertoire d’exemple dans Visual Studio 2010.</span><span class="sxs-lookup"><span data-stu-id="5cc68-116">Open the WorkflowSimulator.sln file from the sample directory in Visual Studio 2010.</span></span>

2. <span data-ttu-id="5cc68-117">Appuyez sur Ctrl+Maj+B pour générer la solution.</span><span class="sxs-lookup"><span data-stu-id="5cc68-117">Press CTRL+SHIFT+B to build the solution.</span></span>

3. <span data-ttu-id="5cc68-118">Appuyez sur CTRL+F5 pour exécuter l'exemple.</span><span class="sxs-lookup"><span data-stu-id="5cc68-118">Press CTRL + F5 to run the sample.</span></span> <span data-ttu-id="5cc68-119">Cela affiche le fichier Workflow.xaml dans une fenêtre de concepteur de workflow réhébergé.</span><span class="sxs-lookup"><span data-stu-id="5cc68-119">This displays the Workflow.xaml file in a rehosted workflow designer window.</span></span>

4. <span data-ttu-id="5cc68-120">Cliquez sur le menu **fichier** et sélectionnez **exécuter le flux de travail...** .</span><span class="sxs-lookup"><span data-stu-id="5cc68-120">Click the **File** menu and select **Run Workflow...**.</span></span>

5. <span data-ttu-id="5cc68-121">Notez que l'activité en cours d'exécution est mise en surbrillance comme décrit précédemment et que les enregistrements de suivi sont affichés à le côté droit de la fenêtre d'application.</span><span class="sxs-lookup"><span data-stu-id="5cc68-121">Notice the currently executing activity is highlighted as described previously and the tracking records are displayed on the right side of the application window.</span></span>

6. <span data-ttu-id="5cc68-122">Lorsque le workflow est terminé, vous pouvez cliquer sur l'un des enregistrements de suivi pour vérifier à quelle activité il correspond.</span><span class="sxs-lookup"><span data-stu-id="5cc68-122">When the workflow has completed, you can click any of the tracking records to inspect which activity it corresponds to.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="5cc68-123">Les exemples peuvent déjà être installés sur votre ordinateur.</span><span class="sxs-lookup"><span data-stu-id="5cc68-123">The samples may already be installed on your machine.</span></span> <span data-ttu-id="5cc68-124">Recherchez le répertoire (par défaut) suivant avant de continuer.</span><span class="sxs-lookup"><span data-stu-id="5cc68-124">Check for the following (default) directory before continuing.</span></span>  
>   
> `<InstallDrive>:\WF_WCF_Samples`  
>   
> <span data-ttu-id="5cc68-125">Si ce répertoire n’existe pas, accédez à [Windows Communication Foundation (WCF) et Windows Workflow Foundation (WF) exemples pour .NET Framework 4](https://www.microsoft.com/download/details.aspx?id=21459) pour télécharger tous les exemples Windows Communication Foundation (WCF) et [!INCLUDE[wf1](../../../../includes/wf1-md.md)].</span><span class="sxs-lookup"><span data-stu-id="5cc68-125">If this directory does not exist, go to [Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4](https://www.microsoft.com/download/details.aspx?id=21459) to download all Windows Communication Foundation (WCF) and [!INCLUDE[wf1](../../../../includes/wf1-md.md)] samples.</span></span> <span data-ttu-id="5cc68-126">Cet exemple se trouve dans le répertoire suivant.</span><span class="sxs-lookup"><span data-stu-id="5cc68-126">This sample is located in the following directory.</span></span>  
>   
> `<InstallDrive>:\WF_WCF_Samples\WF\Application\VisualWorkflowTracking`
