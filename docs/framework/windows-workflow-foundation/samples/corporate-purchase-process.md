---
title: Processus d'achat d'entreprise
ms.date: 03/30/2017
ms.assetid: a5e57336-4290-41ea-936d-435593d97055
ms.openlocfilehash: 83290245dd203d4bb63c96e94ca6bdafee4ecffb
ms.sourcegitcommit: c4e9d05644c9cb89de5ce6002723de107ea2e2c4
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 05/19/2019
ms.locfileid: "65876168"
---
# <a name="corporate-purchase-process"></a><span data-ttu-id="8f440-102">Processus d'achat d'entreprise</span><span class="sxs-lookup"><span data-stu-id="8f440-102">Corporate Purchase Process</span></span>
<span data-ttu-id="8f440-103">Cet exemple montre comment créer un processus d'achat basé sur des appels d'offres très simples avec sélection automatique de la meilleure proposition.</span><span class="sxs-lookup"><span data-stu-id="8f440-103">This sample shows how to create a very basic Request for Proposals (RFP) based purchase process with automatic best proposal selection.</span></span> <span data-ttu-id="8f440-104">Il combine <xref:System.Activities.Statements.Parallel>, <xref:System.Activities.Statements.ParallelForEach%601> et <xref:System.Activities.Statements.ForEach%601> ainsi qu'une activité personnalisée pour créer un workflow qui représente le processus.</span><span class="sxs-lookup"><span data-stu-id="8f440-104">It combines <xref:System.Activities.Statements.Parallel>, <xref:System.Activities.Statements.ParallelForEach%601>, and <xref:System.Activities.Statements.ForEach%601> and a custom activity to create a workflow that represents the process.</span></span>

 <span data-ttu-id="8f440-105">Cet exemple contient une application cliente ASP.NET qui permet l’interaction avec le processus en tant que participants différents (en tant que le demandeur d’origine ou un fournisseur particulier).</span><span class="sxs-lookup"><span data-stu-id="8f440-105">This sample contains an ASP.NET client application that allows interacting with the process as different participants (as the original requester or a particular vendor).</span></span>

## <a name="requirements"></a><span data-ttu-id="8f440-106">Configuration requise</span><span class="sxs-lookup"><span data-stu-id="8f440-106">Requirements</span></span>

- <span data-ttu-id="8f440-107">Visual Studio 2012.</span><span class="sxs-lookup"><span data-stu-id="8f440-107">Visual Studio 2012.</span></span>

- [!INCLUDE[netfx_current_long](../../../../includes/netfx-current-long-md.md)]<span data-ttu-id="8f440-108">.</span><span class="sxs-lookup"><span data-stu-id="8f440-108">.</span></span>

## <a name="demonstrates"></a><span data-ttu-id="8f440-109">Démonstrations</span><span class="sxs-lookup"><span data-stu-id="8f440-109">Demonstrates</span></span>

- <span data-ttu-id="8f440-110">Activités personnalisées.</span><span class="sxs-lookup"><span data-stu-id="8f440-110">Custom activities.</span></span>

- <span data-ttu-id="8f440-111">Composition des activités</span><span class="sxs-lookup"><span data-stu-id="8f440-111">Composition of activities.</span></span>

- <span data-ttu-id="8f440-112">Signets.</span><span class="sxs-lookup"><span data-stu-id="8f440-112">Bookmarks.</span></span>

- <span data-ttu-id="8f440-113">Persistance.</span><span class="sxs-lookup"><span data-stu-id="8f440-113">Persistence.</span></span>

- <span data-ttu-id="8f440-114">Persistance schématisée.</span><span class="sxs-lookup"><span data-stu-id="8f440-114">Schematized persistence.</span></span>

- <span data-ttu-id="8f440-115">Traçage.</span><span class="sxs-lookup"><span data-stu-id="8f440-115">Tracing.</span></span>

- <span data-ttu-id="8f440-116">Suivi.</span><span class="sxs-lookup"><span data-stu-id="8f440-116">Tracking.</span></span>

- <span data-ttu-id="8f440-117">Hébergement [!INCLUDE[wf1](../../../../includes/wf1-md.md)] dans différents clients (les applications Web ASP.NET et WinForms).</span><span class="sxs-lookup"><span data-stu-id="8f440-117">Hosting [!INCLUDE[wf1](../../../../includes/wf1-md.md)] in different clients (ASP.NET Web applications and WinForms applications).</span></span>

> [!IMPORTANT]
>  <span data-ttu-id="8f440-118">Les exemples peuvent déjà être installés sur votre ordinateur.</span><span class="sxs-lookup"><span data-stu-id="8f440-118">The samples may already be installed on your machine.</span></span> <span data-ttu-id="8f440-119">Recherchez le répertoire (par défaut) suivant avant de continuer.</span><span class="sxs-lookup"><span data-stu-id="8f440-119">Check for the following (default) directory before continuing.</span></span>  
>   
>  `<InstallDrive>:\WF_WCF_Samples`  
>   
>  <span data-ttu-id="8f440-120">Si ce répertoire n’existe pas, accédez à [Windows Communication Foundation (WCF) et des exemples de Windows Workflow Foundation (WF) pour .NET Framework 4](https://go.microsoft.com/fwlink/?LinkId=150780) pour télécharger tous les Windows Communication Foundation (WCF) et [!INCLUDE[wf1](../../../../includes/wf1-md.md)] exemples.</span><span class="sxs-lookup"><span data-stu-id="8f440-120">If this directory does not exist, go to [Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4](https://go.microsoft.com/fwlink/?LinkId=150780) to download all Windows Communication Foundation (WCF) and [!INCLUDE[wf1](../../../../includes/wf1-md.md)] samples.</span></span> <span data-ttu-id="8f440-121">Cet exemple se trouve dans le répertoire suivant.</span><span class="sxs-lookup"><span data-stu-id="8f440-121">This sample is located in the following directory.</span></span>  
>   
>  `<InstallDrive>:\WF_WCF_Samples\WF\Application\PurchaseProcess`  
  
## <a name="description-of-the-process"></a><span data-ttu-id="8f440-122">Description du processus</span><span class="sxs-lookup"><span data-stu-id="8f440-122">Description of the Process</span></span>  
 <span data-ttu-id="8f440-123">Cet exemple illustre une implémentation d’un programme de Windows Workflow Foundation (WF) pour rassembler des propositions de fournisseurs pour une société générique.</span><span class="sxs-lookup"><span data-stu-id="8f440-123">This sample shows an implementation of a Windows Workflow Foundation (WF) program to gather proposals from vendors for a generic company.</span></span>  
  
1. <span data-ttu-id="8f440-124">Un employé de la Société X crée un appel d'offres.</span><span class="sxs-lookup"><span data-stu-id="8f440-124">An employee of Company X creates a Request for Proposal (RFP).</span></span>  
  
    1. <span data-ttu-id="8f440-125">L'employé tape le titre et la description de l'appel d'offres.</span><span class="sxs-lookup"><span data-stu-id="8f440-125">The employee types in the RFP title and description.</span></span>  
  
    2. <span data-ttu-id="8f440-126">L'employé sélectionne les fournisseurs qu'il souhaite inviter pour soumettre des propositions.</span><span class="sxs-lookup"><span data-stu-id="8f440-126">The employee selects the vendors that he wants to invite to submit proposals.</span></span>  
  
2. <span data-ttu-id="8f440-127">L'employé soumet la proposition.</span><span class="sxs-lookup"><span data-stu-id="8f440-127">The employee submits the proposal.</span></span>  
  
    1. <span data-ttu-id="8f440-128">Une instance du workflow est créée.</span><span class="sxs-lookup"><span data-stu-id="8f440-128">An instance of the workflow is created.</span></span>  
  
    2. <span data-ttu-id="8f440-129">Le workflow attend que tous les fournisseurs soumettent leurs propositions.</span><span class="sxs-lookup"><span data-stu-id="8f440-129">The workflow is waiting for all vendors to submit their proposals.</span></span>  
  
3. <span data-ttu-id="8f440-130">Une fois toutes les propositions reçues, le workflow effectue une itération au sein d'entre elles et sélectionne la meilleure.</span><span class="sxs-lookup"><span data-stu-id="8f440-130">After all proposals are received, the workflow iterates through all the received proposals and selects the best one.</span></span>  
  
    1. <span data-ttu-id="8f440-131">Chaque fournisseur a une réputation (cet exemple stocke la liste des réputations dans VendorRepository.cs).</span><span class="sxs-lookup"><span data-stu-id="8f440-131">Each vendor has a reputation (this sample stores the reputation list in VendorRepository.cs).</span></span>  
  
    2. <span data-ttu-id="8f440-132">La valeur totale de la proposition est déterminée par (Valeur tapée par le fournisseur) \* (Réputation enregistrée du fournisseur) / 100.</span><span class="sxs-lookup"><span data-stu-id="8f440-132">The total value of the proposal is determined by (The value typed in by the vendor) \* (The vendor's recorded reputation) / 100.</span></span>  
  
4. <span data-ttu-id="8f440-133">Le demandeur d'origine peut consulter toutes les propositions soumises.</span><span class="sxs-lookup"><span data-stu-id="8f440-133">The original requester can see all the submitted proposals.</span></span> <span data-ttu-id="8f440-134">La meilleure proposition est présentée dans une section spéciale du rapport.</span><span class="sxs-lookup"><span data-stu-id="8f440-134">The best proposal is presented in a special section in the report.</span></span>  
  
## <a name="process-definition"></a><span data-ttu-id="8f440-135">Définition de processus</span><span class="sxs-lookup"><span data-stu-id="8f440-135">Process Definition</span></span>  
 <span data-ttu-id="8f440-136">La logique principale de l'exemple utilise une activité <xref:System.Activities.Statements.ParallelForEach%601> qui attend les offres de chaque fournisseur (à l'aide d'une activité personnalisée qui crée un signet) et inscrit la proposition de fournisseur comme un appel d'offres (à l'aide d'une activité <xref:System.Activities.Statements.InvokeMethod> ).</span><span class="sxs-lookup"><span data-stu-id="8f440-136">The core logic of the sample uses a <xref:System.Activities.Statements.ParallelForEach%601> activity that waits for the offers from each vendor (using a custom activity that creates a bookmark), and registers the vendor proposal as an RFP (using an <xref:System.Activities.Statements.InvokeMethod> activity).</span></span>  
  
 <span data-ttu-id="8f440-137">L'exemple effectue ensuite une itération au sein de toutes les propositions reçues stockées dans le `RfpRepository`, en calculant la valeur ajustée (à l'aide d'une activité <xref:System.Activities.Statements.Assign> et d'activités <xref:System.Activities.Expressions>) et, si la valeur ajustée est meilleure que la meilleure offre précédente, assigne la nouvelle valeur comme meilleure offre (à l'aide des activités <xref:System.Activities.Statements.If> et <xref:System.Activities.Statements.Assign>).</span><span class="sxs-lookup"><span data-stu-id="8f440-137">The sample then iterates through all of the received proposals stored in the `RfpRepository`, calculating the adjusted value (using an <xref:System.Activities.Statements.Assign> activity and <xref:System.Activities.Expressions> activities), and if the adjusted value is better than the previous best offer, assigns the new value as the best offer (using <xref:System.Activities.Statements.If> and <xref:System.Activities.Statements.Assign> activities).</span></span>  
  
## <a name="projects-in-this-sample"></a><span data-ttu-id="8f440-138">Projets dans cet exemple</span><span class="sxs-lookup"><span data-stu-id="8f440-138">Projects in this Sample</span></span>  
 <span data-ttu-id="8f440-139">Cet exemple contient les projets suivants.</span><span class="sxs-lookup"><span data-stu-id="8f440-139">This sample contains the following projects.</span></span>  
  
|<span data-ttu-id="8f440-140">Projet</span><span class="sxs-lookup"><span data-stu-id="8f440-140">Project</span></span>|<span data-ttu-id="8f440-141">Description</span><span class="sxs-lookup"><span data-stu-id="8f440-141">Description</span></span>|  
|-------------|-----------------|  
|<span data-ttu-id="8f440-142">Communes</span><span class="sxs-lookup"><span data-stu-id="8f440-142">Common</span></span>|<span data-ttu-id="8f440-143">Objets entité utilisés dans le processus (Appel d'offres, Fournisseur et Proposition de fournisseur).</span><span class="sxs-lookup"><span data-stu-id="8f440-143">The entity objects used within the process (Request for Proposal, Vendor, and Vendor Proposal).</span></span>|  
|<span data-ttu-id="8f440-144">WfDefinition</span><span class="sxs-lookup"><span data-stu-id="8f440-144">WfDefinition</span></span>|<span data-ttu-id="8f440-145">Définition du processus (comme un programme [!INCLUDE[wf1](../../../../includes/wf1-md.md)]) et hôte (`PurchaseProcessHost`) utilisé par les applications clientes pour la création et l'utilisation des instances du workflow du processus d'achat.</span><span class="sxs-lookup"><span data-stu-id="8f440-145">The definition of the process (as a [!INCLUDE[wf1](../../../../includes/wf1-md.md)] program) and host (`PurchaseProcessHost`) used by client applications for creating and using instances of the purchase process workflow.</span></span>|  
|<span data-ttu-id="8f440-146">WebClient</span><span class="sxs-lookup"><span data-stu-id="8f440-146">WebClient</span></span>|<span data-ttu-id="8f440-147">Une application de client ASP.NET qui permet aux utilisateurs de créer et participer aux instances du processus d’achat.</span><span class="sxs-lookup"><span data-stu-id="8f440-147">An ASP.NET client application that allows the users to create and participate in instances of the purchase process.</span></span> <span data-ttu-id="8f440-148">Elle utilise un hôte créé de façon personnalisée pour interagir avec le moteur de workflow.</span><span class="sxs-lookup"><span data-stu-id="8f440-148">It uses a custom-created host to interact with the workflow engine.</span></span>|  
|<span data-ttu-id="8f440-149">WinFormsClient</span><span class="sxs-lookup"><span data-stu-id="8f440-149">WinFormsClient</span></span>|<span data-ttu-id="8f440-150">Application cliente Windows Forms qui permet aux utilisateurs de créer des instances du processus d'achat et d'y participer.</span><span class="sxs-lookup"><span data-stu-id="8f440-150">A Windows Forms client application that allows the users to create and participate in instances of the purchase process.</span></span> <span data-ttu-id="8f440-151">Elle utilise un hôte créé de façon personnalisée pour interagir avec le moteur de workflow.</span><span class="sxs-lookup"><span data-stu-id="8f440-151">It uses a custom-created host to interact with the workflow engine.</span></span>|  
  
### <a name="wfdefinition"></a><span data-ttu-id="8f440-152">WfDefinition</span><span class="sxs-lookup"><span data-stu-id="8f440-152">WfDefinition</span></span>  
 <span data-ttu-id="8f440-153">Le tableau suivant contient une description des fichiers les plus importants dans le projet WfDefinition.</span><span class="sxs-lookup"><span data-stu-id="8f440-153">The following table contains a description of the most important files in the WfDefinition project.</span></span>  
  
|<span data-ttu-id="8f440-154">Fichier</span><span class="sxs-lookup"><span data-stu-id="8f440-154">File</span></span>|<span data-ttu-id="8f440-155">Description</span><span class="sxs-lookup"><span data-stu-id="8f440-155">Description</span></span>|  
|----------|-----------------|  
|<span data-ttu-id="8f440-156">IPurchaseProcessHost.cs</span><span class="sxs-lookup"><span data-stu-id="8f440-156">IPurchaseProcessHost.cs</span></span>|<span data-ttu-id="8f440-157">Interface pour l'hôte du workflow.</span><span class="sxs-lookup"><span data-stu-id="8f440-157">Interface for the host of the workflow.</span></span>|  
|<span data-ttu-id="8f440-158">PurchaseProcessHost.cs</span><span class="sxs-lookup"><span data-stu-id="8f440-158">PurchaseProcessHost.cs</span></span>|<span data-ttu-id="8f440-159">Implémentation d'un hôte pour le workflow.</span><span class="sxs-lookup"><span data-stu-id="8f440-159">Implementation of a host for the workflow.</span></span> <span data-ttu-id="8f440-160">L'hôte rend les détails de l'exécution du workflow abstraits et est utilisé dans toutes les applications clientes pour charger et exécuter les instances de workflow `PurchaseProcess`, et interagir avec celles-ci.</span><span class="sxs-lookup"><span data-stu-id="8f440-160">The host abstracts the details of the workflow runtime and is used in all the client applications to load, run, and interact with `PurchaseProcess` workflow instances.</span></span>|  
|<span data-ttu-id="8f440-161">PurchaseProcessWorkflow.cs</span><span class="sxs-lookup"><span data-stu-id="8f440-161">PurchaseProcessWorkflow.cs</span></span>|<span data-ttu-id="8f440-162">Activité qui contient la définition du workflow du processus d'achat (dérive de <xref:System.Activities.Activity>).</span><span class="sxs-lookup"><span data-stu-id="8f440-162">An activity that contains the definition of the Purchase Process workflow (derives from <xref:System.Activities.Activity>).</span></span><br /><br /> <span data-ttu-id="8f440-163">Les activités qui dérivent de <xref:System.Activities.Activity> composent les fonctionnalités en assemblant des activités personnalisées existantes et des activités de la bibliothèque d'activités [!INCLUDE[netfx_current_long](../../../../includes/netfx-current-long-md.md)].</span><span class="sxs-lookup"><span data-stu-id="8f440-163">Activities that derive from <xref:System.Activities.Activity> compose functionality by assembling existing custom activities and activities from the [!INCLUDE[netfx_current_long](../../../../includes/netfx-current-long-md.md)] activity library.</span></span> <span data-ttu-id="8f440-164">Assembler ces activités est la méthode la plus simple pour créer des fonctionnalités personnalisées.</span><span class="sxs-lookup"><span data-stu-id="8f440-164">Assembling these activities is the most basic way to create custom functionality.</span></span>|  
|<span data-ttu-id="8f440-165">WaitForVendorProposal.cs</span><span class="sxs-lookup"><span data-stu-id="8f440-165">WaitForVendorProposal.cs</span></span>|<span data-ttu-id="8f440-166">Cette activité personnalisée dérive de <xref:System.Activities.NativeActivity> et crée un signet nommé qui doit être repris ultérieurement par un fournisseur lors de l'envoi de la proposition.</span><span class="sxs-lookup"><span data-stu-id="8f440-166">This custom activity derives from <xref:System.Activities.NativeActivity> and creates a named bookmark that must be resumed later by a vendor when submitting the proposal.</span></span><br /><br /> <span data-ttu-id="8f440-167">Les activités qui dérivent de <xref:System.Activities.NativeActivity>, comme celles qui dérivent de <xref:System.Activities.CodeActivity>, créent des fonctionnalités impératives en remplaçant la méthode <xref:System.Activities.NativeActivity.Execute%2A>, mais elles ont également accès à toutes les fonctionnalités d'exécution de workflow via le contexte <xref:System.Activities.ActivityContext> passé dans la méthode `Execute`.</span><span class="sxs-lookup"><span data-stu-id="8f440-167">Activities that derive from <xref:System.Activities.NativeActivity>, like those that derive from <xref:System.Activities.CodeActivity>, create imperative functionality by overriding <xref:System.Activities.NativeActivity.Execute%2A>, but also have access to all of the functionality of the workflow runtime through the <xref:System.Activities.ActivityContext> that gets passed into the `Execute` method.</span></span> <span data-ttu-id="8f440-168">Ce contexte prend en charge la planification et l’annulation des activités enfants, la configuration de zones de non-persistance (blocs d’exécution pendant lesquels l’exécution ne rend pas persistantes les données du workflow, par exemple dans les transactions atomiques) et les objets <xref:System.Activities.Bookmark> (descripteurs pour reprendre les workflows mis en pause).</span><span class="sxs-lookup"><span data-stu-id="8f440-168">This context has support for scheduling and canceling child activities, setting up no-persist zones (execution blocks during which the runtime does not persist the workflow’s data, such as within atomic transactions), and <xref:System.Activities.Bookmark> objects (handles for resuming paused workflows).</span></span>|  
|<span data-ttu-id="8f440-169">TrackingParticipant.cs</span><span class="sxs-lookup"><span data-stu-id="8f440-169">TrackingParticipant.cs</span></span>|<span data-ttu-id="8f440-170"><xref:System.Activities.Tracking.TrackingParticipant> qui reçoit tous les événements de suivi et les enregistre dans un fichier texte.</span><span class="sxs-lookup"><span data-stu-id="8f440-170">A <xref:System.Activities.Tracking.TrackingParticipant> that receives all tracking events and saves them to a text file.</span></span><br /><br /> <span data-ttu-id="8f440-171">Les participants de suivi sont ajoutés à l’instance de workflow comme Extensions.</span><span class="sxs-lookup"><span data-stu-id="8f440-171">Tracking participants are added to workflow instance as Extensions.</span></span>|  
|<span data-ttu-id="8f440-172">XmlWorkflowInstanceStore.cs</span><span class="sxs-lookup"><span data-stu-id="8f440-172">XmlWorkflowInstanceStore.cs</span></span>|<span data-ttu-id="8f440-173"><xref:System.Runtime.DurableInstancing.InstanceStore> personnalisé qui enregistre des applications de workflow dans des fichiers XML.</span><span class="sxs-lookup"><span data-stu-id="8f440-173">A custom <xref:System.Runtime.DurableInstancing.InstanceStore> that saves workflow applications to XML files.</span></span>|  
|<span data-ttu-id="8f440-174">XmlPersistenceParticipant.cs</span><span class="sxs-lookup"><span data-stu-id="8f440-174">XmlPersistenceParticipant.cs</span></span>|<span data-ttu-id="8f440-175"><xref:System.Activities.Persistence.PersistenceParticipant> personnalisé qui enregistre une instance d'appel d'offres dans un fichier XML.</span><span class="sxs-lookup"><span data-stu-id="8f440-175">A custom <xref:System.Activities.Persistence.PersistenceParticipant> that saves an instance of request for proposal to an XML file.</span></span>|  
|<span data-ttu-id="8f440-176">AsyncResult.cs / CompletedAsyncResult.cs</span><span class="sxs-lookup"><span data-stu-id="8f440-176">AsyncResult.cs / CompletedAsyncResult.cs</span></span>|<span data-ttu-id="8f440-177">Classes d’assistance pour l’implémentation du modèle asynchrone dans les composants de persistance.</span><span class="sxs-lookup"><span data-stu-id="8f440-177">Helper classes for implementing the asynchronous pattern in the persistence components.</span></span>|  
  
### <a name="common"></a><span data-ttu-id="8f440-178">Communes</span><span class="sxs-lookup"><span data-stu-id="8f440-178">Common</span></span>  
 <span data-ttu-id="8f440-179">Le tableau suivant contient une description des classes les plus importantes dans le projet Common.</span><span class="sxs-lookup"><span data-stu-id="8f440-179">The following table contains a description of the most important classes in the Common project.</span></span>  
  
|<span data-ttu-id="8f440-180">Classe</span><span class="sxs-lookup"><span data-stu-id="8f440-180">Class</span></span>|<span data-ttu-id="8f440-181">Description</span><span class="sxs-lookup"><span data-stu-id="8f440-181">Description</span></span>|  
|-----------|-----------------|  
|<span data-ttu-id="8f440-182">Fournisseur</span><span class="sxs-lookup"><span data-stu-id="8f440-182">Vendor</span></span>|<span data-ttu-id="8f440-183">Fournisseur qui soumet des propositions dans un appel d'offres.</span><span class="sxs-lookup"><span data-stu-id="8f440-183">A vendor that submits proposals in a Request for Proposals.</span></span>|  
|<span data-ttu-id="8f440-184">RequestForProposal</span><span class="sxs-lookup"><span data-stu-id="8f440-184">RequestForProposal</span></span>|<span data-ttu-id="8f440-185">Un appel d'offres est une invitation pour les fournisseurs à soumettre des propositions sur une marchandise ou un service spécifique.</span><span class="sxs-lookup"><span data-stu-id="8f440-185">A request for proposals (RFP) is an invitation for vendors to submit proposals on a specific commodity or service.</span></span>|  
|<span data-ttu-id="8f440-186">VendorProposal</span><span class="sxs-lookup"><span data-stu-id="8f440-186">VendorProposal</span></span>|<span data-ttu-id="8f440-187">Proposition soumise par un fournisseur dans un appel d'offres concret.</span><span class="sxs-lookup"><span data-stu-id="8f440-187">A proposal submitted by a vendor to a concrete RFP.</span></span>|  
|<span data-ttu-id="8f440-188">VendorRepository</span><span class="sxs-lookup"><span data-stu-id="8f440-188">VendorRepository</span></span>|<span data-ttu-id="8f440-189">Référentiel de fournisseurs.</span><span class="sxs-lookup"><span data-stu-id="8f440-189">The repository of Vendors.</span></span> <span data-ttu-id="8f440-190">Cette implémentation contient une collection en mémoire d'instances de Fournisseur et de méthodes pour l'exposition de ces instances.</span><span class="sxs-lookup"><span data-stu-id="8f440-190">This implementation contains an in-memory collection of instances of Vendor and methods for exposing those instances.</span></span>|  
|<span data-ttu-id="8f440-191">RfpRepository</span><span class="sxs-lookup"><span data-stu-id="8f440-191">RfpRepository</span></span>|<span data-ttu-id="8f440-192">Référentiel d'appels d'offres.</span><span class="sxs-lookup"><span data-stu-id="8f440-192">The repository of Requests for Proposals.</span></span> <span data-ttu-id="8f440-193">Cette implémentation contient des utilisations de LINQ to XML pour interroger le fichier XML d'appels d'offres généré par la persistance schématisée.</span><span class="sxs-lookup"><span data-stu-id="8f440-193">This implementation contains uses Linq to XML to query the XML file of Requests for Proposal generated by the schematized persistence.</span></span> |  
|<span data-ttu-id="8f440-194">IOHelper</span><span class="sxs-lookup"><span data-stu-id="8f440-194">IOHelper</span></span>|<span data-ttu-id="8f440-195">Cette classe gère tous les problèmes liés aux E/S (dossiers, chemins d'accès, et ainsi de suite).</span><span class="sxs-lookup"><span data-stu-id="8f440-195">This class handles all I/O-related issues (folders, paths, and so on.)</span></span>|  
  
### <a name="web-client"></a><span data-ttu-id="8f440-196">Client web</span><span class="sxs-lookup"><span data-stu-id="8f440-196">Web Client</span></span>  
 <span data-ttu-id="8f440-197">Le tableau suivant contient une description des pages web les plus importantes dans le projet web Client.</span><span class="sxs-lookup"><span data-stu-id="8f440-197">The following table contains a description of the most important Web pages in the Web Client project.</span></span>  
  
|<span data-ttu-id="8f440-198">Fichier</span><span class="sxs-lookup"><span data-stu-id="8f440-198">File</span></span>|<span data-ttu-id="8f440-199">Description</span><span class="sxs-lookup"><span data-stu-id="8f440-199">Description</span></span>|  
|-|-|  
|<span data-ttu-id="8f440-200">CreateRfp.aspx</span><span class="sxs-lookup"><span data-stu-id="8f440-200">CreateRfp.aspx</span></span>|<span data-ttu-id="8f440-201">Crée et soumet un nouvel appel d'offres.</span><span class="sxs-lookup"><span data-stu-id="8f440-201">Creates and submits a new Request for Proposals.</span></span>|  
|<span data-ttu-id="8f440-202">Default.aspx</span><span class="sxs-lookup"><span data-stu-id="8f440-202">Default.aspx</span></span>|<span data-ttu-id="8f440-203">Affiche tous les appels d'offres actifs et terminés.</span><span class="sxs-lookup"><span data-stu-id="8f440-203">Shows all active and completed Requests for Proposals.</span></span>|  
|<span data-ttu-id="8f440-204">GetVendorProposal.aspx</span><span class="sxs-lookup"><span data-stu-id="8f440-204">GetVendorProposal.aspx</span></span>|<span data-ttu-id="8f440-205">Obtient une proposition d'un fournisseur dans un appel d'offres concret.</span><span class="sxs-lookup"><span data-stu-id="8f440-205">Gets a proposal from a vendor in a concrete Request for Proposals.</span></span> <span data-ttu-id="8f440-206">Cette page est utilisée uniquement par les fournisseurs.</span><span class="sxs-lookup"><span data-stu-id="8f440-206">This page is used only by vendors.</span></span>|  
|<span data-ttu-id="8f440-207">ShowRfp.aspx</span><span class="sxs-lookup"><span data-stu-id="8f440-207">ShowRfp.aspx</span></span>|<span data-ttu-id="8f440-208">Affiche toutes les informations sur un appel d'offres (propositions reçues, dates, valeurs et autres informations).</span><span class="sxs-lookup"><span data-stu-id="8f440-208">Show all the information about a Request for Proposals (received proposals, dates, values, and other information).</span></span> <span data-ttu-id="8f440-209">Cette page est utilisée uniquement par le créateur de l'appel d'offres.</span><span class="sxs-lookup"><span data-stu-id="8f440-209">This page is only used by the creator of the Request for Proposal.</span></span>|  
  
### <a name="winforms-client"></a><span data-ttu-id="8f440-210">WinForms Client</span><span class="sxs-lookup"><span data-stu-id="8f440-210">WinForms Client</span></span>  
 <span data-ttu-id="8f440-211">Le tableau suivant contient une description des formulaires les plus importants dans le projet Win Forms.</span><span class="sxs-lookup"><span data-stu-id="8f440-211">The following table contains a description of the most important forms in the Win Forms project.</span></span>  
  
|<span data-ttu-id="8f440-212">Formulaire</span><span class="sxs-lookup"><span data-stu-id="8f440-212">Form</span></span>|<span data-ttu-id="8f440-213">Description</span><span class="sxs-lookup"><span data-stu-id="8f440-213">Description</span></span>|  
|-|-|  
|<span data-ttu-id="8f440-214">NewRfp</span><span class="sxs-lookup"><span data-stu-id="8f440-214">NewRfp</span></span>|<span data-ttu-id="8f440-215">Crée et soumet un nouvel appel d'offres.</span><span class="sxs-lookup"><span data-stu-id="8f440-215">Creates and submits a new Request for Proposals.</span></span>|  
|<span data-ttu-id="8f440-216">ShowProposals</span><span class="sxs-lookup"><span data-stu-id="8f440-216">ShowProposals</span></span>|<span data-ttu-id="8f440-217">Affiche tous les appels d'offres actifs et terminés.</span><span class="sxs-lookup"><span data-stu-id="8f440-217">Show all active and finished Requests for Proposals.</span></span> <span data-ttu-id="8f440-218">**Remarque :**  Vous devrez peut-être cliquer sur le **Actualiser** bouton dans l’interface utilisateur pour voir les modifications dans cet écran une fois que vous créez ou modifiez une demande de proposition.</span><span class="sxs-lookup"><span data-stu-id="8f440-218">**Note:**  You may need to click the **Refresh** button in the UI to see changes in that screen after you create or modify a Request for Proposal.</span></span>|  
|<span data-ttu-id="8f440-219">SubmitProposal</span><span class="sxs-lookup"><span data-stu-id="8f440-219">SubmitProposal</span></span>|<span data-ttu-id="8f440-220">Obtient une proposition d'un fournisseur dans un appel d'offres concret.</span><span class="sxs-lookup"><span data-stu-id="8f440-220">Get a proposal from a vendor in a concrete Request for Proposals.</span></span> <span data-ttu-id="8f440-221">Cette fenêtre est utilisée uniquement par les fournisseurs.</span><span class="sxs-lookup"><span data-stu-id="8f440-221">This window is used only by vendors.</span></span>|  
|<span data-ttu-id="8f440-222">ViewRfp</span><span class="sxs-lookup"><span data-stu-id="8f440-222">ViewRfp</span></span>|<span data-ttu-id="8f440-223">Affiche toutes les informations sur un appel d'offres (propositions reçues, dates, valeurs et autres informations).</span><span class="sxs-lookup"><span data-stu-id="8f440-223">Show all the information about a Request for Proposals (received proposals, dates, values, and other information).</span></span> <span data-ttu-id="8f440-224">Cette fenêtre est utilisée uniquement par le créateur de l'appel d'offres.</span><span class="sxs-lookup"><span data-stu-id="8f440-224">This window  is only used by the creator of the Request for Proposals.</span></span>|  
  
### <a name="persistence-files"></a><span data-ttu-id="8f440-225">Fichiers de persistance</span><span class="sxs-lookup"><span data-stu-id="8f440-225">Persistence Files</span></span>  
 <span data-ttu-id="8f440-226">Le tableau suivant indique que les fichiers générés par le fournisseur de persistance (`XmlPersistenceProvider`) se trouvent dans le chemin d’accès du dossier temporaire du système actuel (à l’aide de <xref:System.IO.Path.GetTempPath%2A>).</span><span class="sxs-lookup"><span data-stu-id="8f440-226">The following table shows the files generated by the persistence provider (`XmlPersistenceProvider`) are located in the path of the current system's temporary folder (using <xref:System.IO.Path.GetTempPath%2A>).</span></span> <span data-ttu-id="8f440-227">Le fichier de suivi est créé dans le chemin d’exécution actuel.</span><span class="sxs-lookup"><span data-stu-id="8f440-227">The tracing file is created in the current execution path.</span></span>  
  
|<span data-ttu-id="8f440-228">Nom du fichier</span><span class="sxs-lookup"><span data-stu-id="8f440-228">File Name</span></span>|<span data-ttu-id="8f440-229">Description</span><span class="sxs-lookup"><span data-stu-id="8f440-229">Description</span></span>|<span data-ttu-id="8f440-230">Chemin d’accès</span><span class="sxs-lookup"><span data-stu-id="8f440-230">Path</span></span>|  
|-|-|-|  
|<span data-ttu-id="8f440-231">rfps.xml</span><span class="sxs-lookup"><span data-stu-id="8f440-231">rfps.xml</span></span>|<span data-ttu-id="8f440-232">Fichier XML avec tous les appels d'offres actifs et terminés.</span><span class="sxs-lookup"><span data-stu-id="8f440-232">The XML file with all the active and finished Requests for Proposals.</span></span>|<xref:System.IO.Path.GetTempPath%2A>|  
|<span data-ttu-id="8f440-233">[instanceid]</span><span class="sxs-lookup"><span data-stu-id="8f440-233">[instanceid]</span></span>|<span data-ttu-id="8f440-234">Ce fichier contient toutes les informations sur une instance de workflow.</span><span class="sxs-lookup"><span data-stu-id="8f440-234">This file contains all the information about a workflow instance.</span></span><br /><br /> <span data-ttu-id="8f440-235">Ce fichier est généré par l'implémentation de persistance schématisée (PersistenceParticipant dans XmlPersistenceProvider).</span><span class="sxs-lookup"><span data-stu-id="8f440-235">This file is generated by the schematized persistence implementation (PersistenceParticipant in XmlPersistenceProvider).</span></span>|<xref:System.IO.Path.GetTempPath%2A>|  
|<span data-ttu-id="8f440-236">[instanceId].tracking</span><span class="sxs-lookup"><span data-stu-id="8f440-236">[instanceId].tracking</span></span>|<span data-ttu-id="8f440-237">Fichier texte avec tous les événements qui se sont produits dans une instance concrète.</span><span class="sxs-lookup"><span data-stu-id="8f440-237">A text file with all the events that occurred within a concrete instance.</span></span><br /><br /> <span data-ttu-id="8f440-238">Ce fichier est généré par TrackingParticipant.</span><span class="sxs-lookup"><span data-stu-id="8f440-238">This file is generated by TrackingParticipant.</span></span>|<xref:System.IO.Path.GetTempPath%2A>|  
|<span data-ttu-id="8f440-239">PurchaseProcess.Tracing.TraceLog.txt</span><span class="sxs-lookup"><span data-stu-id="8f440-239">PurchaseProcess.Tracing.TraceLog.txt</span></span>|<span data-ttu-id="8f440-240">Fichier de suivi généré par le workflow selon les paramètres de configuration dans les fichiers App.config ou Web.config.</span><span class="sxs-lookup"><span data-stu-id="8f440-240">The tracing file generated by the workflow based on the configuration parameters in the App.config or Web.config files.</span></span>|<span data-ttu-id="8f440-241">Chemin d’exécution actuel</span><span class="sxs-lookup"><span data-stu-id="8f440-241">Current execution path</span></span>|  
  
#### <a name="to-use-this-sample"></a><span data-ttu-id="8f440-242">Pour utiliser cet exemple</span><span class="sxs-lookup"><span data-stu-id="8f440-242">To use this sample</span></span>  
  
1. <span data-ttu-id="8f440-243">À l’aide de Visual Studio 2010, ouvrez le fichier solution PurchaseProcess.sln.</span><span class="sxs-lookup"><span data-stu-id="8f440-243">Using Visual Studio 2010, open the PurchaseProcess.sln solution file.</span></span>  
  
2. <span data-ttu-id="8f440-244">Pour exécuter le projet Web Client, ouvrez **l’Explorateur de solutions** et cliquez sur le **Client Web** projet.</span><span class="sxs-lookup"><span data-stu-id="8f440-244">To execute the Web Client project, open **Solution Explorer** and right-click the **Web Client** project.</span></span> <span data-ttu-id="8f440-245">Sélectionnez **définir comme projet de démarrage**.</span><span class="sxs-lookup"><span data-stu-id="8f440-245">Select **Set as Startup Project**.</span></span>  
  
3. <span data-ttu-id="8f440-246">Pour exécuter le projet WinForms Client, ouvrez **l’Explorateur de solutions** et cliquez sur le **WinForms Client** projet.</span><span class="sxs-lookup"><span data-stu-id="8f440-246">To execute the WinForms Client project, open **Solution Explorer** and right-click the **WinForms Client** project.</span></span> <span data-ttu-id="8f440-247">Sélectionnez **définir comme projet de démarrage**.</span><span class="sxs-lookup"><span data-stu-id="8f440-247">Select **Set as Startup Project**.</span></span>  
  
4. <span data-ttu-id="8f440-248">Pour générer la solution, appuyez sur Ctrl+Maj+B.</span><span class="sxs-lookup"><span data-stu-id="8f440-248">To build the solution, press CTRL+SHIFT+B.</span></span>  
  
5. <span data-ttu-id="8f440-249">Pour exécuter la solution, appuyez sur Ctrl+F5.</span><span class="sxs-lookup"><span data-stu-id="8f440-249">To run the solution, press CTRL+F5.</span></span>  
  
### <a name="web-client-options"></a><span data-ttu-id="8f440-250">Options de Web Client</span><span class="sxs-lookup"><span data-stu-id="8f440-250">Web Client Options</span></span>  
  
- <span data-ttu-id="8f440-251">**Créer un nouvel appel d’offres**: Crée une nouvelle demande (offres) et démarre un workflow de processus d’achat.</span><span class="sxs-lookup"><span data-stu-id="8f440-251">**Create a new RFP**: Creates a new Request for Proposals (RFP) and starts a Purchase Process workflow.</span></span>  
  
- <span data-ttu-id="8f440-252">**Actualiser**: Actualise la liste des actifs et terminés dans la fenêtre principale.</span><span class="sxs-lookup"><span data-stu-id="8f440-252">**Refresh**: Refreshes the list of Active and Finished RFPs in the main window.</span></span>  
  
- <span data-ttu-id="8f440-253">**Vue** : Affiche le contenu d’un appel d’offres existant.</span><span class="sxs-lookup"><span data-stu-id="8f440-253">**View**: Shows the content of an existing RFP.</span></span> <span data-ttu-id="8f440-254">Les fournisseurs peuvent soumettre leurs propositions (s'ils y sont invités ou si l'appel d'offres n'est pas terminé).</span><span class="sxs-lookup"><span data-stu-id="8f440-254">Vendors can submit their proposals (if invited or the RFP is not finished).</span></span>  
  
- <span data-ttu-id="8f440-255">Afficher en tant que : L’utilisateur peut accéder à l’appel d’offres à l’aide de différentes identités en sélectionnant le participant voulu dans la **afficher en tant que** zone de liste déroulante dans la grille des appels d’offres actifs.</span><span class="sxs-lookup"><span data-stu-id="8f440-255">View As: The user can access the RFP using different identities by selecting the desired participant in the **View as** combo box in the active RFPs grid.</span></span>  
  
### <a name="winforms-client-options"></a><span data-ttu-id="8f440-256">Options de WinForms Client</span><span class="sxs-lookup"><span data-stu-id="8f440-256">WinForms Client Options</span></span>  
  
- <span data-ttu-id="8f440-257">**Créer l’appel d’offres**: Crée une nouvelle demande (offres) et démarre un workflow de processus d’achat.</span><span class="sxs-lookup"><span data-stu-id="8f440-257">**Create RFP**: Creates a new Request for Proposals (RFP) and starts a Purchase Process workflow.</span></span>  
  
- <span data-ttu-id="8f440-258">**Actualiser**: Actualise la liste des actifs et terminés dans la fenêtre principale.</span><span class="sxs-lookup"><span data-stu-id="8f440-258">**Refresh**: Refreshes the list of Active and Finished RFPs in the main window.</span></span>  
  
- <span data-ttu-id="8f440-259">**Afficher l’appel d’offres**: Affiche le contenu d’un appel d’offres existant.</span><span class="sxs-lookup"><span data-stu-id="8f440-259">**View RFP**: Shows the content of an existing RFP.</span></span> <span data-ttu-id="8f440-260">Les fournisseurs peuvent soumettre leurs propositions (s'ils y sont invités ou si l'appel d'offres n'est pas terminé).</span><span class="sxs-lookup"><span data-stu-id="8f440-260">Vendors can submit their proposals (if invited or the RFP is not finished)</span></span>  
  
- <span data-ttu-id="8f440-261">**Se connecter en tant que**: L’utilisateur peut accéder à l’appel d’offres à l’aide de différentes identités en sélectionnant le participant voulu dans la **afficher en tant que** zone de liste déroulante dans la grille des appels d’offres actifs.</span><span class="sxs-lookup"><span data-stu-id="8f440-261">**Connect As**: The user can access the RFP using different identities by selecting the desired participant in the **View as** combo box in the active RFPs grid.</span></span>
