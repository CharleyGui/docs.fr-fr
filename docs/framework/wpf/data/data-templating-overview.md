---
title: Vue d'ensemble des modèles de données
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- data binding [WPF], templates
- binding data [WPF], templates
- templates [WPF], data
- data templates [WPF]
ms.assetid: 0f4d9f8c-0230-4013-bd7b-e8e7fed01b4a
ms.openlocfilehash: b9e55eac1c72cd3deec21754373da4364a7cfed2
ms.sourcegitcommit: 62285ec11fa8e8424bab00511a90760c60e63c95
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 04/20/2020
ms.locfileid: "81646462"
---
# <a name="data-templating-overview"></a><span data-ttu-id="dc0d0-102">Vue d'ensemble des modèles de données</span><span class="sxs-lookup"><span data-stu-id="dc0d0-102">Data Templating Overview</span></span>
<span data-ttu-id="dc0d0-103">Le modèle de création de modèles de données WPF offre une grande souplesse pour définir la présentation des données.</span><span class="sxs-lookup"><span data-stu-id="dc0d0-103">The WPF data templating model provides you with great flexibility to define the presentation of your data.</span></span> <span data-ttu-id="dc0d0-104">Les contrôles WPF possèdent des fonctionnalités intégrées permettant de prendre en charge la personnalisation de la présentation des données.</span><span class="sxs-lookup"><span data-stu-id="dc0d0-104">WPF controls have built-in functionality to support the customization of data presentation.</span></span> <span data-ttu-id="dc0d0-105">Ce sujet montre d’abord <xref:System.Windows.DataTemplate> comment définir un, puis introduit d’autres fonctionnalités de templating de données, telles que la sélection de modèles basés sur la logique personnalisée et le support pour l’affichage des données hiérarchiques.</span><span class="sxs-lookup"><span data-stu-id="dc0d0-105">This topic first demonstrates how to define a <xref:System.Windows.DataTemplate> and then introduces other data templating features, such as the selection of templates based on custom logic and the support for the display of hierarchical data.</span></span>

<a name="Prerequisites"></a>
## <a name="prerequisites"></a><span data-ttu-id="dc0d0-106">Prérequis</span><span class="sxs-lookup"><span data-stu-id="dc0d0-106">Prerequisites</span></span>
 <span data-ttu-id="dc0d0-107">Cette rubrique porte sur les fonctionnalités de création de modèles de données ; elle ne constitue pas une introduction aux concepts de liaison de données.</span><span class="sxs-lookup"><span data-stu-id="dc0d0-107">This topic focuses on data templating features and is not an introduction of data binding concepts.</span></span> <span data-ttu-id="dc0d0-108">Pour plus d’informations sur les concepts de base de la liaison de données, consultez la [Vue d’ensemble de la liaison de données](../../../desktop-wpf/data/data-binding-overview.md).</span><span class="sxs-lookup"><span data-stu-id="dc0d0-108">For information about basic data binding concepts, see the [Data Binding Overview](../../../desktop-wpf/data/data-binding-overview.md).</span></span>

 <span data-ttu-id="dc0d0-109"><xref:System.Windows.DataTemplate>est sur la présentation des données et est l’une des nombreuses fonctionnalités fournies par le style WPF et le modèle de templating.</span><span class="sxs-lookup"><span data-stu-id="dc0d0-109"><xref:System.Windows.DataTemplate> is about the presentation of data and is one of the many features provided by the WPF styling and templating model.</span></span> <span data-ttu-id="dc0d0-110">Pour une introduction du modèle de style WPF et de <xref:System.Windows.Style> templating, comme la façon d’utiliser un pour définir des propriétés sur les contrôles, voir le [thème Styling et Templating.](../../../desktop-wpf/fundamentals/styles-templates-overview.md)</span><span class="sxs-lookup"><span data-stu-id="dc0d0-110">For an introduction of the WPF styling and templating model, such as how to use a <xref:System.Windows.Style> to set properties on controls, see the [Styling and Templating](../../../desktop-wpf/fundamentals/styles-templates-overview.md) topic.</span></span>

 <span data-ttu-id="dc0d0-111">En outre, il est `Resources`important de comprendre , <xref:System.Windows.Style> qui <xref:System.Windows.DataTemplate> sont essentiellement ce qui permet à des objets tels que et d’être réutilisables.</span><span class="sxs-lookup"><span data-stu-id="dc0d0-111">In addition, it is important to understand `Resources`, which are essentially what enable objects such as <xref:System.Windows.Style> and <xref:System.Windows.DataTemplate> to be reusable.</span></span> <span data-ttu-id="dc0d0-112">Pour plus d’informations sur les ressources, consultez la page [Ressources XAML](../../../desktop-wpf/fundamentals/xaml-resources-define.md).</span><span class="sxs-lookup"><span data-stu-id="dc0d0-112">For more information on resources, see [XAML Resources](../../../desktop-wpf/fundamentals/xaml-resources-define.md).</span></span>

<a name="DataTemplating_Basic"></a>
## <a name="data-templating-basics"></a><span data-ttu-id="dc0d0-113">Informations de base sur la création de modèles de données</span><span class="sxs-lookup"><span data-stu-id="dc0d0-113">Data Templating Basics</span></span>

 <span data-ttu-id="dc0d0-114">Pour démontrer <xref:System.Windows.DataTemplate> pourquoi est important, passons par un exemple contraignant de données.</span><span class="sxs-lookup"><span data-stu-id="dc0d0-114">To demonstrate why <xref:System.Windows.DataTemplate> is important, let's walk through a data binding example.</span></span> <span data-ttu-id="dc0d0-115">Dans cet exemple, <xref:System.Windows.Controls.ListBox> nous avons un qui `Task` est lié à une liste d’objets.</span><span class="sxs-lookup"><span data-stu-id="dc0d0-115">In this example, we have a <xref:System.Windows.Controls.ListBox> that is bound to a list of `Task` objects.</span></span> <span data-ttu-id="dc0d0-116">Chaque objet `Task` a un `TaskName` (chaîne), une `Description` (chaîne), une `Priority` (entier) et une propriété de type `TaskType`, qui est un `Enum` avec des valeurs `Home` et `Work`.</span><span class="sxs-lookup"><span data-stu-id="dc0d0-116">Each `Task` object has a `TaskName` (string), a `Description` (string), a `Priority` (int), and a property of type `TaskType`, which is an `Enum` with values `Home` and `Work`.</span></span>

 [!code-xaml[DataTemplatingIntro_snip#Resources](~/samples/snippets/csharp/VS_Snippets_Wpf/DataTemplatingIntro_snip/CSharp/Window1.xaml#resources)]
[!code-xaml[DataTemplatingIntro_snip#UI1](~/samples/snippets/csharp/VS_Snippets_Wpf/DataTemplatingIntro_snip/CSharp/Window1.xaml#ui1)]
[!code-xaml[DataTemplatingIntro_snip#UI2](~/samples/snippets/csharp/VS_Snippets_Wpf/DataTemplatingIntro_snip/CSharp/Window1.xaml#ui2)]

<a name="without_a_datatemplate"></a>
### <a name="without-a-datatemplate"></a><span data-ttu-id="dc0d0-117">Sans DataTemplate</span><span class="sxs-lookup"><span data-stu-id="dc0d0-117">Without a DataTemplate</span></span>
 <span data-ttu-id="dc0d0-118">Sans <xref:System.Windows.DataTemplate>un <xref:System.Windows.Controls.ListBox> , notre ressemble actuellement à ceci:</span><span class="sxs-lookup"><span data-stu-id="dc0d0-118">Without a <xref:System.Windows.DataTemplate>, our <xref:System.Windows.Controls.ListBox> currently looks like this:</span></span>

 <span data-ttu-id="dc0d0-119">![Capture d’écran de l’échantillon de templating de données](./media/datatemplatingintro-fig1.png "DataTemplatingIntro_fig1")</span><span class="sxs-lookup"><span data-stu-id="dc0d0-119">![Data templating sample screenshot](./media/datatemplatingintro-fig1.png "DataTemplatingIntro_fig1")</span></span>

 <span data-ttu-id="dc0d0-120">Ce qui se passe, c’est <xref:System.Windows.Controls.ListBox> que `ToString` sans instructions spécifiques, les appels par défaut lorsque vous essayez d’afficher les objets de la collection.</span><span class="sxs-lookup"><span data-stu-id="dc0d0-120">What's happening is that without any specific instructions, the <xref:System.Windows.Controls.ListBox> by default calls `ToString` when trying to display the objects in the collection.</span></span> <span data-ttu-id="dc0d0-121">Par conséquent, `Task` si l’objet l’emporte sur la `ToString` méthode, alors l’affichage <xref:System.Windows.Controls.ListBox> de la représentation de chaîne de chaque objet source dans la collection sous-jacente.</span><span class="sxs-lookup"><span data-stu-id="dc0d0-121">Therefore, if the `Task` object overrides the `ToString` method, then the <xref:System.Windows.Controls.ListBox> displays the string representation of each source object in the underlying collection.</span></span>

 <span data-ttu-id="dc0d0-122">Par exemple, si la classe `Task` remplace la méthode `ToString` de cette façon, où `name` correspond au champ de la propriété `TaskName` :</span><span class="sxs-lookup"><span data-stu-id="dc0d0-122">For example, if the `Task` class overrides the `ToString` method this way, where `name` is the field for the `TaskName` property:</span></span>

 [!code-csharp[DataTemplatingIntro_snip#ToString](~/samples/snippets/csharp/VS_Snippets_Wpf/DataTemplatingIntro_snip/CSharp/Data.cs#tostring)]
 [!code-vb[DataTemplatingIntro_snip#ToString](~/samples/snippets/visualbasic/VS_Snippets_Wpf/DataTemplatingIntro_snip/visualbasic/data.vb#tostring)]

 <span data-ttu-id="dc0d0-123">Ensuite, <xref:System.Windows.Controls.ListBox> le ressemble à ce qui suit:</span><span class="sxs-lookup"><span data-stu-id="dc0d0-123">Then the <xref:System.Windows.Controls.ListBox> looks like the following:</span></span>

 <span data-ttu-id="dc0d0-124">![Capture d’écran de l’échantillon de templating de données](./media/datatemplatingintro-fig2.png "DataTemplatingIntro_fig2")</span><span class="sxs-lookup"><span data-stu-id="dc0d0-124">![Data templating sample screenshot](./media/datatemplatingintro-fig2.png "DataTemplatingIntro_fig2")</span></span>

 <span data-ttu-id="dc0d0-125">Toutefois, cet affichage est restrictif et rigide.</span><span class="sxs-lookup"><span data-stu-id="dc0d0-125">However, that is limiting and inflexible.</span></span> <span data-ttu-id="dc0d0-126">En outre, si vous êtes contraignant aux données XML, `ToString`vous ne seriez pas en mesure de remplacer .</span><span class="sxs-lookup"><span data-stu-id="dc0d0-126">Also, if you are binding to XML data, you wouldn't be able to override `ToString`.</span></span>

<a name="defining_simple_datatemplate"></a>
### <a name="defining-a-simple-datatemplate"></a><span data-ttu-id="dc0d0-127">Définir un DataTemplate simple</span><span class="sxs-lookup"><span data-stu-id="dc0d0-127">Defining a Simple DataTemplate</span></span>
 <span data-ttu-id="dc0d0-128">La solution est <xref:System.Windows.DataTemplate>de définir un .</span><span class="sxs-lookup"><span data-stu-id="dc0d0-128">The solution is to define a <xref:System.Windows.DataTemplate>.</span></span> <span data-ttu-id="dc0d0-129">Une façon de le faire <xref:System.Windows.Controls.ItemsControl.ItemTemplate%2A> est <xref:System.Windows.Controls.ListBox> de <xref:System.Windows.DataTemplate>définir la propriété de la à un .</span><span class="sxs-lookup"><span data-stu-id="dc0d0-129">One way to do that is to set the <xref:System.Windows.Controls.ItemsControl.ItemTemplate%2A> property of the <xref:System.Windows.Controls.ListBox> to a <xref:System.Windows.DataTemplate>.</span></span> <span data-ttu-id="dc0d0-130">Ce que vous <xref:System.Windows.DataTemplate> spécifiez dans votre devient la structure visuelle de votre objet de données.</span><span class="sxs-lookup"><span data-stu-id="dc0d0-130">What you specify in your <xref:System.Windows.DataTemplate> becomes the visual structure of your data object.</span></span> <span data-ttu-id="dc0d0-131">Ce <xref:System.Windows.DataTemplate> qui suit est assez simple.</span><span class="sxs-lookup"><span data-stu-id="dc0d0-131">The following <xref:System.Windows.DataTemplate> is fairly simple.</span></span> <span data-ttu-id="dc0d0-132">Nous donnons des instructions que <xref:System.Windows.Controls.TextBlock> chaque élément <xref:System.Windows.Controls.StackPanel>apparaît comme trois éléments dans un .</span><span class="sxs-lookup"><span data-stu-id="dc0d0-132">We are giving instructions that each item appears as three <xref:System.Windows.Controls.TextBlock> elements within a <xref:System.Windows.Controls.StackPanel>.</span></span> <span data-ttu-id="dc0d0-133">Chaque <xref:System.Windows.Controls.TextBlock> élément est lié à `Task` une propriété de la classe.</span><span class="sxs-lookup"><span data-stu-id="dc0d0-133">Each <xref:System.Windows.Controls.TextBlock> element is bound to a property of the `Task` class.</span></span>

 [!code-xaml[DataTemplatingIntro_snip#Inline](~/samples/snippets/csharp/VS_Snippets_Wpf/DataTemplatingIntro_snip/CSharp/Window1.xaml#inline)]

 <span data-ttu-id="dc0d0-134">Les données sous-jacentes pour les exemples dans ce sujet est une collection d’objets CLR.</span><span class="sxs-lookup"><span data-stu-id="dc0d0-134">The underlying data for the examples in this topic is a collection of CLR objects.</span></span> <span data-ttu-id="dc0d0-135">Si vous êtes contraignant pour les données XML, les concepts fondamentaux sont les mêmes, mais il ya une légère différence syntaxique.</span><span class="sxs-lookup"><span data-stu-id="dc0d0-135">If you are binding to XML data, the fundamental concepts are the same, but there is a slight syntactic difference.</span></span> <span data-ttu-id="dc0d0-136">Par exemple, au `Path=TaskName`lieu d’avoir , vous définiriez <xref:System.Windows.Data.Binding.XPath%2A> à `@TaskName` (si `TaskName` est un attribut de votre nœud XML).</span><span class="sxs-lookup"><span data-stu-id="dc0d0-136">For example, instead of having `Path=TaskName`, you would set <xref:System.Windows.Data.Binding.XPath%2A> to `@TaskName` (if `TaskName` is an attribute of your XML node).</span></span>

 <span data-ttu-id="dc0d0-137">Maintenant, <xref:System.Windows.Controls.ListBox> notre ressemble à ce qui suit:</span><span class="sxs-lookup"><span data-stu-id="dc0d0-137">Now our <xref:System.Windows.Controls.ListBox> looks like the following:</span></span>

 <span data-ttu-id="dc0d0-138">![Capture d’écran de l’échantillon de templating de données](./media/datatemplatingintro-fig3.png "DataTemplatingIntro_fig3")</span><span class="sxs-lookup"><span data-stu-id="dc0d0-138">![Data templating sample screenshot](./media/datatemplatingintro-fig3.png "DataTemplatingIntro_fig3")</span></span>

<a name="defining_datatemplate_as_a_resource"></a>
### <a name="creating-the-datatemplate-as-a-resource"></a><span data-ttu-id="dc0d0-139">Créer un DataTemplate comme ressource</span><span class="sxs-lookup"><span data-stu-id="dc0d0-139">Creating the DataTemplate as a Resource</span></span>
 <span data-ttu-id="dc0d0-140">Dans l’exemple ci-dessus, nous avons défini l’inline. <xref:System.Windows.DataTemplate></span><span class="sxs-lookup"><span data-stu-id="dc0d0-140">In the above example, we defined the <xref:System.Windows.DataTemplate> inline.</span></span> <span data-ttu-id="dc0d0-141">Il est plus courant de le définir dans la section des ressources afin d’en faire un objet réutilisable, comme dans l’exemple suivant :</span><span class="sxs-lookup"><span data-stu-id="dc0d0-141">It is more common to define it in the resources section so it can be a reusable object, as in the following example:</span></span>

 [!code-xaml[DataTemplatingIntro_snip#R1](~/samples/snippets/csharp/VS_Snippets_Wpf/DataTemplatingIntro_snip/CSharp/Window1.xaml#r1)]
[!code-xaml[DataTemplatingIntro_snip#AsResource](~/samples/snippets/csharp/VS_Snippets_Wpf/DataTemplatingIntro_snip/CSharp/Window1.xaml#asresource)]
[!code-xaml[DataTemplatingIntro_snip#R2](~/samples/snippets/csharp/VS_Snippets_Wpf/DataTemplatingIntro_snip/CSharp/Window1.xaml#r2)]

 <span data-ttu-id="dc0d0-142">Vous pouvez à présent utiliser `myTaskTemplate` comme ressource, comme dans l’exemple suivant :</span><span class="sxs-lookup"><span data-stu-id="dc0d0-142">Now you can use `myTaskTemplate` as a resource, as in the following example:</span></span>

 [!code-xaml[DataTemplatingIntro_snip#MyTaskTemplate](~/samples/snippets/csharp/VS_Snippets_Wpf/DataTemplatingIntro_snip/CSharp/Window1.xaml#mytasktemplate)]

 <span data-ttu-id="dc0d0-143">Parce `myTaskTemplate` que c’est une ressource, vous pouvez maintenant l’utiliser sur d’autres contrôles qui ont une propriété qui prend un <xref:System.Windows.DataTemplate> type.</span><span class="sxs-lookup"><span data-stu-id="dc0d0-143">Because `myTaskTemplate` is a resource, you can now use it on other controls that have a property that takes a <xref:System.Windows.DataTemplate> type.</span></span> <span data-ttu-id="dc0d0-144">Comme indiqué ci-dessus, <xref:System.Windows.Controls.ItemsControl> pour <xref:System.Windows.Controls.ListBox>les objets, tels que le , c’est la <xref:System.Windows.Controls.ItemsControl.ItemTemplate%2A> propriété.</span><span class="sxs-lookup"><span data-stu-id="dc0d0-144">As shown above, for <xref:System.Windows.Controls.ItemsControl> objects, such as the <xref:System.Windows.Controls.ListBox>, it is the <xref:System.Windows.Controls.ItemsControl.ItemTemplate%2A> property.</span></span> <span data-ttu-id="dc0d0-145">Pour <xref:System.Windows.Controls.ContentControl> les objets, <xref:System.Windows.Controls.ContentControl.ContentTemplate%2A> c’est la propriété.</span><span class="sxs-lookup"><span data-stu-id="dc0d0-145">For <xref:System.Windows.Controls.ContentControl> objects, it is the <xref:System.Windows.Controls.ContentControl.ContentTemplate%2A> property.</span></span>

<a name="Styling_DataType"></a>
### <a name="the-datatype-property"></a><span data-ttu-id="dc0d0-146">La propriété DataType</span><span class="sxs-lookup"><span data-stu-id="dc0d0-146">The DataType Property</span></span>
 <span data-ttu-id="dc0d0-147">La <xref:System.Windows.DataTemplate> classe <xref:System.Windows.DataTemplate.DataType%2A> a une propriété qui <xref:System.Windows.Style.TargetType%2A> est <xref:System.Windows.Style> très similaire à la propriété de la classe.</span><span class="sxs-lookup"><span data-stu-id="dc0d0-147">The <xref:System.Windows.DataTemplate> class has a <xref:System.Windows.DataTemplate.DataType%2A> property that is very similar to the <xref:System.Windows.Style.TargetType%2A> property of the <xref:System.Windows.Style> class.</span></span> <span data-ttu-id="dc0d0-148">Par conséquent, au `x:Key` lieu <xref:System.Windows.DataTemplate> de spécifier un pour l’exemple ci-dessus, vous pouvez faire ce qui suit:</span><span class="sxs-lookup"><span data-stu-id="dc0d0-148">Therefore, instead of specifying an `x:Key` for the <xref:System.Windows.DataTemplate> in the above example, you can do the following:</span></span>

 [!code-xaml[DataTemplatingIntro_snip#DataType](~/samples/snippets/csharp/VS_Snippets_Wpf/DataTemplatingIntro_snip/CSharp/Window1.xaml#datatype)]

 <span data-ttu-id="dc0d0-149">Cela <xref:System.Windows.DataTemplate> est appliqué `Task` automatiquement à tous les objets.</span><span class="sxs-lookup"><span data-stu-id="dc0d0-149">This <xref:System.Windows.DataTemplate> gets applied automatically to all `Task` objects.</span></span> <span data-ttu-id="dc0d0-150">Notez que, dans ce cas, la `x:Key` est définie implicitement.</span><span class="sxs-lookup"><span data-stu-id="dc0d0-150">Note that in this case the `x:Key` is set implicitly.</span></span> <span data-ttu-id="dc0d0-151">Par conséquent, si <xref:System.Windows.DataTemplate> `x:Key` vous attribuez cette valeur, `x:Key` vous <xref:System.Windows.DataTemplate> l’emportez sur l’implicite et le ne serait pas appliqué automatiquement.</span><span class="sxs-lookup"><span data-stu-id="dc0d0-151">Therefore, if you assign this <xref:System.Windows.DataTemplate> an `x:Key` value, you are overriding the implicit `x:Key` and the <xref:System.Windows.DataTemplate> would not be applied automatically.</span></span>

 <span data-ttu-id="dc0d0-152">Si vous <xref:System.Windows.Controls.ContentControl> liez une `Task` collection d’objets, <xref:System.Windows.Controls.ContentControl> le <xref:System.Windows.DataTemplate> ne fonctionne pas automatiquement.</span><span class="sxs-lookup"><span data-stu-id="dc0d0-152">If you are binding a <xref:System.Windows.Controls.ContentControl> to a collection of `Task` objects, the <xref:System.Windows.Controls.ContentControl> does not use the above <xref:System.Windows.DataTemplate> automatically.</span></span> <span data-ttu-id="dc0d0-153">C’est parce que <xref:System.Windows.Controls.ContentControl> la liaison sur un besoin de plus d’informations pour distinguer si vous voulez lier à une collection entière ou les objets individuels.</span><span class="sxs-lookup"><span data-stu-id="dc0d0-153">This is because the binding on a <xref:System.Windows.Controls.ContentControl> needs more information to distinguish whether you want to bind to an entire collection or the individual objects.</span></span> <span data-ttu-id="dc0d0-154">Si <xref:System.Windows.Controls.ContentControl> vous suivez la <xref:System.Windows.Controls.ItemsControl> sélection d’un <xref:System.Windows.Data.Binding.Path%2A> type, <xref:System.Windows.Controls.ContentControl> vous pouvez`/`définir la propriété de la liaison à " pour indiquer que vous êtes intéressé par l’élément actuel.</span><span class="sxs-lookup"><span data-stu-id="dc0d0-154">If your <xref:System.Windows.Controls.ContentControl> is tracking the selection of an <xref:System.Windows.Controls.ItemsControl> type, you can set the <xref:System.Windows.Data.Binding.Path%2A> property of the <xref:System.Windows.Controls.ContentControl> binding to "`/`" to indicate that you are interested in the current item.</span></span> <span data-ttu-id="dc0d0-155">Vous trouverez un exemple sur la page [Effectuer une liaison à une collection et afficher des informations en fonction de la sélection](how-to-bind-to-a-collection-and-display-information-based-on-selection.md).</span><span class="sxs-lookup"><span data-stu-id="dc0d0-155">For an example, see [Bind to a Collection and Display Information Based on Selection](how-to-bind-to-a-collection-and-display-information-based-on-selection.md).</span></span> <span data-ttu-id="dc0d0-156">Dans le cas contraire, vous devez spécifier explicitement <xref:System.Windows.DataTemplate> en définissant la <xref:System.Windows.Controls.ContentControl.ContentTemplate%2A> propriété.</span><span class="sxs-lookup"><span data-stu-id="dc0d0-156">Otherwise, you need to specify the <xref:System.Windows.DataTemplate> explicitly by setting the <xref:System.Windows.Controls.ContentControl.ContentTemplate%2A> property.</span></span>

 <span data-ttu-id="dc0d0-157">La <xref:System.Windows.DataTemplate.DataType%2A> propriété est particulièrement <xref:System.Windows.Data.CompositeCollection> utile lorsque vous avez un des différents types d’objets de données.</span><span class="sxs-lookup"><span data-stu-id="dc0d0-157">The <xref:System.Windows.DataTemplate.DataType%2A> property is particularly useful when you have a <xref:System.Windows.Data.CompositeCollection> of different types of data objects.</span></span> <span data-ttu-id="dc0d0-158">Vous trouverez un exemple sur la page [Implémenter une CompositeCollection](how-to-implement-a-compositecollection.md).</span><span class="sxs-lookup"><span data-stu-id="dc0d0-158">For an example, see [Implement a CompositeCollection](how-to-implement-a-compositecollection.md).</span></span>

<a name="adding_more_to_datatemplate"></a>
## <a name="adding-more-to-the-datatemplate"></a><span data-ttu-id="dc0d0-159">Ajouter d’autres informations au DataTemplate</span><span class="sxs-lookup"><span data-stu-id="dc0d0-159">Adding More to the DataTemplate</span></span>
 <span data-ttu-id="dc0d0-160">Actuellement, les données s’affichent avec les informations nécessaires, mais on peut sans problème aller plus loin.</span><span class="sxs-lookup"><span data-stu-id="dc0d0-160">Currently the data appears with the necessary information, but there's definitely room for improvement.</span></span> <span data-ttu-id="dc0d0-161">Améliorons la présentation en <xref:System.Windows.Controls.Border>ajoutant <xref:System.Windows.Controls.Grid>un <xref:System.Windows.Controls.TextBlock> , un , et certains éléments qui décrivent les données qui sont affichées.</span><span class="sxs-lookup"><span data-stu-id="dc0d0-161">Let's improve on the presentation by adding a <xref:System.Windows.Controls.Border>, a <xref:System.Windows.Controls.Grid>, and some <xref:System.Windows.Controls.TextBlock> elements that describe the data that is being displayed.</span></span>

 [!code-xaml[DataTemplatingIntro#AddingMore](~/samples/snippets/xaml/VS_Snippets_Wpf/DataTemplatingIntro/xaml/window1.xaml#addingmore)]
[!code-xaml[DataTemplatingIntro#AddingMore2](~/samples/snippets/xaml/VS_Snippets_Wpf/DataTemplatingIntro/xaml/window1.xaml#addingmore2)]

 <span data-ttu-id="dc0d0-162">La capture d’écran suivante montre le <xref:System.Windows.Controls.ListBox> avec ce modifié: <xref:System.Windows.DataTemplate></span><span class="sxs-lookup"><span data-stu-id="dc0d0-162">The following screenshot shows the <xref:System.Windows.Controls.ListBox> with this modified <xref:System.Windows.DataTemplate>:</span></span>

 <span data-ttu-id="dc0d0-163">![Capture d’écran de l’échantillon de templating de données](./media/datatemplatingintro-fig4.png "DataTemplatingIntro_fig4")</span><span class="sxs-lookup"><span data-stu-id="dc0d0-163">![Data templating sample screenshot](./media/datatemplatingintro-fig4.png "DataTemplatingIntro_fig4")</span></span>

 <span data-ttu-id="dc0d0-164">Nous pouvons <xref:System.Windows.Controls.Control.HorizontalContentAlignment%2A> <xref:System.Windows.HorizontalAlignment.Stretch> régler <xref:System.Windows.Controls.ListBox> sur le pour s’assurer que la largeur des éléments prend tout l’espace:</span><span class="sxs-lookup"><span data-stu-id="dc0d0-164">We can set <xref:System.Windows.Controls.Control.HorizontalContentAlignment%2A> to <xref:System.Windows.HorizontalAlignment.Stretch> on the <xref:System.Windows.Controls.ListBox> to make sure the width of the items takes up the entire space:</span></span>

 [!code-xaml[DataTemplatingIntro_snip#Stretch](~/samples/snippets/csharp/VS_Snippets_Wpf/DataTemplatingIntro_snip/CSharp/Window1.xaml#stretch)]

 <span data-ttu-id="dc0d0-165">Avec <xref:System.Windows.Controls.Control.HorizontalContentAlignment%2A> la propriété <xref:System.Windows.HorizontalAlignment.Stretch>réglée <xref:System.Windows.Controls.ListBox> à , le ressemble maintenant à ceci:</span><span class="sxs-lookup"><span data-stu-id="dc0d0-165">With the <xref:System.Windows.Controls.Control.HorizontalContentAlignment%2A> property set to <xref:System.Windows.HorizontalAlignment.Stretch>, the <xref:System.Windows.Controls.ListBox> now looks like this:</span></span>

 <span data-ttu-id="dc0d0-166">![Capture d’écran de l’échantillon de templating de données](./media/datatemplatingintro-fig5.png "DataTemplatingIntro_fig5")</span><span class="sxs-lookup"><span data-stu-id="dc0d0-166">![Data templating sample screenshot](./media/datatemplatingintro-fig5.png "DataTemplatingIntro_fig5")</span></span>

<a name="DataTrigger_to_Apply_Property_Values"></a>
### <a name="use-datatriggers-to-apply-property-values"></a><span data-ttu-id="dc0d0-167">Utiliser DataTrigger pour appliquer des valeurs de propriété</span><span class="sxs-lookup"><span data-stu-id="dc0d0-167">Use DataTriggers to Apply Property Values</span></span>
 <span data-ttu-id="dc0d0-168">La présentation actuelle n’indique pas si une `Task` est une tâche privée ou une tâche professionnelle.</span><span class="sxs-lookup"><span data-stu-id="dc0d0-168">The current presentation does not tell us whether a `Task` is a home task or an office task.</span></span> <span data-ttu-id="dc0d0-169">N’oubliez pas que l’objet `Task` a une propriété `TaskType` de type `TaskType`, qui est une énumération avec les valeurs `Home` et `Work`.</span><span class="sxs-lookup"><span data-stu-id="dc0d0-169">Remember that the `Task` object has a `TaskType` property of type `TaskType`, which is an enumeration with values `Home` and `Work`.</span></span>

 <span data-ttu-id="dc0d0-170">Dans l’exemple <xref:System.Windows.DataTrigger> suivant, <xref:System.Windows.Controls.Border.BorderBrush%2A> les définit `border` `Yellow` l’élément nommé à si la `TaskType` propriété est `TaskType.Home`.</span><span class="sxs-lookup"><span data-stu-id="dc0d0-170">In the following example, the <xref:System.Windows.DataTrigger> sets the <xref:System.Windows.Controls.Border.BorderBrush%2A> of the element named `border` to `Yellow` if the `TaskType` property is `TaskType.Home`.</span></span>

 [!code-xaml[DataTemplatingIntro#DT](~/samples/snippets/xaml/VS_Snippets_Wpf/DataTemplatingIntro/xaml/window1.xaml#dt)]
[!code-xaml[DataTemplatingIntro#DataTrigger](~/samples/snippets/xaml/VS_Snippets_Wpf/DataTemplatingIntro/xaml/window1.xaml#datatrigger)]
[!code-xaml[DataTemplatingIntro#AddingMore2](~/samples/snippets/xaml/VS_Snippets_Wpf/DataTemplatingIntro/xaml/window1.xaml#addingmore2)]

 <span data-ttu-id="dc0d0-171">Notre application se présente maintenant ainsi.</span><span class="sxs-lookup"><span data-stu-id="dc0d0-171">Our application now looks like the following.</span></span> <span data-ttu-id="dc0d0-172">Les tâches privées apparaissent avec une bordure jaune et les tâches professionnelles avec une bordure cyan :</span><span class="sxs-lookup"><span data-stu-id="dc0d0-172">Home tasks appear with a yellow border and office tasks appear with an aqua border:</span></span>

 <span data-ttu-id="dc0d0-173">![Capture d’écran de l’échantillon de templating de données](./media/datatemplatingintro-fig6.png "DataTemplatingIntro_fig6")</span><span class="sxs-lookup"><span data-stu-id="dc0d0-173">![Data templating sample screenshot](./media/datatemplatingintro-fig6.png "DataTemplatingIntro_fig6")</span></span>

 <span data-ttu-id="dc0d0-174">Dans cet <xref:System.Windows.DataTrigger> exemple, <xref:System.Windows.Setter> l’utilisation d’un pour définir une valeur de propriété.</span><span class="sxs-lookup"><span data-stu-id="dc0d0-174">In this example the <xref:System.Windows.DataTrigger> uses a <xref:System.Windows.Setter> to set a property value.</span></span> <span data-ttu-id="dc0d0-175">Les classes de <xref:System.Windows.TriggerBase.EnterActions%2A> déclenchement <xref:System.Windows.TriggerBase.ExitActions%2A> ont également le et les propriétés qui vous permettent de démarrer un ensemble d’actions telles que les animations.</span><span class="sxs-lookup"><span data-stu-id="dc0d0-175">The trigger classes also have the <xref:System.Windows.TriggerBase.EnterActions%2A> and <xref:System.Windows.TriggerBase.ExitActions%2A> properties that allow you to start a set of actions such as animations.</span></span> <span data-ttu-id="dc0d0-176">En outre, il <xref:System.Windows.MultiDataTrigger> existe également une classe qui vous permet d’appliquer des modifications basées sur plusieurs valeurs de propriété liées aux données.</span><span class="sxs-lookup"><span data-stu-id="dc0d0-176">In addition, there is also a <xref:System.Windows.MultiDataTrigger> class that allows you to apply changes based on multiple data-bound property values.</span></span>

 <span data-ttu-id="dc0d0-177">Une autre façon d’obtenir le <xref:System.Windows.Controls.Border.BorderBrush%2A> même effet `TaskType` est de lier la propriété à `TaskType` la propriété et d’utiliser un convertisseur de valeur pour retourner la couleur basée sur la valeur.</span><span class="sxs-lookup"><span data-stu-id="dc0d0-177">An alternative way to achieve the same effect is to bind the <xref:System.Windows.Controls.Border.BorderBrush%2A> property to the `TaskType` property and use a value converter to return the color based on the `TaskType` value.</span></span> <span data-ttu-id="dc0d0-178">Du point de vue des performances, il est légèrement plus efficace d’utiliser un convertisseur pour produire cet effet.</span><span class="sxs-lookup"><span data-stu-id="dc0d0-178">Creating the above effect using a converter is slightly more efficient in terms of performance.</span></span> <span data-ttu-id="dc0d0-179">En outre, le fait de créer votre propre convertisseur vous offre plus de souplesse, car vous fournissez votre propre logique.</span><span class="sxs-lookup"><span data-stu-id="dc0d0-179">Additionally, creating your own converter gives you more flexibility because you are supplying your own logic.</span></span> <span data-ttu-id="dc0d0-180">En somme, la technique choisie dépend du scénario et des préférences.</span><span class="sxs-lookup"><span data-stu-id="dc0d0-180">Ultimately, which technique you choose depends on your scenario and your preference.</span></span> <span data-ttu-id="dc0d0-181">Pour plus d’informations sur la <xref:System.Windows.Data.IValueConverter>façon d’écrire un convertisseur, voir .</span><span class="sxs-lookup"><span data-stu-id="dc0d0-181">For information about how to write a converter, see <xref:System.Windows.Data.IValueConverter>.</span></span>

<a name="what_belongs_in_datatemplate"></a>
### <a name="what-belongs-in-a-datatemplate"></a><span data-ttu-id="dc0d0-182">Que contient un DataTemplate ?</span><span class="sxs-lookup"><span data-stu-id="dc0d0-182">What Belongs in a DataTemplate?</span></span>

<span data-ttu-id="dc0d0-183">Dans l’exemple précédent, nous <xref:System.Windows.DataTemplate> avons <xref:System.Windows.DataTemplate.Triggers%2A?displayProperty=nameWithType> placé le déclencheur dans l’utilisation de la propriété.</span><span class="sxs-lookup"><span data-stu-id="dc0d0-183">In the previous example, we placed the trigger within the <xref:System.Windows.DataTemplate> using the <xref:System.Windows.DataTemplate.Triggers%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="dc0d0-184">Le <xref:System.Windows.Setter> déclencheur définit la valeur d’une propriété <xref:System.Windows.Controls.Border> d’un élément <xref:System.Windows.DataTemplate>(l’élément) qui est dans le .</span><span class="sxs-lookup"><span data-stu-id="dc0d0-184">The <xref:System.Windows.Setter> of the trigger sets the value of a property of an element (the <xref:System.Windows.Controls.Border> element) that is within the <xref:System.Windows.DataTemplate>.</span></span> <span data-ttu-id="dc0d0-185">Toutefois, si les `Setters` propriétés qui vous concernent ne sont <xref:System.Windows.DataTemplate>pas des propriétés d’éléments qui <xref:System.Windows.Style> sont dans <xref:System.Windows.Controls.ListBoxItem> le courant, il peut <xref:System.Windows.Controls.ListBox>être plus approprié de définir les propriétés en utilisant un qui est pour la classe (si le contrôle que vous êtes contraignant est un ).</span><span class="sxs-lookup"><span data-stu-id="dc0d0-185">However, if the properties that your `Setters` are concerned with are not properties of elements that are within the current <xref:System.Windows.DataTemplate>, it may be more suitable to set the properties using a <xref:System.Windows.Style> that is for the <xref:System.Windows.Controls.ListBoxItem> class (if the control you are binding is a <xref:System.Windows.Controls.ListBox>).</span></span> <span data-ttu-id="dc0d0-186">Par exemple, si <xref:System.Windows.Trigger> vous voulez que <xref:System.Windows.UIElement.Opacity%2A> vous animiez la valeur de l’article lorsqu’une souris pointe vers un élément, vous définissez les déclencheurs dans un <xref:System.Windows.Controls.ListBoxItem> style.</span><span class="sxs-lookup"><span data-stu-id="dc0d0-186">For example, if you want your <xref:System.Windows.Trigger> to animate the <xref:System.Windows.UIElement.Opacity%2A> value of the item when a mouse points to an item, you define triggers within a <xref:System.Windows.Controls.ListBoxItem> style.</span></span> <span data-ttu-id="dc0d0-187">Vous trouverez un exemple sur la page [Présentation d’un exemple de création de style et de modèle](https://github.com/Microsoft/WPF-Samples/tree/master/Styles%20&%20Templates/IntroToStylingAndTemplating).</span><span class="sxs-lookup"><span data-stu-id="dc0d0-187">For an example, see the [Introduction to Styling and Templating Sample](https://github.com/Microsoft/WPF-Samples/tree/master/Styles%20&%20Templates/IntroToStylingAndTemplating).</span></span>

 <span data-ttu-id="dc0d0-188">En général, gardez à <xref:System.Windows.DataTemplate> l’esprit que le <xref:System.Windows.Controls.ListBoxItem> est appliqué à chacun des produits générés <xref:System.Windows.Controls.ItemsControl.ItemTemplate%2A> (pour plus d’informations sur la façon et où il est effectivement appliqué, voir la page.).</span><span class="sxs-lookup"><span data-stu-id="dc0d0-188">In general, keep in mind that the <xref:System.Windows.DataTemplate> is being applied to each of the generated <xref:System.Windows.Controls.ListBoxItem> (for more information about how and where it is actually applied, see the <xref:System.Windows.Controls.ItemsControl.ItemTemplate%2A> page.).</span></span> <span data-ttu-id="dc0d0-189">Vous <xref:System.Windows.DataTemplate> ne vous préoccupez que de la présentation et de l’apparence des objets de données.</span><span class="sxs-lookup"><span data-stu-id="dc0d0-189">Your <xref:System.Windows.DataTemplate> is concerned with only the presentation and appearance of the data objects.</span></span> <span data-ttu-id="dc0d0-190">Dans la plupart des cas, tous les autres aspects de la présentation, tels que ce qu’est un élément ressemble quand il est sélectionné ou comment l’exposer <xref:System.Windows.Controls.ListBox> les éléments, n’appartiennent pas à la définition d’un <xref:System.Windows.DataTemplate>.</span><span class="sxs-lookup"><span data-stu-id="dc0d0-190">In most cases, all other aspects of presentation, such as what an item looks like when it is selected or how the <xref:System.Windows.Controls.ListBox> lays out the items, do not belong in the definition of a <xref:System.Windows.DataTemplate>.</span></span> <span data-ttu-id="dc0d0-191">Vous trouverez un exemple dans la section [Création de styles et de modèles pour un ItemsControl](#DataTemplating_ItemsControl).</span><span class="sxs-lookup"><span data-stu-id="dc0d0-191">For an example, see the [Styling and Templating an ItemsControl](#DataTemplating_ItemsControl) section.</span></span>

<a name="Styling_StyleSelection"></a>
## <a name="choosing-a-datatemplate-based-on-properties-of-the-data-object"></a><span data-ttu-id="dc0d0-192">Choisir un DataTemplate en fonction des propriétés de l’objet de données</span><span class="sxs-lookup"><span data-stu-id="dc0d0-192">Choosing a DataTemplate Based on Properties of the Data Object</span></span>
 <span data-ttu-id="dc0d0-193">Dans la section [La propriété DataType](#Styling_DataType), nous avons expliqué que vous pouvez définir différents modèles de données pour différents objets de données.</span><span class="sxs-lookup"><span data-stu-id="dc0d0-193">In [The DataType Property](#Styling_DataType) section, we discussed that you can define different data templates for different data objects.</span></span> <span data-ttu-id="dc0d0-194">C’est particulièrement utile <xref:System.Windows.Data.CompositeCollection> lorsque vous avez un de différents types ou collections avec des éléments de différents types.</span><span class="sxs-lookup"><span data-stu-id="dc0d0-194">That is especially useful when you have a <xref:System.Windows.Data.CompositeCollection> of different types or collections with items of different types.</span></span> <span data-ttu-id="dc0d0-195">Dans la section [Données d’utilisation pour appliquer les valeurs de propriété,](#DataTrigger_to_Apply_Property_Values) nous avons montré que <xref:System.Windows.DataTemplate> si vous avez une collection du même type d’objets de données, vous pouvez créer un, puis utiliser des déclencheurs pour appliquer des modifications basées sur la valeur de propriété de chaque objet de données.</span><span class="sxs-lookup"><span data-stu-id="dc0d0-195">In the [Use DataTriggers to Apply Property Values](#DataTrigger_to_Apply_Property_Values) section, we have shown that if you have a collection of the same type of data objects you can create a <xref:System.Windows.DataTemplate> and then use triggers to apply changes based on the property values of each data object.</span></span> <span data-ttu-id="dc0d0-196">Toutefois, si les déclencheurs vous permettent d’appliquer des valeurs de propriété ou de lancer des animations, ils ne vous donnent pas la possibilité de reconstruire la structure de vos objets de données.</span><span class="sxs-lookup"><span data-stu-id="dc0d0-196">However, triggers allow you to apply property values or start animations but they don't give you the flexibility to reconstruct the structure of your data objects.</span></span> <span data-ttu-id="dc0d0-197">Certains scénarios peuvent vous obliger <xref:System.Windows.DataTemplate> à créer un autre pour les objets de données qui sont du même type, mais ont des propriétés différentes.</span><span class="sxs-lookup"><span data-stu-id="dc0d0-197">Some scenarios may require you to create a different <xref:System.Windows.DataTemplate> for data objects that are of the same type but have different properties.</span></span>

 <span data-ttu-id="dc0d0-198">Par exemple, lorsque un objet `Task` a une valeur `Priority` égale à `1`, vous avez la possibilité de lui donner un aspect différent qui vous servira d’alerte.</span><span class="sxs-lookup"><span data-stu-id="dc0d0-198">For example, when a `Task` object has a `Priority` value of `1`, you may want to give it a completely different look to serve as an alert for yourself.</span></span> <span data-ttu-id="dc0d0-199">Dans ce cas, <xref:System.Windows.DataTemplate> vous créez un pour `Task` l’affichage des objets hautement prioritaires.</span><span class="sxs-lookup"><span data-stu-id="dc0d0-199">In that case, you create a <xref:System.Windows.DataTemplate> for the display of the high-priority `Task` objects.</span></span> <span data-ttu-id="dc0d0-200">Ajoutons ce qui <xref:System.Windows.DataTemplate> suit à la section ressources :</span><span class="sxs-lookup"><span data-stu-id="dc0d0-200">Let's add the following <xref:System.Windows.DataTemplate> to the resources section:</span></span>

 [!code-xaml[DataTemplatingIntro_snip#ImportantTemplate](~/samples/snippets/csharp/VS_Snippets_Wpf/DataTemplatingIntro_snip/CSharp/Window1.xaml#importanttemplate)]

<span data-ttu-id="dc0d0-201">Cet exemple utilise la propriété [DataTemplate.Resources.](xref:System.Windows.FrameworkTemplate.Resources%2A)</span><span class="sxs-lookup"><span data-stu-id="dc0d0-201">This example uses the [DataTemplate.Resources](xref:System.Windows.FrameworkTemplate.Resources%2A) property.</span></span> <span data-ttu-id="dc0d0-202">Les ressources définies dans cette section <xref:System.Windows.DataTemplate>sont partagées par les éléments du .</span><span class="sxs-lookup"><span data-stu-id="dc0d0-202">Resources defined in that section are shared by the elements within the <xref:System.Windows.DataTemplate>.</span></span>

 <span data-ttu-id="dc0d0-203">Fournir la logique <xref:System.Windows.DataTemplate> pour choisir lequel `Priority` utiliser en fonction de la <xref:System.Windows.Controls.DataTemplateSelector> valeur de <xref:System.Windows.Controls.DataTemplateSelector.SelectTemplate%2A> l’objet de données, créer une sous-classe et passer outre la méthode.</span><span class="sxs-lookup"><span data-stu-id="dc0d0-203">To supply logic to choose which <xref:System.Windows.DataTemplate> to use based on the `Priority` value of the data object, create a subclass of <xref:System.Windows.Controls.DataTemplateSelector> and override the <xref:System.Windows.Controls.DataTemplateSelector.SelectTemplate%2A> method.</span></span> <span data-ttu-id="dc0d0-204">Dans l’exemple <xref:System.Windows.Controls.DataTemplateSelector.SelectTemplate%2A> suivant, la méthode fournit la logique de `Priority` retourner le modèle approprié basé sur la valeur de la propriété.</span><span class="sxs-lookup"><span data-stu-id="dc0d0-204">In the following example, the <xref:System.Windows.Controls.DataTemplateSelector.SelectTemplate%2A> method provides logic to return the appropriate template based on the value of the `Priority` property.</span></span> <span data-ttu-id="dc0d0-205">Le modèle de retour se trouve dans les <xref:System.Windows.Window> ressources de l’élément enveloppant.</span><span class="sxs-lookup"><span data-stu-id="dc0d0-205">The template to return is found in the resources of the enveloping <xref:System.Windows.Window> element.</span></span>

 [!code-csharp[DataTemplatingIntro_snip#DTSClass](~/samples/snippets/csharp/VS_Snippets_Wpf/DataTemplatingIntro_snip/CSharp/TaskListDataTemplateSelector.cs#dtsclass)]
 [!code-vb[DataTemplatingIntro_snip#DTSClass](~/samples/snippets/visualbasic/VS_Snippets_Wpf/DataTemplatingIntro_snip/visualbasic/tasklistdatatemplateselector.vb#dtsclass)]

 <span data-ttu-id="dc0d0-206">On peut ensuite déclarer le `TaskListDataTemplateSelector` comme ressource :</span><span class="sxs-lookup"><span data-stu-id="dc0d0-206">We can then declare the `TaskListDataTemplateSelector` as a resource:</span></span>

 [!code-xaml[DataTemplatingIntro_snip#R1](~/samples/snippets/csharp/VS_Snippets_Wpf/DataTemplatingIntro_snip/CSharp/Window1.xaml#r1)]
[!code-xaml[DataTemplatingIntro_snip#DTS](~/samples/snippets/csharp/VS_Snippets_Wpf/DataTemplatingIntro_snip/CSharp/Window1.xaml#dts)]
[!code-xaml[DataTemplatingIntro_snip#R2](~/samples/snippets/csharp/VS_Snippets_Wpf/DataTemplatingIntro_snip/CSharp/Window1.xaml#r2)]

 <span data-ttu-id="dc0d0-207">Pour utiliser la ressource de sélecteur de modèle, l’attribuer à la <xref:System.Windows.Controls.ItemsControl.ItemTemplateSelector%2A> propriété de la <xref:System.Windows.Controls.ListBox>.</span><span class="sxs-lookup"><span data-stu-id="dc0d0-207">To use the template selector resource, assign it to the <xref:System.Windows.Controls.ItemsControl.ItemTemplateSelector%2A> property of the <xref:System.Windows.Controls.ListBox>.</span></span> <span data-ttu-id="dc0d0-208"><xref:System.Windows.Controls.ListBox> L’appel <xref:System.Windows.Controls.DataTemplateSelector.SelectTemplate%2A> de `TaskListDataTemplateSelector` la méthode de la pour chacun des éléments de la collection sous-jacente.</span><span class="sxs-lookup"><span data-stu-id="dc0d0-208">The <xref:System.Windows.Controls.ListBox> calls the <xref:System.Windows.Controls.DataTemplateSelector.SelectTemplate%2A> method of the `TaskListDataTemplateSelector` for each of the items in the underlying collection.</span></span> <span data-ttu-id="dc0d0-209">L’appel passe l’objet de données en paramètre d’élément.</span><span class="sxs-lookup"><span data-stu-id="dc0d0-209">The call passes the data object as the item parameter.</span></span> <span data-ttu-id="dc0d0-210">Le <xref:System.Windows.DataTemplate> qui est retourné par la méthode est ensuite appliqué à cet objet de données.</span><span class="sxs-lookup"><span data-stu-id="dc0d0-210">The <xref:System.Windows.DataTemplate> that is returned by the method is then applied to that data object.</span></span>

 [!code-xaml[DataTemplatingIntro_snip#ItemTemplateSelector](~/samples/snippets/csharp/VS_Snippets_Wpf/DataTemplatingIntro_snip/CSharp/Window1.xaml#itemtemplateselector)]

 <span data-ttu-id="dc0d0-211">Avec le sélecteur <xref:System.Windows.Controls.ListBox> de modèle en place, le ressort maintenant comme suit :</span><span class="sxs-lookup"><span data-stu-id="dc0d0-211">With the template selector in place, the <xref:System.Windows.Controls.ListBox> now appears as follows:</span></span>

 <span data-ttu-id="dc0d0-212">![Capture d’écran de l’échantillon de templating de données](./media/datatemplatingintro-fig7.png "DataTemplatingIntro_fig7")</span><span class="sxs-lookup"><span data-stu-id="dc0d0-212">![Data templating sample screenshot](./media/datatemplatingintro-fig7.png "DataTemplatingIntro_fig7")</span></span>

<span data-ttu-id="dc0d0-213">Ainsi se conclut notre étude de cet exemple.</span><span class="sxs-lookup"><span data-stu-id="dc0d0-213">This concludes our discussion of this example.</span></span> <span data-ttu-id="dc0d0-214">Vous trouverez l’exemple complet sur la page [Présentation d’un exemple de création de modèles de données](https://github.com/Microsoft/WPF-Samples/tree/master/Data%20Binding/DataTemplatingIntro).</span><span class="sxs-lookup"><span data-stu-id="dc0d0-214">For the complete sample, see [Introduction to Data Templating Sample](https://github.com/Microsoft/WPF-Samples/tree/master/Data%20Binding/DataTemplatingIntro).</span></span>

<a name="DataTemplating_ItemsControl"></a>
## <a name="styling-and-templating-an-itemscontrol"></a><span data-ttu-id="dc0d0-215">Création de styles et de modèles pour un ItemsControl</span><span class="sxs-lookup"><span data-stu-id="dc0d0-215">Styling and Templating an ItemsControl</span></span>
 <span data-ttu-id="dc0d0-216">Même si <xref:System.Windows.Controls.ItemsControl> le n’est pas le <xref:System.Windows.DataTemplate> seul type de contrôle que vous <xref:System.Windows.Controls.ItemsControl> pouvez utiliser un avec, il est un scénario très commun pour lier une collection.</span><span class="sxs-lookup"><span data-stu-id="dc0d0-216">Even though the <xref:System.Windows.Controls.ItemsControl> is not the only control type that you can use a <xref:System.Windows.DataTemplate> with, it is a very common scenario to bind an <xref:System.Windows.Controls.ItemsControl> to a collection.</span></span> <span data-ttu-id="dc0d0-217">Dans la [section What Belongs in a DataTemplate,](#what_belongs_in_datatemplate) nous avons discuté du fait que la définition de votre <xref:System.Windows.DataTemplate> site ne devrait porter que sur la présentation des données.</span><span class="sxs-lookup"><span data-stu-id="dc0d0-217">In the [What Belongs in a DataTemplate](#what_belongs_in_datatemplate) section we discussed that the definition of your <xref:System.Windows.DataTemplate> should only be concerned with the presentation of data.</span></span> <span data-ttu-id="dc0d0-218">Afin de savoir quand il n’est pas approprié d’utiliser un, <xref:System.Windows.DataTemplate> il <xref:System.Windows.Controls.ItemsControl>est important de comprendre le style différent et les propriétés de modèle fournies par le .</span><span class="sxs-lookup"><span data-stu-id="dc0d0-218">In order to know when it is not suitable to use a <xref:System.Windows.DataTemplate> it is important to understand the different style and template properties provided by the <xref:System.Windows.Controls.ItemsControl>.</span></span> <span data-ttu-id="dc0d0-219">L’exemple suivant est conçu pour illustrer la fonction de chacune de ces propriétés.</span><span class="sxs-lookup"><span data-stu-id="dc0d0-219">The following example is designed to illustrate the function of each of these properties.</span></span> <span data-ttu-id="dc0d0-220">L’exemple <xref:System.Windows.Controls.ItemsControl> est lié à `Tasks` la même collection que dans l’exemple précédent.</span><span class="sxs-lookup"><span data-stu-id="dc0d0-220">The <xref:System.Windows.Controls.ItemsControl> in this example is bound to the same `Tasks` collection as in the previous example.</span></span> <span data-ttu-id="dc0d0-221">À des fins de démonstration, les styles et les modèles de cet exemple sont tous déclarés inline.</span><span class="sxs-lookup"><span data-stu-id="dc0d0-221">For demonstration purposes, the styles and templates in this example are all declared inline.</span></span>

 [!code-xaml[DataTemplatingIntro_snip#ItemsControlProperties](~/samples/snippets/csharp/VS_Snippets_Wpf/DataTemplatingIntro_snip/CSharp/Window1.xaml#itemscontrolproperties)]

 <span data-ttu-id="dc0d0-222">Voici une capture d’écran du rendu de l’exemple :</span><span class="sxs-lookup"><span data-stu-id="dc0d0-222">The following is a screenshot of the example when it is rendered:</span></span>

 <span data-ttu-id="dc0d0-223">![Capture d’écran : exemple de ItemsControl](./media/databinding-itemscontrolproperties.png "DataBinding_ItemsControlProperties")</span><span class="sxs-lookup"><span data-stu-id="dc0d0-223">![ItemsControl example screenshot](./media/databinding-itemscontrolproperties.png "DataBinding_ItemsControlProperties")</span></span>

 <span data-ttu-id="dc0d0-224">Notez qu’au <xref:System.Windows.Controls.ItemsControl.ItemTemplate%2A>lieu d’utiliser le , vous pouvez utiliser le <xref:System.Windows.Controls.ItemsControl.ItemTemplateSelector%2A>.</span><span class="sxs-lookup"><span data-stu-id="dc0d0-224">Note that instead of using the <xref:System.Windows.Controls.ItemsControl.ItemTemplate%2A>, you can use the <xref:System.Windows.Controls.ItemsControl.ItemTemplateSelector%2A>.</span></span> <span data-ttu-id="dc0d0-225">Vous trouverez un exemple dans la section précédente.</span><span class="sxs-lookup"><span data-stu-id="dc0d0-225">Refer to the previous section for an example.</span></span> <span data-ttu-id="dc0d0-226">De même, au <xref:System.Windows.Controls.ItemsControl.ItemContainerStyle%2A>lieu d’utiliser le <xref:System.Windows.Controls.ItemsControl.ItemContainerStyleSelector%2A>, vous avez la possibilité d’utiliser le .</span><span class="sxs-lookup"><span data-stu-id="dc0d0-226">Similarly, instead of using the <xref:System.Windows.Controls.ItemsControl.ItemContainerStyle%2A>, you have the option to use the <xref:System.Windows.Controls.ItemsControl.ItemContainerStyleSelector%2A>.</span></span>

 <span data-ttu-id="dc0d0-227">Deux autres propriétés liées <xref:System.Windows.Controls.ItemsControl> au style de <xref:System.Windows.Controls.ItemsControl.GroupStyle%2A> <xref:System.Windows.Controls.ItemsControl.GroupStyleSelector%2A>ce qui ne sont pas montrés ici sont et .</span><span class="sxs-lookup"><span data-stu-id="dc0d0-227">Two other style-related properties of the <xref:System.Windows.Controls.ItemsControl> that are not shown here are <xref:System.Windows.Controls.ItemsControl.GroupStyle%2A> and <xref:System.Windows.Controls.ItemsControl.GroupStyleSelector%2A>.</span></span>

<a name="DataTemplating_HeirarchicalDataTemplate"></a>
## <a name="support-for-hierarchical-data"></a><span data-ttu-id="dc0d0-228">Prise en charge des données hiérarchiques</span><span class="sxs-lookup"><span data-stu-id="dc0d0-228">Support for Hierarchical Data</span></span>
 <span data-ttu-id="dc0d0-229">Jusqu’à présent, nous avons seulement vu comment lier et afficher une collection unique.</span><span class="sxs-lookup"><span data-stu-id="dc0d0-229">So far we have only looked at how to bind to and display a single collection.</span></span> <span data-ttu-id="dc0d0-230">Une collection peut contenir d’autres collections.</span><span class="sxs-lookup"><span data-stu-id="dc0d0-230">Sometimes you have a collection that contains other collections.</span></span> <span data-ttu-id="dc0d0-231">La <xref:System.Windows.HierarchicalDataTemplate> classe est conçue <xref:System.Windows.Controls.HeaderedItemsControl> pour être utilisée avec des types pour afficher de telles données.</span><span class="sxs-lookup"><span data-stu-id="dc0d0-231">The <xref:System.Windows.HierarchicalDataTemplate> class is designed to be used with <xref:System.Windows.Controls.HeaderedItemsControl> types to display such data.</span></span> <span data-ttu-id="dc0d0-232">Dans l’exemple suivant, `ListLeagueList` est une liste d’objets `League`.</span><span class="sxs-lookup"><span data-stu-id="dc0d0-232">In the following example, `ListLeagueList` is a list of `League` objects.</span></span> <span data-ttu-id="dc0d0-233">Chaque objet `League` a un `Name` et une collection d’objets `Division`.</span><span class="sxs-lookup"><span data-stu-id="dc0d0-233">Each `League` object has a `Name` and a collection of `Division` objects.</span></span> <span data-ttu-id="dc0d0-234">Chaque `Division` a un `Name` et une collection d’objets `Team` et chaque objet `Team` a un `Name`.</span><span class="sxs-lookup"><span data-stu-id="dc0d0-234">Each `Division` has a `Name` and a collection of `Team` objects, and each `Team` object has a `Name`.</span></span>

 [!code-xaml[HierarchicalDataTemplateSnippet#HDT](~/samples/snippets/csharp/VS_Snippets_Wpf/HierarchicalDataTemplateSnippet/CS/window1.xaml#hdt)]

 <span data-ttu-id="dc0d0-235">L’exemple montre qu’avec l’utilisation de , vous pouvez facilement afficher des <xref:System.Windows.HierarchicalDataTemplate>données de liste qui contient d’autres listes.</span><span class="sxs-lookup"><span data-stu-id="dc0d0-235">The example shows that with the use of <xref:System.Windows.HierarchicalDataTemplate>, you can easily display list data that contains other lists.</span></span> <span data-ttu-id="dc0d0-236">Voici une capture d’écran de l’exemple.</span><span class="sxs-lookup"><span data-stu-id="dc0d0-236">The following is a screenshot of the example.</span></span>

 <span data-ttu-id="dc0d0-237">![HiérarchicalDataTemplate capture d’écran de l’échantillon](./media/databinding-hierarchicaldatatemplate.png "DataBinding_HierarchicalDataTemplate")</span><span class="sxs-lookup"><span data-stu-id="dc0d0-237">![HierarchicalDataTemplate sample screenshot](./media/databinding-hierarchicaldatatemplate.png "DataBinding_HierarchicalDataTemplate")</span></span>

## <a name="see-also"></a><span data-ttu-id="dc0d0-238">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="dc0d0-238">See also</span></span>

- [<span data-ttu-id="dc0d0-239">Liaison de données</span><span class="sxs-lookup"><span data-stu-id="dc0d0-239">Data Binding</span></span>](../advanced/optimizing-performance-data-binding.md)
- [<span data-ttu-id="dc0d0-240">Trouver des éléments générés par DataTemplate</span><span class="sxs-lookup"><span data-stu-id="dc0d0-240">Find DataTemplate-Generated Elements</span></span>](how-to-find-datatemplate-generated-elements.md)
- [<span data-ttu-id="dc0d0-241">Application d’un style et création de modèles</span><span class="sxs-lookup"><span data-stu-id="dc0d0-241">Styling and Templating</span></span>](../../../desktop-wpf/fundamentals/styles-templates-overview.md)
- [<span data-ttu-id="dc0d0-242">Aperçu de la liaison de données</span><span class="sxs-lookup"><span data-stu-id="dc0d0-242">Data Binding Overview</span></span>](../../../desktop-wpf/data/data-binding-overview.md)
- [<span data-ttu-id="dc0d0-243">Vue d’ensemble des modèles et styles d’en-tête de colonne GridView</span><span class="sxs-lookup"><span data-stu-id="dc0d0-243">GridView Column Header Styles and Templates Overview</span></span>](../controls/gridview-column-header-styles-and-templates-overview.md)
