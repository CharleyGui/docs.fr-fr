---
title: Vue d'ensemble des modèles de données
description: Explorez la flexibilité du modèle de création de modèles de données qui définissent la présentation de vos données dans Windows Presentation Foundation (WPF).
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- data binding [WPF], templates
- binding data [WPF], templates
- templates [WPF], data
- data templates [WPF]
ms.assetid: 0f4d9f8c-0230-4013-bd7b-e8e7fed01b4a
ms.openlocfilehash: 0226085a82cf97ea799a5a2d38e879b239d9b52a
ms.sourcegitcommit: e02d17b2cf9c1258dadda4810a5e6072a0089aee
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 07/01/2020
ms.locfileid: "85619648"
---
# <a name="data-templating-overview"></a><span data-ttu-id="fcfe1-103">Vue d'ensemble des modèles de données</span><span class="sxs-lookup"><span data-stu-id="fcfe1-103">Data Templating Overview</span></span>
<span data-ttu-id="fcfe1-104">Le modèle de création de modèles de données WPF offre une grande souplesse pour définir la présentation des données.</span><span class="sxs-lookup"><span data-stu-id="fcfe1-104">The WPF data templating model provides you with great flexibility to define the presentation of your data.</span></span> <span data-ttu-id="fcfe1-105">Les contrôles WPF possèdent des fonctionnalités intégrées permettant de prendre en charge la personnalisation de la présentation des données.</span><span class="sxs-lookup"><span data-stu-id="fcfe1-105">WPF controls have built-in functionality to support the customization of data presentation.</span></span> <span data-ttu-id="fcfe1-106">Cette rubrique explique d’abord comment définir un, puis <xref:System.Windows.DataTemplate> introduit d’autres fonctionnalités de création de modèles de données, telles que la sélection de modèles en fonction de la logique personnalisée et la prise en charge de l’affichage des données hiérarchiques.</span><span class="sxs-lookup"><span data-stu-id="fcfe1-106">This topic first demonstrates how to define a <xref:System.Windows.DataTemplate> and then introduces other data templating features, such as the selection of templates based on custom logic and the support for the display of hierarchical data.</span></span>

<a name="Prerequisites"></a>
## <a name="prerequisites"></a><span data-ttu-id="fcfe1-107">Prérequis</span><span class="sxs-lookup"><span data-stu-id="fcfe1-107">Prerequisites</span></span>
 <span data-ttu-id="fcfe1-108">Cette rubrique porte sur les fonctionnalités de création de modèles de données ; elle ne constitue pas une introduction aux concepts de liaison de données.</span><span class="sxs-lookup"><span data-stu-id="fcfe1-108">This topic focuses on data templating features and is not an introduction of data binding concepts.</span></span> <span data-ttu-id="fcfe1-109">Pour plus d’informations sur les concepts de base de la liaison de données, consultez la [Vue d’ensemble de la liaison de données](../../../desktop-wpf/data/data-binding-overview.md).</span><span class="sxs-lookup"><span data-stu-id="fcfe1-109">For information about basic data binding concepts, see the [Data Binding Overview](../../../desktop-wpf/data/data-binding-overview.md).</span></span>

 <span data-ttu-id="fcfe1-110"><xref:System.Windows.DataTemplate>concerne la présentation des données et est l’une des nombreuses fonctionnalités fournies par le modèle de création de styles et de modèles WPF.</span><span class="sxs-lookup"><span data-stu-id="fcfe1-110"><xref:System.Windows.DataTemplate> is about the presentation of data and is one of the many features provided by the WPF styling and templating model.</span></span> <span data-ttu-id="fcfe1-111">Pour une introduction au modèle de création de styles et de modèles WPF, comme l’utilisation d’un <xref:System.Windows.Style> pour définir des propriétés sur les contrôles, consultez la rubrique [style et création de modèles](../../../desktop-wpf/fundamentals/styles-templates-overview.md) .</span><span class="sxs-lookup"><span data-stu-id="fcfe1-111">For an introduction of the WPF styling and templating model, such as how to use a <xref:System.Windows.Style> to set properties on controls, see the [Styling and Templating](../../../desktop-wpf/fundamentals/styles-templates-overview.md) topic.</span></span>

 <span data-ttu-id="fcfe1-112">En outre, il est important de comprendre `Resources` , ce qui est essentiellement ce qui permet de réutiliser des objets tels que <xref:System.Windows.Style> et <xref:System.Windows.DataTemplate> .</span><span class="sxs-lookup"><span data-stu-id="fcfe1-112">In addition, it is important to understand `Resources`, which are essentially what enable objects such as <xref:System.Windows.Style> and <xref:System.Windows.DataTemplate> to be reusable.</span></span> <span data-ttu-id="fcfe1-113">Pour plus d’informations sur les ressources, consultez la page [Ressources XAML](../../../desktop-wpf/fundamentals/xaml-resources-define.md).</span><span class="sxs-lookup"><span data-stu-id="fcfe1-113">For more information on resources, see [XAML Resources](../../../desktop-wpf/fundamentals/xaml-resources-define.md).</span></span>

<a name="DataTemplating_Basic"></a>
## <a name="data-templating-basics"></a><span data-ttu-id="fcfe1-114">Informations de base sur la création de modèles de données</span><span class="sxs-lookup"><span data-stu-id="fcfe1-114">Data Templating Basics</span></span>

 <span data-ttu-id="fcfe1-115">Pour illustrer la raison pour laquelle <xref:System.Windows.DataTemplate> est important, examinons un exemple de liaison de données.</span><span class="sxs-lookup"><span data-stu-id="fcfe1-115">To demonstrate why <xref:System.Windows.DataTemplate> is important, let's walk through a data binding example.</span></span> <span data-ttu-id="fcfe1-116">Dans cet exemple, nous avons un <xref:System.Windows.Controls.ListBox> qui est lié à une liste d' `Task` objets.</span><span class="sxs-lookup"><span data-stu-id="fcfe1-116">In this example, we have a <xref:System.Windows.Controls.ListBox> that is bound to a list of `Task` objects.</span></span> <span data-ttu-id="fcfe1-117">Chaque objet `Task` a un `TaskName` (chaîne), une `Description` (chaîne), une `Priority` (entier) et une propriété de type `TaskType`, qui est un `Enum` avec des valeurs `Home` et `Work`.</span><span class="sxs-lookup"><span data-stu-id="fcfe1-117">Each `Task` object has a `TaskName` (string), a `Description` (string), a `Priority` (int), and a property of type `TaskType`, which is an `Enum` with values `Home` and `Work`.</span></span>

 [!code-xaml[DataTemplatingIntro_snip#Resources](~/samples/snippets/csharp/VS_Snippets_Wpf/DataTemplatingIntro_snip/CSharp/Window1.xaml#resources)]
[!code-xaml[DataTemplatingIntro_snip#UI1](~/samples/snippets/csharp/VS_Snippets_Wpf/DataTemplatingIntro_snip/CSharp/Window1.xaml#ui1)]
[!code-xaml[DataTemplatingIntro_snip#UI2](~/samples/snippets/csharp/VS_Snippets_Wpf/DataTemplatingIntro_snip/CSharp/Window1.xaml#ui2)]

<a name="without_a_datatemplate"></a>
### <a name="without-a-datatemplate"></a><span data-ttu-id="fcfe1-118">Sans DataTemplate</span><span class="sxs-lookup"><span data-stu-id="fcfe1-118">Without a DataTemplate</span></span>
 <span data-ttu-id="fcfe1-119">Sans a <xref:System.Windows.DataTemplate> , notre <xref:System.Windows.Controls.ListBox> ressemble actuellement à ce qui suit :</span><span class="sxs-lookup"><span data-stu-id="fcfe1-119">Without a <xref:System.Windows.DataTemplate>, our <xref:System.Windows.Controls.ListBox> currently looks like this:</span></span>

 <span data-ttu-id="fcfe1-120">![Capture d’écran exemple de création de modèles de données](./media/datatemplatingintro-fig1.png "DataTemplatingIntro_fig1")</span><span class="sxs-lookup"><span data-stu-id="fcfe1-120">![Data templating sample screenshot](./media/datatemplatingintro-fig1.png "DataTemplatingIntro_fig1")</span></span>

 <span data-ttu-id="fcfe1-121">Ce qui se passe est que, sans instructions spécifiques, le <xref:System.Windows.Controls.ListBox> appelle par défaut `ToString` lors de la tentative d’affichage des objets dans la collection.</span><span class="sxs-lookup"><span data-stu-id="fcfe1-121">What's happening is that without any specific instructions, the <xref:System.Windows.Controls.ListBox> by default calls `ToString` when trying to display the objects in the collection.</span></span> <span data-ttu-id="fcfe1-122">Par conséquent, si l' `Task` objet substitue la `ToString` méthode, le <xref:System.Windows.Controls.ListBox> affiche la représentation sous forme de chaîne de chaque objet source de la collection sous-jacente.</span><span class="sxs-lookup"><span data-stu-id="fcfe1-122">Therefore, if the `Task` object overrides the `ToString` method, then the <xref:System.Windows.Controls.ListBox> displays the string representation of each source object in the underlying collection.</span></span>

 <span data-ttu-id="fcfe1-123">Par exemple, si la classe `Task` remplace la méthode `ToString` de cette façon, où `name` correspond au champ de la propriété `TaskName` :</span><span class="sxs-lookup"><span data-stu-id="fcfe1-123">For example, if the `Task` class overrides the `ToString` method this way, where `name` is the field for the `TaskName` property:</span></span>

 [!code-csharp[DataTemplatingIntro_snip#ToString](~/samples/snippets/csharp/VS_Snippets_Wpf/DataTemplatingIntro_snip/CSharp/Data.cs#tostring)]
 [!code-vb[DataTemplatingIntro_snip#ToString](~/samples/snippets/visualbasic/VS_Snippets_Wpf/DataTemplatingIntro_snip/visualbasic/data.vb#tostring)]

 <span data-ttu-id="fcfe1-124">L' <xref:System.Windows.Controls.ListBox> exemple ressemble à ce qui suit :</span><span class="sxs-lookup"><span data-stu-id="fcfe1-124">Then the <xref:System.Windows.Controls.ListBox> looks like the following:</span></span>

 <span data-ttu-id="fcfe1-125">![Capture d’écran exemple de création de modèles de données](./media/datatemplatingintro-fig2.png "DataTemplatingIntro_fig2")</span><span class="sxs-lookup"><span data-stu-id="fcfe1-125">![Data templating sample screenshot](./media/datatemplatingintro-fig2.png "DataTemplatingIntro_fig2")</span></span>

 <span data-ttu-id="fcfe1-126">Toutefois, cet affichage est restrictif et rigide.</span><span class="sxs-lookup"><span data-stu-id="fcfe1-126">However, that is limiting and inflexible.</span></span> <span data-ttu-id="fcfe1-127">En outre, si vous effectuez une liaison à des données XML, vous ne seriez pas en mesure de substituer `ToString` .</span><span class="sxs-lookup"><span data-stu-id="fcfe1-127">Also, if you are binding to XML data, you wouldn't be able to override `ToString`.</span></span>

<a name="defining_simple_datatemplate"></a>
### <a name="defining-a-simple-datatemplate"></a><span data-ttu-id="fcfe1-128">Définir un DataTemplate simple</span><span class="sxs-lookup"><span data-stu-id="fcfe1-128">Defining a Simple DataTemplate</span></span>
 <span data-ttu-id="fcfe1-129">La solution consiste à définir un <xref:System.Windows.DataTemplate> .</span><span class="sxs-lookup"><span data-stu-id="fcfe1-129">The solution is to define a <xref:System.Windows.DataTemplate>.</span></span> <span data-ttu-id="fcfe1-130">Pour ce faire, vous pouvez affecter la valeur à la <xref:System.Windows.Controls.ItemsControl.ItemTemplate%2A> propriété de <xref:System.Windows.Controls.ListBox> <xref:System.Windows.DataTemplate> .</span><span class="sxs-lookup"><span data-stu-id="fcfe1-130">One way to do that is to set the <xref:System.Windows.Controls.ItemsControl.ItemTemplate%2A> property of the <xref:System.Windows.Controls.ListBox> to a <xref:System.Windows.DataTemplate>.</span></span> <span data-ttu-id="fcfe1-131">Ce que vous spécifiez dans votre <xref:System.Windows.DataTemplate> devient la structure visuelle de votre objet de données.</span><span class="sxs-lookup"><span data-stu-id="fcfe1-131">What you specify in your <xref:System.Windows.DataTemplate> becomes the visual structure of your data object.</span></span> <span data-ttu-id="fcfe1-132">Les éléments suivants <xref:System.Windows.DataTemplate> sont assez simples.</span><span class="sxs-lookup"><span data-stu-id="fcfe1-132">The following <xref:System.Windows.DataTemplate> is fairly simple.</span></span> <span data-ttu-id="fcfe1-133">Nous offrons des instructions indiquant que chaque élément apparaît sous la forme de trois <xref:System.Windows.Controls.TextBlock> éléments dans un <xref:System.Windows.Controls.StackPanel> .</span><span class="sxs-lookup"><span data-stu-id="fcfe1-133">We are giving instructions that each item appears as three <xref:System.Windows.Controls.TextBlock> elements within a <xref:System.Windows.Controls.StackPanel>.</span></span> <span data-ttu-id="fcfe1-134">Chaque <xref:System.Windows.Controls.TextBlock> élément est lié à une propriété de la `Task` classe.</span><span class="sxs-lookup"><span data-stu-id="fcfe1-134">Each <xref:System.Windows.Controls.TextBlock> element is bound to a property of the `Task` class.</span></span>

 [!code-xaml[DataTemplatingIntro_snip#Inline](~/samples/snippets/csharp/VS_Snippets_Wpf/DataTemplatingIntro_snip/CSharp/Window1.xaml#inline)]

 <span data-ttu-id="fcfe1-135">Les données sous-jacentes pour les exemples de cette rubrique sont une collection d’objets CLR.</span><span class="sxs-lookup"><span data-stu-id="fcfe1-135">The underlying data for the examples in this topic is a collection of CLR objects.</span></span> <span data-ttu-id="fcfe1-136">Si vous effectuez une liaison à des données XML, les concepts fondamentaux sont les mêmes, mais il existe une légère différence syntaxique.</span><span class="sxs-lookup"><span data-stu-id="fcfe1-136">If you are binding to XML data, the fundamental concepts are the same, but there is a slight syntactic difference.</span></span> <span data-ttu-id="fcfe1-137">Par exemple, au lieu d’avoir `Path=TaskName` , vous devez affecter <xref:System.Windows.Data.Binding.XPath%2A> à la valeur `@TaskName` (si `TaskName` est un attribut de votre nœud XML).</span><span class="sxs-lookup"><span data-stu-id="fcfe1-137">For example, instead of having `Path=TaskName`, you would set <xref:System.Windows.Data.Binding.XPath%2A> to `@TaskName` (if `TaskName` is an attribute of your XML node).</span></span>

 <span data-ttu-id="fcfe1-138">À présent, notre <xref:System.Windows.Controls.ListBox> ressemble à ceci :</span><span class="sxs-lookup"><span data-stu-id="fcfe1-138">Now our <xref:System.Windows.Controls.ListBox> looks like the following:</span></span>

 <span data-ttu-id="fcfe1-139">![Capture d’écran exemple de création de modèles de données](./media/datatemplatingintro-fig3.png "DataTemplatingIntro_fig3")</span><span class="sxs-lookup"><span data-stu-id="fcfe1-139">![Data templating sample screenshot](./media/datatemplatingintro-fig3.png "DataTemplatingIntro_fig3")</span></span>

<a name="defining_datatemplate_as_a_resource"></a>
### <a name="creating-the-datatemplate-as-a-resource"></a><span data-ttu-id="fcfe1-140">Créer un DataTemplate comme ressource</span><span class="sxs-lookup"><span data-stu-id="fcfe1-140">Creating the DataTemplate as a Resource</span></span>
 <span data-ttu-id="fcfe1-141">Dans l’exemple ci-dessus, nous avons défini l' <xref:System.Windows.DataTemplate> Inline.</span><span class="sxs-lookup"><span data-stu-id="fcfe1-141">In the above example, we defined the <xref:System.Windows.DataTemplate> inline.</span></span> <span data-ttu-id="fcfe1-142">Il est plus courant de le définir dans la section des ressources afin d’en faire un objet réutilisable, comme dans l’exemple suivant :</span><span class="sxs-lookup"><span data-stu-id="fcfe1-142">It is more common to define it in the resources section so it can be a reusable object, as in the following example:</span></span>

 [!code-xaml[DataTemplatingIntro_snip#R1](~/samples/snippets/csharp/VS_Snippets_Wpf/DataTemplatingIntro_snip/CSharp/Window1.xaml#r1)]
[!code-xaml[DataTemplatingIntro_snip#AsResource](~/samples/snippets/csharp/VS_Snippets_Wpf/DataTemplatingIntro_snip/CSharp/Window1.xaml#asresource)]
[!code-xaml[DataTemplatingIntro_snip#R2](~/samples/snippets/csharp/VS_Snippets_Wpf/DataTemplatingIntro_snip/CSharp/Window1.xaml#r2)]

 <span data-ttu-id="fcfe1-143">Vous pouvez à présent utiliser `myTaskTemplate` comme ressource, comme dans l’exemple suivant :</span><span class="sxs-lookup"><span data-stu-id="fcfe1-143">Now you can use `myTaskTemplate` as a resource, as in the following example:</span></span>

 [!code-xaml[DataTemplatingIntro_snip#MyTaskTemplate](~/samples/snippets/csharp/VS_Snippets_Wpf/DataTemplatingIntro_snip/CSharp/Window1.xaml#mytasktemplate)]

 <span data-ttu-id="fcfe1-144">Étant donné que `myTaskTemplate` est une ressource, vous pouvez maintenant l’utiliser sur d’autres contrôles qui ont une propriété qui prend un <xref:System.Windows.DataTemplate> type.</span><span class="sxs-lookup"><span data-stu-id="fcfe1-144">Because `myTaskTemplate` is a resource, you can now use it on other controls that have a property that takes a <xref:System.Windows.DataTemplate> type.</span></span> <span data-ttu-id="fcfe1-145">Comme indiqué ci-dessus, pour les <xref:System.Windows.Controls.ItemsControl> objets, tels que <xref:System.Windows.Controls.ListBox> , il s’agit de la <xref:System.Windows.Controls.ItemsControl.ItemTemplate%2A> propriété.</span><span class="sxs-lookup"><span data-stu-id="fcfe1-145">As shown above, for <xref:System.Windows.Controls.ItemsControl> objects, such as the <xref:System.Windows.Controls.ListBox>, it is the <xref:System.Windows.Controls.ItemsControl.ItemTemplate%2A> property.</span></span> <span data-ttu-id="fcfe1-146">Pour <xref:System.Windows.Controls.ContentControl> les objets, il s’agit de la <xref:System.Windows.Controls.ContentControl.ContentTemplate%2A> propriété.</span><span class="sxs-lookup"><span data-stu-id="fcfe1-146">For <xref:System.Windows.Controls.ContentControl> objects, it is the <xref:System.Windows.Controls.ContentControl.ContentTemplate%2A> property.</span></span>

<a name="Styling_DataType"></a>
### <a name="the-datatype-property"></a><span data-ttu-id="fcfe1-147">La propriété DataType</span><span class="sxs-lookup"><span data-stu-id="fcfe1-147">The DataType Property</span></span>
 <span data-ttu-id="fcfe1-148">La <xref:System.Windows.DataTemplate> classe a une <xref:System.Windows.DataTemplate.DataType%2A> propriété qui est très similaire à la <xref:System.Windows.Style.TargetType%2A> propriété de la <xref:System.Windows.Style> classe.</span><span class="sxs-lookup"><span data-stu-id="fcfe1-148">The <xref:System.Windows.DataTemplate> class has a <xref:System.Windows.DataTemplate.DataType%2A> property that is very similar to the <xref:System.Windows.Style.TargetType%2A> property of the <xref:System.Windows.Style> class.</span></span> <span data-ttu-id="fcfe1-149">Par conséquent, au lieu de spécifier un `x:Key` pour le <xref:System.Windows.DataTemplate> dans l’exemple ci-dessus, vous pouvez effectuer les opérations suivantes :</span><span class="sxs-lookup"><span data-stu-id="fcfe1-149">Therefore, instead of specifying an `x:Key` for the <xref:System.Windows.DataTemplate> in the above example, you can do the following:</span></span>

 [!code-xaml[DataTemplatingIntro_snip#DataType](~/samples/snippets/csharp/VS_Snippets_Wpf/DataTemplatingIntro_snip/CSharp/Window1.xaml#datatype)]

 <span data-ttu-id="fcfe1-150">Cette <xref:System.Windows.DataTemplate> valeur est appliquée automatiquement à tous les `Task` objets.</span><span class="sxs-lookup"><span data-stu-id="fcfe1-150">This <xref:System.Windows.DataTemplate> gets applied automatically to all `Task` objects.</span></span> <span data-ttu-id="fcfe1-151">Notez que, dans ce cas, la `x:Key` est définie implicitement.</span><span class="sxs-lookup"><span data-stu-id="fcfe1-151">Note that in this case the `x:Key` is set implicitly.</span></span> <span data-ttu-id="fcfe1-152">Par conséquent, si vous affectez cette <xref:System.Windows.DataTemplate> `x:Key` valeur, vous substituez le implicite `x:Key` et le <xref:System.Windows.DataTemplate> n’est pas appliqué automatiquement.</span><span class="sxs-lookup"><span data-stu-id="fcfe1-152">Therefore, if you assign this <xref:System.Windows.DataTemplate> an `x:Key` value, you are overriding the implicit `x:Key` and the <xref:System.Windows.DataTemplate> would not be applied automatically.</span></span>

 <span data-ttu-id="fcfe1-153">Si vous liez un <xref:System.Windows.Controls.ContentControl> à une collection d' `Task` objets, le <xref:System.Windows.Controls.ContentControl> n’utilise pas automatiquement les éléments ci-dessus <xref:System.Windows.DataTemplate> .</span><span class="sxs-lookup"><span data-stu-id="fcfe1-153">If you are binding a <xref:System.Windows.Controls.ContentControl> to a collection of `Task` objects, the <xref:System.Windows.Controls.ContentControl> does not use the above <xref:System.Windows.DataTemplate> automatically.</span></span> <span data-ttu-id="fcfe1-154">Cela est dû au fait que la liaison sur un <xref:System.Windows.Controls.ContentControl> nécessite davantage d’informations pour distinguer si vous souhaitez effectuer une liaison à une collection entière ou aux objets individuels.</span><span class="sxs-lookup"><span data-stu-id="fcfe1-154">This is because the binding on a <xref:System.Windows.Controls.ContentControl> needs more information to distinguish whether you want to bind to an entire collection or the individual objects.</span></span> <span data-ttu-id="fcfe1-155">Si votre <xref:System.Windows.Controls.ContentControl> effectue le suivi de la sélection d’un <xref:System.Windows.Controls.ItemsControl> type, vous pouvez définir la <xref:System.Windows.Data.Binding.Path%2A> propriété de la <xref:System.Windows.Controls.ContentControl> liaison sur « `/` » pour indiquer que vous êtes intéressé par l’élément actuel.</span><span class="sxs-lookup"><span data-stu-id="fcfe1-155">If your <xref:System.Windows.Controls.ContentControl> is tracking the selection of an <xref:System.Windows.Controls.ItemsControl> type, you can set the <xref:System.Windows.Data.Binding.Path%2A> property of the <xref:System.Windows.Controls.ContentControl> binding to "`/`" to indicate that you are interested in the current item.</span></span> <span data-ttu-id="fcfe1-156">Vous trouverez un exemple sur la page [Effectuer une liaison à une collection et afficher des informations en fonction de la sélection](how-to-bind-to-a-collection-and-display-information-based-on-selection.md).</span><span class="sxs-lookup"><span data-stu-id="fcfe1-156">For an example, see [Bind to a Collection and Display Information Based on Selection](how-to-bind-to-a-collection-and-display-information-based-on-selection.md).</span></span> <span data-ttu-id="fcfe1-157">Dans le cas contraire, vous devez spécifier <xref:System.Windows.DataTemplate> explicitement en définissant la <xref:System.Windows.Controls.ContentControl.ContentTemplate%2A> propriété.</span><span class="sxs-lookup"><span data-stu-id="fcfe1-157">Otherwise, you need to specify the <xref:System.Windows.DataTemplate> explicitly by setting the <xref:System.Windows.Controls.ContentControl.ContentTemplate%2A> property.</span></span>

 <span data-ttu-id="fcfe1-158">La <xref:System.Windows.DataTemplate.DataType%2A> propriété est particulièrement utile lorsque vous avez un <xref:System.Windows.Data.CompositeCollection> des différents types d’objets de données.</span><span class="sxs-lookup"><span data-stu-id="fcfe1-158">The <xref:System.Windows.DataTemplate.DataType%2A> property is particularly useful when you have a <xref:System.Windows.Data.CompositeCollection> of different types of data objects.</span></span> <span data-ttu-id="fcfe1-159">Vous trouverez un exemple sur la page [Implémenter une CompositeCollection](how-to-implement-a-compositecollection.md).</span><span class="sxs-lookup"><span data-stu-id="fcfe1-159">For an example, see [Implement a CompositeCollection](how-to-implement-a-compositecollection.md).</span></span>

<a name="adding_more_to_datatemplate"></a>
## <a name="adding-more-to-the-datatemplate"></a><span data-ttu-id="fcfe1-160">Ajouter d’autres informations au DataTemplate</span><span class="sxs-lookup"><span data-stu-id="fcfe1-160">Adding More to the DataTemplate</span></span>
 <span data-ttu-id="fcfe1-161">Actuellement, les données s’affichent avec les informations nécessaires, mais on peut sans problème aller plus loin.</span><span class="sxs-lookup"><span data-stu-id="fcfe1-161">Currently the data appears with the necessary information, but there's definitely room for improvement.</span></span> <span data-ttu-id="fcfe1-162">Nous allons améliorer la présentation en ajoutant un <xref:System.Windows.Controls.Border> , un <xref:System.Windows.Controls.Grid> et certains <xref:System.Windows.Controls.TextBlock> éléments qui décrivent les données affichées.</span><span class="sxs-lookup"><span data-stu-id="fcfe1-162">Let's improve on the presentation by adding a <xref:System.Windows.Controls.Border>, a <xref:System.Windows.Controls.Grid>, and some <xref:System.Windows.Controls.TextBlock> elements that describe the data that is being displayed.</span></span>

 [!code-xaml[DataTemplatingIntro#AddingMore](~/samples/snippets/xaml/VS_Snippets_Wpf/DataTemplatingIntro/xaml/window1.xaml#addingmore)]
[!code-xaml[DataTemplatingIntro#AddingMore2](~/samples/snippets/xaml/VS_Snippets_Wpf/DataTemplatingIntro/xaml/window1.xaml#addingmore2)]

 <span data-ttu-id="fcfe1-163">La capture d’écran suivante montre le <xref:System.Windows.Controls.ListBox> avec ce modifié <xref:System.Windows.DataTemplate> :</span><span class="sxs-lookup"><span data-stu-id="fcfe1-163">The following screenshot shows the <xref:System.Windows.Controls.ListBox> with this modified <xref:System.Windows.DataTemplate>:</span></span>

 <span data-ttu-id="fcfe1-164">![Capture d’écran exemple de création de modèles de données](./media/datatemplatingintro-fig4.png "DataTemplatingIntro_fig4")</span><span class="sxs-lookup"><span data-stu-id="fcfe1-164">![Data templating sample screenshot](./media/datatemplatingintro-fig4.png "DataTemplatingIntro_fig4")</span></span>

 <span data-ttu-id="fcfe1-165">Nous pouvons définir <xref:System.Windows.Controls.Control.HorizontalContentAlignment%2A> sur <xref:System.Windows.HorizontalAlignment.Stretch> sur <xref:System.Windows.Controls.ListBox> pour s’assurer que la largeur des éléments occupe tout l’espace :</span><span class="sxs-lookup"><span data-stu-id="fcfe1-165">We can set <xref:System.Windows.Controls.Control.HorizontalContentAlignment%2A> to <xref:System.Windows.HorizontalAlignment.Stretch> on the <xref:System.Windows.Controls.ListBox> to make sure the width of the items takes up the entire space:</span></span>

 [!code-xaml[DataTemplatingIntro_snip#Stretch](~/samples/snippets/csharp/VS_Snippets_Wpf/DataTemplatingIntro_snip/CSharp/Window1.xaml#stretch)]

 <span data-ttu-id="fcfe1-166">La propriété ayant la <xref:System.Windows.Controls.Control.HorizontalContentAlignment%2A> valeur <xref:System.Windows.HorizontalAlignment.Stretch> , se <xref:System.Windows.Controls.ListBox> présente désormais comme suit :</span><span class="sxs-lookup"><span data-stu-id="fcfe1-166">With the <xref:System.Windows.Controls.Control.HorizontalContentAlignment%2A> property set to <xref:System.Windows.HorizontalAlignment.Stretch>, the <xref:System.Windows.Controls.ListBox> now looks like this:</span></span>

 <span data-ttu-id="fcfe1-167">![Capture d’écran exemple de création de modèles de données](./media/datatemplatingintro-fig5.png "DataTemplatingIntro_fig5")</span><span class="sxs-lookup"><span data-stu-id="fcfe1-167">![Data templating sample screenshot](./media/datatemplatingintro-fig5.png "DataTemplatingIntro_fig5")</span></span>

<a name="DataTrigger_to_Apply_Property_Values"></a>
### <a name="use-datatriggers-to-apply-property-values"></a><span data-ttu-id="fcfe1-168">Utiliser DataTrigger pour appliquer des valeurs de propriété</span><span class="sxs-lookup"><span data-stu-id="fcfe1-168">Use DataTriggers to Apply Property Values</span></span>
 <span data-ttu-id="fcfe1-169">La présentation actuelle n’indique pas si une `Task` est une tâche privée ou une tâche professionnelle.</span><span class="sxs-lookup"><span data-stu-id="fcfe1-169">The current presentation does not tell us whether a `Task` is a home task or an office task.</span></span> <span data-ttu-id="fcfe1-170">N’oubliez pas que l’objet `Task` a une propriété `TaskType` de type `TaskType`, qui est une énumération avec les valeurs `Home` et `Work`.</span><span class="sxs-lookup"><span data-stu-id="fcfe1-170">Remember that the `Task` object has a `TaskType` property of type `TaskType`, which is an enumeration with values `Home` and `Work`.</span></span>

 <span data-ttu-id="fcfe1-171">Dans l’exemple suivant, le <xref:System.Windows.DataTrigger> définit le <xref:System.Windows.Controls.Border.BorderBrush%2A> de l’élément nommé `border` sur `Yellow` si la `TaskType` propriété a la valeur `TaskType.Home` .</span><span class="sxs-lookup"><span data-stu-id="fcfe1-171">In the following example, the <xref:System.Windows.DataTrigger> sets the <xref:System.Windows.Controls.Border.BorderBrush%2A> of the element named `border` to `Yellow` if the `TaskType` property is `TaskType.Home`.</span></span>

 [!code-xaml[DataTemplatingIntro#DT](~/samples/snippets/xaml/VS_Snippets_Wpf/DataTemplatingIntro/xaml/window1.xaml#dt)]
[!code-xaml[DataTemplatingIntro#DataTrigger](~/samples/snippets/xaml/VS_Snippets_Wpf/DataTemplatingIntro/xaml/window1.xaml#datatrigger)]
[!code-xaml[DataTemplatingIntro#AddingMore2](~/samples/snippets/xaml/VS_Snippets_Wpf/DataTemplatingIntro/xaml/window1.xaml#addingmore2)]

 <span data-ttu-id="fcfe1-172">Notre application se présente maintenant ainsi.</span><span class="sxs-lookup"><span data-stu-id="fcfe1-172">Our application now looks like the following.</span></span> <span data-ttu-id="fcfe1-173">Les tâches privées apparaissent avec une bordure jaune et les tâches professionnelles avec une bordure cyan :</span><span class="sxs-lookup"><span data-stu-id="fcfe1-173">Home tasks appear with a yellow border and office tasks appear with an aqua border:</span></span>

 <span data-ttu-id="fcfe1-174">![Capture d’écran exemple de création de modèles de données](./media/datatemplatingintro-fig6.png "DataTemplatingIntro_fig6")</span><span class="sxs-lookup"><span data-stu-id="fcfe1-174">![Data templating sample screenshot](./media/datatemplatingintro-fig6.png "DataTemplatingIntro_fig6")</span></span>

 <span data-ttu-id="fcfe1-175">Dans cet exemple, <xref:System.Windows.DataTrigger> utilise un <xref:System.Windows.Setter> pour définir une valeur de propriété.</span><span class="sxs-lookup"><span data-stu-id="fcfe1-175">In this example the <xref:System.Windows.DataTrigger> uses a <xref:System.Windows.Setter> to set a property value.</span></span> <span data-ttu-id="fcfe1-176">Les classes de déclencheur ont également les <xref:System.Windows.TriggerBase.EnterActions%2A> <xref:System.Windows.TriggerBase.ExitActions%2A> Propriétés et qui vous permettent de démarrer un ensemble d’actions, telles que des animations.</span><span class="sxs-lookup"><span data-stu-id="fcfe1-176">The trigger classes also have the <xref:System.Windows.TriggerBase.EnterActions%2A> and <xref:System.Windows.TriggerBase.ExitActions%2A> properties that allow you to start a set of actions such as animations.</span></span> <span data-ttu-id="fcfe1-177">En outre, il existe également une <xref:System.Windows.MultiDataTrigger> classe qui vous permet d’appliquer des modifications en fonction de plusieurs valeurs de propriété liées aux données.</span><span class="sxs-lookup"><span data-stu-id="fcfe1-177">In addition, there is also a <xref:System.Windows.MultiDataTrigger> class that allows you to apply changes based on multiple data-bound property values.</span></span>

 <span data-ttu-id="fcfe1-178">Une autre façon d’obtenir le même effet consiste à lier la <xref:System.Windows.Controls.Border.BorderBrush%2A> propriété à la `TaskType` propriété et à utiliser un convertisseur de valeur pour retourner la couleur en fonction de la `TaskType` valeur.</span><span class="sxs-lookup"><span data-stu-id="fcfe1-178">An alternative way to achieve the same effect is to bind the <xref:System.Windows.Controls.Border.BorderBrush%2A> property to the `TaskType` property and use a value converter to return the color based on the `TaskType` value.</span></span> <span data-ttu-id="fcfe1-179">Du point de vue des performances, il est légèrement plus efficace d’utiliser un convertisseur pour produire cet effet.</span><span class="sxs-lookup"><span data-stu-id="fcfe1-179">Creating the above effect using a converter is slightly more efficient in terms of performance.</span></span> <span data-ttu-id="fcfe1-180">En outre, le fait de créer votre propre convertisseur vous offre plus de souplesse, car vous fournissez votre propre logique.</span><span class="sxs-lookup"><span data-stu-id="fcfe1-180">Additionally, creating your own converter gives you more flexibility because you are supplying your own logic.</span></span> <span data-ttu-id="fcfe1-181">En somme, la technique choisie dépend du scénario et des préférences.</span><span class="sxs-lookup"><span data-stu-id="fcfe1-181">Ultimately, which technique you choose depends on your scenario and your preference.</span></span> <span data-ttu-id="fcfe1-182">Pour plus d’informations sur l’écriture d’un convertisseur, consultez <xref:System.Windows.Data.IValueConverter> .</span><span class="sxs-lookup"><span data-stu-id="fcfe1-182">For information about how to write a converter, see <xref:System.Windows.Data.IValueConverter>.</span></span>

<a name="what_belongs_in_datatemplate"></a>
### <a name="what-belongs-in-a-datatemplate"></a><span data-ttu-id="fcfe1-183">Que contient un DataTemplate ?</span><span class="sxs-lookup"><span data-stu-id="fcfe1-183">What Belongs in a DataTemplate?</span></span>

<span data-ttu-id="fcfe1-184">Dans l’exemple précédent, nous avons placé le déclencheur dans le <xref:System.Windows.DataTemplate> à l’aide de la <xref:System.Windows.DataTemplate.Triggers%2A?displayProperty=nameWithType> propriété.</span><span class="sxs-lookup"><span data-stu-id="fcfe1-184">In the previous example, we placed the trigger within the <xref:System.Windows.DataTemplate> using the <xref:System.Windows.DataTemplate.Triggers%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="fcfe1-185">Le <xref:System.Windows.Setter> du déclencheur définit la valeur d’une propriété d’un élément (l' <xref:System.Windows.Controls.Border> élément) qui se trouve dans le <xref:System.Windows.DataTemplate> .</span><span class="sxs-lookup"><span data-stu-id="fcfe1-185">The <xref:System.Windows.Setter> of the trigger sets the value of a property of an element (the <xref:System.Windows.Controls.Border> element) that is within the <xref:System.Windows.DataTemplate>.</span></span> <span data-ttu-id="fcfe1-186">Toutefois, si les propriétés qui vous intéressent ne `Setters` sont pas des propriétés des éléments qui se trouvent dans le actuel <xref:System.Windows.DataTemplate> , il peut être plus approprié de définir les propriétés à l’aide d’un <xref:System.Windows.Style> qui est pour la <xref:System.Windows.Controls.ListBoxItem> classe (si le contrôle que vous liez est un <xref:System.Windows.Controls.ListBox> ).</span><span class="sxs-lookup"><span data-stu-id="fcfe1-186">However, if the properties that your `Setters` are concerned with are not properties of elements that are within the current <xref:System.Windows.DataTemplate>, it may be more suitable to set the properties using a <xref:System.Windows.Style> that is for the <xref:System.Windows.Controls.ListBoxItem> class (if the control you are binding is a <xref:System.Windows.Controls.ListBox>).</span></span> <span data-ttu-id="fcfe1-187">Par exemple, si vous souhaitez que votre effectue <xref:System.Windows.Trigger> l’animation <xref:System.Windows.UIElement.Opacity%2A> de la valeur de l’élément quand une souris pointe sur un élément, vous définissez des déclencheurs dans un <xref:System.Windows.Controls.ListBoxItem> style.</span><span class="sxs-lookup"><span data-stu-id="fcfe1-187">For example, if you want your <xref:System.Windows.Trigger> to animate the <xref:System.Windows.UIElement.Opacity%2A> value of the item when a mouse points to an item, you define triggers within a <xref:System.Windows.Controls.ListBoxItem> style.</span></span> <span data-ttu-id="fcfe1-188">Vous trouverez un exemple sur la page [Présentation d’un exemple de création de style et de modèle](https://github.com/Microsoft/WPF-Samples/tree/master/Styles%20&%20Templates/IntroToStylingAndTemplating).</span><span class="sxs-lookup"><span data-stu-id="fcfe1-188">For an example, see the [Introduction to Styling and Templating Sample](https://github.com/Microsoft/WPF-Samples/tree/master/Styles%20&%20Templates/IntroToStylingAndTemplating).</span></span>

 <span data-ttu-id="fcfe1-189">En général, gardez à l’esprit que le <xref:System.Windows.DataTemplate> est appliqué à chacun des générés <xref:System.Windows.Controls.ListBoxItem> (pour plus d’informations sur la façon et l’endroit où il est réellement appliqué, consultez la <xref:System.Windows.Controls.ItemsControl.ItemTemplate%2A> page.)</span><span class="sxs-lookup"><span data-stu-id="fcfe1-189">In general, keep in mind that the <xref:System.Windows.DataTemplate> is being applied to each of the generated <xref:System.Windows.Controls.ListBoxItem> (for more information about how and where it is actually applied, see the <xref:System.Windows.Controls.ItemsControl.ItemTemplate%2A> page.).</span></span> <span data-ttu-id="fcfe1-190">Vous vous <xref:System.Windows.DataTemplate> intéressez uniquement à la présentation et à l’apparence des objets de données.</span><span class="sxs-lookup"><span data-stu-id="fcfe1-190">Your <xref:System.Windows.DataTemplate> is concerned with only the presentation and appearance of the data objects.</span></span> <span data-ttu-id="fcfe1-191">Dans la plupart des cas, tous les autres aspects de la présentation, tels que l’apparence d’un élément quand il est sélectionné ou la manière dont le <xref:System.Windows.Controls.ListBox> dispose les éléments, n’appartiennent pas à la définition d’un <xref:System.Windows.DataTemplate> .</span><span class="sxs-lookup"><span data-stu-id="fcfe1-191">In most cases, all other aspects of presentation, such as what an item looks like when it is selected or how the <xref:System.Windows.Controls.ListBox> lays out the items, do not belong in the definition of a <xref:System.Windows.DataTemplate>.</span></span> <span data-ttu-id="fcfe1-192">Vous trouverez un exemple dans la section [Création de styles et de modèles pour un ItemsControl](#DataTemplating_ItemsControl).</span><span class="sxs-lookup"><span data-stu-id="fcfe1-192">For an example, see the [Styling and Templating an ItemsControl](#DataTemplating_ItemsControl) section.</span></span>

<a name="Styling_StyleSelection"></a>
## <a name="choosing-a-datatemplate-based-on-properties-of-the-data-object"></a><span data-ttu-id="fcfe1-193">Choisir un DataTemplate en fonction des propriétés de l’objet de données</span><span class="sxs-lookup"><span data-stu-id="fcfe1-193">Choosing a DataTemplate Based on Properties of the Data Object</span></span>
 <span data-ttu-id="fcfe1-194">Dans la section [La propriété DataType](#Styling_DataType), nous avons expliqué que vous pouvez définir différents modèles de données pour différents objets de données.</span><span class="sxs-lookup"><span data-stu-id="fcfe1-194">In [The DataType Property](#Styling_DataType) section, we discussed that you can define different data templates for different data objects.</span></span> <span data-ttu-id="fcfe1-195">Cela s’avère particulièrement utile lorsque vous avez un <xref:System.Windows.Data.CompositeCollection> de types différents ou des collections avec des éléments de types différents.</span><span class="sxs-lookup"><span data-stu-id="fcfe1-195">That is especially useful when you have a <xref:System.Windows.Data.CompositeCollection> of different types or collections with items of different types.</span></span> <span data-ttu-id="fcfe1-196">Dans la section [utiliser DataTriggers pour appliquer des valeurs de propriété](#DataTrigger_to_Apply_Property_Values) , nous avons montré que si vous disposez d’une collection du même type d’objets de données, vous pouvez créer un <xref:System.Windows.DataTemplate> , puis utiliser des déclencheurs pour appliquer les modifications en fonction des valeurs de propriété de chaque objet de données.</span><span class="sxs-lookup"><span data-stu-id="fcfe1-196">In the [Use DataTriggers to Apply Property Values](#DataTrigger_to_Apply_Property_Values) section, we have shown that if you have a collection of the same type of data objects you can create a <xref:System.Windows.DataTemplate> and then use triggers to apply changes based on the property values of each data object.</span></span> <span data-ttu-id="fcfe1-197">Toutefois, si les déclencheurs vous permettent d’appliquer des valeurs de propriété ou de lancer des animations, ils ne vous donnent pas la possibilité de reconstruire la structure de vos objets de données.</span><span class="sxs-lookup"><span data-stu-id="fcfe1-197">However, triggers allow you to apply property values or start animations but they don't give you the flexibility to reconstruct the structure of your data objects.</span></span> <span data-ttu-id="fcfe1-198">Dans certains scénarios, vous devrez peut-être créer un autre <xref:System.Windows.DataTemplate> pour les objets de données du même type, mais avec des propriétés différentes.</span><span class="sxs-lookup"><span data-stu-id="fcfe1-198">Some scenarios may require you to create a different <xref:System.Windows.DataTemplate> for data objects that are of the same type but have different properties.</span></span>

 <span data-ttu-id="fcfe1-199">Par exemple, lorsque un objet `Task` a une valeur `Priority` égale à `1`, vous avez la possibilité de lui donner un aspect différent qui vous servira d’alerte.</span><span class="sxs-lookup"><span data-stu-id="fcfe1-199">For example, when a `Task` object has a `Priority` value of `1`, you may want to give it a completely different look to serve as an alert for yourself.</span></span> <span data-ttu-id="fcfe1-200">Dans ce cas, vous créez un <xref:System.Windows.DataTemplate> pour l’affichage des objets de priorité haute `Task` .</span><span class="sxs-lookup"><span data-stu-id="fcfe1-200">In that case, you create a <xref:System.Windows.DataTemplate> for the display of the high-priority `Task` objects.</span></span> <span data-ttu-id="fcfe1-201">Nous allons ajouter ce qui suit <xref:System.Windows.DataTemplate> à la section des ressources :</span><span class="sxs-lookup"><span data-stu-id="fcfe1-201">Let's add the following <xref:System.Windows.DataTemplate> to the resources section:</span></span>

 [!code-xaml[DataTemplatingIntro_snip#ImportantTemplate](~/samples/snippets/csharp/VS_Snippets_Wpf/DataTemplatingIntro_snip/CSharp/Window1.xaml#importanttemplate)]

<span data-ttu-id="fcfe1-202">Cet exemple utilise la propriété [DataTemplate. Resources](xref:System.Windows.FrameworkTemplate.Resources%2A) .</span><span class="sxs-lookup"><span data-stu-id="fcfe1-202">This example uses the [DataTemplate.Resources](xref:System.Windows.FrameworkTemplate.Resources%2A) property.</span></span> <span data-ttu-id="fcfe1-203">Les ressources définies dans cette section sont partagées par les éléments dans le <xref:System.Windows.DataTemplate> .</span><span class="sxs-lookup"><span data-stu-id="fcfe1-203">Resources defined in that section are shared by the elements within the <xref:System.Windows.DataTemplate>.</span></span>

 <span data-ttu-id="fcfe1-204">Pour fournir une logique permettant de choisir celle qui <xref:System.Windows.DataTemplate> doit être utilisée en fonction de la `Priority` valeur de l’objet de données, créez une sous-classe de <xref:System.Windows.Controls.DataTemplateSelector> et substituez la <xref:System.Windows.Controls.DataTemplateSelector.SelectTemplate%2A> méthode.</span><span class="sxs-lookup"><span data-stu-id="fcfe1-204">To supply logic to choose which <xref:System.Windows.DataTemplate> to use based on the `Priority` value of the data object, create a subclass of <xref:System.Windows.Controls.DataTemplateSelector> and override the <xref:System.Windows.Controls.DataTemplateSelector.SelectTemplate%2A> method.</span></span> <span data-ttu-id="fcfe1-205">Dans l’exemple suivant, la <xref:System.Windows.Controls.DataTemplateSelector.SelectTemplate%2A> méthode fournit une logique pour retourner le modèle approprié en fonction de la valeur de la `Priority` propriété.</span><span class="sxs-lookup"><span data-stu-id="fcfe1-205">In the following example, the <xref:System.Windows.Controls.DataTemplateSelector.SelectTemplate%2A> method provides logic to return the appropriate template based on the value of the `Priority` property.</span></span> <span data-ttu-id="fcfe1-206">Le modèle à retourner se trouve dans les ressources de l’élément enveloppant <xref:System.Windows.Window> .</span><span class="sxs-lookup"><span data-stu-id="fcfe1-206">The template to return is found in the resources of the enveloping <xref:System.Windows.Window> element.</span></span>

 [!code-csharp[DataTemplatingIntro_snip#DTSClass](~/samples/snippets/csharp/VS_Snippets_Wpf/DataTemplatingIntro_snip/CSharp/TaskListDataTemplateSelector.cs#dtsclass)]
 [!code-vb[DataTemplatingIntro_snip#DTSClass](~/samples/snippets/visualbasic/VS_Snippets_Wpf/DataTemplatingIntro_snip/visualbasic/tasklistdatatemplateselector.vb#dtsclass)]

 <span data-ttu-id="fcfe1-207">On peut ensuite déclarer le `TaskListDataTemplateSelector` comme ressource :</span><span class="sxs-lookup"><span data-stu-id="fcfe1-207">We can then declare the `TaskListDataTemplateSelector` as a resource:</span></span>

 [!code-xaml[DataTemplatingIntro_snip#R1](~/samples/snippets/csharp/VS_Snippets_Wpf/DataTemplatingIntro_snip/CSharp/Window1.xaml#r1)]
[!code-xaml[DataTemplatingIntro_snip#DTS](~/samples/snippets/csharp/VS_Snippets_Wpf/DataTemplatingIntro_snip/CSharp/Window1.xaml#dts)]
[!code-xaml[DataTemplatingIntro_snip#R2](~/samples/snippets/csharp/VS_Snippets_Wpf/DataTemplatingIntro_snip/CSharp/Window1.xaml#r2)]

 <span data-ttu-id="fcfe1-208">Pour utiliser la ressource du sélecteur de modèle, assignez-la à la <xref:System.Windows.Controls.ItemsControl.ItemTemplateSelector%2A> propriété de <xref:System.Windows.Controls.ListBox> .</span><span class="sxs-lookup"><span data-stu-id="fcfe1-208">To use the template selector resource, assign it to the <xref:System.Windows.Controls.ItemsControl.ItemTemplateSelector%2A> property of the <xref:System.Windows.Controls.ListBox>.</span></span> <span data-ttu-id="fcfe1-209"><xref:System.Windows.Controls.ListBox>Appelle la <xref:System.Windows.Controls.DataTemplateSelector.SelectTemplate%2A> méthode de `TaskListDataTemplateSelector` pour chacun des éléments de la collection sous-jacente.</span><span class="sxs-lookup"><span data-stu-id="fcfe1-209">The <xref:System.Windows.Controls.ListBox> calls the <xref:System.Windows.Controls.DataTemplateSelector.SelectTemplate%2A> method of the `TaskListDataTemplateSelector` for each of the items in the underlying collection.</span></span> <span data-ttu-id="fcfe1-210">L’appel passe l’objet de données en paramètre d’élément.</span><span class="sxs-lookup"><span data-stu-id="fcfe1-210">The call passes the data object as the item parameter.</span></span> <span data-ttu-id="fcfe1-211">Le <xref:System.Windows.DataTemplate> retourné par la méthode est ensuite appliqué à cet objet de données.</span><span class="sxs-lookup"><span data-stu-id="fcfe1-211">The <xref:System.Windows.DataTemplate> that is returned by the method is then applied to that data object.</span></span>

 [!code-xaml[DataTemplatingIntro_snip#ItemTemplateSelector](~/samples/snippets/csharp/VS_Snippets_Wpf/DataTemplatingIntro_snip/CSharp/Window1.xaml#itemtemplateselector)]

 <span data-ttu-id="fcfe1-212">Une fois le sélecteur de modèle en place, le <xref:System.Windows.Controls.ListBox> s’affiche désormais comme suit :</span><span class="sxs-lookup"><span data-stu-id="fcfe1-212">With the template selector in place, the <xref:System.Windows.Controls.ListBox> now appears as follows:</span></span>

 <span data-ttu-id="fcfe1-213">![Capture d’écran exemple de création de modèles de données](./media/datatemplatingintro-fig7.png "DataTemplatingIntro_fig7")</span><span class="sxs-lookup"><span data-stu-id="fcfe1-213">![Data templating sample screenshot](./media/datatemplatingintro-fig7.png "DataTemplatingIntro_fig7")</span></span>

<span data-ttu-id="fcfe1-214">Ainsi se conclut notre étude de cet exemple.</span><span class="sxs-lookup"><span data-stu-id="fcfe1-214">This concludes our discussion of this example.</span></span> <span data-ttu-id="fcfe1-215">Vous trouverez l’exemple complet sur la page [Présentation d’un exemple de création de modèles de données](https://github.com/Microsoft/WPF-Samples/tree/master/Data%20Binding/DataTemplatingIntro).</span><span class="sxs-lookup"><span data-stu-id="fcfe1-215">For the complete sample, see [Introduction to Data Templating Sample](https://github.com/Microsoft/WPF-Samples/tree/master/Data%20Binding/DataTemplatingIntro).</span></span>

<a name="DataTemplating_ItemsControl"></a>
## <a name="styling-and-templating-an-itemscontrol"></a><span data-ttu-id="fcfe1-216">Création de styles et de modèles pour un ItemsControl</span><span class="sxs-lookup"><span data-stu-id="fcfe1-216">Styling and Templating an ItemsControl</span></span>
 <span data-ttu-id="fcfe1-217">Même si <xref:System.Windows.Controls.ItemsControl> n’est pas le seul type de contrôle avec lequel vous pouvez utiliser un <xref:System.Windows.DataTemplate> avec, il s’agit d’un scénario très courant pour lier un <xref:System.Windows.Controls.ItemsControl> à une collection.</span><span class="sxs-lookup"><span data-stu-id="fcfe1-217">Even though the <xref:System.Windows.Controls.ItemsControl> is not the only control type that you can use a <xref:System.Windows.DataTemplate> with, it is a very common scenario to bind an <xref:System.Windows.Controls.ItemsControl> to a collection.</span></span> <span data-ttu-id="fcfe1-218">Dans la section qu’est- [ce qui appartient à un DataTemplate](#what_belongs_in_datatemplate) , nous avons parlé que la définition de votre <xref:System.Windows.DataTemplate> doit uniquement se préoccuper de la présentation des données.</span><span class="sxs-lookup"><span data-stu-id="fcfe1-218">In the [What Belongs in a DataTemplate](#what_belongs_in_datatemplate) section we discussed that the definition of your <xref:System.Windows.DataTemplate> should only be concerned with the presentation of data.</span></span> <span data-ttu-id="fcfe1-219">Pour savoir quand il n’est pas approprié d’utiliser un <xref:System.Windows.DataTemplate> , il est important de comprendre les différentes propriétés de style et de modèle fournies par le <xref:System.Windows.Controls.ItemsControl> .</span><span class="sxs-lookup"><span data-stu-id="fcfe1-219">In order to know when it is not suitable to use a <xref:System.Windows.DataTemplate> it is important to understand the different style and template properties provided by the <xref:System.Windows.Controls.ItemsControl>.</span></span> <span data-ttu-id="fcfe1-220">L’exemple suivant est conçu pour illustrer la fonction de chacune de ces propriétés.</span><span class="sxs-lookup"><span data-stu-id="fcfe1-220">The following example is designed to illustrate the function of each of these properties.</span></span> <span data-ttu-id="fcfe1-221"><xref:System.Windows.Controls.ItemsControl>Dans cet exemple, est lié à la même `Tasks` collection que dans l’exemple précédent.</span><span class="sxs-lookup"><span data-stu-id="fcfe1-221">The <xref:System.Windows.Controls.ItemsControl> in this example is bound to the same `Tasks` collection as in the previous example.</span></span> <span data-ttu-id="fcfe1-222">À des fins de démonstration, les styles et les modèles de cet exemple sont tous déclarés inline.</span><span class="sxs-lookup"><span data-stu-id="fcfe1-222">For demonstration purposes, the styles and templates in this example are all declared inline.</span></span>

 [!code-xaml[DataTemplatingIntro_snip#ItemsControlProperties](~/samples/snippets/csharp/VS_Snippets_Wpf/DataTemplatingIntro_snip/CSharp/Window1.xaml#itemscontrolproperties)]

 <span data-ttu-id="fcfe1-223">Voici une capture d’écran du rendu de l’exemple :</span><span class="sxs-lookup"><span data-stu-id="fcfe1-223">The following is a screenshot of the example when it is rendered:</span></span>

 <span data-ttu-id="fcfe1-224">![Capture d’écran : exemple de ItemsControl](./media/databinding-itemscontrolproperties.png "DataBinding_ItemsControlProperties")</span><span class="sxs-lookup"><span data-stu-id="fcfe1-224">![ItemsControl example screenshot](./media/databinding-itemscontrolproperties.png "DataBinding_ItemsControlProperties")</span></span>

 <span data-ttu-id="fcfe1-225">Notez qu’au lieu d’utiliser <xref:System.Windows.Controls.ItemsControl.ItemTemplate%2A> , vous pouvez utiliser le <xref:System.Windows.Controls.ItemsControl.ItemTemplateSelector%2A> .</span><span class="sxs-lookup"><span data-stu-id="fcfe1-225">Note that instead of using the <xref:System.Windows.Controls.ItemsControl.ItemTemplate%2A>, you can use the <xref:System.Windows.Controls.ItemsControl.ItemTemplateSelector%2A>.</span></span> <span data-ttu-id="fcfe1-226">Vous trouverez un exemple dans la section précédente.</span><span class="sxs-lookup"><span data-stu-id="fcfe1-226">Refer to the previous section for an example.</span></span> <span data-ttu-id="fcfe1-227">De même, au lieu d’utiliser le <xref:System.Windows.Controls.ItemsControl.ItemContainerStyle%2A> , vous avez la possibilité d’utiliser <xref:System.Windows.Controls.ItemsControl.ItemContainerStyleSelector%2A> .</span><span class="sxs-lookup"><span data-stu-id="fcfe1-227">Similarly, instead of using the <xref:System.Windows.Controls.ItemsControl.ItemContainerStyle%2A>, you have the option to use the <xref:System.Windows.Controls.ItemsControl.ItemContainerStyleSelector%2A>.</span></span>

 <span data-ttu-id="fcfe1-228">Les deux autres propriétés liées au style de <xref:System.Windows.Controls.ItemsControl> qui ne sont pas indiquées ici sont <xref:System.Windows.Controls.ItemsControl.GroupStyle%2A> et <xref:System.Windows.Controls.ItemsControl.GroupStyleSelector%2A> .</span><span class="sxs-lookup"><span data-stu-id="fcfe1-228">Two other style-related properties of the <xref:System.Windows.Controls.ItemsControl> that are not shown here are <xref:System.Windows.Controls.ItemsControl.GroupStyle%2A> and <xref:System.Windows.Controls.ItemsControl.GroupStyleSelector%2A>.</span></span>

<a name="DataTemplating_HeirarchicalDataTemplate"></a>
## <a name="support-for-hierarchical-data"></a><span data-ttu-id="fcfe1-229">Prise en charge des données hiérarchiques</span><span class="sxs-lookup"><span data-stu-id="fcfe1-229">Support for Hierarchical Data</span></span>
 <span data-ttu-id="fcfe1-230">Jusqu’à présent, nous avons seulement vu comment lier et afficher une collection unique.</span><span class="sxs-lookup"><span data-stu-id="fcfe1-230">So far we have only looked at how to bind to and display a single collection.</span></span> <span data-ttu-id="fcfe1-231">Une collection peut contenir d’autres collections.</span><span class="sxs-lookup"><span data-stu-id="fcfe1-231">Sometimes you have a collection that contains other collections.</span></span> <span data-ttu-id="fcfe1-232">La <xref:System.Windows.HierarchicalDataTemplate> classe est conçue pour être utilisée avec des <xref:System.Windows.Controls.HeaderedItemsControl> types pour afficher ces données.</span><span class="sxs-lookup"><span data-stu-id="fcfe1-232">The <xref:System.Windows.HierarchicalDataTemplate> class is designed to be used with <xref:System.Windows.Controls.HeaderedItemsControl> types to display such data.</span></span> <span data-ttu-id="fcfe1-233">Dans l’exemple suivant, `ListLeagueList` est une liste d’objets `League`.</span><span class="sxs-lookup"><span data-stu-id="fcfe1-233">In the following example, `ListLeagueList` is a list of `League` objects.</span></span> <span data-ttu-id="fcfe1-234">Chaque objet `League` a un `Name` et une collection d’objets `Division`.</span><span class="sxs-lookup"><span data-stu-id="fcfe1-234">Each `League` object has a `Name` and a collection of `Division` objects.</span></span> <span data-ttu-id="fcfe1-235">Chaque `Division` a un `Name` et une collection d’objets `Team` et chaque objet `Team` a un `Name`.</span><span class="sxs-lookup"><span data-stu-id="fcfe1-235">Each `Division` has a `Name` and a collection of `Team` objects, and each `Team` object has a `Name`.</span></span>

 [!code-xaml[HierarchicalDataTemplateSnippet#HDT](~/samples/snippets/csharp/VS_Snippets_Wpf/HierarchicalDataTemplateSnippet/CS/window1.xaml#hdt)]

 <span data-ttu-id="fcfe1-236">L’exemple montre qu’avec l’utilisation de <xref:System.Windows.HierarchicalDataTemplate> , vous pouvez facilement afficher des données de liste qui contiennent d’autres listes.</span><span class="sxs-lookup"><span data-stu-id="fcfe1-236">The example shows that with the use of <xref:System.Windows.HierarchicalDataTemplate>, you can easily display list data that contains other lists.</span></span> <span data-ttu-id="fcfe1-237">Voici une capture d’écran de l’exemple.</span><span class="sxs-lookup"><span data-stu-id="fcfe1-237">The following is a screenshot of the example.</span></span>

 <span data-ttu-id="fcfe1-238">![Capture d’écran exemple HierarchicalDataTemplate](./media/databinding-hierarchicaldatatemplate.png "DataBinding_HierarchicalDataTemplate")</span><span class="sxs-lookup"><span data-stu-id="fcfe1-238">![HierarchicalDataTemplate sample screenshot](./media/databinding-hierarchicaldatatemplate.png "DataBinding_HierarchicalDataTemplate")</span></span>

## <a name="see-also"></a><span data-ttu-id="fcfe1-239">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="fcfe1-239">See also</span></span>

- [<span data-ttu-id="fcfe1-240">Liaison de données</span><span class="sxs-lookup"><span data-stu-id="fcfe1-240">Data Binding</span></span>](../advanced/optimizing-performance-data-binding.md)
- [<span data-ttu-id="fcfe1-241">Rechercher des éléments générés par DataTemplate</span><span class="sxs-lookup"><span data-stu-id="fcfe1-241">Find DataTemplate-Generated Elements</span></span>](how-to-find-datatemplate-generated-elements.md)
- [<span data-ttu-id="fcfe1-242">Application d'un style et création de modèles</span><span class="sxs-lookup"><span data-stu-id="fcfe1-242">Styling and Templating</span></span>](../../../desktop-wpf/fundamentals/styles-templates-overview.md)
- [<span data-ttu-id="fcfe1-243">Vue d’ensemble de la liaison de données</span><span class="sxs-lookup"><span data-stu-id="fcfe1-243">Data Binding Overview</span></span>](../../../desktop-wpf/data/data-binding-overview.md)
- [<span data-ttu-id="fcfe1-244">Vue d'ensemble des modèles et styles d'en-tête de colonne GridView</span><span class="sxs-lookup"><span data-stu-id="fcfe1-244">GridView Column Header Styles and Templates Overview</span></span>](../controls/gridview-column-header-styles-and-templates-overview.md)
