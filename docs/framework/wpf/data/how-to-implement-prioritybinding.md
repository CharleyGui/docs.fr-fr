---
title: 'Comment : implémenter PriorityBinding'
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- data binding [WPF], PriorityBinding class
ms.assetid: d63b65ab-b3e9-4322-9aa8-1450f8d89532
ms.openlocfilehash: 343b0aca4736905f3a0cbff5a0f76b170da0c920
ms.sourcegitcommit: 944ddc52b7f2632f30c668815f92b378efd38eea
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 11/03/2019
ms.locfileid: "73459781"
---
# <a name="how-to-implement-prioritybinding"></a><span data-ttu-id="c5976-102">Comment : implémenter PriorityBinding</span><span class="sxs-lookup"><span data-stu-id="c5976-102">How to: Implement PriorityBinding</span></span>
<span data-ttu-id="c5976-103"><xref:System.Windows.Data.PriorityBinding> dans [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] fonctionne en spécifiant une liste de liaisons.</span><span class="sxs-lookup"><span data-stu-id="c5976-103"><xref:System.Windows.Data.PriorityBinding> in [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] works by specifying a list of bindings.</span></span> <span data-ttu-id="c5976-104">La liste des liaisons est classée de la priorité la plus élevée à la priorité la plus basse.</span><span class="sxs-lookup"><span data-stu-id="c5976-104">The list of bindings is ordered from highest priority to lowest priority.</span></span> <span data-ttu-id="c5976-105">Si la liaison de priorité la plus élevée retourne une valeur correctement lorsqu’elle est traitée, il n’est jamais nécessaire de traiter les autres liaisons de la liste.</span><span class="sxs-lookup"><span data-stu-id="c5976-105">If the highest priority binding returns a value successfully when it is processed then there is never a need to process the other bindings in the list.</span></span> <span data-ttu-id="c5976-106">Cela peut être le cas où la liaison de priorité la plus élevée prend beaucoup de temps pour être évaluée, la priorité la plus élevée qui retourne une valeur avec succès sera utilisée jusqu’à ce qu’une liaison d’une priorité plus élevée retourne une valeur avec succès.</span><span class="sxs-lookup"><span data-stu-id="c5976-106">It could be the case that the highest priority binding takes a long time to be evaluated, the next highest priority that returns a value successfully will be used until a binding of a higher priority returns a value successfully.</span></span>  
  
## <a name="example"></a><span data-ttu-id="c5976-107">Exemple</span><span class="sxs-lookup"><span data-stu-id="c5976-107">Example</span></span>  
 <span data-ttu-id="c5976-108">Pour illustrer le fonctionnement de <xref:System.Windows.Data.PriorityBinding>, l’objet `AsyncDataSource` a été créé avec les trois propriétés suivantes : `FastDP`, `SlowerDP`et `SlowestDP`.</span><span class="sxs-lookup"><span data-stu-id="c5976-108">To demonstrate how <xref:System.Windows.Data.PriorityBinding> works, the `AsyncDataSource` object has been created with the following three properties: `FastDP`, `SlowerDP`, and `SlowestDP`.</span></span>  
  
 <span data-ttu-id="c5976-109">L’accesseur Get de `FastDP` retourne la valeur du membre de données `_fastDP`.</span><span class="sxs-lookup"><span data-stu-id="c5976-109">The get accessor of `FastDP` returns the value of the `_fastDP` data member.</span></span>  
  
 <span data-ttu-id="c5976-110">L’accesseur Get de `SlowerDP` attend pendant 3 secondes avant de retourner la valeur du membre de données `_slowerDP`.</span><span class="sxs-lookup"><span data-stu-id="c5976-110">The get accessor of `SlowerDP` waits for 3 seconds before returning the value of the `_slowerDP` data member.</span></span>  
  
 <span data-ttu-id="c5976-111">L’accesseur Get de `SlowestDP` attend 5 secondes avant de retourner la valeur du membre de données `_slowestDP`.</span><span class="sxs-lookup"><span data-stu-id="c5976-111">The get accessor of `SlowestDP` waits for 5 seconds before returning the value of the `_slowestDP` data member.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="c5976-112">L’exemple est uniquement fourni à des fins de démonstration.</span><span class="sxs-lookup"><span data-stu-id="c5976-112">This example is for demonstration purposes only.</span></span> <span data-ttu-id="c5976-113">Les instructions .NET recommandent de définir des propriétés dont l’ordre est plus lent qu’un jeu de champs.</span><span class="sxs-lookup"><span data-stu-id="c5976-113">The .NET guidelines recommend against defining properties that are orders of magnitude slower than a field set would be.</span></span> <span data-ttu-id="c5976-114">Pour plus d’informations, consultez [choix entre les propriétés et les méthodes](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ms229054(v=vs.100)).</span><span class="sxs-lookup"><span data-stu-id="c5976-114">For more information, see [Choosing Between Properties and Methods](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ms229054(v=vs.100)).</span></span>  
  
 [!code-csharp[PriorityBinding#1](~/samples/snippets/csharp/VS_Snippets_Wpf/PriorityBinding/CSharp/Window1.xaml.cs#1)]
 [!code-vb[PriorityBinding#1](~/samples/snippets/visualbasic/VS_Snippets_Wpf/PriorityBinding/VisualBasic/AsyncDataSource.vb#1)]  
  
 <span data-ttu-id="c5976-115">La propriété <xref:System.Windows.Controls.TextBlock.Text%2A> se lie aux `AsyncDS` ci-dessus à l’aide de <xref:System.Windows.Data.PriorityBinding>:</span><span class="sxs-lookup"><span data-stu-id="c5976-115">The <xref:System.Windows.Controls.TextBlock.Text%2A> property binds to the above `AsyncDS` using <xref:System.Windows.Data.PriorityBinding>:</span></span>  
  
 [!code-xaml[PriorityBinding#2](~/samples/snippets/csharp/VS_Snippets_Wpf/PriorityBinding/CSharp/Window1.xaml#2)]  
  
 <span data-ttu-id="c5976-116">Lorsque le moteur de liaison traite les objets <xref:System.Windows.Data.Binding>, il commence par le premier <xref:System.Windows.Data.Binding>, qui est lié à la propriété `SlowestDP`.</span><span class="sxs-lookup"><span data-stu-id="c5976-116">When the binding engine processes the <xref:System.Windows.Data.Binding> objects, it starts with the first <xref:System.Windows.Data.Binding>, which is bound to the `SlowestDP` property.</span></span> <span data-ttu-id="c5976-117">Lorsque cette <xref:System.Windows.Data.Binding> est traitée, elle ne retourne pas de valeur avec succès, car elle est en veille pendant 5 secondes, de sorte que l’élément <xref:System.Windows.Data.Binding> suivant est traité.</span><span class="sxs-lookup"><span data-stu-id="c5976-117">When this <xref:System.Windows.Data.Binding> is processed, it does not return a value successfully because it is sleeping for 5 seconds, so the next <xref:System.Windows.Data.Binding> element is processed.</span></span> <span data-ttu-id="c5976-118">La <xref:System.Windows.Data.Binding> suivante ne retourne pas de valeur avec succès, car elle est en veille pendant 3 secondes.</span><span class="sxs-lookup"><span data-stu-id="c5976-118">The next <xref:System.Windows.Data.Binding> does not return a value successfully because it is sleeping for 3 seconds.</span></span> <span data-ttu-id="c5976-119">Le moteur de liaison se déplace ensuite sur l’élément de <xref:System.Windows.Data.Binding> suivant, qui est lié à la propriété `FastDP`.</span><span class="sxs-lookup"><span data-stu-id="c5976-119">The binding engine then moves onto the next <xref:System.Windows.Data.Binding> element, which is bound to the `FastDP` property.</span></span> <span data-ttu-id="c5976-120">Cette <xref:System.Windows.Data.Binding> retourne la valeur « Fast Value ».</span><span class="sxs-lookup"><span data-stu-id="c5976-120">This <xref:System.Windows.Data.Binding> returns the value "Fast Value".</span></span> <span data-ttu-id="c5976-121">La <xref:System.Windows.Controls.TextBlock> affiche maintenant la valeur « Fast Value ».</span><span class="sxs-lookup"><span data-stu-id="c5976-121">The <xref:System.Windows.Controls.TextBlock> now displays the value "Fast Value".</span></span>  
  
 <span data-ttu-id="c5976-122">Au bout de 3 secondes, la propriété `SlowerDP` retourne la valeur « plus lente ».</span><span class="sxs-lookup"><span data-stu-id="c5976-122">After 3 seconds elapses, the `SlowerDP` property returns the value "Slower Value".</span></span> <span data-ttu-id="c5976-123">Le <xref:System.Windows.Controls.TextBlock> affiche ensuite la valeur « valeur plus lente ».</span><span class="sxs-lookup"><span data-stu-id="c5976-123">The <xref:System.Windows.Controls.TextBlock> then displays the value "Slower Value".</span></span>  
  
 <span data-ttu-id="c5976-124">Une fois 5 secondes écoulées, la propriété `SlowestDP` retourne la valeur « la valeur la plus lente ».</span><span class="sxs-lookup"><span data-stu-id="c5976-124">After 5 seconds elapses, the `SlowestDP` property returns the value "Slowest Value".</span></span> <span data-ttu-id="c5976-125">Cette liaison a la priorité la plus élevée, car elle est listée en premier.</span><span class="sxs-lookup"><span data-stu-id="c5976-125">That binding has the highest priority because it is listed first.</span></span> <span data-ttu-id="c5976-126">Le <xref:System.Windows.Controls.TextBlock> affiche maintenant la valeur « valeur la plus lente ».</span><span class="sxs-lookup"><span data-stu-id="c5976-126">The <xref:System.Windows.Controls.TextBlock> now displays the value "Slowest Value".</span></span>  
  
 <span data-ttu-id="c5976-127">Consultez <xref:System.Windows.Data.PriorityBinding> pour plus d’informations sur ce qui est considéré comme une valeur de retour réussie d’une liaison.</span><span class="sxs-lookup"><span data-stu-id="c5976-127">See <xref:System.Windows.Data.PriorityBinding> for information about what is considered a successful return value from a binding.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="c5976-128">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="c5976-128">See also</span></span>

- <xref:System.Windows.Data.Binding.IsAsync%2A?displayProperty=nameWithType>
- [<span data-ttu-id="c5976-129">Vue d’ensemble de la liaison de données</span><span class="sxs-lookup"><span data-stu-id="c5976-129">Data Binding Overview</span></span>](../../../desktop-wpf/data/data-binding-overview.md)
- [<span data-ttu-id="c5976-130">Rubriques de guide pratique</span><span class="sxs-lookup"><span data-stu-id="c5976-130">How-to Topics</span></span>](data-binding-how-to-topics.md)
