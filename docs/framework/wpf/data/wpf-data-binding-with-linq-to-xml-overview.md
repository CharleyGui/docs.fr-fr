---
title: Liaison de données avec LINQ to XML
ms.date: 10/22/2019
ms.topic: conceptual
ms.openlocfilehash: 3c5567c81d2097a1524f5bbbf9010836ca8c0646
ms.sourcegitcommit: de17a7a0a37042f0d4406f5ae5393531caeb25ba
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/24/2020
ms.locfileid: "76733821"
---
# <a name="overview-of-wpf-data-binding-with-linq-to-xml"></a><span data-ttu-id="04a87-102">Vue d’ensemble de la liaison de données WPF avec LINQ to XML</span><span class="sxs-lookup"><span data-stu-id="04a87-102">Overview of WPF data binding with LINQ to XML</span></span>

<span data-ttu-id="04a87-103">Cet article présente les fonctionnalités de liaison de données dynamiques dans l’espace de noms <xref:System.Xml.Linq>.</span><span class="sxs-lookup"><span data-stu-id="04a87-103">This article introduces the dynamic data binding features in the <xref:System.Xml.Linq> namespace.</span></span> <span data-ttu-id="04a87-104">Ces fonctionnalités peuvent être utilisées comme source de données pour des éléments d’interface utilisateur dans des applications WPF (Windows Presentation Foundation).</span><span class="sxs-lookup"><span data-stu-id="04a87-104">These features can be used as a data source for user interface (UI) elements in Windows Presentation Foundation (WPF) apps.</span></span> <span data-ttu-id="04a87-105">Ce scénario repose sur des *propriétés dynamiques* spéciales des objets <xref:System.Xml.Linq.XAttribute?displayProperty=fullName> et <xref:System.Xml.Linq.XElement?displayProperty=fullName>.</span><span class="sxs-lookup"><span data-stu-id="04a87-105">This scenario relies upon special *dynamic properties* of <xref:System.Xml.Linq.XAttribute?displayProperty=fullName> and <xref:System.Xml.Linq.XElement?displayProperty=fullName>.</span></span>

## <a name="xaml-and-linq-to-xml"></a><span data-ttu-id="04a87-106">XAML et LINQ to XML</span><span class="sxs-lookup"><span data-stu-id="04a87-106">XAML and LINQ to XML</span></span>

<span data-ttu-id="04a87-107">XAML (Extensible Application Markup Language) est un dialecte XML créé par Microsoft pour prendre en charge les technologies .NET.</span><span class="sxs-lookup"><span data-stu-id="04a87-107">The Extensible Application Markup Language (XAML) is an XML dialect created by Microsoft to support .NET technologies.</span></span> <span data-ttu-id="04a87-108">Il est utilisé dans WPF pour représenter des éléments d’interface et fonctionnalités connexes, tels que des événements et des liaisons de données.</span><span class="sxs-lookup"><span data-stu-id="04a87-108">It is used in WPF to represent user interface elements and related features, such as events and data binding.</span></span> <span data-ttu-id="04a87-109">Dans Windows Workflow Foundation, XAML est utilisé pour représenter la structure de programme, telle que le contrôle de programme (*flux de travail*).</span><span class="sxs-lookup"><span data-stu-id="04a87-109">In Windows Workflow Foundation, XAML is used to represent program structure, such as program control (*workflows*).</span></span> <span data-ttu-id="04a87-110">XAML permet de séparer les aspects déclaratifs d'une technologie des procédures de code connexes qui définissent le comportement plus individualisé d'un programme.</span><span class="sxs-lookup"><span data-stu-id="04a87-110">XAML enables the declarative aspects of a technology to be separated from the related procedural code that defines the more individualized behavior of a program.</span></span>

<span data-ttu-id="04a87-111">D'une manière générale, XAML et LINQ to XML peuvent interagir de deux façons :</span><span class="sxs-lookup"><span data-stu-id="04a87-111">There are two broad ways that XAML and LINQ to XML can interact:</span></span>

- <span data-ttu-id="04a87-112">Les fichiers XAML étant constitués de code XML correct, ils peuvent être interrogés et manipulés par le biais de technologies XML telles que LINQ to XML.</span><span class="sxs-lookup"><span data-stu-id="04a87-112">Because XAML files are well-formed XML, they can be queried and manipulated through XML technologies such as LINQ to XML.</span></span>

- <span data-ttu-id="04a87-113">Étant donné que les requête LINQ to XML représentent une source de données, elles peuvent être utilisées en tant que source de données pour la liaison de données pour des éléments d'interface utilisateur WPF.</span><span class="sxs-lookup"><span data-stu-id="04a87-113">Because LINQ to XML queries represent a source of data, these queries can be used as a data source for data binding for WPF UI elements.</span></span>

<span data-ttu-id="04a87-114">Cette documentation décrit le deuxième scénario.</span><span class="sxs-lookup"><span data-stu-id="04a87-114">This documentation describes the second scenario.</span></span>

## <a name="data-binding-in-the-windows-presentation-foundation"></a><span data-ttu-id="04a87-115">Liaison de données dans le Windows Presentation Foundation</span><span class="sxs-lookup"><span data-stu-id="04a87-115">Data binding in the Windows Presentation Foundation</span></span>

<span data-ttu-id="04a87-116">La liaison de données WPF permet à un élément d’interface utilisateur d’associer l’une de ses propriétés à une source de données.</span><span class="sxs-lookup"><span data-stu-id="04a87-116">WPF data binding enables a UI element to associate one of its properties with a data source.</span></span> <span data-ttu-id="04a87-117">Un exemple simple est un objet <xref:System.Windows.Controls.Label> dont le texte présente la valeur d'une propriété publique dans un objet défini par l'utilisateur.</span><span class="sxs-lookup"><span data-stu-id="04a87-117">A simple example of this is a <xref:System.Windows.Controls.Label> whose text presents the value of a public property in a user-defined object.</span></span> <span data-ttu-id="04a87-118">La liaison de données WPF s’appuie sur les composants suivants :</span><span class="sxs-lookup"><span data-stu-id="04a87-118">WPF data binding relies on the following components:</span></span>

|<span data-ttu-id="04a87-119">Composant</span><span class="sxs-lookup"><span data-stu-id="04a87-119">Component</span></span>|<span data-ttu-id="04a87-120">Description</span><span class="sxs-lookup"><span data-stu-id="04a87-120">Description</span></span>|
|---------------|-----------------|
|<span data-ttu-id="04a87-121">Cible de liaison</span><span class="sxs-lookup"><span data-stu-id="04a87-121">Binding target</span></span>|<span data-ttu-id="04a87-122">Élément d'interface utilisateur à associer à la source de données.</span><span class="sxs-lookup"><span data-stu-id="04a87-122">The UI element to be associated with the data source.</span></span> <span data-ttu-id="04a87-123">Les éléments visuels dans WPF sont dérivés de la classe <xref:System.Windows.UIElement>.</span><span class="sxs-lookup"><span data-stu-id="04a87-123">Visual elements in WPF are derived from the <xref:System.Windows.UIElement> class.</span></span>|
|<span data-ttu-id="04a87-124">Propriété cible</span><span class="sxs-lookup"><span data-stu-id="04a87-124">Target property</span></span>|<span data-ttu-id="04a87-125">*Propriété de dépendance* de la cible de liaison qui reflète la valeur de la source de liaison de données.</span><span class="sxs-lookup"><span data-stu-id="04a87-125">The *dependency property* of the binding target that reflects the value of the data-binding source.</span></span> <span data-ttu-id="04a87-126">Les propriétés de dépendance sont directement prises en charge par la classe <xref:System.Windows.DependencyObject>, de laquelle <xref:System.Windows.UIElement> dérive.</span><span class="sxs-lookup"><span data-stu-id="04a87-126">Dependency properties are directly supported by the <xref:System.Windows.DependencyObject> class, which <xref:System.Windows.UIElement> derives from.</span></span>|
|<span data-ttu-id="04a87-127">Source de liaison</span><span class="sxs-lookup"><span data-stu-id="04a87-127">Binding source</span></span>|<span data-ttu-id="04a87-128">Objet source pour une ou plusieurs valeurs qui sont fournies à l'élément d'interface utilisateur pour la présentation.</span><span class="sxs-lookup"><span data-stu-id="04a87-128">The source object for one or more values that are supplied to the UI element for presentation.</span></span> <span data-ttu-id="04a87-129">WPF prend automatiquement en charge les types suivants comme sources de liaison : objets CLR, objets de données ADO.NET, données XML (à partir de requêtes XPath ou LINQ to XML) ou un autre objet <xref:System.Windows.DependencyObject>.</span><span class="sxs-lookup"><span data-stu-id="04a87-129">WPF automatically supports the following types as binding sources: CLR objects, ADO.NET data objects, XML data (from XPath or LINQ to XML queries), or another <xref:System.Windows.DependencyObject>.</span></span>|
|<span data-ttu-id="04a87-130">Chemin d’accès à la source</span><span class="sxs-lookup"><span data-stu-id="04a87-130">Source path</span></span>|<span data-ttu-id="04a87-131">Propriété de la source de liaison qui est résolue à la valeur ou à l'ensemble de valeurs qui doit être lié(e).</span><span class="sxs-lookup"><span data-stu-id="04a87-131">The property of the binding source that resolves to the value or set of values that is to be bound.</span></span>|

<span data-ttu-id="04a87-132">Une propriété de dépendance est un concept spécifique à WPF qui représente une propriété calculée de manière dynamique d'un élément d'interface utilisateur.</span><span class="sxs-lookup"><span data-stu-id="04a87-132">A dependency property is a concept specific to WPF that represent a dynamically computed property of a UI element.</span></span> <span data-ttu-id="04a87-133">Par exemple, les propriétés de dépendance ont souvent des valeurs par défaut ou des valeurs fournies par un élément parent.</span><span class="sxs-lookup"><span data-stu-id="04a87-133">For example, dependency properties often have default values or values that are provided by a parent element.</span></span> <span data-ttu-id="04a87-134">Ces propriétés spéciales sont secondées par des instances de la classe <xref:System.Windows.DependencyProperty> (et non par des champs, comme avec les propriétés standard).</span><span class="sxs-lookup"><span data-stu-id="04a87-134">These special properties are backed by instances of the <xref:System.Windows.DependencyProperty> class (and not fields as with standard properties).</span></span> <span data-ttu-id="04a87-135">Pour plus d’informations, consultez [Vue d’ensemble des propriétés de dépendance](../advanced/dependency-properties-overview.md).</span><span class="sxs-lookup"><span data-stu-id="04a87-135">For more information, see [Dependency Properties Overview](../advanced/dependency-properties-overview.md).</span></span>

### <a name="dynamic-data-binding-in-wpf"></a><span data-ttu-id="04a87-136">Liaison de données dynamiques dans WPF</span><span class="sxs-lookup"><span data-stu-id="04a87-136">Dynamic data binding in WPF</span></span>

<span data-ttu-id="04a87-137">Par défaut, la liaison de données se produit uniquement lorsque l’élément d’interface utilisateur cible est initialisé.</span><span class="sxs-lookup"><span data-stu-id="04a87-137">By default, data binding occurs only when the target UI element is initialized.</span></span> <span data-ttu-id="04a87-138">Cela porte le nom de liaison *ponctuelle*.</span><span class="sxs-lookup"><span data-stu-id="04a87-138">This is called *one-time* binding.</span></span> <span data-ttu-id="04a87-139">Ce type de liaison convient dans la plupart des cas ; en général, une solution de liaison de données exige que les modifications soient propagées de manière dynamique au moment de l’exécution de l’une des façons suivantes :</span><span class="sxs-lookup"><span data-stu-id="04a87-139">For most purposes, this is insufficient; typically, a data-binding solution requires that the changes be dynamically propagated at run time using one of the following:</span></span>

- <span data-ttu-id="04a87-140">La liaison *unidirectionnelle* fait en sorte que les modifications apportées à une extrémité soient propagées automatiquement.</span><span class="sxs-lookup"><span data-stu-id="04a87-140">*One-way* binding causes the changes to one side to be propagated automatically.</span></span> <span data-ttu-id="04a87-141">Le plus souvent, les modifications apportées à la source sont reflétées dans la cible, mais l'inverse peut parfois être utile.</span><span class="sxs-lookup"><span data-stu-id="04a87-141">Most commonly, changes to the source are reflected in the target, but the reverse can sometimes be useful.</span></span>

- <span data-ttu-id="04a87-142">Dans une liaison *bidirectionnelle*, les modifications apportées à la source sont propagées automatiquement à la cible et les modifications apportées à la cible sont propagées automatiquement à la source.</span><span class="sxs-lookup"><span data-stu-id="04a87-142">In *two-way* binding, changes to the source are automatically propagated to the target, and changes to the target are automatically propagated to the source.</span></span>

<span data-ttu-id="04a87-143">Pour que la liaison unidirectionnelle ou bidirectionnelle soit établie, la source doit implémenter un mécanisme de notification de changement, par exemple en implémentant l’interface <xref:System.ComponentModel.INotifyPropertyChanged> ou en utilisant un modèle *PropertyNameChanged* pour chaque propriété prise en charge.</span><span class="sxs-lookup"><span data-stu-id="04a87-143">For one-way or two-way binding to occur, the source must implement a change notification mechanism, for example by implementing the <xref:System.ComponentModel.INotifyPropertyChanged> interface or by using a *PropertyNameChanged* pattern for each property supported.</span></span>

<span data-ttu-id="04a87-144">Pour plus d’informations sur la liaison de données dans WPF, consultez [Liaison de données (WPF)](/dotnet/framework/wpf/data/data-binding-wpf).</span><span class="sxs-lookup"><span data-stu-id="04a87-144">For more information about data binding in WPF, see [Data Binding (WPF)](/dotnet/framework/wpf/data/data-binding-wpf).</span></span>

## <a name="dynamic-properties-in-linq-to-xml-classes"></a><span data-ttu-id="04a87-145">Propriétés dynamiques dans les classes LINQ to XML</span><span class="sxs-lookup"><span data-stu-id="04a87-145">Dynamic properties in LINQ to XML classes</span></span>

<span data-ttu-id="04a87-146">La plupart des classes LINQ to XML ne sont pas éligibles comme sources de données dynamiques WPF correctes.</span><span class="sxs-lookup"><span data-stu-id="04a87-146">Most LINQ to XML classes do not qualify as proper WPF dynamic data sources.</span></span> <span data-ttu-id="04a87-147">Certaines des informations les plus utiles sont accessibles uniquement par le biais de méthodes, et non pas de propriétés, et les propriétés de ces classes n’implémentent pas les notifications de changement.</span><span class="sxs-lookup"><span data-stu-id="04a87-147">Some of the most useful information is available only through methods, not properties, and properties in these classes do not implement change notifications.</span></span> <span data-ttu-id="04a87-148">Pour prendre en charge la liaison de données WPF, LINQ to XML expose un ensemble de *propriétés dynamiques*.</span><span class="sxs-lookup"><span data-stu-id="04a87-148">To support WPF data binding, LINQ to XML exposes a set of *dynamic properties*.</span></span>

<span data-ttu-id="04a87-149">Ces propriétés dynamiques sont des propriétés d'exécution spéciales qui dupliquent la fonctionnalité de méthodes et de propriétés existantes dans les classes <xref:System.Xml.Linq.XAttribute> et <xref:System.Xml.Linq.XElement>.</span><span class="sxs-lookup"><span data-stu-id="04a87-149">These dynamic properties are special run-time properties that duplicate the functionality of existing methods and properties in the <xref:System.Xml.Linq.XAttribute> and <xref:System.Xml.Linq.XElement> classes.</span></span> <span data-ttu-id="04a87-150">Elles ont été ajoutées à ces classes uniquement afin de leur permettre d'assumer la fonction de sources de données dynamiques pour WPF.</span><span class="sxs-lookup"><span data-stu-id="04a87-150">They were added to these classes solely to enable them to act as dynamic data sources for WPF.</span></span> <span data-ttu-id="04a87-151">Pour répondre à ce besoin, toutes ces propriétés dynamiques implémentent les notifications de changement.</span><span class="sxs-lookup"><span data-stu-id="04a87-151">To meet this need, all these dynamic properties implement change notifications.</span></span> <span data-ttu-id="04a87-152">Une référence détaillée pour ces propriétés dynamiques est fournie dans la section suivante, [Propriétés dynamiques LINQ to XML](linq-to-xml-dynamic-properties.md).</span><span class="sxs-lookup"><span data-stu-id="04a87-152">A detailed reference for these dynamic properties is provided in the next section, [LINQ to XML Dynamic Properties](linq-to-xml-dynamic-properties.md).</span></span>

> [!NOTE]
> <span data-ttu-id="04a87-153">Une grande partie des propriétés publiques standard, qui se trouvent dans les différentes classes dans l'espace de noms <xref:System.Xml.Linq>, peuvent être utilisées pour la liaison de données ponctuelle.</span><span class="sxs-lookup"><span data-stu-id="04a87-153">Many of the standard public properties, found in the various classes in the <xref:System.Xml.Linq> namespace, can be used for one-time data binding.</span></span> <span data-ttu-id="04a87-154">Cependant, n'oubliez pas que ni la source ni la cible ne seront mises à jour de manière dynamique en vertu de ce schéma.</span><span class="sxs-lookup"><span data-stu-id="04a87-154">However, remember that neither the source nor the target will be dynamically updated under this scheme.</span></span>

### <a name="access-dynamic-properties"></a><span data-ttu-id="04a87-155">Accéder aux propriétés dynamiques</span><span class="sxs-lookup"><span data-stu-id="04a87-155">Access dynamic properties</span></span>

<span data-ttu-id="04a87-156">Les propriétés dynamiques dans les classes <xref:System.Xml.Linq.XAttribute> et <xref:System.Xml.Linq.XElement> ne sont pas accessibles comme les propriétés standard.</span><span class="sxs-lookup"><span data-stu-id="04a87-156">The dynamic properties in the <xref:System.Xml.Linq.XAttribute> and <xref:System.Xml.Linq.XElement> classes cannot be accessed like standard properties.</span></span> <span data-ttu-id="04a87-157">Par exemple, dans des langages compatibles avec le CLR tels que C#, elles ne peuvent pas être :</span><span class="sxs-lookup"><span data-stu-id="04a87-157">For example, in CLR-compliant languages such as C#, they cannot be:</span></span>

- <span data-ttu-id="04a87-158">accédées directement au moment de la compilation.</span><span class="sxs-lookup"><span data-stu-id="04a87-158">Accessed directly at compile time.</span></span> <span data-ttu-id="04a87-159">Les propriétés dynamiques sont invisibles pour le compilateur et pour Visual Studio IntelliSense.</span><span class="sxs-lookup"><span data-stu-id="04a87-159">Dynamic properties are invisible to the compiler and to Visual Studio IntelliSense.</span></span>

- <span data-ttu-id="04a87-160">découvertes ou accédées au moment de l'exécution à l'aide de la réflexion .NET.</span><span class="sxs-lookup"><span data-stu-id="04a87-160">Discovered or accessed at run time using .NET reflection.</span></span> <span data-ttu-id="04a87-161">Même au moment de l'exécution, il ne s'agit pas de propriétés dans le sens CLR fondamental.</span><span class="sxs-lookup"><span data-stu-id="04a87-161">Even at run time, they are not properties in the basic CLR sense.</span></span>

<span data-ttu-id="04a87-162">En langage C#, les propriétés dynamiques sont accessibles uniquement au moment de l'exécution par le biais de fonctionnalités fournies par l'espace de noms <xref:System.ComponentModel>.</span><span class="sxs-lookup"><span data-stu-id="04a87-162">In C#, dynamic properties can only be accessed at run time through facilities provided by the <xref:System.ComponentModel> namespace.</span></span>

<span data-ttu-id="04a87-163">En revanche, dans une source XML les propriétés dynamiques sont accessibles par le biais d'une notation simple de la forme suivante :</span><span class="sxs-lookup"><span data-stu-id="04a87-163">In contrast, however, in an XML source dynamic properties can be accessed through a straightforward notation in the following form:</span></span>

```xml
<object>.<dynamic-property>
```

<span data-ttu-id="04a87-164">Les propriétés dynamiques pour ces deux classes sont résolues à une valeur qui peut être utilisée directement ou à un indexeur qui doit être fourni avec un index pour obtenir la valeur ou la collection de valeurs résultante.</span><span class="sxs-lookup"><span data-stu-id="04a87-164">The dynamic properties for these two classes either resolve to a value that can be used directly, or to an indexer that must be supplied with an index to obtain the resulting value or collection of values.</span></span> <span data-ttu-id="04a87-165">Cette dernière syntaxe prend la forme suivante :</span><span class="sxs-lookup"><span data-stu-id="04a87-165">The latter syntax takes the form:</span></span>

```xml
<object>.<dynamic-property>[<index-value>]
```

<span data-ttu-id="04a87-166">Pour plus d’informations, consultez [Propriétés dynamiques LINQ to XML](linq-to-xml-dynamic-properties.md).</span><span class="sxs-lookup"><span data-stu-id="04a87-166">For more information, see [LINQ to XML Dynamic Properties](linq-to-xml-dynamic-properties.md).</span></span>

<span data-ttu-id="04a87-167">Pour implémenter la liaison dynamique WPF, les propriétés dynamiques seront utilisées avec des fonctionnalités fournies par l'espace de noms <xref:System.Windows.Data>, notamment par la classe <xref:System.Windows.Data.Binding>.</span><span class="sxs-lookup"><span data-stu-id="04a87-167">To implement WPF dynamic binding, dynamic properties will be used with facilities provided by the <xref:System.Windows.Data> namespace, most notably the <xref:System.Windows.Data.Binding> class.</span></span>

## <a name="see-also"></a><span data-ttu-id="04a87-168">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="04a87-168">See also</span></span>

- [<span data-ttu-id="04a87-169">Liaison de données WPF avec LINQ to XML</span><span class="sxs-lookup"><span data-stu-id="04a87-169">WPF Data Binding with LINQ to XML</span></span>](wpf-data-binding-with-linq-to-xml-overview.md)
- [<span data-ttu-id="04a87-170">Propriétés dynamiques LINQ to XML</span><span class="sxs-lookup"><span data-stu-id="04a87-170">LINQ to XML Dynamic Properties</span></span>](linq-to-xml-dynamic-properties.md)
- [<span data-ttu-id="04a87-171">Intégration du format XAML au format WPF</span><span class="sxs-lookup"><span data-stu-id="04a87-171">XAML in WPF</span></span>](../advanced/xaml-in-wpf.md)
- [<span data-ttu-id="04a87-172">Liaison de données (WPF)</span><span class="sxs-lookup"><span data-stu-id="04a87-172">Data Binding (WPF)</span></span>](/dotnet/framework/wpf/data/data-binding-wpf)
- [<span data-ttu-id="04a87-173">Utilisation de la balise de workflow</span><span class="sxs-lookup"><span data-stu-id="04a87-173">Using Workflow Markup</span></span>](https://go.microsoft.com/fwlink/?LinkId=98685)
