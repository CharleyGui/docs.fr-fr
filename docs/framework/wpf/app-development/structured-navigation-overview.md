---
title: Vue d'ensemble de la navigation structurée
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- structured navigation [WPF]
ms.assetid: 025d30ef-fec5-436d-ad7a-5d5483331c26
ms.openlocfilehash: 09c3c57f3ac1009416a5c67b37c035fe30cd5b5e
ms.sourcegitcommit: 14ad34f7c4564ee0f009acb8bfc0ea7af3bc9541
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 11/01/2019
ms.locfileid: "73425325"
---
# <a name="structured-navigation-overview"></a><span data-ttu-id="f0106-102">Vue d'ensemble de la navigation structurée</span><span class="sxs-lookup"><span data-stu-id="f0106-102">Structured Navigation Overview</span></span>

<span data-ttu-id="f0106-103">Le contenu qui peut être hébergé par une application de navigateur XAML (XBAP), une <xref:System.Windows.Controls.Frame>ou un <xref:System.Windows.Navigation.NavigationWindow> est composé de pages qui peuvent être identifiées par des URI (Uniform Resource Identifier) de Pack et qui sont parcourues par des liens hypertexte.</span><span class="sxs-lookup"><span data-stu-id="f0106-103">Content that can be hosted by an XAML browser application (XBAP), a <xref:System.Windows.Controls.Frame>, or a <xref:System.Windows.Navigation.NavigationWindow> is composed of pages that can be identified by pack uniform resource identifiers (URIs) and navigated to by hyperlinks.</span></span> <span data-ttu-id="f0106-104">La structure des pages et comment elles sont accessibles, tel que défini par des liens hypertexte, porte le nom de topologie de navigation.</span><span class="sxs-lookup"><span data-stu-id="f0106-104">The structure of pages and the ways in which they can be navigated, as defined by hyperlinks, is known as a navigation topology.</span></span> <span data-ttu-id="f0106-105">Une telle topologie convient à différents types d’applications, notamment celles permettant de parcourir des documents.</span><span class="sxs-lookup"><span data-stu-id="f0106-105">Such a topology suits a variety of application types, particularly those that navigate through documents.</span></span> <span data-ttu-id="f0106-106">Pour de telles applications, l’utilisateur peut naviguer d’une page à une autre page sans qu’une page ait besoin de savoir quoi que ce soit sur l’autre page.</span><span class="sxs-lookup"><span data-stu-id="f0106-106">For such applications, the user can navigate from one page to another page without either page needing to know anything about the other.</span></span>

<span data-ttu-id="f0106-107">Toutefois, d’autres types d’applications ont des pages qui ont besoin de savoir quand une navigation parmi les pages a eu lieu.</span><span class="sxs-lookup"><span data-stu-id="f0106-107">However, other types of applications have pages that do need to know when they have been navigated between.</span></span> <span data-ttu-id="f0106-108">Par exemple, considérez une application de ressources humaines ayant une page pour répertorier tous les employés d’une organisation, la page « Liste des employés ».</span><span class="sxs-lookup"><span data-stu-id="f0106-108">For example, consider a human resources application that has one page to list all the employees in an organization—the "List Employees" page.</span></span> <span data-ttu-id="f0106-109">Cette page pourrait également permettre aux utilisateurs d’ajouter un nouvel employé en cliquant sur un lien hypertexte.</span><span class="sxs-lookup"><span data-stu-id="f0106-109">This page could also allow users to add a new employee by clicking a hyperlink.</span></span> <span data-ttu-id="f0106-110">En cas de clic sur ce lien, l’utilisateur accède à une page « Ajouter un employé » pour recueillir les détails du nouvel employé et les retourner à la page « Liste des employés » afin de créer le nouvel employé et de mettre à jour la liste.</span><span class="sxs-lookup"><span data-stu-id="f0106-110">When clicked, the page navigates to an "Add an Employee" page to gather the new employee's details and return them to the "List Employees" page to create the new employee and update the list.</span></span> <span data-ttu-id="f0106-111">Ce style de navigation s’apparente à l’appel d’une méthode pour effectuer un traitement et retourner une valeur, ce qui porte le nom de programmation structurée.</span><span class="sxs-lookup"><span data-stu-id="f0106-111">This style of navigation is similar to calling a method to perform some processing and return a value, which is known as structured programming.</span></span> <span data-ttu-id="f0106-112">Ce style de navigation est appelé *navigation structurée*.</span><span class="sxs-lookup"><span data-stu-id="f0106-112">As such, this style of navigation is known as *structured navigation*.</span></span>

<span data-ttu-id="f0106-113">La classe <xref:System.Windows.Controls.Page> n’implémente pas la prise en charge de la navigation structurée.</span><span class="sxs-lookup"><span data-stu-id="f0106-113">The <xref:System.Windows.Controls.Page> class doesn't implement support for structured navigation.</span></span> <span data-ttu-id="f0106-114">Au lieu de cela, la classe <xref:System.Windows.Navigation.PageFunction%601> dérive de <xref:System.Windows.Controls.Page> et l’étend avec les constructions de base requises pour la navigation structurée.</span><span class="sxs-lookup"><span data-stu-id="f0106-114">Instead, the <xref:System.Windows.Navigation.PageFunction%601> class derives from <xref:System.Windows.Controls.Page> and extends it with the basic constructs required for structured navigation.</span></span> <span data-ttu-id="f0106-115">Cette rubrique montre comment établir une navigation structurée à l’aide de <xref:System.Windows.Navigation.PageFunction%601>.</span><span class="sxs-lookup"><span data-stu-id="f0106-115">This topic shows how to establish structured navigation using <xref:System.Windows.Navigation.PageFunction%601>.</span></span>

<a name="Structured_Navigation"></a>

## <a name="structured-navigation"></a><span data-ttu-id="f0106-116">Navigation structurée</span><span class="sxs-lookup"><span data-stu-id="f0106-116">Structured Navigation</span></span>

<span data-ttu-id="f0106-117">Quand une page en appelle une autre dans une navigation structurée, certains ou tous les comportements suivants sont nécessaires :</span><span class="sxs-lookup"><span data-stu-id="f0106-117">When one page calls another page in a structured navigation, some or all of the following behaviors are required:</span></span>

- <span data-ttu-id="f0106-118">La page appelante accède à la page appelée, éventuellement en passant les paramètres exigés par cette dernière.</span><span class="sxs-lookup"><span data-stu-id="f0106-118">The calling page navigates to the called page, optionally passing parameters required by the called page.</span></span>

- <span data-ttu-id="f0106-119">La page appelée, quand un utilisateur a fini d’utiliser la page appelante, revient spécifiquement à la page appelante et, éventuellement :</span><span class="sxs-lookup"><span data-stu-id="f0106-119">The called page, when a user has completed using the calling page, returns specifically to the calling page, optionally:</span></span>

  - <span data-ttu-id="f0106-120">Retourne des informations d’état qui décrivent comment la page appelante a été terminée (par exemple, si un utilisateur a appuyé sur un bouton OK ou Annuler)</span><span class="sxs-lookup"><span data-stu-id="f0106-120">Returning state information that describes how the calling page was completed (for example, whether a user pressed an OK button or a Cancel button).</span></span>

  - <span data-ttu-id="f0106-121">Retourne les données recueillies auprès de l’utilisateur (par exemple, les détails du nouvel employé)</span><span class="sxs-lookup"><span data-stu-id="f0106-121">Returning that data that was collected from the user (for example, new employee details).</span></span>

- <span data-ttu-id="f0106-122">Quand la page appelante revient à la page appelée, celle-ci est supprimée de l’historique de navigation afin d’isoler une instance d’une page appelée d’une autre.</span><span class="sxs-lookup"><span data-stu-id="f0106-122">When the calling page returns to the called page, the called page is removed from navigation history to isolate one instance of a called page from another.</span></span>

<span data-ttu-id="f0106-123">Ces comportements sont illustrés par la figure suivante :</span><span class="sxs-lookup"><span data-stu-id="f0106-123">These behaviors are illustrated by the following figure:</span></span>

![Capture d’écran montre le flow entre la page appelante et la page appelée.](./media/structured-navigation-overview/flow-between-calling-page-called-page.png)

<span data-ttu-id="f0106-125">Vous pouvez implémenter ces comportements à l’aide d’un <xref:System.Windows.Navigation.PageFunction%601> comme page appelée.</span><span class="sxs-lookup"><span data-stu-id="f0106-125">You can implement these behaviors by using a <xref:System.Windows.Navigation.PageFunction%601> as the called page.</span></span>

<a name="Structured_Navigation_with_PageFunction"></a>

## <a name="structured-navigation-with-pagefunction"></a><span data-ttu-id="f0106-126">Navigation structurée avec PageFunction</span><span class="sxs-lookup"><span data-stu-id="f0106-126">Structured Navigation with PageFunction</span></span>

<span data-ttu-id="f0106-127">Cette rubrique montre comment implémenter les mécanismes de base de la navigation structurée impliquant une seule <xref:System.Windows.Navigation.PageFunction%601>.</span><span class="sxs-lookup"><span data-stu-id="f0106-127">This topic shows how to implement the basic mechanics of structured navigation involving a single <xref:System.Windows.Navigation.PageFunction%601>.</span></span> <span data-ttu-id="f0106-128">Dans cet exemple, un <xref:System.Windows.Controls.Page> appelle une <xref:System.Windows.Navigation.PageFunction%601> pour obtenir une valeur <xref:System.String> de l’utilisateur et la retourner.</span><span class="sxs-lookup"><span data-stu-id="f0106-128">In this sample, a <xref:System.Windows.Controls.Page> calls a <xref:System.Windows.Navigation.PageFunction%601> to get a <xref:System.String> value from the user and return it.</span></span>

### <a name="creating-a-calling-page"></a><span data-ttu-id="f0106-129">Création d’une page appelante</span><span class="sxs-lookup"><span data-stu-id="f0106-129">Creating a Calling Page</span></span>

<span data-ttu-id="f0106-130">La page qui appelle un <xref:System.Windows.Navigation.PageFunction%601> peut être une <xref:System.Windows.Controls.Page> ou un <xref:System.Windows.Navigation.PageFunction%601>.</span><span class="sxs-lookup"><span data-stu-id="f0106-130">The page that calls a <xref:System.Windows.Navigation.PageFunction%601> can be either a <xref:System.Windows.Controls.Page> or a <xref:System.Windows.Navigation.PageFunction%601>.</span></span> <span data-ttu-id="f0106-131">Dans cet exemple, il s’agit d’un <xref:System.Windows.Controls.Page>, comme indiqué dans le code suivant.</span><span class="sxs-lookup"><span data-stu-id="f0106-131">In this example, it is a <xref:System.Windows.Controls.Page>, as shown in the following code.</span></span>

[!code-xaml[StructuredNavigationSample#CallingPageDefaultMARKUP1](~/samples/snippets/csharp/VS_Snippets_Wpf/StructuredNavigationSample/CSharp/CallingPage.xaml#callingpagedefaultmarkup1)]
[!code-xaml[StructuredNavigationSample#CallingPageDefaultMARKUP2](~/samples/snippets/csharp/VS_Snippets_Wpf/StructuredNavigationSample/CSharp/CallingPage.xaml#callingpagedefaultmarkup2)]

[!code-csharp[StructuredNavigationSample#CallingPageDefaultCODEBEHIND1](~/samples/snippets/csharp/VS_Snippets_Wpf/StructuredNavigationSample/CSharp/CallingPage.xaml.cs#callingpagedefaultcodebehind1)]
[!code-vb[StructuredNavigationSample#CallingPageDefaultCODEBEHIND1](~/samples/snippets/visualbasic/VS_Snippets_Wpf/StructuredNavigationSample/VisualBasic/CallingPage.xaml.vb#callingpagedefaultcodebehind1)]
[!code-csharp[StructuredNavigationSample#CallingPageDefaultCODEBEHIND2](~/samples/snippets/csharp/VS_Snippets_Wpf/StructuredNavigationSample/CSharp/CallingPage.xaml.cs#callingpagedefaultcodebehind2)]
[!code-vb[StructuredNavigationSample#CallingPageDefaultCODEBEHIND2](~/samples/snippets/visualbasic/VS_Snippets_Wpf/StructuredNavigationSample/VisualBasic/CallingPage.xaml.vb#callingpagedefaultcodebehind2)]
[!code-csharp[StructuredNavigationSample#CallingPageDefaultCODEBEHIND3](~/samples/snippets/csharp/VS_Snippets_Wpf/StructuredNavigationSample/CSharp/CallingPage.xaml.cs#callingpagedefaultcodebehind3)]
[!code-vb[StructuredNavigationSample#CallingPageDefaultCODEBEHIND3](~/samples/snippets/visualbasic/VS_Snippets_Wpf/StructuredNavigationSample/VisualBasic/CallingPage.xaml.vb#callingpagedefaultcodebehind3)]

### <a name="creating-a-page-function-to-call"></a><span data-ttu-id="f0106-132">Création d’une fonction de page à appeler</span><span class="sxs-lookup"><span data-stu-id="f0106-132">Creating a Page Function to Call</span></span>

<span data-ttu-id="f0106-133">Étant donné que la page appelante peut utiliser la page appelée pour collecter et retourner des données de l’utilisateur, <xref:System.Windows.Navigation.PageFunction%601> est implémenté en tant que classe générique dont l’argument de type spécifie le type de la valeur retournée par la page appelée.</span><span class="sxs-lookup"><span data-stu-id="f0106-133">Because the calling page can use the called page to collect and return data from the user, <xref:System.Windows.Navigation.PageFunction%601> is implemented as a generic class whose type argument specifies the type of the value that the called page will return.</span></span> <span data-ttu-id="f0106-134">Le code suivant illustre l’implémentation initiale de la page appelée, à l’aide d’un <xref:System.Windows.Navigation.PageFunction%601>, qui retourne une <xref:System.String>.</span><span class="sxs-lookup"><span data-stu-id="f0106-134">The following code shows the initial implementation of the called page, using a <xref:System.Windows.Navigation.PageFunction%601>, which returns a <xref:System.String>.</span></span>

[!code-xaml[StructuredNavigationSample#CalledPageFunctionMARKUP](~/samples/snippets/csharp/VS_Snippets_Wpf/StructuredNavigationSample/CSharp/CalledPageFunction.xaml#calledpagefunctionmarkup)]

[!code-csharp[StructuredNavigationSample#CalledPageFunctionCODEBEHIND1](~/samples/snippets/csharp/VS_Snippets_Wpf/StructuredNavigationSample/CSharp/CalledPageFunction.xaml.cs#calledpagefunctioncodebehind1)]
[!code-vb[StructuredNavigationSample#CalledPageFunctionCODEBEHIND1](~/samples/snippets/visualbasic/VS_Snippets_Wpf/StructuredNavigationSample/VisualBasic/CalledPageFunction.xaml.vb#calledpagefunctioncodebehind1)]
[!code-csharp[StructuredNavigationSample#CalledPageFunctionCODEBEHIND2](~/samples/snippets/csharp/VS_Snippets_Wpf/StructuredNavigationSample/CSharp/CalledPageFunction.xaml.cs#calledpagefunctioncodebehind2)]
[!code-vb[StructuredNavigationSample#CalledPageFunctionCODEBEHIND2](~/samples/snippets/visualbasic/VS_Snippets_Wpf/StructuredNavigationSample/VisualBasic/CalledPageFunction.xaml.vb#calledpagefunctioncodebehind2)]

<span data-ttu-id="f0106-135">La déclaration d’un <xref:System.Windows.Navigation.PageFunction%601> est semblable à la déclaration d’un <xref:System.Windows.Controls.Page> avec l’ajout des arguments de type.</span><span class="sxs-lookup"><span data-stu-id="f0106-135">The declaration of a <xref:System.Windows.Navigation.PageFunction%601> is similar to the declaration of a <xref:System.Windows.Controls.Page> with the addition of the type arguments.</span></span> <span data-ttu-id="f0106-136">Comme vous pouvez le constater dans l’exemple de code, les arguments de type sont spécifiés à la fois dans le balisage [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] (à l’aide de l’attribut `x:TypeArguments`) et dans le code-behind (à l’aide de la syntaxe d’argument de type générique standard).</span><span class="sxs-lookup"><span data-stu-id="f0106-136">As you can see from the code example, the type arguments are specified in both [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] markup, using the `x:TypeArguments` attribute, and code-behind, using standard generic type argument syntax.</span></span>

<span data-ttu-id="f0106-137">Vous n’êtes pas obligé d’utiliser uniquement des classes .NET Framework en tant qu’arguments de type.</span><span class="sxs-lookup"><span data-stu-id="f0106-137">You don't have to use only .NET Framework classes as type arguments.</span></span> <span data-ttu-id="f0106-138">Un <xref:System.Windows.Navigation.PageFunction%601> peut être appelé pour collecter des données spécifiques au domaine qui sont abstraites en tant que type personnalisé.</span><span class="sxs-lookup"><span data-stu-id="f0106-138">A <xref:System.Windows.Navigation.PageFunction%601> could be called to gather domain-specific data that is abstracted as a custom type.</span></span> <span data-ttu-id="f0106-139">Le code suivant montre comment utiliser un type personnalisé comme argument de type pour un <xref:System.Windows.Navigation.PageFunction%601>.</span><span class="sxs-lookup"><span data-stu-id="f0106-139">The following code shows how to use a custom type as a type argument for a <xref:System.Windows.Navigation.PageFunction%601>.</span></span>

[!code-csharp[CustomTypePageFunctionSnippets#CustomTypeCODE1](~/samples/snippets/csharp/VS_Snippets_Wpf/CustomTypePageFunctionSnippets/CSharp/CustomType.cs#customtypecode1)]
[!code-vb[CustomTypePageFunctionSnippets#CustomTypeCODE1](~/samples/snippets/visualbasic/VS_Snippets_Wpf/CustomTypePageFunctionSnippets/VisualBasic/CustomType.vb#customtypecode1)]
[!code-csharp[CustomTypePageFunctionSnippets#CustomTypeCODE2](~/samples/snippets/csharp/VS_Snippets_Wpf/CustomTypePageFunctionSnippets/CSharp/CustomType.cs#customtypecode2)]
[!code-vb[CustomTypePageFunctionSnippets#CustomTypeCODE2](~/samples/snippets/visualbasic/VS_Snippets_Wpf/CustomTypePageFunctionSnippets/VisualBasic/CustomType.vb#customtypecode2)]

[!code-xaml[CustomTypePageFunctionSnippets#CustomTypePageFunctionMARKUP1](~/samples/snippets/csharp/VS_Snippets_Wpf/CustomTypePageFunctionSnippets/CSharp/CustomTypePageFunction.xaml#customtypepagefunctionmarkup1)]
[!code-xaml[CustomTypePageFunctionSnippets#CustomTypePageFunctionMARKUP2](~/samples/snippets/csharp/VS_Snippets_Wpf/CustomTypePageFunctionSnippets/CSharp/CustomTypePageFunction.xaml#customtypepagefunctionmarkup2)]

[!code-csharp[CustomTypePageFunctionSnippets#CustomTypePageFunctionCODEBEHIND1](~/samples/snippets/csharp/VS_Snippets_Wpf/CustomTypePageFunctionSnippets/CSharp/CustomTypePageFunction.xaml.cs#customtypepagefunctioncodebehind1)]
[!code-vb[CustomTypePageFunctionSnippets#CustomTypePageFunctionCODEBEHIND1](~/samples/snippets/visualbasic/VS_Snippets_Wpf/CustomTypePageFunctionSnippets/VisualBasic/CustomTypePageFunction.xaml.vb#customtypepagefunctioncodebehind1)]
[!code-csharp[CustomTypePageFunctionSnippets#CustomTypePageFunctionCODEBEHIND2](~/samples/snippets/csharp/VS_Snippets_Wpf/CustomTypePageFunctionSnippets/CSharp/CustomTypePageFunction.xaml.cs#customtypepagefunctioncodebehind2)]
[!code-vb[CustomTypePageFunctionSnippets#CustomTypePageFunctionCODEBEHIND2](~/samples/snippets/visualbasic/VS_Snippets_Wpf/CustomTypePageFunctionSnippets/VisualBasic/CustomTypePageFunction.xaml.vb#customtypepagefunctioncodebehind2)]

<span data-ttu-id="f0106-140">Les arguments de type pour le <xref:System.Windows.Navigation.PageFunction%601> fournissent la base de la communication entre une page appelante et la page appelée, qui sont décrites dans les sections suivantes.</span><span class="sxs-lookup"><span data-stu-id="f0106-140">The type arguments for the <xref:System.Windows.Navigation.PageFunction%601> provide the foundation for the communication between a calling page and the called page, which are discussed in the following sections.</span></span>

<span data-ttu-id="f0106-141">Comme vous le verrez, le type identifié avec la déclaration d’un <xref:System.Windows.Navigation.PageFunction%601> joue un rôle important dans le retour des données d’un <xref:System.Windows.Navigation.PageFunction%601> à la page appelante.</span><span class="sxs-lookup"><span data-stu-id="f0106-141">As you'll see, the type that is identified with the declaration of a <xref:System.Windows.Navigation.PageFunction%601> plays an important role in returning data from a <xref:System.Windows.Navigation.PageFunction%601> to the calling page.</span></span>

### <a name="calling-a-pagefunction-and-passing-parameters"></a><span data-ttu-id="f0106-142">Appel de PageFunction et passage de paramètres</span><span class="sxs-lookup"><span data-stu-id="f0106-142">Calling a PageFunction and Passing Parameters</span></span>

<span data-ttu-id="f0106-143">Pour appeler une page, la page appelante doit instancier la page appelée et y accéder à l’aide de la méthode <xref:System.Windows.Navigation.NavigationService.Navigate%2A>.</span><span class="sxs-lookup"><span data-stu-id="f0106-143">To call a page, the calling page must instantiate the called page and navigate to it using the <xref:System.Windows.Navigation.NavigationService.Navigate%2A> method.</span></span> <span data-ttu-id="f0106-144">Cela permet à la page appelante de passer les données initiales à la page appelée, par exemple les valeurs par défaut des données recueillies par la page appelée.</span><span class="sxs-lookup"><span data-stu-id="f0106-144">This allows the calling page to pass initial data to the called page, such as default values for the data being gathered by the called page.</span></span>

<span data-ttu-id="f0106-145">Le code suivant montre la page appelée avec un constructeur sans paramètre pour accepter les paramètres de la page appelante.</span><span class="sxs-lookup"><span data-stu-id="f0106-145">The following code shows the called page with a non-parameterless constructor to accept parameters from the calling page.</span></span>

[!code-csharp[StructuredNavigationSample#AcceptsInitialDataCODEBEHIND1](~/samples/snippets/csharp/VS_Snippets_Wpf/StructuredNavigationSample/CSharp/CalledPageFunction.xaml.cs#acceptsinitialdatacodebehind1)]
[!code-vb[StructuredNavigationSample#AcceptsInitialDataCODEBEHIND1](~/samples/snippets/visualbasic/VS_Snippets_Wpf/StructuredNavigationSample/VisualBasic/CalledPageFunction.xaml.vb#acceptsinitialdatacodebehind1)]
[!code-csharp[StructuredNavigationSample#AcceptsInitialDataCODEBEHIND2](~/samples/snippets/csharp/VS_Snippets_Wpf/StructuredNavigationSample/CSharp/CalledPageFunction.xaml.cs#acceptsinitialdatacodebehind2)]
[!code-vb[StructuredNavigationSample#AcceptsInitialDataCODEBEHIND2](~/samples/snippets/visualbasic/VS_Snippets_Wpf/StructuredNavigationSample/VisualBasic/CalledPageFunction.xaml.vb#acceptsinitialdatacodebehind2)]
[!code-csharp[StructuredNavigationSample#AcceptsInitialDataCODEBEHIND3](~/samples/snippets/csharp/VS_Snippets_Wpf/StructuredNavigationSample/CSharp/CalledPageFunction.xaml.cs#acceptsinitialdatacodebehind3)]
[!code-vb[StructuredNavigationSample#AcceptsInitialDataCODEBEHIND3](~/samples/snippets/visualbasic/VS_Snippets_Wpf/StructuredNavigationSample/VisualBasic/CalledPageFunction.xaml.vb#acceptsinitialdatacodebehind3)]
[!code-csharp[StructuredNavigationSample#AcceptsInitialDataCODEBEHIND4](~/samples/snippets/csharp/VS_Snippets_Wpf/StructuredNavigationSample/CSharp/CalledPageFunction.xaml.cs#acceptsinitialdatacodebehind4)]
[!code-vb[StructuredNavigationSample#AcceptsInitialDataCODEBEHIND4](~/samples/snippets/visualbasic/VS_Snippets_Wpf/StructuredNavigationSample/VisualBasic/CalledPageFunction.xaml.vb#acceptsinitialdatacodebehind4)]

<span data-ttu-id="f0106-146">Le code suivant montre la page appelante qui gère l’événement <xref:System.Windows.Documents.Hyperlink.Click> de l' <xref:System.Windows.Documents.Hyperlink> pour instancier la page appelée et lui passer une valeur de chaîne initiale.</span><span class="sxs-lookup"><span data-stu-id="f0106-146">The following code shows the calling page handling the <xref:System.Windows.Documents.Hyperlink.Click> event of the <xref:System.Windows.Documents.Hyperlink> to instantiate the called page and pass it an initial string value.</span></span>

[!code-xaml[StructuredNavigationSample#PassingDataMARKUP2](~/samples/snippets/csharp/VS_Snippets_Wpf/StructuredNavigationSample/CSharp/CallingPage.xaml#passingdatamarkup2)]
[!code-csharp[StructuredNavigationSample#PassingDataCODEBEHIND1](~/samples/snippets/csharp/VS_Snippets_Wpf/StructuredNavigationSample/CSharp/CallingPage.xaml.cs#passingdatacodebehind1)]
[!code-vb[StructuredNavigationSample#PassingDataCODEBEHIND1](~/samples/snippets/visualbasic/VS_Snippets_Wpf/StructuredNavigationSample/VisualBasic/CallingPage.xaml.vb#passingdatacodebehind1)]
[!code-csharp[StructuredNavigationSample#PassingDataCODEBEHIND2](~/samples/snippets/csharp/VS_Snippets_Wpf/StructuredNavigationSample/CSharp/CallingPage.xaml.cs#passingdatacodebehind2)]
[!code-vb[StructuredNavigationSample#PassingDataCODEBEHIND2](~/samples/snippets/visualbasic/VS_Snippets_Wpf/StructuredNavigationSample/VisualBasic/CallingPage.xaml.vb#passingdatacodebehind2)]
[!code-csharp[StructuredNavigationSample#PassingDataCODEBEHIND3](~/samples/snippets/csharp/VS_Snippets_Wpf/StructuredNavigationSample/CSharp/CallingPage.xaml.cs#passingdatacodebehind3)]
[!code-vb[StructuredNavigationSample#PassingDataCODEBEHIND3](~/samples/snippets/visualbasic/VS_Snippets_Wpf/StructuredNavigationSample/VisualBasic/CallingPage.xaml.vb#passingdatacodebehind3)]

<span data-ttu-id="f0106-147">Vous n’êtes pas obligé de passer des paramètres à la page appelée.</span><span class="sxs-lookup"><span data-stu-id="f0106-147">You are not required to pass parameters to the called page.</span></span> <span data-ttu-id="f0106-148">Au lieu de cela, vous pouvez procéder comme suit :</span><span class="sxs-lookup"><span data-stu-id="f0106-148">Instead, you could do the following:</span></span>

- <span data-ttu-id="f0106-149">À partir de la page appelante :</span><span class="sxs-lookup"><span data-stu-id="f0106-149">From the calling page:</span></span>

  1. <span data-ttu-id="f0106-150">Instanciez la <xref:System.Windows.Navigation.PageFunction%601> appelée à l’aide du constructeur sans paramètre.</span><span class="sxs-lookup"><span data-stu-id="f0106-150">Instantiate the called <xref:System.Windows.Navigation.PageFunction%601> using the parameterless constructor.</span></span>

  2. <span data-ttu-id="f0106-151">Stockez les paramètres dans <xref:System.Windows.Application.Properties%2A>.</span><span class="sxs-lookup"><span data-stu-id="f0106-151">Store the parameters in <xref:System.Windows.Application.Properties%2A>.</span></span>

  3. <span data-ttu-id="f0106-152">Accédez à la <xref:System.Windows.Navigation.PageFunction%601>appelée.</span><span class="sxs-lookup"><span data-stu-id="f0106-152">Navigate to the called <xref:System.Windows.Navigation.PageFunction%601>.</span></span>

- <span data-ttu-id="f0106-153">À partir de la <xref:System.Windows.Navigation.PageFunction%601>appelée :</span><span class="sxs-lookup"><span data-stu-id="f0106-153">From the called <xref:System.Windows.Navigation.PageFunction%601>:</span></span>

  - <span data-ttu-id="f0106-154">Récupérez et utilisez les paramètres stockés dans <xref:System.Windows.Application.Properties%2A>.</span><span class="sxs-lookup"><span data-stu-id="f0106-154">Retrieve and use the parameters stored in <xref:System.Windows.Application.Properties%2A>.</span></span>

<span data-ttu-id="f0106-155">Toutefois, comme vous le verrez bientôt, vous devrez quand même utiliser du code pour instancier et accéder à la page appelée afin de recueillir les données qu’elle a retournées.</span><span class="sxs-lookup"><span data-stu-id="f0106-155">But, as you'll see shortly, you'll still need use code to instantiate and navigate to the called page to collect the data returned by the called page.</span></span> <span data-ttu-id="f0106-156">Pour cette raison, le <xref:System.Windows.Navigation.PageFunction%601> doit être maintenu actif ; dans le cas contraire, la prochaine fois que vous accédez à la <xref:System.Windows.Navigation.PageFunction%601>, [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] instancie le <xref:System.Windows.Navigation.PageFunction%601> à l’aide du constructeur sans paramètre.</span><span class="sxs-lookup"><span data-stu-id="f0106-156">For this reason, the <xref:System.Windows.Navigation.PageFunction%601> needs to be kept alive; otherwise, the next time you navigate to the <xref:System.Windows.Navigation.PageFunction%601>, [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] instantiates the <xref:System.Windows.Navigation.PageFunction%601> using the parameterless constructor.</span></span>

<span data-ttu-id="f0106-157">Avant que la page appelée puisse retourner, toutefois, elle doit retourner des données qui peuvent être récupérées par la page appelante.</span><span class="sxs-lookup"><span data-stu-id="f0106-157">Before the called page can return, however, it needs to return data that can be retrieved by the calling page.</span></span>

### <a name="returning-task-result-and-task-data-from-a-task-to-a-calling-page"></a><span data-ttu-id="f0106-158">Retour de résultat de tâche et de données de tâche à une page appelante</span><span class="sxs-lookup"><span data-stu-id="f0106-158">Returning Task Result and Task Data from a Task to a Calling Page</span></span>

<span data-ttu-id="f0106-159">Une fois que l’utilisateur a fini d’utiliser la page appelée, ce qui est indiqué dans cet exemple par un appui sur le bouton Annuler ou OK, la page appelée doit retourner.</span><span class="sxs-lookup"><span data-stu-id="f0106-159">Once the user has finished using the called page, signified in this example by pressing either the OK or Cancel buttons, the called page needs to return.</span></span> <span data-ttu-id="f0106-160">Étant donné que la page appelante a utilisé la page appelée pour recueillir des données auprès de l’utilisateur, la page appelante nécessite deux types d’informations :</span><span class="sxs-lookup"><span data-stu-id="f0106-160">Since the calling page used the called page to collect data from the user, the calling page requires two types of information:</span></span>

1. <span data-ttu-id="f0106-161">Si l’utilisateur a annulé la page appelée (en appuyant sur le bouton OK ou Annuler dans cet exemple).</span><span class="sxs-lookup"><span data-stu-id="f0106-161">Whether the user canceled the called page (by pressing either the OK button or the Cancel button in this example).</span></span> <span data-ttu-id="f0106-162">Cela permet à la page appelante de déterminer s’il faut traiter les données recueillies auprès de l’utilisateur par la page appelée.</span><span class="sxs-lookup"><span data-stu-id="f0106-162">This allows the calling page to determine whether to process the data that the calling page gathered from the user.</span></span>

2. <span data-ttu-id="f0106-163">Les données qui ont été fournies par l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="f0106-163">The data that was provided by the user.</span></span>

<span data-ttu-id="f0106-164">Pour retourner des informations, <xref:System.Windows.Navigation.PageFunction%601> implémente la méthode <xref:System.Windows.Navigation.PageFunction%601.OnReturn%2A>.</span><span class="sxs-lookup"><span data-stu-id="f0106-164">To return information, <xref:System.Windows.Navigation.PageFunction%601> implements the <xref:System.Windows.Navigation.PageFunction%601.OnReturn%2A> method.</span></span> <span data-ttu-id="f0106-165">L’exemple de code suivant montre comment l’appeler.</span><span class="sxs-lookup"><span data-stu-id="f0106-165">The following code shows how to call it.</span></span>

[!code-csharp[StructuredNavigationSample#ReturnCODEBEHIND1](~/samples/snippets/csharp/VS_Snippets_Wpf/StructuredNavigationSample/CSharp/CalledPageFunction.xaml.cs#returncodebehind1)]
[!code-vb[StructuredNavigationSample#ReturnCODEBEHIND1](~/samples/snippets/visualbasic/VS_Snippets_Wpf/StructuredNavigationSample/VisualBasic/CalledPageFunction.xaml.vb#returncodebehind1)]
[!code-csharp[StructuredNavigationSample#ReturnCODEBEHIND2](~/samples/snippets/csharp/VS_Snippets_Wpf/StructuredNavigationSample/CSharp/CalledPageFunction.xaml.cs#returncodebehind2)]
[!code-vb[StructuredNavigationSample#ReturnCODEBEHIND2](~/samples/snippets/visualbasic/VS_Snippets_Wpf/StructuredNavigationSample/VisualBasic/CalledPageFunction.xaml.vb#returncodebehind2)]

<span data-ttu-id="f0106-166">Dans cet exemple, si l’utilisateur appuie sur le bouton Annuler, une valeur `null` est retournée à la page appelante.</span><span class="sxs-lookup"><span data-stu-id="f0106-166">In this example, if a user presses the Cancel button, a value of `null` is returned to the calling page.</span></span> <span data-ttu-id="f0106-167">Si en revanche il appuie sur le bouton OK, la valeur de chaîne fournie par l’utilisateur est retournée.</span><span class="sxs-lookup"><span data-stu-id="f0106-167">If the OK button is pressed instead, the string value provided by the user is returned.</span></span> <span data-ttu-id="f0106-168"><xref:System.Windows.Navigation.PageFunction%601.OnReturn%2A> est une méthode `protected virtual` que vous appelez pour retourner vos données à la page appelante.</span><span class="sxs-lookup"><span data-stu-id="f0106-168"><xref:System.Windows.Navigation.PageFunction%601.OnReturn%2A> is a `protected virtual` method that you call to return your data to the calling page.</span></span> <span data-ttu-id="f0106-169">Vos données doivent être empaquetées dans une instance du type de <xref:System.Windows.Navigation.ReturnEventArgs%601> générique, dont l’argument de type spécifie le type de valeur retourné par <xref:System.Windows.Navigation.ReturnEventArgs%601.Result%2A>.</span><span class="sxs-lookup"><span data-stu-id="f0106-169">Your data needs to be packaged in an instance of the generic <xref:System.Windows.Navigation.ReturnEventArgs%601> type, whose type argument specifies the type of value that <xref:System.Windows.Navigation.ReturnEventArgs%601.Result%2A> returns.</span></span> <span data-ttu-id="f0106-170">De cette façon, lorsque vous déclarez une <xref:System.Windows.Navigation.PageFunction%601> avec un argument de type particulier, vous indiquez qu’un <xref:System.Windows.Navigation.PageFunction%601> retournera une instance du type spécifié par l’argument de type.</span><span class="sxs-lookup"><span data-stu-id="f0106-170">In this way, when you declare a <xref:System.Windows.Navigation.PageFunction%601> with a particular type argument, you are stating that a <xref:System.Windows.Navigation.PageFunction%601> will return an instance of the type that is specified by the type argument.</span></span> <span data-ttu-id="f0106-171">Dans cet exemple, l’argument de type et, par conséquent, la valeur de retour est de type <xref:System.String>.</span><span class="sxs-lookup"><span data-stu-id="f0106-171">In this example, the type argument and, consequently, the return value is of type <xref:System.String>.</span></span>

<span data-ttu-id="f0106-172">Lorsque <xref:System.Windows.Navigation.PageFunction%601.OnReturn%2A> est appelé, la page appelante a besoin d’un moyen de recevoir la valeur de retour du <xref:System.Windows.Navigation.PageFunction%601>.</span><span class="sxs-lookup"><span data-stu-id="f0106-172">When <xref:System.Windows.Navigation.PageFunction%601.OnReturn%2A> is called, the calling page needs some way of receiving the return value of the <xref:System.Windows.Navigation.PageFunction%601>.</span></span> <span data-ttu-id="f0106-173">Pour cette raison, <xref:System.Windows.Navigation.PageFunction%601> implémente l’événement <xref:System.Windows.Navigation.PageFunction%601.Return> pour l’appel des pages à gérer.</span><span class="sxs-lookup"><span data-stu-id="f0106-173">For this reason, <xref:System.Windows.Navigation.PageFunction%601> implements the <xref:System.Windows.Navigation.PageFunction%601.Return> event for calling pages to handle.</span></span> <span data-ttu-id="f0106-174">Lorsque <xref:System.Windows.Navigation.PageFunction%601.OnReturn%2A> est appelée, <xref:System.Windows.Navigation.PageFunction%601.Return> est déclenchée, de sorte que la page appelante peut s’inscrire auprès de <xref:System.Windows.Navigation.PageFunction%601.Return> pour recevoir la notification.</span><span class="sxs-lookup"><span data-stu-id="f0106-174">When <xref:System.Windows.Navigation.PageFunction%601.OnReturn%2A> is called, <xref:System.Windows.Navigation.PageFunction%601.Return> is raised, so the calling page can register with <xref:System.Windows.Navigation.PageFunction%601.Return> to receive the notification.</span></span>

[!code-csharp[StructuredNavigationSample#ProcessResultCODEBEHIND1](~/samples/snippets/csharp/VS_Snippets_Wpf/StructuredNavigationSample/CSharp/CallingPage.xaml.cs#processresultcodebehind1)]
[!code-vb[StructuredNavigationSample#ProcessResultCODEBEHIND1](~/samples/snippets/visualbasic/VS_Snippets_Wpf/StructuredNavigationSample/VisualBasic/CallingPage.xaml.vb#processresultcodebehind1)]
[!code-csharp[StructuredNavigationSample#ProcessResultCODEBEHIND2](~/samples/snippets/csharp/VS_Snippets_Wpf/StructuredNavigationSample/CSharp/CallingPage.xaml.cs#processresultcodebehind2)]
[!code-vb[StructuredNavigationSample#ProcessResultCODEBEHIND2](~/samples/snippets/visualbasic/VS_Snippets_Wpf/StructuredNavigationSample/VisualBasic/CallingPage.xaml.vb#processresultcodebehind2)]

### <a name="removing-task-pages-when-a-task-completes"></a><span data-ttu-id="f0106-175">Suppression de pages de tâche quand une tâche se termine</span><span class="sxs-lookup"><span data-stu-id="f0106-175">Removing Task Pages When a Task Completes</span></span>

<span data-ttu-id="f0106-176">Quand une page appelée est retournée, et que l’utilisateur ne l’a pas annulée, la page appelante traite les données fournies par l’utilisateur et retournées par la page appelée.</span><span class="sxs-lookup"><span data-stu-id="f0106-176">When a called page returns, and the user didn't cancel the called page, the calling page will process the data that was provided by the user and also returned from the called page.</span></span> <span data-ttu-id="f0106-177">L’acquisition de données de cette manière est généralement une opération isolée. Quand la page appelée est retournée, la page appelante doit créer et naviguer vers une nouvelle page appelante pour capturer davantage de données.</span><span class="sxs-lookup"><span data-stu-id="f0106-177">Data acquisition in this way is usually an isolated activity; when the called page returns, the calling page needs to create and navigate to a new calling page to capture more data.</span></span>

<span data-ttu-id="f0106-178">Toutefois, sauf si une page appelée est supprimée du journal, un utilisateur pourra revenir à une instance précédente de la page appelante.</span><span class="sxs-lookup"><span data-stu-id="f0106-178">However, unless a called page is removed from the journal, a user will be able to navigate back to a previous instance of the calling page.</span></span> <span data-ttu-id="f0106-179">Le fait qu’un <xref:System.Windows.Navigation.PageFunction%601> soit conservé dans le journal est déterminé par la propriété <xref:System.Windows.Navigation.PageFunctionBase.RemoveFromJournal%2A>.</span><span class="sxs-lookup"><span data-stu-id="f0106-179">Whether a <xref:System.Windows.Navigation.PageFunction%601> is retained in the journal is determined by the <xref:System.Windows.Navigation.PageFunctionBase.RemoveFromJournal%2A> property.</span></span> <span data-ttu-id="f0106-180">Par défaut, une fonction de page est automatiquement supprimée lorsque <xref:System.Windows.Navigation.PageFunction%601.OnReturn%2A> est appelé, car <xref:System.Windows.Navigation.PageFunctionBase.RemoveFromJournal%2A> a la valeur `true`.</span><span class="sxs-lookup"><span data-stu-id="f0106-180">By default, a page function is automatically removed when <xref:System.Windows.Navigation.PageFunction%601.OnReturn%2A> is called because <xref:System.Windows.Navigation.PageFunctionBase.RemoveFromJournal%2A> is set to `true`.</span></span> <span data-ttu-id="f0106-181">Pour conserver une fonction de page dans l’historique de navigation après l’appel de <xref:System.Windows.Navigation.PageFunction%601.OnReturn%2A>, définissez <xref:System.Windows.Navigation.PageFunctionBase.RemoveFromJournal%2A> sur `false`.</span><span class="sxs-lookup"><span data-stu-id="f0106-181">To keep a page function in navigation history after <xref:System.Windows.Navigation.PageFunction%601.OnReturn%2A> is called, set <xref:System.Windows.Navigation.PageFunctionBase.RemoveFromJournal%2A> to `false`.</span></span>

<a name="Other_Types_of_Structured_Navigation"></a>

## <a name="other-types-of-structured-navigation"></a><span data-ttu-id="f0106-182">Autres types de navigation structurée</span><span class="sxs-lookup"><span data-stu-id="f0106-182">Other Types of Structured Navigation</span></span>

<span data-ttu-id="f0106-183">Cette rubrique illustre l’utilisation la plus simple d’un <xref:System.Windows.Navigation.PageFunction%601> pour prendre en charge la navigation structurée appel/retour.</span><span class="sxs-lookup"><span data-stu-id="f0106-183">This topic illustrates the most basic use of a <xref:System.Windows.Navigation.PageFunction%601> to support call/return structured navigation.</span></span> <span data-ttu-id="f0106-184">Cette base vous permet de créer des types de navigation structurée plus complexes.</span><span class="sxs-lookup"><span data-stu-id="f0106-184">This foundation provides you with the ability to create more complex types of structured navigation.</span></span>

<span data-ttu-id="f0106-185">Par exemple, parfois plusieurs pages sont requises par une page appelante pour recueillir suffisamment de données auprès d’un utilisateur ou pour effectuer une tâche.</span><span class="sxs-lookup"><span data-stu-id="f0106-185">For example, sometimes multiple pages are required by a calling page to gather enough data from a user or to perform a task.</span></span> <span data-ttu-id="f0106-186">En cas d’utilisation de plusieurs pages, on emploie le terme « Assistant ».</span><span class="sxs-lookup"><span data-stu-id="f0106-186">The use of multiple pages is referred to as a "wizard".</span></span>

<span data-ttu-id="f0106-187">Dans d’autres cas, les applications peuvent avoir des topologies de navigation complexes qui dépendent de la navigation structurée pour fonctionner efficacement.</span><span class="sxs-lookup"><span data-stu-id="f0106-187">In other cases, applications may have complex navigation topologies that depend on structured navigation to operate effectively.</span></span> <span data-ttu-id="f0106-188">Pour plus d’informations, consultez [Vue d’ensemble des topologies de navigation](navigation-topologies-overview.md).</span><span class="sxs-lookup"><span data-stu-id="f0106-188">For more information, see [Navigation Topologies Overview](navigation-topologies-overview.md).</span></span>

## <a name="see-also"></a><span data-ttu-id="f0106-189">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="f0106-189">See also</span></span>

- <xref:System.Windows.Navigation.PageFunction%601>
- <xref:System.Windows.Navigation.NavigationService>
- [<span data-ttu-id="f0106-190">Vue d’ensemble des topologies de navigation</span><span class="sxs-lookup"><span data-stu-id="f0106-190">Navigation Topologies Overview</span></span>](navigation-topologies-overview.md)
