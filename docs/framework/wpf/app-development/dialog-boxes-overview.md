---
title: Vue d'ensemble des boîtes de dialogue
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- modeless dialog boxes [WPF]
- dialog boxes [WPF]
- message boxes [WPF]
- modal dialog boxes [WPF]
ms.assetid: 0d23d544-a393-4a02-a3aa-d8cd5d3d6511
ms.openlocfilehash: c98d6a45d151d4b683a21e48eaeb5f4a19eaadb1
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 03/12/2020
ms.locfileid: "79187453"
---
# <a name="dialog-boxes-overview"></a><span data-ttu-id="91d3a-102">Aperçu des boîtes de dialogue</span><span class="sxs-lookup"><span data-stu-id="91d3a-102">Dialog boxes overview</span></span>
<span data-ttu-id="91d3a-103">Les applications autonomes ont généralement une fenêtre principale qui affiche les données principales sur lesquelles [!INCLUDE[TLA#tla_ui](../../../../includes/tlasharptla-ui-md.md)] l’application fonctionne et expose la fonctionnalité pour traiter ces données à travers des mécanismes comme les barres de menu, les barres d’outils et les barres d’état.</span><span class="sxs-lookup"><span data-stu-id="91d3a-103">Standalone applications typically have a main window that both displays the main data over which the application operates and exposes the functionality to process that data through [!INCLUDE[TLA#tla_ui](../../../../includes/tlasharptla-ui-md.md)] mechanisms like menu bars, tool bars, and status bars.</span></span> <span data-ttu-id="91d3a-104">Une application non triviale peut également afficher des fenêtres supplémentaires pour effectuer les opérations suivantes :</span><span class="sxs-lookup"><span data-stu-id="91d3a-104">A non-trivial application may also display additional windows to do the following:</span></span>  
  
- <span data-ttu-id="91d3a-105">Présenter des informations spécifiques aux utilisateurs</span><span class="sxs-lookup"><span data-stu-id="91d3a-105">Display specific information to users.</span></span>  
  
- <span data-ttu-id="91d3a-106">Recueillir des informations auprès des utilisateurs</span><span class="sxs-lookup"><span data-stu-id="91d3a-106">Gather information from users.</span></span>  
  
- <span data-ttu-id="91d3a-107">Afficher et recueillir des informations</span><span class="sxs-lookup"><span data-stu-id="91d3a-107">Both display and gather information.</span></span>  
  
 <span data-ttu-id="91d3a-108">Ces types de fenêtres sont connus sous le nom de *boîtes de dialogue,* et il existe deux types: modal et sans mode.</span><span class="sxs-lookup"><span data-stu-id="91d3a-108">These types of windows are known as *dialog boxes*, and there are two types: modal and modeless.</span></span>  
  
 <span data-ttu-id="91d3a-109">Une boîte de dialogue *modal* est affichée par une fonction lorsque la fonction a besoin de données supplémentaires d’un utilisateur pour continuer.</span><span class="sxs-lookup"><span data-stu-id="91d3a-109">A *modal* dialog box is displayed by a function when the function needs additional data from a user to continue.</span></span> <span data-ttu-id="91d3a-110">Étant donné que la fonction dépend de la boîte de dialogue modale pour recueillir des données, celle-ci empêche également un utilisateur d’activer d’autres fenêtres de l’application pendant qu’elle reste ouverte.</span><span class="sxs-lookup"><span data-stu-id="91d3a-110">Because the function depends on the modal dialog box to gather data, the modal dialog box also prevents a user from activating other windows in the application while it remains open.</span></span> <span data-ttu-id="91d3a-111">Dans la plupart des cas, une boîte de dialogue modal permet à un utilisateur de signaler quand ils ont terminé avec la boîte de dialogue modal en appuyant soit sur un **bouton OK** ou **Annuler.**</span><span class="sxs-lookup"><span data-stu-id="91d3a-111">In most cases, a modal dialog box allows a user to signal when they have finished with the modal dialog box by pressing either an **OK** or **Cancel** button.</span></span> <span data-ttu-id="91d3a-112">Appuyer sur le bouton **OK** indique qu’un utilisateur a saisi des données et souhaite que la fonction continue de traiter avec ces données.</span><span class="sxs-lookup"><span data-stu-id="91d3a-112">Pressing the **OK** button indicates that a user has entered data and wants the function to continue processing with that data.</span></span> <span data-ttu-id="91d3a-113">Appuyer sur le bouton **Annuler** indique qu’un utilisateur veut empêcher la fonction de s’exécuter complètement.</span><span class="sxs-lookup"><span data-stu-id="91d3a-113">Pressing the **Cancel** button indicates that a user wants to stop the function from executing altogether.</span></span> <span data-ttu-id="91d3a-114">Les exemples les plus courants de boîtes de dialogue modales sont présentés pour ouvrir, enregistrer et imprimer des données.</span><span class="sxs-lookup"><span data-stu-id="91d3a-114">The most common examples of modal dialog boxes are shown to open, save, and print data.</span></span>  
  
 <span data-ttu-id="91d3a-115">Une boîte de dialogue *sans mode,* d’autre part, n’empêche pas un utilisateur d’activer d’autres fenêtres pendant qu’il est ouvert.</span><span class="sxs-lookup"><span data-stu-id="91d3a-115">A *modeless* dialog box, on the other hand, does not prevent a user from activating other windows while it is open.</span></span> <span data-ttu-id="91d3a-116">Par exemple, si un utilisateur souhaite rechercher des occurrences d’un mot particulier dans un document, une fenêtre principale peut ouvrir une boîte de dialogue pour l’inviter à spécifier le mot qu’il recherche.</span><span class="sxs-lookup"><span data-stu-id="91d3a-116">For example, if a user wants to find occurrences of a particular word in a document, a main window will often open a dialog box to ask a user what word they are looking for.</span></span> <span data-ttu-id="91d3a-117">Puisque rechercher un mot n’empêche pas l’utilisateur de modifier le document, la boîte de dialogue n’a pas besoin d’être modale.</span><span class="sxs-lookup"><span data-stu-id="91d3a-117">Since finding a word doesn't prevent a user from editing the document, however, the dialog box doesn't need to be modal.</span></span> <span data-ttu-id="91d3a-118">Une boîte de dialogue sans mode fournit au moins un bouton **Close** pour fermer la boîte de dialogue, et peut fournir des boutons supplémentaires pour exécuter des fonctions spécifiques, telles qu’un bouton **Trouver ensuite** pour trouver le mot suivant qui correspond aux critères de recherche d’un mot de recherche.</span><span class="sxs-lookup"><span data-stu-id="91d3a-118">A modeless dialog box at least provides a **Close** button to close the dialog box, and may provide additional buttons to execute specific functions, such as a **Find Next** button to find the next word that matches the find criteria of a word search.</span></span>  
  
 <span data-ttu-id="91d3a-119">Windows Presentation Foundation (WPF) vous permet de créer plusieurs types de boîtes de dialogue, y compris les boîtes de messages, les boîtes de dialogue commune et les boîtes de dialogue personnalisées.</span><span class="sxs-lookup"><span data-stu-id="91d3a-119">Windows Presentation Foundation (WPF) allows you to create several types of dialog boxes, including message boxes, common dialog boxes, and custom dialog boxes.</span></span> <span data-ttu-id="91d3a-120">Ce sujet traite de chacun, et [l’échantillon de boîte de dialogue](https://github.com/Microsoft/WPF-Samples/tree/master/Windows/DialogBox) fournit des exemples correspondants.</span><span class="sxs-lookup"><span data-stu-id="91d3a-120">This topic discusses each, and the [Dialog Box Sample](https://github.com/Microsoft/WPF-Samples/tree/master/Windows/DialogBox) provides matching examples.</span></span>  

<a name="Message_Boxes"></a>
## <a name="message-boxes"></a><span data-ttu-id="91d3a-121">Boîtes de messages</span><span class="sxs-lookup"><span data-stu-id="91d3a-121">Message boxes</span></span>  
 <span data-ttu-id="91d3a-122">Une *boîte de message* est une boîte de dialogue qui peut être utilisée pour afficher des informations textuelles et permettre aux utilisateurs de prendre des décisions avec des boutons.</span><span class="sxs-lookup"><span data-stu-id="91d3a-122">A *message box* is a dialog box that can be used to display textual information and to allow users to make decisions with buttons.</span></span> <span data-ttu-id="91d3a-123">L’illustration suivante montre une boîte de message qui affiche des informations textuelles, pose une question et fournit à l’utilisateur trois boutons pour répondre à la question.</span><span class="sxs-lookup"><span data-stu-id="91d3a-123">The following figure shows a message box that displays textual information, asks a question, and provides the user with three buttons to answer the question.</span></span>  
  
 ![Une boîte de dialogue de processeur de texte demandant si vous voulez enregistrer les modifications apportées au document avant la fermeture de l’application.](./media/dialog-boxes-overview/word-processor-dialog.png)  
  
 <span data-ttu-id="91d3a-125">Pour créer une boîte de <xref:System.Windows.MessageBox> message, vous utilisez la classe.</span><span class="sxs-lookup"><span data-stu-id="91d3a-125">To create a message box, you use the <xref:System.Windows.MessageBox> class.</span></span> <span data-ttu-id="91d3a-126"><xref:System.Windows.MessageBox>vous permet de configurer le texte, le titre, l’icône et les boutons de la boîte de messages, en utilisant du code comme ce qui suit.</span><span class="sxs-lookup"><span data-stu-id="91d3a-126"><xref:System.Windows.MessageBox> lets you configure the message box text, title, icon, and buttons, using code like the following.</span></span>  
  
 [!code-csharp[DialogBoxesOverviewSnippets#MsgBoxConfigureCODEBEHIND](~/samples/snippets/csharp/VS_Snippets_Wpf/DialogBoxesOverviewSnippets/CSharp/Window1.xaml.cs#msgboxconfigurecodebehind)]
 [!code-vb[DialogBoxesOverviewSnippets#MsgBoxConfigureCODEBEHIND](~/samples/snippets/visualbasic/VS_Snippets_Wpf/DialogBoxesOverviewSnippets/VisualBasic/window1.xaml.vb#msgboxconfigurecodebehind)]  
  
 <span data-ttu-id="91d3a-127">Pour afficher une boîte de `static` <xref:System.Windows.MessageBox.Show%2A> message, vous appelez la méthode, comme le montre le code suivant.</span><span class="sxs-lookup"><span data-stu-id="91d3a-127">To show a message box, you call the `static`<xref:System.Windows.MessageBox.Show%2A> method, as demonstrated in the following code.</span></span>  
  
 [!code-csharp[DialogBoxesOverviewSnippets#MsgBoxShowCODEBEHIND](~/samples/snippets/csharp/VS_Snippets_Wpf/DialogBoxesOverviewSnippets/CSharp/Window1.xaml.cs#msgboxshowcodebehind)]
 [!code-vb[DialogBoxesOverviewSnippets#MsgBoxShowCODEBEHIND](~/samples/snippets/visualbasic/VS_Snippets_Wpf/DialogBoxesOverviewSnippets/VisualBasic/window1.xaml.vb#msgboxshowcodebehind)]  
  
 <span data-ttu-id="91d3a-128">Quand le code qui affiche une boîte de message doit détecter et traiter la décision de l’utilisateur (quel bouton a été enfoncé), le code peut inspecter le résultat de la boîte de message, comme indiqué dans le code suivant.</span><span class="sxs-lookup"><span data-stu-id="91d3a-128">When code that shows a message box needs to detect and process the user's decision (which button was pressed), the code can inspect the message box result, as shown in the following code.</span></span>  
  
 [!code-csharp[DialogBoxesOverviewSnippets#MsgBoxShowAndResultCODEBEHIND1](~/samples/snippets/csharp/VS_Snippets_Wpf/DialogBoxesOverviewSnippets/CSharp/Window1.xaml.cs#msgboxshowandresultcodebehind1)]
 [!code-vb[DialogBoxesOverviewSnippets#MsgBoxShowAndResultCODEBEHIND1](~/samples/snippets/visualbasic/VS_Snippets_Wpf/DialogBoxesOverviewSnippets/VisualBasic/window1.xaml.vb#msgboxshowandresultcodebehind1)]  
  
 <span data-ttu-id="91d3a-129">Pour plus d’informations sur <xref:System.Windows.MessageBox>l’utilisation des boîtes de messages, voir , [Exemple MessageBox](https://github.com/Microsoft/WPF-Samples/tree/master/Windows/MessageBox), et [Dialog Box Sample](https://github.com/Microsoft/WPF-Samples/tree/master/Windows/DialogBox).</span><span class="sxs-lookup"><span data-stu-id="91d3a-129">For more information on using message boxes, see <xref:System.Windows.MessageBox>, [MessageBox Sample](https://github.com/Microsoft/WPF-Samples/tree/master/Windows/MessageBox), and [Dialog Box Sample](https://github.com/Microsoft/WPF-Samples/tree/master/Windows/DialogBox).</span></span>  
  
 <span data-ttu-id="91d3a-130">Bien <xref:System.Windows.MessageBox> que peut offrir une expérience utilisateur boîte <xref:System.Windows.MessageBox> de dialogue simple, l’avantage de l’utilisation est que c’est le seul type de fenêtre qui peut être montré par des applications qui s’exécutent dans un bac à sable de sécurité de confiance partielle (voir [sécurité](../security-wpf.md)), tels que les applications de navigateur XAML (XBAPs).</span><span class="sxs-lookup"><span data-stu-id="91d3a-130">Although <xref:System.Windows.MessageBox> may offer a simple dialog box user experience, the advantage of using <xref:System.Windows.MessageBox> is that is the only type of window that can be shown by applications that run within a partial trust security sandbox (see [Security](../security-wpf.md)), such as XAML browser applications (XBAPs).</span></span>  
  
 <span data-ttu-id="91d3a-131">La plupart des boîtes de dialogue affichent et recueillent des données plus complexes que le résultat d’une boîte de message, notamment du texte, une sélection (cases à cocher), une sélection mutuellement exclusive (boutons radio) et une sélection dans une liste (zones de liste, zones de liste modifiable, zones de liste déroulante).</span><span class="sxs-lookup"><span data-stu-id="91d3a-131">Most dialog boxes display and gather more complex data than the result of a message box, including text, selection (check boxes), mutually exclusive selection (radio buttons), and list selection (list boxes, combo boxes, drop-down list boxes).</span></span> <span data-ttu-id="91d3a-132">Pour ceux-ci, Windows Presentation Foundation (WPF) fournit plusieurs boîtes de dialogue communes et vous permet de créer vos propres boîtes de dialogue, bien que l’utilisation de l’un ou l’autre est limitée à des applications en cours d’exécution avec pleine confiance.</span><span class="sxs-lookup"><span data-stu-id="91d3a-132">For these, Windows Presentation Foundation (WPF) provides several common dialog boxes and allows you to create your own dialog boxes, although the use of either is limited to applications running with full trust.</span></span>  
  
<a name="Common_Dialogs"></a>
## <a name="common-dialog-boxes"></a><span data-ttu-id="91d3a-133">Boîtes de dialogue communes</span><span class="sxs-lookup"><span data-stu-id="91d3a-133">Common dialog boxes</span></span>  
 <span data-ttu-id="91d3a-134">Windows implémente une variété de boîtes de dialogue réutilisables qui sont communes à toutes les applications, y compris les boîtes de dialogue pour l’ouverture de fichiers, l’enregistrement de fichiers et l’impression.</span><span class="sxs-lookup"><span data-stu-id="91d3a-134">Windows implements a variety of reusable dialog boxes that are common to all applications, including dialog boxes for opening files, saving files, and printing.</span></span> <span data-ttu-id="91d3a-135">Ces boîtes de dialogue étant implémentées par le système d’exploitation, elles peuvent être partagées par toutes les applications qui s’exécutent sur le système d’exploitation, ce qui favorise la cohérence de l’expérience utilisateur. Quand les utilisateurs sont habitués à utiliser une boîte de dialogue fournie par le système d’exploitation dans une application, ils n’ont pas besoin d’apprendre à utiliser cette boîte de dialogue dans d’autres applications.</span><span class="sxs-lookup"><span data-stu-id="91d3a-135">Since these dialog boxes are implemented by the operating system, they can be shared among all the applications that run on the operating system, which helps user experience consistency; when users are familiar with the use of an operating system-provided dialog box in one application, they don't need to learn how to use that dialog box in other applications.</span></span> <span data-ttu-id="91d3a-136">Parce que ces boîtes de dialogue sont disponibles pour toutes les applications et parce qu’ils aident à fournir une expérience utilisateur cohérente, ils sont connus comme *des boîtes de dialogue commune*.</span><span class="sxs-lookup"><span data-stu-id="91d3a-136">Because these dialog boxes are available to all applications and because they help provide a consistent user experience, they are known as *common dialog boxes*.</span></span>  
  
 <span data-ttu-id="91d3a-137">Windows Presentation Foundation (WPF) résume le fichier ouvert, enregistre le fichier et imprime des boîtes de dialogue communes et les expose comme des classes gérées pour vous d’utiliser dans des applications autonomes.</span><span class="sxs-lookup"><span data-stu-id="91d3a-137">Windows Presentation Foundation (WPF) encapsulates the open file, save file, and print common dialog boxes and exposes them as managed classes for you to use in standalone applications.</span></span> <span data-ttu-id="91d3a-138">Cette rubrique fournit une brève présentation de chacune de ces boîtes de dialogue.</span><span class="sxs-lookup"><span data-stu-id="91d3a-138">This topic provides a brief overview of each.</span></span>  
  
<a name="Open_File_Dialog"></a>
### <a name="open-file-dialog"></a><span data-ttu-id="91d3a-139">Dialogue open File</span><span class="sxs-lookup"><span data-stu-id="91d3a-139">Open File dialog</span></span>  
 <span data-ttu-id="91d3a-140">La boîte de dialogue d’ouverture de fichier, illustrée ci-dessous, est utilisée par la fonctionnalité d’ouverture de fichier pour récupérer le nom d’un fichier à ouvrir.</span><span class="sxs-lookup"><span data-stu-id="91d3a-140">The open file dialog box, shown in the following figure, is used by file opening functionality to retrieve the name of a file to open.</span></span>  
  
 ![Une boîte de dialogue ouverte indiquant l’emplacement pour récupérer le fichier.](./media/dialog-boxes-overview/open-file-dialog-box.png)  
  
 <span data-ttu-id="91d3a-142">La boîte de dialogue de fichier <xref:Microsoft.Win32.OpenFileDialog> ouvert commune est <xref:Microsoft.Win32> implémentée comme la classe et est située dans l’espace de nom.</span><span class="sxs-lookup"><span data-stu-id="91d3a-142">The common open file dialog box is implemented as the <xref:Microsoft.Win32.OpenFileDialog> class and is located in the <xref:Microsoft.Win32> namespace.</span></span> <span data-ttu-id="91d3a-143">Le code suivant montre comment en créer, configurer et afficher une, et comment traiter le résultat.</span><span class="sxs-lookup"><span data-stu-id="91d3a-143">The following code shows how to create, configure, and show one, and how to process the result.</span></span>  
  
 [!code-csharp[DialogBoxesOverviewSnippets#OpenFileDialogBoxCODEBEHIND](~/samples/snippets/csharp/VS_Snippets_Wpf/DialogBoxesOverviewSnippets/CSharp/Window1.xaml.cs#openfiledialogboxcodebehind)]
 [!code-vb[DialogBoxesOverviewSnippets#OpenFileDialogBoxCODEBEHIND](~/samples/snippets/visualbasic/VS_Snippets_Wpf/DialogBoxesOverviewSnippets/VisualBasic/window1.xaml.vb#openfiledialogboxcodebehind)]  
  
 <span data-ttu-id="91d3a-144">Pour plus d’informations sur la <xref:Microsoft.Win32.OpenFileDialog?displayProperty=nameWithType>boîte de dialogue de fichier ouvert, voir .</span><span class="sxs-lookup"><span data-stu-id="91d3a-144">For more information on the open file dialog box, see <xref:Microsoft.Win32.OpenFileDialog?displayProperty=nameWithType>.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="91d3a-145"><xref:Microsoft.Win32.OpenFileDialog>peut être utilisé pour récupérer en toute sécurité les noms de fichiers par des applications en cours d’exécution avec une confiance partielle (voir [Sécurité](../security-wpf.md)).</span><span class="sxs-lookup"><span data-stu-id="91d3a-145"><xref:Microsoft.Win32.OpenFileDialog> can be used to safely retrieve file names by applications running with partial trust (see [Security](../security-wpf.md)).</span></span>  
  
<a name="Save_File_Dialog"></a>
### <a name="save-file-dialog-box"></a><span data-ttu-id="91d3a-146">Enregistrer le fichier (boîte de dialogue)</span><span class="sxs-lookup"><span data-stu-id="91d3a-146">Save File dialog box</span></span>  
 <span data-ttu-id="91d3a-147">La boîte de dialogue d’enregistrement de fichier, illustrée ci-dessous, est utilisée par la fonctionnalité d’enregistrement de fichier pour récupérer le nom d’un fichier à enregistrer.</span><span class="sxs-lookup"><span data-stu-id="91d3a-147">The save file dialog box, shown in the following figure, is used by file saving functionality to retrieve the name of a file to save.</span></span>  
  
 ![Une boîte de dialogue Save As montrant l’emplacement pour enregistrer le fichier.](./media/dialog-boxes-overview/save-file-dialog-box.png)  
  
 <span data-ttu-id="91d3a-149">La boîte commune de dialogue de <xref:Microsoft.Win32.SaveFileDialog> fichier d’enregistrement <xref:Microsoft.Win32> est implémentée comme la classe, et est située dans l’espace de nom.</span><span class="sxs-lookup"><span data-stu-id="91d3a-149">The common save file dialog box is implemented as the <xref:Microsoft.Win32.SaveFileDialog> class, and is located in the <xref:Microsoft.Win32> namespace.</span></span> <span data-ttu-id="91d3a-150">Le code suivant montre comment en créer, configurer et afficher une, et comment traiter le résultat.</span><span class="sxs-lookup"><span data-stu-id="91d3a-150">The following code shows how to create, configure, and show one, and how to process the result.</span></span>  
  
 [!code-csharp[DialogBoxesOverviewSnippets#SaveFileDialogBoxCODEBEHIND](~/samples/snippets/csharp/VS_Snippets_Wpf/DialogBoxesOverviewSnippets/CSharp/Window1.xaml.cs#savefiledialogboxcodebehind)]
 [!code-vb[DialogBoxesOverviewSnippets#SaveFileDialogBoxCODEBEHIND](~/samples/snippets/visualbasic/VS_Snippets_Wpf/DialogBoxesOverviewSnippets/VisualBasic/window1.xaml.vb#savefiledialogboxcodebehind)]  
  
 <span data-ttu-id="91d3a-151">Pour plus d’informations sur la <xref:Microsoft.Win32.SaveFileDialog?displayProperty=nameWithType>boîte de dialogue de fichier d’enregistrement, voir .</span><span class="sxs-lookup"><span data-stu-id="91d3a-151">For more information on the save file dialog box, see <xref:Microsoft.Win32.SaveFileDialog?displayProperty=nameWithType>.</span></span>  
  
<a name="Print_Dialog"></a>
### <a name="print-dialog-box"></a><span data-ttu-id="91d3a-152">Boîte de dialogue Imprimer</span><span class="sxs-lookup"><span data-stu-id="91d3a-152">Print dialog box</span></span>

<span data-ttu-id="91d3a-153">La boîte de dialogue d’impression, illustrée ci-dessous, est utilisée par la fonctionnalité d’impression pour choisir et configurer l’imprimante sur laquelle un utilisateur souhaite imprimer des données.</span><span class="sxs-lookup"><span data-stu-id="91d3a-153">The print dialog box, shown in the following figure, is used by printing functionality to choose and configure the printer that a user would like to print data to.</span></span>  
  
![Capture d’écran qui montre une boîte de dialogue d’impression.](./media/dialog-boxes-overview/print-data-dialog-box.png)  
  
<span data-ttu-id="91d3a-155">La boîte de dialogue imprimée <xref:System.Windows.Controls.PrintDialog> commune est implémentée comme la classe, et est situé dans l’espace du <xref:System.Windows.Controls> nom.</span><span class="sxs-lookup"><span data-stu-id="91d3a-155">The common print dialog box is implemented as the <xref:System.Windows.Controls.PrintDialog> class, and is located in the <xref:System.Windows.Controls> namespace.</span></span> <span data-ttu-id="91d3a-156">Le code suivant montre comment en créer, configurer et afficher une.</span><span class="sxs-lookup"><span data-stu-id="91d3a-156">The following code shows how to create, configure, and show one.</span></span>  
  
 [!code-csharp[DialogBoxesOverviewSnippets#PrintDialogBoxCODEBEHIND](~/samples/snippets/csharp/VS_Snippets_Wpf/DialogBoxesOverviewSnippets/CSharp/Window1.xaml.cs#printdialogboxcodebehind)]
 [!code-vb[DialogBoxesOverviewSnippets#PrintDialogBoxCODEBEHIND](~/samples/snippets/visualbasic/VS_Snippets_Wpf/DialogBoxesOverviewSnippets/VisualBasic/window1.xaml.vb#printdialogboxcodebehind)]  
  
 <span data-ttu-id="91d3a-157">Pour plus d’informations sur la <xref:System.Windows.Controls.PrintDialog?displayProperty=nameWithType>boîte de dialogue d’impression, voir .</span><span class="sxs-lookup"><span data-stu-id="91d3a-157">For more information on the print dialog box, see <xref:System.Windows.Controls.PrintDialog?displayProperty=nameWithType>.</span></span> <span data-ttu-id="91d3a-158">Pour une discussion détaillée de l’impression dans WPF, voir [Aperçu de l’impression](../advanced/printing-overview.md).</span><span class="sxs-lookup"><span data-stu-id="91d3a-158">For detailed discussion of printing in WPF, see [Printing Overview](../advanced/printing-overview.md).</span></span>  
  
<a name="Custom_Dialog_Boxes"></a>
## <a name="custom-dialog-boxes"></a><span data-ttu-id="91d3a-159">Boîtes de dialogue personnalisées</span><span class="sxs-lookup"><span data-stu-id="91d3a-159">Custom dialog boxes</span></span>

<span data-ttu-id="91d3a-160">Bien que les boîtes de dialogue communes soient utiles (et doivent être utilisées dans la mesure du possible), elles ne prennent pas en charge les exigences des boîtes de dialogue propres au domaine.</span><span class="sxs-lookup"><span data-stu-id="91d3a-160">While common dialog boxes are useful, and should be used when possible, they do not support the requirements of domain-specific dialog boxes.</span></span> <span data-ttu-id="91d3a-161">Dans ces cas-là, vous devez créer vos propres boîtes de dialogue.</span><span class="sxs-lookup"><span data-stu-id="91d3a-161">In these cases, you need to create your own dialog boxes.</span></span> <span data-ttu-id="91d3a-162">Comme nous allons le voir, une boîte de dialogue est une fenêtre avec des comportements spéciaux.</span><span class="sxs-lookup"><span data-stu-id="91d3a-162">As we'll see, a dialog box is a window with special behaviors.</span></span> <span data-ttu-id="91d3a-163"><xref:System.Windows.Window>implémente ces comportements et, <xref:System.Windows.Window> par conséquent, vous utilisez pour créer des boîtes de dialogue modales et sans mode personnalisées.</span><span class="sxs-lookup"><span data-stu-id="91d3a-163"><xref:System.Windows.Window> implements those behaviors and, consequently, you use <xref:System.Windows.Window> to create custom modal and modeless dialog boxes.</span></span>  
  
<a name="Creating_a_Modal_Custom_Dialog_Box"></a>
### <a name="creating-a-modal-custom-dialog-box"></a><span data-ttu-id="91d3a-164">Création d’une boîte de dialogue modal personnalisée</span><span class="sxs-lookup"><span data-stu-id="91d3a-164">Creating a modal custom dialog box</span></span>

<span data-ttu-id="91d3a-165">Ce sujet montre <xref:System.Windows.Window> comment utiliser pour créer une mise en `Margins` œuvre typique boîte de dialogue modal, en utilisant la boîte de dialogue comme exemple (voir [Dialog Box Sample](https://github.com/Microsoft/WPF-Samples/tree/master/Windows/DialogBox)).</span><span class="sxs-lookup"><span data-stu-id="91d3a-165">This topic shows how to use <xref:System.Windows.Window> to create a typical modal dialog box implementation, using the `Margins` dialog box as an example (see [Dialog Box Sample](https://github.com/Microsoft/WPF-Samples/tree/master/Windows/DialogBox)).</span></span> <span data-ttu-id="91d3a-166">La `Margins` boîte de dialogue est indiquée dans la figure suivante.</span><span class="sxs-lookup"><span data-stu-id="91d3a-166">The `Margins` dialog box is shown in the following figure.</span></span>  
  
 ![Une boîte de dialogue Margins avec des champs pour définir la marge gauche, la marge supérieure, la marge droite et la marge inférieure.](./media/dialog-boxes-overview/margin-size-dialog-box.png)  
  
#### <a name="configuring-a-modal-dialog-box"></a><span data-ttu-id="91d3a-168">Configurer une boîte de dialogue modal</span><span class="sxs-lookup"><span data-stu-id="91d3a-168">Configuring a modal dialog box</span></span>

<span data-ttu-id="91d3a-169">L’interface utilisateur pour une boîte de dialogue classique comprend les éléments suivants :</span><span class="sxs-lookup"><span data-stu-id="91d3a-169">The user interface for a typical dialog box includes the following:</span></span>  
  
- <span data-ttu-id="91d3a-170">Les différents contrôles nécessaires pour recueillir les données souhaitées</span><span class="sxs-lookup"><span data-stu-id="91d3a-170">The various controls that are required to gather the desired data.</span></span>  
  
- <span data-ttu-id="91d3a-171">Un bouton **OK** que les utilisateurs cliquent pour fermer la boîte de dialogue, revenir à la fonction, et continuer le traitement.</span><span class="sxs-lookup"><span data-stu-id="91d3a-171">An **OK** button that users click to close the dialog box, return to the function, and continue processing.</span></span>  
  
- <span data-ttu-id="91d3a-172">Un bouton **Annuler** que les utilisateurs cliquent pour fermer la boîte de dialogue et empêcher la fonction de traiter davantage.</span><span class="sxs-lookup"><span data-stu-id="91d3a-172">A **Cancel** button that users click to close the dialog box and stop the function from further processing.</span></span>  
  
- <span data-ttu-id="91d3a-173">Un bouton **Close** dans la barre de titre.</span><span class="sxs-lookup"><span data-stu-id="91d3a-173">A **Close** button in the title bar.</span></span>  
  
- <span data-ttu-id="91d3a-174">icône ;</span><span class="sxs-lookup"><span data-stu-id="91d3a-174">An icon.</span></span>  
  
- <span data-ttu-id="91d3a-175">**Minimisez,** **maximisez**et **restaurez les** boutons.</span><span class="sxs-lookup"><span data-stu-id="91d3a-175">**Minimize**, **Maximize**, and **Restore** buttons.</span></span>  
  
- <span data-ttu-id="91d3a-176">Un menu **système** pour minimiser, maximiser, restaurer et fermer la boîte de dialogue.</span><span class="sxs-lookup"><span data-stu-id="91d3a-176">A **System** menu to minimize, maximize, restore, and close the dialog box.</span></span>  
  
- <span data-ttu-id="91d3a-177">Une position au-dessus et au centre de la fenêtre qui a ouvert la boîte de dialogue.</span><span class="sxs-lookup"><span data-stu-id="91d3a-177">A position above and in the center of the window that opened the dialog box.</span></span>  
  
- <span data-ttu-id="91d3a-178">La possibilité d’être resized si possible pour empêcher la boîte de dialogue d’être trop petit, et de fournir à l’utilisateur une taille par défaut utile.</span><span class="sxs-lookup"><span data-stu-id="91d3a-178">The ability to be resized where possible to prevent the dialog box from being too small, and to provide the user with a useful default size.</span></span> <span data-ttu-id="91d3a-179">Cela exige que vous définissiez à la fois les dimensions par défaut et les dimensions minimales.</span><span class="sxs-lookup"><span data-stu-id="91d3a-179">This requires that you set both the default and a minimum dimensions.</span></span>  
  
- <span data-ttu-id="91d3a-180">La clé ESC comme raccourci clavier qui provoque le bouton **Annuler** d’être pressé.</span><span class="sxs-lookup"><span data-stu-id="91d3a-180">The ESC key as a keyboard shortcut that causes the **Cancel** button to be pressed.</span></span> <span data-ttu-id="91d3a-181">Vous le faites <xref:System.Windows.Controls.Button.IsCancel%2A> en définissant la `true`propriété du bouton **Annuler** à .</span><span class="sxs-lookup"><span data-stu-id="91d3a-181">You do this by setting the <xref:System.Windows.Controls.Button.IsCancel%2A> property of the **Cancel** button to `true`.</span></span>  
  
- <span data-ttu-id="91d3a-182">La touche ENTER (ou RETURN) comme raccourci clavier qui fait appuyer le bouton **OK.**</span><span class="sxs-lookup"><span data-stu-id="91d3a-182">The ENTER (or RETURN) key as a keyboard shortcut that causes the **OK** button to be pressed.</span></span> <span data-ttu-id="91d3a-183">Vous le faites <xref:System.Windows.Controls.Button.IsDefault%2A> en définissant `true`la propriété du bouton **OK** .</span><span class="sxs-lookup"><span data-stu-id="91d3a-183">You do this by setting the <xref:System.Windows.Controls.Button.IsDefault%2A> property of the **OK** button `true`.</span></span>  
  
<span data-ttu-id="91d3a-184">Le code suivant illustre cette configuration.</span><span class="sxs-lookup"><span data-stu-id="91d3a-184">The following code demonstrates this configuration.</span></span>  
  
[!code-xaml[MarginsDialogBox XAML file](~/samples/snippets/csharp/VS_Snippets_Wpf/DialogBoxSample/CSharp/MarginsDialogBox.xaml?range=1-16,106-112)]  

[!code-csharp[MarginsDialogBox C# code-behind](~/samples/snippets/csharp/VS_Snippets_Wpf/DialogBoxSample/CSharp/MarginsDialogBox.xaml.cs?range=1-12,67-68)]
[!code-vb[MarginsDialogBox VB code-behind](~/samples/snippets/visualbasic/VS_Snippets_Wpf/DialogBoxSample/VisualBasic/MarginsDialogBox.xaml.vb?range=1-11,61-62)]  
  
<span data-ttu-id="91d3a-185">L’expérience utilisateur pour une boîte de dialogue s’étend également à la barre de menus de la fenêtre qui ouvre la boîte de dialogue.</span><span class="sxs-lookup"><span data-stu-id="91d3a-185">The user experience for a dialog box also extends into the menu bar of the window that opens the dialog box.</span></span> <span data-ttu-id="91d3a-186">Quand un élément de menu exécute une fonction qui nécessite une interaction utilisateur par l’intermédiaire d’une boîte de dialogue pour que la fonction puisse se poursuivre, l’élément de menu de la fonction a des points de suspension dans son en-tête, comme illustré ici.</span><span class="sxs-lookup"><span data-stu-id="91d3a-186">When a menu item runs a function that requires user interaction through a dialog box before the function can continue, the menu item for the function will have an ellipsis in its header, as shown here.</span></span>  
  
[!code-xaml[Menu bar of MainWindow.Xaml file](~/samples/snippets/csharp/VS_Snippets_Wpf/DialogBoxSample/CSharp/MainWindow.xaml#L26-L27)]  
  
<span data-ttu-id="91d3a-187">Quand un élément de menu exécute une fonction qui affiche une boîte de dialogue qui ne nécessite pas d’intervention de l’utilisateur, par exemple une boîte de dialogue À propos, les points de suspension ne sont pas nécessaires.</span><span class="sxs-lookup"><span data-stu-id="91d3a-187">When a menu item runs a function that displays a dialog box which does not require user interaction, such as an About dialog box, an ellipsis is not required.</span></span>  
  
#### <a name="opening-a-modal-dialog-box"></a><span data-ttu-id="91d3a-188">Ouverture d’une boîte de dialogue modal</span><span class="sxs-lookup"><span data-stu-id="91d3a-188">Opening a modal dialog box</span></span>

<span data-ttu-id="91d3a-189">Une boîte de dialogue apparaît généralement quand un utilisateur sélectionne un élément de menu pour exécuter une fonction propre à un domaine, par exemple pour définir les marges d’un document dans un traitement de texte.</span><span class="sxs-lookup"><span data-stu-id="91d3a-189">A dialog box is typically shown as a result of a user selecting a menu item to perform a domain-specific function, such as setting the margins of a document in a word processor.</span></span> <span data-ttu-id="91d3a-190">Afficher une fenêtre sous forme de boîte de dialogue s’apparente à afficher une fenêtre normale, bien que cela nécessite une configuration supplémentaire propre à la boîte de dialogue.</span><span class="sxs-lookup"><span data-stu-id="91d3a-190">Showing a window as a dialog box is similar to showing a normal window, although it requires additional dialog box-specific configuration.</span></span> <span data-ttu-id="91d3a-191">L’ensemble du processus d’instanciation, de configuration et d’ouverture d’une boîte de dialogue est illustré dans le code suivant.</span><span class="sxs-lookup"><span data-stu-id="91d3a-191">The entire process of instantiating, configuring, and opening a dialog box is shown in the following code.</span></span>  
  
[!code-csharp[Opening a modal dialog box](~/samples/snippets/csharp/VS_Snippets_Wpf/DialogBoxSample/CSharp/MainWindow.xaml.cs?range=1-11,78-88,193-195)]
[!code-vb[Opening a modal dialog box](~/samples/snippets/visualbasic/VS_Snippets_Wpf/DialogBoxSample/VisualBasic/MainWindow.xaml.vb?range=1-9,58-67,130-132)]  

<span data-ttu-id="91d3a-192">Ici, le code transmet les informations par défaut (les marges actuelles) à la boîte de dialogue.</span><span class="sxs-lookup"><span data-stu-id="91d3a-192">Here, the code passes default information (the current margins) to the dialog box.</span></span> <span data-ttu-id="91d3a-193">Il définit <xref:System.Windows.Window.Owner%2A?displayProperty=nameWithType> également la propriété avec une référence à la fenêtre qui montre la boîte de dialogue.</span><span class="sxs-lookup"><span data-stu-id="91d3a-193">It also sets the <xref:System.Windows.Window.Owner%2A?displayProperty=nameWithType> property with a reference to the window that is showing the dialog box.</span></span> <span data-ttu-id="91d3a-194">En général, vous devez toujours définir le propriétaire pour une boîte de dialogue pour fournir des comportements liés à l’état de fenêtre qui sont communs à toutes les boîtes de dialogue (voir [WPF Windows Overview](wpf-windows-overview.md) pour plus d’informations).</span><span class="sxs-lookup"><span data-stu-id="91d3a-194">In general, you should always set the owner for a dialog box to provide window state-related behaviors that are common to all dialog boxes (see [WPF Windows Overview](wpf-windows-overview.md) for more information).</span></span>

> [!NOTE]
> <span data-ttu-id="91d3a-195">Vous devez fournir un propriétaire pour prendre en charge l’automatisation de l’interface utilisateur (UI) pour les boîtes de dialogue (voir [UI Automation Overview](../../ui-automation/ui-automation-overview.md)).</span><span class="sxs-lookup"><span data-stu-id="91d3a-195">You must provide an owner to support user interface (UI) automation for dialog boxes (see [UI Automation Overview](../../ui-automation/ui-automation-overview.md)).</span></span>

<span data-ttu-id="91d3a-196">Une fois que la boîte de dialogue est configurée, elle est montrée modalement en appelant la <xref:System.Windows.Window.ShowDialog%2A> méthode.</span><span class="sxs-lookup"><span data-stu-id="91d3a-196">After the dialog box is configured, it is shown modally by calling the <xref:System.Windows.Window.ShowDialog%2A> method.</span></span>  
  
#### <a name="validating-user-provided-data"></a><span data-ttu-id="91d3a-197">Validation des données fournies par l’utilisateur</span><span class="sxs-lookup"><span data-stu-id="91d3a-197">Validating user-provided data</span></span>

<span data-ttu-id="91d3a-198">Quand une boîte de dialogue est ouverte et que l’utilisateur fournit les données requises, une boîte de dialogue est chargée de vérifier que les données fournies sont valides pour les raisons suivantes :</span><span class="sxs-lookup"><span data-stu-id="91d3a-198">When a dialog box is opened and the user provides the required data, a dialog box is responsible for ensuring that the provided data is valid for the following reasons:</span></span>  
  
- <span data-ttu-id="91d3a-199">Du point de vue de la sécurité, toutes les entrées doivent être validées.</span><span class="sxs-lookup"><span data-stu-id="91d3a-199">From a security perspective, all input should be validated.</span></span>  
  
- <span data-ttu-id="91d3a-200">D’un point de vue propre au domaine, la validation des données empêche que des données erronées soient traitées par le code, ce qui pourrait éventuellement lever des exceptions.</span><span class="sxs-lookup"><span data-stu-id="91d3a-200">From a domain-specific perspective, data validation prevents erroneous data from being processed by the code, which could potentially throw exceptions.</span></span>  
  
- <span data-ttu-id="91d3a-201">Du point de vue de l’expérience utilisateur, une boîte de dialogue peut aider les utilisateurs en leur montrant lesquelles des données entrées ne sont pas valides.</span><span class="sxs-lookup"><span data-stu-id="91d3a-201">From a user-experience perspective, a dialog box can help users by showing them which data they have entered is invalid.</span></span>  
  
- <span data-ttu-id="91d3a-202">Du point de vue des performances, la validation des données dans une application multicouche peut réduire le nombre d’allers-retours entre le client et les couches Application, en particulier quand l’application est composée de services web ou de bases de données basées sur serveur.</span><span class="sxs-lookup"><span data-stu-id="91d3a-202">From a performance perspective, data validation in a multi-tier application can reduce the number of round trips between the client and the application tiers, particularly when the application is composed of Web services or server-based databases.</span></span>  

<span data-ttu-id="91d3a-203">Pour valider un contrôle lié dans WPF, vous devez définir une règle de validation et l’associer à la liaison.</span><span class="sxs-lookup"><span data-stu-id="91d3a-203">To validate a bound control in WPF, you need to define a validation rule and associate it with the binding.</span></span> <span data-ttu-id="91d3a-204">Une règle de validation est une <xref:System.Windows.Controls.ValidationRule>classe personnalisée qui dérive de .</span><span class="sxs-lookup"><span data-stu-id="91d3a-204">A validation rule is a custom class that derives from <xref:System.Windows.Controls.ValidationRule>.</span></span> <span data-ttu-id="91d3a-205">L’exemple suivant montre `MarginValidationRule`une règle de validation, <xref:System.Double> qui vérifie qu’une valeur consolidée est a et se situe dans une plage spécifiée.</span><span class="sxs-lookup"><span data-stu-id="91d3a-205">The following example shows a validation rule, `MarginValidationRule`, which checks that a bound value is a <xref:System.Double> and is within a specified range.</span></span>  

[!code-csharp[Margin validation rules](~/samples/snippets/csharp/VS_Snippets_Wpf/DialogBoxSample/CSharp/MarginValidationRule.cs)]
[!code-vb[Margin validation rules](~/samples/snippets/visualbasic/VS_Snippets_Wpf/DialogBoxSample/VisualBasic/MarginValidationRule.vb)]  

<span data-ttu-id="91d3a-206">Dans ce code, la logique de validation d’une <xref:System.Windows.Controls.ValidationRule.Validate%2A> règle de validation est mise <xref:System.Windows.Controls.ValidationResult>en œuvre en prépondant la méthode, qui valide les données et renvoie un approprié .</span><span class="sxs-lookup"><span data-stu-id="91d3a-206">In this code, the validation logic of a validation rule is implemented by overriding the <xref:System.Windows.Controls.ValidationRule.Validate%2A> method, which validates the data and returns an appropriate <xref:System.Windows.Controls.ValidationResult>.</span></span>  

<span data-ttu-id="91d3a-207">Pour associer la règle de validation au contrôle dépendant, vous utilisez le balisage suivant.</span><span class="sxs-lookup"><span data-stu-id="91d3a-207">To associate the validation rule with the bound control, you use the following markup.</span></span>  
  
[!code-xaml[Associating a validation rule with a control](~/samples/snippets/csharp/VS_Snippets_Wpf/DialogBoxSample/CSharp/MarginsDialogBox.xaml?range=1-16,57-68,111-112)]

<span data-ttu-id="91d3a-208">Une fois la règle de validation associée, WPF l’appliquera automatiquement lorsque les données sont saisies dans le contrôle lié.</span><span class="sxs-lookup"><span data-stu-id="91d3a-208">Once the validation rule is associated, WPF will automatically apply it when data is entered into the bound control.</span></span> <span data-ttu-id="91d3a-209">Lorsqu’un contrôle contient des données non valides, le FMM affiche une bordure rouge autour du contrôle invalide, comme le montre le chiffre suivant.</span><span class="sxs-lookup"><span data-stu-id="91d3a-209">When a control contains invalid data, WPF will display a red border around the invalid control, as shown in the following figure.</span></span>  
  
![Une boîte de dialogue Margins avec une bordure rouge autour de la valeur de marge gauche invalide.](./media/dialog-boxes-overview/invalid-left-margin-dialog.png)  

<span data-ttu-id="91d3a-211">WPF ne limite pas un utilisateur au contrôle invalide jusqu’à ce qu’il ait saisi les données valides.</span><span class="sxs-lookup"><span data-stu-id="91d3a-211">WPF does not restrict a user to the invalid control until they have entered valid data.</span></span> <span data-ttu-id="91d3a-212">Il s’agit d’un bon comportement pour une boîte de dialogue. En effet, un utilisateur doit pouvoir naviguer librement entre les contrôles d’une boîte de dialogue, que les données soient valides ou non.</span><span class="sxs-lookup"><span data-stu-id="91d3a-212">This is good behavior for a dialog box; a user should be able to freely navigate the controls in a dialog box whether or not data is valid.</span></span> <span data-ttu-id="91d3a-213">Toutefois, cela signifie qu’un utilisateur peut entrer des données invalides et appuyer sur le bouton **OK.**</span><span class="sxs-lookup"><span data-stu-id="91d3a-213">However, this means a user can enter invalid data and press the **OK** button.</span></span> <span data-ttu-id="91d3a-214">Pour cette raison, votre code doit également valider toutes **OK** les commandes dans <xref:System.Windows.Controls.Primitives.ButtonBase.Click> une boîte de dialogue lorsque le bouton OK est appuyé sur la manipulation de l’événement.</span><span class="sxs-lookup"><span data-stu-id="91d3a-214">For this reason, your code also needs to validate all controls in a dialog box when the **OK** button is pressed by handling the <xref:System.Windows.Controls.Primitives.ButtonBase.Click> event.</span></span>  
  
[!code-csharp[Validating all controls in a dialog box](~/samples/snippets/csharp/VS_Snippets_Wpf/DialogBoxSample/CSharp/MarginsDialogBox.xaml.cs?range=1-8,26-29,33-68)]
[!code-vb[Validating all controls in a dialog box](~/samples/snippets/visualbasic/VS_Snippets_Wpf/DialogBoxSample/VisualBasic/MarginsDialogBox.xaml.vb?range=1-8,27-29,33-62)]  

<span data-ttu-id="91d3a-215">Ce code énumère tous les objets de dépendance sur une fenêtre <xref:System.Windows.Controls.Validation.GetHasError%2A>et, le cas échéant, `IsValid` invalide (tel que retourné par , le contrôle invalide obtient la mise au point, la méthode renvoie, `false`et la fenêtre est considérée comme invalide.</span><span class="sxs-lookup"><span data-stu-id="91d3a-215">This code enumerates all dependency objects on a window and, if any are invalid (as returned by <xref:System.Windows.Controls.Validation.GetHasError%2A>, the invalid control gets the focus, the `IsValid` method returns `false`, and the window is considered invalid.</span></span>  
  
<span data-ttu-id="91d3a-216">Une fois qu’une boîte de dialogue est valide, elle peut être fermée et retourner un résultat en toute sécurité.</span><span class="sxs-lookup"><span data-stu-id="91d3a-216">Once a dialog box is valid, it can safely close and return.</span></span> <span data-ttu-id="91d3a-217">Dans le cadre du processus de retour, elle doit retourner un résultat à la fonction appelante.</span><span class="sxs-lookup"><span data-stu-id="91d3a-217">As part of the return process, it needs to return a result to the calling function.</span></span>  
  
#### <a name="setting-the-modal-dialog-result"></a><span data-ttu-id="91d3a-218">Définir le résultat du dialogue modal</span><span class="sxs-lookup"><span data-stu-id="91d3a-218">Setting the modal dialog result</span></span>

<span data-ttu-id="91d3a-219">Ouvrir une boîte <xref:System.Windows.Window.ShowDialog%2A> de dialogue à l’aide est fondamentalement comme <xref:System.Windows.Window.ShowDialog%2A> appeler <xref:System.Windows.Window.ShowDialog%2A> une méthode: le code qui a ouvert la boîte de dialogue en utilisant attend jusqu’à ce que les retours.</span><span class="sxs-lookup"><span data-stu-id="91d3a-219">Opening a dialog box using <xref:System.Windows.Window.ShowDialog%2A> is fundamentally like calling a method: the code that opened the dialog box using <xref:System.Windows.Window.ShowDialog%2A> waits until <xref:System.Windows.Window.ShowDialog%2A> returns.</span></span> <span data-ttu-id="91d3a-220">Lors <xref:System.Windows.Window.ShowDialog%2A> des déclarations, le code qui l’a appelé doit décider de continuer à traiter ou arrêter le traitement, en fonction du fait que l’utilisateur a appuyé sur le bouton **OK** ou le bouton **Annuler.**</span><span class="sxs-lookup"><span data-stu-id="91d3a-220">When <xref:System.Windows.Window.ShowDialog%2A> returns, the code that called it needs to decide whether to continue processing or stop processing, based on whether the user pressed the **OK** button or the **Cancel** button.</span></span> <span data-ttu-id="91d3a-221">Pour faciliter cette décision, la boîte de dialogue doit <xref:System.Boolean> retourner le choix <xref:System.Windows.Window.ShowDialog%2A> de l’utilisateur comme une valeur qui est retournée de la méthode.</span><span class="sxs-lookup"><span data-stu-id="91d3a-221">To facilitate this decision, the dialog box needs to return the user's choice as a <xref:System.Boolean> value that is returned from the <xref:System.Windows.Window.ShowDialog%2A> method.</span></span>  

<span data-ttu-id="91d3a-222">Lorsque le bouton **OK** <xref:System.Windows.Window.ShowDialog%2A> est `true`cliqué, doit revenir .</span><span class="sxs-lookup"><span data-stu-id="91d3a-222">When the **OK** button is clicked, <xref:System.Windows.Window.ShowDialog%2A> should return `true`.</span></span> <span data-ttu-id="91d3a-223">Ceci est réalisé <xref:System.Windows.Window.DialogResult%2A> en définissant la propriété de la boîte de dialogue lorsque le bouton **OK** est cliqué.</span><span class="sxs-lookup"><span data-stu-id="91d3a-223">This is achieved by setting the <xref:System.Windows.Window.DialogResult%2A> property of the dialog box when the **OK** button is clicked.</span></span>  

[!code-csharp[Responding to the OK button](~/samples/snippets/csharp/VS_Snippets_Wpf/DialogBoxSample/CSharp/MarginsDialogBox.xaml.cs?range=1-8,25-27,32-33,67-68)]
[!code-vb[Responding to the OK button](~/samples/snippets/visualbasic/VS_Snippets_Wpf/DialogBoxSample/VisualBasic/MarginsDialogBox.xaml.vb?range=1-8,27,31-33,61-62)]  

<span data-ttu-id="91d3a-224">Notez que <xref:System.Windows.Window.DialogResult%2A> la mise en place de la propriété provoque <xref:System.Windows.Window.Close%2A>également la fenêtre de fermer automatiquement, ce qui atténue la nécessité d’appeler explicitement .</span><span class="sxs-lookup"><span data-stu-id="91d3a-224">Note that setting the <xref:System.Windows.Window.DialogResult%2A> property also causes the window to close automatically, which alleviates the need to explicitly call <xref:System.Windows.Window.Close%2A>.</span></span>  
  
<span data-ttu-id="91d3a-225">Lorsque le bouton **Annuler** <xref:System.Windows.Window.ShowDialog%2A> est `false`cliqué, devrait <xref:System.Windows.Window.DialogResult%2A> revenir, ce qui nécessite également la mise en place de la propriété.</span><span class="sxs-lookup"><span data-stu-id="91d3a-225">When the **Cancel** button is clicked, <xref:System.Windows.Window.ShowDialog%2A> should return `false`, which also requires setting the <xref:System.Windows.Window.DialogResult%2A> property.</span></span>  
  
[!code-csharp[Responding to the Cancel button](~/samples/snippets/csharp/VS_Snippets_Wpf/DialogBoxSample/CSharp/MarginsDialogBox.xaml.cs?range=1-8,19-24,67-68)]
[!code-vb[Responding to the Cancel button](~/samples/snippets/visualbasic/VS_Snippets_Wpf/DialogBoxSample/VisualBasic/MarginsDialogBox.xaml.vb?range=1-8,22-25,61-62)]  

<span data-ttu-id="91d3a-226">Lorsque la propriété <xref:System.Windows.Controls.Button.IsCancel%2A> d’un `true` bouton est configuré et que l’utilisateur appuie `false`soit sur le bouton **Annuler,** soit la clé ESC, <xref:System.Windows.Window.DialogResult%2A> est automatiquement configuré .</span><span class="sxs-lookup"><span data-stu-id="91d3a-226">When a button's <xref:System.Windows.Controls.Button.IsCancel%2A> property is set to `true` and the user presses either the **Cancel** button or the ESC key, <xref:System.Windows.Window.DialogResult%2A> is automatically set to `false`.</span></span> <span data-ttu-id="91d3a-227">La balisage suivante a le même effet que le <xref:System.Windows.Controls.Primitives.ButtonBase.Click> code précédent, sans avoir besoin de gérer l’événement.</span><span class="sxs-lookup"><span data-stu-id="91d3a-227">The following markup has the same effect as the preceding code, without the need to handle the <xref:System.Windows.Controls.Primitives.ButtonBase.Click> event.</span></span>  
  
[!code-xaml[Markup instead of handling the Click event](~/samples/snippets/csharp/VS_Snippets_Wpf/DialogBoxSample/CSharp/MarginsDialogBox.xaml#L109-L109)]  

<span data-ttu-id="91d3a-228">Une boîte de `false` dialogue revient automatiquement lorsqu’un utilisateur appuie sur le bouton **Close** dans la barre de titre ou choisit l’élément de menu **Close** dans le menu **Système.**</span><span class="sxs-lookup"><span data-stu-id="91d3a-228">A dialog box automatically returns `false` when a user presses the **Close** button in the title bar or chooses the **Close** menu item from the **System** menu.</span></span>  

#### <a name="processing-data-returned-from-a-modal-dialog-box"></a><span data-ttu-id="91d3a-229">Traitement des données retournées d’une boîte de dialogue modal</span><span class="sxs-lookup"><span data-stu-id="91d3a-229">Processing data returned from a modal dialog box</span></span>  

<span data-ttu-id="91d3a-230">Quand <xref:System.Windows.Window.DialogResult%2A> est réglé par une boîte de dialogue, la fonction qui l’a ouverte peut obtenir le résultat de boîte de dialogue en inspectant la <xref:System.Windows.Window.DialogResult%2A> propriété lors <xref:System.Windows.Window.ShowDialog%2A> du retour.</span><span class="sxs-lookup"><span data-stu-id="91d3a-230">When <xref:System.Windows.Window.DialogResult%2A> is set by a dialog box, the function that opened it can get the dialog box result by inspecting the <xref:System.Windows.Window.DialogResult%2A> property when <xref:System.Windows.Window.ShowDialog%2A> returns.</span></span>  
  
[!code-csharp[Processing data returned from the modal dialog box](~/samples/snippets/csharp/VS_Snippets_Wpf/DialogBoxSample/CSharp/MainWindow.xaml.cs?range=1-10,77-79,89-96,194-195)]
[!code-vb[Processing data returned from the modal dialog box](~/samples/snippets/visualbasic/VS_Snippets_Wpf/DialogBoxSample/VisualBasic/MainWindow.xaml.vb?range=1-9,58,69-73,131-132)]

<span data-ttu-id="91d3a-231">Si le résultat `true`du dialogue est, la fonction utilise cela comme un indice pour récupérer et traiter les données fournies par l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="91d3a-231">If the dialog result is `true`, the function uses that as a cue to retrieve and process the data provided by the user.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="91d3a-232">Après <xref:System.Windows.Window.ShowDialog%2A> son retour, une boîte de dialogue ne peut pas être rouverte.</span><span class="sxs-lookup"><span data-stu-id="91d3a-232">After <xref:System.Windows.Window.ShowDialog%2A> has returned, a dialog box cannot be reopened.</span></span> <span data-ttu-id="91d3a-233">Au lieu de cela, vous devez créer une nouvelle instance.</span><span class="sxs-lookup"><span data-stu-id="91d3a-233">Instead, you need to create a new instance.</span></span>

<span data-ttu-id="91d3a-234">Si le résultat `false`du dialogue est, la fonction doit mettre fin au traitement de manière appropriée.</span><span class="sxs-lookup"><span data-stu-id="91d3a-234">If the dialog result is `false`, the function should end processing appropriately.</span></span>  
  
<a name="Creating_a_Modeless_Custom_Dialog_Box"></a>
### <a name="creating-a-modeless-custom-dialog-box"></a><span data-ttu-id="91d3a-235">Création d’une boîte de dialogue personnalisée sans mode</span><span class="sxs-lookup"><span data-stu-id="91d3a-235">Creating a modeless custom dialog box</span></span>

<span data-ttu-id="91d3a-236">Une boîte de dialogue non modale, telle que la boîte de dialogue Rechercher affichée ci-dessous, a la même apparence fondamentale que la boîte de dialogue modale.</span><span class="sxs-lookup"><span data-stu-id="91d3a-236">A modeless dialog box, such as the Find Dialog Box shown in the following figure, has the same fundamental appearance as the modal dialog box.</span></span>  

![Capture d’écran qui montre une boîte de dialogue Find.](./media/dialog-boxes-overview/find-modeless-dialog-box.png)  

<span data-ttu-id="91d3a-238">Toutefois, le comportement est légèrement différent, comme décrit dans les sections suivantes.</span><span class="sxs-lookup"><span data-stu-id="91d3a-238">However, the behavior is slightly different, as described in the following sections.</span></span>  
  
#### <a name="opening-a-modeless-dialog-box"></a><span data-ttu-id="91d3a-239">Ouverture d’une boîte de dialogue sans mode</span><span class="sxs-lookup"><span data-stu-id="91d3a-239">Opening a modeless dialog box</span></span>

<span data-ttu-id="91d3a-240">Une boîte de dialogue sans mode <xref:System.Windows.Window.Show%2A> est ouverte en appelant la méthode.</span><span class="sxs-lookup"><span data-stu-id="91d3a-240">A modeless dialog box is opened by calling the <xref:System.Windows.Window.Show%2A> method.</span></span>  

[!code-xaml[XAML to define a modeless dialog box](~/samples/snippets/csharp/VS_Snippets_Wpf/DialogBoxSample/CSharp/MainWindow.xaml#L21-L22)]  

[!code-csharp[Opening a modeless dialog box](~/samples/snippets/csharp/VS_Snippets_Wpf/DialogBoxSample/CSharp/MainWindow.xaml.cs?range=1-10,65-76,194-195)]
[!code-vb[Openng a modeless dialog box](~/samples/snippets/visualbasic/VS_Snippets_Wpf/DialogBoxSample/VisualBasic/MainWindow.xaml.vb?range=1-9,18-23,131,132)]  

<span data-ttu-id="91d3a-241">Contrairement <xref:System.Windows.Window.ShowDialog%2A> <xref:System.Windows.Window.Show%2A> à , revient immédiatement.</span><span class="sxs-lookup"><span data-stu-id="91d3a-241">Unlike <xref:System.Windows.Window.ShowDialog%2A>, <xref:System.Windows.Window.Show%2A> returns immediately.</span></span> <span data-ttu-id="91d3a-242">Ainsi, la fenêtre appelante ne peut pas savoir quand la boîte de dialogue non modale est fermée, et ne sait pas quand vérifier le résultat d’une boîte de dialogue ou obtenir des données à partir de la boîte de dialogue pour un traitement ultérieur.</span><span class="sxs-lookup"><span data-stu-id="91d3a-242">Consequently, the calling window cannot tell when the modeless dialog box is closed and, therefore, does not know when to check for a dialog box result or get data from the dialog box for further processing.</span></span> <span data-ttu-id="91d3a-243">Au lieu de cela, la boîte de dialogue doit créer un autre moyen pour retourner des données à la fenêtre appelante en vue de leur traitement.</span><span class="sxs-lookup"><span data-stu-id="91d3a-243">Instead, the dialog box needs to create an alternative way to return data to the calling window for processing.</span></span>  
  
#### <a name="processing-data-returned-from-a-modeless-dialog-box"></a><span data-ttu-id="91d3a-244">Traitement des données retournées d’une boîte de dialogue sans mode</span><span class="sxs-lookup"><span data-stu-id="91d3a-244">Processing data returned from a modeless dialog box</span></span>  

<span data-ttu-id="91d3a-245">Dans cet exemple, le `FindDialogBox` peut retourner un ou plusieurs résultats de trouver à la fenêtre principale, en fonction du texte recherché sans aucune fréquence spécifique.</span><span class="sxs-lookup"><span data-stu-id="91d3a-245">In this example, the `FindDialogBox` may return one or more find results to the main window, depending on the text being searched for without any specific frequency.</span></span> <span data-ttu-id="91d3a-246">Comme avec une boîte de dialogue modale, une boîte de dialogue non modale peut retourner des résultats à l’aide de propriétés.</span><span class="sxs-lookup"><span data-stu-id="91d3a-246">As with a modal dialog box, a modeless dialog box can return results using properties.</span></span> <span data-ttu-id="91d3a-247">Toutefois, la fenêtre propriétaire de la boîte de dialogue doit savoir quand vérifier ces propriétés.</span><span class="sxs-lookup"><span data-stu-id="91d3a-247">However, the window that owns the dialog box needs to know when to check those properties.</span></span> <span data-ttu-id="91d3a-248">L’une des solutions consiste à ce que la boîte de dialogue implémente un événement déclenché chaque fois que le texte est trouvé.</span><span class="sxs-lookup"><span data-stu-id="91d3a-248">One way to enable this is for the dialog box to implement an event that is raised whenever text is found.</span></span> <span data-ttu-id="91d3a-249">`FindDialogBox`met en `TextFoundEvent` œuvre le pour cette fin, qui exige d’abord un délégué.</span><span class="sxs-lookup"><span data-stu-id="91d3a-249">`FindDialogBox` implements the `TextFoundEvent` for this purpose, which first requires a delegate.</span></span>  

[!code-csharp[The TextFoundEventHandler delegate](~/samples/snippets/csharp/VS_Snippets_Wpf/DialogBoxSample/CSharp/TextFoundEventHandler.cs)]
[!code-vb[The TextFoundEventHandler delegate](~/samples/snippets/visualbasic/VS_Snippets_Wpf/DialogBoxSample/VisualBasic/TextFoundEventHandler.vb)]  

<span data-ttu-id="91d3a-250">En `TextFoundEventHandler` utilisant `FindDialogBox` le délégué, met en œuvre le `TextFoundEvent`.</span><span class="sxs-lookup"><span data-stu-id="91d3a-250">Using the `TextFoundEventHandler` delegate, `FindDialogBox` implements the `TextFoundEvent`.</span></span>
  
[!code-csharp[The TextFound event](~/samples/snippets/csharp/VS_Snippets_Wpf/DialogBoxSample/CSharp/FindDialogBox.xaml.cs?range=1-17,125-126)]
[!code-vb[The TextFound event](~/samples/snippets/visualbasic/VS_Snippets_Wpf/DialogBoxSample/VisualBasic/FindDialogBox.xaml.vb?range=1-15,102-103)]

<span data-ttu-id="91d3a-251">Par conséquent, `Find` peut soulever l’événement quand un résultat de recherche est trouvé.</span><span class="sxs-lookup"><span data-stu-id="91d3a-251">Consequently, `Find` can raise the event when a search result is found.</span></span>  
  
[!code-csharp[Raising the TextFound event](~/samples/snippets/csharp/VS_Snippets_Wpf/DialogBoxSample/CSharp/FindDialogBox.xaml.cs?range=1-9,50-52,91-94,124-127)]
[!code-vb[Raising the TextFound event](~/samples/snippets/visualbasic/VS_Snippets_Wpf/DialogBoxSample/VisualBasic/FindDialogBox.xaml.vb?range=1-9,15,60-64,102-103)]  

<span data-ttu-id="91d3a-252">La fenêtre propriétaire doit ensuite s’inscrire pour cet événement et le gérer.</span><span class="sxs-lookup"><span data-stu-id="91d3a-252">The owner window then needs to register with and handle this event.</span></span>

[!code-csharp[Registering and handling the event](~/samples/snippets/csharp/VS_Snippets_Wpf/DialogBoxSample/CSharp/MainWindow.xaml.cs?range=1-10,184-195)]
[!code-vb[Registering and handling the event](~/samples/snippets/visualbasic/VS_Snippets_Wpf/DialogBoxSample/VisualBasic/MainWindow.xaml.vb?range=1-9,126-132)]  

#### <a name="closing-a-modeless-dialog-box"></a><span data-ttu-id="91d3a-253">Fermeture d’une boîte de dialogue sans mode</span><span class="sxs-lookup"><span data-stu-id="91d3a-253">Closing a modeless dialog box</span></span>

<span data-ttu-id="91d3a-254">Parce <xref:System.Windows.Window.DialogResult%2A> qu’il n’est pas nécessaire d’être défini, un dialogue sans mode peut être fermé à l’aide de mécanismes de fournir le système, y compris les suivants :</span><span class="sxs-lookup"><span data-stu-id="91d3a-254">Because <xref:System.Windows.Window.DialogResult%2A> does not need to be set, a modeless dialog can be closed using system provide mechanisms, including the following:</span></span>  
  
- <span data-ttu-id="91d3a-255">Cliquez sur le bouton **Close** dans la barre de titre.</span><span class="sxs-lookup"><span data-stu-id="91d3a-255">Clicking the **Close** button in the title bar.</span></span>  
  
- <span data-ttu-id="91d3a-256">en appuyant sur Alt+F4 ;</span><span class="sxs-lookup"><span data-stu-id="91d3a-256">Pressing ALT+F4.</span></span>  
  
- <span data-ttu-id="91d3a-257">Choisir **Close** dans le menu **Système.**</span><span class="sxs-lookup"><span data-stu-id="91d3a-257">Choosing **Close** from the **System** menu.</span></span>  
  
<span data-ttu-id="91d3a-258">Alternativement, votre code <xref:System.Windows.Window.Close%2A> peut appeler lorsque le bouton **Close** est cliqué.</span><span class="sxs-lookup"><span data-stu-id="91d3a-258">Alternatively, your code can call <xref:System.Windows.Window.Close%2A> when the **Close** button is clicked.</span></span>  

[!code-csharp[Calling the Close method](~/samples/snippets/csharp/VS_Snippets_Wpf/DialogBoxSample/CSharp/FindDialogBox.xaml.cs?range=1-9,119-126)]
[!code-vb[Calling the Close method](~/samples/snippets/visualbasic/VS_Snippets_Wpf/DialogBoxSample/VisualBasic/FindDialogBox.xaml.vb?range=1-9,99-103)]  

## <a name="see-also"></a><span data-ttu-id="91d3a-259">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="91d3a-259">See also</span></span>

- [<span data-ttu-id="91d3a-260">Vue d’ensemble de Popup</span><span class="sxs-lookup"><span data-stu-id="91d3a-260">Popup Overview</span></span>](../controls/popup-overview.md)
- [<span data-ttu-id="91d3a-261">Exemple de boîte de dialogue</span><span class="sxs-lookup"><span data-stu-id="91d3a-261">Dialog Box Sample</span></span>](https://github.com/Microsoft/WPF-Samples/tree/master/Windows/DialogBox)
