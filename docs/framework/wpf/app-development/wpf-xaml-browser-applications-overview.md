---
title: Vue d’ensemble des applications du navigateur XAML
description: Découvrez comment les applications de navigateur XAML combinent les fonctionnalités des applications Web et des applications clientes riches dans le Windows Presentation Foundation (WPF).
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- XBAP [WPF], XAML browser application
- WPF XAML browser applications (XBAP)
- XAML browser applications (XBAP)
- browser-hosted applications [WPF]
ms.assetid: 3a7a86a8-75d5-4898-96b9-73da151e5e16
ms.openlocfilehash: 3395445dd5639e25f62aeef09d070e326704ed40
ms.sourcegitcommit: e02d17b2cf9c1258dadda4810a5e6072a0089aee
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 07/01/2020
ms.locfileid: "85617910"
---
# <a name="wpf-xaml-browser-applications-overview"></a><span data-ttu-id="fe68b-103">Vue d'ensemble des applications de navigateur XAML</span><span class="sxs-lookup"><span data-stu-id="fe68b-103">WPF XAML Browser Applications Overview</span></span>
<a name="introduction"></a><span data-ttu-id="fe68b-104">Les applications de navigateur XAML (XBAP) associent les fonctionnalités des applications Web et des applications clientes riches.</span><span class="sxs-lookup"><span data-stu-id="fe68b-104">XAML browser applications (XBAPs) combines features of both Web applications and rich-client applications.</span></span> <span data-ttu-id="fe68b-105">À l’instar des applications Web, les applications XBAP peuvent être déployées sur un serveur web et démarrées à partir d’Internet Explorer ou de Firefox.</span><span class="sxs-lookup"><span data-stu-id="fe68b-105">Like Web applications, XBAPs can be deployed to a Web server and started from Internet Explorer or Firefox.</span></span> <span data-ttu-id="fe68b-106">Comme les applications clientes riches, les XBAP peuvent tirer parti des fonctionnalités de WPF.</span><span class="sxs-lookup"><span data-stu-id="fe68b-106">Like rich-client applications, XBAPs can take advantage of the capabilities of WPF.</span></span> <span data-ttu-id="fe68b-107">Le développement d’applications XBAP est également semblable au développement d’applications clientes complètes.</span><span class="sxs-lookup"><span data-stu-id="fe68b-107">Developing XBAPs is also similar to rich-client development.</span></span> <span data-ttu-id="fe68b-108">Cette rubrique fournit une présentation simple et détaillée du développement XBAP et décrit les différences de développement entre les applications XBAP et les applications clientes complètes standard.</span><span class="sxs-lookup"><span data-stu-id="fe68b-108">This topic provides a simple, high-level introduction to XBAP development and describes where XBAP development differs from standard rich-client development.</span></span>

 <span data-ttu-id="fe68b-109">Cette rubrique contient les sections suivantes :</span><span class="sxs-lookup"><span data-stu-id="fe68b-109">This topic contains the following sections:</span></span>

- [<span data-ttu-id="fe68b-110">Création d’une nouvelle application de navigateur XAML (XBAP)</span><span class="sxs-lookup"><span data-stu-id="fe68b-110">Creating a New XAML Browser Application (XBAP)</span></span>](#creating_a_new_xaml_browser_application_xbap)

- [<span data-ttu-id="fe68b-111">Déploiement d’une application XBAP</span><span class="sxs-lookup"><span data-stu-id="fe68b-111">Deploying an XBAP</span></span>](#deploying_a_xbap)

- [<span data-ttu-id="fe68b-112">Communication avec la page web hôte</span><span class="sxs-lookup"><span data-stu-id="fe68b-112">Communicating with the Host Web Page</span></span>](#communicating_with_the_host_web_page)

- [<span data-ttu-id="fe68b-113">Considérations relatives à la sécurité des applications XBAP</span><span class="sxs-lookup"><span data-stu-id="fe68b-113">XBAP Security Considerations</span></span>](#xbap_security_considerations)

- [<span data-ttu-id="fe68b-114">Considérations relatives au temps de démarrage des applications XPAB</span><span class="sxs-lookup"><span data-stu-id="fe68b-114">XBAP Start Time Performance Considerations</span></span>](#xbap_start_time_performance_considerations)

<a name="creating_a_new_xaml_browser_application_xbap"></a>
## <a name="creating-a-new-xaml-browser-application-xbap"></a><span data-ttu-id="fe68b-115">Création d’une nouvelle application de navigateur XAML (XBAP)</span><span class="sxs-lookup"><span data-stu-id="fe68b-115">Creating a New XAML Browser Application (XBAP)</span></span>
 <span data-ttu-id="fe68b-116">La façon la plus simple de créer un nouveau projet XBAP est avec Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="fe68b-116">The simplest way to create a new XBAP project is with Visual Studio.</span></span> <span data-ttu-id="fe68b-117">Lorsque vous créez un nouveau projet, sélectionnez **Application de navigateur WPF** dans la liste des modèles.</span><span class="sxs-lookup"><span data-stu-id="fe68b-117">When creating a new project, select **WPF Browser Application** from the list of templates.</span></span> <span data-ttu-id="fe68b-118">Pour plus d’informations, consultez [Guide pratique pour créer un projet d’application de navigateur WPF](https://docs.microsoft.com/previous-versions/visualstudio/visual-studio-2010/bb628663(v=vs.100)).</span><span class="sxs-lookup"><span data-stu-id="fe68b-118">For more information, see [How to: Create a New WPF Browser Application Project](https://docs.microsoft.com/previous-versions/visualstudio/visual-studio-2010/bb628663(v=vs.100)).</span></span>

 <span data-ttu-id="fe68b-119">Lorsque vous exécutez le projet XBAP, celui-ci s’ouvre dans une fenêtre de navigateur et non dans une fenêtre indépendante.</span><span class="sxs-lookup"><span data-stu-id="fe68b-119">When you run the XBAP project, it opens in a browser window instead of a stand-alone window.</span></span> <span data-ttu-id="fe68b-120">Quand vous déboguez l’application XBAP à partir de Visual Studio, l’application s’exécute avec l’autorisation de zone Internet et lèvera donc des exceptions de sécurité si ces autorisations sont dépassées.</span><span class="sxs-lookup"><span data-stu-id="fe68b-120">When you debug the XBAP from Visual Studio, the application runs with Internet zone permission and will therefore throw security exceptions if those permissions are exceeded.</span></span> <span data-ttu-id="fe68b-121">Pour plus d’informations, voir [Sécurité](../security-wpf.md) et [Sécurité de confiance partielle de WPF](../wpf-partial-trust-security.md).</span><span class="sxs-lookup"><span data-stu-id="fe68b-121">For more information, see [Security](../security-wpf.md) and [WPF Partial Trust Security](../wpf-partial-trust-security.md).</span></span>

> [!NOTE]
> <span data-ttu-id="fe68b-122">Si vous ne développez pas avec Visual Studio ou souhaitez en savoir plus sur les fichiers projet, consultez [génération d’une application WPF](building-a-wpf-application-wpf.md).</span><span class="sxs-lookup"><span data-stu-id="fe68b-122">If you are not developing with Visual Studio or want to learn more about the project files, see [Building a WPF Application](building-a-wpf-application-wpf.md).</span></span>

<a name="deploying_a_xbap"></a>
## <a name="deploying-an-xbap"></a><span data-ttu-id="fe68b-123">Déploiement d’une application XBAP</span><span class="sxs-lookup"><span data-stu-id="fe68b-123">Deploying an XBAP</span></span>
 <span data-ttu-id="fe68b-124">Lorsque vous générez une application XBAP, la sortie inclut les trois fichiers suivants :</span><span class="sxs-lookup"><span data-stu-id="fe68b-124">When you build an XBAP, the output includes the following three files:</span></span>

|<span data-ttu-id="fe68b-125">Fichier</span><span class="sxs-lookup"><span data-stu-id="fe68b-125">File</span></span>|<span data-ttu-id="fe68b-126">Description</span><span class="sxs-lookup"><span data-stu-id="fe68b-126">Description</span></span>|
|----------|-----------------|
|<span data-ttu-id="fe68b-127">Fichier exécutable (.exe)</span><span class="sxs-lookup"><span data-stu-id="fe68b-127">Executable (.exe)</span></span>|<span data-ttu-id="fe68b-128">Ce fichier contient le code compilé et porte l’extension .exe.</span><span class="sxs-lookup"><span data-stu-id="fe68b-128">This contains the compiled code and has an .exe extension.</span></span>|
|<span data-ttu-id="fe68b-129">Fichier manifeste d’application (.manifest)</span><span class="sxs-lookup"><span data-stu-id="fe68b-129">Application manifest (.manifest)</span></span>|<span data-ttu-id="fe68b-130">Ce fichier contient les métadonnées associées à l’application et porte l’extension .manifest.</span><span class="sxs-lookup"><span data-stu-id="fe68b-130">This contains metadata associated with the application and has a .manifest extension.</span></span>|
|<span data-ttu-id="fe68b-131">Fichier manifeste de déploiement (.xbap)</span><span class="sxs-lookup"><span data-stu-id="fe68b-131">Deployment manifest (.xbap)</span></span>|<span data-ttu-id="fe68b-132">Ce fichier contient les informations utilisées par ClickOnce pour déployer l’application et l’extension. xbap.</span><span class="sxs-lookup"><span data-stu-id="fe68b-132">This file contains the information that ClickOnce uses to deploy the application and has the .xbap extension.</span></span>|

 <span data-ttu-id="fe68b-133">Vous déployez des applications XBAP sur un serveur Web, par exemple Microsoft Internet Information Services (IIS) 5,0 ou versions ultérieures.</span><span class="sxs-lookup"><span data-stu-id="fe68b-133">You deploy XBAPs to a Web server, for example Microsoft Internet Information Services (IIS) 5.0 or later versions.</span></span> <span data-ttu-id="fe68b-134">Vous n’avez pas besoin d’installer le .NET Framework sur le serveur Web, mais vous devez enregistrer les types MIME (Multipurpose Internet Mail Extensions) WPF et les extensions de nom de fichier.</span><span class="sxs-lookup"><span data-stu-id="fe68b-134">You do not have to install the .NET Framework on the Web server, but you do have to register the WPF Multipurpose Internet Mail Extensions (MIME) types and file name extensions.</span></span> <span data-ttu-id="fe68b-135">Pour plus d’informations, consultez l’article [Configurer IIS 5.0 et IIS 6.0 pour déployer des applications WPF](how-to-configure-iis-5-0-and-iis-6-0-to-deploy-wpf-applications.md).</span><span class="sxs-lookup"><span data-stu-id="fe68b-135">For more information, see [Configure IIS 5.0 and IIS 6.0 to Deploy WPF Applications](how-to-configure-iis-5-0-and-iis-6-0-to-deploy-wpf-applications.md).</span></span>

 <span data-ttu-id="fe68b-136">Pour préparer votre application XBAP au déploiement, copiez le fichier .exe et les manifestes associés sur le serveur web.</span><span class="sxs-lookup"><span data-stu-id="fe68b-136">To prepare your XBAP for deployment, copy the .exe and the associated manifests to the Web server.</span></span> <span data-ttu-id="fe68b-137">Créez une page HTML qui contient un lien hypertexte pour ouvrir le manifeste de déploiement, c’est-à-dire le fichier qui porte l’extension .xbap.</span><span class="sxs-lookup"><span data-stu-id="fe68b-137">Create an HTML page that contains a hyperlink to open the deployment manifest, which is the file that has the .xbap extension.</span></span> <span data-ttu-id="fe68b-138">Quand l’utilisateur clique sur le lien vers le fichier. XBAP, ClickOnce gère automatiquement les mécanismes de téléchargement et de démarrage de l’application.</span><span class="sxs-lookup"><span data-stu-id="fe68b-138">When the user clicks the link to the .xbap file, ClickOnce automatically handles the mechanics of downloading and starting the application.</span></span> <span data-ttu-id="fe68b-139">L’exemple de code suivant montre une page HTML qui contient un lien hypertexte vers une application XBAP.</span><span class="sxs-lookup"><span data-stu-id="fe68b-139">The following example code shows an HTML page that contains a hyperlink that points to an XBAP.</span></span>

```html
<html>
    <head></head>
    <body>
        <a href="XbapEx.xbap">Click this link to launch the application</a>
    </body>
</html>
```

 <span data-ttu-id="fe68b-140">Vous pouvez également héberger une application XBAP dans le cadre d’une page web.</span><span class="sxs-lookup"><span data-stu-id="fe68b-140">You can also host an XBAP in the frame of a Web page.</span></span> <span data-ttu-id="fe68b-141">Créez une page web contenant un ou plusieurs cadres.</span><span class="sxs-lookup"><span data-stu-id="fe68b-141">Create a Web page with one or more frames.</span></span> <span data-ttu-id="fe68b-142">Définissez le fichier manifeste de déploiement comme propriété source d’un cadre.</span><span class="sxs-lookup"><span data-stu-id="fe68b-142">Set the source property of a frame to the deployment manifest file.</span></span> <span data-ttu-id="fe68b-143">Si vous souhaitez utiliser le mécanisme intégré pour la communication entre la page web hôte et l’application XBAP, vous devez héberger l’application dans un cadre.</span><span class="sxs-lookup"><span data-stu-id="fe68b-143">If you want to use the built-in mechanism to communicate between the hosting Web page and the XBAP, you must host the application in a frame.</span></span> <span data-ttu-id="fe68b-144">L’exemple de code suivant montre une page HTML contenant deux cadres et pour laquelle une application XBAP est définie comme source du second cadre.</span><span class="sxs-lookup"><span data-stu-id="fe68b-144">The following example code shows an HTML page with two frames, the source for the second frame is set to an XBAP.</span></span>

```html
<html>
    <head>
        <title>A page with frames</title>
    </head>
    <frameset cols="50%,50%">
        <frame src="introduction.htm">
        <frame src="XbapEx.xbap">
    </frameset>
</html>
```

### <a name="clearing-cached-xbaps"></a><span data-ttu-id="fe68b-145">Suppression des applications XBAP mises en cache</span><span class="sxs-lookup"><span data-stu-id="fe68b-145">Clearing Cached XBAPs</span></span>
 <span data-ttu-id="fe68b-146">Il peut arriver qu’après avoir régénéré et démarré votre application XBAP, une version antérieure de l’application XBAP soit restée ouverte.</span><span class="sxs-lookup"><span data-stu-id="fe68b-146">In some situations after rebuilding and starting your XBAP, you may find that an earlier version of the XBAP is opened.</span></span> <span data-ttu-id="fe68b-147">Cela peut par exemple se produire lorsque votre numéro de version d’assembly XBAP est statique et que vous démarrez l’application XBAP à partir de la ligne de commande.</span><span class="sxs-lookup"><span data-stu-id="fe68b-147">For example, this behavior may occur when your XBAP assembly version number is static and you start the XBAP from the command line.</span></span> <span data-ttu-id="fe68b-148">Dans ce cas, étant donné que la version mise en cache (version de l’application démarrée précédemment) et la nouvelle version portent le même numéro de version, la nouvelle version de l’application XBAP n’est pas téléchargée.</span><span class="sxs-lookup"><span data-stu-id="fe68b-148">In this case, because the version number between the cached version (the version that was previously started) and the new version remains the same, the new version of the XBAP is not downloaded.</span></span> <span data-ttu-id="fe68b-149">C’est donc la version mise en cache qui est chargée.</span><span class="sxs-lookup"><span data-stu-id="fe68b-149">Instead, the cached version is loaded.</span></span>

 <span data-ttu-id="fe68b-150">Dans ce cas, vous pouvez supprimer la version mise en cache à l’aide de la commande **mage** (installée avec Visual Studio ou le SDK Windows) à l’invite de commandes.</span><span class="sxs-lookup"><span data-stu-id="fe68b-150">In these situations, you can remove the cached version by using the **Mage** command (installed with Visual Studio or the Windows SDK) at the command prompt.</span></span> <span data-ttu-id="fe68b-151">La commande suivante efface le cache d’application.</span><span class="sxs-lookup"><span data-stu-id="fe68b-151">The following command clears the application cache.</span></span>

 ```console
 Mage.exe -cc
 ```

 <span data-ttu-id="fe68b-152">Cette commande permet de s’assurer que la dernière version de votre application XBAP est démarrée.</span><span class="sxs-lookup"><span data-stu-id="fe68b-152">This command guarantees that the latest version of your XBAP is started.</span></span> <span data-ttu-id="fe68b-153">Quand vous déboguez votre application dans Visual Studio, vous devez démarrer la dernière version de votre application XBAP.</span><span class="sxs-lookup"><span data-stu-id="fe68b-153">When you debug your application in Visual Studio, the latest version of your XBAP should be started.</span></span> <span data-ttu-id="fe68b-154">En général, vous devez mettre à jour votre numéro de version de déploiement à chaque version.</span><span class="sxs-lookup"><span data-stu-id="fe68b-154">In general, you should update your deployment version number with each build.</span></span> <span data-ttu-id="fe68b-155">Pour plus d’informations sur Mage, consultez l’article [Mage.exe (outil Manifest Generation and Editing)](../../tools/mage-exe-manifest-generation-and-editing-tool.md).</span><span class="sxs-lookup"><span data-stu-id="fe68b-155">For more information about Mage, see [Mage.exe (Manifest Generation and Editing Tool)](../../tools/mage-exe-manifest-generation-and-editing-tool.md).</span></span>

<a name="communicating_with_the_host_web_page"></a>
## <a name="communicating-with-the-host-web-page"></a><span data-ttu-id="fe68b-156">Communication avec la page web hôte</span><span class="sxs-lookup"><span data-stu-id="fe68b-156">Communicating with the Host Web Page</span></span>
 <span data-ttu-id="fe68b-157">Lorsque l’application est hébergée dans un cadre HTML, vous pouvez communiquer avec la page web qui contient l’application XBAP.</span><span class="sxs-lookup"><span data-stu-id="fe68b-157">When the application is hosted in an HTML frame, you can communicate with the Web page that contains the XBAP.</span></span> <span data-ttu-id="fe68b-158">Pour ce faire, récupérez la <xref:System.Windows.Interop.BrowserInteropHelper.HostScript%2A> propriété de <xref:System.Windows.Interop.BrowserInteropHelper> .</span><span class="sxs-lookup"><span data-stu-id="fe68b-158">You do this by retrieving the <xref:System.Windows.Interop.BrowserInteropHelper.HostScript%2A> property of <xref:System.Windows.Interop.BrowserInteropHelper>.</span></span> <span data-ttu-id="fe68b-159">Cette propriété renvoie un objet de script qui représente la fenêtre HTML.</span><span class="sxs-lookup"><span data-stu-id="fe68b-159">This property returns a script object that represents the HTML window.</span></span> <span data-ttu-id="fe68b-160">Vous pouvez consulter les propriétés, méthodes et événements sur [l’objet de fenêtre](https://developer.mozilla.org/en-US/docs/Web/API/Window) en utilisant la syntaxe de point normale.</span><span class="sxs-lookup"><span data-stu-id="fe68b-160">You can then access the properties, methods, and events on the [window object](https://developer.mozilla.org/en-US/docs/Web/API/Window) by using regular dot syntax.</span></span> <span data-ttu-id="fe68b-161">Vous pouvez également accéder aux méthodes de script et aux variables globales.</span><span class="sxs-lookup"><span data-stu-id="fe68b-161">You can also access script methods and global variables.</span></span> <span data-ttu-id="fe68b-162">L’exemple suivant montre comment récupérer l’objet de script et fermer le navigateur.</span><span class="sxs-lookup"><span data-stu-id="fe68b-162">The following example shows how to retrieve the script object and close the browser.</span></span>

 [!code-csharp[XbapBrowserInterop#10](~/samples/snippets/csharp/VS_Snippets_Wpf/xbapbrowserinterop/cs/page1.xaml.cs#10)]
 [!code-vb[XbapBrowserInterop#10](~/samples/snippets/visualbasic/VS_Snippets_Wpf/xbapbrowserinterop/vb/page1.xaml.vb#10)]

### <a name="debugging-xbaps-that-use-hostscript"></a><span data-ttu-id="fe68b-163">Débogage des applications XBAP qui utilisent HostScript</span><span class="sxs-lookup"><span data-stu-id="fe68b-163">Debugging XBAPs that Use HostScript</span></span>
 <span data-ttu-id="fe68b-164">Si votre application XBAP utilise l' <xref:System.Windows.Interop.BrowserInteropHelper.HostScript%2A> objet pour communiquer avec la fenêtre HTML, vous devez spécifier deux paramètres pour exécuter et déboguer l’application dans Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="fe68b-164">If your XBAP uses the <xref:System.Windows.Interop.BrowserInteropHelper.HostScript%2A> object to communicate with the HTML window, there are two settings that you must specify to run and debug the application in Visual Studio.</span></span> <span data-ttu-id="fe68b-165">L’application doit avoir accès à son site d’origine et vous devez démarrer l’application avec la page HTML qui contient l’application XBAP.</span><span class="sxs-lookup"><span data-stu-id="fe68b-165">The application must have access to its site of origin and you must start the application with the HTML page that contains the XBAP.</span></span> <span data-ttu-id="fe68b-166">Les étapes suivantes décrivent comment vérifier ces deux paramètres :</span><span class="sxs-lookup"><span data-stu-id="fe68b-166">The following steps describe how to check these two settings:</span></span>

1. <span data-ttu-id="fe68b-167">Dans Visual Studio, ouvrez les propriétés du projet.</span><span class="sxs-lookup"><span data-stu-id="fe68b-167">In Visual Studio, open the project properties.</span></span>

2. <span data-ttu-id="fe68b-168">Sous l’onglet **Sécurité**, cliquez sur **Avancé**.</span><span class="sxs-lookup"><span data-stu-id="fe68b-168">On the **Security** tab, click **Advanced**.</span></span>

     <span data-ttu-id="fe68b-169">La boîte de dialogue Paramètres de sécurité avancés s'affiche.</span><span class="sxs-lookup"><span data-stu-id="fe68b-169">The Advanced Security Settings dialog box appears.</span></span>

3. <span data-ttu-id="fe68b-170">Assurez-vous que la case **Autoriser l’application à accéder à son site d’origine** est cochée, puis cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="fe68b-170">Make sure that the **Grant the application access to its site of origin** check box is checked and then click **OK**.</span></span>

4. <span data-ttu-id="fe68b-171">Dans l’onglet **Déboguer**, sélectionnez l’option **Démarrer le navigateur avec l’URL** et spécifiez l’URL de la page HTML qui contient l’application XBAP.</span><span class="sxs-lookup"><span data-stu-id="fe68b-171">On the **Debug** tab, select the **Start browser with URL** option and specify the URL for the HTML page that contains the XBAP.</span></span>

5. <span data-ttu-id="fe68b-172">Dans Internet Explorer, cliquez sur le bouton **Outils**, puis sélectionnez **Options Internet**.</span><span class="sxs-lookup"><span data-stu-id="fe68b-172">In Internet Explorer, click the **Tools** button and then select **Internet Options**.</span></span>

     <span data-ttu-id="fe68b-173">La boîte de dialogue Options Internet apparaît.</span><span class="sxs-lookup"><span data-stu-id="fe68b-173">The Internet Options dialog box appears.</span></span>

6. <span data-ttu-id="fe68b-174">Cliquez sur l'onglet **Avancé**.</span><span class="sxs-lookup"><span data-stu-id="fe68b-174">Click the **Advanced** tab.</span></span>

7. <span data-ttu-id="fe68b-175">Dans la liste des **paramètres** sous **Sécurité**, cochez la case **Autoriser l’exécution du contenu actif dans les fichiers de mon ordinateur**.</span><span class="sxs-lookup"><span data-stu-id="fe68b-175">In the **Settings** list under **Security**, check the **Allow active content to run in files on My Computer** check box.</span></span>

8. <span data-ttu-id="fe68b-176">Cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="fe68b-176">Click **OK**.</span></span>

     <span data-ttu-id="fe68b-177">Les modifications prendront effet après le redémarrage d’Internet Explorer.</span><span class="sxs-lookup"><span data-stu-id="fe68b-177">The changes will take effect after you restart Internet Explorer.</span></span>

> [!CAUTION]
> <span data-ttu-id="fe68b-178">Activer le contenu actif dans Internet Explorer peut représenter un risque pour votre ordinateur.</span><span class="sxs-lookup"><span data-stu-id="fe68b-178">Enabling active content in Internet Explorer may put your computer at risk.</span></span> <span data-ttu-id="fe68b-179">Si vous ne souhaitez pas modifier vos paramètres de sécurité Internet Explorer, vous pouvez lancer la page HTML à partir d’un serveur et attacher le débogueur Visual Studio au processus.</span><span class="sxs-lookup"><span data-stu-id="fe68b-179">If you do not want to change your Internet Explorer security settings, you can launch the HTML page from a server and attach the Visual Studio debugger to the process.</span></span>

<a name="xbap_security_considerations"></a>
## <a name="xbap-security-considerations"></a><span data-ttu-id="fe68b-180">Considérations relatives à la sécurité des applications XBAP</span><span class="sxs-lookup"><span data-stu-id="fe68b-180">XBAP Security Considerations</span></span>
 <span data-ttu-id="fe68b-181">Les applications XBAP s’exécutent généralement dans un sandbox de sécurité de confiance partielle qui est limité au jeu d’autorisations de la zone Internet.</span><span class="sxs-lookup"><span data-stu-id="fe68b-181">XBAPs typically execute in a partial-trust security sandbox that is restricted to the Internet zone permission set.</span></span> <span data-ttu-id="fe68b-182">Par conséquent, votre implémentation doit prendre en charge le sous-ensemble d’éléments WPF pris en charge dans la zone Internet ou vous devez élever les autorisations de votre application.</span><span class="sxs-lookup"><span data-stu-id="fe68b-182">Consequently, your implementation must support the subset of WPF elements that are supported in the Internet zone or you must elevate the permissions of your application.</span></span> <span data-ttu-id="fe68b-183">Pour plus d’informations, consultez [Sécurité](../security-wpf.md).</span><span class="sxs-lookup"><span data-stu-id="fe68b-183">For more information, see [Security](../security-wpf.md).</span></span>

 <span data-ttu-id="fe68b-184">Quand vous utilisez un <xref:System.Windows.Controls.WebBrowser> contrôle dans votre application, WPF instancie en interne le contrôle ActiveX WebBrowser natif.</span><span class="sxs-lookup"><span data-stu-id="fe68b-184">When you use a <xref:System.Windows.Controls.WebBrowser> control in your application, WPF internally instantiates the native WebBrowser ActiveX control.</span></span> <span data-ttu-id="fe68b-185">Lorsque votre application est exécutée en tant qu’application XBAP de confiance partielle dans Internet Explorer, le contrôle ActiveX s’exécute dans un thread dédié du processus Internet Explorer.</span><span class="sxs-lookup"><span data-stu-id="fe68b-185">When your application is a partial-trust XBAP running in Internet Explorer, the ActiveX control runs in a dedicated thread of the Internet Explorer process.</span></span> <span data-ttu-id="fe68b-186">Cela signifie que les limitations suivantes s’appliquent :</span><span class="sxs-lookup"><span data-stu-id="fe68b-186">Therefore, the following limitations apply:</span></span>

- <span data-ttu-id="fe68b-187">Le <xref:System.Windows.Controls.WebBrowser> contrôle doit fournir un comportement similaire au navigateur hôte, y compris des restrictions de sécurité.</span><span class="sxs-lookup"><span data-stu-id="fe68b-187">The <xref:System.Windows.Controls.WebBrowser> control should provide behavior similar to the host browser, including security restrictions.</span></span> <span data-ttu-id="fe68b-188">Certaines de ces restrictions de sécurité peuvent être gérées via les paramètres de sécurité d’Internet Explorer.</span><span class="sxs-lookup"><span data-stu-id="fe68b-188">Some of these security restrictions can be controlled through the Internet Explorer security settings.</span></span> <span data-ttu-id="fe68b-189">Pour plus d’informations, consultez [Sécurité](../security-wpf.md).</span><span class="sxs-lookup"><span data-stu-id="fe68b-189">For more information, see [Security](../security-wpf.md).</span></span>

- <span data-ttu-id="fe68b-190">Une exception est générée lorsqu’une application XBAP est chargée sur plusieurs domaines dans une page HTML.</span><span class="sxs-lookup"><span data-stu-id="fe68b-190">An exception is thrown when an XBAP is loaded cross-domain in an HTML page.</span></span>

- <span data-ttu-id="fe68b-191">L’entrée se trouve sur un thread distinct du WPF <xref:System.Windows.Controls.WebBrowser> , de sorte que l’entrée au clavier ne peut pas être interceptée et que l’état de l’IME n’est pas partagé.</span><span class="sxs-lookup"><span data-stu-id="fe68b-191">Input is on a separate thread from the WPF <xref:System.Windows.Controls.WebBrowser>, so keyboard input cannot be intercepted and the IME state is not shared.</span></span>

- <span data-ttu-id="fe68b-192">Comme le contrôle ActiveX est en cours d’exécution sur un autre thread, le temps ou l’ordre de navigation peut différer.</span><span class="sxs-lookup"><span data-stu-id="fe68b-192">The timing or order of navigation may be different due to the ActiveX control running on another thread.</span></span> <span data-ttu-id="fe68b-193">Par exemple, la navigation vers une page n’est pas toujours annulée lors du démarrage d’une autre requête de navigation.</span><span class="sxs-lookup"><span data-stu-id="fe68b-193">For example, navigating to a page is not always cancelled by starting another navigation request.</span></span>

- <span data-ttu-id="fe68b-194">La communication avec un contrôle ActiveX personnalisé peut être difficile puisque l’application WPF s’exécute dans un thread distinct.</span><span class="sxs-lookup"><span data-stu-id="fe68b-194">A custom ActiveX control may have trouble with communication since the WPF application is running in a separate thread.</span></span>

- <span data-ttu-id="fe68b-195"><xref:System.Windows.Interop.HwndHost.MessageHook>n’est pas déclenché, car <xref:System.Windows.Interop.HwndHost> ne peut pas sous-traiter une fenêtre qui s’exécute dans un autre thread ou processus.</span><span class="sxs-lookup"><span data-stu-id="fe68b-195"><xref:System.Windows.Interop.HwndHost.MessageHook> does not get raised because <xref:System.Windows.Interop.HwndHost> cannot subclass a window running in another thread or process.</span></span>

### <a name="creating-a-full-trust-xbap"></a><span data-ttu-id="fe68b-196">Création d’une application XBAP de confiance totale</span><span class="sxs-lookup"><span data-stu-id="fe68b-196">Creating a Full-Trust XBAP</span></span>
 <span data-ttu-id="fe68b-197">Si votre application XBAP requiert une confiance totale, vous pouvez modifier votre projet pour activer cette autorisation.</span><span class="sxs-lookup"><span data-stu-id="fe68b-197">If your XBAP requires full trust, you can change your project to enable this permission.</span></span> <span data-ttu-id="fe68b-198">Les étapes suivantes décrivent comment activer la confiance totale :</span><span class="sxs-lookup"><span data-stu-id="fe68b-198">The following steps describe how to enable full trust:</span></span>

1. <span data-ttu-id="fe68b-199">Dans Visual Studio, ouvrez les propriétés du projet.</span><span class="sxs-lookup"><span data-stu-id="fe68b-199">In Visual Studio, open the project properties.</span></span>

2. <span data-ttu-id="fe68b-200">Dans l’onglet **Sécurité**, sélectionnez l’option **This is a full trust application** (Ceci est une application de confiance totale).</span><span class="sxs-lookup"><span data-stu-id="fe68b-200">On the **Security** tab, select the **This is a full trust application** option.</span></span>

 <span data-ttu-id="fe68b-201">Ce paramètre apporte les modifications suivantes :</span><span class="sxs-lookup"><span data-stu-id="fe68b-201">This setting makes the following changes:</span></span>

- <span data-ttu-id="fe68b-202">Dans le fichier projet, la valeur de l’élément `<TargetZone>` devient `Custom`.</span><span class="sxs-lookup"><span data-stu-id="fe68b-202">In the project file, the `<TargetZone>` element value is changed to `Custom`.</span></span>

- <span data-ttu-id="fe68b-203">Dans le manifeste de l’application (App. manifest), un `Unrestricted="true"` attribut est ajouté à l' <xref:System.Security.PermissionSet> élément.</span><span class="sxs-lookup"><span data-stu-id="fe68b-203">In the application manifest (app.manifest), an `Unrestricted="true"` attribute is added to the \`<xref:System.Security.PermissionSet> element.</span></span>

    ```xml
    <PermissionSet class="System.Security.PermissionSet"
                   version="1"
                   ID="Custom"
                   SameSite="site"
                   Unrestricted="true" />
    ```

### <a name="deploying-a-full-trust-xbap"></a><span data-ttu-id="fe68b-204">Déploiement d’une application XBAP de confiance totale</span><span class="sxs-lookup"><span data-stu-id="fe68b-204">Deploying a Full-Trust XBAP</span></span>
 <span data-ttu-id="fe68b-205">Lorsque vous déployez une application XBAP de confiance totale qui ne suit pas le modèle de déploiement approuvé ClickOnce, le comportement fourni lorsque l’utilisateur exécute l’application dépend de la zone de sécurité.</span><span class="sxs-lookup"><span data-stu-id="fe68b-205">When you deploy a full-trust XBAP that does not follow the ClickOnce Trusted Deployment model, the behavior when the user runs the application will depend on the security zone.</span></span> <span data-ttu-id="fe68b-206">Dans certains cas, l’utilisateur reçoit un avertissement quand il tente de l’installer.</span><span class="sxs-lookup"><span data-stu-id="fe68b-206">In some cases, the user will receive a warning when they attempt to install it.</span></span> <span data-ttu-id="fe68b-207">Il peut choisir de continuer ou d’annuler l’installation.</span><span class="sxs-lookup"><span data-stu-id="fe68b-207">The user can choose to continue or cancel the installation.</span></span> <span data-ttu-id="fe68b-208">Le tableau suivant décrit le comportement de l’application pour chaque zone de sécurité et ce que vous devez faire pour que l’application reçoive la confiance totale.</span><span class="sxs-lookup"><span data-stu-id="fe68b-208">The following table describes the behavior of the application for each security zone and what you have to do for the application to receive full trust.</span></span>

|<span data-ttu-id="fe68b-209">Zone de sécurité</span><span class="sxs-lookup"><span data-stu-id="fe68b-209">Security Zone</span></span>|<span data-ttu-id="fe68b-210">Comportement</span><span class="sxs-lookup"><span data-stu-id="fe68b-210">Behavior</span></span>|<span data-ttu-id="fe68b-211">Obtention de la confiance totale</span><span class="sxs-lookup"><span data-stu-id="fe68b-211">Getting Full Trust</span></span>|
|-------------------|--------------|------------------------|
|<span data-ttu-id="fe68b-212">Ordinateur local</span><span class="sxs-lookup"><span data-stu-id="fe68b-212">Local computer</span></span>|<span data-ttu-id="fe68b-213">Confiance totale automatique</span><span class="sxs-lookup"><span data-stu-id="fe68b-213">Automatic full trust</span></span>|<span data-ttu-id="fe68b-214">Aucune action n'est nécessaire.</span><span class="sxs-lookup"><span data-stu-id="fe68b-214">No action is needed.</span></span>|
|<span data-ttu-id="fe68b-215">Intranet et sites de confiance</span><span class="sxs-lookup"><span data-stu-id="fe68b-215">Intranet and trusted sites</span></span>|<span data-ttu-id="fe68b-216">Invite pour la confiance totale</span><span class="sxs-lookup"><span data-stu-id="fe68b-216">Prompt for full trust</span></span>|<span data-ttu-id="fe68b-217">Signez l’application XBAP avec un certificat afin que l’utilisateur consulte la source dans l’invite.</span><span class="sxs-lookup"><span data-stu-id="fe68b-217">Sign the XBAP with a certificate so that the user sees the source in the prompt.</span></span>|
|<span data-ttu-id="fe68b-218">Internet</span><span class="sxs-lookup"><span data-stu-id="fe68b-218">Internet</span></span>|<span data-ttu-id="fe68b-219">Échec avec "Confiance non accordée"</span><span class="sxs-lookup"><span data-stu-id="fe68b-219">Fails with "Trust Not Granted"</span></span>|<span data-ttu-id="fe68b-220">Signez l’application XBAP avec un certificat.</span><span class="sxs-lookup"><span data-stu-id="fe68b-220">Sign the XBAP with a certificate.</span></span>|

> [!NOTE]
> <span data-ttu-id="fe68b-221">Le comportement décrit dans le tableau précédent concerne les applications XBAP de confiance totale qui ne suivent pas le modèle de déploiement approuvé ClickOnce.</span><span class="sxs-lookup"><span data-stu-id="fe68b-221">The behavior described in the previous table is for full-trust XBAPs that do not follow the ClickOnce Trusted Deployment model.</span></span>

 <span data-ttu-id="fe68b-222">Il est recommandé d’utiliser le modèle de déploiement approuvé ClickOnce pour déployer une application XBAP de confiance totale.</span><span class="sxs-lookup"><span data-stu-id="fe68b-222">It is recommended that you use the ClickOnce Trusted Deployment model for deploying a full-trust XBAP.</span></span> <span data-ttu-id="fe68b-223">Ce modèle permet d’accorder automatiquement une confiance totale à votre application XBAP, quelle que soit la zone de sécurité, afin que l’utilisateur ne reçoive aucune invite.</span><span class="sxs-lookup"><span data-stu-id="fe68b-223">This model allows your XBAP to be granted full trust automatically, regardless of the security zone, so that the user is not prompted.</span></span> <span data-ttu-id="fe68b-224">Dans le cadre de ce modèle, vous devez signer votre application avec un certificat d’un éditeur approuvé.</span><span class="sxs-lookup"><span data-stu-id="fe68b-224">As part of this model, you must sign your application with a certificate from a trusted publisher.</span></span> <span data-ttu-id="fe68b-225">Pour plus d’informations, consultez les articles [Vue d’ensemble du déploiement d’applications approuvées](/visualstudio/deployment/trusted-application-deployment-overview) et [Présentation de la signature de code](https://docs.microsoft.com/previous-versions/windows/internet-explorer/ie-developer/platform-apis/ms537361(v=vs.85)).</span><span class="sxs-lookup"><span data-stu-id="fe68b-225">For more information, see [Trusted Application Deployment Overview](/visualstudio/deployment/trusted-application-deployment-overview) and [Introduction to Code Signing](https://docs.microsoft.com/previous-versions/windows/internet-explorer/ie-developer/platform-apis/ms537361(v=vs.85)).</span></span>

<a name="xbap_start_time_performance_considerations"></a>
## <a name="xbap-start-time-performance-considerations"></a><span data-ttu-id="fe68b-226">Considérations relatives au temps de démarrage des applications XPAB</span><span class="sxs-lookup"><span data-stu-id="fe68b-226">XBAP Start Time Performance Considerations</span></span>
 <span data-ttu-id="fe68b-227">Un facteur important de performance d’une application XBAP est son temps de démarrage.</span><span class="sxs-lookup"><span data-stu-id="fe68b-227">An important aspect of XBAP performance is its start time.</span></span> <span data-ttu-id="fe68b-228">Si une application XBAP est la première application WPF à être chargée, le *démarrage à froid* prend au moins dix secondes.</span><span class="sxs-lookup"><span data-stu-id="fe68b-228">If an XBAP is the first WPF application to load, the *cold start* time can be ten seconds or more.</span></span> <span data-ttu-id="fe68b-229">Cela s’explique par le fait que la page de progression est affichée par WPF, et que CLR et WPF doivent être démarrés à froid pour afficher l’application.</span><span class="sxs-lookup"><span data-stu-id="fe68b-229">This is because the progress page is rendered by WPF, and both the CLR and WPF must be cold-started to display the application.</span></span>

 <span data-ttu-id="fe68b-230">À compter de .NET Framework 3,5 SP1, l’heure de démarrage à froid de XBAP est atténuée en affichant une page de progression non gérée au début du cycle de déploiement.</span><span class="sxs-lookup"><span data-stu-id="fe68b-230">Starting in .NET Framework 3.5 SP1, XBAP cold-start time is mitigated by displaying an unmanaged progress page early in the deployment cycle.</span></span> <span data-ttu-id="fe68b-231">La page de progression s’affiche quasiment immédiatement après le démarrage de l’application, car elle apparaît via le code d’hébergement natif au format HTML.</span><span class="sxs-lookup"><span data-stu-id="fe68b-231">The progress page appears almost immediately after the application is started, because it is displayed by native hosting code and rendered in HTML.</span></span>

 <span data-ttu-id="fe68b-232">En outre, la concurrence améliorée de la séquence de téléchargement ClickOnce améliore le temps de démarrage jusqu’à dix pour cent.</span><span class="sxs-lookup"><span data-stu-id="fe68b-232">In addition, improved concurrency of the ClickOnce download sequence improves start time by up to ten percent.</span></span> <span data-ttu-id="fe68b-233">Une fois que ClickOnce a téléchargé et validé les manifestes, le téléchargement de l’application démarre et la barre de progression commence à se mettre à jour.</span><span class="sxs-lookup"><span data-stu-id="fe68b-233">After ClickOnce downloads and validates manifests, the application download starts, and the progress bar starts to update.</span></span>

## <a name="see-also"></a><span data-ttu-id="fe68b-234">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="fe68b-234">See also</span></span>

- [<span data-ttu-id="fe68b-235">Configurer Visual Studio pour déboguer une application de navigateur XAML et appeler un service web</span><span class="sxs-lookup"><span data-stu-id="fe68b-235">Configure Visual Studio to Debug a XAML Browser Application to Call a Web Service</span></span>](configure-vs-to-debug-a-xaml-browser-to-call-a-web-service.md)
- [<span data-ttu-id="fe68b-236">Déploiement d’une application WPF</span><span class="sxs-lookup"><span data-stu-id="fe68b-236">Deploying a WPF Application</span></span>](deploying-a-wpf-application-wpf.md)
