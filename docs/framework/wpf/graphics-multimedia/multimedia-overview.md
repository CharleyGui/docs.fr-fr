---
title: Vue d'ensemble du multimédia
ms.date: 03/30/2017
helpviewer_keywords:
- multimedia [WPF]
- media [WPF]
ms.assetid: feb25b15-d741-4ac3-818f-1b19f63a3562
ms.openlocfilehash: 42d0d388e859b556d23b7fc81931cd61470ba541
ms.sourcegitcommit: ad800f019ac976cb669e635fb0ea49db740e6890
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/29/2019
ms.locfileid: "73039804"
---
# <a name="multimedia-overview"></a><span data-ttu-id="13906-102">Vue d'ensemble du multimédia</span><span class="sxs-lookup"><span data-stu-id="13906-102">Multimedia Overview</span></span>
<span data-ttu-id="13906-103">Les fonctionnalités multimédias de [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] permettent d’intégrer des données audio et vidéo dans vos applications afin d’améliorer l’expérience utilisateur.</span><span class="sxs-lookup"><span data-stu-id="13906-103">The multimedia features in [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] enable you to integrate audio and video into your applications to enhance the user experience.</span></span> <span data-ttu-id="13906-104">Cette rubrique présente les fonctionnalités multimédias de [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span><span class="sxs-lookup"><span data-stu-id="13906-104">This topic introduces the multimedia features of [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span></span>  

<a name="mediaapi"></a>   
## <a name="media-api"></a><span data-ttu-id="13906-105">API Media</span><span class="sxs-lookup"><span data-stu-id="13906-105">Media API</span></span>  
 <span data-ttu-id="13906-106">Les classes <xref:System.Windows.Controls.MediaElement> et <xref:System.Windows.Media.MediaPlayer> sont utilisées pour présenter le contenu audio ou vidéo.</span><span class="sxs-lookup"><span data-stu-id="13906-106">The <xref:System.Windows.Controls.MediaElement> and <xref:System.Windows.Media.MediaPlayer> classes are used to present audio or video content.</span></span> <span data-ttu-id="13906-107">Ces classes peuvent être contrôlées interactivement ou par une horloge.</span><span class="sxs-lookup"><span data-stu-id="13906-107">These classes can be controlled interactively or by a clock.</span></span> <span data-ttu-id="13906-108">Ces classes peuvent être utilisées sur le contrôle Microsoft Windows Media Player 10 pour la lecture du média.</span><span class="sxs-lookup"><span data-stu-id="13906-108">These classes can use on the Microsoft Windows Media Player 10 control for media playback.</span></span> <span data-ttu-id="13906-109">La classe que vous allez utiliser dépend du scénario.</span><span class="sxs-lookup"><span data-stu-id="13906-109">Which class you use, depends on the scenario.</span></span>  
  
 <span data-ttu-id="13906-110"><xref:System.Windows.Controls.MediaElement> est une <xref:System.Windows.UIElement> qui est prise en charge par la [disposition](../advanced/layout.md) et qui peut être utilisée comme contenu de nombreux contrôles.</span><span class="sxs-lookup"><span data-stu-id="13906-110"><xref:System.Windows.Controls.MediaElement> is a <xref:System.Windows.UIElement> that is supported by the [Layout](../advanced/layout.md) and can be consumed as the content of many controls.</span></span> <span data-ttu-id="13906-111">Il est également utilisable en langage [!INCLUDE[TLA#tla_xaml](../../../../includes/tlasharptla-xaml-md.md)] ainsi que dans du code.</span><span class="sxs-lookup"><span data-stu-id="13906-111">It is also usable in [!INCLUDE[TLA#tla_xaml](../../../../includes/tlasharptla-xaml-md.md)] as well as code.</span></span> <span data-ttu-id="13906-112"><xref:System.Windows.Media.MediaPlayer>, en revanche, est conçu pour les objets <xref:System.Windows.Media.Drawing> et ne prend pas en charge la disposition.</span><span class="sxs-lookup"><span data-stu-id="13906-112"><xref:System.Windows.Media.MediaPlayer>, on the other hand, is designed for <xref:System.Windows.Media.Drawing> objects and lacks layout support.</span></span> <span data-ttu-id="13906-113">Les supports chargés à l’aide d’un <xref:System.Windows.Media.MediaPlayer> peuvent être présentés uniquement à l’aide d’un <xref:System.Windows.Media.VideoDrawing> ou en interagissant directement avec un <xref:System.Windows.Media.DrawingContext>.</span><span class="sxs-lookup"><span data-stu-id="13906-113">Media loaded using a <xref:System.Windows.Media.MediaPlayer> can only be presented using a <xref:System.Windows.Media.VideoDrawing> or by directly interacting with a <xref:System.Windows.Media.DrawingContext>.</span></span> <span data-ttu-id="13906-114"><xref:System.Windows.Media.MediaPlayer> ne peut pas être utilisé en XAML.</span><span class="sxs-lookup"><span data-stu-id="13906-114"><xref:System.Windows.Media.MediaPlayer> cannot be used in XAML.</span></span>  
  
 <span data-ttu-id="13906-115">Pour plus d’informations sur les objets de dessin et le contexte de dessin, consultez [Vue d’ensemble des objets Drawing](drawing-objects-overview.md).</span><span class="sxs-lookup"><span data-stu-id="13906-115">For more information about drawing objects and drawing context, see [Drawing Objects Overview](drawing-objects-overview.md).</span></span>  
  
> [!NOTE]
> <span data-ttu-id="13906-116">Lorsque vous distribuez un contenu multimédia avec votre application, vous ne pouvez pas utiliser de fichier multimédia comme ressource de projet.</span><span class="sxs-lookup"><span data-stu-id="13906-116">When distributing media with your application, you cannot use a media file as a project resource.</span></span> <span data-ttu-id="13906-117">Dans votre fichier projet, vous devez plutôt définir le type de média sur `Content` et définir `CopyToOutputDirectory` sur `PreserveNewest` ou `Always`.</span><span class="sxs-lookup"><span data-stu-id="13906-117">In your project file, you must instead set the media type to `Content` and set `CopyToOutputDirectory` to `PreserveNewest` or `Always`.</span></span>  
  
<a name="mediaplaybackmodes"></a>   
## <a name="media-playback-modes"></a><span data-ttu-id="13906-118">Modes de lecture de médias</span><span class="sxs-lookup"><span data-stu-id="13906-118">Media Playback Modes</span></span>  
  
> [!NOTE]
> <span data-ttu-id="13906-119">Les <xref:System.Windows.Controls.MediaElement> et <xref:System.Windows.Media.MediaPlayer> avoir des membres similaires.</span><span class="sxs-lookup"><span data-stu-id="13906-119">Both <xref:System.Windows.Controls.MediaElement> and <xref:System.Windows.Media.MediaPlayer> have similar members.</span></span> <span data-ttu-id="13906-120">Les liens de cette section font référence aux membres de la classe <xref:System.Windows.Controls.MediaElement>.</span><span class="sxs-lookup"><span data-stu-id="13906-120">The links in this section refer to the <xref:System.Windows.Controls.MediaElement> class members.</span></span> <span data-ttu-id="13906-121">Sauf mention spécifique, les membres liés dans la classe <xref:System.Windows.Controls.MediaElement> se trouvent également dans la classe <xref:System.Windows.Media.MediaPlayer>.</span><span class="sxs-lookup"><span data-stu-id="13906-121">Unless specifically noted, members linked to in the <xref:System.Windows.Controls.MediaElement> class can also be found in the <xref:System.Windows.Media.MediaPlayer> class.</span></span>  
  
 <span data-ttu-id="13906-122">Pour comprendre la lecture de médias dans [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)], il est nécessaire de comprendre les différents modes de lecture des médias.</span><span class="sxs-lookup"><span data-stu-id="13906-122">To understand media playback in [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)], an understanding of the different modes in which media can be played is required.</span></span> <span data-ttu-id="13906-123"><xref:System.Windows.Controls.MediaElement> et <xref:System.Windows.Media.MediaPlayer> peuvent être utilisés dans deux modes de média différents, en mode indépendant et en mode horloge.</span><span class="sxs-lookup"><span data-stu-id="13906-123">Both <xref:System.Windows.Controls.MediaElement> and <xref:System.Windows.Media.MediaPlayer> can be used in two different media modes, independent mode and clock mode.</span></span> <span data-ttu-id="13906-124">Le mode support est déterminé par la propriété <xref:System.Windows.Controls.MediaElement.Clock%2A>.</span><span class="sxs-lookup"><span data-stu-id="13906-124">The media mode is determined by the <xref:System.Windows.Controls.MediaElement.Clock%2A> property.</span></span> <span data-ttu-id="13906-125">Lorsque <xref:System.Windows.Controls.MediaElement.Clock%2A> est `null`, l’objet multimédia est en mode indépendant.</span><span class="sxs-lookup"><span data-stu-id="13906-125">When <xref:System.Windows.Controls.MediaElement.Clock%2A> is `null`, the media object is in independent mode.</span></span> <span data-ttu-id="13906-126">Lorsque le <xref:System.Windows.Controls.MediaElement.Clock%2A> est non null, l’objet média est en mode horloge.</span><span class="sxs-lookup"><span data-stu-id="13906-126">When the <xref:System.Windows.Controls.MediaElement.Clock%2A> is non-null, the media object is in clock mode.</span></span> <span data-ttu-id="13906-127">Par défaut, les objets médias sont en mode indépendant.</span><span class="sxs-lookup"><span data-stu-id="13906-127">By default, media objects are in independent mode.</span></span>  
  
### <a name="independent-mode"></a><span data-ttu-id="13906-128">Mode indépendant</span><span class="sxs-lookup"><span data-stu-id="13906-128">Independent Mode</span></span>  
 <span data-ttu-id="13906-129">En mode indépendant, le contenu du média déclenche la lecture du média.</span><span class="sxs-lookup"><span data-stu-id="13906-129">In independent mode, the media content drives media playback.</span></span> <span data-ttu-id="13906-130">Le mode indépendant comprend les options suivantes :</span><span class="sxs-lookup"><span data-stu-id="13906-130">Independent mode enables the following options:</span></span>  
  
- <span data-ttu-id="13906-131">Le <xref:System.Uri> du média peut être spécifié directement.</span><span class="sxs-lookup"><span data-stu-id="13906-131">Media's <xref:System.Uri> can be directly specified.</span></span>  
  
- <span data-ttu-id="13906-132">La lecture du média peut être directement contrôlée.</span><span class="sxs-lookup"><span data-stu-id="13906-132">Media playback can be directly controlled.</span></span>  
  
- <span data-ttu-id="13906-133">Les propriétés <xref:System.Windows.Controls.MediaElement.Position%2A> et <xref:System.Windows.Controls.MediaElement.SpeedRatio%2A> du média peuvent être modifiées.</span><span class="sxs-lookup"><span data-stu-id="13906-133">Media's <xref:System.Windows.Controls.MediaElement.Position%2A> and <xref:System.Windows.Controls.MediaElement.SpeedRatio%2A> properties can be modified.</span></span>  
  
 <span data-ttu-id="13906-134">Le média est chargé soit en définissant la propriété <xref:System.Windows.Controls.MediaElement.Source%2A> de l’objet <xref:System.Windows.Controls.MediaElement>, soit en appelant la méthode <xref:System.Windows.Media.MediaPlayer.Open%2A> de l’objet <xref:System.Windows.Media.MediaPlayer>.</span><span class="sxs-lookup"><span data-stu-id="13906-134">Media is loaded by either setting the <xref:System.Windows.Controls.MediaElement> object's <xref:System.Windows.Controls.MediaElement.Source%2A> property or by calling the <xref:System.Windows.Media.MediaPlayer> object's <xref:System.Windows.Media.MediaPlayer.Open%2A> method.</span></span>  
  
 <span data-ttu-id="13906-135">Pour contrôler la lecture du média en mode indépendant, les méthodes de contrôle de l’objet média peuvent être utilisées.</span><span class="sxs-lookup"><span data-stu-id="13906-135">To control media playback in independent mode, the media object's control methods can be used.</span></span> <span data-ttu-id="13906-136">Les méthodes de contrôle disponibles sont <xref:System.Windows.Controls.MediaElement.Play%2A>, <xref:System.Windows.Controls.MediaElement.Pause%2A>, <xref:System.Windows.Controls.MediaElement.Close%2A>et <xref:System.Windows.Controls.MediaElement.Stop%2A>.</span><span class="sxs-lookup"><span data-stu-id="13906-136">The control methods available are <xref:System.Windows.Controls.MediaElement.Play%2A>, <xref:System.Windows.Controls.MediaElement.Pause%2A>, <xref:System.Windows.Controls.MediaElement.Close%2A>, and <xref:System.Windows.Controls.MediaElement.Stop%2A>.</span></span> <span data-ttu-id="13906-137">Par <xref:System.Windows.Controls.MediaElement>, le contrôle interactif à l’aide de ces méthodes est disponible uniquement lorsque la <xref:System.Windows.Controls.MediaElement.LoadedBehavior%2A> est définie sur <xref:System.Windows.Controls.MediaState.Manual>.</span><span class="sxs-lookup"><span data-stu-id="13906-137">For <xref:System.Windows.Controls.MediaElement>, interactive control using these methods is only available when the <xref:System.Windows.Controls.MediaElement.LoadedBehavior%2A> is set to <xref:System.Windows.Controls.MediaState.Manual>.</span></span> <span data-ttu-id="13906-138">Ces méthodes ne sont pas disponibles lorsque l’objet média est en mode horloge.</span><span class="sxs-lookup"><span data-stu-id="13906-138">These methods are unavailable when the media object is in clock mode.</span></span>  
  
 <span data-ttu-id="13906-139">Consultez la page [Contrôler un MediaElement (lecture, pause, arrêt, volume et vitesse)](how-to-control-a-mediaelement-play-pause-stop-volume-and-speed.md) pour obtenir un exemple de mode indépendant.</span><span class="sxs-lookup"><span data-stu-id="13906-139">See [Control a MediaElement (Play, Pause, Stop, Volume, and Speed)](how-to-control-a-mediaelement-play-pause-stop-volume-and-speed.md) for an example of independent mode.</span></span>  
  
### <a name="clock-mode"></a><span data-ttu-id="13906-140">Mode horloge</span><span class="sxs-lookup"><span data-stu-id="13906-140">Clock Mode</span></span>  
 <span data-ttu-id="13906-141">En mode horloge, un <xref:System.Windows.Media.MediaTimeline> pilote la lecture du média.</span><span class="sxs-lookup"><span data-stu-id="13906-141">In clock mode, a <xref:System.Windows.Media.MediaTimeline> drives media playback.</span></span> <span data-ttu-id="13906-142">Le mode horloge présente les caractéristiques suivantes :</span><span class="sxs-lookup"><span data-stu-id="13906-142">Clock mode has the following characteristics:</span></span>  
  
- <span data-ttu-id="13906-143">Le <xref:System.Uri> du média est défini indirectement par le biais d’une <xref:System.Windows.Media.MediaTimeline>.</span><span class="sxs-lookup"><span data-stu-id="13906-143">Media's <xref:System.Uri> is indirectly set through a <xref:System.Windows.Media.MediaTimeline>.</span></span>  
  
- <span data-ttu-id="13906-144">La lecture du média peut être contrôlée par l’horloge.</span><span class="sxs-lookup"><span data-stu-id="13906-144">Media playback can be controlled by the clock.</span></span> <span data-ttu-id="13906-145">Les méthodes de contrôle de l’objet média ne peuvent pas être utilisées.</span><span class="sxs-lookup"><span data-stu-id="13906-145">The media object's control methods cannot be used.</span></span>  
  
- <span data-ttu-id="13906-146">Le média est chargé en définissant la propriété de <xref:System.Windows.Media.MediaTimeline.Source%2A> d’un objet <xref:System.Windows.Media.MediaTimeline>, en créant l’horloge à partir de la chronologie et en assignant l’horloge à l’objet multimédia.</span><span class="sxs-lookup"><span data-stu-id="13906-146">Media is loaded by setting a <xref:System.Windows.Media.MediaTimeline> object's <xref:System.Windows.Media.MediaTimeline.Source%2A> property, creating the clock from the timeline, and assigning the clock to the media object.</span></span> <span data-ttu-id="13906-147">Le média est également chargé de cette manière lorsqu’un <xref:System.Windows.Media.MediaTimeline> à l’intérieur d’un <xref:System.Windows.Media.Animation.Storyboard> cible un <xref:System.Windows.Controls.MediaElement>.</span><span class="sxs-lookup"><span data-stu-id="13906-147">Media is also loaded this way when a <xref:System.Windows.Media.MediaTimeline> inside a <xref:System.Windows.Media.Animation.Storyboard> targets a <xref:System.Windows.Controls.MediaElement>.</span></span>  
  
 <span data-ttu-id="13906-148">Pour contrôler la lecture du média en mode horloge, vous devez utiliser les méthodes de contrôle <xref:System.Windows.Media.Animation.ClockController>.</span><span class="sxs-lookup"><span data-stu-id="13906-148">To control media playback in clock mode, the <xref:System.Windows.Media.Animation.ClockController> control methods must be used.</span></span> <span data-ttu-id="13906-149">Une <xref:System.Windows.Media.Animation.ClockController> est obtenue à partir de la propriété <xref:System.Windows.Media.Animation.ClockController> du <xref:System.Windows.Media.MediaClock>.</span><span class="sxs-lookup"><span data-stu-id="13906-149">A <xref:System.Windows.Media.Animation.ClockController> is obtained from the <xref:System.Windows.Media.Animation.ClockController> property of the <xref:System.Windows.Media.MediaClock>.</span></span> <span data-ttu-id="13906-150">Si vous tentez d’utiliser les méthodes de contrôle d’un objet <xref:System.Windows.Controls.MediaElement> ou <xref:System.Windows.Media.MediaPlayer> en mode horloge, une <xref:System.InvalidOperationException> sera levée.</span><span class="sxs-lookup"><span data-stu-id="13906-150">If you attempt to use the control methods of either a <xref:System.Windows.Controls.MediaElement> or <xref:System.Windows.Media.MediaPlayer> object while in clock mode, an <xref:System.InvalidOperationException> will be thrown.</span></span>  
  
 <span data-ttu-id="13906-151">Pour plus d’informations sur les horloges et les chronologies, consultez l’article [Vue d’ensemble de l’animation](animation-overview.md).</span><span class="sxs-lookup"><span data-stu-id="13906-151">See the [Animation Overview](animation-overview.md) for more information about clocks and timelines.</span></span>  
  
 <span data-ttu-id="13906-152">Pour obtenir un exemple du mode horloge, consultez la page [Contrôler un MediaElement à l’aide d’un Storyboard](how-to-control-a-mediaelement-by-using-a-storyboard.md).</span><span class="sxs-lookup"><span data-stu-id="13906-152">See [Control a MediaElement by Using a Storyboard](how-to-control-a-mediaelement-by-using-a-storyboard.md) for an example of clock mode.</span></span>  
  
<a name="mediaelement"></a>   
## <a name="mediaelement-class"></a><span data-ttu-id="13906-153">Classe MediaElement</span><span class="sxs-lookup"><span data-stu-id="13906-153">MediaElement Class</span></span>  
 <span data-ttu-id="13906-154">L’ajout d’un média à une application est aussi simple que l’ajout d’un contrôle de <xref:System.Windows.Controls.MediaElement> à la [!INCLUDE[TLA#tla_ui](../../../../includes/tlasharptla-ui-md.md)] de l’application et la fourniture d’un <xref:System.Uri> au média que vous souhaitez inclure.</span><span class="sxs-lookup"><span data-stu-id="13906-154">Adding media to an application is as simple as adding a <xref:System.Windows.Controls.MediaElement> control to the [!INCLUDE[TLA#tla_ui](../../../../includes/tlasharptla-ui-md.md)] of the application and providing a <xref:System.Uri> to the media you wish to include.</span></span> <span data-ttu-id="13906-155">Tous les types de média pris en charge par le lecteur Microsoft Windows Media 10 sont pris en charge dans [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)].</span><span class="sxs-lookup"><span data-stu-id="13906-155">All media types supported by Microsoft Windows Media Player 10 are supported in [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)].</span></span> <span data-ttu-id="13906-156">L’exemple suivant montre une utilisation simple de la <xref:System.Windows.Controls.MediaElement> dans [!INCLUDE[TLA#tla_xaml](../../../../includes/tlasharptla-xaml-md.md)].</span><span class="sxs-lookup"><span data-stu-id="13906-156">The following example shows a simple usage of the <xref:System.Windows.Controls.MediaElement> in [!INCLUDE[TLA#tla_xaml](../../../../includes/tlasharptla-xaml-md.md)].</span></span>  
  
 [!code-xaml[MediaElement_snip#SimpleMediaElementUsageWholePage](~/samples/snippets/csharp/VS_Snippets_Wpf/MediaElement_snip/CSharp/SimpleUsage.xaml#simplemediaelementusagewholepage)]  
  
 <span data-ttu-id="13906-157">Dans cet exemple, le média est lu automatiquement dès qu’il est chargé.</span><span class="sxs-lookup"><span data-stu-id="13906-157">In this sample, media is played automatically as soon as it is loaded.</span></span> <span data-ttu-id="13906-158">Une fois la lecture du média terminée, le média est fermé et toutes les ressources du média sont libérées (y compris la mémoire vidéo).</span><span class="sxs-lookup"><span data-stu-id="13906-158">Once the media has finished playing, the media is closed and all media resources are release (including video memory).</span></span> <span data-ttu-id="13906-159">Il s’agit du comportement par défaut de l’objet <xref:System.Windows.Controls.MediaElement> et il est contrôlé par les propriétés <xref:System.Windows.Controls.MediaElement.LoadedBehavior%2A> et <xref:System.Windows.Controls.MediaElement.UnloadedBehavior%2A>.</span><span class="sxs-lookup"><span data-stu-id="13906-159">This is the default behavior of the <xref:System.Windows.Controls.MediaElement> object and is controlled by the <xref:System.Windows.Controls.MediaElement.LoadedBehavior%2A> and <xref:System.Windows.Controls.MediaElement.UnloadedBehavior%2A> properties.</span></span>  
  
### <a name="controlling-a-mediaelement"></a><span data-ttu-id="13906-160">Contrôler un MediaElement</span><span class="sxs-lookup"><span data-stu-id="13906-160">Controlling a MediaElement</span></span>  
 <span data-ttu-id="13906-161">Les propriétés <xref:System.Windows.Controls.MediaElement.LoadedBehavior%2A> et <xref:System.Windows.Controls.MediaElement.UnloadedBehavior%2A> contrôlent le comportement de l' <xref:System.Windows.Controls.MediaElement> lorsque <xref:System.Windows.FrameworkElement.IsLoaded%2A> est `true` ou `false`, respectivement.</span><span class="sxs-lookup"><span data-stu-id="13906-161">The <xref:System.Windows.Controls.MediaElement.LoadedBehavior%2A> and <xref:System.Windows.Controls.MediaElement.UnloadedBehavior%2A> properties control the behavior of the <xref:System.Windows.Controls.MediaElement> when <xref:System.Windows.FrameworkElement.IsLoaded%2A> is `true` or `false`, respectively.</span></span> <span data-ttu-id="13906-162">La <xref:System.Windows.Controls.MediaState> les propriétés sont définies de manière à affecter le comportement de lecture du média.</span><span class="sxs-lookup"><span data-stu-id="13906-162">The <xref:System.Windows.Controls.MediaState> the properties are set to affect the media playback behavior.</span></span> <span data-ttu-id="13906-163">Par exemple, la <xref:System.Windows.Controls.MediaElement.LoadedBehavior%2A> par défaut est <xref:System.Windows.Controls.MediaState.Play> et la <xref:System.Windows.Controls.MediaElement.UnloadedBehavior%2A> par défaut est <xref:System.Windows.Controls.MediaState.Close>.</span><span class="sxs-lookup"><span data-stu-id="13906-163">For example, the default <xref:System.Windows.Controls.MediaElement.LoadedBehavior%2A> is <xref:System.Windows.Controls.MediaState.Play> and the default <xref:System.Windows.Controls.MediaElement.UnloadedBehavior%2A> is <xref:System.Windows.Controls.MediaState.Close>.</span></span> <span data-ttu-id="13906-164">Cela signifie que dès que le <xref:System.Windows.Controls.MediaElement> est chargé et que le préroll est terminé, le média commence à fonctionner.</span><span class="sxs-lookup"><span data-stu-id="13906-164">This means that as soon as the <xref:System.Windows.Controls.MediaElement> is loaded and the preroll is complete, the media begins to play.</span></span> <span data-ttu-id="13906-165">Une fois la lecture terminée, le média est fermé et toutes les ressources du média sont libérées.</span><span class="sxs-lookup"><span data-stu-id="13906-165">Once playback is complete, media is closed and all media resources are released.</span></span>  
  
 <span data-ttu-id="13906-166">Les propriétés <xref:System.Windows.Controls.MediaElement.LoadedBehavior%2A> et <xref:System.Windows.Controls.MediaElement.UnloadedBehavior%2A> ne sont pas la seule façon de contrôler la lecture du média.</span><span class="sxs-lookup"><span data-stu-id="13906-166">The <xref:System.Windows.Controls.MediaElement.LoadedBehavior%2A> and <xref:System.Windows.Controls.MediaElement.UnloadedBehavior%2A> properties are not the only way to control media playback.</span></span> <span data-ttu-id="13906-167">En mode horloge, l’horloge peut contrôler la <xref:System.Windows.Controls.MediaElement> et les méthodes de contrôle interactives contrôlent le moment où l' <xref:System.Windows.Controls.MediaElement.LoadedBehavior%2A> est <xref:System.Windows.Controls.MediaState.Manual>.</span><span class="sxs-lookup"><span data-stu-id="13906-167">In clock mode, the clock can control the <xref:System.Windows.Controls.MediaElement> and the interactive control methods have control when the <xref:System.Windows.Controls.MediaElement.LoadedBehavior%2A> is <xref:System.Windows.Controls.MediaState.Manual>.</span></span> <span data-ttu-id="13906-168"><xref:System.Windows.Controls.MediaElement> gère ce concours pour le contrôle en évaluant les priorités suivantes.</span><span class="sxs-lookup"><span data-stu-id="13906-168"><xref:System.Windows.Controls.MediaElement> handles this competition for control by evaluating the following priorities.</span></span>  
  
1. <span data-ttu-id="13906-169"><xref:System.Windows.Controls.MediaElement.UnloadedBehavior%2A>.,</span><span class="sxs-lookup"><span data-stu-id="13906-169"><xref:System.Windows.Controls.MediaElement.UnloadedBehavior%2A>.</span></span> <span data-ttu-id="13906-170">Actif lorsque le média est déchargé.</span><span class="sxs-lookup"><span data-stu-id="13906-170">In place when media is unloaded.</span></span> <span data-ttu-id="13906-171">Cela garantit que toutes les ressources de média sont libérées par défaut, même lorsqu’un <xref:System.Windows.Media.MediaClock> est associé à la <xref:System.Windows.Controls.MediaElement>.</span><span class="sxs-lookup"><span data-stu-id="13906-171">This ensures that all media resources are released by default, even when a <xref:System.Windows.Media.MediaClock> is associated with the <xref:System.Windows.Controls.MediaElement>.</span></span>  
  
2. <span data-ttu-id="13906-172"><xref:System.Windows.Media.MediaClock>.,</span><span class="sxs-lookup"><span data-stu-id="13906-172"><xref:System.Windows.Media.MediaClock>.</span></span> <span data-ttu-id="13906-173">En place lorsque le média a un <xref:System.Windows.Controls.MediaElement.Clock%2A>.</span><span class="sxs-lookup"><span data-stu-id="13906-173">In place when media has a <xref:System.Windows.Controls.MediaElement.Clock%2A>.</span></span> <span data-ttu-id="13906-174">Si le média est déchargé, le <xref:System.Windows.Media.MediaClock> prend effet tant que le <xref:System.Windows.Controls.MediaElement.UnloadedBehavior%2A> est <xref:System.Windows.Controls.MediaState.Manual>.</span><span class="sxs-lookup"><span data-stu-id="13906-174">If media is unloaded, the <xref:System.Windows.Media.MediaClock> will take effect as long as the <xref:System.Windows.Controls.MediaElement.UnloadedBehavior%2A> is <xref:System.Windows.Controls.MediaState.Manual>.</span></span> <span data-ttu-id="13906-175">Le mode horloge remplace toujours le comportement chargé du <xref:System.Windows.Controls.MediaElement>.</span><span class="sxs-lookup"><span data-stu-id="13906-175">Clock mode always overrides the loaded behavior of the <xref:System.Windows.Controls.MediaElement>.</span></span>  
  
3. <span data-ttu-id="13906-176"><xref:System.Windows.Controls.MediaElement.LoadedBehavior%2A>.,</span><span class="sxs-lookup"><span data-stu-id="13906-176"><xref:System.Windows.Controls.MediaElement.LoadedBehavior%2A>.</span></span> <span data-ttu-id="13906-177">Actif lorsque le média est chargé.</span><span class="sxs-lookup"><span data-stu-id="13906-177">In place when media is loaded.</span></span>  
  
4. <span data-ttu-id="13906-178">Méthodes de contrôle interactives.</span><span class="sxs-lookup"><span data-stu-id="13906-178">Interactive control methods.</span></span> <span data-ttu-id="13906-179">En place lorsque <xref:System.Windows.Controls.MediaElement.LoadedBehavior%2A> est <xref:System.Windows.Controls.MediaState.Manual>.</span><span class="sxs-lookup"><span data-stu-id="13906-179">In place when <xref:System.Windows.Controls.MediaElement.LoadedBehavior%2A> is <xref:System.Windows.Controls.MediaState.Manual>.</span></span> <span data-ttu-id="13906-180">Les méthodes de contrôle disponibles sont <xref:System.Windows.Controls.MediaElement.Play%2A>, <xref:System.Windows.Controls.MediaElement.Pause%2A>, <xref:System.Windows.Controls.MediaElement.Close%2A>et <xref:System.Windows.Controls.MediaElement.Stop%2A>.</span><span class="sxs-lookup"><span data-stu-id="13906-180">The control methods available are <xref:System.Windows.Controls.MediaElement.Play%2A>, <xref:System.Windows.Controls.MediaElement.Pause%2A>, <xref:System.Windows.Controls.MediaElement.Close%2A>, and <xref:System.Windows.Controls.MediaElement.Stop%2A>.</span></span>  
  
### <a name="displaying-a-mediaelement"></a><span data-ttu-id="13906-181">Afficher un MediaElement</span><span class="sxs-lookup"><span data-stu-id="13906-181">Displaying a MediaElement</span></span>  
 <span data-ttu-id="13906-182">Pour afficher un <xref:System.Windows.Controls.MediaElement> il doit disposer d’un contenu à restituer et ses propriétés <xref:System.Windows.FrameworkElement.ActualWidth%2A> et <xref:System.Windows.FrameworkElement.ActualHeight%2A> sont définies sur zéro jusqu’à ce que le contenu soit chargé.</span><span class="sxs-lookup"><span data-stu-id="13906-182">To display a <xref:System.Windows.Controls.MediaElement> it must have content to render and it will have its <xref:System.Windows.FrameworkElement.ActualWidth%2A> and <xref:System.Windows.FrameworkElement.ActualHeight%2A> properties set to zero until content is loaded.</span></span> <span data-ttu-id="13906-183">Pour du contenu purement audio, ces propriétés sont toujours égales à zéro.</span><span class="sxs-lookup"><span data-stu-id="13906-183">For audio only content, these properties are always zero.</span></span> <span data-ttu-id="13906-184">Pour le contenu vidéo, lorsque l’événement <xref:System.Windows.Controls.MediaElement.MediaOpened> a été déclenché, le <xref:System.Windows.FrameworkElement.ActualWidth%2A> et <xref:System.Windows.FrameworkElement.ActualHeight%2A> signale la taille du média chargé.</span><span class="sxs-lookup"><span data-stu-id="13906-184">For video content, once the <xref:System.Windows.Controls.MediaElement.MediaOpened> event has been raised the <xref:System.Windows.FrameworkElement.ActualWidth%2A> and <xref:System.Windows.FrameworkElement.ActualHeight%2A> will report the size of the loaded media.</span></span> <span data-ttu-id="13906-185">Cela signifie que, tant que le support n’est pas chargé, les <xref:System.Windows.Controls.MediaElement> n’occupent aucun espace physique dans le [!INCLUDE[TLA#tla_ui](../../../../includes/tlasharptla-ui-md.md)] à moins que les propriétés <xref:System.Windows.FrameworkElement.Width%2A> ou <xref:System.Windows.FrameworkElement.Height%2A> soient définies.</span><span class="sxs-lookup"><span data-stu-id="13906-185">This means that until media is loaded, the <xref:System.Windows.Controls.MediaElement> will not take up any physical space in the [!INCLUDE[TLA#tla_ui](../../../../includes/tlasharptla-ui-md.md)] unless the <xref:System.Windows.FrameworkElement.Width%2A> or <xref:System.Windows.FrameworkElement.Height%2A> properties are set.</span></span>  
  
 <span data-ttu-id="13906-186">La définition des propriétés <xref:System.Windows.FrameworkElement.Width%2A> et <xref:System.Windows.FrameworkElement.Height%2A> entraîne l’étirement du média pour remplir la zone prévue pour le <xref:System.Windows.Controls.MediaElement>.</span><span class="sxs-lookup"><span data-stu-id="13906-186">Setting both the <xref:System.Windows.FrameworkElement.Width%2A> and <xref:System.Windows.FrameworkElement.Height%2A> properties will cause the media to stretch to fill the area provided for the <xref:System.Windows.Controls.MediaElement>.</span></span> <span data-ttu-id="13906-187">Pour conserver les proportions d’origine du média, la propriété <xref:System.Windows.FrameworkElement.Width%2A> ou <xref:System.Windows.FrameworkElement.Height%2A> doit être définie, mais pas les deux.</span><span class="sxs-lookup"><span data-stu-id="13906-187">To preserve the media's original aspect ratio, either the <xref:System.Windows.FrameworkElement.Width%2A> or <xref:System.Windows.FrameworkElement.Height%2A> property should be set but not both.</span></span> <span data-ttu-id="13906-188">Le fait de définir à la fois les propriétés <xref:System.Windows.FrameworkElement.Width%2A> et <xref:System.Windows.FrameworkElement.Height%2A> entraîne la présentation du média dans une taille d’élément fixe qui peut ne pas être souhaitable.</span><span class="sxs-lookup"><span data-stu-id="13906-188">Setting both the <xref:System.Windows.FrameworkElement.Width%2A> and <xref:System.Windows.FrameworkElement.Height%2A> properties will cause the media to present in a fixed element size that may not be desirable.</span></span>  
  
 <span data-ttu-id="13906-189">Pour éviter d’avoir un élément de taille fixe, [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] peut effectuer un preroll du média.</span><span class="sxs-lookup"><span data-stu-id="13906-189">To avoid having a fixed size element which, [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] can preroll the media.</span></span> <span data-ttu-id="13906-190">Pour ce faire, affectez la valeur <xref:System.Windows.Controls.MediaState.Play> ou <xref:System.Windows.Controls.MediaState.Pause>à la <xref:System.Windows.Controls.MediaElement.LoadedBehavior%2A>.</span><span class="sxs-lookup"><span data-stu-id="13906-190">This is done by setting the <xref:System.Windows.Controls.MediaElement.LoadedBehavior%2A> to either <xref:System.Windows.Controls.MediaState.Play> or <xref:System.Windows.Controls.MediaState.Pause>.</span></span> <span data-ttu-id="13906-191">Dans un État <xref:System.Windows.Controls.MediaState.Pause>, le média est préroll et présente le premier frame.</span><span class="sxs-lookup"><span data-stu-id="13906-191">In a <xref:System.Windows.Controls.MediaState.Pause> state, the media will preroll and will present the first frame.</span></span> <span data-ttu-id="13906-192">Dans un État <xref:System.Windows.Controls.MediaState.Play>, le média est préroll et commence à fonctionner.</span><span class="sxs-lookup"><span data-stu-id="13906-192">In a <xref:System.Windows.Controls.MediaState.Play> state, the media will preroll and begin to play.</span></span>  
  
<a name="mediaplayer"></a>   
## <a name="mediaplayer-class"></a><span data-ttu-id="13906-193">Classe MediaPlayer</span><span class="sxs-lookup"><span data-stu-id="13906-193">MediaPlayer Class</span></span>  
 <span data-ttu-id="13906-194">Lorsque la classe <xref:System.Windows.Controls.MediaElement> est un élément d’infrastructure, la classe <xref:System.Windows.Media.MediaPlayer> est conçue pour être utilisée dans les objets <xref:System.Windows.Media.Drawing>.</span><span class="sxs-lookup"><span data-stu-id="13906-194">Where as the <xref:System.Windows.Controls.MediaElement> class is a framework element, the <xref:System.Windows.Media.MediaPlayer> class is designed to be used in <xref:System.Windows.Media.Drawing> objects.</span></span> <span data-ttu-id="13906-195">Les objets de dessin sont utilisés lorsque vous pouvez sacrifier des fonctionnalités au niveau du Framework pour obtenir des avantages en matière de performances ou lorsque vous avez besoin de fonctionnalités de <xref:System.Windows.Freezable>.</span><span class="sxs-lookup"><span data-stu-id="13906-195">Drawing objects are used when you can sacrifice framework level features to gain performance benefits or when you need <xref:System.Windows.Freezable> features.</span></span> <span data-ttu-id="13906-196"><xref:System.Windows.Media.MediaPlayer> vous permet de tirer parti de ces fonctionnalités tout en fournissant du contenu multimédia dans vos applications.</span><span class="sxs-lookup"><span data-stu-id="13906-196"><xref:System.Windows.Media.MediaPlayer> enables you to take advantage of these features while providing media content in your applications.</span></span> <span data-ttu-id="13906-197">Comme <xref:System.Windows.Controls.MediaElement>, <xref:System.Windows.Media.MediaPlayer> peut être utilisé en mode indépendant ou en mode horloge, mais il n’a pas les États déchargés et chargés de l’objet <xref:System.Windows.Controls.MediaElement>.</span><span class="sxs-lookup"><span data-stu-id="13906-197">Like <xref:System.Windows.Controls.MediaElement>, <xref:System.Windows.Media.MediaPlayer> can be used in independent or clock mode but does not have the <xref:System.Windows.Controls.MediaElement> object's unloaded and loaded states.</span></span> <span data-ttu-id="13906-198">Cela réduit la complexité du contrôle de lecture du <xref:System.Windows.Media.MediaPlayer>.</span><span class="sxs-lookup"><span data-stu-id="13906-198">This reduces the playback control complexity of the <xref:System.Windows.Media.MediaPlayer>.</span></span>  
  
### <a name="controlling-mediaplayer"></a><span data-ttu-id="13906-199">Contrôler un MediaPlayer</span><span class="sxs-lookup"><span data-stu-id="13906-199">Controlling MediaPlayer</span></span>  
 <span data-ttu-id="13906-200">Étant donné que <xref:System.Windows.Media.MediaPlayer> est sans État, il existe deux façons de contrôler la lecture du média.</span><span class="sxs-lookup"><span data-stu-id="13906-200">Because <xref:System.Windows.Media.MediaPlayer> is stateless, there are only two ways to control media playback.</span></span>  
  
1. <span data-ttu-id="13906-201">Méthodes de contrôle interactives.</span><span class="sxs-lookup"><span data-stu-id="13906-201">Interactive control methods.</span></span> <span data-ttu-id="13906-202">En place en mode indépendant (propriété`null`<xref:System.Windows.Media.MediaPlayer.Clock%2A>).</span><span class="sxs-lookup"><span data-stu-id="13906-202">In place when in independent mode (`null`<xref:System.Windows.Media.MediaPlayer.Clock%2A> property).</span></span>  
  
2. <span data-ttu-id="13906-203"><xref:System.Windows.Media.MediaClock>.,</span><span class="sxs-lookup"><span data-stu-id="13906-203"><xref:System.Windows.Media.MediaClock>.</span></span> <span data-ttu-id="13906-204">En place lorsque le média a un <xref:System.Windows.Media.MediaPlayer.Clock%2A>.</span><span class="sxs-lookup"><span data-stu-id="13906-204">In place when media has a <xref:System.Windows.Media.MediaPlayer.Clock%2A>.</span></span>  
  
### <a name="displaying-a-mediaplayer"></a><span data-ttu-id="13906-205">Afficher un MediaPlayer</span><span class="sxs-lookup"><span data-stu-id="13906-205">Displaying a MediaPlayer</span></span>  
 <span data-ttu-id="13906-206">Techniquement, un <xref:System.Windows.Media.MediaPlayer> ne peut pas être affiché, car il n’a pas de représentation physique.</span><span class="sxs-lookup"><span data-stu-id="13906-206">Technically, a <xref:System.Windows.Media.MediaPlayer> cannot be displayed since it has no physical representation.</span></span> <span data-ttu-id="13906-207">Toutefois, il peut être utilisé pour présenter un média dans un <xref:System.Windows.Media.Drawing> à l’aide de la classe <xref:System.Windows.Media.VideoDrawing>.</span><span class="sxs-lookup"><span data-stu-id="13906-207">However, it can be used to present media in a <xref:System.Windows.Media.Drawing> using the <xref:System.Windows.Media.VideoDrawing> class.</span></span> <span data-ttu-id="13906-208">L’exemple suivant illustre l’utilisation d’un <xref:System.Windows.Media.VideoDrawing> pour afficher un média.</span><span class="sxs-lookup"><span data-stu-id="13906-208">The following example demonstrates the use of a <xref:System.Windows.Media.VideoDrawing> to display media.</span></span>  
  
 [!code-csharp[DrawingMiscSnippets_snip#VideoDrawingExampleInline](~/samples/snippets/csharp/VS_Snippets_Wpf/DrawingMiscSnippets_snip/CSharp/VideoDrawingExample.cs#videodrawingexampleinline)]  
  
 <span data-ttu-id="13906-209">Pour plus d’informations sur les objets <xref:System.Windows.Media.Drawing>, consultez [vue d’ensemble des objets dessinés](drawing-objects-overview.md) .</span><span class="sxs-lookup"><span data-stu-id="13906-209">See the [Drawing Objects Overview](drawing-objects-overview.md) for more information about <xref:System.Windows.Media.Drawing> objects.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="13906-210">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="13906-210">See also</span></span>

- <xref:System.Windows.Media.DrawingGroup>
- [<span data-ttu-id="13906-211">Disposition</span><span class="sxs-lookup"><span data-stu-id="13906-211">Layout</span></span>](../advanced/layout.md)
- [<span data-ttu-id="13906-212">Rubriques de guide pratique</span><span class="sxs-lookup"><span data-stu-id="13906-212">How-to Topics</span></span>](audio-and-video-how-to-topics.md)
