---
title: Vue d'ensemble des storyboards
desription: Organize and apply animations in storyboards. Use property-targeting syntax and combine timelines in Windows Presentation Foundation (WPF).
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- Storyboard syntax [WPF]
- syntax [WPF], Storyboard
- timelines [WPF]
ms.assetid: 1a698c3c-30f1-4b30-ae56-57e8a39811bd
ms.openlocfilehash: 50f45953da3801bf73016c09b78a6a1b54878bc0
ms.sourcegitcommit: b6a1869f97a37f11a68c90afde1a520a6887dcbc
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 07/02/2020
ms.locfileid: "85853640"
---
# <a name="storyboards-overview"></a><span data-ttu-id="4a1b1-102">Vue d'ensemble des storyboards</span><span class="sxs-lookup"><span data-stu-id="4a1b1-102">Storyboards Overview</span></span>

<span data-ttu-id="4a1b1-103">Cette rubrique montre comment utiliser <xref:System.Windows.Media.Animation.Storyboard> des objets pour organiser et appliquer des animations.</span><span class="sxs-lookup"><span data-stu-id="4a1b1-103">This topic shows how to use <xref:System.Windows.Media.Animation.Storyboard> objects to organize and apply animations.</span></span> <span data-ttu-id="4a1b1-104">Il décrit comment manipuler des objets de manière interactive <xref:System.Windows.Media.Animation.Storyboard> et décrit la syntaxe de ciblage de propriété indirecte.</span><span class="sxs-lookup"><span data-stu-id="4a1b1-104">It describes how to interactively manipulate <xref:System.Windows.Media.Animation.Storyboard> objects and describes indirect property targeting syntax.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="4a1b1-105">Prérequis</span><span class="sxs-lookup"><span data-stu-id="4a1b1-105">Prerequisites</span></span>

<span data-ttu-id="4a1b1-106">Pour comprendre cette rubrique, vous devez connaître les différents types d’animations et leurs fonctions de base.</span><span class="sxs-lookup"><span data-stu-id="4a1b1-106">To understand this topic, you should be familiar with the different animation types and their basic features.</span></span> <span data-ttu-id="4a1b1-107">Pour une introduction à l’animation, consultez [Vue d’ensemble de l’animation](animation-overview.md).</span><span class="sxs-lookup"><span data-stu-id="4a1b1-107">For an introduction to animation, see the [Animation Overview](animation-overview.md).</span></span> <span data-ttu-id="4a1b1-108">Vous devez également savoir comment utiliser les propriétés jointes.</span><span class="sxs-lookup"><span data-stu-id="4a1b1-108">You should also know how to use attached properties.</span></span> <span data-ttu-id="4a1b1-109">Pour plus d’informations sur les propriétés jointes, consultez [Vue d’ensemble des propriétés jointes](../advanced/attached-properties-overview.md).</span><span class="sxs-lookup"><span data-stu-id="4a1b1-109">For more information about attached properties, see the [Attached Properties Overview](../advanced/attached-properties-overview.md).</span></span>

<a name="whatisatimeline"></a>

## <a name="what-is-a-storyboard"></a><span data-ttu-id="4a1b1-110">Qu’est-ce qu’une table de montage séquentiel ?</span><span class="sxs-lookup"><span data-stu-id="4a1b1-110">What Is a Storyboard?</span></span>

<span data-ttu-id="4a1b1-111">Les animations ne sont pas le seul type utile de chronologie.</span><span class="sxs-lookup"><span data-stu-id="4a1b1-111">Animations are not the only useful type of timeline.</span></span> <span data-ttu-id="4a1b1-112">D’autres classes de chronologie sont fournies pour vous aider à organiser des jeux de chronologies et à appliquer des chronologies aux propriétés.</span><span class="sxs-lookup"><span data-stu-id="4a1b1-112">Other timeline classes are provided to help you organize sets of timelines, and to apply timelines to properties.</span></span> <span data-ttu-id="4a1b1-113">Les chronologies de conteneur dérivent de la <xref:System.Windows.Media.Animation.TimelineGroup> classe et incluent <xref:System.Windows.Media.Animation.ParallelTimeline> et <xref:System.Windows.Media.Animation.Storyboard> .</span><span class="sxs-lookup"><span data-stu-id="4a1b1-113">Container timelines derive from the <xref:System.Windows.Media.Animation.TimelineGroup> class, and include <xref:System.Windows.Media.Animation.ParallelTimeline> and <xref:System.Windows.Media.Animation.Storyboard>.</span></span>

<span data-ttu-id="4a1b1-114">Un <xref:System.Windows.Media.Animation.Storyboard> est un type de chronologie de conteneur qui fournit des informations de ciblage pour les chronologies qu’il contient.</span><span class="sxs-lookup"><span data-stu-id="4a1b1-114">A <xref:System.Windows.Media.Animation.Storyboard> is a type of container timeline that provides targeting information for the timelines it contains.</span></span> <span data-ttu-id="4a1b1-115">Une table de montage séquentiel peut contenir tout type de <xref:System.Windows.Media.Animation.Timeline> , y compris d’autres chronologies de conteneur et animations.</span><span class="sxs-lookup"><span data-stu-id="4a1b1-115">A Storyboard can contain any type of <xref:System.Windows.Media.Animation.Timeline>, including other container timelines and animations.</span></span> <span data-ttu-id="4a1b1-116"><xref:System.Windows.Media.Animation.Storyboard>les objets vous permettent de combiner des chronologies qui affectent une variété d’objets et de propriétés dans une arborescence de chronologie unique, ce qui facilite l’organisation et le contrôle des comportements de minutage complexes.</span><span class="sxs-lookup"><span data-stu-id="4a1b1-116"><xref:System.Windows.Media.Animation.Storyboard> objects enable you to combine timelines that affect a variety of objects and properties into a single timeline tree, making it easy to organize and control complex timing behaviors.</span></span> <span data-ttu-id="4a1b1-117">Par exemple, supposons que vous souhaitiez disposer d’un bouton qui effectue les trois opérations suivantes.</span><span class="sxs-lookup"><span data-stu-id="4a1b1-117">For example, suppose you want a button that does these three things.</span></span>

- <span data-ttu-id="4a1b1-118">Développer et changer de couleur lorsque l’utilisateur sélectionne le bouton.</span><span class="sxs-lookup"><span data-stu-id="4a1b1-118">Grow and change color when the user selects the button.</span></span>

- <span data-ttu-id="4a1b1-119">Réduire puis revenir à la taille normale lorsque l’utilisateur clique dessus.</span><span class="sxs-lookup"><span data-stu-id="4a1b1-119">Shrink away and then grow back to its original size when clicked.</span></span>

- <span data-ttu-id="4a1b1-120">Réduire et atténuer l’opacité en la définissant sur 50 % lorsque le bouton est désactivé.</span><span class="sxs-lookup"><span data-stu-id="4a1b1-120">Shrink and fade to 50 percent opacity when it becomes disabled.</span></span>

<span data-ttu-id="4a1b1-121">Dans ce cas, vous avez plusieurs jeux d’animations qui s’appliquent au même objet, et vous souhaitez les jouer à différents moments, en fonction de l’état du bouton.</span><span class="sxs-lookup"><span data-stu-id="4a1b1-121">In this case, you have multiple sets of animations that apply to the same object, and you want to play at different times, dependent on the state of the button.</span></span> <span data-ttu-id="4a1b1-122"><xref:System.Windows.Media.Animation.Storyboard>les objets vous permettent d’organiser les animations et de les appliquer dans des groupes à un ou plusieurs objets.</span><span class="sxs-lookup"><span data-stu-id="4a1b1-122"><xref:System.Windows.Media.Animation.Storyboard> objects enable you to organize animations and apply them in groups to one or more objects.</span></span>

<a name="wherecanyouuseastoryboard"></a>

## <a name="where-can-you-use-a-storyboard"></a><span data-ttu-id="4a1b1-123">Où pouvez-vous utiliser une table de montage séquentiel ?</span><span class="sxs-lookup"><span data-stu-id="4a1b1-123">Where Can You Use a Storyboard?</span></span>

<span data-ttu-id="4a1b1-124">Un <xref:System.Windows.Media.Animation.Storyboard> peut être utilisé pour animer des propriétés de dépendance de classes pouvant être animées (pour plus d’informations sur ce qui rend une classe animable, consultez [vue d’ensemble](animation-overview.md)de l’animation).</span><span class="sxs-lookup"><span data-stu-id="4a1b1-124">A <xref:System.Windows.Media.Animation.Storyboard> can be used to animate dependency properties of animatable classes (for more information about what makes a class animatable, see the [Animation Overview](animation-overview.md)).</span></span> <span data-ttu-id="4a1b1-125">Toutefois, étant donné que le Storyboard est une fonctionnalité au niveau de l’infrastructure, l’objet doit appartenir au <xref:System.Windows.NameScope> d’un ou d’un <xref:System.Windows.FrameworkElement> <xref:System.Windows.FrameworkContentElement> .</span><span class="sxs-lookup"><span data-stu-id="4a1b1-125">However, because storyboarding is a framework-level feature, the object must belong to the <xref:System.Windows.NameScope> of a <xref:System.Windows.FrameworkElement> or a <xref:System.Windows.FrameworkContentElement>.</span></span>

<span data-ttu-id="4a1b1-126">Par exemple, vous pouvez utiliser un <xref:System.Windows.Media.Animation.Storyboard> pour effectuer les opérations suivantes :</span><span class="sxs-lookup"><span data-stu-id="4a1b1-126">For example, you could use a <xref:System.Windows.Media.Animation.Storyboard> to do the following:</span></span>

- <span data-ttu-id="4a1b1-127">Animer un <xref:System.Windows.Media.SolidColorBrush> (élément non-Framework) qui peint l’arrière-plan d’un bouton (type de <xref:System.Windows.FrameworkElement> ),</span><span class="sxs-lookup"><span data-stu-id="4a1b1-127">Animate a <xref:System.Windows.Media.SolidColorBrush> (Non-framework element) that paints the Background of a Button (a type of <xref:System.Windows.FrameworkElement>),</span></span>

- <span data-ttu-id="4a1b1-128">Animer un <xref:System.Windows.Media.SolidColorBrush> (élément non-Framework) qui peint le remplissage d’un <xref:System.Windows.Media.GeometryDrawing> (élément non-Framework) affiché à l’aide d’un <xref:System.Windows.Controls.Image> ( <xref:System.Windows.FrameworkElement> ).</span><span class="sxs-lookup"><span data-stu-id="4a1b1-128">Animate a <xref:System.Windows.Media.SolidColorBrush> (Non-framework element) that paints the fill of a <xref:System.Windows.Media.GeometryDrawing> (Non-framework element) displayed using an <xref:System.Windows.Controls.Image> (<xref:System.Windows.FrameworkElement>).</span></span>

- <span data-ttu-id="4a1b1-129">Dans le code, animez un <xref:System.Windows.Media.SolidColorBrush> déclaré par une classe qui contient également un <xref:System.Windows.FrameworkElement> , si le nom de celui-ci est <xref:System.Windows.Media.SolidColorBrush> inscrit avec <xref:System.Windows.FrameworkElement> .</span><span class="sxs-lookup"><span data-stu-id="4a1b1-129">In code, animate a <xref:System.Windows.Media.SolidColorBrush> declared by a class that also contains a <xref:System.Windows.FrameworkElement>, if the <xref:System.Windows.Media.SolidColorBrush> registered its name with that <xref:System.Windows.FrameworkElement>.</span></span>

<span data-ttu-id="4a1b1-130">Toutefois, vous ne pouviez pas utiliser un <xref:System.Windows.Media.Animation.Storyboard> pour animer un <xref:System.Windows.Media.SolidColorBrush> qui n’a pas inscrit son nom avec un <xref:System.Windows.FrameworkElement> ou un <xref:System.Windows.FrameworkContentElement> , ou n’a pas été utilisé pour définir une propriété d’un ou d’un <xref:System.Windows.FrameworkElement> <xref:System.Windows.FrameworkContentElement> .</span><span class="sxs-lookup"><span data-stu-id="4a1b1-130">However, you could not use a <xref:System.Windows.Media.Animation.Storyboard> to animate a <xref:System.Windows.Media.SolidColorBrush> that did not register its name with a <xref:System.Windows.FrameworkElement> or <xref:System.Windows.FrameworkContentElement>, or was not used to set a property of a <xref:System.Windows.FrameworkElement> or <xref:System.Windows.FrameworkContentElement>.</span></span>

<a name="applyanimationswithastoryboard"></a>

## <a name="how-to-apply-animations-with-a-storyboard"></a><span data-ttu-id="4a1b1-131">Comment appliquer des animations avec une table de montage séquentiel</span><span class="sxs-lookup"><span data-stu-id="4a1b1-131">How to Apply Animations with a Storyboard</span></span>

<span data-ttu-id="4a1b1-132">Pour utiliser un <xref:System.Windows.Media.Animation.Storyboard> pour organiser et appliquer des animations, vous ajoutez les animations en tant que chronologies enfants de <xref:System.Windows.Media.Animation.Storyboard> .</span><span class="sxs-lookup"><span data-stu-id="4a1b1-132">To use a <xref:System.Windows.Media.Animation.Storyboard> to organize and apply animations, you add the animations as child timelines of the <xref:System.Windows.Media.Animation.Storyboard>.</span></span> <span data-ttu-id="4a1b1-133">La <xref:System.Windows.Media.Animation.Storyboard> classe fournit les <xref:System.Windows.Media.Animation.Storyboard.TargetName%2A?displayProperty=nameWithType> <xref:System.Windows.Media.Animation.Storyboard.TargetProperty?displayProperty=nameWithType> propriétés jointes et.</span><span class="sxs-lookup"><span data-stu-id="4a1b1-133">The <xref:System.Windows.Media.Animation.Storyboard> class provides the <xref:System.Windows.Media.Animation.Storyboard.TargetName%2A?displayProperty=nameWithType> and <xref:System.Windows.Media.Animation.Storyboard.TargetProperty?displayProperty=nameWithType> attached properties.</span></span> <span data-ttu-id="4a1b1-134">Vous définissez ces propriétés sur une animation pour spécifier sa propriété et son objet cibles.</span><span class="sxs-lookup"><span data-stu-id="4a1b1-134">You set these properties on an animation to specify its target object and property.</span></span>

<span data-ttu-id="4a1b1-135">Pour appliquer des animations à leurs cibles, commencez l' <xref:System.Windows.Media.Animation.Storyboard> utilisation d’une action de déclencheur ou d’une méthode.</span><span class="sxs-lookup"><span data-stu-id="4a1b1-135">To apply animations to their targets, you begin the <xref:System.Windows.Media.Animation.Storyboard> using a trigger action or a method.</span></span> <span data-ttu-id="4a1b1-136">Dans [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] , vous utilisez un <xref:System.Windows.Media.Animation.BeginStoryboard> objet avec un <xref:System.Windows.EventTrigger> , <xref:System.Windows.Trigger> ou <xref:System.Windows.DataTrigger> .</span><span class="sxs-lookup"><span data-stu-id="4a1b1-136">In [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)], you use a <xref:System.Windows.Media.Animation.BeginStoryboard> object with an <xref:System.Windows.EventTrigger>, <xref:System.Windows.Trigger>, or <xref:System.Windows.DataTrigger>.</span></span> <span data-ttu-id="4a1b1-137">Dans le code, vous pouvez également utiliser la <xref:System.Windows.Media.Animation.Storyboard.Begin%2A> méthode.</span><span class="sxs-lookup"><span data-stu-id="4a1b1-137">In code, you can also use the  <xref:System.Windows.Media.Animation.Storyboard.Begin%2A> method.</span></span>

<span data-ttu-id="4a1b1-138">Le tableau suivant présente les différents emplacements où chaque <xref:System.Windows.Media.Animation.Storyboard> technique de début est prise en charge : par instance, style, modèle de contrôle et modèle de données.</span><span class="sxs-lookup"><span data-stu-id="4a1b1-138">The following table shows the different places where each  <xref:System.Windows.Media.Animation.Storyboard> begin technique is supported: per-instance, style, control template, and data template.</span></span> <span data-ttu-id="4a1b1-139">« Par instance » fait référence à la technique consistant à appliquer une animation ou une table de montage séquentiel directement aux instances d’un objet, plutôt qu’à un style, un modèle de contrôle ou un modèle de données.</span><span class="sxs-lookup"><span data-stu-id="4a1b1-139">"Per-Instance" refers to the technique of applying an animation or storyboard directly to instances of an object, rather than in a style, control template, or data template.</span></span>

|<span data-ttu-id="4a1b1-140">La table de montage séquentiel démarre à l’aide de…</span><span class="sxs-lookup"><span data-stu-id="4a1b1-140">Storyboard is begun using…</span></span>|<span data-ttu-id="4a1b1-141">Par instance</span><span class="sxs-lookup"><span data-stu-id="4a1b1-141">Per-instance</span></span>|<span data-ttu-id="4a1b1-142">Style</span><span class="sxs-lookup"><span data-stu-id="4a1b1-142">Style</span></span>|<span data-ttu-id="4a1b1-143">Modèle de contrôle</span><span class="sxs-lookup"><span data-stu-id="4a1b1-143">Control template</span></span>|<span data-ttu-id="4a1b1-144">Modèle de données</span><span class="sxs-lookup"><span data-stu-id="4a1b1-144">Data template</span></span>|<span data-ttu-id="4a1b1-145">Exemple</span><span class="sxs-lookup"><span data-stu-id="4a1b1-145">Example</span></span>|
|--------------------------------|-------------------|-----------|----------------------|-------------------|-------------|
|<span data-ttu-id="4a1b1-146"><xref:System.Windows.Media.Animation.BeginStoryboard>et un<xref:System.Windows.EventTrigger></span><span class="sxs-lookup"><span data-stu-id="4a1b1-146"><xref:System.Windows.Media.Animation.BeginStoryboard> and an <xref:System.Windows.EventTrigger></span></span>|<span data-ttu-id="4a1b1-147">Oui</span><span class="sxs-lookup"><span data-stu-id="4a1b1-147">Yes</span></span>|<span data-ttu-id="4a1b1-148">Oui</span><span class="sxs-lookup"><span data-stu-id="4a1b1-148">Yes</span></span>|<span data-ttu-id="4a1b1-149">Oui</span><span class="sxs-lookup"><span data-stu-id="4a1b1-149">Yes</span></span>|<span data-ttu-id="4a1b1-150">Oui</span><span class="sxs-lookup"><span data-stu-id="4a1b1-150">Yes</span></span>|[<span data-ttu-id="4a1b1-151">Animer une propriété à l’aide d’une table de montage séquentiel</span><span class="sxs-lookup"><span data-stu-id="4a1b1-151">Animate a Property by Using a Storyboard</span></span>](how-to-animate-a-property-by-using-a-storyboard.md)|
|<span data-ttu-id="4a1b1-152"><xref:System.Windows.Media.Animation.BeginStoryboard>et une propriété<xref:System.Windows.Trigger></span><span class="sxs-lookup"><span data-stu-id="4a1b1-152"><xref:System.Windows.Media.Animation.BeginStoryboard> and a property <xref:System.Windows.Trigger></span></span>|<span data-ttu-id="4a1b1-153">Non</span><span class="sxs-lookup"><span data-stu-id="4a1b1-153">No</span></span>|<span data-ttu-id="4a1b1-154">Oui</span><span class="sxs-lookup"><span data-stu-id="4a1b1-154">Yes</span></span>|<span data-ttu-id="4a1b1-155">Oui</span><span class="sxs-lookup"><span data-stu-id="4a1b1-155">Yes</span></span>|<span data-ttu-id="4a1b1-156">Oui</span><span class="sxs-lookup"><span data-stu-id="4a1b1-156">Yes</span></span>|[<span data-ttu-id="4a1b1-157">Déclencher une animation en cas de modification d’une valeur de propriété</span><span class="sxs-lookup"><span data-stu-id="4a1b1-157">Trigger an Animation When a Property Value Changes</span></span>](how-to-trigger-an-animation-when-a-property-value-changes.md)|
|<span data-ttu-id="4a1b1-158"><xref:System.Windows.Media.Animation.BeginStoryboard>et un<xref:System.Windows.DataTrigger></span><span class="sxs-lookup"><span data-stu-id="4a1b1-158"><xref:System.Windows.Media.Animation.BeginStoryboard> and a <xref:System.Windows.DataTrigger></span></span>|<span data-ttu-id="4a1b1-159">Non</span><span class="sxs-lookup"><span data-stu-id="4a1b1-159">No</span></span>|<span data-ttu-id="4a1b1-160">Oui</span><span class="sxs-lookup"><span data-stu-id="4a1b1-160">Yes</span></span>|<span data-ttu-id="4a1b1-161">Oui</span><span class="sxs-lookup"><span data-stu-id="4a1b1-161">Yes</span></span>|<span data-ttu-id="4a1b1-162">Oui</span><span class="sxs-lookup"><span data-stu-id="4a1b1-162">Yes</span></span>|<span data-ttu-id="4a1b1-163">[Comment : déclencher une animation en cas de modification de données](https://docs.microsoft.com/previous-versions/dotnet/netframework-3.5/aa970679(v=vs.90))</span><span class="sxs-lookup"><span data-stu-id="4a1b1-163">[How to: Trigger an Animation When Data Changes](https://docs.microsoft.com/previous-versions/dotnet/netframework-3.5/aa970679(v=vs.90))</span></span>|
|<span data-ttu-id="4a1b1-164">Méthode <xref:System.Windows.Media.Animation.Storyboard.Begin%2A></span><span class="sxs-lookup"><span data-stu-id="4a1b1-164"><xref:System.Windows.Media.Animation.Storyboard.Begin%2A> method</span></span>|<span data-ttu-id="4a1b1-165">Oui</span><span class="sxs-lookup"><span data-stu-id="4a1b1-165">Yes</span></span>|<span data-ttu-id="4a1b1-166">Non</span><span class="sxs-lookup"><span data-stu-id="4a1b1-166">No</span></span>|<span data-ttu-id="4a1b1-167">Non</span><span class="sxs-lookup"><span data-stu-id="4a1b1-167">No</span></span>|<span data-ttu-id="4a1b1-168">Non</span><span class="sxs-lookup"><span data-stu-id="4a1b1-168">No</span></span>|[<span data-ttu-id="4a1b1-169">Animer une propriété à l’aide d’une table de montage séquentiel</span><span class="sxs-lookup"><span data-stu-id="4a1b1-169">Animate a Property by Using a Storyboard</span></span>](how-to-animate-a-property-by-using-a-storyboard.md)|

<span data-ttu-id="4a1b1-170">L’exemple suivant utilise un <xref:System.Windows.Media.Animation.Storyboard> pour animer le <xref:System.Windows.FrameworkElement.Width%2A> d’un <xref:System.Windows.Shapes.Rectangle> élément et le <xref:System.Windows.Media.SolidColorBrush.Color%2A> d’un <xref:System.Windows.Media.SolidColorBrush> utilisé pour peindre ce <xref:System.Windows.Shapes.Rectangle> .</span><span class="sxs-lookup"><span data-stu-id="4a1b1-170">The following example uses a <xref:System.Windows.Media.Animation.Storyboard> to animate the <xref:System.Windows.FrameworkElement.Width%2A> of a <xref:System.Windows.Shapes.Rectangle> element and the <xref:System.Windows.Media.SolidColorBrush.Color%2A> of a <xref:System.Windows.Media.SolidColorBrush> used to paint that <xref:System.Windows.Shapes.Rectangle>.</span></span>

[!code-xaml[storyboards_ovw_snip_XAML#1](~/samples/snippets/csharp/VS_Snippets_Wpf/storyboards_ovw_snip_XAML/CS/StoryboardsExample.xaml#1)]

[!code-csharp[storyboards_ovw_snip#100](~/samples/snippets/csharp/VS_Snippets_Wpf/storyboards_ovw_snip/CSharp/StoryboardsExample.cs#100)]

<span data-ttu-id="4a1b1-171">Les sections suivantes décrivent <xref:System.Windows.Media.Animation.Storyboard.TargetName%2A> les <xref:System.Windows.Media.Animation.Storyboard.TargetProperty> Propriétés et jointes plus en détail.</span><span class="sxs-lookup"><span data-stu-id="4a1b1-171">The following sections describe the <xref:System.Windows.Media.Animation.Storyboard.TargetName%2A> and <xref:System.Windows.Media.Animation.Storyboard.TargetProperty> attached properties in more detail.</span></span>

<a name="targetingelementsandfreezables"></a>

## <a name="targeting-framework-elements-framework-content-elements-and-freezables"></a><span data-ttu-id="4a1b1-172">Ciblage des éléments d’infrastructure, des éléments de contenu d’infrastructure et des éléments Freezables</span><span class="sxs-lookup"><span data-stu-id="4a1b1-172">Targeting Framework Elements, Framework Content Elements, and Freezables</span></span>

<span data-ttu-id="4a1b1-173">Dans la section précédente, il était mentionné que, pour qu’une animation trouve sa cible, elle devait connaître la propriété et le nom de la cible à animer.</span><span class="sxs-lookup"><span data-stu-id="4a1b1-173">The previous section mentioned that, for an animation to find its target, it must know the target's name and the property to animate.</span></span> <span data-ttu-id="4a1b1-174">La spécification de la propriété à animer est directe : il suffit de définir le <xref:System.Windows.Media.Animation.Storyboard.TargetProperty?displayProperty=nameWithType> nom de la propriété à animer.</span><span class="sxs-lookup"><span data-stu-id="4a1b1-174">Specifying the property to animate is straight forward: simply set <xref:System.Windows.Media.Animation.Storyboard.TargetProperty?displayProperty=nameWithType> with the name of the property to animate.</span></span>  <span data-ttu-id="4a1b1-175">Vous spécifiez le nom de l’objet dont vous souhaitez animer la propriété en définissant la <xref:System.Windows.Media.Animation.Storyboard.TargetName%2A?displayProperty=nameWithType> propriété sur l’animation.</span><span class="sxs-lookup"><span data-stu-id="4a1b1-175">You specify the name of the object whose property you want to animate by setting the <xref:System.Windows.Media.Animation.Storyboard.TargetName%2A?displayProperty=nameWithType> property on the animation.</span></span>

<span data-ttu-id="4a1b1-176">Pour que la <xref:System.Windows.Setter.TargetName%2A> propriété fonctionne, l’objet ciblé doit avoir un nom.</span><span class="sxs-lookup"><span data-stu-id="4a1b1-176">For the <xref:System.Windows.Setter.TargetName%2A> property to work, the targeted object must have a name.</span></span> <span data-ttu-id="4a1b1-177">L’attribution d’un nom à un <xref:System.Windows.FrameworkElement> ou un <xref:System.Windows.FrameworkContentElement> dans [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] est différente de l’attribution d’un nom à un <xref:System.Windows.Freezable> objet.</span><span class="sxs-lookup"><span data-stu-id="4a1b1-177">Assigning a name to a <xref:System.Windows.FrameworkElement> or a <xref:System.Windows.FrameworkContentElement> in [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] is different than assigning a name to a <xref:System.Windows.Freezable> object.</span></span>

<span data-ttu-id="4a1b1-178">Les éléments de l’infrastructure sont les classes qui héritent de la <xref:System.Windows.FrameworkElement> classe.</span><span class="sxs-lookup"><span data-stu-id="4a1b1-178">Framework elements are those classes that inherit from the <xref:System.Windows.FrameworkElement> class.</span></span> <span data-ttu-id="4a1b1-179">Les exemples d’éléments d’infrastructure incluent <xref:System.Windows.Window> , <xref:System.Windows.Controls.DockPanel> , <xref:System.Windows.Controls.Button> et <xref:System.Windows.Shapes.Rectangle> .</span><span class="sxs-lookup"><span data-stu-id="4a1b1-179">Examples of framework elements include <xref:System.Windows.Window>, <xref:System.Windows.Controls.DockPanel>, <xref:System.Windows.Controls.Button>, and <xref:System.Windows.Shapes.Rectangle>.</span></span> <span data-ttu-id="4a1b1-180">Essentiellement, tous les contrôles, panneaux et fenêtres sont des éléments.</span><span class="sxs-lookup"><span data-stu-id="4a1b1-180">Essentially all windows, panels, and controls are elements.</span></span> <span data-ttu-id="4a1b1-181">Les éléments de contenu de l’infrastructure sont les classes qui héritent de la <xref:System.Windows.FrameworkContentElement> classe.</span><span class="sxs-lookup"><span data-stu-id="4a1b1-181">Framework content elements are those classes that inherit from the <xref:System.Windows.FrameworkContentElement> class.</span></span> <span data-ttu-id="4a1b1-182">Les exemples d’éléments de contenu de Framework incluent <xref:System.Windows.Documents.FlowDocument> et <xref:System.Windows.Documents.Paragraph> .</span><span class="sxs-lookup"><span data-stu-id="4a1b1-182">Examples of framework content elements include <xref:System.Windows.Documents.FlowDocument> and <xref:System.Windows.Documents.Paragraph>.</span></span> <span data-ttu-id="4a1b1-183">Si vous ne savez pas si un type est un élément d’infrastructure ou un élément de contenu d’infrastructure, vérifiez s’il possède une propriété Nom.</span><span class="sxs-lookup"><span data-stu-id="4a1b1-183">If you're not sure whether a type is a framework element or a framework content element, check to see whether it has a Name property.</span></span> <span data-ttu-id="4a1b1-184">Si c’est le cas, il s’agit probablement d’un élément d’infrastructure ou d’un élément de contenu d’infrastructure.</span><span class="sxs-lookup"><span data-stu-id="4a1b1-184">If it does, it's probably a framework element or a framework content element.</span></span> <span data-ttu-id="4a1b1-185">Pour vous en assurer, vérifiez la section Inheritance Hierarchy (Hiérarchie d’héritage) de sa page de type.</span><span class="sxs-lookup"><span data-stu-id="4a1b1-185">To be sure, check the Inheritance Hierarchy section of its type page.</span></span>

<span data-ttu-id="4a1b1-186">Pour activer le ciblage d’un élément d’infrastructure ou d’un élément de contenu d’infrastructure dans [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] , vous devez définir sa <xref:System.Windows.FrameworkElement.Name%2A> propriété.</span><span class="sxs-lookup"><span data-stu-id="4a1b1-186">To enable the targeting of a framework element or a framework content element in [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)], you set its <xref:System.Windows.FrameworkElement.Name%2A> property.</span></span> <span data-ttu-id="4a1b1-187">Dans le code, vous devez également utiliser la <xref:System.Windows.NameScope.RegisterName%2A> méthode pour enregistrer le nom de l’élément avec l’élément pour lequel vous avez créé un <xref:System.Windows.NameScope> .</span><span class="sxs-lookup"><span data-stu-id="4a1b1-187">In code, you also need to use the <xref:System.Windows.NameScope.RegisterName%2A> method to register the element's name with the element for which you've created a <xref:System.Windows.NameScope>.</span></span>

<span data-ttu-id="4a1b1-188">L’exemple suivant, extrait de l’exemple précédent, assigne le nom `MyRectangle` a <xref:System.Windows.Shapes.Rectangle> , un type <xref:System.Windows.FrameworkElement> .</span><span class="sxs-lookup"><span data-stu-id="4a1b1-188">The following example, taken from the preceding example, assigns the name `MyRectangle` a <xref:System.Windows.Shapes.Rectangle>, a type of <xref:System.Windows.FrameworkElement>.</span></span>

[!code-xaml[storyboards_ovw_snip_XAML#2](~/samples/snippets/csharp/VS_Snippets_Wpf/storyboards_ovw_snip_XAML/CS/StoryboardsExample.xaml#2)]

[!code-csharp[storyboards_ovw_snip#102](~/samples/snippets/csharp/VS_Snippets_Wpf/storyboards_ovw_snip/CSharp/StoryboardsExample.cs#102)]

<span data-ttu-id="4a1b1-189">Une fois qu’un nom a été assigné, vous pouvez animer une propriété de cet élément.</span><span class="sxs-lookup"><span data-stu-id="4a1b1-189">After it has a name, you can animate a property of that element.</span></span>

[!code-xaml[storyboards_ovw_snip_XAML#5](~/samples/snippets/csharp/VS_Snippets_Wpf/storyboards_ovw_snip_XAML/CS/StoryboardsExample.xaml#5)]

[!code-csharp[storyboards_ovw_snip#105](~/samples/snippets/csharp/VS_Snippets_Wpf/storyboards_ovw_snip/CSharp/StoryboardsExample.cs#105)]

<span data-ttu-id="4a1b1-190"><xref:System.Windows.Freezable>les types sont les classes qui héritent de la <xref:System.Windows.Freezable> classe.</span><span class="sxs-lookup"><span data-stu-id="4a1b1-190"><xref:System.Windows.Freezable> types are those classes that inherit from the <xref:System.Windows.Freezable> class.</span></span> <span data-ttu-id="4a1b1-191">Exemples de <xref:System.Windows.Freezable> include <xref:System.Windows.Media.SolidColorBrush> , <xref:System.Windows.Media.RotateTransform> et <xref:System.Windows.Media.GradientStop> .</span><span class="sxs-lookup"><span data-stu-id="4a1b1-191">Examples of <xref:System.Windows.Freezable> include <xref:System.Windows.Media.SolidColorBrush>, <xref:System.Windows.Media.RotateTransform>, and <xref:System.Windows.Media.GradientStop>.</span></span>

<span data-ttu-id="4a1b1-192">Pour activer le ciblage d’un <xref:System.Windows.Freezable> par une animation dans [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] , vous utilisez la [directive x :Name](../../../desktop-wpf/xaml-services/xname-directive.md) pour lui assigner un nom.</span><span class="sxs-lookup"><span data-stu-id="4a1b1-192">To enable the targeting of a <xref:System.Windows.Freezable> by an animation in  [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)], you use the [x:Name Directive](../../../desktop-wpf/xaml-services/xname-directive.md) to assign it a name.</span></span> <span data-ttu-id="4a1b1-193">Dans le code, vous utilisez la <xref:System.Windows.NameScope.RegisterName%2A> méthode pour enregistrer son nom avec l’élément pour lequel vous avez créé un <xref:System.Windows.NameScope> .</span><span class="sxs-lookup"><span data-stu-id="4a1b1-193">In code, you use the  <xref:System.Windows.NameScope.RegisterName%2A> method to register its name with the element for which you've created a <xref:System.Windows.NameScope>.</span></span>

<span data-ttu-id="4a1b1-194">L’exemple suivant affecte un nom à un <xref:System.Windows.Freezable> objet.</span><span class="sxs-lookup"><span data-stu-id="4a1b1-194">The following example assigns a name to a <xref:System.Windows.Freezable> object.</span></span>

[!code-xaml[storyboards_ovw_snip_XAML#3](~/samples/snippets/csharp/VS_Snippets_Wpf/storyboards_ovw_snip_XAML/CS/StoryboardsExample.xaml#3)]

[!code-csharp[storyboards_ovw_snip#103](~/samples/snippets/csharp/VS_Snippets_Wpf/storyboards_ovw_snip/CSharp/StoryboardsExample.cs#103)]

<span data-ttu-id="4a1b1-195">L’objet peut ensuite être ciblé par une animation.</span><span class="sxs-lookup"><span data-stu-id="4a1b1-195">The object can then be targeted by an animation.</span></span>

[!code-xaml[storyboards_ovw_snip_XAML#7](~/samples/snippets/csharp/VS_Snippets_Wpf/storyboards_ovw_snip_XAML/CS/StoryboardsExample.xaml#7)]

[!code-csharp[storyboards_ovw_snip#107](~/samples/snippets/csharp/VS_Snippets_Wpf/storyboards_ovw_snip/CSharp/StoryboardsExample.cs#107)]

<span data-ttu-id="4a1b1-196"><xref:System.Windows.Media.Animation.Storyboard>les objets utilisent des portées de nom pour résoudre la <xref:System.Windows.Media.Animation.Storyboard.TargetName%2A> propriété.</span><span class="sxs-lookup"><span data-stu-id="4a1b1-196"><xref:System.Windows.Media.Animation.Storyboard> objects use name scopes to resolve the <xref:System.Windows.Media.Animation.Storyboard.TargetName%2A> property.</span></span> <span data-ttu-id="4a1b1-197">Pour plus d’informations sur les portées de nom WPF, consultez [Portées de nom XAML WPF](../advanced/wpf-xaml-namescopes.md).</span><span class="sxs-lookup"><span data-stu-id="4a1b1-197">For more information about WPF name scopes, see [WPF XAML Namescopes](../advanced/wpf-xaml-namescopes.md).</span></span> <span data-ttu-id="4a1b1-198">Si la <xref:System.Windows.Media.Animation.Storyboard.TargetName%2A> propriété est omise, l’animation cible l’élément sur lequel elle est définie, ou, dans le cas des styles, l’élément stylisé.</span><span class="sxs-lookup"><span data-stu-id="4a1b1-198">If the <xref:System.Windows.Media.Animation.Storyboard.TargetName%2A> property is omitted, the animation targets the element on which it is defined, or, in the case of styles, the styled element.</span></span>

<span data-ttu-id="4a1b1-199">Parfois, un nom ne peut pas être assigné à un <xref:System.Windows.Freezable> objet.</span><span class="sxs-lookup"><span data-stu-id="4a1b1-199">Sometimes a name can't be assigned to a <xref:System.Windows.Freezable> object.</span></span> <span data-ttu-id="4a1b1-200">Par exemple, si un <xref:System.Windows.Freezable> est déclaré en tant que ressource ou utilisé pour définir une valeur de propriété dans un style, il ne peut pas recevoir un nom.</span><span class="sxs-lookup"><span data-stu-id="4a1b1-200">For example, if a <xref:System.Windows.Freezable> is declared as a resource or used to set a property value in a style, it can't be given a name.</span></span> <span data-ttu-id="4a1b1-201">Comme il n’a pas de nom, il ne peut pas être ciblé directement, mais peut l’être indirectement.</span><span class="sxs-lookup"><span data-stu-id="4a1b1-201">Because it doesn't have a name, it can't be targeted directly—but it can be targeted indirectly.</span></span> <span data-ttu-id="4a1b1-202">Les sections suivantes décrivent comment utiliser le ciblage indirect.</span><span class="sxs-lookup"><span data-stu-id="4a1b1-202">The following sections describe how to use indirect targeting.</span></span>

<a name="pathsyntaxforchangeable"></a>

## <a name="indirect-targeting"></a><span data-ttu-id="4a1b1-203">Ciblage indirect</span><span class="sxs-lookup"><span data-stu-id="4a1b1-203">Indirect Targeting</span></span>

<span data-ttu-id="4a1b1-204">Il peut arriver qu’un <xref:System.Windows.Freezable> ne puisse pas être ciblé directement par une animation, par exemple lorsque le <xref:System.Windows.Freezable> est déclaré en tant que ressource ou utilisé pour définir une valeur de propriété dans un style.</span><span class="sxs-lookup"><span data-stu-id="4a1b1-204">There are times a <xref:System.Windows.Freezable> can't be targeted directly by an animation, such as when the <xref:System.Windows.Freezable> is declared as a resource or used to set a property value in a style.</span></span> <span data-ttu-id="4a1b1-205">Dans ce cas, même si vous ne pouvez pas le cibler directement, vous pouvez toujours animer l' <xref:System.Windows.Freezable> objet.</span><span class="sxs-lookup"><span data-stu-id="4a1b1-205">In these cases, even though you can't target it directly, you can still animate the <xref:System.Windows.Freezable> object.</span></span> <span data-ttu-id="4a1b1-206">Au lieu de définir la <xref:System.Windows.Media.Animation.Storyboard.TargetName%2A> propriété avec le nom du <xref:System.Windows.Freezable> , vous lui donnez le nom de l’élément auquel le <xref:System.Windows.Freezable> « appartient ».</span><span class="sxs-lookup"><span data-stu-id="4a1b1-206">Instead of setting the <xref:System.Windows.Media.Animation.Storyboard.TargetName%2A> property with the name of the <xref:System.Windows.Freezable>, you give it the name of the element to which the <xref:System.Windows.Freezable> "belongs."</span></span> <span data-ttu-id="4a1b1-207">Par exemple, un <xref:System.Windows.Media.SolidColorBrush> utilisé pour définir le <xref:System.Windows.Shapes.Shape.Fill%2A> d’un élément Rectangle appartient à ce rectangle.</span><span class="sxs-lookup"><span data-stu-id="4a1b1-207">For example, a <xref:System.Windows.Media.SolidColorBrush> used to set the <xref:System.Windows.Shapes.Shape.Fill%2A> of a rectangle element belongs to that rectangle.</span></span> <span data-ttu-id="4a1b1-208">Pour animer le pinceau, vous devez définir les éléments de l’animation <xref:System.Windows.Media.Animation.Storyboard.TargetProperty> avec une chaîne de propriétés qui commence à la propriété de l’élément de l’infrastructure ou de l’élément de contenu de l’infrastructure que le <xref:System.Windows.Freezable> a utilisé pour définir et se termine avec la <xref:System.Windows.Freezable> propriété à animer.</span><span class="sxs-lookup"><span data-stu-id="4a1b1-208">To animate the brush, you would set the animation's <xref:System.Windows.Media.Animation.Storyboard.TargetProperty> with a chain of properties that starts at the property of the framework element or framework content element the <xref:System.Windows.Freezable> was used to set and ends with the <xref:System.Windows.Freezable> property to animate.</span></span>

[!code-xaml[storyboards_ovw_snip_XAML#33](~/samples/snippets/csharp/VS_Snippets_Wpf/storyboards_ovw_snip_XAML/CS/IndirectTargetingExample.xaml#33)]

[!code-csharp[storyboards_ovw_snip#134](~/samples/snippets/csharp/VS_Snippets_Wpf/storyboards_ovw_snip/CSharp/IndirectTargetingExample.xaml.cs#134)]

<span data-ttu-id="4a1b1-209">Notez que, si le <xref:System.Windows.Freezable> est figé, un clone est créé et ce clone est animé.</span><span class="sxs-lookup"><span data-stu-id="4a1b1-209">Note that, if the <xref:System.Windows.Freezable> is frozen, a clone will be made, and that clone will be animated.</span></span> <span data-ttu-id="4a1b1-210">Dans ce cas, la propriété de l’objet d’origine <xref:System.Windows.Media.Animation.Animatable.HasAnimatedProperties%2A> continue à retourner `false` , car l’objet d’origine n’est pas réellement animé.</span><span class="sxs-lookup"><span data-stu-id="4a1b1-210">When this happens, the original object's <xref:System.Windows.Media.Animation.Animatable.HasAnimatedProperties%2A> property continues to return `false`, because the original object is not actually animated.</span></span> <span data-ttu-id="4a1b1-211">Pour plus d’informations sur le clonage, consultez [vue d’ensemble des objets Freezable](../advanced/freezable-objects-overview.md).</span><span class="sxs-lookup"><span data-stu-id="4a1b1-211">For more information about cloning, see the [Freezable Objects Overview](../advanced/freezable-objects-overview.md).</span></span>

<span data-ttu-id="4a1b1-212">Notez également que, lorsque vous utilisez le ciblage de propriété indirect, il est possible de cibler des objets qui n’existent pas.</span><span class="sxs-lookup"><span data-stu-id="4a1b1-212">Also note that, when using indirect property targeting, it's possible to target objects that don't exist.</span></span> <span data-ttu-id="4a1b1-213">Par exemple, vous pouvez supposer que le <xref:System.Windows.Controls.Control.Background%2A> d’un bouton particulier a été défini avec un <xref:System.Windows.Media.SolidColorBrush> et essayer d’animer sa couleur, alors qu’en fait un <xref:System.Windows.Media.LinearGradientBrush> a été utilisé pour définir l’arrière-plan du bouton.</span><span class="sxs-lookup"><span data-stu-id="4a1b1-213">For example, you might assume that the <xref:System.Windows.Controls.Control.Background%2A> of a particular button was set with a <xref:System.Windows.Media.SolidColorBrush> and try to animate its Color, when in fact a <xref:System.Windows.Media.LinearGradientBrush> was used to set the button's Background.</span></span> <span data-ttu-id="4a1b1-214">Dans ce cas, aucune exception n’est levée. l’animation ne peut pas avoir d’effet visible, car ne réagit <xref:System.Windows.Media.LinearGradientBrush> pas aux modifications apportées à la <xref:System.Windows.Media.SolidColorBrush.Color%2A> propriété.</span><span class="sxs-lookup"><span data-stu-id="4a1b1-214">In these cases, no exception is thrown; the animation fails to have a visible effect because <xref:System.Windows.Media.LinearGradientBrush> does not react to changes to the <xref:System.Windows.Media.SolidColorBrush.Color%2A> property.</span></span>

<span data-ttu-id="4a1b1-215">Les sections suivantes décrivent plus en détail la syntaxe de ciblage de propriété indirect.</span><span class="sxs-lookup"><span data-stu-id="4a1b1-215">The following sections describe indirect property targeting syntax in more detail.</span></span>

<a name="xamlsyntaxchangeableproperty"></a>

### <a name="indirectly-targeting-a-property-of-a-freezable-in-xaml"></a><span data-ttu-id="4a1b1-216">Ciblage indirect d’une propriété d’un élément Freezable en XAML</span><span class="sxs-lookup"><span data-stu-id="4a1b1-216">Indirectly Targeting a Property of a Freezable in XAML</span></span>

<span data-ttu-id="4a1b1-217">Pour cibler une propriété d’un Freezable dans [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] , utilisez la syntaxe suivante.</span><span class="sxs-lookup"><span data-stu-id="4a1b1-217">To target a property of a freezable in [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)], use the following syntax.</span></span>

| |
|-|
|<span data-ttu-id="4a1b1-218">*ElementPropertyName* `.` *FreezablePropertyName*</span><span class="sxs-lookup"><span data-stu-id="4a1b1-218">*ElementPropertyName* `.` *FreezablePropertyName*</span></span>|

<span data-ttu-id="4a1b1-219">Où</span><span class="sxs-lookup"><span data-stu-id="4a1b1-219">Where</span></span>

- <span data-ttu-id="4a1b1-220">*ElementPropertyName* est la propriété du <xref:System.Windows.FrameworkElement> qui <xref:System.Windows.Freezable> est utilisé pour définir, et</span><span class="sxs-lookup"><span data-stu-id="4a1b1-220">*ElementPropertyName* is the property of the <xref:System.Windows.FrameworkElement> which the <xref:System.Windows.Freezable> is used to set, and</span></span>

- <span data-ttu-id="4a1b1-221">*FreezablePropertyName* est la propriété du <xref:System.Windows.Freezable> à animer.</span><span class="sxs-lookup"><span data-stu-id="4a1b1-221">*FreezablePropertyName* is the property of the <xref:System.Windows.Freezable> to animate.</span></span>

<span data-ttu-id="4a1b1-222">Le code suivant montre comment animer le <xref:System.Windows.Media.SolidColorBrush.Color%2A> d’un <xref:System.Windows.Media.SolidColorBrush> utilisé pour définir le <xref:System.Windows.Shapes.Shape.Fill%2A> d’un élément Rectangle.</span><span class="sxs-lookup"><span data-stu-id="4a1b1-222">The following code shows how to animate the <xref:System.Windows.Media.SolidColorBrush.Color%2A> of a <xref:System.Windows.Media.SolidColorBrush> used to set the <xref:System.Windows.Shapes.Shape.Fill%2A> of a rectangle element.</span></span>

[!code-xaml[storyboards_ovw_snip_XAML#32](~/samples/snippets/csharp/VS_Snippets_Wpf/storyboards_ovw_snip_XAML/CS/IndirectTargetingExample.xaml#32)]

<span data-ttu-id="4a1b1-223">Vous devez parfois cibler un élément Freezable contenu dans une collection ou un tableau.</span><span class="sxs-lookup"><span data-stu-id="4a1b1-223">Sometimes you need to target a freezable contained in a collection or array.</span></span>

<span data-ttu-id="4a1b1-224">Pour cibler un élément Freezable contenu dans une collection, vous utilisez la syntaxe de chemin d’accès suivante.</span><span class="sxs-lookup"><span data-stu-id="4a1b1-224">To target a freezable contained in a collection, you use the following path syntax.</span></span>

| |
|-|
|<span data-ttu-id="4a1b1-225">*ElementPropertyName* `.Children[` *CollectionIndex* `].` *FreezablePropertyName*</span><span class="sxs-lookup"><span data-stu-id="4a1b1-225">*ElementPropertyName* `.Children[` *CollectionIndex* `].` *FreezablePropertyName*</span></span>|

<span data-ttu-id="4a1b1-226">Où *CollectionIndex* est l’index de l’objet dans son tableau ou sa collection.</span><span class="sxs-lookup"><span data-stu-id="4a1b1-226">Where *CollectionIndex* is the index of the object in its array or collection.</span></span>

<span data-ttu-id="4a1b1-227">Par exemple, supposons qu’un rectangle a une <xref:System.Windows.Media.TransformGroup> ressource appliquée à sa <xref:System.Windows.UIElement.RenderTransform%2A> propriété et que vous souhaitez animer l’une des transformations qu’il contient.</span><span class="sxs-lookup"><span data-stu-id="4a1b1-227">For example, suppose that a rectangle has a <xref:System.Windows.Media.TransformGroup> resource applied to its <xref:System.Windows.UIElement.RenderTransform%2A> property, and you want to animate one of the transforms it contains.</span></span>

[!code-xaml[storyboards_ovw_snip_XAML#34](~/samples/snippets/csharp/VS_Snippets_Wpf/storyboards_ovw_snip_XAML/CS/IndirectTargetingExample.xaml#34)]

<span data-ttu-id="4a1b1-228">Le code suivant montre comment animer la <xref:System.Windows.Media.RotateTransform.Angle%2A> propriété de l' <xref:System.Windows.Media.RotateTransform> exemple indiqué dans l’exemple précédent.</span><span class="sxs-lookup"><span data-stu-id="4a1b1-228">The following code shows how to animate the <xref:System.Windows.Media.RotateTransform.Angle%2A> property of the <xref:System.Windows.Media.RotateTransform> shown in the previous example.</span></span>

[!code-xaml[storyboards_ovw_snip_XAML#35](~/samples/snippets/csharp/VS_Snippets_Wpf/storyboards_ovw_snip_XAML/CS/IndirectTargetingExample.xaml#35)]

<a name="targetingpropertyofchangeableincode"></a>

### <a name="indirectly-targeting-a-property-of-a-freezable-in-code"></a><span data-ttu-id="4a1b1-229">Ciblage indirect d’une propriété d’un élément Freezable dans le code</span><span class="sxs-lookup"><span data-stu-id="4a1b1-229">Indirectly Targeting a Property of a Freezable in Code</span></span>

<span data-ttu-id="4a1b1-230">Dans le code, vous créez un <xref:System.Windows.PropertyPath> objet.</span><span class="sxs-lookup"><span data-stu-id="4a1b1-230">In code, you create a <xref:System.Windows.PropertyPath> object.</span></span> <span data-ttu-id="4a1b1-231">Lorsque vous créez le <xref:System.Windows.PropertyPath> , vous spécifiez un <xref:System.Windows.PropertyPath.Path%2A> et un <xref:System.Windows.PropertyPath.PathParameters%2A> .</span><span class="sxs-lookup"><span data-stu-id="4a1b1-231">When you create the <xref:System.Windows.PropertyPath>, you specify a <xref:System.Windows.PropertyPath.Path%2A> and <xref:System.Windows.PropertyPath.PathParameters%2A>.</span></span>

<span data-ttu-id="4a1b1-232">Pour créer <xref:System.Windows.PropertyPath.PathParameters%2A> , vous créez un tableau de type <xref:System.Windows.DependencyProperty> qui contient une liste de champs d’identificateur de propriété de dépendance.</span><span class="sxs-lookup"><span data-stu-id="4a1b1-232">To create <xref:System.Windows.PropertyPath.PathParameters%2A>, you create an array of type <xref:System.Windows.DependencyProperty> that contains a list of dependency property identifier fields.</span></span> <span data-ttu-id="4a1b1-233">Le premier champ d’identificateur est pour la propriété du <xref:System.Windows.FrameworkElement> ou <xref:System.Windows.FrameworkContentElement> que le <xref:System.Windows.Freezable> est utilisé pour définir.</span><span class="sxs-lookup"><span data-stu-id="4a1b1-233">The first identifier field is for the property of the <xref:System.Windows.FrameworkElement> or <xref:System.Windows.FrameworkContentElement> that the <xref:System.Windows.Freezable> is used to set.</span></span> <span data-ttu-id="4a1b1-234">Le champ d’identificateur suivant représente la propriété du <xref:System.Windows.Freezable> à cibler.</span><span class="sxs-lookup"><span data-stu-id="4a1b1-234">The next identifier field represents the property of the <xref:System.Windows.Freezable> to target.</span></span> <span data-ttu-id="4a1b1-235">Considérez-le comme une chaîne de propriétés qui connecte <xref:System.Windows.Freezable> à l' <xref:System.Windows.FrameworkElement> objet.</span><span class="sxs-lookup"><span data-stu-id="4a1b1-235">Think of it as a chain of properties that connects the <xref:System.Windows.Freezable> to the <xref:System.Windows.FrameworkElement> object.</span></span>

<span data-ttu-id="4a1b1-236">Voici un exemple de chaîne de propriété de dépendance qui cible le <xref:System.Windows.Media.SolidColorBrush.Color%2A> d’un <xref:System.Windows.Media.SolidColorBrush> utilisé pour définir le <xref:System.Windows.Shapes.Shape.Fill%2A> d’un élément Rectangle.</span><span class="sxs-lookup"><span data-stu-id="4a1b1-236">The following is an example of a dependency property chain that targets the <xref:System.Windows.Media.SolidColorBrush.Color%2A> of a <xref:System.Windows.Media.SolidColorBrush> used to set the <xref:System.Windows.Shapes.Shape.Fill%2A> of a rectangle element.</span></span>

[!code-csharp[storyboards_ovw_snip#135](~/samples/snippets/csharp/VS_Snippets_Wpf/storyboards_ovw_snip/CSharp/IndirectTargetingExample.xaml.cs#135)]

<span data-ttu-id="4a1b1-237">Vous devez également spécifier un <xref:System.Windows.PropertyPath.Path%2A> .</span><span class="sxs-lookup"><span data-stu-id="4a1b1-237">You also need to specify a <xref:System.Windows.PropertyPath.Path%2A>.</span></span> <span data-ttu-id="4a1b1-238">Un <xref:System.Windows.PropertyPath.Path%2A> est un <xref:System.String> qui indique <xref:System.Windows.PropertyPath.Path%2A> à comment interpréter son <xref:System.Windows.PropertyPath.PathParameters%2A> .</span><span class="sxs-lookup"><span data-stu-id="4a1b1-238">A <xref:System.Windows.PropertyPath.Path%2A> is a <xref:System.String> that tells the <xref:System.Windows.PropertyPath.Path%2A> how to interpret its <xref:System.Windows.PropertyPath.PathParameters%2A>.</span></span> <span data-ttu-id="4a1b1-239">Il utilise la syntaxe suivante.</span><span class="sxs-lookup"><span data-stu-id="4a1b1-239">It uses the following syntax.</span></span>

| |
|-|
|<span data-ttu-id="4a1b1-240">`(` *OwnerPropertyArrayIndex* `).(` *FreezablePropertyArrayIndex* `)`</span><span class="sxs-lookup"><span data-stu-id="4a1b1-240">`(` *OwnerPropertyArrayIndex* `).(` *FreezablePropertyArrayIndex* `)`</span></span>|

<span data-ttu-id="4a1b1-241">Où</span><span class="sxs-lookup"><span data-stu-id="4a1b1-241">Where</span></span>

- <span data-ttu-id="4a1b1-242">*OwnerPropertyArrayIndex* est l’index du <xref:System.Windows.DependencyProperty> tableau qui contient l’identificateur de la propriété de l' <xref:System.Windows.FrameworkElement> objet que le <xref:System.Windows.Freezable> est utilisé pour définir, et</span><span class="sxs-lookup"><span data-stu-id="4a1b1-242">*OwnerPropertyArrayIndex* is the index of the <xref:System.Windows.DependencyProperty> array that contains the identifier of the <xref:System.Windows.FrameworkElement> object's property that the <xref:System.Windows.Freezable> is used to set, and</span></span>

- <span data-ttu-id="4a1b1-243">*FreezablePropertyArrayIndex* est l’index du <xref:System.Windows.DependencyProperty> tableau qui contient l’identificateur de la propriété à cibler.</span><span class="sxs-lookup"><span data-stu-id="4a1b1-243">*FreezablePropertyArrayIndex* is the index of the <xref:System.Windows.DependencyProperty> array that contains the identifier of property to target.</span></span>

<span data-ttu-id="4a1b1-244">L’exemple suivant montre le <xref:System.Windows.PropertyPath.Path%2A> qui s’accompagnerait du <xref:System.Windows.PropertyPath.PathParameters%2A> défini dans l’exemple précédent.</span><span class="sxs-lookup"><span data-stu-id="4a1b1-244">The following example shows the <xref:System.Windows.PropertyPath.Path%2A> that would accompany the <xref:System.Windows.PropertyPath.PathParameters%2A> defined in the preceding example.</span></span>

[!code-csharp[storyboards_ovw_snip#PropertyChainAndPath](~/samples/snippets/csharp/VS_Snippets_Wpf/storyboards_ovw_snip/CSharp/IndirectTargetingExample.xaml.cs#propertychainandpath)]

<span data-ttu-id="4a1b1-245">L’exemple suivant combine le code des exemples précédents pour animer le <xref:System.Windows.Media.SolidColorBrush.Color%2A> d’un <xref:System.Windows.Media.SolidColorBrush> utilisé pour définir le <xref:System.Windows.Shapes.Shape.Fill%2A> d’un élément Rectangle.</span><span class="sxs-lookup"><span data-stu-id="4a1b1-245">The following example combines the code in the previous examples to animate the <xref:System.Windows.Media.SolidColorBrush.Color%2A> of a <xref:System.Windows.Media.SolidColorBrush> used to set the <xref:System.Windows.Shapes.Shape.Fill%2A> of a rectangle element.</span></span>

[!code-csharp[storyboards_ovw_snip#137](~/samples/snippets/csharp/VS_Snippets_Wpf/storyboards_ovw_snip/CSharp/IndirectTargetingExample.xaml.cs#137)]

<span data-ttu-id="4a1b1-246">Vous devez parfois cibler un élément Freezable contenu dans une collection ou un tableau.</span><span class="sxs-lookup"><span data-stu-id="4a1b1-246">Sometimes you need to target a freezable contained in a collection or array.</span></span> <span data-ttu-id="4a1b1-247">Par exemple, supposons qu’un rectangle a une <xref:System.Windows.Media.TransformGroup> ressource appliquée à sa <xref:System.Windows.UIElement.RenderTransform%2A> propriété et que vous souhaitez animer l’une des transformations qu’il contient.</span><span class="sxs-lookup"><span data-stu-id="4a1b1-247">For example, suppose that a rectangle has a <xref:System.Windows.Media.TransformGroup> resource applied to its <xref:System.Windows.UIElement.RenderTransform%2A> property, and you want to animate one of the transforms it contains.</span></span>

[!code-xaml[storyboards_ovw_snip#142](~/samples/snippets/csharp/VS_Snippets_Wpf/storyboards_ovw_snip/CSharp/IndirectTargetingExample.xaml#142)]

<span data-ttu-id="4a1b1-248">Pour cibler un <xref:System.Windows.Freezable> contenu dans une collection, vous utilisez la syntaxe de chemin d’accès suivante.</span><span class="sxs-lookup"><span data-stu-id="4a1b1-248">To target a <xref:System.Windows.Freezable> contained in a collection, you use the following path syntax.</span></span>

| |
|-|
|<span data-ttu-id="4a1b1-249">`(` *OwnerPropertyArrayIndex* `).(` *CollectionChildrenPropertyArrayIndex* `)` `[` *CollectionIndex* `].(` *FreezablePropertyArrayIndex* `)`</span><span class="sxs-lookup"><span data-stu-id="4a1b1-249">`(` *OwnerPropertyArrayIndex* `).(` *CollectionChildrenPropertyArrayIndex* `)` `[` *CollectionIndex* `].(` *FreezablePropertyArrayIndex* `)`</span></span>|

<span data-ttu-id="4a1b1-250">Où *CollectionIndex* est l’index de l’objet dans son tableau ou sa collection.</span><span class="sxs-lookup"><span data-stu-id="4a1b1-250">Where *CollectionIndex* is the index of the object in its array or collection.</span></span>

<span data-ttu-id="4a1b1-251">Pour cibler la <xref:System.Windows.Media.RotateTransform.Angle%2A> propriété du <xref:System.Windows.Media.RotateTransform> , la deuxième transformation dans le <xref:System.Windows.Media.TransformGroup> , utilisez les éléments suivants <xref:System.Windows.PropertyPath.Path%2A> et <xref:System.Windows.PropertyPath.PathParameters%2A> .</span><span class="sxs-lookup"><span data-stu-id="4a1b1-251">To target the <xref:System.Windows.Media.RotateTransform.Angle%2A> property of the <xref:System.Windows.Media.RotateTransform>, the second transform in the <xref:System.Windows.Media.TransformGroup>, you would use the following <xref:System.Windows.PropertyPath.Path%2A> and <xref:System.Windows.PropertyPath.PathParameters%2A>.</span></span>

[!code-csharp[storyboards_ovw_snip#139](~/samples/snippets/csharp/VS_Snippets_Wpf/storyboards_ovw_snip/CSharp/IndirectTargetingExample.xaml.cs#139)]

<span data-ttu-id="4a1b1-252">L’exemple suivant montre le code complet pour animer le <xref:System.Windows.Media.RotateTransform.Angle%2A> d’un <xref:System.Windows.Media.RotateTransform> contenu dans un <xref:System.Windows.Media.TransformGroup> .</span><span class="sxs-lookup"><span data-stu-id="4a1b1-252">The following example shows the complete code for animating the <xref:System.Windows.Media.RotateTransform.Angle%2A> of a <xref:System.Windows.Media.RotateTransform> contained within a <xref:System.Windows.Media.TransformGroup>.</span></span>

[!code-csharp[storyboards_ovw_snip#138](~/samples/snippets/csharp/VS_Snippets_Wpf/storyboards_ovw_snip/CSharp/IndirectTargetingExample.xaml.cs#138)]

### <a name="indirectly-targeting-with-a-freezable-as-the-starting-point"></a><span data-ttu-id="4a1b1-253">Ciblage indirect avec un élément Freezable comme point de départ</span><span class="sxs-lookup"><span data-stu-id="4a1b1-253">Indirectly Targeting with a Freezable as the Starting Point</span></span>

<span data-ttu-id="4a1b1-254">Les sections précédentes décrivaient comment cibler indirectement un <xref:System.Windows.Freezable> en commençant par un <xref:System.Windows.FrameworkElement> ou <xref:System.Windows.FrameworkContentElement> et en créant une chaîne de propriétés à une <xref:System.Windows.Freezable> sous-propriété.</span><span class="sxs-lookup"><span data-stu-id="4a1b1-254">The previous sections described how to indirectly target a <xref:System.Windows.Freezable> by starting with a <xref:System.Windows.FrameworkElement> or <xref:System.Windows.FrameworkContentElement> and creating a property chain to a <xref:System.Windows.Freezable> sub-property.</span></span> <span data-ttu-id="4a1b1-255">Vous pouvez également utiliser un <xref:System.Windows.Freezable> comme point de départ et cibler indirectement l’une de ses <xref:System.Windows.Freezable> sous-propriétés.</span><span class="sxs-lookup"><span data-stu-id="4a1b1-255">You can also use a <xref:System.Windows.Freezable> as a starting point and indirectly target one of its <xref:System.Windows.Freezable> sub-properties.</span></span> <span data-ttu-id="4a1b1-256">Une restriction supplémentaire s’applique lors de l’utilisation <xref:System.Windows.Freezable> d’un comme point de départ pour le ciblage indirect : la <xref:System.Windows.Freezable> sous-propriété de départ et toutes les <xref:System.Windows.Freezable> entre et la sous-propriété indirectement ciblée ne doivent pas être figées.</span><span class="sxs-lookup"><span data-stu-id="4a1b1-256">One additional restriction applies when using a <xref:System.Windows.Freezable> as a starting point for indirect targeting: the starting <xref:System.Windows.Freezable> and every <xref:System.Windows.Freezable> between it and the indirectly targeted sub-property must not be frozen.</span></span>

<a name="controllable_storyboards"></a>

## <a name="interactively-controlling-a-storyboard-in-xaml"></a><span data-ttu-id="4a1b1-257">Contrôle interactif d’une table de montage séquentiel en XAML</span><span class="sxs-lookup"><span data-stu-id="4a1b1-257">Interactively Controlling a Storyboard in XAML</span></span>

<span data-ttu-id="4a1b1-258">Pour démarrer une table de montage séquentiel dans [!INCLUDE[TLA#tla_xaml](../../../../includes/tlasharptla-xaml-md.md)] , vous utilisez une <xref:System.Windows.Media.Animation.BeginStoryboard> action de déclencheur.</span><span class="sxs-lookup"><span data-stu-id="4a1b1-258">To start a storyboard in [!INCLUDE[TLA#tla_xaml](../../../../includes/tlasharptla-xaml-md.md)], you use a <xref:System.Windows.Media.Animation.BeginStoryboard> trigger action.</span></span> <span data-ttu-id="4a1b1-259"><xref:System.Windows.Media.Animation.BeginStoryboard>distribue les animations aux objets et propriétés qu’elles animent, et démarre le Storyboard.</span><span class="sxs-lookup"><span data-stu-id="4a1b1-259"><xref:System.Windows.Media.Animation.BeginStoryboard> distributes the animations to the objects and properties they animate, and starts the storyboard.</span></span> <span data-ttu-id="4a1b1-260">(Pour plus d’informations sur ce processus, consultez [vue d’ensemble du système d’animation et de minutage](animation-and-timing-system-overview.md).) Si vous donnez <xref:System.Windows.Media.Animation.BeginStoryboard> un nom à un nom en spécifiant sa <xref:System.Windows.Media.Animation.BeginStoryboard.Name%2A> propriété, vous en faites une table de montage séquentiel contrôlable.</span><span class="sxs-lookup"><span data-stu-id="4a1b1-260">(For details about this process, see the [Animation and Timing System Overview](animation-and-timing-system-overview.md).) If you give the <xref:System.Windows.Media.Animation.BeginStoryboard> a name by specifying its <xref:System.Windows.Media.Animation.BeginStoryboard.Name%2A> property, you make it a controllable storyboard.</span></span> <span data-ttu-id="4a1b1-261">Vous pouvez ensuite contrôler interactivement la table de montage séquentiel après son démarrage.</span><span class="sxs-lookup"><span data-stu-id="4a1b1-261">You can then interactively control the storyboard after it's started.</span></span> <span data-ttu-id="4a1b1-262">Vous trouverez ci-dessous une liste d’actions de table de montage séquentiel contrôlable à utiliser avec des déclencheurs d’événements pour contrôler une table de montage séquentiel.</span><span class="sxs-lookup"><span data-stu-id="4a1b1-262">The following is a list of controllable storyboard actions that you use with event triggers to control a storyboard.</span></span>

- <span data-ttu-id="4a1b1-263"><xref:System.Windows.Media.Animation.PauseStoryboard>: Suspend le Storyboard.</span><span class="sxs-lookup"><span data-stu-id="4a1b1-263"><xref:System.Windows.Media.Animation.PauseStoryboard>: Pauses the storyboard.</span></span>

- <span data-ttu-id="4a1b1-264"><xref:System.Windows.Media.Animation.ResumeStoryboard>: Reprend un Storyboard suspendu.</span><span class="sxs-lookup"><span data-stu-id="4a1b1-264"><xref:System.Windows.Media.Animation.ResumeStoryboard>: Resumes a paused storyboard.</span></span>

- <span data-ttu-id="4a1b1-265"><xref:System.Windows.Media.Animation.SetStoryboardSpeedRatio>: Modifie la vitesse de la table de montage séquentiel.</span><span class="sxs-lookup"><span data-stu-id="4a1b1-265"><xref:System.Windows.Media.Animation.SetStoryboardSpeedRatio>: Changes the storyboard's speed.</span></span>

- <span data-ttu-id="4a1b1-266"><xref:System.Windows.Media.Animation.SkipStoryboardToFill>: Avance un Storyboard jusqu’à la fin de sa période de remplissage, le cas échéant.</span><span class="sxs-lookup"><span data-stu-id="4a1b1-266"><xref:System.Windows.Media.Animation.SkipStoryboardToFill>: Advances a storyboard to the end of its fill period, if it has one.</span></span>

- <span data-ttu-id="4a1b1-267"><xref:System.Windows.Media.Animation.StopStoryboard>: Arrête le Storyboard.</span><span class="sxs-lookup"><span data-stu-id="4a1b1-267"><xref:System.Windows.Media.Animation.StopStoryboard>: Stops the storyboard.</span></span>

- <span data-ttu-id="4a1b1-268"><xref:System.Windows.Media.Animation.RemoveStoryboard>: Supprime la table de montage séquentiel.</span><span class="sxs-lookup"><span data-stu-id="4a1b1-268"><xref:System.Windows.Media.Animation.RemoveStoryboard>: Removes the storyboard.</span></span>

<span data-ttu-id="4a1b1-269">Dans l’exemple suivant, les actions de table de montage séquentiel contrôlable servent à contrôler interactivement une table de montage séquentiel.</span><span class="sxs-lookup"><span data-stu-id="4a1b1-269">In the following example, controllable storyboard actions are used to interactively control a storyboard.</span></span>

[!code-xaml[animation_ovws_snip#ControllableStoryboardExampleWholePage](~/samples/snippets/csharp/VS_Snippets_Wpf/animation_ovws_snip/CS/ControllableStoryboardExample.xaml#controllablestoryboardexamplewholepage)]

<a name="controllable_storyboards_procedural"></a>

## <a name="interactively-controlling-a-storyboard-by-using-code"></a><span data-ttu-id="4a1b1-270">Contrôle interactif d’une table de montage séquentiel avec du code</span><span class="sxs-lookup"><span data-stu-id="4a1b1-270">Interactively Controlling a Storyboard by Using Code</span></span>

<span data-ttu-id="4a1b1-271">Les exemples précédents ont montré comment animer à l’aide d’actions de déclencheur.</span><span class="sxs-lookup"><span data-stu-id="4a1b1-271">The previous examples have shown how to animate using trigger actions.</span></span> <span data-ttu-id="4a1b1-272">Dans le code, vous pouvez également contrôler une table de montage séquentiel à l’aide de méthodes interactives de la <xref:System.Windows.Media.Animation.Storyboard> classe.</span><span class="sxs-lookup"><span data-stu-id="4a1b1-272">In code, you may also control a storyboard using interactive methods of the <xref:System.Windows.Media.Animation.Storyboard> class.</span></span> <span data-ttu-id="4a1b1-273">Pour qu’un <xref:System.Windows.Media.Animation.Storyboard> soit rendu interactif dans le code, vous devez utiliser la surcharge appropriée de la méthode de la table de montage séquentiel <xref:System.Windows.Media.Animation.Storyboard.Begin%2A> et spécifier `true` pour le rendre contrôlable.</span><span class="sxs-lookup"><span data-stu-id="4a1b1-273">For a <xref:System.Windows.Media.Animation.Storyboard> to be made interactive in code, you must use the appropriate overload of the storyboard's <xref:System.Windows.Media.Animation.Storyboard.Begin%2A> method and specify `true` to make it controllable.</span></span> <span data-ttu-id="4a1b1-274">Pour plus d'informations, consultez la page <xref:System.Windows.Media.Animation.Storyboard.Begin%28System.Windows.FrameworkElement%2CSystem.Boolean%29>.</span><span class="sxs-lookup"><span data-stu-id="4a1b1-274">See the <xref:System.Windows.Media.Animation.Storyboard.Begin%28System.Windows.FrameworkElement%2CSystem.Boolean%29> page for more information.</span></span>

<span data-ttu-id="4a1b1-275">La liste suivante présente les méthodes qui peuvent être utilisées pour manipuler un <xref:System.Windows.Media.Animation.Storyboard> après son démarrage :</span><span class="sxs-lookup"><span data-stu-id="4a1b1-275">The following list shows the methods that can be used to manipulate a <xref:System.Windows.Media.Animation.Storyboard> after it has started:</span></span>

- <xref:System.Windows.Media.Animation.Storyboard.Pause%2A>

- <xref:System.Windows.Media.Animation.Storyboard.Resume%2A>

- <xref:System.Windows.Media.Animation.Storyboard.Seek%2A>

- <xref:System.Windows.Media.Animation.Storyboard.SkipToFill%2A>

- <xref:System.Windows.Media.Animation.Storyboard.Stop%2A>

- <xref:System.Windows.Media.Animation.Storyboard.Remove%2A>

<span data-ttu-id="4a1b1-276">L’avantage de l’utilisation de ces méthodes est que vous n’avez pas besoin de créer <xref:System.Windows.Trigger> <xref:System.Windows.TriggerAction> des objets ou ; vous avez simplement besoin d’une référence au contrôlable <xref:System.Windows.Media.Animation.Storyboard> que vous souhaitez manipuler.</span><span class="sxs-lookup"><span data-stu-id="4a1b1-276">The advantage to using these methods is that you don't need to create <xref:System.Windows.Trigger> or <xref:System.Windows.TriggerAction> objects; you just need a reference to the controllable <xref:System.Windows.Media.Animation.Storyboard> you want to manipulate.</span></span>

> [!NOTE]
> <span data-ttu-id="4a1b1-277">Toutes les actions interactives effectuées sur un <xref:System.Windows.Media.Animation.Clock> et, par conséquent, sur un <xref:System.Windows.Media.Animation.Storyboard> se produisent sur le cycle suivant du moteur de minutage qui se produira peu de temps avant le rendu suivant.</span><span class="sxs-lookup"><span data-stu-id="4a1b1-277">All interactive actions taken on a <xref:System.Windows.Media.Animation.Clock>, and therefore also on a <xref:System.Windows.Media.Animation.Storyboard> will occur on the next tick of the timing engine which will happen shortly before the next render.</span></span> <span data-ttu-id="4a1b1-278">Par exemple, si vous utilisez la <xref:System.Windows.Media.Animation.Storyboard.Seek%2A> méthode pour accéder à un autre point d’une animation, la valeur de la propriété ne change pas instantanément, plutôt que la valeur change sur le cycle suivant du moteur de minutage.</span><span class="sxs-lookup"><span data-stu-id="4a1b1-278">For example, if you use the <xref:System.Windows.Media.Animation.Storyboard.Seek%2A> method to jump to another point in an animation, the property value does not change instantly, rather, the value changes on the next tick of the timing engine.</span></span>

<span data-ttu-id="4a1b1-279">L’exemple suivant montre comment appliquer et contrôler des animations à l’aide des méthodes interactives de la <xref:System.Windows.Media.Animation.Storyboard> classe.</span><span class="sxs-lookup"><span data-stu-id="4a1b1-279">The following example shows how to apply and control animations using the interactive methods of the <xref:System.Windows.Media.Animation.Storyboard> class.</span></span>

[!code-csharp[animation_ovws_procedural_snip#ControllableStoryboardExampleWholePage](~/samples/snippets/csharp/VS_Snippets_Wpf/animation_ovws_procedural_snip/CSharp/ControllableStoryboardExample.cs#controllablestoryboardexamplewholepage)]
[!code-vb[animation_ovws_procedural_snip#ControllableStoryboardExampleWholePage](~/samples/snippets/visualbasic/VS_Snippets_Wpf/animation_ovws_procedural_snip/visualbasic/controllablestoryboardexample.vb#controllablestoryboardexamplewholepage)]

<a name="usingstoryboardsinstyles"></a>

## <a name="animate-in-a-style"></a><span data-ttu-id="4a1b1-280">Animer dans un style</span><span class="sxs-lookup"><span data-stu-id="4a1b1-280">Animate in a Style</span></span>

<span data-ttu-id="4a1b1-281">Vous pouvez utiliser <xref:System.Windows.Media.Animation.Storyboard> des objets pour définir des animations dans un <xref:System.Windows.Style> .</span><span class="sxs-lookup"><span data-stu-id="4a1b1-281">You can use <xref:System.Windows.Media.Animation.Storyboard> objects to define animations in a <xref:System.Windows.Style>.</span></span> <span data-ttu-id="4a1b1-282">L’animation avec un <xref:System.Windows.Media.Animation.Storyboard> dans un <xref:System.Windows.Style> est semblable à l’utilisation d’un <xref:System.Windows.Media.Animation.Storyboard> autre emplacement, avec les trois exceptions suivantes :</span><span class="sxs-lookup"><span data-stu-id="4a1b1-282">Animating with a <xref:System.Windows.Media.Animation.Storyboard> in a <xref:System.Windows.Style> is similar to using a <xref:System.Windows.Media.Animation.Storyboard> elsewhere, with the following three exceptions:</span></span>

- <span data-ttu-id="4a1b1-283">Vous ne spécifiez pas un <xref:System.Windows.Media.Animation.Storyboard.TargetName%2A> ; le <xref:System.Windows.Media.Animation.Storyboard> cible toujours l’élément auquel le <xref:System.Windows.Style> est appliqué.</span><span class="sxs-lookup"><span data-stu-id="4a1b1-283">You don't specify a <xref:System.Windows.Media.Animation.Storyboard.TargetName%2A>; the <xref:System.Windows.Media.Animation.Storyboard> always targets the element to which the <xref:System.Windows.Style> is applied.</span></span> <span data-ttu-id="4a1b1-284">Pour cibler <xref:System.Windows.Freezable> des objets, vous devez utiliser le ciblage indirect.</span><span class="sxs-lookup"><span data-stu-id="4a1b1-284">To target <xref:System.Windows.Freezable> objects, you must use indirect targeting.</span></span> <span data-ttu-id="4a1b1-285">Pour plus d’informations sur le ciblage indirect, consultez la section [ciblage indirect](#pathsyntaxforchangeable) .</span><span class="sxs-lookup"><span data-stu-id="4a1b1-285">For more information about indirect targeting, see the [Indirect Targeting](#pathsyntaxforchangeable) section.</span></span>

- <span data-ttu-id="4a1b1-286">Vous ne pouvez pas spécifier un <xref:System.Windows.EventTrigger.SourceName%2A> pour un <xref:System.Windows.EventTrigger> ou un <xref:System.Windows.Trigger> .</span><span class="sxs-lookup"><span data-stu-id="4a1b1-286">You can't specify a <xref:System.Windows.EventTrigger.SourceName%2A> for an <xref:System.Windows.EventTrigger> or a <xref:System.Windows.Trigger>.</span></span>

- <span data-ttu-id="4a1b1-287">Vous ne pouvez pas utiliser des références de ressources dynamiques ou des expressions de liaison de données pour définir <xref:System.Windows.Media.Animation.Storyboard> ou animations des valeurs de propriété.</span><span class="sxs-lookup"><span data-stu-id="4a1b1-287">You can't use dynamic resource references or data binding expressions to set <xref:System.Windows.Media.Animation.Storyboard> or animation property values.</span></span> <span data-ttu-id="4a1b1-288">Cela est dû au fait que tout ce qui se trouve dans un <xref:System.Windows.Style> doit être thread-safe et que le système de minutage doit les <xref:System.Windows.Freezable.Freeze%2A> <xref:System.Windows.Media.Animation.Storyboard> objets pour les rendre thread-safe.</span><span class="sxs-lookup"><span data-stu-id="4a1b1-288">That's because everything inside a <xref:System.Windows.Style> must be thread-safe, and the timing system must <xref:System.Windows.Freezable.Freeze%2A><xref:System.Windows.Media.Animation.Storyboard> objects to make them thread-safe.</span></span> <span data-ttu-id="4a1b1-289">Un <xref:System.Windows.Media.Animation.Storyboard> ne peut pas être figé s’il ou ses chronologies enfants contiennent des références de ressources dynamiques ou des expressions de liaison de données.</span><span class="sxs-lookup"><span data-stu-id="4a1b1-289">A <xref:System.Windows.Media.Animation.Storyboard> cannot be frozen if it or its child timelines contain dynamic resource references or data binding expressions.</span></span> <span data-ttu-id="4a1b1-290">Pour plus d’informations sur le gel et <xref:System.Windows.Freezable> d’autres fonctionnalités, consultez la [vue d’ensemble des objets Freezable](../advanced/freezable-objects-overview.md).</span><span class="sxs-lookup"><span data-stu-id="4a1b1-290">For more information about freezing and other <xref:System.Windows.Freezable> features, see the [Freezable Objects Overview](../advanced/freezable-objects-overview.md).</span></span>

- <span data-ttu-id="4a1b1-291">Dans [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] , vous ne pouvez pas déclarer de gestionnaires d’événements pour les <xref:System.Windows.Media.Animation.Storyboard> événements d’animation ou.</span><span class="sxs-lookup"><span data-stu-id="4a1b1-291">In [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)], you can't declare event handlers for <xref:System.Windows.Media.Animation.Storyboard> or animation events.</span></span>

<span data-ttu-id="4a1b1-292">Pour obtenir un exemple qui montre comment définir une table de montage séquentiel dans un style, consultez l’exemple [animer dans un style](how-to-animate-in-a-style.md) .</span><span class="sxs-lookup"><span data-stu-id="4a1b1-292">For an example showing how to define a storyboard in a style, see the [Animate in a Style](how-to-animate-in-a-style.md) example.</span></span>

<a name="defineAStoryboardInAControlTemplateSection"></a>

## <a name="animate-in-a-controltemplate"></a><span data-ttu-id="4a1b1-293">Effectuer une animation dans un ControlTemplate</span><span class="sxs-lookup"><span data-stu-id="4a1b1-293">Animate in a ControlTemplate</span></span>

<span data-ttu-id="4a1b1-294">Vous pouvez utiliser <xref:System.Windows.Media.Animation.Storyboard> des objets pour définir des animations dans un <xref:System.Windows.Controls.ControlTemplate> .</span><span class="sxs-lookup"><span data-stu-id="4a1b1-294">You can use <xref:System.Windows.Media.Animation.Storyboard> objects to define animations in a <xref:System.Windows.Controls.ControlTemplate>.</span></span> <span data-ttu-id="4a1b1-295">L’animation avec un <xref:System.Windows.Media.Animation.Storyboard> dans un <xref:System.Windows.Controls.ControlTemplate> est semblable à l’utilisation d’un <xref:System.Windows.Media.Animation.Storyboard> autre emplacement, avec les deux exceptions suivantes :</span><span class="sxs-lookup"><span data-stu-id="4a1b1-295">Animating with a <xref:System.Windows.Media.Animation.Storyboard> in a <xref:System.Windows.Controls.ControlTemplate> is similar to using a <xref:System.Windows.Media.Animation.Storyboard> elsewhere, with the following two exceptions:</span></span>

- <span data-ttu-id="4a1b1-296"><xref:System.Windows.Media.Animation.Storyboard.TargetName%2A>Peut uniquement faire référence aux objets enfants de <xref:System.Windows.Controls.ControlTemplate> .</span><span class="sxs-lookup"><span data-stu-id="4a1b1-296">The <xref:System.Windows.Media.Animation.Storyboard.TargetName%2A> may only refer to child objects of the <xref:System.Windows.Controls.ControlTemplate>.</span></span> <span data-ttu-id="4a1b1-297">Si <xref:System.Windows.Media.Animation.Storyboard.TargetName%2A> n’est pas spécifié, l’animation cible l’élément auquel <xref:System.Windows.Controls.ControlTemplate> est appliqué.</span><span class="sxs-lookup"><span data-stu-id="4a1b1-297">If <xref:System.Windows.Media.Animation.Storyboard.TargetName%2A> is not specified, the animation targets the element to which the <xref:System.Windows.Controls.ControlTemplate> is applied.</span></span>

- <span data-ttu-id="4a1b1-298"><xref:System.Windows.EventTrigger.SourceName%2A>Pour un <xref:System.Windows.EventTrigger> ou un <xref:System.Windows.Trigger> peut uniquement faire référence aux objets enfants de <xref:System.Windows.Controls.ControlTemplate> .</span><span class="sxs-lookup"><span data-stu-id="4a1b1-298">The <xref:System.Windows.EventTrigger.SourceName%2A> for an <xref:System.Windows.EventTrigger> or a <xref:System.Windows.Trigger> may only refer to child objects of the <xref:System.Windows.Controls.ControlTemplate>.</span></span>

- <span data-ttu-id="4a1b1-299">Vous ne pouvez pas utiliser des références de ressources dynamiques ou des expressions de liaison de données pour définir <xref:System.Windows.Media.Animation.Storyboard> ou animations des valeurs de propriété.</span><span class="sxs-lookup"><span data-stu-id="4a1b1-299">You can't use dynamic resource references or data binding expressions to set <xref:System.Windows.Media.Animation.Storyboard> or animation property values.</span></span> <span data-ttu-id="4a1b1-300">Cela est dû au fait que tout ce qui se trouve dans un <xref:System.Windows.Controls.ControlTemplate> doit être thread-safe et que le système de minutage doit les <xref:System.Windows.Freezable.Freeze%2A> <xref:System.Windows.Media.Animation.Storyboard> objets pour les rendre thread-safe.</span><span class="sxs-lookup"><span data-stu-id="4a1b1-300">That's because everything inside a <xref:System.Windows.Controls.ControlTemplate> must be thread-safe, and the timing system must <xref:System.Windows.Freezable.Freeze%2A><xref:System.Windows.Media.Animation.Storyboard> objects to make them thread-safe.</span></span> <span data-ttu-id="4a1b1-301">Un <xref:System.Windows.Media.Animation.Storyboard> ne peut pas être figé s’il ou ses chronologies enfants contiennent des références de ressources dynamiques ou des expressions de liaison de données.</span><span class="sxs-lookup"><span data-stu-id="4a1b1-301">A <xref:System.Windows.Media.Animation.Storyboard> cannot be frozen if it or its child timelines contain dynamic resource references or data binding expressions.</span></span> <span data-ttu-id="4a1b1-302">Pour plus d’informations sur le gel et <xref:System.Windows.Freezable> d’autres fonctionnalités, consultez la [vue d’ensemble des objets Freezable](../advanced/freezable-objects-overview.md).</span><span class="sxs-lookup"><span data-stu-id="4a1b1-302">For more information about freezing and other <xref:System.Windows.Freezable> features, see the [Freezable Objects Overview](../advanced/freezable-objects-overview.md).</span></span>

- <span data-ttu-id="4a1b1-303">Dans [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] , vous ne pouvez pas déclarer de gestionnaires d’événements pour les <xref:System.Windows.Media.Animation.Storyboard> événements d’animation ou.</span><span class="sxs-lookup"><span data-stu-id="4a1b1-303">In [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)], you can't declare event handlers for <xref:System.Windows.Media.Animation.Storyboard> or animation events.</span></span>

<span data-ttu-id="4a1b1-304">Pour obtenir un exemple illustrant comment définir une table de montage séquentiel dans un <xref:System.Windows.Controls.ControlTemplate> , consultez l’exemple [animation dans un ControlTemplate](how-to-animate-in-a-controltemplate.md) .</span><span class="sxs-lookup"><span data-stu-id="4a1b1-304">For an example showing how to define a storyboard in a <xref:System.Windows.Controls.ControlTemplate>, see the [Animate in a ControlTemplate](how-to-animate-in-a-controltemplate.md) example.</span></span>

<a name="animateWhenAPropertyValueChanges"></a>

## <a name="animate-when-a-property-value-changes"></a><span data-ttu-id="4a1b1-305">Animer en cas de modification d’une valeur de propriété</span><span class="sxs-lookup"><span data-stu-id="4a1b1-305">Animate When a Property Value Changes</span></span>

<span data-ttu-id="4a1b1-306">Dans les styles et les modèles de contrôle, vous pouvez utiliser des objets Trigger pour démarrer une table de montage séquentiel en cas de modification d’une propriété.</span><span class="sxs-lookup"><span data-stu-id="4a1b1-306">In styles and control templates, you can use Trigger objects to start a storyboard when a property changes.</span></span> <span data-ttu-id="4a1b1-307">Pour obtenir des exemples, consultez [déclencher une animation quand une valeur de propriété change](how-to-trigger-an-animation-when-a-property-value-changes.md) et [animer dans un ControlTemplate](how-to-animate-in-a-controltemplate.md).</span><span class="sxs-lookup"><span data-stu-id="4a1b1-307">For examples, see [Trigger an Animation When a Property Value Changes](how-to-trigger-an-animation-when-a-property-value-changes.md) and [Animate in a ControlTemplate](how-to-animate-in-a-controltemplate.md).</span></span>

<span data-ttu-id="4a1b1-308">Les animations appliquées par les <xref:System.Windows.Trigger> objets de propriété se comportent de manière plus complexe que les <xref:System.Windows.EventTrigger> animations ou les animations démarrées à l’aide de <xref:System.Windows.Media.Animation.Storyboard> méthodes.</span><span class="sxs-lookup"><span data-stu-id="4a1b1-308">Animations applied by property <xref:System.Windows.Trigger> objects behave in a more complex fashion than <xref:System.Windows.EventTrigger> animations or animations started using <xref:System.Windows.Media.Animation.Storyboard> methods.</span></span>  <span data-ttu-id="4a1b1-309">Ils « sont remis » avec les animations définies par d’autres <xref:System.Windows.Trigger> objets, mais composent avec les <xref:System.Windows.EventTrigger> animations déclenchées par la méthode et.</span><span class="sxs-lookup"><span data-stu-id="4a1b1-309">They "handoff" with animations defined by other <xref:System.Windows.Trigger> objects, but compose with <xref:System.Windows.EventTrigger> and method-triggered animations.</span></span>

## <a name="see-also"></a><span data-ttu-id="4a1b1-310">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="4a1b1-310">See also</span></span>

- [<span data-ttu-id="4a1b1-311">Vue d'ensemble de l'animation</span><span class="sxs-lookup"><span data-stu-id="4a1b1-311">Animation Overview</span></span>](animation-overview.md)
- [<span data-ttu-id="4a1b1-312">Vue d'ensemble des techniques d'animation de propriétés</span><span class="sxs-lookup"><span data-stu-id="4a1b1-312">Property Animation Techniques Overview</span></span>](property-animation-techniques-overview.md)
- [<span data-ttu-id="4a1b1-313">Vue d'ensemble des objets Freezable</span><span class="sxs-lookup"><span data-stu-id="4a1b1-313">Freezable Objects Overview</span></span>](../advanced/freezable-objects-overview.md)
