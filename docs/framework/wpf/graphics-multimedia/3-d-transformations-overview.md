---
title: Vue d'ensemble des transformations 3D
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- 3-D transformations
- transformations [WPF], 3-D
ms.assetid: e45e555d-ac1e-4b36-aced-e433afe7f27f
ms.openlocfilehash: 983ae51fb74255b3331237825755449a00c9f95c
ms.sourcegitcommit: 700ea803fb06c5ce98de017c7f76463ba33ff4a9
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 02/19/2020
ms.locfileid: "77453141"
---
# <a name="3-d-transformations-overview"></a><span data-ttu-id="81071-102">Vue d'ensemble des transformations 3D</span><span class="sxs-lookup"><span data-stu-id="81071-102">3-D Transformations Overview</span></span>
<span data-ttu-id="81071-103">Cette rubrique décrit comment appliquer des transformations à des modèles 3D dans le système graphique [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)].</span><span class="sxs-lookup"><span data-stu-id="81071-103">This topic describes how to apply transformations to 3-D models in the [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] graphics system.</span></span> <span data-ttu-id="81071-104">Les transformations permettent au développeur de repositionner, redimensionner et réorienter des modèles sans modifier les valeurs de base qui les définissent.</span><span class="sxs-lookup"><span data-stu-id="81071-104">Transformations allow the developer to reposition, resize, and reorient models without changing the base values that define them.</span></span>  

## <a name="3-d-coordinate-space"></a><span data-ttu-id="81071-105">Espace de coordonnées 3D</span><span class="sxs-lookup"><span data-stu-id="81071-105">3-D Coordinate Space</span></span>  
 <span data-ttu-id="81071-106">le contenu graphique 3D dans [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] est encapsulé dans un élément, <xref:System.Windows.Controls.Viewport3D>, qui peut participer à la structure d’élément à deux dimensions.</span><span class="sxs-lookup"><span data-stu-id="81071-106">3-D graphics content in [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] is encapsulated in an element, <xref:System.Windows.Controls.Viewport3D>, that can participate in the two-dimensional element structure.</span></span> <span data-ttu-id="81071-107">Le système graphique traite Viewport3D comme un élément visuel à deux dimensions comme de nombreux autres éléments dans [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)].</span><span class="sxs-lookup"><span data-stu-id="81071-107">The graphics system treats Viewport3D as a two-dimensional visual element like many others in [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)].</span></span> <span data-ttu-id="81071-108">Viewport3D fonctionne comme une fenêtre, ou plus précisément une fenêtre d’affichage, dans une scène 3D.</span><span class="sxs-lookup"><span data-stu-id="81071-108">Viewport3D functions as a window—a viewport—into a three-dimensional scene.</span></span> <span data-ttu-id="81071-109">Plus précisément, c’est une surface sur laquelle une scène 3D est projetée.</span><span class="sxs-lookup"><span data-stu-id="81071-109">More accurately, it is a surface on which a 3-D scene is projected.</span></span>  <span data-ttu-id="81071-110">Bien que vous puissiez utiliser Viewport3D avec d’autres objets de dessin 2D dans le même graphique de scène, vous ne pouvez pas interpénétrer les objets 2D et 3D au sein d’un Viewport3D.</span><span class="sxs-lookup"><span data-stu-id="81071-110">Although you can use Viewport3D with other 2-D drawing objects in the same scene graph, you cannot interpenetrate 2-D and 3-D objects within a Viewport3D.</span></span> <span data-ttu-id="81071-111">Dans la discussion suivante, l’espace de coordonnées décrit est contenu par l’élément Viewport3D.</span><span class="sxs-lookup"><span data-stu-id="81071-111">In the following discussion, the coordinate space described is contained by the Viewport3D element.</span></span>  
  
 <span data-ttu-id="81071-112">Le système de coordonnées [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] pour les graphiques 2D localise l’origine dans le coin supérieur gauche de la surface de rendu (en général l’écran).</span><span class="sxs-lookup"><span data-stu-id="81071-112">The [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] coordinate system for 2-D graphics locates the origin in the upper left of the rendering surface (typically the screen).</span></span> <span data-ttu-id="81071-113">Dans le système 2D, les valeurs positives de l’axe des X continuent à droite et les valeurs positives de l’axe des Y positives continuent vers le bas.</span><span class="sxs-lookup"><span data-stu-id="81071-113">In the 2-D system, positive x-axis values proceed to the right and positive y-axis values proceed downward.</span></span> <span data-ttu-id="81071-114">Dans le système de coordonnées 3D, toutefois, l’origine se trouve dans le centre de l’écran, avec les valeurs positives de l’axe des X continuant à droite mais celles de l’axe des Y continuant vers le haut à la place, alors que les valeurs positives de l’axe des Z continuent vers l’extérieur à partir de l’origine, vers le visionneur.</span><span class="sxs-lookup"><span data-stu-id="81071-114">In the 3-D coordinate system, however, the origin is located in the center of the screen, with positive x-axis values proceeding to the right but positive y-axis values proceeding upward instead, and positive z-axis values proceeding outward from the origin, toward the viewer.</span></span>  
  
 <span data-ttu-id="81071-115">![Systèmes de coordonnées](./media/coordsystem-1.png "CoordSystem-1")</span><span class="sxs-lookup"><span data-stu-id="81071-115">![Coordinate systems](./media/coordsystem-1.png "CoordSystem-1")</span></span>  
<span data-ttu-id="81071-116">Comparaison du système de coordonnées</span><span class="sxs-lookup"><span data-stu-id="81071-116">Coordinate System Comparison</span></span>  
  
 <span data-ttu-id="81071-117">L’espace défini par ces axes est le système de référence stationnaire pour les objets 3D dans [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)].</span><span class="sxs-lookup"><span data-stu-id="81071-117">The space defined by these axes is the stationary frame of reference for 3-D objects in [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)].</span></span> <span data-ttu-id="81071-118">Lorsque vous générez des modèles dans cet espace et créez des lumières et des caméras pour les consulter, il est utile de distinguer ce frame stationnaire de référence, ou « espace universel » du frame local de référence que vous créez pour chaque modèle lorsque vous lui appliquez des transformations.</span><span class="sxs-lookup"><span data-stu-id="81071-118">As you build models in this space and create lights and cameras to view them, it's helpful to distinguish this stationary frame of reference, or "world space," from the local frame of reference you create for each model when you apply transformations to it.</span></span> <span data-ttu-id="81071-119">N’oubliez également pas que les objets dans l’espace universel peuvent sembler entièrement différents, ou ne pas du tout être visibles, en fonction des paramètres de lumière et de caméra, mais que la position de la caméra ne modifie pas l’emplacement des objets dans l’espace universel.</span><span class="sxs-lookup"><span data-stu-id="81071-119">Remember also that objects in world space might look entirely different, or not be visible at all, depending on light and camera settings, but the position of the camera does not change the location of objects in world space.</span></span>  
  
## <a name="transforming-models"></a><span data-ttu-id="81071-120">Transformation de modèles</span><span class="sxs-lookup"><span data-stu-id="81071-120">Transforming Models</span></span>  
 <span data-ttu-id="81071-121">Lorsque vous créez des modèles, ils ont un emplacement particulier dans la scène.</span><span class="sxs-lookup"><span data-stu-id="81071-121">When you create models, they have a particular location in the scene.</span></span> <span data-ttu-id="81071-122">Pour déplacer ces modèles dans la scène, pour les faire pivoter ou pour modifier leur taille, il n’est pas pratique de modifier les vertex qui définissent les modèles eux-mêmes.</span><span class="sxs-lookup"><span data-stu-id="81071-122">To move those models around in the scene, to rotate them, or to change their size, it's not practical to change the vertices that define the models themselves.</span></span> <span data-ttu-id="81071-123">Au lieu de cela, tout comme dans 2D, vous appliquez des transformations aux modèles.</span><span class="sxs-lookup"><span data-stu-id="81071-123">Instead, just as in 2-D, you apply transformations to models.</span></span>  
  
 <span data-ttu-id="81071-124">Chaque objet de modèle a une propriété <xref:System.Windows.Media.Media3D.Model3D.Transform%2A> avec laquelle vous pouvez déplacer, réorienter ou redimensionner le modèle.</span><span class="sxs-lookup"><span data-stu-id="81071-124">Each model object has a <xref:System.Windows.Media.Media3D.Model3D.Transform%2A> property with which you can move, re-orient, or resize the model.</span></span> <span data-ttu-id="81071-125">Lorsque vous appliquez une transformation, vous décalez tous les points du modèle par le vecteur ou la valeur que la transformation spécifie.</span><span class="sxs-lookup"><span data-stu-id="81071-125">When you apply a transform, you effectively offset all the points of the model by whatever vector or value is specified by the transform.</span></span> <span data-ttu-id="81071-126">En d’autres termes, vous avez transformé l’espace de coordonnées dans lequel le modèle est défini (« espace de modèle »), mais vous n’avez pas modifié les valeurs qui composent la géométrie du modèle dans le système de coordonnées de la scène entière (« espace universel »).</span><span class="sxs-lookup"><span data-stu-id="81071-126">In other words, you've transformed the coordinate space in which the model is defined ("model space"), but you haven't changed the values that make up the model's geometry in the coordinate system of the entire scene ("world space").</span></span>  
  
## <a name="translation-transformations"></a><span data-ttu-id="81071-127">Transformations de translation</span><span class="sxs-lookup"><span data-stu-id="81071-127">Translation Transformations</span></span>  
 <span data-ttu-id="81071-128">les transformations 3D héritent de la classe de base abstraite <xref:System.Windows.Media.Media3D.Transform3D>; celles-ci incluent les classes de transformation affines <xref:System.Windows.Media.Media3D.TranslateTransform3D>, <xref:System.Windows.Media.Media3D.ScaleTransform3D>et <xref:System.Windows.Media.Media3D.RotateTransform3D>.</span><span class="sxs-lookup"><span data-stu-id="81071-128">3-D transformations inherit from the abstract base class <xref:System.Windows.Media.Media3D.Transform3D>; these include the affine transform classes <xref:System.Windows.Media.Media3D.TranslateTransform3D>, <xref:System.Windows.Media.Media3D.ScaleTransform3D>, and <xref:System.Windows.Media.Media3D.RotateTransform3D>.</span></span> <span data-ttu-id="81071-129">Le système [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] 3D fournit également une classe <xref:System.Windows.Media.Media3D.MatrixTransform3D> qui vous permet de spécifier les mêmes transformations dans des opérations de matrice plus concises.</span><span class="sxs-lookup"><span data-stu-id="81071-129">The [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] 3-D system also provides a <xref:System.Windows.Media.Media3D.MatrixTransform3D> class that lets you specify the same transformations in more concise matrix operations.</span></span>  
  
 <span data-ttu-id="81071-130"><xref:System.Windows.Media.Media3D.TranslateTransform3D> déplace tous les points de l’Model3D dans le sens du vecteur de décalage que vous spécifiez avec les propriétés <xref:System.Windows.Media.Media3D.TranslateTransform3D.OffsetX%2A>, <xref:System.Windows.Media.Media3D.TranslateTransform3D.OffsetY%2A>et <xref:System.Windows.Media.Media3D.TranslateTransform3D.OffsetZ%2A>.</span><span class="sxs-lookup"><span data-stu-id="81071-130"><xref:System.Windows.Media.Media3D.TranslateTransform3D> moves all the points in the Model3D in the direction of the offset vector you specify with the <xref:System.Windows.Media.Media3D.TranslateTransform3D.OffsetX%2A>, <xref:System.Windows.Media.Media3D.TranslateTransform3D.OffsetY%2A>, and <xref:System.Windows.Media.Media3D.TranslateTransform3D.OffsetZ%2A> properties.</span></span> <span data-ttu-id="81071-131">Par exemple, en prenant un vertex d’un cube à (2,2,2), un vecteur de décalage de (0, 1,6, 1) déplacerait ce vertex de (2,2,2) à (2, 3,6, 3).</span><span class="sxs-lookup"><span data-stu-id="81071-131">For example, given one vertex of a cube at (2,2,2), an offset vector of (0,1.6,1) would move that vertex (2,2,2) to (2,3.6,3).</span></span> <span data-ttu-id="81071-132">Le vertex du cube est toujours (2,2,2) dans l’espace du modèle, mais désormais l’espace du modèle a modifié sa relation à l’espace universel afin que (2,2,2) dans l’espace du modèle soit (2, 3,6, 3) dans l’espace universel.</span><span class="sxs-lookup"><span data-stu-id="81071-132">The cube's vertex is still (2,2,2) in model space, but now that model space has changed its relationship to world space so that (2,2,2) in model space is (2,3.6,3) in world space.</span></span>  
  
 <span data-ttu-id="81071-133">![Figure de translation](./media/transforms-translate.png "Transformations-traduire")</span><span class="sxs-lookup"><span data-stu-id="81071-133">![Translation figure](./media/transforms-translate.png "Transforms-Translate")</span></span>  
<span data-ttu-id="81071-134">Translation avec décalage</span><span class="sxs-lookup"><span data-stu-id="81071-134">Translation with Offset</span></span>  
  
 <span data-ttu-id="81071-135">Les exemples de code suivants montrent comment appliquer une translation.</span><span class="sxs-lookup"><span data-stu-id="81071-135">The following code examples show how to apply a translation.</span></span>  
  
 [!code-xaml[animation3dgallery_snip#Translation3DAnimationExampleWholePage](~/samples/snippets/csharp/VS_Snippets_Wpf/Animation3DGallery_snip/CS/Translation3DAnimationExample.xaml#translation3danimationexamplewholepage)]  
  
## <a name="scale-transformations"></a><span data-ttu-id="81071-136">Transformations d’échelle</span><span class="sxs-lookup"><span data-stu-id="81071-136">Scale Transformations</span></span>  
 <span data-ttu-id="81071-137"><xref:System.Windows.Media.Media3D.ScaleTransform3D> modifie l’échelle du modèle par un vecteur d’échelle spécifié avec une référence à un point central.</span><span class="sxs-lookup"><span data-stu-id="81071-137"><xref:System.Windows.Media.Media3D.ScaleTransform3D> changes the model's scale by a specified scale vector with reference to a center point.</span></span> <span data-ttu-id="81071-138">Spécifiez une échelle uniforme, qui met à l’échelle du modèle par la même valeur dans les axes X, Y et Z, pour modifier la taille du modèle proportionnellement.</span><span class="sxs-lookup"><span data-stu-id="81071-138">Specify a uniform scale, which scales the model by the same value in the X, Y, and Z axes, to change the model's size proportionally.</span></span> <span data-ttu-id="81071-139">Par exemple, la définition des propriétés <xref:System.Windows.Media.ScaleTransform.ScaleX%2A>, <xref:System.Windows.Media.ScaleTransform.ScaleY%2A>et <xref:System.Windows.Media.Media3D.ScaleTransform3D.ScaleZ%2A> de la transformation sur 0,5 divise la taille du modèle. la définition des mêmes propriétés sur 2 double son échelle dans les trois axes.</span><span class="sxs-lookup"><span data-stu-id="81071-139">For example, setting the transform's <xref:System.Windows.Media.ScaleTransform.ScaleX%2A>, <xref:System.Windows.Media.ScaleTransform.ScaleY%2A>, and <xref:System.Windows.Media.Media3D.ScaleTransform3D.ScaleZ%2A> properties to 0.5 halves the size of the model; setting the same properties to 2 doubles its scale in all three axes.</span></span>  
  
 <span data-ttu-id="81071-140">![Uniform ScaleTransform3D](./media/threecubes-uniformscale-1.png "threecubes_uniformscale_1")</span><span class="sxs-lookup"><span data-stu-id="81071-140">![Uniform ScaleTransform3D](./media/threecubes-uniformscale-1.png "threecubes_uniformscale_1")</span></span>  
<span data-ttu-id="81071-141">Exemple de ScaleVector</span><span class="sxs-lookup"><span data-stu-id="81071-141">ScaleVector Example</span></span>  
  
 <span data-ttu-id="81071-142">En spécifiant une transformation d’échelle non uniforme, une transformation d’échelle dont les valeurs X, Y et Z ne sont pas toutes les mêmes, vous pouvez provoquer l’étirement ou la contraction d’un modèle dans une ou deux dimensions sans affecter les autres.</span><span class="sxs-lookup"><span data-stu-id="81071-142">By specifying a non-uniform scale transformation—a scale transformation whose X, Y, and Z values are not all the same—you can cause a model to stretch or contract in one or two dimensions without affecting the others.</span></span> <span data-ttu-id="81071-143">Par exemple, si vous affectez à <xref:System.Windows.Media.ScaleTransform.ScaleX%2A> la valeur 1, <xref:System.Windows.Media.ScaleTransform.ScaleY%2A> à 2, et <xref:System.Windows.Media.Media3D.ScaleTransform3D.ScaleZ%2A> la valeur 1, la hauteur du modèle transformé est double, mais reste inchangée le long des axes X et Z.</span><span class="sxs-lookup"><span data-stu-id="81071-143">For example, setting <xref:System.Windows.Media.ScaleTransform.ScaleX%2A> to 1, <xref:System.Windows.Media.ScaleTransform.ScaleY%2A> to 2, and <xref:System.Windows.Media.Media3D.ScaleTransform3D.ScaleZ%2A> to 1 would cause the transformed model to double in height but remain unchanged along the X and Z axes.</span></span>  
  
 <span data-ttu-id="81071-144">Par défaut, ScaleTransform3D étire ou contracte les sommets par rapport à l’origine (0,0,0).</span><span class="sxs-lookup"><span data-stu-id="81071-144">By default, ScaleTransform3D causes vertices to expand or contract about the origin (0,0,0).</span></span> <span data-ttu-id="81071-145">Si le modèle que vous souhaitez transformer n’est pas dessiné depuis l’origine, cependant, la mise à l’échelle du modèle à partir de l’origine ne fait pas évoluer le modèle « sur place. »</span><span class="sxs-lookup"><span data-stu-id="81071-145">If the model you want to transform is not drawn from the origin, however, scaling the model from the origin will not scale the model "in place."</span></span> <span data-ttu-id="81071-146">Au lieu de cela, lorsque les sommets du modèle sont multipliés par le vecteur d’échelle, l’opération de mise à l’échelle a pour effet de déplacer le modèle en plus de le mettre à l’échelle.</span><span class="sxs-lookup"><span data-stu-id="81071-146">Instead, when the model's vertices are multiplied by the scale vector, the scale operation will have the effect of translating the model as well as scaling it.</span></span>  
  
 <span data-ttu-id="81071-147">![Trois cubes mis à l'échelle avec point central spécifié](./media/threecubes-scaledwithcenter-1.png "threecubes_scaledwithcenter_1")</span><span class="sxs-lookup"><span data-stu-id="81071-147">![Three cubes scaled with center point specified](./media/threecubes-scaledwithcenter-1.png "threecubes_scaledwithcenter_1")</span></span>  
<span data-ttu-id="81071-148">Exemple de centre de mise à l’échelle</span><span class="sxs-lookup"><span data-stu-id="81071-148">Scale Center Example</span></span>  
  
 <span data-ttu-id="81071-149">Pour mettre à l’échelle un modèle « sur place », spécifiez le centre du modèle en définissant les propriétés ScaleTransform3D’s <xref:System.Windows.Media.ScaleTransform.CenterX%2A>, <xref:System.Windows.Media.ScaleTransform.CenterY%2A>et <xref:System.Windows.Media.Media3D.ScaleTransform3D.CenterZ%2A>.</span><span class="sxs-lookup"><span data-stu-id="81071-149">To scale a model "in place," specify the center of the model by setting the ScaleTransform3D's <xref:System.Windows.Media.ScaleTransform.CenterX%2A>, <xref:System.Windows.Media.ScaleTransform.CenterY%2A>, and <xref:System.Windows.Media.Media3D.ScaleTransform3D.CenterZ%2A> properties.</span></span> <span data-ttu-id="81071-150">Cela permet de s’assurer que le système graphique met à l’échelle l’espace du modèle, puis le convertit en centre sur le <xref:System.Windows.Media.Media3D.Point3D>spécifié.</span><span class="sxs-lookup"><span data-stu-id="81071-150">This ensures that the graphics system scales the model space and then translates it to center on the specified <xref:System.Windows.Media.Media3D.Point3D>.</span></span> <span data-ttu-id="81071-151">À l’inverse, si vous avez généré le modèle par rapport à l’origine et que vous spécifiez un autre point, attendez-vous à ce que le modèle transformé soit déplacé par rapport à l’origine.</span><span class="sxs-lookup"><span data-stu-id="81071-151">Conversely, if you've built the model about the origin and specify a different center point, expect to see the model translated away from the origin.</span></span>  
  
## <a name="rotation-transformations"></a><span data-ttu-id="81071-152">Transformations de rotation</span><span class="sxs-lookup"><span data-stu-id="81071-152">Rotation Transformations</span></span>  
 <span data-ttu-id="81071-153">Vous pouvez faire pivoter un modèle en 3D de différentes manières.</span><span class="sxs-lookup"><span data-stu-id="81071-153">You can rotate a model in 3-D in several different ways.</span></span> <span data-ttu-id="81071-154">Une rotation classique spécifie un axe et un angle de rotation autour de cet axe.</span><span class="sxs-lookup"><span data-stu-id="81071-154">A typical rotation transformation specifies an axis and an angle of rotation around that axis.</span></span> <span data-ttu-id="81071-155">La classe <xref:System.Windows.Media.Media3D.RotateTransform3D> vous permet de définir une <xref:System.Windows.Media.Media3D.Rotation3D> avec sa propriété <xref:System.Windows.Media.Media3D.RotateTransform3D.Rotation%2A>.</span><span class="sxs-lookup"><span data-stu-id="81071-155">The <xref:System.Windows.Media.Media3D.RotateTransform3D> class allows you to define a <xref:System.Windows.Media.Media3D.Rotation3D> with its <xref:System.Windows.Media.Media3D.RotateTransform3D.Rotation%2A> property.</span></span> <span data-ttu-id="81071-156">Vous spécifiez ensuite les propriétés <xref:System.Windows.Media.Media3D.AxisAngleRotation3D.Axis%2A> et <xref:System.Windows.Media.Media3D.AxisAngleRotation3D.Angle%2A> sur le Rotation3D, dans ce cas un <xref:System.Windows.Media.Media3D.AxisAngleRotation3D>, pour définir la transformation.</span><span class="sxs-lookup"><span data-stu-id="81071-156">You then specify <xref:System.Windows.Media.Media3D.AxisAngleRotation3D.Axis%2A> and <xref:System.Windows.Media.Media3D.AxisAngleRotation3D.Angle%2A> properties on the Rotation3D, in this case an <xref:System.Windows.Media.Media3D.AxisAngleRotation3D>, to define the transformation.</span></span> <span data-ttu-id="81071-157">Les exemples suivants font pivoter un modèle de 60 degrés autour de l’axe Y.</span><span class="sxs-lookup"><span data-stu-id="81071-157">The following examples rotate a model by 60 degrees around the Y axis.</span></span>  
  
 [!code-xaml[animation3dgallery_snip#Rotate3DUsingAxisAngleRotation3DExampleWholePage](~/samples/snippets/csharp/VS_Snippets_Wpf/Animation3DGallery_snip/CS/Rotat3DUsingAxisAngleRotation3DExample.xaml#rotate3dusingaxisanglerotation3dexamplewholepage)]  
  
 <span data-ttu-id="81071-158">Remarque :[!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] 3D est un système droitier, ce qui signifie qu’une valeur d’angle positive pour une rotation entraîne une rotation horaire autour de l’axe.</span><span class="sxs-lookup"><span data-stu-id="81071-158">Note:[!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] 3-D is a right-handed system, which means that a positive angle value for a rotation results in a counter-clockwise rotation about the axis.</span></span>  
  
 <span data-ttu-id="81071-159">Les rotations d’axe/d’angle supposent une rotation sur l’origine si aucune valeur n’est spécifiée pour les propriétés <xref:System.Windows.Media.Media3D.RotateTransform3D.CenterX%2A>, <xref:System.Windows.Media.Media3D.RotateTransform3D.CenterY%2A>et <xref:System.Windows.Media.Media3D.RotateTransform3D.CenterZ%2A> sur RotateTransform3D.</span><span class="sxs-lookup"><span data-stu-id="81071-159">Axis-angle rotations assume rotation about the origin if a value is not specified for the <xref:System.Windows.Media.Media3D.RotateTransform3D.CenterX%2A>, <xref:System.Windows.Media.Media3D.RotateTransform3D.CenterY%2A>, and <xref:System.Windows.Media.Media3D.RotateTransform3D.CenterZ%2A> properties on RotateTransform3D.</span></span> <span data-ttu-id="81071-160">Comme avec la mise à l’échelle, il est utile de garder l’esprit que la rotation transforme l’espace de coordonnées entier du modèle.</span><span class="sxs-lookup"><span data-stu-id="81071-160">As with scaling, it's helpful to remember that the rotation transforms the model's entire coordinate space.</span></span> <span data-ttu-id="81071-161">Si le modèle n’a pas été créé par rapport à l’origine ou a été déplacé précédemment, la rotation peut « pivoter » autour de l’origine au lieu de tourner sur place.</span><span class="sxs-lookup"><span data-stu-id="81071-161">If the model was not created about the origin, or has been translated previously, the rotation might "pivot" about the origin instead of rotating in place.</span></span>  
  
 <span data-ttu-id="81071-162">![Rotation avec nouveau point central](./media/threecubes-rotationwithcenter-1.png "threecubes_rotationwithcenter_1")</span><span class="sxs-lookup"><span data-stu-id="81071-162">![Rotation with new center point](./media/threecubes-rotationwithcenter-1.png "threecubes_rotationwithcenter_1")</span></span>  
<span data-ttu-id="81071-163">Rotation avec nouveau centre spécifié</span><span class="sxs-lookup"><span data-stu-id="81071-163">Rotation with new center specified</span></span>  
  
 <span data-ttu-id="81071-164">Pour faire pivoter le modèle « sur place », spécifiez le centre réel du modèle en tant que centre de la rotation.</span><span class="sxs-lookup"><span data-stu-id="81071-164">To rotate the model "in place," specify the model's actual center as the center of rotation.</span></span> <span data-ttu-id="81071-165">Étant donné que la géométrie est généralement modelée par rapport à l’origine, vous pouvez généralement obtenir le résultat attendu d’un ensemble de transformations en redimensionnant d’abord le modèle (par mise à l’échelle), puis en définissant son orientation (par rotation) et enfin en le déplaçant vers l’emplacement souhaité (par translation).</span><span class="sxs-lookup"><span data-stu-id="81071-165">Because geometry is typically modeled about the origin, you can most often get the expected result of a set of transformations by first sizing the model (scaling it), then setting its orientation (rotating it), and finally moving it to the desired location (translating it).</span></span>  
  
 <span data-ttu-id="81071-166">![Rotation de 60 degrés dans les axes x&#45; et y&#45;](./media/twocubes-rotation2axes-1.png "twocubes_rotation2axes_1")</span><span class="sxs-lookup"><span data-stu-id="81071-166">![Rotation by 60 degrees in x&#45; and y&#45;axes](./media/twocubes-rotation2axes-1.png "twocubes_rotation2axes_1")</span></span>  
<span data-ttu-id="81071-167">Exemple de rotation</span><span class="sxs-lookup"><span data-stu-id="81071-167">Rotation Example</span></span>  
  
 <span data-ttu-id="81071-168">Les rotations axe/angle fonctionnent bien pour les transformations statiques et certaines animations.</span><span class="sxs-lookup"><span data-stu-id="81071-168">Axis-angle rotations work well for static transformations and some animations.</span></span> <span data-ttu-id="81071-169">Toutefois, envisagez la rotation d’un modèle de cube à 60 degrés autour de l’axe X, puis de 45 degrés autour de l’axe Z.</span><span class="sxs-lookup"><span data-stu-id="81071-169">However, consider rotating a cube model 60 degrees around the X axis, then 45 degrees around the Z axis.</span></span> <span data-ttu-id="81071-170">Vous pouvez décrire cette transformation sous forme de deux transformations affines discrètes ou de matrice.</span><span class="sxs-lookup"><span data-stu-id="81071-170">You can describe this transformation as two discrete affine transformations, or as a matrix.</span></span> <span data-ttu-id="81071-171">Toutefois, il peut être difficile d’animer une rotation définie de cette façon.</span><span class="sxs-lookup"><span data-stu-id="81071-171">However, it might be difficult to smoothly animate a rotation defined this way.</span></span> <span data-ttu-id="81071-172">Même si les positions de début et de fin du modèle calculées par les deux approches sont les mêmes, les positions intermédiaires prises par le modèle sont incertaines en matière de calcul.</span><span class="sxs-lookup"><span data-stu-id="81071-172">Although the beginning and ending positions of the model computed by either approach are the same, the intermediate positions taken by the model are computationally uncertain.</span></span> <span data-ttu-id="81071-173">Les quaternions représentent une autre façon de calculer l’interpolation entre le début et la fin d’une rotation.</span><span class="sxs-lookup"><span data-stu-id="81071-173">Quaternions represent an alternative way to compute the interpolation between the start and end of a rotation.</span></span>  
  
 <span data-ttu-id="81071-174">Un quaternion représente un axe dans un espace 3D et une rotation autour de cet axe.</span><span class="sxs-lookup"><span data-stu-id="81071-174">A quaternion represents an axis in 3-D space and a rotation around that axis.</span></span> <span data-ttu-id="81071-175">Par exemple, un quaternion peut représenter un axe (1,1,2) et une rotation de 50 degrés.</span><span class="sxs-lookup"><span data-stu-id="81071-175">For example, a quaternion might represent a (1,1,2) axis and a rotation of 50 degrees.</span></span> <span data-ttu-id="81071-176">La capacité des quaternions à définir des rotations vient des opérations que vous pouvez effectuer dessus : composition et interpolation.</span><span class="sxs-lookup"><span data-stu-id="81071-176">Quaternions’ power in defining rotations comes from the two operations that you can perform on them: composition and interpolation.</span></span> <span data-ttu-id="81071-177">La composition de deux quaternions appliqués à une géométrie signifie « faire pivoter la géométrie autour de l’axe2 par la rotation2, puis la faire pivoter autour de l’axe1 par la rotation1 ».</span><span class="sxs-lookup"><span data-stu-id="81071-177">The composition of two quaternions applied to a geometry means "rotate the geometry around axis2 by rotation2, then rotate it around axis1 by rotation1."</span></span> <span data-ttu-id="81071-178">En utilisant la composition, vous pouvez combiner les deux rotations sur la géométrie pour obtenir un seul quaternion qui représente le résultat.</span><span class="sxs-lookup"><span data-stu-id="81071-178">By using composition, you can combine the two rotations on the geometry to get a single quaternion that represents the result.</span></span> <span data-ttu-id="81071-179">Étant donné que l’interpolation de quaternion peut calculer un chemin fluide et raisonnable d’un axe et d’une orientation à l’autre, vous pouvez interpoler de du quaternion d’origine vers le quaternion composé pour effectuer une transition en douceur d’un autre à l’autre, ce qui vous permet d’animer la transformation.</span><span class="sxs-lookup"><span data-stu-id="81071-179">Because quaternion interpolation can calculate a smooth and reasonable path from one axis and orientation to another, you can interpolate from the original to the composed quaternion to achieve a smooth transition from one to the other, enabling you to animate the transformation.</span></span> <span data-ttu-id="81071-180">Pour les modèles que vous souhaitez animer, vous pouvez spécifier un <xref:System.Windows.Media.Media3D.Quaternion> de destination pour la rotation en utilisant une <xref:System.Windows.Media.Media3D.QuaternionRotation3D> pour la propriété <xref:System.Windows.Media.Media3D.RotateTransform3D.Rotation%2A>.</span><span class="sxs-lookup"><span data-stu-id="81071-180">For models that you want to animate, you can specify a destination <xref:System.Windows.Media.Media3D.Quaternion> for the rotation by using a <xref:System.Windows.Media.Media3D.QuaternionRotation3D> for the <xref:System.Windows.Media.Media3D.RotateTransform3D.Rotation%2A> property.</span></span>  
  
## <a name="using-transformation-collections"></a><span data-ttu-id="81071-181">Utilisation des collections de transformations</span><span class="sxs-lookup"><span data-stu-id="81071-181">Using Transformation Collections</span></span>  
 <span data-ttu-id="81071-182">Lorsque vous générez une scène, il est courant d’appliquer plusieurs transformations à un modèle.</span><span class="sxs-lookup"><span data-stu-id="81071-182">When building a scene, it's common to apply more than one transformation to a model.</span></span> <span data-ttu-id="81071-183">Ajoutez des transformations à la collection <xref:System.Windows.Media.Media3D.Transform3DGroup.Children%2A> de la classe <xref:System.Windows.Media.Media3D.Transform3DGroup> pour regrouper facilement les transformations à appliquer à différents modèles dans la scène.</span><span class="sxs-lookup"><span data-stu-id="81071-183">Add transforms to the <xref:System.Windows.Media.Media3D.Transform3DGroup.Children%2A> collection of the <xref:System.Windows.Media.Media3D.Transform3DGroup> class to group transforms conveniently to apply to various models in the scene.</span></span> <span data-ttu-id="81071-184">Il est souvent utile de réutiliser une transformation dans plusieurs groupes, de la même façon que vous pouvez réutiliser un modèle en appliquant un ensemble de transformations différent à chaque instance.</span><span class="sxs-lookup"><span data-stu-id="81071-184">It's often convenient to reuse a transformation in several different groups, in much the way that you can reuse a model by applying a different set of transforms to each instance.</span></span> <span data-ttu-id="81071-185">Notez que l’ordre dans lequel les transformations sont ajoutées à la collection est important : les transformations de la collection sont appliquées de la première à la dernière.</span><span class="sxs-lookup"><span data-stu-id="81071-185">Note that order in which the transformations are added to the collection is significant: transforms in the collection are applied from first to last.</span></span>  
  
## <a name="animating-transformations"></a><span data-ttu-id="81071-186">Animation de transformations</span><span class="sxs-lookup"><span data-stu-id="81071-186">Animating Transformations</span></span>  
 <span data-ttu-id="81071-187">L’implémentation 3D [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] participe au même système de minutage et d’animation que les graphiques 2D.</span><span class="sxs-lookup"><span data-stu-id="81071-187">The [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] 3-D implementation participates in the same timing and animation system as 2-D graphics.</span></span> <span data-ttu-id="81071-188">En d’autres termes, pour animer une scène 3D, animez les propriétés de ses modèles.</span><span class="sxs-lookup"><span data-stu-id="81071-188">In other words, to animate a 3-D scene, animate the properties of its models.</span></span> <span data-ttu-id="81071-189">Il est possible d’animer directement des propriétés de primitives, mais il est généralement plus facile d’animer des transformations qui modifient la position ou l’apparence de modèles.</span><span class="sxs-lookup"><span data-stu-id="81071-189">It's possible to animate properties of primitives directly, but it's typically easier to animate transformations that change the position or appearance of models.</span></span> <span data-ttu-id="81071-190">Étant donné que les transformations peuvent être appliquées à des objets <xref:System.Windows.Media.Media3D.Model3DGroup> ainsi qu’à des modèles individuels, il est possible d’appliquer un ensemble d’animations aux enfants d’un Model3Dgroup et un autre ensemble d’animations à un groupe d’objets.</span><span class="sxs-lookup"><span data-stu-id="81071-190">Because transformations can be applied to <xref:System.Windows.Media.Media3D.Model3DGroup> objects as well as individual models, it's possible to apply one set of animations to the children of a Model3Dgroup and another set of animations to a group of objects.</span></span>  <span data-ttu-id="81071-191">Pour plus d’informations sur le minutage [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] et le système d’animation, consultez [Vue d'ensemble de l'animation](animation-overview.md) et [Vue d'ensemble des storyboards](storyboards-overview.md).</span><span class="sxs-lookup"><span data-stu-id="81071-191">For background information on the [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] timing and animation system, see [Animation Overview](animation-overview.md) and [Storyboards Overview](storyboards-overview.md).</span></span>  
  
 <span data-ttu-id="81071-192">Pour animer un objet dans [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)], créez une chronologie, définissez une animation (qui est en fait une modification de valeur de propriété dans le temps) et spécifiez la propriété à laquelle appliquer l’animation.</span><span class="sxs-lookup"><span data-stu-id="81071-192">To animate an object in [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)], create a timeline, define an animation (which is really a change in some property value over time), and specify the property to which to apply the animation.</span></span> <span data-ttu-id="81071-193">Cette propriété doit être une propriété d’un FrameworkElement.</span><span class="sxs-lookup"><span data-stu-id="81071-193">This property must be a property of a FrameworkElement.</span></span> <span data-ttu-id="81071-194">Étant donné que tous les objets dans une scène 3D sont des enfants de Viewport3D, les propriétés ciblées par une animation que vous souhaitez appliquer à la scène sont des propriétés de Viewport3D.</span><span class="sxs-lookup"><span data-stu-id="81071-194">Because all the objects in a 3-D scene are children of Viewport3D, the properties targeted by any animation you want to apply to the scene are properties of properties of Viewport3D.</span></span> <span data-ttu-id="81071-195">Il est important de déterminer le chemin d’accès de la propriété vers l’animation avec précaution, car la syntaxe peut être complexe.</span><span class="sxs-lookup"><span data-stu-id="81071-195">It's important to work out the property path for the animation carefully, because the syntax can be verbose.</span></span>  
  
 <span data-ttu-id="81071-196">Supposons que vous souhaitez faire pivoter un objet sur place, mais aussi appliquer un mouvement oscillant pour exposer une plus grande partie de l’objet à afficher.</span><span class="sxs-lookup"><span data-stu-id="81071-196">Suppose you want to rotate an object in place, but also to apply a swinging motion to expose more of the object to view.</span></span> <span data-ttu-id="81071-197">Vous pouvez choisir d’appliquer une RotateTransform3D.RotateTransform3D au modèle et animer son axe de rotation d’un vecteur à un autre.</span><span class="sxs-lookup"><span data-stu-id="81071-197">You might choose to apply a RotateTransform3D to the model, and animate the axis of its rotation from one vector to another.</span></span> <span data-ttu-id="81071-198">L’exemple de code suivant illustre l’application d’un <xref:System.Windows.Media.Animation.Vector3DAnimation> à la propriété Axis du Rotation3D de la transformation, en supposant que RotateTransform3D est l’une des diverses transformations appliquées au modèle avec un <xref:System.Windows.Media.TransformGroup>.</span><span class="sxs-lookup"><span data-stu-id="81071-198">The following code example demonstrates applying a <xref:System.Windows.Media.Animation.Vector3DAnimation> to the Axis property of the transformation's Rotation3D, assuming the RotateTransform3D to be one of several transforms applied to the model with a <xref:System.Windows.Media.TransformGroup>.</span></span>  
  
 [!code-csharp[3doverview#3DOverview3DN1](~/samples/snippets/csharp/VS_Snippets_Wpf/3DOverview/CSharp/Window1.xaml.cs#3doverview3dn1)]
 [!code-vb[3doverview#3DOverview3DN1](~/samples/snippets/visualbasic/VS_Snippets_Wpf/3DOverview/visualbasic/window1.xaml.vb#3doverview3dn1)]  
  
 [!code-csharp[3doverview#3DOverview3DN3](~/samples/snippets/csharp/VS_Snippets_Wpf/3DOverview/CSharp/Window1.xaml.cs#3doverview3dn3)]
 [!code-vb[3doverview#3DOverview3DN3](~/samples/snippets/visualbasic/VS_Snippets_Wpf/3DOverview/visualbasic/window1.xaml.vb#3doverview3dn3)]  
  
 <span data-ttu-id="81071-199">Utilisez une syntaxe similaire pour cibler d’autres propriétés de transformation pour déplacer ou redimensionner l’objet.</span><span class="sxs-lookup"><span data-stu-id="81071-199">Use a similar syntax to target other transformation properties to move or scale the object.</span></span>  <span data-ttu-id="81071-200">Par exemple, vous pouvez appliquer une <xref:System.Windows.Media.Animation.Point3DAnimation> à la propriété ScaleCenter sur une transformation d’échelle pour faire en sorte qu’un modèle déforme facilement sa forme.</span><span class="sxs-lookup"><span data-stu-id="81071-200">For example, you might apply a <xref:System.Windows.Media.Animation.Point3DAnimation> to the ScaleCenter property on a scale transform to cause a model to smoothly distort its shape.</span></span>  
  
 <span data-ttu-id="81071-201">Bien que les exemples précédents transforment les propriétés de <xref:System.Windows.Media.Media3D.GeometryModel3D>, il est également possible de transformer les propriétés d’autres modèles dans la scène.</span><span class="sxs-lookup"><span data-stu-id="81071-201">Although the preceding examples transform the properties of <xref:System.Windows.Media.Media3D.GeometryModel3D>, it’s also possible to transform the properties of other models in the scene.</span></span>  <span data-ttu-id="81071-202">En animant des translations appliquées aux objets Light, par exemple, vous pouvez créer des effets de lumière et d’ombre qui peuvent modifier considérablement l’apparence de vos modèles.</span><span class="sxs-lookup"><span data-stu-id="81071-202">By animating translations applied to Light objects, for example, you can create moving light and shadow effects that can dramatically change the appearance of your models.</span></span>  
  
 <span data-ttu-id="81071-203">Étant donné que les caméras sont également des modèles, il est aussi possible de transformer les propriétés de la caméra.</span><span class="sxs-lookup"><span data-stu-id="81071-203">Because cameras are also models, it’s possible to transform camera properties as well.</span></span>  <span data-ttu-id="81071-204">Même si vous pouvez tout à fait modifier l’apparence de la scène en transformant les distances sur le plan de la position de la caméra (en transformant ainsi la projection de scène entière), notez que beaucoup d’effets que vous obtenez de cette façon peuvent ne pas paraître aussi « visuellement cohérents » que les transformations appliquées à l’emplacement ou la position des modèles dans la scène.</span><span class="sxs-lookup"><span data-stu-id="81071-204">While you can certainly change the appearance of the scene by transforming the camera location or plane distances—in effect, transforming the entire scene projection—note that many of the effects you achieve this way may not make as much "visual sense" to the viewer as transformations applied to the location or position of the models in the scene.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="81071-205">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="81071-205">See also</span></span>

- [<span data-ttu-id="81071-206">Vue d’ensemble des graphiques 3D</span><span class="sxs-lookup"><span data-stu-id="81071-206">3-D Graphics Overview</span></span>](3-d-graphics-overview.md)
- [<span data-ttu-id="81071-207">Vue d'ensemble des transformations</span><span class="sxs-lookup"><span data-stu-id="81071-207">Transforms Overview</span></span>](transforms-overview.md)
- <span data-ttu-id="81071-208">[2-D Transforms Sample](https://github.com/Microsoft/WPF-Samples/tree/master/Graphics/2DTransforms) (Exemple de transformations 2D)</span><span class="sxs-lookup"><span data-stu-id="81071-208">[2-D Transforms Sample](https://github.com/Microsoft/WPF-Samples/tree/master/Graphics/2DTransforms)</span></span>
