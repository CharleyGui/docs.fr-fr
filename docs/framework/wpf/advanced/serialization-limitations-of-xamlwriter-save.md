---
title: Limitations de sérialisation de XamlWriter.Save
ms.date: 03/30/2017
helpviewer_keywords:
- XamlWriter.Save [WPF], serialization limitations of
- limitations of XamlWriter.Save
- serialization limitations of XamlWriter.Save
ms.assetid: f86acc91-2b67-4039-8555-505734491d36
ms.openlocfilehash: f743f3de505904854be8aab59e9d3ad14ee64581
ms.sourcegitcommit: 4d8efe00f2e5ab42e598aff298d13b8c052d9593
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 07/16/2019
ms.locfileid: "68238620"
---
# <a name="serialization-limitations-of-xamlwritersave"></a><span data-ttu-id="1210f-102">Limitations de sérialisation de XamlWriter.Save</span><span class="sxs-lookup"><span data-stu-id="1210f-102">Serialization Limitations of XamlWriter.Save</span></span>
<span data-ttu-id="1210f-103">L’API <xref:System.Windows.Markup.XamlWriter.Save%2A> peut être utilisé pour sérialiser le contenu d’un [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] application comme un [!INCLUDE[TLA#tla_xaml](../../../../includes/tlasharptla-xaml-md.md)] fichier.</span><span class="sxs-lookup"><span data-stu-id="1210f-103">The API <xref:System.Windows.Markup.XamlWriter.Save%2A> can be used to serialize the contents of a [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] application as a [!INCLUDE[TLA#tla_xaml](../../../../includes/tlasharptla-xaml-md.md)] file.</span></span> <span data-ttu-id="1210f-104">Toutefois, il existe quelques limitations importantes dans ce qui peut être sérialisé.</span><span class="sxs-lookup"><span data-stu-id="1210f-104">However, there are some notable limitations in exactly what is serialized.</span></span> <span data-ttu-id="1210f-105">Ces restrictions et certaines considérations d’ordre général sont abordées dans cette rubrique.</span><span class="sxs-lookup"><span data-stu-id="1210f-105">These limitations and some general considerations are documented in this topic.</span></span>  

<a name="Run_Time__Not_Design_Time_Representation"></a>   
## <a name="run-time-not-design-time-representation"></a><span data-ttu-id="1210f-106">Représentation au moment de l’exécution, et non du design</span><span class="sxs-lookup"><span data-stu-id="1210f-106">Run-Time, Not Design-Time Representation</span></span>  
 <span data-ttu-id="1210f-107">La philosophie de base de ce qui est sérialisé par un appel à <xref:System.Windows.Markup.XamlWriter.Save%2A> est que le résultat sera une représentation de l’objet sérialisé, au moment de l’exécution.</span><span class="sxs-lookup"><span data-stu-id="1210f-107">The basic philosophy of what is serialized by a call to <xref:System.Windows.Markup.XamlWriter.Save%2A> is that the result will be a representation of the object being serialized, at run-time.</span></span> <span data-ttu-id="1210f-108">Plusieurs propriétés au moment du design de l’original [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] fichier peut déjà être optimisé ou perdu au moment qui le [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] est chargé en tant qu’objets en mémoire et ne sont pas conservées lorsque vous appelez <xref:System.Windows.Markup.XamlWriter.Save%2A> à sérialiser.</span><span class="sxs-lookup"><span data-stu-id="1210f-108">Many design-time properties of the original [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] file may already be optimized or lost by the time that the [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] is loaded as in-memory objects, and are not preserved when you call <xref:System.Windows.Markup.XamlWriter.Save%2A> to serialize.</span></span> <span data-ttu-id="1210f-109">Le résultat sérialisé est une représentation effective de l’arborescence logique construite de l’application, mais pas nécessairement du [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] d’origine qui l’a produite.</span><span class="sxs-lookup"><span data-stu-id="1210f-109">The serialized result is an effective representation of the constructed logical tree of the application, but not necessarily of the original [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] that produced it.</span></span> <span data-ttu-id="1210f-110">Ces problèmes rendent extrêmement difficile à utiliser le <xref:System.Windows.Markup.XamlWriter.Save%2A> sérialisation dans le cadre d’une étendue [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] aire de conception.</span><span class="sxs-lookup"><span data-stu-id="1210f-110">These issues make it extremely difficult to use the <xref:System.Windows.Markup.XamlWriter.Save%2A> serialization as part of an extensive [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] design surface.</span></span>  
  
<a name="Serialization_is_Self_Contained"></a>   
## <a name="serialization-is-self-contained"></a><span data-ttu-id="1210f-111">La sérialisation est autonome</span><span class="sxs-lookup"><span data-stu-id="1210f-111">Serialization is Self-Contained</span></span>  
 <span data-ttu-id="1210f-112">Le résultat sérialisé de <xref:System.Windows.Markup.XamlWriter.Save%2A> est autonome ; tout ce qui est sérialisé est contenu à l’intérieur d’un [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] page unique, avec un seul élément racine et aucune autre référence externe que [!INCLUDE[TLA2#tla_uri#plural](../../../../includes/tla2sharptla-urisharpplural-md.md)].</span><span class="sxs-lookup"><span data-stu-id="1210f-112">The serialized output of <xref:System.Windows.Markup.XamlWriter.Save%2A> is self-contained; everything that is serialized is contained inside a [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] single page, with a single root element, and no external references other than [!INCLUDE[TLA2#tla_uri#plural](../../../../includes/tla2sharptla-urisharpplural-md.md)].</span></span> <span data-ttu-id="1210f-113">Par exemple, si votre page référence des ressources d’application, celles-ci apparaissent comme un composant de la page en cours de sérialisation.</span><span class="sxs-lookup"><span data-stu-id="1210f-113">For instance, if your page referenced resources from application resources, these will appear as if they were a component of the page being serialized.</span></span>  
  
<a name="Extension_References_are_Dereferenced"></a>   
## <a name="extension-references-are-dereferenced"></a><span data-ttu-id="1210f-114">Les références d’extension sont déréférencées</span><span class="sxs-lookup"><span data-stu-id="1210f-114">Extension References are Dereferenced</span></span>  
 <span data-ttu-id="1210f-115">Les références d’objets communes effectuées dans divers formats d’extension de balisage, tels que `StaticResource` ou `Binding`, seront déréférencées par le processus de sérialisation.</span><span class="sxs-lookup"><span data-stu-id="1210f-115">Common references to objects made by various markup extension formats, such as `StaticResource` or `Binding`, will be dereferenced by the serialization process.</span></span> <span data-ttu-id="1210f-116">Elles étaient déjà déréférencées au moment où les objets en mémoire ont été créés par le runtime de l’application, et le <xref:System.Windows.Markup.XamlWriter.Save%2A> logique ne revient pas sur la version d’origine [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] à restaurer de telles références dans la sortie sérialisée.</span><span class="sxs-lookup"><span data-stu-id="1210f-116">These were already dereferenced at the time that in-memory objects were created by the application runtime, and the <xref:System.Windows.Markup.XamlWriter.Save%2A> logic does not revisit the original [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] to restore such references to the serialized output.</span></span> <span data-ttu-id="1210f-117">Ceci peut forcer l’utilisation d’une valeur liée aux données ou obtenue par des ressources comme dernière valeur utilisée par la représentation au moment de l’exécution, avec seulement une possibilité limitée ou indirecte de distinguer cette valeur des autres valeurs définies localement.</span><span class="sxs-lookup"><span data-stu-id="1210f-117">This potentially freezes any databound or resource obtained value to be the value last used by the run-time representation, with only limited or indirect ability to distinguish such a value from any other value set locally.</span></span> <span data-ttu-id="1210f-118">Les images sont également sérialisées en tant que références d’objets en images telles qu’elles existent dans le projet, plutôt que comme des références sources d’origine, perdant ainsi le nom de fichier ou le [!INCLUDE[TLA2#tla_uri](../../../../includes/tla2sharptla-uri-md.md)] référencé à l’origine.</span><span class="sxs-lookup"><span data-stu-id="1210f-118">Images are also serialized as object references to images as they exist in the project, rather than as original source references, losing whatever filename or [!INCLUDE[TLA2#tla_uri](../../../../includes/tla2sharptla-uri-md.md)] was originally referenced.</span></span> <span data-ttu-id="1210f-119">Même les ressources déclarées au sein de la même page sont sérialisées à l’endroit où elles étaient référencées, au lieu d’être conservées en tant que clé d’une collection de ressources.</span><span class="sxs-lookup"><span data-stu-id="1210f-119">Even resources declared within the same page are seen serialized into the point where they were referenced, rather than being preserved as a key of a resource collection.</span></span>  
  
<a name="Event_Handling_is_Not_Preserved"></a>   
## <a name="event-handling-is-not-preserved"></a><span data-ttu-id="1210f-120">La gestion des événements n’est pas conservée</span><span class="sxs-lookup"><span data-stu-id="1210f-120">Event Handling is Not Preserved</span></span>  
 <span data-ttu-id="1210f-121">Lorsque les gestionnaires d’événements qui sont ajoutés via [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] sont sérialisés, ils ne sont pas conservés.</span><span class="sxs-lookup"><span data-stu-id="1210f-121">When event handlers that are added through [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] are serialized, they are not preserved.</span></span> [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] <span data-ttu-id="1210f-122">sans code-behind (et sans le mécanisme x:Code associé) n’a aucun moyen de sérialiser la logique procédurale du runtime.</span><span class="sxs-lookup"><span data-stu-id="1210f-122">without code-behind (and also without the related x:Code mechanism) has no way of serializing runtime procedural logic.</span></span> <span data-ttu-id="1210f-123">Étant donné que la sérialisation est autonome et limitée à l’arborescence logique, il n’existe aucun mécanisme permettant de stocker les gestionnaires d’événements.</span><span class="sxs-lookup"><span data-stu-id="1210f-123">Because serialization is self-contained and limited to the logical tree, there is no facility for storing the event handlers.</span></span> <span data-ttu-id="1210f-124">Par conséquent, les attributs de gestionnaire d’événements, l’attribut lui-même et la valeur de chaîne qui nomme le gestionnaire sont supprimés de la sortie [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)].</span><span class="sxs-lookup"><span data-stu-id="1210f-124">As a result, event handler attributes, both the attribute itself and the string value that names the handler, are removed from the output [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)].</span></span>  
  
<a name="Realistic_Scenarios_for_Use_of_XAMLWriter_Save"></a>   
## <a name="realistic-scenarios-for-use-of-xamlwritersave"></a><span data-ttu-id="1210f-125">Scénarios réalistes d’utilisation de XAMLWriter.Save</span><span class="sxs-lookup"><span data-stu-id="1210f-125">Realistic Scenarios for Use of XAMLWriter.Save</span></span>  
 <span data-ttu-id="1210f-126">Si les limitations énumérées ici sont importantes, il reste toutefois plusieurs scénarios appropriés pour l’utilisation de <xref:System.Windows.Markup.XamlWriter.Save%2A> pour la sérialisation.</span><span class="sxs-lookup"><span data-stu-id="1210f-126">While the limitations listed here are fairly substantial, there are still several appropriate scenarios for using <xref:System.Windows.Markup.XamlWriter.Save%2A> for serialization.</span></span>  
  
- <span data-ttu-id="1210f-127">Sortie vecteur ou graphique : La sortie de la zone de rendu peut être utilisée pour reproduire les mêmes vecteurs ou graphiques lors du rechargement.</span><span class="sxs-lookup"><span data-stu-id="1210f-127">Vector or graphical output: The output of the rendered area can be used to reproduce the same vector or graphics when reloaded.</span></span>  
  
- <span data-ttu-id="1210f-128">Documents texte et flux riches : Texte et tout élément mise en forme et élément relation contenant-contenu qu’il contient sont conservés dans la sortie.</span><span class="sxs-lookup"><span data-stu-id="1210f-128">Rich text and flow documents: Text and all element formatting and element containment within it is preserved in the output.</span></span> <span data-ttu-id="1210f-129">Ceci peut être utile pour les mécanismes qui se rapprochent de la fonctionnalité de Presse-papiers.</span><span class="sxs-lookup"><span data-stu-id="1210f-129">This can be useful for mechanisms that approximate a clipboard functionality.</span></span>  
  
- <span data-ttu-id="1210f-130">Conservation des données d’objet métier : Si vous avez stocké des données dans des éléments personnalisés, tels que [!INCLUDE[TLA2#tla_xml](../../../../includes/tla2sharptla-xml-md.md)] données, tant que vos objets métier suivent base [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] règles telles que la fourniture de constructeurs personnalisés et conversion pour les valeurs de propriété par référence, ces objets métier peuvent être conservés après la sérialisation.</span><span class="sxs-lookup"><span data-stu-id="1210f-130">Preserving business object data: If you have stored data in custom elements, such as [!INCLUDE[TLA2#tla_xml](../../../../includes/tla2sharptla-xml-md.md)] data, so long as your business objects follow basic [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] rules such as providing custom constructors and conversion for by-reference property values, these business objects can be perpetuated through serialization.</span></span>
