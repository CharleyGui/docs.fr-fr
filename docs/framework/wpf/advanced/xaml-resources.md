---
title: Ressources XAML
ms.date: 03/30/2017
helpviewer_keywords:
- reusing resources [WPF]
- resources [WPF], reusing
- reusing commonly defined objects [WPF]
- XAML [WPF], reusing resources
ms.assetid: 91580b89-a0a8-4889-aecb-fddf8e63175f
ms.openlocfilehash: f92519ca1f960961f95722bce5c8e1f3b4419292
ms.sourcegitcommit: 2701302a99cafbe0d86d53d540eb0fa7e9b46b36
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 04/28/2019
ms.locfileid: "64662198"
---
# <a name="xaml-resources"></a><span data-ttu-id="f075e-102">Ressources XAML</span><span class="sxs-lookup"><span data-stu-id="f075e-102">XAML Resources</span></span>
<span data-ttu-id="f075e-103">Une ressource est un objet pouvant être réutilisé à plusieurs endroits de votre application.</span><span class="sxs-lookup"><span data-stu-id="f075e-103">A resource is an object that can be reused in different places in your application.</span></span> <span data-ttu-id="f075e-104">Par exemple, les styles et les pinceaux sont des ressources.</span><span class="sxs-lookup"><span data-stu-id="f075e-104">Examples of resources include brushes and styles.</span></span> <span data-ttu-id="f075e-105">Cette vue d’ensemble décrit comment utiliser des ressources dans [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)].</span><span class="sxs-lookup"><span data-stu-id="f075e-105">This overview describes how to use resources in [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)].</span></span> <span data-ttu-id="f075e-106">Vous pouvez également créer et accéder aux ressources à l’aide de code, ou en utilisant indifféremment entre code et [!INCLUDE[TLA#tla_xaml](../../../../includes/tlasharptla-xaml-md.md)].</span><span class="sxs-lookup"><span data-stu-id="f075e-106">You can also create and access resources by using code, or interchangeably between code and [!INCLUDE[TLA#tla_xaml](../../../../includes/tlasharptla-xaml-md.md)].</span></span> <span data-ttu-id="f075e-107">Pour plus d’informations, consultez [ressources et Code](resources-and-code.md).</span><span class="sxs-lookup"><span data-stu-id="f075e-107">For more information, see [Resources and Code](resources-and-code.md).</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="f075e-108">Les fichiers de ressources décrits dans cette rubrique sont différents que les fichiers de ressources décrits dans [ressource d’Application WPF, de contenu et de fichiers de données](../app-development/wpf-application-resource-content-and-data-files.md) ainsi que les ressources incorporées ou liées décrites dans [gérer Ressources d’application (.NET)](/visualstudio/ide/managing-application-resources-dotnet).</span><span class="sxs-lookup"><span data-stu-id="f075e-108">The resource files described in this topic are different than the resource files described in [WPF Application Resource, Content, and Data Files](../app-development/wpf-application-resource-content-and-data-files.md) and different than the embedded or linked resources described in [Manage Application Resources (.NET)](/visualstudio/ide/managing-application-resources-dotnet).</span></span>  

<a name="usingresources"></a>   
## <a name="using-resources-in-xaml"></a><span data-ttu-id="f075e-109">Utilisation des ressources en XAML</span><span class="sxs-lookup"><span data-stu-id="f075e-109">Using Resources in XAML</span></span>  
 <span data-ttu-id="f075e-110">L’exemple suivant définit un <xref:System.Windows.Media.SolidColorBrush> en tant que ressource sur l’élément racine d’une page.</span><span class="sxs-lookup"><span data-stu-id="f075e-110">The following example defines a <xref:System.Windows.Media.SolidColorBrush> as a resource on the root element of a page.</span></span> <span data-ttu-id="f075e-111">L’exemple fait référence à la ressource, puis l’utilise pour définir les propriétés de plusieurs éléments enfants, y compris un <xref:System.Windows.Shapes.Ellipse>, un <xref:System.Windows.Controls.TextBlock>et un <xref:System.Windows.Controls.Button>.</span><span class="sxs-lookup"><span data-stu-id="f075e-111">The example then references the resource and uses it to set properties of several child elements, including an <xref:System.Windows.Shapes.Ellipse>, a <xref:System.Windows.Controls.TextBlock>, and a <xref:System.Windows.Controls.Button>.</span></span>  
  
 [!code-xaml[FEResourceSH_snip#XAML](~/samples/snippets/csharp/VS_Snippets_Wpf/FEResourceSH_snip/CS/page1.xaml#xaml)]  
  
 <span data-ttu-id="f075e-112">Chaque élément de niveau infrastructure (<xref:System.Windows.FrameworkElement> ou <xref:System.Windows.FrameworkContentElement>) a un <xref:System.Windows.FrameworkElement.Resources%2A> propriété, qui est la propriété qui contient les ressources (comme un <xref:System.Windows.ResourceDictionary>) qui définit une ressource.</span><span class="sxs-lookup"><span data-stu-id="f075e-112">Every framework-level element (<xref:System.Windows.FrameworkElement> or <xref:System.Windows.FrameworkContentElement>) has a <xref:System.Windows.FrameworkElement.Resources%2A> property, which is the property that contains the resources (as a <xref:System.Windows.ResourceDictionary>) that a resource defines.</span></span> <span data-ttu-id="f075e-113">Vous pouvez définir les ressources sur n’importe quel élément.</span><span class="sxs-lookup"><span data-stu-id="f075e-113">You can define resources on any element.</span></span> <span data-ttu-id="f075e-114">Toutefois, les ressources sont souvent définies sur l’élément racine, qui est <xref:System.Windows.Controls.Page> dans l’exemple.</span><span class="sxs-lookup"><span data-stu-id="f075e-114">However, resources are most often defined on the root element, which is <xref:System.Windows.Controls.Page> in the example.</span></span>  
  
 <span data-ttu-id="f075e-115">Chaque ressource d’un dictionnaire de ressources doit avoir une clé unique.</span><span class="sxs-lookup"><span data-stu-id="f075e-115">Each resource in a resource dictionary must have a unique key.</span></span> <span data-ttu-id="f075e-116">Lorsque vous définissez des ressources dans le balisage, vous affectez la clé unique via le [Directive x : Key](../../xaml-services/x-key-directive.md).</span><span class="sxs-lookup"><span data-stu-id="f075e-116">When you define resources in markup, you assign the unique key through the [x:Key Directive](../../xaml-services/x-key-directive.md).</span></span> <span data-ttu-id="f075e-117">Cette clé est généralement une chaîne, mais vous pouvez aussi la définir en tant qu’autres types d’objets en utilisant les extensions de balisage appropriées.</span><span class="sxs-lookup"><span data-stu-id="f075e-117">Typically, the key is a string; however, you can also set it to other object types by using the appropriate markup extensions.</span></span> <span data-ttu-id="f075e-118">Les clés pour les ressources sont utilisées par certaines fonctionnalités dans [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], notamment les styles, les ressources de composant et style des données.</span><span class="sxs-lookup"><span data-stu-id="f075e-118">Nonstring keys for resources are used by certain feature areas in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], notably for styles, component resources, and data styling.</span></span>  
  
 <span data-ttu-id="f075e-119">Après avoir défini une ressource, vous pouvez faire référence à cette ressource que vous utilisez pour une valeur de propriété au moyen d’une syntaxe d’extension de balisage de ressource qui spécifie le nom de clé, par exemple :</span><span class="sxs-lookup"><span data-stu-id="f075e-119">After you define a resource, you can reference the resource to be used for a property value by using a resource markup extension syntax that specifies the key name, for example:</span></span>  
  
 [!code-xaml[FEResourceSH_snip#KeyNameUsage](~/samples/snippets/csharp/VS_Snippets_Wpf/FEResourceSH_snip/CS/page2.xaml#keynameusage)]  
  
 <span data-ttu-id="f075e-120">Dans l’exemple précédent, lorsque le [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] chargeur traite la valeur `{StaticResource MyBrush}` pour le <xref:System.Windows.Controls.Control.Background%2A> propriété sur <xref:System.Windows.Controls.Button>, la logique de recherche de ressources vérifie d’abord le dictionnaire de ressources pour le <xref:System.Windows.Controls.Button> élément.</span><span class="sxs-lookup"><span data-stu-id="f075e-120">In the preceding example, when the [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] loader processes the value `{StaticResource MyBrush}` for the <xref:System.Windows.Controls.Control.Background%2A> property on <xref:System.Windows.Controls.Button>, the resource lookup logic first checks the resource dictionary for the <xref:System.Windows.Controls.Button> element.</span></span> <span data-ttu-id="f075e-121">Si <xref:System.Windows.Controls.Button> n’a pas de définition de la clé de ressource `MyBrush` (il n’est pas le cas ; sa collection de ressources est vide), la recherche vérifie alors l’élément parent de <xref:System.Windows.Controls.Button>, c'est-à-dire <xref:System.Windows.Controls.Page>.</span><span class="sxs-lookup"><span data-stu-id="f075e-121">If <xref:System.Windows.Controls.Button> does not have a definition of the resource key `MyBrush` (it does not; its resource collection is empty), the lookup next checks the parent element of <xref:System.Windows.Controls.Button>, which is <xref:System.Windows.Controls.Page>.</span></span> <span data-ttu-id="f075e-122">Par conséquent, lorsque vous définissez une ressource sur le <xref:System.Windows.Controls.Page> élément racine, tous les éléments dans l’arborescence logique de la <xref:System.Windows.Controls.Page> peuvent y accéder, et vous pouvez réutiliser la même ressource pour définir la valeur de n’importe quelle propriété qui accepte le <xref:System.Type> que la ressource représente.</span><span class="sxs-lookup"><span data-stu-id="f075e-122">Thus, when you define a resource on the <xref:System.Windows.Controls.Page> root element, all the elements in the logical tree of the <xref:System.Windows.Controls.Page> can access it, and you can reuse the same resource for setting the value of any property that accepts the <xref:System.Type> that the resource represents.</span></span> <span data-ttu-id="f075e-123">Dans l’exemple précédent, le même `MyBrush` ressource définit deux propriétés différentes : la <xref:System.Windows.Controls.Control.Background%2A> d’un <xref:System.Windows.Controls.Button>et le <xref:System.Windows.Shapes.Shape.Fill%2A> d’un <xref:System.Windows.Shapes.Rectangle>.</span><span class="sxs-lookup"><span data-stu-id="f075e-123">In the previous example, the same `MyBrush` resource sets two different properties: the <xref:System.Windows.Controls.Control.Background%2A> of a <xref:System.Windows.Controls.Button>, and the <xref:System.Windows.Shapes.Shape.Fill%2A> of a <xref:System.Windows.Shapes.Rectangle>.</span></span>  
  
<a name="staticdynamic"></a>   
## <a name="static-and-dynamic-resources"></a><span data-ttu-id="f075e-124">Ressources statiques et dynamiques</span><span class="sxs-lookup"><span data-stu-id="f075e-124">Static and Dynamic Resources</span></span>  
 <span data-ttu-id="f075e-125">Une ressource peut être référencée comme ressource statique ou comme ressource dynamique.</span><span class="sxs-lookup"><span data-stu-id="f075e-125">A resource can be referenced as either a static resource or a dynamic resource.</span></span> <span data-ttu-id="f075e-126">Cela à l’aide du [Extension de balisage StaticResource](staticresource-markup-extension.md) ou [Extension de balisage DynamicResource](dynamicresource-markup-extension.md).</span><span class="sxs-lookup"><span data-stu-id="f075e-126">This is done by using either the [StaticResource Markup Extension](staticresource-markup-extension.md) or the [DynamicResource Markup Extension](dynamicresource-markup-extension.md).</span></span> <span data-ttu-id="f075e-127">Une extension de balisage est une fonctionnalité de [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] qui permet de spécifier une référence d’objet en ayant l’extension de balisage traite la chaîne d’attribut et retourne l’objet à un [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] chargeur.</span><span class="sxs-lookup"><span data-stu-id="f075e-127">A markup extension is a feature of [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] whereby you can specify an object reference by having the markup extension process the attribute string and return the object to a [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] loader.</span></span> <span data-ttu-id="f075e-128">Pour plus d’informations sur le comportement des extensions de balisage, consultez [Extensions de balisage et WPF XAML](markup-extensions-and-wpf-xaml.md).</span><span class="sxs-lookup"><span data-stu-id="f075e-128">For more information about markup extension behavior, see [Markup Extensions and WPF XAML](markup-extensions-and-wpf-xaml.md).</span></span>  
  
 <span data-ttu-id="f075e-129">Quand vous utilisez une extension de balisage, vous fournissez généralement un ou plusieurs paramètres sous forme de chaînes, qui sont traités par cette même extension de balisage plutôt qu’évalués dans le contexte de la définition de la propriété.</span><span class="sxs-lookup"><span data-stu-id="f075e-129">When you use a markup extension, you typically provide one or more parameters in string form that are processed by that particular markup extension, rather than being evaluated in the context of the property being set.</span></span> <span data-ttu-id="f075e-130">Le [Extension de balisage StaticResource](staticresource-markup-extension.md) traite une clé en recherchant la valeur de cette clé dans tous les dictionnaires de ressources disponibles.</span><span class="sxs-lookup"><span data-stu-id="f075e-130">The [StaticResource Markup Extension](staticresource-markup-extension.md) processes a key by looking up the value for that key in all available resource dictionaries.</span></span> <span data-ttu-id="f075e-131">Cette opération s’effectue pendant le chargement, qui correspond au moment où le processus de chargement doit affecter la valeur de propriété qui prend la référence de ressource statique.</span><span class="sxs-lookup"><span data-stu-id="f075e-131">This happens during loading, which is the point in time when the loading process needs to assign the property value that takes the static resource reference.</span></span> <span data-ttu-id="f075e-132">Le [Extension de balisage DynamicResource](dynamicresource-markup-extension.md) à la place des processus une clé en créant une expression et cette expression reste sans évaluation jusqu'à ce que l’application soit effectivement exécutée, moment auquel l’expression est évaluée et fournit une valeur.</span><span class="sxs-lookup"><span data-stu-id="f075e-132">The [DynamicResource Markup Extension](dynamicresource-markup-extension.md) instead processes a key by creating an expression, and that expression remains unevaluated until the application is actually run, at which time the expression is evaluated and provides a value.</span></span>  
  
 <span data-ttu-id="f075e-133">Quand vous faites référence à une ressource, les points suivants peuvent influer sur votre choix d’utiliser une référence de ressource statique ou à une ressource dynamique :</span><span class="sxs-lookup"><span data-stu-id="f075e-133">When you reference a resource, the following considerations can influence whether you use a static resource reference or a dynamic resource reference:</span></span>  
  
- <span data-ttu-id="f075e-134">La conception globale de la façon dont vous créez les ressources pour votre application (par page, dans l’application, en libre [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)], dans un assembly de ressources uniquement).</span><span class="sxs-lookup"><span data-stu-id="f075e-134">The overall design of how you create the resources for your application (per page, in the application, in loose [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)], in a resource only assembly).</span></span>  
  
- <span data-ttu-id="f075e-135">La fonctionnalité de l’application : la mise à jour des ressources en temps réel est-elle obligatoire dans votre application ?</span><span class="sxs-lookup"><span data-stu-id="f075e-135">The application functionality: is updating resources in real time part of your application requirements?</span></span>  
  
- <span data-ttu-id="f075e-136">Le comportement de recherche respectif de ce type de référence de ressource.</span><span class="sxs-lookup"><span data-stu-id="f075e-136">The respective lookup behavior of that resource reference type.</span></span>  
  
- <span data-ttu-id="f075e-137">Le type de ressource ou de propriété spécifique et le comportement natif de ces types.</span><span class="sxs-lookup"><span data-stu-id="f075e-137">The particular property or resource type, and the native behavior of those types.</span></span>  
  
### <a name="static-resources"></a><span data-ttu-id="f075e-138">Ressources statiques</span><span class="sxs-lookup"><span data-stu-id="f075e-138">Static Resources</span></span>  
 <span data-ttu-id="f075e-139">Les références de ressources statiques conviennent parfaitement dans les conditions suivantes :</span><span class="sxs-lookup"><span data-stu-id="f075e-139">Static resource references work best for the following circumstances:</span></span>  
  
- <span data-ttu-id="f075e-140">La conception de votre application concentre la plupart de ses ressources dans des dictionnaires de ressources de niveau page ou application.</span><span class="sxs-lookup"><span data-stu-id="f075e-140">Your application design concentrates most of all of its resources into page or application level resource dictionaries.</span></span> <span data-ttu-id="f075e-141">Les références de ressources statiques ne sont pas réévaluées en fonction des comportements d’exécution (tels que le rechargement d’une page) et donc de meilleures performances peuvent être obtenues puisque de grandes quantités de références de ressources dynamiques sont évitées quand elles ne sont pas nécessaires à la conception de votre application ou de vos ressources.</span><span class="sxs-lookup"><span data-stu-id="f075e-141">Static resource references are not reevaluated based on runtime behaviors such as reloading a page, and therefore there can be some performance benefit to avoiding large numbers of dynamic resource references when they are not necessary per your resource and application design.</span></span>  
  
- <span data-ttu-id="f075e-142">Vous définissez la valeur d’une propriété qui n’est pas suite un <xref:System.Windows.DependencyObject> ou un <xref:System.Windows.Freezable>.</span><span class="sxs-lookup"><span data-stu-id="f075e-142">You are setting the value of a property that is not on a <xref:System.Windows.DependencyObject> or a <xref:System.Windows.Freezable>.</span></span>  
  
- <span data-ttu-id="f075e-143">Vous créez un dictionnaire de ressources qui va être compilé dans une DLL et mis dans un package faisant partie de l’application, ou partagé entre plusieurs applications.</span><span class="sxs-lookup"><span data-stu-id="f075e-143">You are creating a resource dictionary that will be compiled into a DLL, and packaged as part of the application or shared between applications.</span></span>  
  
- <span data-ttu-id="f075e-144">Vous créez un thème pour un contrôle personnalisé, puis définissez les ressources qui sont utilisées dans les thèmes.</span><span class="sxs-lookup"><span data-stu-id="f075e-144">You are creating a theme for a custom control, and are defining resources that are used within the themes.</span></span> <span data-ttu-id="f075e-145">Dans ce cas, vous ne souhaitez généralement pas obtenir le comportement recherchant des références de ressources dynamiques, mais plutôt celui qui recherche des références de ressources statiques, afin que cette recherche soit prévisible et autonome dans le thème.</span><span class="sxs-lookup"><span data-stu-id="f075e-145">For this case, you typically do not want the dynamic resource reference lookup behavior, you instead want the static resource reference behavior so that the lookup is predictable and self-contained to the theme.</span></span> <span data-ttu-id="f075e-146">Avec une référence de ressource dynamique, même une référence dans un thème est laissée sans évaluation jusqu’à l’exécution. Au moment de l’application d’un thème, un élément local risque de redéfinir une clé que votre thème essaie de référencer, si bien que l’élément local tombe avant le thème lui-même dans la recherche.</span><span class="sxs-lookup"><span data-stu-id="f075e-146">With a dynamic resource reference, even a reference within a theme is left unevaluated until runtime, and there is a chance that when the theme is applied, some local element will redefine a key that your theme is trying to reference, and the local element will fall prior to the theme itself in the lookup.</span></span> <span data-ttu-id="f075e-147">Si cela se produit, votre thème ne se comporte pas comme prévu.</span><span class="sxs-lookup"><span data-stu-id="f075e-147">If that happens, your theme will not behave in an expected manner.</span></span>  
  
- <span data-ttu-id="f075e-148">Vous utilisez des ressources pour définir un grand nombre de propriétés de dépendance.</span><span class="sxs-lookup"><span data-stu-id="f075e-148">You are using resources to set large numbers of dependency properties.</span></span> <span data-ttu-id="f075e-149">Les propriétés de dépendance disposent d’une mise en cache de la valeur réelle, comme le permet le système de propriétés. Par conséquent, si vous fournissez une valeur pour une propriété de dépendance qui peut être évaluée au moment du chargement, cette propriété de dépendance n’a pas à rechercher une expression réévaluée et peut retourner la dernière valeur effective.</span><span class="sxs-lookup"><span data-stu-id="f075e-149">Dependency properties have effective value caching as enabled by the property system, so if you provide a value for a dependency property that can be evaluated at load time, the dependency property does not have to check for a reevaluated expression and can return the last effective value.</span></span> <span data-ttu-id="f075e-150">Cette technique peut s’avérer un gain de performances.</span><span class="sxs-lookup"><span data-stu-id="f075e-150">This technique can be a performance benefit.</span></span>  
  
- <span data-ttu-id="f075e-151">Vous souhaitez modifier la ressource sous-jacente pour tous les consommateurs ou vous souhaitez maintenir des instances accessibles en écriture distinctes pour chaque consommateur à l’aide de la [x : Shared Attribute](../../xaml-services/x-shared-attribute.md).</span><span class="sxs-lookup"><span data-stu-id="f075e-151">You want to change the underlying resource for all consumers, or you want to maintain separate writable instances for each consumer by using the [x:Shared Attribute](../../xaml-services/x-shared-attribute.md).</span></span>  
  
#### <a name="static-resource-lookup-behavior"></a><span data-ttu-id="f075e-152">Comportement de la recherche de ressources statiques</span><span class="sxs-lookup"><span data-stu-id="f075e-152">Static resource lookup behavior</span></span>  
  
1. <span data-ttu-id="f075e-153">Le processus de recherche recherche la clé demandée dans le dictionnaire de ressources qui est spécifié par l’élément définissant la propriété.</span><span class="sxs-lookup"><span data-stu-id="f075e-153">The lookup process checks for the requested key within the resource dictionary defined by the element that sets the property.</span></span>  
  
2. <span data-ttu-id="f075e-154">Il remonte ensuite dans l’arborescence logique jusqu’à l’élément parent et son dictionnaire de ressources.</span><span class="sxs-lookup"><span data-stu-id="f075e-154">The lookup process then traverses the logical tree upward, to the parent element and its resource dictionary.</span></span> <span data-ttu-id="f075e-155">Ce processus se poursuit jusqu’à ce que l’élément racine soit atteint.</span><span class="sxs-lookup"><span data-stu-id="f075e-155">This continues until the root element is reached.</span></span>  
  
3. <span data-ttu-id="f075e-156">Ensuite, les ressources de l’application sont recherchées.</span><span class="sxs-lookup"><span data-stu-id="f075e-156">Next, application resources are checked.</span></span> <span data-ttu-id="f075e-157">Ressources d’application sont les ressources dans le dictionnaire de ressources défini par le <xref:System.Windows.Application> de l’objet pour votre [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] application.</span><span class="sxs-lookup"><span data-stu-id="f075e-157">Application resources are those resources within the resource dictionary that is defined by the <xref:System.Windows.Application> object for your [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] application.</span></span>  
  
 <span data-ttu-id="f075e-158">Les références de ressources statiques issues d’un dictionnaire de ressources doivent référencer une ressource qui a déjà été définie sur le plan lexical avant la référence de ressource.</span><span class="sxs-lookup"><span data-stu-id="f075e-158">Static resource references from within a resource dictionary must reference a resource that has already been defined lexically before the resource reference.</span></span> <span data-ttu-id="f075e-159">Les références anticipées ne peuvent pas être résolues par une référence de ressource statique.</span><span class="sxs-lookup"><span data-stu-id="f075e-159">Forward references cannot be resolved by a static resource reference.</span></span> <span data-ttu-id="f075e-160">Ainsi, si vous utilisez des références de ressources statiques, vous devez concevoir votre structure de dictionnaires de ressources de telle sorte que les ressources destinées à une utilisation par ressource soient définies au début ou près du début de chaque dictionnaire de ressources respectif.</span><span class="sxs-lookup"><span data-stu-id="f075e-160">For this reason, if you use static resource references, you must design your resource dictionary structure such that resources intended for by-resource use are defined at or near the beginning of each respective resource dictionary.</span></span>  
  
 <span data-ttu-id="f075e-161">Recherche de ressources statiques peut s’étendre aux thèmes, ou dans les ressources système, mais cela est pris en charge uniquement parce que le [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] chargeur diffère de la requête.</span><span class="sxs-lookup"><span data-stu-id="f075e-161">Static resource lookup can extend into themes, or into system resources, but this is supported only because the [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] loader defers the request.</span></span> <span data-ttu-id="f075e-162">Le report est nécessaire pour que le thème d’exécution lors du chargement de la page s’applique correctement à l’application.</span><span class="sxs-lookup"><span data-stu-id="f075e-162">The deferral is necessary so that the runtime theme at the time the page loads applies properly to the application.</span></span> <span data-ttu-id="f075e-163">Toutefois, les références de ressources statiques aux clés, connues pour exister seulement dans les thèmes ou en tant que ressources système, ne sont pas recommandées.</span><span class="sxs-lookup"><span data-stu-id="f075e-163">However, static resource references to keys that are known to only exist in themes or as system resources are not recommended.</span></span> <span data-ttu-id="f075e-164">La raison en est que de telles références ne sont pas réévaluées si l’utilisateur change le thème en temps réel.</span><span class="sxs-lookup"><span data-stu-id="f075e-164">This is because such references are not reevaluated if the theme is changed by the user in realtime.</span></span> <span data-ttu-id="f075e-165">Une référence de ressource dynamique est plus fiable quand vous demandez des ressources de système ou de thème.</span><span class="sxs-lookup"><span data-stu-id="f075e-165">A dynamic resource reference is more reliable when you request theme or system resources.</span></span> <span data-ttu-id="f075e-166">L’exception se présente lorsqu’un élément de thème lui-même demande une autre ressource.</span><span class="sxs-lookup"><span data-stu-id="f075e-166">The exception is when a theme element itself requests another resource.</span></span> <span data-ttu-id="f075e-167">Ces références doivent être des références de ressources statiques pour les raisons mentionnées précédemment.</span><span class="sxs-lookup"><span data-stu-id="f075e-167">These references should be static resource references, for the reasons mentioned earlier.</span></span>  
  
 <span data-ttu-id="f075e-168">Le comportement d’exception, en cas de référence de ressource statique introuvable, varie.</span><span class="sxs-lookup"><span data-stu-id="f075e-168">The exception behavior if a static resource reference is not found varies.</span></span> <span data-ttu-id="f075e-169">Si la ressource a été différée, l’exception se produit lors de l’exécution.</span><span class="sxs-lookup"><span data-stu-id="f075e-169">If the resource was deferred, then the exception occurs at runtime.</span></span> <span data-ttu-id="f075e-170">Si la ressource n’a pas été différée, l’exception se produit au moment du chargement.</span><span class="sxs-lookup"><span data-stu-id="f075e-170">If the resource was not deferred, the exception occurs at load time.</span></span>  
  
### <a name="dynamic-resources"></a><span data-ttu-id="f075e-171">Ressources dynamiques</span><span class="sxs-lookup"><span data-stu-id="f075e-171">Dynamic Resources</span></span>  
 <span data-ttu-id="f075e-172">Les ressources dynamiques fonctionnent parfaitement dans les circonstances suivantes :</span><span class="sxs-lookup"><span data-stu-id="f075e-172">Dynamic resources work best for the following circumstances:</span></span>  
  
- <span data-ttu-id="f075e-173">La valeur de la ressource dépend de conditions qui ne sont pas connues avant l’exécution</span><span class="sxs-lookup"><span data-stu-id="f075e-173">The value of the resource depends on conditions that are not known until runtime.</span></span> <span data-ttu-id="f075e-174">comme les ressources du système ou des ressources qui sont paramétrables par l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="f075e-174">This includes system resources, or resources that are otherwise user settable.</span></span> <span data-ttu-id="f075e-175">Par exemple, vous pouvez créer des valeurs setter qui font référence aux propriétés du système, comme exposé par <xref:System.Windows.SystemColors>, <xref:System.Windows.SystemFonts>, ou <xref:System.Windows.SystemParameters>.</span><span class="sxs-lookup"><span data-stu-id="f075e-175">For example, you can create setter values that refer to system properties, as exposed by <xref:System.Windows.SystemColors>, <xref:System.Windows.SystemFonts>, or <xref:System.Windows.SystemParameters>.</span></span> <span data-ttu-id="f075e-176">Ces valeurs sont véritablement dynamiques, car elles proviennent de l’environnement d’exécution de l’utilisateur et du système d’exploitation.</span><span class="sxs-lookup"><span data-stu-id="f075e-176">These values are truly dynamic because they ultimately come from the runtime environment of the user and operating system.</span></span> <span data-ttu-id="f075e-177">Vous pouvez également avoir des thèmes de niveau application qui peuvent changer, où l’accès aux ressources de niveau page doit également capturer le changement.</span><span class="sxs-lookup"><span data-stu-id="f075e-177">You might also have application-level themes that can change, where page-level resource access must also capture the change.</span></span>  
  
- <span data-ttu-id="f075e-178">Vous créez ou référencez des styles de thème pour un contrôle personnalisé.</span><span class="sxs-lookup"><span data-stu-id="f075e-178">You are creating or referencing theme styles for a custom control.</span></span>  
  
- <span data-ttu-id="f075e-179">Vous envisagez d’ajuster le contenu d’un <xref:System.Windows.ResourceDictionary> pendant une durée de vie d’application.</span><span class="sxs-lookup"><span data-stu-id="f075e-179">You intend to adjust the contents of a <xref:System.Windows.ResourceDictionary> during an application lifetime.</span></span>  
  
- <span data-ttu-id="f075e-180">Vous avez une structure de ressources complexe avec des interdépendances, où une référence anticipée peut être nécessaire.</span><span class="sxs-lookup"><span data-stu-id="f075e-180">You have a complicated resource structure that has interdependencies, where a forward reference may be required.</span></span> <span data-ttu-id="f075e-181">Références de ressources statiques ne prennent pas en charge les références anticipées, mais les références de ressources dynamiques prennent en charge les car la ressource n’a pas besoin d’être évaluée avant l’exécution et les références anticipées ne sont donc pas un concept pertinent.</span><span class="sxs-lookup"><span data-stu-id="f075e-181">Static resource references do not support forward references, but dynamic resource references do support them because the resource does not need to be evaluated until runtime, and forward references are therefore not a relevant concept.</span></span>  
  
- <span data-ttu-id="f075e-182">Vous référencez une ressource particulièrement grande pour une compilation ou une plage de travail et vous ne pouvez pas l’utiliser immédiatement lorsque la page se charge.</span><span class="sxs-lookup"><span data-stu-id="f075e-182">You are referencing a resource that is particularly large from the perspective of a compile or working set, and the resource might not be used immediately when the page loads.</span></span> <span data-ttu-id="f075e-183">Références de ressources statiques se chargent toujours à partir de [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] lorsque la page se charge ; Toutefois, une référence de ressource dynamique ne se charge pas jusqu'à ce qu’il est réellement utilisé.</span><span class="sxs-lookup"><span data-stu-id="f075e-183">Static resource references always load from [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] when the page loads; however, a dynamic resource reference does not load until it is actually used.</span></span>  
  
- <span data-ttu-id="f075e-184">Vous créez un style où les valeurs setter peuvent provenir d’autres valeurs qui sont influencées par des thèmes ou d’autres paramètres utilisateur.</span><span class="sxs-lookup"><span data-stu-id="f075e-184">You are creating a style where setter values might come from other values that are influenced by themes or other user settings.</span></span>  
  
- <span data-ttu-id="f075e-185">Vous appliquez des ressources à des éléments susceptibles d’être réapparentés dans l’arborescence logique pendant la durée de vie d’une application.</span><span class="sxs-lookup"><span data-stu-id="f075e-185">You are applying resources to elements that might be reparented in the logical tree during application lifetime.</span></span> <span data-ttu-id="f075e-186">Le changement de parent peut aussi changer l’étendue de la recherche de ressources, donc si vous souhaitez que la ressource d’un élément réapparenté soit réévaluée en fonction de la nouvelle étendue, utilisez toujours une référence de ressource dynamique.</span><span class="sxs-lookup"><span data-stu-id="f075e-186">Changing the parent also potentially changes the resource lookup scope, so if you want the resource for a reparented element to be reevaluated based on the new scope, always use a dynamic resource reference.</span></span>  
  
#### <a name="dynamic-resource-lookup-behavior"></a><span data-ttu-id="f075e-187">Comportement de la recherche de ressources dynamiques</span><span class="sxs-lookup"><span data-stu-id="f075e-187">Dynamic resource lookup behavior</span></span>  
 <span data-ttu-id="f075e-188">Comportement de recherche pour une référence de ressource dynamique correspond au comportement de recherche dans votre code si vous appelez <xref:System.Windows.FrameworkElement.FindResource%2A> ou <xref:System.Windows.FrameworkElement.SetResourceReference%2A>.</span><span class="sxs-lookup"><span data-stu-id="f075e-188">Resource lookup behavior for a dynamic resource reference parallels the lookup behavior in your code if you call <xref:System.Windows.FrameworkElement.FindResource%2A> or <xref:System.Windows.FrameworkElement.SetResourceReference%2A>.</span></span>  
  
1. <span data-ttu-id="f075e-189">Le processus de recherche recherche la clé demandée dans le dictionnaire de ressources qui est spécifié par l’élément définissant la propriété.</span><span class="sxs-lookup"><span data-stu-id="f075e-189">The lookup process checks for the requested key within the resource dictionary defined by the element that sets the property.</span></span>  
  
    - <span data-ttu-id="f075e-190">Si l’élément définit un <xref:System.Windows.FrameworkElement.Style%2A> propriété, le <xref:System.Windows.Style.Resources%2A> dictionnaire dans le <xref:System.Windows.Style> est activée.</span><span class="sxs-lookup"><span data-stu-id="f075e-190">If the element defines a <xref:System.Windows.FrameworkElement.Style%2A> property, the <xref:System.Windows.Style.Resources%2A> dictionary within the <xref:System.Windows.Style> is checked.</span></span>  
  
    - <span data-ttu-id="f075e-191">Si l’élément définit un <xref:System.Windows.Controls.Control.Template%2A> propriété, le <xref:System.Windows.FrameworkTemplate.Resources%2A> dictionnaire dans le <xref:System.Windows.FrameworkTemplate> est activée.</span><span class="sxs-lookup"><span data-stu-id="f075e-191">If the element defines a <xref:System.Windows.Controls.Control.Template%2A> property, the <xref:System.Windows.FrameworkTemplate.Resources%2A> dictionary within the <xref:System.Windows.FrameworkTemplate> is checked.</span></span>  
  
2. <span data-ttu-id="f075e-192">Le processus de recherche remonte ensuite dans l’arborescence logique jusqu’à l’élément parent et son dictionnaire de ressources.</span><span class="sxs-lookup"><span data-stu-id="f075e-192">The lookup process then traverses the logical tree upward, to the parent element and its resource dictionary.</span></span> <span data-ttu-id="f075e-193">Ce processus se poursuit jusqu’à ce que l’élément racine soit atteint.</span><span class="sxs-lookup"><span data-stu-id="f075e-193">This continues until the root element is reached.</span></span>  
  
3. <span data-ttu-id="f075e-194">Ensuite, les ressources de l’application sont recherchées.</span><span class="sxs-lookup"><span data-stu-id="f075e-194">Next, application resources are checked.</span></span> <span data-ttu-id="f075e-195">Ressources d’application sont les ressources dans le dictionnaire de ressources défini par le <xref:System.Windows.Application> de l’objet pour votre [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] application.</span><span class="sxs-lookup"><span data-stu-id="f075e-195">Application resources are those resources within the resource dictionary that is defined by the <xref:System.Windows.Application> object for your [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] application.</span></span>  
  
4. <span data-ttu-id="f075e-196">Le thème actif est recherché dans le dictionnaire de ressources de thèmes.</span><span class="sxs-lookup"><span data-stu-id="f075e-196">Theme resource dictionary is checked, for the currently active theme.</span></span> <span data-ttu-id="f075e-197">Si le thème change au moment de l’exécution, la valeur est réévaluée.</span><span class="sxs-lookup"><span data-stu-id="f075e-197">If the theme changes at runtime, the value is reevaluated.</span></span>  
  
5. <span data-ttu-id="f075e-198">Les ressources du système sont recherchées.</span><span class="sxs-lookup"><span data-stu-id="f075e-198">System resources are checked.</span></span>  
  
 <span data-ttu-id="f075e-199">Le comportement d’exception (le cas échéant) varie :</span><span class="sxs-lookup"><span data-stu-id="f075e-199">Exception behavior (if any) varies:</span></span>  
  
- <span data-ttu-id="f075e-200">Si une ressource a été demandée par un <xref:System.Windows.FrameworkElement.FindResource%2A> appeler et est introuvable, une exception est levée.</span><span class="sxs-lookup"><span data-stu-id="f075e-200">If a resource was requested by a <xref:System.Windows.FrameworkElement.FindResource%2A> call, and was not found, an exception is raised.</span></span>  
  
- <span data-ttu-id="f075e-201">Si une ressource a été demandée par un <xref:System.Windows.FrameworkElement.TryFindResource%2A> appeler et est introuvable, aucune exception n’est levée, mais la valeur retournée est `null`.</span><span class="sxs-lookup"><span data-stu-id="f075e-201">If a resource was requested by a <xref:System.Windows.FrameworkElement.TryFindResource%2A> call, and was not found, no exception is raised, but the returned value is `null`.</span></span> <span data-ttu-id="f075e-202">Si la valeur de propriété n’accepte pas `null`, il est toujours possible qu’une exception plus profonde soit levée (Cela dépend de la propriété définie).</span><span class="sxs-lookup"><span data-stu-id="f075e-202">If the property being set does not accept `null`, then it is still possible that a deeper exception will be raised (this depends on the individual property being set).</span></span>  
  
- <span data-ttu-id="f075e-203">Si une ressource a été demandée par une référence de ressource dynamique dans [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)]et n’a été trouvée, alors le comportement varie selon le système de propriétés général, mais le comportement général agit comme si aucune opération de définition de propriété s’est produite au niveau où la ressource existe.</span><span class="sxs-lookup"><span data-stu-id="f075e-203">If a resource was requested by a dynamic resource reference in [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)], and was not found, then the behavior depends on the general property system, but the general behavior is as if no property setting operation occurred at the level where the resource exists.</span></span> <span data-ttu-id="f075e-204">Par exemple, si vous essayez de définir l’arrière-plan d’un élément bouton à l’aide d’une ressource qui ne peut pas être déterminée, aucune définition de valeur n’en résulte alors, mais la valeur réelle peut quand même provenir d’autres participants selon la priorité de la valeur et du système de propriétés.</span><span class="sxs-lookup"><span data-stu-id="f075e-204">For instance, if you attempt to set the background on a an individual button element using a resource that could not be evaluated, then no value set results, but the effective value can still come from other participants in the property system and value precedence.</span></span> <span data-ttu-id="f075e-205">Par exemple, la valeur de l’arrière-plan peut quand même provenir d’un style de bouton défini localement ou du style du thème.</span><span class="sxs-lookup"><span data-stu-id="f075e-205">For instance, the background value might still come from a locally defined button style, or from the theme style.</span></span> <span data-ttu-id="f075e-206">Pour les propriétés qui ne sont pas définies par les styles du thème, la valeur réelle, après l’échec d’une évaluation des ressources, peut provenir de la valeur par défaut des métadonnées de propriétés.</span><span class="sxs-lookup"><span data-stu-id="f075e-206">For properties that are not defined by theme styles, the effective value after a failed resource evaluation might come from the default value in the property metadata.</span></span>  
  
#### <a name="restrictions"></a><span data-ttu-id="f075e-207">Restrictions</span><span class="sxs-lookup"><span data-stu-id="f075e-207">Restrictions</span></span>  
 <span data-ttu-id="f075e-208">Les références de ressources dynamiques présentent quelques restrictions notables.</span><span class="sxs-lookup"><span data-stu-id="f075e-208">Dynamic resource references have some notable restrictions.</span></span> <span data-ttu-id="f075e-209">Au moins une des limitations suivantes doit se vérifier :</span><span class="sxs-lookup"><span data-stu-id="f075e-209">At least one of the following must be true:</span></span>  
  
- <span data-ttu-id="f075e-210">La propriété définie doit être une propriété sur un <xref:System.Windows.FrameworkElement> ou <xref:System.Windows.FrameworkContentElement>.</span><span class="sxs-lookup"><span data-stu-id="f075e-210">The property being set must be a property on a <xref:System.Windows.FrameworkElement> or <xref:System.Windows.FrameworkContentElement>.</span></span> <span data-ttu-id="f075e-211">Que la propriété doit être stockée par un <xref:System.Windows.DependencyProperty>.</span><span class="sxs-lookup"><span data-stu-id="f075e-211">That property must be backed by a <xref:System.Windows.DependencyProperty>.</span></span>  
  
- <span data-ttu-id="f075e-212">La référence est une valeur d’un <xref:System.Windows.Style> <xref:System.Windows.Setter>.</span><span class="sxs-lookup"><span data-stu-id="f075e-212">The reference is for a value within a <xref:System.Windows.Style><xref:System.Windows.Setter>.</span></span>  
  
- <span data-ttu-id="f075e-213">La propriété définie doit être une propriété sur un <xref:System.Windows.Freezable> qui est fourni en tant que valeur de l’un <xref:System.Windows.FrameworkElement> ou <xref:System.Windows.FrameworkContentElement> propriété, ou un <xref:System.Windows.Setter> valeur.</span><span class="sxs-lookup"><span data-stu-id="f075e-213">The property being set must be a property on a <xref:System.Windows.Freezable> that is provided as a value of either a <xref:System.Windows.FrameworkElement> or <xref:System.Windows.FrameworkContentElement> property, or a <xref:System.Windows.Setter> value.</span></span>  
  
 <span data-ttu-id="f075e-214">Étant donné que la propriété définie doit être un <xref:System.Windows.DependencyProperty> ou <xref:System.Windows.Freezable> propriété, la plupart des modifications de propriété peuvent se propager à l’interface utilisateur, car une modification de propriété (la valeur de ressource dynamique modifiée) est reconnue par le système de propriétés.</span><span class="sxs-lookup"><span data-stu-id="f075e-214">Because the property being set must be a <xref:System.Windows.DependencyProperty> or <xref:System.Windows.Freezable> property, most property changes can propagate to UI because a property change (the changed dynamic resource value) is acknowledged by the property system.</span></span> <span data-ttu-id="f075e-215">La plupart des contrôles incluent la logique qui forcera une autre disposition d’un contrôle si un <xref:System.Windows.DependencyProperty> modifications et la propriété peut affecter la disposition.</span><span class="sxs-lookup"><span data-stu-id="f075e-215">Most controls include logic that will force another layout of a control if a <xref:System.Windows.DependencyProperty> changes and that property might affect layout.</span></span> <span data-ttu-id="f075e-216">Toutefois, pas toutes les propriétés qui ont un [Extension de balisage DynamicResource](dynamicresource-markup-extension.md) en tant que leur valeur sont assurées de fournir la valeur de manière à ce qu’ils mettent à jour en temps réel dans l’interface utilisateur.</span><span class="sxs-lookup"><span data-stu-id="f075e-216">However, not all properties that have a [DynamicResource Markup Extension](dynamicresource-markup-extension.md) as their value are guaranteed to provide the value in such a way that they update in realtime in the UI.</span></span> <span data-ttu-id="f075e-217">Cette fonctionnalité peut varier en fonction de la propriété, du type de propriétaire de la propriété ou même de la structure logique de votre application.</span><span class="sxs-lookup"><span data-stu-id="f075e-217">That functionality still might vary depending on the property, as well as depending on the type that owns the property, or even the logical structure of your application.</span></span>  
  
<a name="stylesimplicitkeys"></a>   
## <a name="styles-datatemplates-and-implicit-keys"></a><span data-ttu-id="f075e-218">Styles, modèles de données et clés implicites</span><span class="sxs-lookup"><span data-stu-id="f075e-218">Styles, DataTemplates, and Implicit Keys</span></span>  
 <span data-ttu-id="f075e-219">Plus haut, il a été indiqué que tous les éléments dans un <xref:System.Windows.ResourceDictionary> doit avoir une clé.</span><span class="sxs-lookup"><span data-stu-id="f075e-219">Earlier, it was stated that all items in a <xref:System.Windows.ResourceDictionary> must have a key.</span></span> <span data-ttu-id="f075e-220">Toutefois, cela ne signifie pas que toutes les ressources doivent avoir explicite `x:Key`.</span><span class="sxs-lookup"><span data-stu-id="f075e-220">However, that does not mean that all resources must have an explicit `x:Key`.</span></span> <span data-ttu-id="f075e-221">Plusieurs types d’objets prennent en charge une clé implicite lorsqu’elle est définie en tant que ressource, sachant que la valeur d’une clé est liée à la valeur d’une autre propriété.</span><span class="sxs-lookup"><span data-stu-id="f075e-221">Several object types support an implicit key when defined as a resource, where the key value is tied to the value of another property.</span></span> <span data-ttu-id="f075e-222">Il s’agit une clé implicite, alors qu’un `x:Key` attribut est une clé explicite.</span><span class="sxs-lookup"><span data-stu-id="f075e-222">This is known as an implicit key, whereas an `x:Key` attribute is an explicit key.</span></span> <span data-ttu-id="f075e-223">Vous pouvez remplacer une clé implicite en spécifiant une clé explicite.</span><span class="sxs-lookup"><span data-stu-id="f075e-223">You can overwrite any implicit key by specifying an explicit key.</span></span>  
  
 <span data-ttu-id="f075e-224">Un scénario très important pour les ressources est lorsque vous définissez un <xref:System.Windows.Style>.</span><span class="sxs-lookup"><span data-stu-id="f075e-224">One very important scenario for resources is when you define a <xref:System.Windows.Style>.</span></span> <span data-ttu-id="f075e-225">En fait, un <xref:System.Windows.Style> est presque toujours défini en tant qu’entrée dans un dictionnaire de ressources, car les styles sont par nature prévus pour être réutilisés.</span><span class="sxs-lookup"><span data-stu-id="f075e-225">In fact, a <xref:System.Windows.Style> is almost always defined as an entry in a resource dictionary, because styles are inherently intended for reuse.</span></span> <span data-ttu-id="f075e-226">Pour plus d’informations sur les styles, consultez [Styling and Templating](../controls/styling-and-templating.md).</span><span class="sxs-lookup"><span data-stu-id="f075e-226">For more information about styles, see [Styling and Templating](../controls/styling-and-templating.md).</span></span>  
  
 <span data-ttu-id="f075e-227">Des styles de contrôle peuvent être à la fois créés et référencés au moyen d’une clé implicite.</span><span class="sxs-lookup"><span data-stu-id="f075e-227">Styles for controls can be both created with and referenced with an implicit key.</span></span> <span data-ttu-id="f075e-228">Les styles de thème qui définissent l’apparence par défaut d’un contrôle s’appuient sur cette clé implicite.</span><span class="sxs-lookup"><span data-stu-id="f075e-228">The theme styles that define the default appearance of a control rely on this implicit key.</span></span> <span data-ttu-id="f075e-229">La clé implicite du point de vue de sa requête est le <xref:System.Type> du contrôle lui-même.</span><span class="sxs-lookup"><span data-stu-id="f075e-229">The implicit key from the standpoint of requesting it is the <xref:System.Type> of the control itself.</span></span> <span data-ttu-id="f075e-230">La clé implicite du point de vue de la définition de la ressource est le <xref:System.Windows.Style.TargetType%2A> du style.</span><span class="sxs-lookup"><span data-stu-id="f075e-230">The implicit key from the standpoint of defining the resource is the <xref:System.Windows.Style.TargetType%2A> of the style.</span></span> <span data-ttu-id="f075e-231">Par conséquent, si vous créez des thèmes de contrôles personnalisés, créant des styles qui interagissent avec les styles de thème existants, il est inutile de spécifier un [Directive x : Key](../../xaml-services/x-key-directive.md) pour qui <xref:System.Windows.Style>.</span><span class="sxs-lookup"><span data-stu-id="f075e-231">Therefore, if you are creating themes for custom controls, creating styles that interact with existing theme styles, you do not need to specify an [x:Key Directive](../../xaml-services/x-key-directive.md) for that <xref:System.Windows.Style>.</span></span> <span data-ttu-id="f075e-232">Et si vous souhaitez utiliser les styles à thème, il n’est pas nécessaire de spécifier un style.</span><span class="sxs-lookup"><span data-stu-id="f075e-232">And if you want to use the themed styles, you do not need to specify any style at all.</span></span> <span data-ttu-id="f075e-233">Par exemple, la définition de style suivante fonctionne, même si le <xref:System.Windows.Style> ressource ne semble pas avoir une clé :</span><span class="sxs-lookup"><span data-stu-id="f075e-233">For instance, the following style definition works, even though the <xref:System.Windows.Style> resource does not appear to have a key:</span></span>  
  
 [!code-xaml[FEResourceSH_snip#ImplicitStyle](~/samples/snippets/csharp/VS_Snippets_Wpf/FEResourceSH_snip/CS/page2.xaml#implicitstyle)]  
  
 <span data-ttu-id="f075e-234">Que style a vraiment une clé : la clé implicite `typeof(` <xref:System.Windows.Controls.Button> `)`.</span><span class="sxs-lookup"><span data-stu-id="f075e-234">That style really does have a key: the implicit key `typeof(`<xref:System.Windows.Controls.Button>`)`.</span></span> <span data-ttu-id="f075e-235">Dans le balisage, vous pouvez spécifier un <xref:System.Windows.Style.TargetType%2A> directement en tant que le type de nom (ou vous pouvez éventuellement utiliser [{x : Type...}](../../xaml-services/x-type-markup-extension.md)</span><span class="sxs-lookup"><span data-stu-id="f075e-235">In markup, you can specify a <xref:System.Windows.Style.TargetType%2A> directly as the type name (or you can optionally use [{x:Type...}](../../xaml-services/x-type-markup-extension.md)</span></span> <span data-ttu-id="f075e-236">pour retourner un <xref:System.Type>.</span><span class="sxs-lookup"><span data-stu-id="f075e-236">to return a <xref:System.Type>.</span></span>  
  
 <span data-ttu-id="f075e-237">Par le biais des mécanismes de style de thème par défaut utilisés par [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], ce style est appliqué en tant que style d’exécution d’un <xref:System.Windows.Controls.Button> sur la page, même si le <xref:System.Windows.Controls.Button> lui-même ne tente pas de spécifier son <xref:System.Windows.FrameworkElement.Style%2A> propriété ou une ressource spécifique faire référence au style.</span><span class="sxs-lookup"><span data-stu-id="f075e-237">Through the default theme style mechanisms used by [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], that style is applied as the runtime style of a <xref:System.Windows.Controls.Button> on the page, even though the <xref:System.Windows.Controls.Button> itself does not attempt to specify its <xref:System.Windows.FrameworkElement.Style%2A> property or a specific resource reference to the style.</span></span> <span data-ttu-id="f075e-238">Votre style défini dans la page est située plus haut dans la séquence de recherche que le style de dictionnaire de thème, à l’aide de la même clé que celle qui a le style de dictionnaire du thème.</span><span class="sxs-lookup"><span data-stu-id="f075e-238">Your style defined in the page is found earlier in the lookup sequence than the theme dictionary style, using the same key that the theme dictionary style has.</span></span> <span data-ttu-id="f075e-239">Vous pouvez simplement spécifier `<Button>Hello</Button>` n’importe où dans la page et le style que vous avez défini avec <xref:System.Windows.Style.TargetType%2A> de `Button` s’appliquera à ce bouton.</span><span class="sxs-lookup"><span data-stu-id="f075e-239">You could just specify `<Button>Hello</Button>` anywhere in the page, and the style you defined with <xref:System.Windows.Style.TargetType%2A> of `Button` would apply to that button.</span></span> <span data-ttu-id="f075e-240">Si vous le souhaitez, vous pouvez toujours indexer explicitement le style avec la même valeur de type en tant que <xref:System.Windows.Style.TargetType%2A>pour plus de clarté dans votre balisage, mais qui est facultatif.</span><span class="sxs-lookup"><span data-stu-id="f075e-240">If you want, you can still explicitly key the style with the same type value as <xref:System.Windows.Style.TargetType%2A>, for clarity in your markup, but that is optional.</span></span>  
  
 <span data-ttu-id="f075e-241">Les clés implicites pour les styles ne s’appliquent pas sur un contrôle si <xref:System.Windows.FrameworkElement.OverridesDefaultStyle%2A> est `true` (Notez également que <xref:System.Windows.FrameworkElement.OverridesDefaultStyle%2A> peut être défini en tant que partie du comportement natif pour la classe de contrôle, plutôt qu’explicitement sur une instance du contrôle).</span><span class="sxs-lookup"><span data-stu-id="f075e-241">Implicit keys for styles do not apply on a control if <xref:System.Windows.FrameworkElement.OverridesDefaultStyle%2A> is `true` (also note that <xref:System.Windows.FrameworkElement.OverridesDefaultStyle%2A> might be set as part of native behavior for the control class, rather than explicitly on an instance of the control).</span></span> <span data-ttu-id="f075e-242">En outre, pour prendre en charge les clés implicites pour les scénarios de classe dérivée, le contrôle doit remplacer <xref:System.Windows.FrameworkElement.DefaultStyleKey%2A> (tous les contrôles existants fournis dans le cadre de [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] cela).</span><span class="sxs-lookup"><span data-stu-id="f075e-242">Also, in order to support implicit keys for derived class scenarios, the control must override <xref:System.Windows.FrameworkElement.DefaultStyleKey%2A> (all existing controls provided as part of [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] do this).</span></span> <span data-ttu-id="f075e-243">Pour plus d’informations sur les styles, thèmes et la conception du contrôle, consultez [instructions pour la conception des contrôles d’appliquer un style](../controls/guidelines-for-designing-stylable-controls.md).</span><span class="sxs-lookup"><span data-stu-id="f075e-243">For more information about styles, themes, and control design, see [Guidelines for Designing Stylable Controls](../controls/guidelines-for-designing-stylable-controls.md).</span></span>  
  
 <span data-ttu-id="f075e-244"><xref:System.Windows.DataTemplate> a également une clé implicite.</span><span class="sxs-lookup"><span data-stu-id="f075e-244"><xref:System.Windows.DataTemplate> also has an implicit key.</span></span> <span data-ttu-id="f075e-245">La clé implicite d’un <xref:System.Windows.DataTemplate> est la <xref:System.Windows.DataTemplate.DataType%2A> valeur de propriété.</span><span class="sxs-lookup"><span data-stu-id="f075e-245">The implicit key for a <xref:System.Windows.DataTemplate> is the <xref:System.Windows.DataTemplate.DataType%2A> property value.</span></span> <span data-ttu-id="f075e-246"><xref:System.Windows.DataTemplate.DataType%2A> peut également être spécifié comme le nom du type, plutôt que d’utiliser explicitement [{x : Type...} ](../../xaml-services/x-type-markup-extension.md).</span><span class="sxs-lookup"><span data-stu-id="f075e-246"><xref:System.Windows.DataTemplate.DataType%2A> can also be specified as the name of the type rather than explicitly using [{x:Type...}](../../xaml-services/x-type-markup-extension.md).</span></span> <span data-ttu-id="f075e-247">Pour plus d’informations, consultez [vue d’ensemble de la création de modèles de données](../data/data-templating-overview.md).</span><span class="sxs-lookup"><span data-stu-id="f075e-247">For details, see [Data Templating Overview](../data/data-templating-overview.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="f075e-248">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="f075e-248">See also</span></span>

- <xref:System.Windows.ResourceDictionary>
- [<span data-ttu-id="f075e-249">Ressources d'application</span><span class="sxs-lookup"><span data-stu-id="f075e-249">Application Resources</span></span>](optimizing-performance-application-resources.md)
- [<span data-ttu-id="f075e-250">Ressources et code</span><span class="sxs-lookup"><span data-stu-id="f075e-250">Resources and Code</span></span>](resources-and-code.md)
- [<span data-ttu-id="f075e-251">Définir et référencer une ressource</span><span class="sxs-lookup"><span data-stu-id="f075e-251">Define and Reference a Resource</span></span>](how-to-define-and-reference-a-resource.md)
- [<span data-ttu-id="f075e-252">Vue d’ensemble de la gestion d’applications</span><span class="sxs-lookup"><span data-stu-id="f075e-252">Application Management Overview</span></span>](../app-development/application-management-overview.md)
- [<span data-ttu-id="f075e-253">x:Type, extension de balisage</span><span class="sxs-lookup"><span data-stu-id="f075e-253">x:Type Markup Extension</span></span>](../../xaml-services/x-type-markup-extension.md)
- [<span data-ttu-id="f075e-254">StaticResource, extension de balisage</span><span class="sxs-lookup"><span data-stu-id="f075e-254">StaticResource Markup Extension</span></span>](staticresource-markup-extension.md)
- [<span data-ttu-id="f075e-255">Extension de balisage DynamicResource</span><span class="sxs-lookup"><span data-stu-id="f075e-255">DynamicResource Markup Extension</span></span>](dynamicresource-markup-extension.md)
