---
title: Vue d’ensemble des propriétés de dépendance
description: Une propriété qui repose sur le système de propriété WPF s’appelle une propriété de dépendance. Cette vue d’ensemble décrit le système de propriétés WPF et les fonctionnalités d’une propriété de dépendance.
ms.date: 06/06/2018
dev_langs:
- csharp
- vb
helpviewer_keywords:
- properties [WPF], attached
- properties [WPF], overview
- styles [WPF]
- attached properties [WPF]
- data binding [WPF]
- dependency properties [WPF]
- resources [WPF], references to
ms.assetid: d119d00c-3afb-48d6-87a0-c4da4f83dee5
ms.openlocfilehash: 663dd7a785200ddbc78cc0cd1fb5b43531982f42
ms.sourcegitcommit: 944ddc52b7f2632f30c668815f92b378efd38eea
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 11/03/2019
ms.locfileid: "73458955"
---
# <a name="dependency-properties-overview"></a><span data-ttu-id="97a39-104">Vue d’ensemble des propriétés de dépendance</span><span class="sxs-lookup"><span data-stu-id="97a39-104">Dependency properties overview</span></span>

<span data-ttu-id="97a39-105">WPF (Windows Presentation Foundation) fournit un ensemble de services qui permettent d’étendre la fonctionnalité de la [propriété](../../../standard/base-types/common-type-system.md#Properties) d’un type.</span><span class="sxs-lookup"><span data-stu-id="97a39-105">Windows Presentation Foundation (WPF) provides a set of services that can be used to extend the functionality of a type's [property](../../../standard/base-types/common-type-system.md#Properties).</span></span> <span data-ttu-id="97a39-106">Ces services sont généralement regroupés sous le nom « système de propriétés WPF ».</span><span class="sxs-lookup"><span data-stu-id="97a39-106">Collectively, these services are typically referred to as the WPF property system.</span></span> <span data-ttu-id="97a39-107">Une propriété qui repose sur le système de propriété WPF s’appelle une propriété de dépendance.</span><span class="sxs-lookup"><span data-stu-id="97a39-107">A property that is backed by the WPF property system is known as a dependency property.</span></span> <span data-ttu-id="97a39-108">Cette vue d’ensemble décrit le système de propriétés WPF et les fonctionnalités d’une propriété de dépendance.</span><span class="sxs-lookup"><span data-stu-id="97a39-108">This overview describes the WPF property system and the capabilities of a dependency property.</span></span> <span data-ttu-id="97a39-109">notamment comment utiliser les propriétés de dépendance existantes en XAML et dans le code.</span><span class="sxs-lookup"><span data-stu-id="97a39-109">This includes how to use existing dependency properties in XAML and in code.</span></span> <span data-ttu-id="97a39-110">Elle introduit également des aspects spécialisés des propriétés de dépendance, tels que les métadonnées de propriétés de dépendance et comment créer votre propre propriété de dépendance dans une classe personnalisée.</span><span class="sxs-lookup"><span data-stu-id="97a39-110">This overview also introduces specialized aspects of dependency properties, such as dependency property metadata, and how to create your own dependency property in a custom class.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="97a39-111">Configuration requise</span><span class="sxs-lookup"><span data-stu-id="97a39-111">Prerequisites</span></span>
<span data-ttu-id="97a39-112">Cette rubrique part du principe que vous avez des connaissances de base relatives au système de types .NET et à la programmation orientée objet.</span><span class="sxs-lookup"><span data-stu-id="97a39-112">This topic assumes that you have some basic knowledge of the .NET type system and object-oriented programming.</span></span> <span data-ttu-id="97a39-113">Pour pouvoir suivre les exemples de cette rubrique, vous devez également comprendre le langage XAML et savoir comment écrire des applications WPF.</span><span class="sxs-lookup"><span data-stu-id="97a39-113">In order to follow the examples in this topic, you should also understand XAML and know how to write WPF applications.</span></span> <span data-ttu-id="97a39-114">Pour plus d’informations, consultez [Procédure pas à pas : ma première application de bureau WPF](../getting-started/walkthrough-my-first-wpf-desktop-application.md).</span><span class="sxs-lookup"><span data-stu-id="97a39-114">For more information, see [Walkthrough: My first WPF desktop application](../getting-started/walkthrough-my-first-wpf-desktop-application.md).</span></span>  
  
## <a name="dependency-properties-and-clr-properties"></a><span data-ttu-id="97a39-115">Propriétés de dépendance et propriétés CLR</span><span class="sxs-lookup"><span data-stu-id="97a39-115">Dependency properties and CLR properties</span></span>
 <span data-ttu-id="97a39-116">Dans WPF, les propriétés sont généralement exposées en tant que [propriétés](../../../standard/base-types/common-type-system.md#Properties) .NET standard.</span><span class="sxs-lookup"><span data-stu-id="97a39-116">In WPF, properties are typically exposed as standard .NET [properties](../../../standard/base-types/common-type-system.md#Properties).</span></span> <span data-ttu-id="97a39-117">À un niveau basique, vous pourriez interagir directement avec ces propriétés et ne jamais savoir qu’elles sont implémentées en tant que propriétés de dépendance.</span><span class="sxs-lookup"><span data-stu-id="97a39-117">At a basic level, you could interact with these properties directly and never know that they are implemented as a dependency property.</span></span> <span data-ttu-id="97a39-118">Toutefois, vous devez vous familiariser avec une partie ou l’ensemble des fonctionnalités du système de propriétés WPF pour pouvoir tirer parti de ces fonctionnalités.</span><span class="sxs-lookup"><span data-stu-id="97a39-118">However, you should become familiar with some or all of the features of the WPF property system, so that you can take advantage of these features.</span></span>

<span data-ttu-id="97a39-119">Les propriétés de dépendance ont pour but de fournir un moyen de calculer la valeur d’une propriété en fonction de la valeur d’autres entrées.</span><span class="sxs-lookup"><span data-stu-id="97a39-119">The purpose of dependency properties is to provide a way to compute the value of a property based on the value of other inputs.</span></span> <span data-ttu-id="97a39-120">Ces autres entrées peuvent inclure des propriétés système telles que des thèmes et des préférences de l’utilisateur, des mécanismes de détermination de propriété juste-à-temps tels que la liaison de données et les animations/plans conceptuels, des modèles à plusieurs usages comme les ressources et les styles, ou des valeurs connues par l’intermédiaire de relations parent-enfant avec d’autres éléments dans l’arborescence d’éléments.</span><span class="sxs-lookup"><span data-stu-id="97a39-120">These other inputs might include system properties such as themes and user preference, just-in-time property determination mechanisms such as data binding and animations/storyboards, multiple-use templates such as resources and styles, or values known through parent-child relationships with other elements in the element tree.</span></span> <span data-ttu-id="97a39-121">En outre, une propriété de dépendance peut être implémentée pour fournir une validation autonome, des valeurs par défaut, des rappels qui surveillent les modifications apportées à d’autres propriétés, et un système capable de forcer des valeurs de propriétés en fonction d’informations d’exécution potentielles.</span><span class="sxs-lookup"><span data-stu-id="97a39-121">In addition, a dependency property can be implemented to provide self-contained validation, default values, callbacks that monitor changes to other properties, and a system that can coerce property values based on potentially runtime information.</span></span> <span data-ttu-id="97a39-122">Les classes dérivées peuvent également changer certaines caractéristiques spécifiques d’une propriété existante en substituant les métadonnées de propriété de dépendance, plutôt qu’en substituant l’implémentation réelle des propriétés existantes ou en créant de nouvelles propriétés.</span><span class="sxs-lookup"><span data-stu-id="97a39-122">Derived classes can also change some specific characteristics of an existing property by overriding dependency property metadata, rather than overriding the actual implementation of existing properties or creating new properties.</span></span>

<span data-ttu-id="97a39-123">Dans la référence du SDK, vous pouvez identifier quelle propriété est une propriété de dépendance par la présence de la section Informations sur les propriétés de dépendance dans la page de référence managée de cette propriété.</span><span class="sxs-lookup"><span data-stu-id="97a39-123">In the SDK reference, you can identify which property is a dependency property by the presence of the Dependency Property Information section on the managed reference page for that property.</span></span> <span data-ttu-id="97a39-124">La section des informations sur les propriétés de dépendance comprend un lien vers l’identificateur de champ <xref:System.Windows.DependencyProperty> pour cette propriété de dépendance, ainsi qu’une liste d’options de métadonnées définies pour cette propriété, des informations de substitution par classe et d’autres détails.</span><span class="sxs-lookup"><span data-stu-id="97a39-124">The Dependency Property Information section includes a link to the <xref:System.Windows.DependencyProperty> identifier field for that dependency property, and also includes a list of the metadata options that are set for that property, per-class override information, and other details.</span></span>

## <a name="dependency-properties-back-clr-properties"></a><span data-ttu-id="97a39-125">Les propriétés CLR reposent sur les propriétés de dépendance</span><span class="sxs-lookup"><span data-stu-id="97a39-125">Dependency properties back CLR properties</span></span>
<span data-ttu-id="97a39-126">Les propriétés de dépendance et le système de propriétés WPF étendent la fonctionnalité des propriétés en fournissant un type qui prend en charge une propriété, en tant qu’implémentation alternative du modèle standard de stockage de la propriété avec un champ privé.</span><span class="sxs-lookup"><span data-stu-id="97a39-126">Dependency properties and the WPF property system extend property functionality by providing a type that backs a property, as an alternative implementation to the standard pattern of backing the property with a private field.</span></span> <span data-ttu-id="97a39-127">Le nom de ce type est <xref:System.Windows.DependencyProperty>.</span><span class="sxs-lookup"><span data-stu-id="97a39-127">The name of this type is <xref:System.Windows.DependencyProperty>.</span></span> <span data-ttu-id="97a39-128">L’autre type important qui définit le système de propriétés WPF est <xref:System.Windows.DependencyObject>.</span><span class="sxs-lookup"><span data-stu-id="97a39-128">The other important type that defines the WPF property system is <xref:System.Windows.DependencyObject>.</span></span> <span data-ttu-id="97a39-129"><xref:System.Windows.DependencyObject> définit la classe de base qui peut inscrire et détenir une propriété de dépendance.</span><span class="sxs-lookup"><span data-stu-id="97a39-129"><xref:System.Windows.DependencyObject> defines the base class that can register and own a dependency property.</span></span>

<span data-ttu-id="97a39-130">Voici une liste qui décrit la terminologie utilisée avec les propriétés de dépendance :</span><span class="sxs-lookup"><span data-stu-id="97a39-130">The following lists the terminology that is used with dependency properties:</span></span>

- <span data-ttu-id="97a39-131">**Propriété de dépendance :** propriété qui repose sur un <xref:System.Windows.DependencyProperty>.</span><span class="sxs-lookup"><span data-stu-id="97a39-131">**Dependency property:** A property that is backed by a <xref:System.Windows.DependencyProperty>.</span></span>

- <span data-ttu-id="97a39-132">**Identificateur de propriété de dépendance :** instance de <xref:System.Windows.DependencyProperty> obtenue en tant que valeur retournée durant l’inscription d’une propriété de dépendance, puis stockée en tant que membre statique d’une classe.</span><span class="sxs-lookup"><span data-stu-id="97a39-132">**Dependency property identifier:** A <xref:System.Windows.DependencyProperty> instance, which is obtained as a return value when registering a dependency property, and then stored as a static member of a class.</span></span> <span data-ttu-id="97a39-133">Cet identificateur est utilisé en tant que paramètre pour la plupart des API qui interagissent avec le système de propriétés WPF.</span><span class="sxs-lookup"><span data-stu-id="97a39-133">This identifier is used as a parameter for many of the APIs that interact with the WPF property system.</span></span>

- <span data-ttu-id="97a39-134">**« wrapper » CLR :** implémentations get et set pour la propriété.</span><span class="sxs-lookup"><span data-stu-id="97a39-134">**CLR "wrapper":** The actual get and set implementations for the property.</span></span> <span data-ttu-id="97a39-135">Ces implémentations incorporent l’identificateur de propriété de dépendance en l’utilisant dans les appels de <xref:System.Windows.DependencyObject.GetValue%2A> et <xref:System.Windows.DependencyObject.SetValue%2A>, ce qui assure ainsi le stockage de la propriété à l’aide du système de propriétés WPF.</span><span class="sxs-lookup"><span data-stu-id="97a39-135">These implementations incorporate the dependency property identifier by using it in the <xref:System.Windows.DependencyObject.GetValue%2A> and <xref:System.Windows.DependencyObject.SetValue%2A> calls, thus providing the backing for the property using the WPF property system.</span></span>

<span data-ttu-id="97a39-136">L’exemple suivant définit la propriété de dépendance `IsSpinning` et montre la relation entre l’identificateur <xref:System.Windows.DependencyProperty> et la propriété qu’il prend en charge.</span><span class="sxs-lookup"><span data-stu-id="97a39-136">The following example defines the `IsSpinning` dependency property, and shows the relationship of the <xref:System.Windows.DependencyProperty> identifier to the property that it backs.</span></span>

[!code-csharp[PropertiesOvwSupport#DPFormBasic](~/samples/snippets/csharp/VS_Snippets_Wpf/PropertiesOvwSupport/CSharp/page4.xaml.cs#dpformbasic)]
[!code-vb[PropertiesOvwSupport#DPFormBasic](~/samples/snippets/visualbasic/VS_Snippets_Wpf/PropertiesOvwSupport/visualbasic/page4.xaml.vb#dpformbasic)]  
  
<span data-ttu-id="97a39-137">La convention de nommage de la propriété et de son champ <xref:System.Windows.DependencyProperty> de stockage est importante.</span><span class="sxs-lookup"><span data-stu-id="97a39-137">The naming convention of the property and its backing <xref:System.Windows.DependencyProperty> field is important.</span></span> <span data-ttu-id="97a39-138">Le nom du champ est toujours le nom de la propriété, auquel est ajouté le suffixe `Property`.</span><span class="sxs-lookup"><span data-stu-id="97a39-138">The name of the field is always the name of the property, with the suffix `Property` appended.</span></span> <span data-ttu-id="97a39-139">Pour plus d’informations sur cette convention et sur sa raison d’être, consultez [Propriétés de dépendance personnalisées](custom-dependency-properties.md).</span><span class="sxs-lookup"><span data-stu-id="97a39-139">For more information about this convention and the reasons for it, see [Custom Dependency Properties](custom-dependency-properties.md).</span></span>  

## <a name="setting-property-values"></a><span data-ttu-id="97a39-140">Définition de valeurs de propriété</span><span class="sxs-lookup"><span data-stu-id="97a39-140">Setting property values</span></span>
<span data-ttu-id="97a39-141">Vous pouvez définir des propriétés dans le code ou en XAML.</span><span class="sxs-lookup"><span data-stu-id="97a39-141">You can set properties either in code or in XAML.</span></span>

### <a name="setting-property-values-in-xaml"></a><span data-ttu-id="97a39-142">Définition de valeurs de propriété en XAML</span><span class="sxs-lookup"><span data-stu-id="97a39-142">Setting property values in XAML</span></span> 
<span data-ttu-id="97a39-143">L’exemple XAML suivant spécifie le rouge comme couleur d’arrière-plan d’un bouton.</span><span class="sxs-lookup"><span data-stu-id="97a39-143">The following XAML example specifies the background color of a button as red.</span></span> <span data-ttu-id="97a39-144">Cet exemple illustre un cas où le type d’une valeur de chaîne simple d’un attribut XAML est converti par l’analyseur XAML WPF en type WPF (<xref:System.Windows.Media.Color> via <xref:System.Windows.Media.SolidColorBrush>) dans le code généré.</span><span class="sxs-lookup"><span data-stu-id="97a39-144">This example illustrates a case where the simple string value for a XAML attribute is type-converted by the WPF XAML parser into a WPF type (a <xref:System.Windows.Media.Color>, by way of a <xref:System.Windows.Media.SolidColorBrush>) in the generated code.</span></span>

[!code-xaml[PropertiesOvwSupport#MostBasicProperty](~/samples/snippets/csharp/VS_Snippets_Wpf/PropertiesOvwSupport/CSharp/Page1.xaml#mostbasicproperty)]

<span data-ttu-id="97a39-145">XAML prend en charge diverses formes de syntaxe pour définir les propriétés.</span><span class="sxs-lookup"><span data-stu-id="97a39-145">XAML supports a variety of syntax forms for setting properties.</span></span> <span data-ttu-id="97a39-146">La syntaxe à utiliser pour une propriété particulière varie en fonction du type de valeur utilisé par une propriété, ainsi que d’autres facteurs tels que la présence d’un convertisseur de type.</span><span class="sxs-lookup"><span data-stu-id="97a39-146">Which syntax to use for a particular property will depend on the value type that a property uses, as well as other factors such as the presence of a type converter.</span></span> <span data-ttu-id="97a39-147">Pour plus d’informations sur la syntaxe XAML pour la définition de propriété, consultez [Vue d’ensemble du langage XAML (WPF)](../../../desktop-wpf/fundamentals/xaml.md) et [Syntaxe XAML en détail](xaml-syntax-in-detail.md).</span><span class="sxs-lookup"><span data-stu-id="97a39-147">For more information on XAML syntax for property setting, see [XAML Overview (WPF)](../../../desktop-wpf/fundamentals/xaml.md) and [XAML Syntax In Detail](xaml-syntax-in-detail.md).</span></span>

<span data-ttu-id="97a39-148">En guise d’exemple de syntaxe de non-attribut, l’exemple XAML suivant montre un autre arrière-plan de bouton.</span><span class="sxs-lookup"><span data-stu-id="97a39-148">As an example of non-attribute syntax, the following XAML example shows another button background.</span></span> <span data-ttu-id="97a39-149">Cette fois-ci, au lieu de définir une couleur unie, l’arrière-plan est défini sur une image, avec un élément représentant cette image et la source de cette image spécifiée en tant qu’attribut de l’élément imbriqué.</span><span class="sxs-lookup"><span data-stu-id="97a39-149">This time rather than setting a simple solid color, the background is set to an image, with an element representing that image and the source of that image specified as an attribute of the nested element.</span></span> <span data-ttu-id="97a39-150">Il s’agit d’un exemple de syntaxe d’éléments de propriété.</span><span class="sxs-lookup"><span data-stu-id="97a39-150">This is an example of property element syntax.</span></span>

[!code-xaml[PropertiesOvwSupport#PESyntaxProperty](~/samples/snippets/csharp/VS_Snippets_Wpf/PropertiesOvwSupport/CSharp/Page1.xaml#pesyntaxproperty)]

### <a name="setting-properties-in-code"></a><span data-ttu-id="97a39-151">Définition de propriétés dans le code</span><span class="sxs-lookup"><span data-stu-id="97a39-151">Setting properties in code</span></span>
 <span data-ttu-id="97a39-152">La définition des valeurs de propriété de dépendance dans le code n’est généralement qu’un appel à l’implémentation définie exposée par le « wrapper » CLR.</span><span class="sxs-lookup"><span data-stu-id="97a39-152">Setting dependency property values in code is typically just a call to the set implementation exposed by the CLR "wrapper".</span></span>

[!code-csharp[PropertiesOvwSupport#ProceduralPropertySet](~/samples/snippets/csharp/VS_Snippets_Wpf/PropertiesOvwSupport/CSharp/Page1.xaml.cs#proceduralpropertyset)]
[!code-vb[PropertiesOvwSupport#ProceduralPropertySet](~/samples/snippets/visualbasic/VS_Snippets_Wpf/PropertiesOvwSupport/visualbasic/page1.xaml.vb#proceduralpropertyset)]

<span data-ttu-id="97a39-153">Pour obtenir une valeur de propriété, il suffit aussi généralement d’appeler l’implémentation « wrapper » Get :</span><span class="sxs-lookup"><span data-stu-id="97a39-153">Getting a property value is also essentially a call to the get "wrapper" implementation:</span></span>

[!code-csharp[PropertiesOvwSupport#ProceduralPropertyGet](~/samples/snippets/csharp/VS_Snippets_Wpf/PropertiesOvwSupport/CSharp/Page1.xaml.cs#proceduralpropertyget)]
 [!code-vb[PropertiesOvwSupport#ProceduralPropertyGet](~/samples/snippets/visualbasic/VS_Snippets_Wpf/PropertiesOvwSupport/visualbasic/page1.xaml.vb#proceduralpropertyget)]

<span data-ttu-id="97a39-154">Vous pouvez également appeler les API du système de propriétés <xref:System.Windows.DependencyObject.GetValue%2A> et <xref:System.Windows.DependencyObject.SetValue%2A> directement.</span><span class="sxs-lookup"><span data-stu-id="97a39-154">You can also call the property system APIs <xref:System.Windows.DependencyObject.GetValue%2A> and <xref:System.Windows.DependencyObject.SetValue%2A> directly.</span></span> <span data-ttu-id="97a39-155">Cela n’est généralement pas nécessaire si vous utilisez des propriétés existantes (les wrappers sont plus pratiques et offrent une meilleure exposition de la propriété pour les outils de développement), mais l’appel direct des API est approprié pour certains scénarios.</span><span class="sxs-lookup"><span data-stu-id="97a39-155">This is not typically necessary if you are using existing properties (the wrappers are more convenient, and provide better exposure of the property for developer tools), but calling the APIs directly is appropriate for certain scenarios.</span></span>

<span data-ttu-id="97a39-156">Vous pouvez aussi définir les propriétés en XAML et y accéder ultérieurement dans le code, par l’intermédiaire du code-behind.</span><span class="sxs-lookup"><span data-stu-id="97a39-156">Properties can be also set in XAML and then accessed later in code, through code-behind.</span></span> <span data-ttu-id="97a39-157">Pour plus d’informations, consultez [Code-behind et XAML dans WPF](code-behind-and-xaml-in-wpf.md).</span><span class="sxs-lookup"><span data-stu-id="97a39-157">For details, see [Code-Behind and XAML in WPF](code-behind-and-xaml-in-wpf.md).</span></span>

## <a name="property-functionality-provided-by-a-dependency-property"></a><span data-ttu-id="97a39-158">Fonctionnalité de propriété fournie par une propriété de dépendance</span><span class="sxs-lookup"><span data-stu-id="97a39-158">Property functionality provided by a dependency property</span></span>
<span data-ttu-id="97a39-159">Une propriété de dépendance fournit une fonctionnalité qui étend la fonctionnalité d’une propriété, par opposition à une propriété qui est stockée par un champ.</span><span class="sxs-lookup"><span data-stu-id="97a39-159">A dependency property provides functionality that extends the functionality of a property as opposed to a property that is backed by a field.</span></span> <span data-ttu-id="97a39-160">Souvent, une telle fonctionnalité représente ou prend en charge l’une des fonctionnalités spécifiques suivantes :</span><span class="sxs-lookup"><span data-stu-id="97a39-160">Often, such functionality represents or supports one of the following specific features:</span></span>

- [<span data-ttu-id="97a39-161">Ressources</span><span class="sxs-lookup"><span data-stu-id="97a39-161">Resources</span></span>](#resources)

- [<span data-ttu-id="97a39-162">Liaison de données</span><span class="sxs-lookup"><span data-stu-id="97a39-162">Data binding</span></span>](#data-binding)

- [<span data-ttu-id="97a39-163">Styles</span><span class="sxs-lookup"><span data-stu-id="97a39-163">Styles</span></span>](#styles)

- [<span data-ttu-id="97a39-164">Animations</span><span class="sxs-lookup"><span data-stu-id="97a39-164">Animations</span></span>](#animations)

- [<span data-ttu-id="97a39-165">Substitutions de métadonnées</span><span class="sxs-lookup"><span data-stu-id="97a39-165">Metadata overrides</span></span>](#metadata-overrides)

- [<span data-ttu-id="97a39-166">Héritage de valeur de propriété</span><span class="sxs-lookup"><span data-stu-id="97a39-166">Property value inheritance</span></span>](#property-value-inheritance)

- [<span data-ttu-id="97a39-167">Intégration du concepteur WPF</span><span class="sxs-lookup"><span data-stu-id="97a39-167">WPF Designer integration</span></span>](#wpf-designer-integration)

### <a name="resources"></a><span data-ttu-id="97a39-168">Ressources</span><span class="sxs-lookup"><span data-stu-id="97a39-168">Resources</span></span>
<span data-ttu-id="97a39-169">Une valeur de propriété de dépendance peut être définie en référençant une ressource.</span><span class="sxs-lookup"><span data-stu-id="97a39-169">A dependency property value can be set by referencing a resource.</span></span> <span data-ttu-id="97a39-170">Les ressources sont généralement spécifiées en tant que valeur de propriété `Resources` d’un élément racine de page ou de l’application (ces emplacements autorisent l’accès le plus commode à la ressource).</span><span class="sxs-lookup"><span data-stu-id="97a39-170">Resources are typically specified as the `Resources` property value of a page root element, or of the application (these locations enable the most convenient access to the resource).</span></span> <span data-ttu-id="97a39-171">L’exemple suivant montre comment définir une ressource <xref:System.Windows.Media.SolidColorBrush>.</span><span class="sxs-lookup"><span data-stu-id="97a39-171">The following example shows how to define a <xref:System.Windows.Media.SolidColorBrush> resource.</span></span>

[!code-xaml[PropertiesOvwSupport#ResourcesResource](~/samples/snippets/csharp/VS_Snippets_Wpf/PropertiesOvwSupport/CSharp/page2.xaml#resourcesresource)]

<span data-ttu-id="97a39-172">Une fois la ressource définie, vous pouvez la référencer et l’utiliser pour fournir une valeur de propriété :</span><span class="sxs-lookup"><span data-stu-id="97a39-172">Once the resource is defined, you can reference the resource and use it to provide a property value:</span></span>

[!code-xaml[PropertiesOvwSupport#ResourcesReference](~/samples/snippets/csharp/VS_Snippets_Wpf/PropertiesOvwSupport/CSharp/page2.xaml#resourcesreference)]

<span data-ttu-id="97a39-173">Cette ressource particulière est référencée en tant qu’[Extension de balisage DynamicResource](dynamicresource-markup-extension.md) (en XAML WPF, vous pouvez utiliser une référence de ressource statique ou dynamique).</span><span class="sxs-lookup"><span data-stu-id="97a39-173">This particular resource is referenced as a [DynamicResource Markup Extension](dynamicresource-markup-extension.md) (in WPF XAML, you can use either a static or dynamic resource reference).</span></span> <span data-ttu-id="97a39-174">Pour utiliser une référence de ressource dynamique, vous devez définir une propriété de dépendance. Ainsi, l’utilisation de la référence de ressource dynamique est activée spécifiquement par le système de propriétés WPF.</span><span class="sxs-lookup"><span data-stu-id="97a39-174">To use a dynamic resource reference, you must be setting to a dependency property, so it is specifically the dynamic resource reference usage that is enabled by the WPF property system.</span></span> <span data-ttu-id="97a39-175">Pour plus d’informations, consultez [Ressources XAML](xaml-resources.md).</span><span class="sxs-lookup"><span data-stu-id="97a39-175">For more information, see [XAML Resources](xaml-resources.md).</span></span>

> [!NOTE]
> <span data-ttu-id="97a39-176">Les ressources sont traitées comme une valeur locale, ce qui signifie que si vous définissez une autre valeur locale, vous supprimez la référence de ressource.</span><span class="sxs-lookup"><span data-stu-id="97a39-176">Resources are treated as a local value, which means that if you set another local value, you will eliminate the resource reference.</span></span> <span data-ttu-id="97a39-177">Pour plus d’informations, consultez [Priorité de la valeur de propriété de dépendance](dependency-property-value-precedence.md).</span><span class="sxs-lookup"><span data-stu-id="97a39-177">For more information, see [Dependency Property Value Precedence](dependency-property-value-precedence.md).</span></span>

### <a name="data-binding"></a><span data-ttu-id="97a39-178">Liaison de données</span><span class="sxs-lookup"><span data-stu-id="97a39-178">Data binding</span></span>
<span data-ttu-id="97a39-179">Une propriété de dépendance peut référencer une valeur par l’intermédiaire d’une liaison de données.</span><span class="sxs-lookup"><span data-stu-id="97a39-179">A dependency property can reference a value through data binding.</span></span> <span data-ttu-id="97a39-180">La liaison de données fonctionne via une syntaxe d’extension de balisage spécifique en XAML, ou via l’objet <xref:System.Windows.Data.Binding> dans du code.</span><span class="sxs-lookup"><span data-stu-id="97a39-180">Data binding works through a specific markup extension syntax in XAML, or the <xref:System.Windows.Data.Binding> object in code.</span></span> <span data-ttu-id="97a39-181">Avec la liaison de données, la détermination de valeur de propriété finale est différée jusqu’au moment de l’exécution, quand la valeur est obtenue à partir d’une source de données.</span><span class="sxs-lookup"><span data-stu-id="97a39-181">With data binding, the final property value determination is deferred until run time, at which time the value is obtained from a data source.</span></span>

<span data-ttu-id="97a39-182">L’exemple suivant définit la propriété <xref:System.Windows.Controls.ContentControl.Content%2A> de <xref:System.Windows.Controls.Button> à l’aide d’une liaison déclarée en XAML.</span><span class="sxs-lookup"><span data-stu-id="97a39-182">The following example sets the <xref:System.Windows.Controls.ContentControl.Content%2A> property for a <xref:System.Windows.Controls.Button>, using a binding declared in XAML.</span></span> <span data-ttu-id="97a39-183">La liaison utilise un contexte de données hérité et une source de données <xref:System.Windows.Data.XmlDataProvider> (non illustrée).</span><span class="sxs-lookup"><span data-stu-id="97a39-183">The binding uses an inherited data context and an <xref:System.Windows.Data.XmlDataProvider> data source (not shown).</span></span> <span data-ttu-id="97a39-184">La liaison proprement dite spécifie la propriété source souhaitée par <xref:System.Windows.Data.Binding.XPath%2A> dans la source de données.</span><span class="sxs-lookup"><span data-stu-id="97a39-184">The binding itself specifies the desired source property by <xref:System.Windows.Data.Binding.XPath%2A> within the data source.</span></span>

[!code-xaml[PropertiesOvwSupport#BasicInlineBinding](~/samples/snippets/csharp/VS_Snippets_Wpf/PropertiesOvwSupport/CSharp/page3.xaml#basicinlinebinding)]

> [!NOTE]
> <span data-ttu-id="97a39-185">Les liaisons sont traitées comme une valeur locale, ce qui signifie que si vous définissez une autre valeur locale, vous supprimez la liaison.</span><span class="sxs-lookup"><span data-stu-id="97a39-185">Bindings are treated as a local value, which means that if you set another local value, you will eliminate the binding.</span></span> <span data-ttu-id="97a39-186">Pour plus d’informations, consultez [Priorité de la valeur de propriété de dépendance](dependency-property-value-precedence.md).</span><span class="sxs-lookup"><span data-stu-id="97a39-186">For details, see [Dependency Property Value Precedence](dependency-property-value-precedence.md).</span></span>

<span data-ttu-id="97a39-187">Les propriétés de dépendance, ou la classe <xref:System.Windows.DependencyObject>, ne prennent pas en charge <xref:System.ComponentModel.INotifyPropertyChanged> de manière native afin de notifier les changements de valeurs de la propriété source <xref:System.Windows.DependencyObject> pour les opérations de liaison de données.</span><span class="sxs-lookup"><span data-stu-id="97a39-187">Dependency properties, or the <xref:System.Windows.DependencyObject> class, do not natively support <xref:System.ComponentModel.INotifyPropertyChanged> for purposes of producing notifications of changes in <xref:System.Windows.DependencyObject> source property value for data binding operations.</span></span> <span data-ttu-id="97a39-188">Pour plus d’informations sur la façon de créer (pour une utilisation dans la liaison de données)' des propriétés capables de signaler des changements de cible de liaison de données, consultez [Vue d’ensemble de la liaison de données](../data/data-binding-overview.md).</span><span class="sxs-lookup"><span data-stu-id="97a39-188">For more information on how to create properties for use in data binding that can report changes to a data binding target, see [Data Binding Overview](../data/data-binding-overview.md).</span></span>

### <a name="styles"></a><span data-ttu-id="97a39-189">Styles</span><span class="sxs-lookup"><span data-stu-id="97a39-189">Styles</span></span>
<span data-ttu-id="97a39-190">Les styles et modèles sont deux des principaux scénarios justifiant l’utilisation de propriétés de dépendance.</span><span class="sxs-lookup"><span data-stu-id="97a39-190">Styles and templates are two of the chief motivating scenarios for using dependency properties.</span></span> <span data-ttu-id="97a39-191">Les styles sont particulièrement utiles pour configurer des propriétés qui définissent l’[!INCLUDE[TLA#tla_ui](../../../../includes/tlasharptla-ui-md.md)] de l’application.</span><span class="sxs-lookup"><span data-stu-id="97a39-191">Styles are particularly useful for setting properties that define application [!INCLUDE[TLA#tla_ui](../../../../includes/tlasharptla-ui-md.md)].</span></span> <span data-ttu-id="97a39-192">Ils sont généralement définis en tant que ressources en XAML.</span><span class="sxs-lookup"><span data-stu-id="97a39-192">Styles are typically defined as resources in XAML.</span></span> <span data-ttu-id="97a39-193">Ils interagissent avec le système de propriétés car ils contiennent généralement des « méthodes setter » pour des propriétés particulières, ainsi que des « déclencheurs » qui changent une valeur de propriété d’après la valeur en temps réel d’une autre propriété.</span><span class="sxs-lookup"><span data-stu-id="97a39-193">Styles interact with the property system because they typically contain "setters" for particular properties, as well as "triggers" that change a property value based on the real-time value for another property.</span></span>

<span data-ttu-id="97a39-194">L’exemple suivant crée un style très simple (défini dans un dictionnaire <xref:System.Windows.FrameworkElement.Resources%2A>, non illustré), puis l’applique directement à la propriété <xref:System.Windows.FrameworkElement.Style%2A> pour <xref:System.Windows.Controls.Button>.</span><span class="sxs-lookup"><span data-stu-id="97a39-194">The following example creates a very simple style (which would be defined inside a <xref:System.Windows.FrameworkElement.Resources%2A> dictionary, not shown), then applies that style directly to the <xref:System.Windows.FrameworkElement.Style%2A> property for a <xref:System.Windows.Controls.Button>.</span></span> <span data-ttu-id="97a39-195">La méthode setter contenue dans le style définit la propriété <xref:System.Windows.Controls.Control.Background%2A> pour un <xref:System.Windows.Controls.Button> mis en vert.</span><span class="sxs-lookup"><span data-stu-id="97a39-195">The setter within the style sets the <xref:System.Windows.Controls.Control.Background%2A> property for a styled <xref:System.Windows.Controls.Button> to green.</span></span>

[!code-xaml[PropertiesOvwSupport#SimpleStyleDef](~/samples/snippets/csharp/VS_Snippets_Wpf/PropertiesOvwSupport/CSharp/page3.xaml#simplestyledef)]

[!code-xaml[PropertiesOvwSupport#SimpleStyle](~/samples/snippets/csharp/VS_Snippets_Wpf/PropertiesOvwSupport/CSharp/page3.xaml#simplestyle)]

<span data-ttu-id="97a39-196">Pour plus d’informations, consultez [Application d’un style et création de modèles](../controls/styling-and-templating.md).</span><span class="sxs-lookup"><span data-stu-id="97a39-196">For more information, see [Styling and Templating](../controls/styling-and-templating.md).</span></span>

### <a name="animations"></a><span data-ttu-id="97a39-197">Animations</span><span class="sxs-lookup"><span data-stu-id="97a39-197">Animations</span></span>
<span data-ttu-id="97a39-198">Les propriétés de dépendance peuvent être animées.</span><span class="sxs-lookup"><span data-stu-id="97a39-198">Dependency properties can be animated.</span></span> <span data-ttu-id="97a39-199">Quand une animation est appliquée et s’exécute, la valeur animée opère à une priorité plus élevée que toute autre valeur (par exemple une valeur locale) qu’aurait normalement la propriété.</span><span class="sxs-lookup"><span data-stu-id="97a39-199">When an animation is applied and is running, the animated value operates at a higher precedence than any value (such as a local value) that the property otherwise has.</span></span>

<span data-ttu-id="97a39-200">L’exemple suivant anime <xref:System.Windows.Controls.Control.Background%2A> sur une propriété <xref:System.Windows.Controls.Button> (techniquement, il anime <xref:System.Windows.Controls.Control.Background%2A> à l’aide de la syntaxe d’élément de propriété pour spécifier un <xref:System.Windows.Media.SolidColorBrush> vide en tant que <xref:System.Windows.Controls.Control.Background%2A>, puis la propriété <xref:System.Windows.Media.SolidColorBrush.Color%2A> de <xref:System.Windows.Media.SolidColorBrush> est directement animée).</span><span class="sxs-lookup"><span data-stu-id="97a39-200">The following example animates the <xref:System.Windows.Controls.Control.Background%2A> on a <xref:System.Windows.Controls.Button> property (technically, the <xref:System.Windows.Controls.Control.Background%2A> is animated by using property element syntax to specify a blank <xref:System.Windows.Media.SolidColorBrush> as the <xref:System.Windows.Controls.Control.Background%2A>, then the <xref:System.Windows.Media.SolidColorBrush.Color%2A> property of that <xref:System.Windows.Media.SolidColorBrush> is the property that is directly animated).</span></span>

[!code-xaml[PropertiesOvwSupport#MiniAnimate](~/samples/snippets/csharp/VS_Snippets_Wpf/PropertiesOvwSupport/CSharp/page3.xaml#minianimate)]

<span data-ttu-id="97a39-201">Pour plus d’informations sur l’animation de propriétés, consultez [Vue d’ensemble des animations](../graphics-multimedia/animation-overview.md) et [Vue d’ensemble des plans conceptuels](../graphics-multimedia/storyboards-overview.md).</span><span class="sxs-lookup"><span data-stu-id="97a39-201">For more information on animating properties, see [Animation Overview](../graphics-multimedia/animation-overview.md) and [Storyboards Overview](../graphics-multimedia/storyboards-overview.md).</span></span>

### <a name="metadata-overrides"></a><span data-ttu-id="97a39-202">Substitutions de métadonnées</span><span class="sxs-lookup"><span data-stu-id="97a39-202">Metadata overrides</span></span>
<span data-ttu-id="97a39-203">Vous pouvez changer certains comportements d’une propriété de dépendance en substituant les métadonnées de cette propriété quand vous dérivez de la classe qui inscrit initialement la propriété de dépendance.</span><span class="sxs-lookup"><span data-stu-id="97a39-203">You can change certain behaviors of a dependency property by overriding the metadata for that property when you derive from the class that originally registers the dependency property.</span></span> <span data-ttu-id="97a39-204">La substitution de métadonnées repose sur l’identificateur <xref:System.Windows.DependencyProperty>.</span><span class="sxs-lookup"><span data-stu-id="97a39-204">Overriding metadata relies on the <xref:System.Windows.DependencyProperty> identifier.</span></span> <span data-ttu-id="97a39-205">Elle ne nécessite pas la réimplémentation de la propriété.</span><span class="sxs-lookup"><span data-stu-id="97a39-205">Overriding metadata does not require re-implementing the property.</span></span> <span data-ttu-id="97a39-206">Le changement de métadonnées est géré de manière native par le système de propriétés. Chaque classe contient potentiellement des métadonnées individuelles pour toutes les propriétés qui sont héritées des classes de base, sur la base de chaque type.</span><span class="sxs-lookup"><span data-stu-id="97a39-206">The metadata change is handled natively by the property system; each class potentially holds individual metadata for all properties that are inherited from base classes, on a per-type basis.</span></span>

<span data-ttu-id="97a39-207">L’exemple suivant remplace les métadonnées d’une propriété de dépendance <xref:System.Windows.FrameworkElement.DefaultStyleKey%2A>.</span><span class="sxs-lookup"><span data-stu-id="97a39-207">The following example overrides metadata for a dependency property <xref:System.Windows.FrameworkElement.DefaultStyleKey%2A>.</span></span> <span data-ttu-id="97a39-208">La substitution de ces métadonnées de propriété de dépendance particulières fait partie d’un modèle d’implémentation qui crée des contrôles capables d’utiliser les styles par défaut de thèmes.</span><span class="sxs-lookup"><span data-stu-id="97a39-208">Overriding this particular dependency property metadata is part of an implementation pattern that creates controls that can use default styles from themes.</span></span>

[!code-csharp[PropertiesOvwSupport#OverrideMetadata](~/samples/snippets/csharp/VS_Snippets_Wpf/PropertiesOvwSupport/CSharp/page3.xaml.cs#overridemetadata)]
[!code-vb[PropertiesOvwSupport#OverrideMetadata](~/samples/snippets/visualbasic/VS_Snippets_Wpf/PropertiesOvwSupport/visualbasic/page3.xaml.vb#overridemetadata)]

<span data-ttu-id="97a39-209">Pour plus d’informations sur la substitution ou l’obtention de métadonnées de propriété, consultez [Métadonnées de propriété de dépendance](dependency-property-metadata.md).</span><span class="sxs-lookup"><span data-stu-id="97a39-209">For more information about overriding or obtaining property metadata, see [Dependency Property Metadata](dependency-property-metadata.md).</span></span>

### <a name="property-value-inheritance"></a><span data-ttu-id="97a39-210">Héritage d’une valeur de propriété</span><span class="sxs-lookup"><span data-stu-id="97a39-210">Property value inheritance</span></span>
<span data-ttu-id="97a39-211">Un élément peut hériter de la valeur d’une propriété de dépendance de son parent dans l’arborescence d’objets.</span><span class="sxs-lookup"><span data-stu-id="97a39-211">An element can inherit the value of a dependency property from its parent in the object tree.</span></span>

> [!NOTE]
> <span data-ttu-id="97a39-212">Le comportement d’héritage de valeur de propriété n’est pas activé globalement pour toutes les propriétés de dépendance, car le temps de calcul pour l’héritage a un certain impact sur les performances.</span><span class="sxs-lookup"><span data-stu-id="97a39-212">Property value inheritance behavior is not globally enabled for all dependency properties, because the calculation time for inheritance does have some performance impact.</span></span> <span data-ttu-id="97a39-213">L’héritage de valeur de propriété est en général activé uniquement pour les propriétés où un scénario particulier suggère que l’héritage de valeur de propriété est appropriée.</span><span class="sxs-lookup"><span data-stu-id="97a39-213">Property value inheritance is typically only enabled for properties where a particular scenario suggests that property value inheritance is appropriate.</span></span> <span data-ttu-id="97a39-214">Vous pouvez déterminer si une propriété de dépendance hérite en consultant la section **Informations sur les propriétés de dépendance** de cette propriété de dépendance dans la référence du SDK.</span><span class="sxs-lookup"><span data-stu-id="97a39-214">You can determine whether a dependency property inherits by looking at the **Dependency Property Information** section for that dependency property in the SDK reference.</span></span>

<span data-ttu-id="97a39-215">L’exemple suivant illustre une liaison et définit la propriété <xref:System.Windows.FrameworkElement.DataContext%2A> qui spécifie la source de la liaison, ce qui n’était pas montré dans l’exemple de liaison précédent.</span><span class="sxs-lookup"><span data-stu-id="97a39-215">The following example shows a binding, and sets the <xref:System.Windows.FrameworkElement.DataContext%2A> property that specifies the source of the binding, which was not shown in the earlier binding example.</span></span> <span data-ttu-id="97a39-216">Les liaisons suivantes dans les objets enfants n’ont pas besoin de spécifier la source. Elles peuvent utiliser la valeur héritée de <xref:System.Windows.FrameworkElement.DataContext%2A> dans l’objet <xref:System.Windows.Controls.StackPanel> parent.</span><span class="sxs-lookup"><span data-stu-id="97a39-216">Any subsequent bindings in child objects do not need to specify the source, they can use the inherited value from <xref:System.Windows.FrameworkElement.DataContext%2A> in the parent <xref:System.Windows.Controls.StackPanel> object.</span></span> <span data-ttu-id="97a39-217">(En guise d’alternative, un objet enfant peut choisir de spécifier directement son propre <xref:System.Windows.FrameworkElement.DataContext%2A> ou un <xref:System.Windows.Data.Binding.Source%2A> dans <xref:System.Windows.Data.Binding>, et d’éviter délibérément d’utiliser la valeur héritée pour le contexte de données de ses liaisons.)</span><span class="sxs-lookup"><span data-stu-id="97a39-217">(Alternatively, a child object could instead choose to directly specify its own <xref:System.Windows.FrameworkElement.DataContext%2A> or a <xref:System.Windows.Data.Binding.Source%2A> in the <xref:System.Windows.Data.Binding>, and to deliberately not use the inherited value for data context of its bindings.)</span></span>

[!code-xaml[PropertiesOvwSupport#InheritanceContext](~/samples/snippets/csharp/VS_Snippets_Wpf/PropertiesOvwSupport/CSharp/page3.xaml#inheritancecontext)]

<span data-ttu-id="97a39-218">Pour plus d’informations, consultez [Héritage de valeur de propriété](property-value-inheritance.md).</span><span class="sxs-lookup"><span data-stu-id="97a39-218">For more information, see [Property Value Inheritance](property-value-inheritance.md).</span></span>

### <a name="wpf-designer-integration"></a><span data-ttu-id="97a39-219">Intégration du concepteur WPF</span><span class="sxs-lookup"><span data-stu-id="97a39-219">WPF designer integration</span></span>
<span data-ttu-id="97a39-220">Un contrôle personnalisé avec des propriétés qui sont implémentées comme propriétés de dépendance reçoit la prise en charge du [!INCLUDE[wpfdesigner_current_long](../../../../includes/wpfdesigner-current-long-md.md)] appropriée.</span><span class="sxs-lookup"><span data-stu-id="97a39-220">A custom control with properties that are implemented as dependency properties will receive appropriate [!INCLUDE[wpfdesigner_current_long](../../../../includes/wpfdesigner-current-long-md.md)] support.</span></span> <span data-ttu-id="97a39-221">La possibilité de modifier des propriétés de dépendance directes et jointes avec la fenêtre **Propriétés** constitue un bon exemple.</span><span class="sxs-lookup"><span data-stu-id="97a39-221">One example is the ability to edit direct and attached dependency properties with the **Properties** window.</span></span> <span data-ttu-id="97a39-222">Pour plus d’informations, consultez [Vue d’ensemble de la création de contrôles](../controls/control-authoring-overview.md).</span><span class="sxs-lookup"><span data-stu-id="97a39-222">For more information, see [Control Authoring Overview](../controls/control-authoring-overview.md).</span></span>

## <a name="dependency-property-value-precedence"></a><span data-ttu-id="97a39-223">Priorité de la valeur d’une propriété de dépendance</span><span class="sxs-lookup"><span data-stu-id="97a39-223">Dependency property value precedence</span></span>
<span data-ttu-id="97a39-224">Quand vous obtenez la valeur d’une propriété de dépendance, vous obtenez potentiellement une valeur définie pour cette propriété via l’une des autres entrées basées sur des propriétés qui participent au système de propriétés WPF.</span><span class="sxs-lookup"><span data-stu-id="97a39-224">When you get the value of a dependency property, you are potentially obtaining a value that was set on that property through any one of the other property-based inputs that participate in the WPF property system.</span></span> <span data-ttu-id="97a39-225">Il existe une priorité de valeur de propriété de dépendance, afin que différents scénarios d’obtention des valeurs par les propriétés puissent interagir de manière prévisible.</span><span class="sxs-lookup"><span data-stu-id="97a39-225">Dependency property value precedence exists so that a variety of scenarios for how properties obtain their values can interact in a predictable way.</span></span>

<span data-ttu-id="97a39-226">Prenons l'exemple suivant.</span><span class="sxs-lookup"><span data-stu-id="97a39-226">Consider the following example.</span></span> <span data-ttu-id="97a39-227">L’exemple inclut un style qui s’applique à tous les boutons et à leurs propriétés <xref:System.Windows.Controls.Control.Background%2A>. Toutefois, il spécifie également un bouton avec une valeur <xref:System.Windows.Controls.Control.Background%2A> définie localement.</span><span class="sxs-lookup"><span data-stu-id="97a39-227">The example includes a style that applies to all buttons and their <xref:System.Windows.Controls.Control.Background%2A> properties, but then also specifies one button with a locally set <xref:System.Windows.Controls.Control.Background%2A> value.</span></span>

> [!NOTE]
> <span data-ttu-id="97a39-228">La documentation du SDK utilise les termes « valeur locale » ou « valeur localement définie » occasionnellement lors de la discussion des propriétés de dépendance.</span><span class="sxs-lookup"><span data-stu-id="97a39-228">The SDK documentation uses the terms "local value" or "locally set value" occasionally when discussing dependency properties.</span></span> <span data-ttu-id="97a39-229">Une valeur localement définie est une valeur de propriété qui est définie directement sur une instance d’objet dans le code, ou en tant qu’attribut d’élément en XAML.</span><span class="sxs-lookup"><span data-stu-id="97a39-229">A locally set value is a property value that is set directly on an object instance in code, or as an attribute on an element in XAML.</span></span>  
  
<span data-ttu-id="97a39-230">En principe, pour le premier bouton, la propriété est définie à deux reprises, mais une seule valeur est applicable : celle ayant la priorité la plus élevée.</span><span class="sxs-lookup"><span data-stu-id="97a39-230">In principle, for the first button, the property is set twice, but only one value applies: the value with the highest precedence.</span></span> <span data-ttu-id="97a39-231">Une valeur localement définie a la priorité la plus élevée (sauf une animation en cours d’exécution, mais aucune animation n’est applicable dans cet exemple). La valeur localement définie est donc utilisée au lieu de la valeur du Style Setter pour l’arrière-plan du premier bouton.</span><span class="sxs-lookup"><span data-stu-id="97a39-231">A locally set value has the highest precedence (except for a running animation, but no animation applies in this example) and thus the locally set value is used instead of the style setter value for the background on the first button.</span></span> <span data-ttu-id="97a39-232">Le deuxième bouton n’a aucune valeur locale (et aucune autre valeur ayant une priorité supérieure à celle d’un Style Setter). Par conséquent, l’arrière-plan de ce bouton provient du Style Setter.</span><span class="sxs-lookup"><span data-stu-id="97a39-232">The second button has no local value (and no other value with higher precedence than a style setter) and thus the background in that button comes from the style setter.</span></span>

[!code-xaml[PropertiesOvwSupport#MiniPrecedence](~/samples/snippets/csharp/VS_Snippets_Wpf/PropertiesOvwSupport/CSharp/page3.xaml#miniprecedence)]  

### <a name="why-does-dependency-property-precedence-exist"></a><span data-ttu-id="97a39-233">Pourquoi la priorité des propriétés de dépendance existe-t-elle ?</span><span class="sxs-lookup"><span data-stu-id="97a39-233">Why does dependency property precedence exist?</span></span>
<span data-ttu-id="97a39-234">En règle générale, vous ne souhaitez pas que des styles s’appliquent en permanence et qu’ils dissimulent même la valeur définie localement d’un élément spécifique (sinon, il serait très difficile d’utiliser des styles ou des éléments en général).</span><span class="sxs-lookup"><span data-stu-id="97a39-234">Typically, you would not want styles to always apply and to obscure even a locally set value of an individual element (otherwise, it would be very difficult to use either styles or elements in general).</span></span> <span data-ttu-id="97a39-235">Par conséquent, les valeurs qui proviennent de styles opèrent à une priorité plus faible que les valeurs définies localement.</span><span class="sxs-lookup"><span data-stu-id="97a39-235">Therefore, the values that come from styles operate at a lower precedent than a locally set value.</span></span> <span data-ttu-id="97a39-236">Pour obtenir une liste plus complète de propriétés de dépendance et pour savoir d’où la valeur effective d’une propriété de dépendance peut provenir, consultez [Priorité de la valeur de propriété de dépendance](dependency-property-value-precedence.md).</span><span class="sxs-lookup"><span data-stu-id="97a39-236">For a more thorough listing of dependency properties and where a dependency property effective value might come from, see [Dependency Property Value Precedence](dependency-property-value-precedence.md).</span></span>

> [!NOTE]
> <span data-ttu-id="97a39-237">Un certain nombre de propriétés définies sur des éléments WPF ne sont pas des propriétés de dépendance.</span><span class="sxs-lookup"><span data-stu-id="97a39-237">There are a number of properties defined on WPF elements that are not dependency properties.</span></span> <span data-ttu-id="97a39-238">De manière générale, les propriétés ont été implémentées en tant que propriétés de dépendance uniquement quand il fallait prendre en charge au moins l’un des scénarios activés par le système de propriétés : liaison de données, styles, animation, prise en charge de valeur par défaut, héritage, propriétés jointes ou invalidation.</span><span class="sxs-lookup"><span data-stu-id="97a39-238">By and large, properties were implemented as dependency properties only when there were needs to support at least one of the scenarios enabled by the property system: data binding, styling, animation, default value support, inheritance, attached properties, or invalidation.</span></span>

## <a name="learning-more-about-dependency-properties"></a><span data-ttu-id="97a39-239">En savoir plus sur les propriétés de dépendance</span><span class="sxs-lookup"><span data-stu-id="97a39-239">Learning more about dependency properties</span></span>  

- <span data-ttu-id="97a39-240">Une propriété jointe est un type de propriété qui prend en charge une syntaxe spécialisée en XAML.</span><span class="sxs-lookup"><span data-stu-id="97a39-240">An attached property is a type of property that supports a specialized syntax in XAML.</span></span> <span data-ttu-id="97a39-241">Une propriété jointe n’a souvent pas de correspondance 1:1 avec une propriété common language runtime (CLR) et n’est pas nécessairement une propriété de dépendance.</span><span class="sxs-lookup"><span data-stu-id="97a39-241">An attached property often does not have a 1:1 correspondence with a common language runtime (CLR) property, and is not necessarily a dependency property.</span></span> <span data-ttu-id="97a39-242">L’objectif par défaut d’une propriété jointe est de permettre aux éléments enfants de signaler des valeurs de propriété à un élément parent, même si l’élément parent et l’élément enfant n’ont pas tous deux cette propriété dans leur liste de membres de classe.</span><span class="sxs-lookup"><span data-stu-id="97a39-242">The typical purpose of a attached property is to allow child elements to report property values to a parent element, even if the parent element and child element do not both possess that property as part of the class members listings.</span></span> <span data-ttu-id="97a39-243">L’un des principaux scénarios consiste à permettre aux éléments enfants d’indiquer au parent comment ils doivent être présentés dans [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)]. Pour obtenir un exemple, consultez <xref:System.Windows.Controls.DockPanel.Dock%2A> ou <xref:System.Windows.Controls.Canvas.Left%2A>.</span><span class="sxs-lookup"><span data-stu-id="97a39-243">One primary scenario is to enable child elements to inform the parent how they should be presented in [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)]; for an example, see <xref:System.Windows.Controls.DockPanel.Dock%2A> or <xref:System.Windows.Controls.Canvas.Left%2A>.</span></span> <span data-ttu-id="97a39-244">Pour plus d’informations, consultez [Vue d’ensemble des propriétés jointes](attached-properties-overview.md).</span><span class="sxs-lookup"><span data-stu-id="97a39-244">For details, see [Attached Properties Overview](attached-properties-overview.md).</span></span>

- <span data-ttu-id="97a39-245">Les développeurs de composants ou d’applications peuvent souhaiter créer leur propre propriété de dépendance, afin d’activer des fonctionnalités telles que la liaison de données ou la prise en charge des styles, ou pour prendre en charge l’invalidation et le forçage de valeur.</span><span class="sxs-lookup"><span data-stu-id="97a39-245">Component developers or application developers may wish to create their own dependency property, in order to enable capabilities such as data binding or styles support, or for invalidation and value coercion support.</span></span> <span data-ttu-id="97a39-246">Pour plus d’informations, consultez [Propriétés de dépendance personnalisées](custom-dependency-properties.md).</span><span class="sxs-lookup"><span data-stu-id="97a39-246">For details, see [Custom Dependency Properties](custom-dependency-properties.md).</span></span>

- <span data-ttu-id="97a39-247">Les propriétés de dépendance doivent généralement être considérées comme des propriétés publiques, accessibles ou au moins détectables par tout appelant qui a accès à une instance.</span><span class="sxs-lookup"><span data-stu-id="97a39-247">Dependency properties should generally be considered to be public properties, accessible or at least discoverable by any caller that has access to an instance.</span></span> <span data-ttu-id="97a39-248">Pour plus d’informations, consultez [Sécurité des propriétés de dépendance](dependency-property-security.md).</span><span class="sxs-lookup"><span data-stu-id="97a39-248">For more information, see [Dependency Property Security](dependency-property-security.md).</span></span>

## <a name="see-also"></a><span data-ttu-id="97a39-249">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="97a39-249">See also</span></span>

- [<span data-ttu-id="97a39-250">Propriétés de dépendance personnalisées</span><span class="sxs-lookup"><span data-stu-id="97a39-250">Custom Dependency Properties</span></span>](custom-dependency-properties.md)
- [<span data-ttu-id="97a39-251">Propriétés de dépendance en lecture seule</span><span class="sxs-lookup"><span data-stu-id="97a39-251">Read-Only Dependency Properties</span></span>](read-only-dependency-properties.md)
- [<span data-ttu-id="97a39-252">Vue d’ensemble du langage XAML (WPF)</span><span class="sxs-lookup"><span data-stu-id="97a39-252">XAML Overview (WPF)</span></span>](../../../desktop-wpf/fundamentals/xaml.md)
- [<span data-ttu-id="97a39-253">Architecture de WPF</span><span class="sxs-lookup"><span data-stu-id="97a39-253">WPF Architecture</span></span>](wpf-architecture.md)
