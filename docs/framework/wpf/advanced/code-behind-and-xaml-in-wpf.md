---
title: Code-behind et XAML dans WPF
ms.date: 03/30/2017
helpviewer_keywords:
- XAML [WPF], code-behind
- code-behind files [WPF], XAML
ms.assetid: 9df6d3c9-aed3-471c-af36-6859b19d999f
ms.openlocfilehash: 6a47f5a93cb161c9a87df25403cc86247619cd81
ms.sourcegitcommit: eaa6d5cd0f4e7189dbe0bd756e9f53508b01989e
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 07/07/2019
ms.locfileid: "67610533"
---
# <a name="code-behind-and-xaml-in-wpf"></a><span data-ttu-id="804c0-102">Code-behind et XAML dans WPF</span><span class="sxs-lookup"><span data-stu-id="804c0-102">Code-Behind and XAML in WPF</span></span>
<a name="introduction"></a> <span data-ttu-id="804c0-103">Code-behind est un terme utilisé pour décrire le code joint avec les objets définis par le balisage, quand un [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] page est compilé par balisage.</span><span class="sxs-lookup"><span data-stu-id="804c0-103">Code-behind is a term used to describe the code that is joined with markup-defined objects, when a [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] page is markup-compiled.</span></span> <span data-ttu-id="804c0-104">Cette rubrique décrit la configuration requise pour le code-behind ainsi qu’un mécanisme alternatif incorporé code pour le code dans [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)].</span><span class="sxs-lookup"><span data-stu-id="804c0-104">This topic describes requirements for code-behind as well as an alternative inline code mechanism for code in [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)].</span></span>  
  
 <span data-ttu-id="804c0-105">Cette rubrique contient les sections suivantes :</span><span class="sxs-lookup"><span data-stu-id="804c0-105">This topic contains the following sections:</span></span>  
  
- [<span data-ttu-id="804c0-106">Composants requis</span><span class="sxs-lookup"><span data-stu-id="804c0-106">Prerequisites</span></span>](#Prerequisites)  
  
- [<span data-ttu-id="804c0-107">Code-Behind et le langage XAML</span><span class="sxs-lookup"><span data-stu-id="804c0-107">Code-Behind and the XAML Language</span></span>](#codebehind_and_the_xaml_language)  
  
- [<span data-ttu-id="804c0-108">Code-behind, gestionnaire d’événements et spécifications de la classe partielle dans WPF</span><span class="sxs-lookup"><span data-stu-id="804c0-108">Code-behind, Event Handler, and Partial Class Requirements in WPF</span></span>](#Code_behind__Event_Handler__and_Partial_Class)  
  
- [<span data-ttu-id="804c0-109">x:Code</span><span class="sxs-lookup"><span data-stu-id="804c0-109">x:Code</span></span>](#x_Code)  
  
- [<span data-ttu-id="804c0-110">Limitations de Code inline</span><span class="sxs-lookup"><span data-stu-id="804c0-110">Inline Code Limitations</span></span>](#Inline_Code_Limitations)  
  
<a name="Prerequisites"></a>   
## <a name="prerequisites"></a><span data-ttu-id="804c0-111">Prérequis</span><span class="sxs-lookup"><span data-stu-id="804c0-111">Prerequisites</span></span>  
 <span data-ttu-id="804c0-112">Cette rubrique suppose que vous avez lu la [vue d’ensemble de XAML (WPF)](xaml-overview-wpf.md) et avoir des connaissances de base de la [!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)] et la programmation orientée objet.</span><span class="sxs-lookup"><span data-stu-id="804c0-112">This topic assumes that you have read the [XAML Overview (WPF)](xaml-overview-wpf.md) and have some basic knowledge of the [!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)] and object-oriented programming.</span></span>  
  
<a name="codebehind_and_the_xaml_language"></a>   
## <a name="code-behind-and-the-xaml-language"></a><span data-ttu-id="804c0-113">Code-Behind et le langage XAML</span><span class="sxs-lookup"><span data-stu-id="804c0-113">Code-Behind and the XAML Language</span></span>  
 <span data-ttu-id="804c0-114">Le langage XAML inclut des fonctionnalités au niveau du langage qui le rendent possible d’associer des fichiers de code avec des fichiers de balisage, du côté du fichier de balisage.</span><span class="sxs-lookup"><span data-stu-id="804c0-114">The XAML language includes language-level features that make it possible to associate code files with markup files, from the markup file side.</span></span> <span data-ttu-id="804c0-115">Plus précisément, le langage XAML définit les fonctionnalités de langage [x : Class Directive](../../xaml-services/x-class-directive.md), [x : Subclass Directive](../../xaml-services/x-subclass-directive.md), et [x : ClassModifier, Directive](../../xaml-services/x-classmodifier-directive.md).</span><span class="sxs-lookup"><span data-stu-id="804c0-115">Specifically, the XAML language defines the language features [x:Class Directive](../../xaml-services/x-class-directive.md), [x:Subclass Directive](../../xaml-services/x-subclass-directive.md), and [x:ClassModifier Directive](../../xaml-services/x-classmodifier-directive.md).</span></span> <span data-ttu-id="804c0-116">Exactement comment le code doit être généré et comment intégrer le balisage et le code ne fait pas partie de ce qui spécifie le langage XAML.</span><span class="sxs-lookup"><span data-stu-id="804c0-116">Exactly how the code should be produced, and how to integrate markup and code, is not part of what the XAML language specifies.</span></span> <span data-ttu-id="804c0-117">Il incombe aux infrastructures telles que WPF pour déterminer comment intégrer le code, comment utiliser XAML dans l’application et de modèles de programmation et de la build actions ou l’autre prend en charge que tout ceci requiert.</span><span class="sxs-lookup"><span data-stu-id="804c0-117">It is left up to frameworks such as WPF to determine how to integrate the code, how to use XAML in the application and programming models, and the build actions or other support that all this requires.</span></span>  
  
<a name="Code_behind__Event_Handler__and_Partial_Class"></a>   
## <a name="code-behind-event-handler-and-partial-class-requirements-in-wpf"></a><span data-ttu-id="804c0-118">Code-behind, gestionnaire d’événements et spécifications de la classe partielle dans WPF</span><span class="sxs-lookup"><span data-stu-id="804c0-118">Code-behind, Event Handler, and Partial Class Requirements in WPF</span></span>  
  
- <span data-ttu-id="804c0-119">La classe partielle doit dériver du type qui stocke l’élément racine.</span><span class="sxs-lookup"><span data-stu-id="804c0-119">The partial class must derive from the type that backs the root element.</span></span>  
  
- <span data-ttu-id="804c0-120">Notez que sous le comportement par défaut des actions de génération de compilation de balisage, vous pouvez laisser la dérivation vide dans la définition de classe partielle sur le côté du code-behind.</span><span class="sxs-lookup"><span data-stu-id="804c0-120">Note that under the default behavior of the markup compile build actions, you can leave the derivation blank in the partial class definition on the code-behind side.</span></span> <span data-ttu-id="804c0-121">Le résultat compilé supposera type de sauvegarde de la racine de la page pour servir de base à la classe partielle, même si elle pas spécifiée.</span><span class="sxs-lookup"><span data-stu-id="804c0-121">The compiled result will assume the page root's backing type to be the basis for the partial class, even if it not specified.</span></span> <span data-ttu-id="804c0-122">Toutefois, s’appuyer sur ce comportement n’est pas une bonne pratique.</span><span class="sxs-lookup"><span data-stu-id="804c0-122">However, relying on this behavior is not a best practice.</span></span>  
  
- <span data-ttu-id="804c0-123">Les gestionnaires d’événements que vous écrivez dans le code-behind doivent être des méthodes d’instance et ne peut pas être des méthodes statiques.</span><span class="sxs-lookup"><span data-stu-id="804c0-123">The event handlers you write in the code-behind must be instance methods and cannot be static methods.</span></span> <span data-ttu-id="804c0-124">Ces méthodes doivent être définies par la classe partielle dans l’espace de noms CLR identifié par `x:Class`.</span><span class="sxs-lookup"><span data-stu-id="804c0-124">These methods must be defined by the partial class within the CLR namespace identified by `x:Class`.</span></span> <span data-ttu-id="804c0-125">Vous ne pouvez pas qualifier le nom d’un gestionnaire d’événements pour demander à un [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] processeur à rechercher un gestionnaire d’événements pour la connexion d’événements dans une portée de classe différente.</span><span class="sxs-lookup"><span data-stu-id="804c0-125">You cannot qualify the name of an event handler to instruct a [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] processor to look for an event handler for event wiring in a different class scope.</span></span>  
  
- <span data-ttu-id="804c0-126">Le gestionnaire doit correspondre le délégué pour l’événement approprié dans le système de type de stockage.</span><span class="sxs-lookup"><span data-stu-id="804c0-126">The handler must match the delegate for the appropriate event in the backing type system.</span></span>  
  
- <span data-ttu-id="804c0-127">Pour le langage Microsoft Visual Basic, vous pouvez utiliser spécifique au langage `Handles` mot clé à associer les gestionnaires d’instances et des événements dans la déclaration de gestionnaire, au lieu d’attacher des gestionnaires avec des attributs dans [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)].</span><span class="sxs-lookup"><span data-stu-id="804c0-127">For the Microsoft Visual Basic language specifically, you can use the language-specific `Handles` keyword to associate handlers with instances and events in the handler declaration, instead of attaching handlers with attributes in [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)].</span></span> <span data-ttu-id="804c0-128">Toutefois, cette technique a certaines limitations, car le `Handles` mot clé ne peut pas prendre en charge toutes les fonctionnalités spécifiques de la [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] système de l’événement, comme dans certains scénarios d’événements routés ou événements attachés.</span><span class="sxs-lookup"><span data-stu-id="804c0-128">However, this technique does have some limitations because the `Handles` keyword cannot support all of the specific features of the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] event system, such as certain routed event scenarios or attached events.</span></span> <span data-ttu-id="804c0-129">Pour plus d’informations, consultez [Visual Basic et la gestion des événements de WPF](visual-basic-and-wpf-event-handling.md).</span><span class="sxs-lookup"><span data-stu-id="804c0-129">For details, see [Visual Basic and WPF Event Handling](visual-basic-and-wpf-event-handling.md).</span></span>  
  
<a name="x_Code"></a>   
## <a name="xcode"></a><span data-ttu-id="804c0-130">x:Code</span><span class="sxs-lookup"><span data-stu-id="804c0-130">x:Code</span></span>  
 <span data-ttu-id="804c0-131">[x : Code](../../xaml-services/x-code-intrinsic-xaml-type.md) est un élément de directive défini dans [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)].</span><span class="sxs-lookup"><span data-stu-id="804c0-131">[x:Code](../../xaml-services/x-code-intrinsic-xaml-type.md) is a directive element defined in [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)].</span></span> <span data-ttu-id="804c0-132">Un `x:Code` la directive de l’élément peut contenir du code de programmation inline.</span><span class="sxs-lookup"><span data-stu-id="804c0-132">An `x:Code` directive element can contain inline programming code.</span></span> <span data-ttu-id="804c0-133">Le code défini en ligne peut interagir avec le [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] sur la même page.</span><span class="sxs-lookup"><span data-stu-id="804c0-133">The code that is defined inline can interact with the [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] on the same page.</span></span> <span data-ttu-id="804c0-134">L’exemple suivant illustre le code inline c#.</span><span class="sxs-lookup"><span data-stu-id="804c0-134">The following example illustrates inline C# code.</span></span> <span data-ttu-id="804c0-135">Notez que le code se trouve dans le `x:Code` élément et que le code doit être entouré de `<CDATA[`... `]]>` pour échapper le contenu pour [!INCLUDE[TLA2#tla_xml](../../../../includes/tla2sharptla-xml-md.md)], de sorte qu’un [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] processeur (interprétant le [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] schéma ou la [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] schéma) n’essaie pas d’interpréter le contenu littéralement en tant que [!INCLUDE[TLA2#tla_xml](../../../../includes/tla2sharptla-xml-md.md)].</span><span class="sxs-lookup"><span data-stu-id="804c0-135">Notice that the code is inside the `x:Code` element and that the code must be surrounded by `<CDATA[`...`]]>` to escape the contents for [!INCLUDE[TLA2#tla_xml](../../../../includes/tla2sharptla-xml-md.md)], so that a [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] processor (interpreting either the [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] schema or the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] schema) will not try to interpret the contents literally as [!INCLUDE[TLA2#tla_xml](../../../../includes/tla2sharptla-xml-md.md)].</span></span>  
  
 [!code-xaml[XAMLOvwSupport#ButtonWithInlineCode](~/samples/snippets/csharp/VS_Snippets_Wpf/XAMLOvwSupport/CSharp/page4.xaml#buttonwithinlinecode)]  
  
<a name="Inline_Code_Limitations"></a>   
## <a name="inline-code-limitations"></a><span data-ttu-id="804c0-136">Limitations de Code inline</span><span class="sxs-lookup"><span data-stu-id="804c0-136">Inline Code Limitations</span></span>  
 <span data-ttu-id="804c0-137">Vous devez envisager d’éviter ou de limiter l’utilisation de code inline.</span><span class="sxs-lookup"><span data-stu-id="804c0-137">You should consider avoiding or limiting the use of inline code.</span></span> <span data-ttu-id="804c0-138">En termes d’architecture et de philosophie du codage, la séparation entre le balisage et code-behind conserve les concepteurs et les développeurs rôles bien distincts.</span><span class="sxs-lookup"><span data-stu-id="804c0-138">In terms of architecture and coding philosophy, maintaining a separation between markup and code-behind keeps the designer and developer roles much more distinct.</span></span> <span data-ttu-id="804c0-139">À un niveau plus technique, le code que vous écrivez pour le code inline peut être plus difficile à écrire, étant donné que vous écrivez toujours dans la [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] classe partielle générée et pouvez utiliser uniquement les mappages d’espace de noms XML par défaut.</span><span class="sxs-lookup"><span data-stu-id="804c0-139">On a more technical level, the code that you write for inline code can be awkward to write, because you are always writing into the [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] generated partial class, and can only use the default XML namespace mappings.</span></span> <span data-ttu-id="804c0-140">Étant donné que vous ne pouvez pas ajouter `using` instructions, vous devez qualifier complètement beaucoup d’appels API que vous apportez.</span><span class="sxs-lookup"><span data-stu-id="804c0-140">Because you cannot add `using` statements, you must fully qualify many of the API calls that you make.</span></span> <span data-ttu-id="804c0-141">La valeur par défaut [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] mappages incluent la plupart mais pas tout [!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)] espaces de noms qui sont présents dans le [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] assemblys ; vous devez qualifier complètement les appels aux types et membres contenus dans les autres espaces de noms CLR.</span><span class="sxs-lookup"><span data-stu-id="804c0-141">The default [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] mappings include most but not all [!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)] namespaces that are present in the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] assemblies; you will have to fully qualify calls to types and members contained within the other CLR namespaces.</span></span> <span data-ttu-id="804c0-142">Vous également ne peut pas définir n’importe quoi au-delà de la classe partielle dans le code inline, et toutes les entités de code utilisateur que vous référencez doivent exister en tant que membre ou variable dans la classe partielle générée.</span><span class="sxs-lookup"><span data-stu-id="804c0-142">You also cannot define anything beyond the partial class in the inline code, and all user code entities you reference must exist as a member or variable within the generated partial class.</span></span> <span data-ttu-id="804c0-143">Autres langage spécifique fonctionnalités de programmation, tels que des macros ou `#ifdef` par rapport à des variables globales ou des variables de génération, ne sont pas disponibles.</span><span class="sxs-lookup"><span data-stu-id="804c0-143">Other language specific programming features, such as macros or `#ifdef` against global variables or build variables, are also not available.</span></span> <span data-ttu-id="804c0-144">Pour plus d’informations, consultez [x : Code de Type XAML intrinsèque](../../xaml-services/x-code-intrinsic-xaml-type.md).</span><span class="sxs-lookup"><span data-stu-id="804c0-144">For more information, see [x:Code Intrinsic XAML Type](../../xaml-services/x-code-intrinsic-xaml-type.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="804c0-145">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="804c0-145">See also</span></span>

- [<span data-ttu-id="804c0-146">Vue d’ensemble du langage XAML (WPF)</span><span class="sxs-lookup"><span data-stu-id="804c0-146">XAML Overview (WPF)</span></span>](xaml-overview-wpf.md)
- [<span data-ttu-id="804c0-147">x:Code, type XAML intrinsèque</span><span class="sxs-lookup"><span data-stu-id="804c0-147">x:Code Intrinsic XAML Type</span></span>](../../xaml-services/x-code-intrinsic-xaml-type.md)
- [<span data-ttu-id="804c0-148">Génération d’une application WPF</span><span class="sxs-lookup"><span data-stu-id="804c0-148">Building a WPF Application</span></span>](../app-development/building-a-wpf-application-wpf.md)
- [<span data-ttu-id="804c0-149">Syntaxe XAML en détail</span><span class="sxs-lookup"><span data-stu-id="804c0-149">XAML Syntax In Detail</span></span>](xaml-syntax-in-detail.md)
