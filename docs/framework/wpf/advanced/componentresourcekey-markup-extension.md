---
title: ComponentResourceKey, extension de balisage
ms.date: 03/30/2017
f1_keywords:
- ComponentResourceKey
- ComponentResourceKeyExtension
helpviewer_keywords:
- ComponentResourceKey markup extension [WPF]
- XAML [WPF], ComponentResourceKey markup extension
ms.assetid: d6bcdbe6-61b3-40a7-b381-4e02185b5a85
ms.openlocfilehash: 4cdba2a61be4e9686cd2120fd90a213534c222c8
ms.sourcegitcommit: 7980a91f90ae5eca859db7e6bfa03e23e76a1a50
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 04/13/2020
ms.locfileid: "81243360"
---
# <a name="componentresourcekey-markup-extension"></a><span data-ttu-id="3192b-102">ComponentResourceKey, extension de balisage</span><span class="sxs-lookup"><span data-stu-id="3192b-102">ComponentResourceKey Markup Extension</span></span>
<span data-ttu-id="3192b-103">Définit et référence les clés pour les ressources chargées à partir d’assemblages externes.</span><span class="sxs-lookup"><span data-stu-id="3192b-103">Defines and references keys for resources that are loaded from external assemblies.</span></span> <span data-ttu-id="3192b-104">Cela permet à une recherche de ressources de spécifier un type cible dans un assemblage, plutôt qu’un dictionnaire de ressources explicite dans une assemblée ou sur une classe.</span><span class="sxs-lookup"><span data-stu-id="3192b-104">This enables a resource lookup to specify a target type in an assembly, rather than an explicit resource dictionary in an assembly or on a class.</span></span>  
  
## <a name="xaml-attribute-usage-setting-key-compact"></a><span data-ttu-id="3192b-105">Utilisation d’attributs XAML (clé de réglage, compacte)</span><span class="sxs-lookup"><span data-stu-id="3192b-105">XAML Attribute Usage (setting key, compact)</span></span>  
  
```xml  
<object x:Key="{ComponentResourceKey {x:Type targetTypeName}, targetID}" .../>  
```  
  
## <a name="xaml-attribute-usage-setting-key-verbose"></a><span data-ttu-id="3192b-106">Utilisation d’attributs XAML (clé de réglage, verbose)</span><span class="sxs-lookup"><span data-stu-id="3192b-106">XAML Attribute Usage (setting key, verbose)</span></span>  
  
```xml  
<object x:Key="{ComponentResourceKey TypeInTargetAssembly={x:Type targetTypeName}, ResourceID=targetID}" .../>  
```  
  
## <a name="xaml-attribute-usage-requesting-resource-compact"></a><span data-ttu-id="3192b-107">Utilisation d’attributs XAML (ressource demandée, compacte)</span><span class="sxs-lookup"><span data-stu-id="3192b-107">XAML Attribute Usage (requesting resource, compact)</span></span>  
  
```xml  
<object property="{DynamicResource {ComponentResourceKey {x:Type targetTypeName}, targetID}}" .../>  
```  
  
## <a name="xaml-attribute-usage-requesting-resource-verbose"></a><span data-ttu-id="3192b-108">Utilisation d’attributs XAML (demande de ressources, verbose)</span><span class="sxs-lookup"><span data-stu-id="3192b-108">XAML Attribute Usage (requesting resource, verbose)</span></span>  
  
```xml  
<object property="{DynamicResource {ComponentResourceKey TypeInTargetAssembly={x:Type targetTypeName}, ResourceID=targetID}}" .../>  
```  
  
## <a name="xaml-values"></a><span data-ttu-id="3192b-109">Valeurs XAML</span><span class="sxs-lookup"><span data-stu-id="3192b-109">XAML Values</span></span>  
  
|||  
|-|-|  
|`targetTypeName`|<span data-ttu-id="3192b-110">Le nom du type public de l’heure courante de langue (CLR) qui est défini dans l’assemblage des ressources.</span><span class="sxs-lookup"><span data-stu-id="3192b-110">The name of the public common language runtime (CLR) type that is defined in the resource assembly.</span></span>|  
|`targetID`|<span data-ttu-id="3192b-111">La clé de la ressource.</span><span class="sxs-lookup"><span data-stu-id="3192b-111">The key for the resource.</span></span> <span data-ttu-id="3192b-112">Lorsque les ressources `targetID` seront examinées, elles seront analogues à la [directive x: Key](../../../desktop-wpf/xaml-services/xkey-directive.md) de la ressource.</span><span class="sxs-lookup"><span data-stu-id="3192b-112">When resources are looked up, `targetID` will be analogous to the [x:Key Directive](../../../desktop-wpf/xaml-services/xkey-directive.md) of the resource.</span></span>|  
  
## <a name="remarks"></a><span data-ttu-id="3192b-113">Notes</span><span class="sxs-lookup"><span data-stu-id="3192b-113">Remarks</span></span>  
 <span data-ttu-id="3192b-114">Comme on le voit dans`ComponentResourceKey`les utilisations ci-dessus, l’utilisation d’une extension de balisage se trouve à deux endroits :</span><span class="sxs-lookup"><span data-stu-id="3192b-114">As seen in the usages above, a {`ComponentResourceKey`} markup extension usage is found in two places:</span></span>  
  
- <span data-ttu-id="3192b-115">La définition d’une clé dans un dictionnaire de ressources thématiques, telle qu’fournie par un auteur de contrôle.</span><span class="sxs-lookup"><span data-stu-id="3192b-115">The definition of a key within a theme resource dictionary, as provided by a control author.</span></span>  
  
- <span data-ttu-id="3192b-116">Accéder à une ressource thématique de l’assemblée, lorsque vous retemplating le contrôle, mais que vous voulez utiliser les valeurs de propriété qui proviennent des ressources fournies par les thèmes du contrôle.</span><span class="sxs-lookup"><span data-stu-id="3192b-116">Accessing a theme resource from the assembly, when you are retemplating the control but want to use property values that come from resources provided by the control's themes.</span></span>  
  
 <span data-ttu-id="3192b-117">Pour le référencement des ressources de composants qui `{DynamicResource}` proviennent `{StaticResource}`de thèmes, il est généralement recommandé que vous utilisiez plutôt que .</span><span class="sxs-lookup"><span data-stu-id="3192b-117">For referencing component resources that come from themes, it is generally recommended that you use `{DynamicResource}` rather than `{StaticResource}`.</span></span> <span data-ttu-id="3192b-118">Ceci est indiqué dans les usages.</span><span class="sxs-lookup"><span data-stu-id="3192b-118">This is shown in the usages.</span></span> <span data-ttu-id="3192b-119">`{DynamicResource}`est recommandé parce que le thème lui-même peut être changé par l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="3192b-119">`{DynamicResource}` is recommended because the theme itself can be changed by the user.</span></span> <span data-ttu-id="3192b-120">Si vous voulez que la ressource de composants qui correspond le plus étroitement à l’intention de l’auteur de contrôle pour soutenir un thème, vous devriez permettre à votre référence de ressource de composant d’être dynamique également.</span><span class="sxs-lookup"><span data-stu-id="3192b-120">If you want the component resource that most closely matches the control author's intent for supporting a theme, you should enable your component resource reference to be dynamic also.</span></span>  
  
 <span data-ttu-id="3192b-121">Le <xref:System.Windows.ComponentResourceKey.TypeInTargetAssembly%2A> identifie un type qui existe dans l’assemblage cible où la ressource est effectivement définie.</span><span class="sxs-lookup"><span data-stu-id="3192b-121">The <xref:System.Windows.ComponentResourceKey.TypeInTargetAssembly%2A> identifies a type that exists in the target assembly where the resource is actually defined.</span></span> <span data-ttu-id="3192b-122">A `ComponentResourceKey` peut être défini et utilisé indépendamment <xref:System.Windows.ComponentResourceKey.TypeInTargetAssembly%2A> de savoir exactement où le est défini, mais doit éventuellement résoudre le type par des assemblages référencés.</span><span class="sxs-lookup"><span data-stu-id="3192b-122">A `ComponentResourceKey` can be defined and used independently of knowing exactly where the <xref:System.Windows.ComponentResourceKey.TypeInTargetAssembly%2A> is defined, but eventually must resolve the type through referenced assemblies.</span></span>  
  
 <span data-ttu-id="3192b-123">Une utilisation <xref:System.Windows.ComponentResourceKey> courante est de définir les clés qui sont ensuite exposées en tant que membres d’une classe.</span><span class="sxs-lookup"><span data-stu-id="3192b-123">A common usage for <xref:System.Windows.ComponentResourceKey> is to define keys that are then exposed as members of a class.</span></span> <span data-ttu-id="3192b-124">Pour cette utilisation, <xref:System.Windows.ComponentResourceKey> vous utilisez le constructeur de classe, pas l’extension de balisage.</span><span class="sxs-lookup"><span data-stu-id="3192b-124">For this usage, you use the <xref:System.Windows.ComponentResourceKey> class constructor, not the markup extension.</span></span> <span data-ttu-id="3192b-125">Pour plus d’informations, voir <xref:System.Windows.ComponentResourceKey>, ou la section " Définir et se référer des clés pour les ressources thématiques " du sujet Contrôle [Authoring Overview](../controls/control-authoring-overview.md).</span><span class="sxs-lookup"><span data-stu-id="3192b-125">For more information, see <xref:System.Windows.ComponentResourceKey>, or the "Defining and Referencing Keys for Theme Resources" section of the topic [Control Authoring Overview](../controls/control-authoring-overview.md).</span></span>  
  
 <span data-ttu-id="3192b-126">Pour établir des clés et faire référence aux ressources clés, la syntaxe d’attribut est couramment utilisée pour l’extension de `ComponentResourceKey` balisage.</span><span class="sxs-lookup"><span data-stu-id="3192b-126">For both establishing keys and referencing keyed resources, attribute syntax is commonly used for the `ComponentResourceKey` markup extension.</span></span>  
  
 <span data-ttu-id="3192b-127">La syntaxe compacte <xref:System.Windows.ComponentResourceKey.%23ctor%2A> indiquée repose sur la signature du constructeur et l’utilisation des paramètres de position d’une extension de balisage.</span><span class="sxs-lookup"><span data-stu-id="3192b-127">The compact syntax shown relies on the <xref:System.Windows.ComponentResourceKey.%23ctor%2A> constructor signature and positional parameter usage of a markup extension.</span></span> <span data-ttu-id="3192b-128">L’ordre dans `targetTypeName` `targetID` lequel le et sont donnés est important.</span><span class="sxs-lookup"><span data-stu-id="3192b-128">The order in which the `targetTypeName` and `targetID` are given is important.</span></span> <span data-ttu-id="3192b-129">La syntaxe verbeuse <xref:System.Windows.ComponentResourceKey.%23ctor%2A> repose sur le constructeur <xref:System.Windows.ComponentResourceKey.TypeInTargetAssembly%2A> sans <xref:System.Windows.ComponentResourceKey.ResourceId%2A> paramètres, puis définit le et d’une manière qui est analogue à une syntaxe d’attribut réel sur un élément d’objet.</span><span class="sxs-lookup"><span data-stu-id="3192b-129">The verbose syntax relies on the <xref:System.Windows.ComponentResourceKey.%23ctor%2A> parameterless constructor, and then sets the <xref:System.Windows.ComponentResourceKey.TypeInTargetAssembly%2A> and <xref:System.Windows.ComponentResourceKey.ResourceId%2A> in a way that is analogous to a true attribute syntax on an object element.</span></span> <span data-ttu-id="3192b-130">Dans la syntaxe verbeuse, l’ordre dans lequel les propriétés sont définies n’est pas important.</span><span class="sxs-lookup"><span data-stu-id="3192b-130">In the verbose syntax, the order in which the properties are set is not important.</span></span> <span data-ttu-id="3192b-131">La relation et les mécanismes de ces deux alternatives (compactes et verbeuses) sont décrits plus en détail dans le thème [Markup Extensions et WPF XAML](markup-extensions-and-wpf-xaml.md).</span><span class="sxs-lookup"><span data-stu-id="3192b-131">The relationship and mechanisms of these two alternatives (compact and verbose) is described in more detail in the topic [Markup Extensions and WPF XAML](markup-extensions-and-wpf-xaml.md).</span></span>  
  
 <span data-ttu-id="3192b-132">Techniquement, la `targetID` valeur pour peut être n’importe quel objet, il n’a pas besoin d’être une chaîne.</span><span class="sxs-lookup"><span data-stu-id="3192b-132">Technically, the value for `targetID` can be any object, it does not have to be a string.</span></span> <span data-ttu-id="3192b-133">Cependant, l’utilisation la plus courante `targetID` dans WPF est d’aligner la valeur avec les formes qui sont des chaînes, et lorsque ces chaînes sont valides dans la [grammaire XamlName](../../../desktop-wpf/xaml-services/xamlname-grammar.md).</span><span class="sxs-lookup"><span data-stu-id="3192b-133">However, the most common usage in WPF is to align the `targetID` value with forms that are strings, and where such strings are valid in the [XamlName Grammar](../../../desktop-wpf/xaml-services/xamlname-grammar.md).</span></span>  
  
 <span data-ttu-id="3192b-134">`ComponentResourceKey`peut être utilisé dans la syntaxe d’élément d’objet.</span><span class="sxs-lookup"><span data-stu-id="3192b-134">`ComponentResourceKey` can be used in object element syntax.</span></span> <span data-ttu-id="3192b-135">Dans ce cas, il est <xref:System.Windows.ComponentResourceKey.TypeInTargetAssembly%2A> nécessaire <xref:System.Windows.ComponentResourceKey.ResourceId%2A> de préciser la valeur de la valeur et des propriétés pour l’initialisation appropriée de l’extension.</span><span class="sxs-lookup"><span data-stu-id="3192b-135">In this case, specifying the value of both the <xref:System.Windows.ComponentResourceKey.TypeInTargetAssembly%2A> and <xref:System.Windows.ComponentResourceKey.ResourceId%2A> properties is required to properly initialize the extension.</span></span>  
  
 <span data-ttu-id="3192b-136">Dans [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] l’implémentation du lecteur, la <xref:System.Windows.ComponentResourceKey> manipulation de cette extension de balisage est définie par la classe.</span><span class="sxs-lookup"><span data-stu-id="3192b-136">In the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] reader implementation, the handling for this markup extension is defined by the <xref:System.Windows.ComponentResourceKey> class.</span></span>  
  
 <span data-ttu-id="3192b-137">`ComponentResourceKey` est une extension de balisage.</span><span class="sxs-lookup"><span data-stu-id="3192b-137">`ComponentResourceKey` is a markup extension.</span></span> <span data-ttu-id="3192b-138">Les extensions de balisage sont généralement implémentées pour éviter que les valeurs d’attribut ne soient autre chose que des valeurs littérales ou des noms de gestionnaire et lorsque l’exigence dépasse le cadre de la définition de convertisseurs de type sur certains types ou propriétés.</span><span class="sxs-lookup"><span data-stu-id="3192b-138">Markup extensions are typically implemented when there is a requirement to escape attribute values to be other than literal values or handler names, and the requirement is more global than just putting type converters on certain types or properties.</span></span> <span data-ttu-id="3192b-139">Toutes les extensions de balisage [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] utilisent les caractères { et } dans leur syntaxe d’attribut, convention selon laquelle un processeur [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] reconnaît qu’une extension de balisage doit traiter l’attribut.</span><span class="sxs-lookup"><span data-stu-id="3192b-139">All markup extensions in [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] use the { and } characters in their attribute syntax, which is the convention by which a [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] processor recognizes that a markup extension must process the attribute.</span></span> <span data-ttu-id="3192b-140">Pour plus d’informations, consultez [Extensions de balisage et XAML WPF](markup-extensions-and-wpf-xaml.md).</span><span class="sxs-lookup"><span data-stu-id="3192b-140">For more information, see [Markup Extensions and WPF XAML](markup-extensions-and-wpf-xaml.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="3192b-141">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="3192b-141">See also</span></span>

- <xref:System.Windows.ComponentResourceKey>
- <xref:System.Windows.Controls.ControlTemplate>
- [<span data-ttu-id="3192b-142">Vue d’ensemble de la création de contrôles</span><span class="sxs-lookup"><span data-stu-id="3192b-142">Control Authoring Overview</span></span>](../controls/control-authoring-overview.md)
- [<span data-ttu-id="3192b-143">Vue d’ensemble du langage XAML (WPF)</span><span class="sxs-lookup"><span data-stu-id="3192b-143">XAML Overview (WPF)</span></span>](../../../desktop-wpf/fundamentals/xaml.md)
- [<span data-ttu-id="3192b-144">Extensions de balisage et XAML WPF</span><span class="sxs-lookup"><span data-stu-id="3192b-144">Markup Extensions and WPF XAML</span></span>](markup-extensions-and-wpf-xaml.md)
