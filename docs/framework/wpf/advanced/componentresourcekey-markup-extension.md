---
title: ComponentResourceKey, extension de balisage
ms.date: 03/30/2017
f1_keywords:
- ComponentResourceKey
- ComponentResourceKeyExtension
helpviewer_keywords:
- ComponentResourceKey markup extension [WPF]
- XAML [WPF], ComponentResourceKey markup extension
ms.assetid: d6bcdbe6-61b3-40a7-b381-4e02185b5a85
ms.openlocfilehash: f86b7000b97bbc1287347947a9244c24a7de74c2
ms.sourcegitcommit: 839777281a281684a7e2906dccb3acd7f6a32023
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 04/24/2020
ms.locfileid: "82141135"
---
# <a name="componentresourcekey-markup-extension"></a><span data-ttu-id="aab37-102">ComponentResourceKey, extension de balisage</span><span class="sxs-lookup"><span data-stu-id="aab37-102">ComponentResourceKey Markup Extension</span></span>
<span data-ttu-id="aab37-103">Définit et référence des clés pour les ressources qui sont chargées à partir d’assemblys externes.</span><span class="sxs-lookup"><span data-stu-id="aab37-103">Defines and references keys for resources that are loaded from external assemblies.</span></span> <span data-ttu-id="aab37-104">Cela permet à une recherche de ressource de spécifier un type de cible dans un assembly, plutôt qu’un dictionnaire de ressources explicite dans un assembly ou une classe.</span><span class="sxs-lookup"><span data-stu-id="aab37-104">This enables a resource lookup to specify a target type in an assembly, rather than an explicit resource dictionary in an assembly or on a class.</span></span>  
  
## <a name="xaml-attribute-usage-setting-key-compact"></a><span data-ttu-id="aab37-105">Utilisation des attributs XAML (clé de paramètre, compact)</span><span class="sxs-lookup"><span data-stu-id="aab37-105">XAML Attribute Usage (setting key, compact)</span></span>  
  
```xml  
<object x:Key="{ComponentResourceKey {x:Type targetTypeName}, targetID}" ... />  
```  
  
## <a name="xaml-attribute-usage-setting-key-verbose"></a><span data-ttu-id="aab37-106">Utilisation des attributs XAML (clé de paramètre, verbose)</span><span class="sxs-lookup"><span data-stu-id="aab37-106">XAML Attribute Usage (setting key, verbose)</span></span>  
  
```xml  
<object x:Key="{ComponentResourceKey TypeInTargetAssembly={x:Type targetTypeName}, ResourceID=targetID}" ... />  
```  
  
## <a name="xaml-attribute-usage-requesting-resource-compact"></a><span data-ttu-id="aab37-107">Utilisation des attributs XAML (demande de ressources, compact)</span><span class="sxs-lookup"><span data-stu-id="aab37-107">XAML Attribute Usage (requesting resource, compact)</span></span>  
  
```xml  
<object property="{DynamicResource {ComponentResourceKey {x:Type targetTypeName}, targetID}}" ... />  
```  
  
## <a name="xaml-attribute-usage-requesting-resource-verbose"></a><span data-ttu-id="aab37-108">Utilisation des attributs XAML (demande de ressource, commentaires)</span><span class="sxs-lookup"><span data-stu-id="aab37-108">XAML Attribute Usage (requesting resource, verbose)</span></span>  
  
```xml  
<object property="{DynamicResource {ComponentResourceKey TypeInTargetAssembly={x:Type targetTypeName}, ResourceID=targetID}}" ... />  
```  
  
## <a name="xaml-values"></a><span data-ttu-id="aab37-109">Valeurs XAML</span><span class="sxs-lookup"><span data-stu-id="aab37-109">XAML Values</span></span>  
  
|||  
|-|-|  
|`targetTypeName`|<span data-ttu-id="aab37-110">Nom du type de common language runtime public (CLR) défini dans l’assembly de ressource.</span><span class="sxs-lookup"><span data-stu-id="aab37-110">The name of the public common language runtime (CLR) type that is defined in the resource assembly.</span></span>|  
|`targetID`|<span data-ttu-id="aab37-111">Clé pour la ressource.</span><span class="sxs-lookup"><span data-stu-id="aab37-111">The key for the resource.</span></span> <span data-ttu-id="aab37-112">Lorsque les ressources sont recherchées, `targetID` est analogue à la [directive x :Key](../../../desktop-wpf/xaml-services/xkey-directive.md) de la ressource.</span><span class="sxs-lookup"><span data-stu-id="aab37-112">When resources are looked up, `targetID` will be analogous to the [x:Key Directive](../../../desktop-wpf/xaml-services/xkey-directive.md) of the resource.</span></span>|  
  
## <a name="remarks"></a><span data-ttu-id="aab37-113">Notes</span><span class="sxs-lookup"><span data-stu-id="aab37-113">Remarks</span></span>  
 <span data-ttu-id="aab37-114">Comme indiqué dans les utilisations ci-dessus, une`ComponentResourceKey`utilisation d’extension de balisage {} se trouve à deux emplacements :</span><span class="sxs-lookup"><span data-stu-id="aab37-114">As seen in the usages above, a {`ComponentResourceKey`} markup extension usage is found in two places:</span></span>  
  
- <span data-ttu-id="aab37-115">Définition d’une clé dans un dictionnaire de ressources de thème, telle qu’elle est fournie par un auteur de contrôle.</span><span class="sxs-lookup"><span data-stu-id="aab37-115">The definition of a key within a theme resource dictionary, as provided by a control author.</span></span>  
  
- <span data-ttu-id="aab37-116">Accès à une ressource de thème à partir de l’assembly, lorsque vous recréationez le contrôle, mais que vous souhaitez utiliser des valeurs de propriété provenant de ressources fournies par les thèmes du contrôle.</span><span class="sxs-lookup"><span data-stu-id="aab37-116">Accessing a theme resource from the assembly, when you are retemplating the control but want to use property values that come from resources provided by the control's themes.</span></span>  
  
 <span data-ttu-id="aab37-117">Pour référencer des ressources de composant provenant de thèmes, il est généralement recommandé d' `{DynamicResource}` utiliser plutôt `{StaticResource}`que.</span><span class="sxs-lookup"><span data-stu-id="aab37-117">For referencing component resources that come from themes, it is generally recommended that you use `{DynamicResource}` rather than `{StaticResource}`.</span></span> <span data-ttu-id="aab37-118">Cela est illustré dans les utilisations.</span><span class="sxs-lookup"><span data-stu-id="aab37-118">This is shown in the usages.</span></span> <span data-ttu-id="aab37-119">`{DynamicResource}`est recommandé, car le thème lui-même peut être modifié par l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="aab37-119">`{DynamicResource}` is recommended because the theme itself can be changed by the user.</span></span> <span data-ttu-id="aab37-120">Si vous souhaitez que la ressource de composant corresponde le mieux à l’intention de l’auteur du contrôle pour la prise en charge d’un thème, vous devez également activer la référence de ressource de votre composant comme étant dynamique.</span><span class="sxs-lookup"><span data-stu-id="aab37-120">If you want the component resource that most closely matches the control author's intent for supporting a theme, you should enable your component resource reference to be dynamic also.</span></span>  
  
 <span data-ttu-id="aab37-121"><xref:System.Windows.ComponentResourceKey.TypeInTargetAssembly%2A> Identifie un type qui existe dans l’assembly cible où la ressource est réellement définie.</span><span class="sxs-lookup"><span data-stu-id="aab37-121">The <xref:System.Windows.ComponentResourceKey.TypeInTargetAssembly%2A> identifies a type that exists in the target assembly where the resource is actually defined.</span></span> <span data-ttu-id="aab37-122">Un `ComponentResourceKey` peut être défini et utilisé indépendamment de savoir exactement où le <xref:System.Windows.ComponentResourceKey.TypeInTargetAssembly%2A> est défini, mais qui finit par résoudre le type par le biais d’assemblys référencés.</span><span class="sxs-lookup"><span data-stu-id="aab37-122">A `ComponentResourceKey` can be defined and used independently of knowing exactly where the <xref:System.Windows.ComponentResourceKey.TypeInTargetAssembly%2A> is defined, but eventually must resolve the type through referenced assemblies.</span></span>  
  
 <span data-ttu-id="aab37-123">Une utilisation courante de <xref:System.Windows.ComponentResourceKey> est de définir des clés qui sont ensuite exposées comme membres d’une classe.</span><span class="sxs-lookup"><span data-stu-id="aab37-123">A common usage for <xref:System.Windows.ComponentResourceKey> is to define keys that are then exposed as members of a class.</span></span> <span data-ttu-id="aab37-124">Pour cette utilisation, vous utilisez le <xref:System.Windows.ComponentResourceKey> constructeur de classe, pas l’extension de balisage.</span><span class="sxs-lookup"><span data-stu-id="aab37-124">For this usage, you use the <xref:System.Windows.ComponentResourceKey> class constructor, not the markup extension.</span></span> <span data-ttu-id="aab37-125">Pour plus d’informations, <xref:System.Windows.ComponentResourceKey>consultez ou la section « Définition et référencement de clés pour les ressources de thème » de la rubrique [vue d’ensemble](../controls/control-authoring-overview.md)de la création de contrôles.</span><span class="sxs-lookup"><span data-stu-id="aab37-125">For more information, see <xref:System.Windows.ComponentResourceKey>, or the "Defining and Referencing Keys for Theme Resources" section of the topic [Control Authoring Overview](../controls/control-authoring-overview.md).</span></span>  
  
 <span data-ttu-id="aab37-126">Pour la création de clés et le référencement de ressources de clé, la syntaxe `ComponentResourceKey` d’attribut est couramment utilisée pour l’extension de balisage.</span><span class="sxs-lookup"><span data-stu-id="aab37-126">For both establishing keys and referencing keyed resources, attribute syntax is commonly used for the `ComponentResourceKey` markup extension.</span></span>  
  
 <span data-ttu-id="aab37-127">La syntaxe compact indiquée s’appuie sur la <xref:System.Windows.ComponentResourceKey.%23ctor%2A> signature du constructeur et l’utilisation des paramètres positionnels d’une extension de balisage.</span><span class="sxs-lookup"><span data-stu-id="aab37-127">The compact syntax shown relies on the <xref:System.Windows.ComponentResourceKey.%23ctor%2A> constructor signature and positional parameter usage of a markup extension.</span></span> <span data-ttu-id="aab37-128">L’ordre dans lequel les `targetTypeName` et `targetID` sont donnés est important.</span><span class="sxs-lookup"><span data-stu-id="aab37-128">The order in which the `targetTypeName` and `targetID` are given is important.</span></span> <span data-ttu-id="aab37-129">La syntaxe détaillée s’appuie sur le <xref:System.Windows.ComponentResourceKey.%23ctor%2A> constructeur sans paramètre, puis définit le <xref:System.Windows.ComponentResourceKey.TypeInTargetAssembly%2A> et <xref:System.Windows.ComponentResourceKey.ResourceId%2A> d’une manière analogue à une syntaxe d’attribut vraie sur un élément objet.</span><span class="sxs-lookup"><span data-stu-id="aab37-129">The verbose syntax relies on the <xref:System.Windows.ComponentResourceKey.%23ctor%2A> parameterless constructor, and then sets the <xref:System.Windows.ComponentResourceKey.TypeInTargetAssembly%2A> and <xref:System.Windows.ComponentResourceKey.ResourceId%2A> in a way that is analogous to a true attribute syntax on an object element.</span></span> <span data-ttu-id="aab37-130">Dans la syntaxe détaillée, l’ordre dans lequel les propriétés sont définies n’est pas important.</span><span class="sxs-lookup"><span data-stu-id="aab37-130">In the verbose syntax, the order in which the properties are set is not important.</span></span> <span data-ttu-id="aab37-131">La relation et les mécanismes de ces deux solutions (compact et détaillé) sont décrits plus en détail dans la rubrique [extensions de balisage et XAML WPF](markup-extensions-and-wpf-xaml.md).</span><span class="sxs-lookup"><span data-stu-id="aab37-131">The relationship and mechanisms of these two alternatives (compact and verbose) is described in more detail in the topic [Markup Extensions and WPF XAML](markup-extensions-and-wpf-xaml.md).</span></span>  
  
 <span data-ttu-id="aab37-132">Techniquement, la valeur de `targetID` peut être n’importe quel objet, il n’est pas nécessaire qu’il s’agit d’une chaîne.</span><span class="sxs-lookup"><span data-stu-id="aab37-132">Technically, the value for `targetID` can be any object, it does not have to be a string.</span></span> <span data-ttu-id="aab37-133">Toutefois, l’utilisation la plus courante dans WPF consiste à aligner `targetID` la valeur avec les formulaires qui sont des chaînes et où ces chaînes sont valides dans la [grammaire XamlName](../../../desktop-wpf/xaml-services/xamlname-grammar.md).</span><span class="sxs-lookup"><span data-stu-id="aab37-133">However, the most common usage in WPF is to align the `targetID` value with forms that are strings, and where such strings are valid in the [XamlName Grammar](../../../desktop-wpf/xaml-services/xamlname-grammar.md).</span></span>  
  
 <span data-ttu-id="aab37-134">`ComponentResourceKey`peut être utilisé dans la syntaxe d’élément objet.</span><span class="sxs-lookup"><span data-stu-id="aab37-134">`ComponentResourceKey` can be used in object element syntax.</span></span> <span data-ttu-id="aab37-135">Dans ce cas, la spécification de la valeur des <xref:System.Windows.ComponentResourceKey.TypeInTargetAssembly%2A> propriétés <xref:System.Windows.ComponentResourceKey.ResourceId%2A> et est requise pour initialiser correctement l’extension.</span><span class="sxs-lookup"><span data-stu-id="aab37-135">In this case, specifying the value of both the <xref:System.Windows.ComponentResourceKey.TypeInTargetAssembly%2A> and <xref:System.Windows.ComponentResourceKey.ResourceId%2A> properties is required to properly initialize the extension.</span></span>  
  
 <span data-ttu-id="aab37-136">Dans l' [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] implémentation du lecteur, la gestion de cette extension de balisage est <xref:System.Windows.ComponentResourceKey> définie par la classe.</span><span class="sxs-lookup"><span data-stu-id="aab37-136">In the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] reader implementation, the handling for this markup extension is defined by the <xref:System.Windows.ComponentResourceKey> class.</span></span>  
  
 <span data-ttu-id="aab37-137">`ComponentResourceKey` est une extension de balisage.</span><span class="sxs-lookup"><span data-stu-id="aab37-137">`ComponentResourceKey` is a markup extension.</span></span> <span data-ttu-id="aab37-138">Les extensions de balisage sont généralement implémentées pour éviter que les valeurs d’attribut ne soient autre chose que des valeurs littérales ou des noms de gestionnaire et lorsque l’exigence dépasse le cadre de la définition de convertisseurs de type sur certains types ou propriétés.</span><span class="sxs-lookup"><span data-stu-id="aab37-138">Markup extensions are typically implemented when there is a requirement to escape attribute values to be other than literal values or handler names, and the requirement is more global than just putting type converters on certain types or properties.</span></span> <span data-ttu-id="aab37-139">Toutes les extensions de balisage [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] utilisent les caractères { et } dans leur syntaxe d’attribut, convention selon laquelle un processeur [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] reconnaît qu’une extension de balisage doit traiter l’attribut.</span><span class="sxs-lookup"><span data-stu-id="aab37-139">All markup extensions in [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] use the { and } characters in their attribute syntax, which is the convention by which a [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] processor recognizes that a markup extension must process the attribute.</span></span> <span data-ttu-id="aab37-140">Pour plus d’informations, consultez [Extensions de balisage et XAML WPF](markup-extensions-and-wpf-xaml.md).</span><span class="sxs-lookup"><span data-stu-id="aab37-140">For more information, see [Markup Extensions and WPF XAML](markup-extensions-and-wpf-xaml.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="aab37-141">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="aab37-141">See also</span></span>

- <xref:System.Windows.ComponentResourceKey>
- <xref:System.Windows.Controls.ControlTemplate>
- [<span data-ttu-id="aab37-142">Vue d’ensemble de la création de contrôles</span><span class="sxs-lookup"><span data-stu-id="aab37-142">Control Authoring Overview</span></span>](../controls/control-authoring-overview.md)
- [<span data-ttu-id="aab37-143">Vue d’ensemble du langage XAML (WPF)</span><span class="sxs-lookup"><span data-stu-id="aab37-143">XAML Overview (WPF)</span></span>](../../../desktop-wpf/fundamentals/xaml.md)
- [<span data-ttu-id="aab37-144">Extensions de balisage et XAML WPF</span><span class="sxs-lookup"><span data-stu-id="aab37-144">Markup Extensions and WPF XAML</span></span>](markup-extensions-and-wpf-xaml.md)
