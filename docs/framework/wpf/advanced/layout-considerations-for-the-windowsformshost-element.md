---
title: Considérations sur la disposition de l'élément WindowsFormsHost
ms.date: 03/30/2017
helpviewer_keywords:
- Windows Forms [WPF], interoperability with
- Windows Forms [WPF], WPF interoperation
- interoperability [WPF], Windows Forms
- WindowsFormsHost element layout considerations [WPF]
- dynamic layout [WPF interoperability]
- device-independent pixels
ms.assetid: 3c574597-bbde-440f-95cc-01371f1a5d9d
ms.openlocfilehash: 89ed57a787b93a1326b4accd3bb1bc5ff9a825fd
ms.sourcegitcommit: 011314e0c8eb4cf4a11d92078f58176c8c3efd2d
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 02/09/2020
ms.locfileid: "77095149"
---
# <a name="layout-considerations-for-the-windowsformshost-element"></a><span data-ttu-id="41579-102">Considérations sur la disposition de l'élément WindowsFormsHost</span><span class="sxs-lookup"><span data-stu-id="41579-102">Layout Considerations for the WindowsFormsHost Element</span></span>
<span data-ttu-id="41579-103">Cette rubrique décrit comment l’élément <xref:System.Windows.Forms.Integration.WindowsFormsHost> interagit avec le système de disposition [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span><span class="sxs-lookup"><span data-stu-id="41579-103">This topic describes how the <xref:System.Windows.Forms.Integration.WindowsFormsHost> element interacts with the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] layout system.</span></span>  
  
 [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] <span data-ttu-id="41579-104">et Windows Forms prennent en charge une logique différente, mais similaire, pour le dimensionnement et le positionnement des éléments sur un formulaire ou une page.</span><span class="sxs-lookup"><span data-stu-id="41579-104">and Windows Forms support different, but similar, logic for sizing and positioning elements on a form or page.</span></span> <span data-ttu-id="41579-105">Lorsque vous créez une interface utilisateur hybride qui héberge des contrôles Windows Forms dans [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], l’élément <xref:System.Windows.Forms.Integration.WindowsFormsHost> intègre les deux schémas de disposition.</span><span class="sxs-lookup"><span data-stu-id="41579-105">When you create a hybrid user interface (UI) that hosts Windows Forms controls in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], the <xref:System.Windows.Forms.Integration.WindowsFormsHost> element integrates the two layout schemes.</span></span>  
  
## <a name="differences-in-layout-between-wpf-and-windows-forms"></a><span data-ttu-id="41579-106">Différences de disposition entre WPF et Windows Forms</span><span class="sxs-lookup"><span data-stu-id="41579-106">Differences in Layout Between WPF and Windows Forms</span></span>  
 [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] <span data-ttu-id="41579-107">utilise une disposition indépendante de la résolution.</span><span class="sxs-lookup"><span data-stu-id="41579-107">uses resolution-independent layout.</span></span> <span data-ttu-id="41579-108">Toutes les dimensions [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] disposition sont spécifiées à l’aide *de pixels indépendants du périphérique*.</span><span class="sxs-lookup"><span data-stu-id="41579-108">All [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] layout dimensions are specified using *device-independent pixels*.</span></span> <span data-ttu-id="41579-109">Un pixel indépendant du périphérique est d’une taille et une résolution indépendantes de 90-sixième, ce qui vous permet d’obtenir des résultats similaires, que vous soyez un moniteur 72 PPP ou une imprimante 19 200 ppp.</span><span class="sxs-lookup"><span data-stu-id="41579-109">A device-independent pixel is one ninety-sixth of an inch in size and resolution-independent, so you get similar results regardless of whether you are rendering to a 72-dpi monitor or a 19,200-dpi printer.</span></span>  
  
 [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] <span data-ttu-id="41579-110">est également basé sur une *disposition dynamique*.</span><span class="sxs-lookup"><span data-stu-id="41579-110">is also based on *dynamic layout*.</span></span> <span data-ttu-id="41579-111">Cela signifie qu’un élément de l’interface utilisateur se réorganise sur un formulaire ou une page en fonction de son contenu, de son conteneur de disposition parent et de la taille d’écran disponible.</span><span class="sxs-lookup"><span data-stu-id="41579-111">This means that a UI element arranges itself on a form or page according to its content, its parent layout container, and the available screen size.</span></span> <span data-ttu-id="41579-112">La disposition dynamique facilite la localisation en ajustant automatiquement la taille et la position des éléments d’interface utilisateur lorsque les chaînes qu’ils contiennent changent de longueur.</span><span class="sxs-lookup"><span data-stu-id="41579-112">Dynamic layout facilitates localization by automatically adjusting the size and position of UI elements when the strings they contain change length.</span></span>  
  
 <span data-ttu-id="41579-113">La disposition dans Windows Forms dépend du périphérique et est plus susceptible d’être statique.</span><span class="sxs-lookup"><span data-stu-id="41579-113">Layout in Windows Forms is device-dependent and more likely to be static.</span></span> <span data-ttu-id="41579-114">En règle générale, les contrôles Windows Forms sont positionnés de manière absolue sur un formulaire à l’aide des dimensions spécifiées en pixels matériels.</span><span class="sxs-lookup"><span data-stu-id="41579-114">Typically, Windows Forms controls are positioned absolutely on a form using dimensions specified in hardware pixels.</span></span> <span data-ttu-id="41579-115">Toutefois, Windows Forms prend en charge certaines fonctionnalités de disposition dynamique, comme indiqué dans le tableau suivant.</span><span class="sxs-lookup"><span data-stu-id="41579-115">However, Windows Forms does support some dynamic layout features, as summarized in the following table.</span></span>  
  
|<span data-ttu-id="41579-116">Fonctionnalité de disposition</span><span class="sxs-lookup"><span data-stu-id="41579-116">Layout feature</span></span>|<span data-ttu-id="41579-117">Description</span><span class="sxs-lookup"><span data-stu-id="41579-117">Description</span></span>|  
|--------------------|-----------------|  
|<span data-ttu-id="41579-118">Redimensionnement automatique</span><span class="sxs-lookup"><span data-stu-id="41579-118">Autosizing</span></span>|<span data-ttu-id="41579-119">Certaines Windows Forms contrôles se redimensionnent pour afficher correctement leur contenu.</span><span class="sxs-lookup"><span data-stu-id="41579-119">Some Windows Forms controls resize themselves to display their contents properly.</span></span> <span data-ttu-id="41579-120">Pour plus d’informations, consultez [vue d’ensemble de la propriété AutoSize](../../winforms/controls/autosize-property-overview.md).</span><span class="sxs-lookup"><span data-stu-id="41579-120">For more information, see [AutoSize Property Overview](../../winforms/controls/autosize-property-overview.md).</span></span>|  
|<span data-ttu-id="41579-121">Ancrage et ancrage</span><span class="sxs-lookup"><span data-stu-id="41579-121">Anchoring and docking</span></span>|<span data-ttu-id="41579-122">Les contrôles Windows Forms prennent en charge le positionnement et le dimensionnement en fonction du conteneur parent.</span><span class="sxs-lookup"><span data-stu-id="41579-122">Windows Forms controls support positioning and sizing based on the parent container.</span></span> <span data-ttu-id="41579-123">Pour plus d’informations, consultez <xref:System.Windows.Forms.Control.Anchor%2A?displayProperty=nameWithType> et <xref:System.Windows.Forms.Control.Dock%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="41579-123">For more information, see <xref:System.Windows.Forms.Control.Anchor%2A?displayProperty=nameWithType> and <xref:System.Windows.Forms.Control.Dock%2A?displayProperty=nameWithType>.</span></span>|  
|<span data-ttu-id="41579-124">Mise à l’échelle automatique</span><span class="sxs-lookup"><span data-stu-id="41579-124">Autoscaling</span></span>|<span data-ttu-id="41579-125">Les contrôles de conteneur se redimensionnent eux-mêmes et leurs enfants en fonction de la résolution du périphérique de sortie ou de la taille, en pixels, de la police de conteneur par défaut.</span><span class="sxs-lookup"><span data-stu-id="41579-125">Container controls resize themselves and their children based on the resolution of the output device or the size, in pixels, of the default container font.</span></span> <span data-ttu-id="41579-126">Pour plus d’informations, consultez [mise à l’échelle automatique dans Windows Forms](../../winforms/automatic-scaling-in-windows-forms.md).</span><span class="sxs-lookup"><span data-stu-id="41579-126">For more information, see [Automatic Scaling in Windows Forms](../../winforms/automatic-scaling-in-windows-forms.md).</span></span>|  
|<span data-ttu-id="41579-127">Conteneurs de disposition</span><span class="sxs-lookup"><span data-stu-id="41579-127">Layout containers</span></span>|<span data-ttu-id="41579-128">Les contrôles <xref:System.Windows.Forms.FlowLayoutPanel> et <xref:System.Windows.Forms.TableLayoutPanel> réorganisent leurs contrôles enfants et leur taille en fonction de leur contenu.</span><span class="sxs-lookup"><span data-stu-id="41579-128">The <xref:System.Windows.Forms.FlowLayoutPanel> and <xref:System.Windows.Forms.TableLayoutPanel> controls arrange their child controls and size themselves according to their contents.</span></span>|  
  
## <a name="layout-limitations"></a><span data-ttu-id="41579-129">Limitations de la disposition</span><span class="sxs-lookup"><span data-stu-id="41579-129">Layout Limitations</span></span>  
 <span data-ttu-id="41579-130">En général, les contrôles de Windows Forms ne peuvent pas être mis à l’échelle et transformés dans la mesure du possible dans les [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span><span class="sxs-lookup"><span data-stu-id="41579-130">In general, Windows Forms controls cannot be scaled and transformed to the extent possible in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span></span> <span data-ttu-id="41579-131">La liste suivante décrit les limitations connues lorsque l’élément <xref:System.Windows.Forms.Integration.WindowsFormsHost> tente d’intégrer son contrôle Windows Forms hébergé dans le système de disposition [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span><span class="sxs-lookup"><span data-stu-id="41579-131">The following list describes the known limitations when the <xref:System.Windows.Forms.Integration.WindowsFormsHost> element attempts to integrate its hosted Windows Forms control into the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] layout system.</span></span>  
  
- <span data-ttu-id="41579-132">Dans certains cas, les contrôles Windows Forms ne peuvent pas être redimensionnés ou ne peuvent être dimensionnés que sur des dimensions spécifiques.</span><span class="sxs-lookup"><span data-stu-id="41579-132">In some cases, Windows Forms controls cannot be resized, or can be sized only to specific dimensions.</span></span> <span data-ttu-id="41579-133">Par exemple, un contrôle Windows Forms <xref:System.Windows.Forms.ComboBox> ne prend en charge qu’une seule hauteur, définie par la taille de police du contrôle.</span><span class="sxs-lookup"><span data-stu-id="41579-133">For example, a Windows Forms <xref:System.Windows.Forms.ComboBox> control supports only a single height, which is defined by the control's font size.</span></span> <span data-ttu-id="41579-134">Dans une disposition dynamique [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] où les éléments peuvent être étirés verticalement, un contrôle <xref:System.Windows.Forms.ComboBox> hébergé ne s’étire pas comme prévu.</span><span class="sxs-lookup"><span data-stu-id="41579-134">In a [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] dynamic layout where elements can stretch vertically, a hosted <xref:System.Windows.Forms.ComboBox> control will not stretch as expected.</span></span>  
  
- <span data-ttu-id="41579-135">Vous ne pouvez pas faire pivoter ou incliner les contrôles Windows Forms.</span><span class="sxs-lookup"><span data-stu-id="41579-135">Windows Forms controls cannot be rotated or skewed.</span></span> <span data-ttu-id="41579-136">L’élément <xref:System.Windows.Forms.Integration.WindowsFormsHost> déclenche l’événement <xref:System.Windows.Forms.Integration.WindowsFormsHost.LayoutError> si vous appliquez une transformation d’inclinaison ou de rotation.</span><span class="sxs-lookup"><span data-stu-id="41579-136">The <xref:System.Windows.Forms.Integration.WindowsFormsHost> element raises the <xref:System.Windows.Forms.Integration.WindowsFormsHost.LayoutError> event if you apply a skew or rotation transformation.</span></span> <span data-ttu-id="41579-137">Si vous ne gérez pas l’événement <xref:System.Windows.Forms.Integration.WindowsFormsHost.LayoutError>, un <xref:System.InvalidOperationException> est déclenché.</span><span class="sxs-lookup"><span data-stu-id="41579-137">If you do not handle the <xref:System.Windows.Forms.Integration.WindowsFormsHost.LayoutError> event, an <xref:System.InvalidOperationException> is raised.</span></span>  
  
- <span data-ttu-id="41579-138">Dans la plupart des cas, les contrôles Windows Forms ne prennent pas en charge la mise à l’échelle proportionnelle.</span><span class="sxs-lookup"><span data-stu-id="41579-138">In most cases, Windows Forms controls do not support proportional scaling.</span></span> <span data-ttu-id="41579-139">Les dimensions globales du contrôle sont mises à l’échelle, mais les contrôles enfants et les composants du contrôle risquent de ne pas être redimensionnés comme prévu.</span><span class="sxs-lookup"><span data-stu-id="41579-139">Although the overall dimensions of the control will scale, child controls and component elements of the control may not resize as expected.</span></span> <span data-ttu-id="41579-140">Cette limitation dépend de la manière dont chaque contrôle de Windows Forms prend en charge la mise à l’échelle.</span><span class="sxs-lookup"><span data-stu-id="41579-140">This limitation depends on how well each Windows Forms control supports scaling.</span></span> <span data-ttu-id="41579-141">En outre, vous ne pouvez pas mettre à l’échelle Windows Forms contrôles à une taille de 0 pixel.</span><span class="sxs-lookup"><span data-stu-id="41579-141">In addition, you cannot scale Windows Forms controls down to a size of 0 pixels.</span></span>  
  
- <span data-ttu-id="41579-142">Les contrôles Windows Forms prennent en charge la mise à l’échelle automatique, dans laquelle le formulaire se redimensionne automatiquement et ses contrôles en fonction de la taille de police.</span><span class="sxs-lookup"><span data-stu-id="41579-142">Windows Forms controls support autoscaling, in which the form will automatically resize itself and its controls based on the font size.</span></span> <span data-ttu-id="41579-143">Dans une interface utilisateur [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], le changement de la taille de police ne redimensionne pas la disposition entière, mais peut entraîner le redimensionnement dynamique des éléments de façon individuelle.</span><span class="sxs-lookup"><span data-stu-id="41579-143">In a [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] user interface, changing the font size does not resize the entire layout, although individual elements may dynamically resize.</span></span>  
  
### <a name="z-order"></a><span data-ttu-id="41579-144">Ordre de plan</span><span class="sxs-lookup"><span data-stu-id="41579-144">Z-order</span></span>  
 <span data-ttu-id="41579-145">Dans une interface utilisateur [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], vous pouvez changer l’ordre de plan des éléments pour en contrôler la superposition.</span><span class="sxs-lookup"><span data-stu-id="41579-145">In a [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] user interface, you can change the z-order of elements to control overlapping behavior.</span></span> <span data-ttu-id="41579-146">Un contrôle Windows Forms hébergé est dessiné dans un HWND distinct ; il est donc toujours dessiné par-dessus les éléments [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span><span class="sxs-lookup"><span data-stu-id="41579-146">A hosted Windows Forms control is drawn in a separate HWND, so it is always drawn on top of [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] elements.</span></span>  
  
 <span data-ttu-id="41579-147">Un contrôle Windows Forms hébergé est également dessiné en plus de tout élément <xref:System.Windows.Documents.Adorner>.</span><span class="sxs-lookup"><span data-stu-id="41579-147">A hosted Windows Forms control is also drawn on top of any <xref:System.Windows.Documents.Adorner> elements.</span></span>  
  
## <a name="layout-behavior"></a><span data-ttu-id="41579-148">Comportement de disposition</span><span class="sxs-lookup"><span data-stu-id="41579-148">Layout Behavior</span></span>  
 <span data-ttu-id="41579-149">Les sections suivantes décrivent des aspects spécifiques du comportement de disposition lors de l’hébergement de contrôles Windows Forms dans [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span><span class="sxs-lookup"><span data-stu-id="41579-149">The following sections describe specific aspects of layout behavior when hosting Windows Forms controls in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span></span>  
  
### <a name="scaling-unit-conversion-and-device-independence"></a><span data-ttu-id="41579-150">Mise à l’échelle, conversion d’unités et indépendance des appareils</span><span class="sxs-lookup"><span data-stu-id="41579-150">Scaling, Unit Conversion, and Device Independence</span></span>  
 <span data-ttu-id="41579-151">Chaque fois que l’élément <xref:System.Windows.Forms.Integration.WindowsFormsHost> effectue des opérations impliquant des dimensions [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] et Windows Forms, deux systèmes de coordonnées sont impliqués : les pixels indépendants du périphérique pour les [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] et les pixels matériels pour Windows Forms.</span><span class="sxs-lookup"><span data-stu-id="41579-151">Whenever the <xref:System.Windows.Forms.Integration.WindowsFormsHost> element performs operations involving [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] and Windows Forms dimensions, two coordinate systems are involved: device-independent pixels for [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] and hardware pixels for Windows Forms.</span></span> <span data-ttu-id="41579-152">Par conséquent, vous devez appliquer les conversions d’unité et de mise à l’échelle appropriées pour obtenir une disposition cohérente.</span><span class="sxs-lookup"><span data-stu-id="41579-152">Therefore, you must apply proper unit and scaling conversions to achieve a consistent layout.</span></span>  
  
 <span data-ttu-id="41579-153">La conversion entre les systèmes de coordonnées dépend de la résolution de l’appareil en cours et des transformations de disposition ou de rendu appliquées à l’élément <xref:System.Windows.Forms.Integration.WindowsFormsHost> ou à ses ancêtres.</span><span class="sxs-lookup"><span data-stu-id="41579-153">Conversion between the coordinate systems depends on the current device resolution and any layout or rendering transforms applied to the <xref:System.Windows.Forms.Integration.WindowsFormsHost> element or to its ancestors.</span></span>  
  
 <span data-ttu-id="41579-154">Si le périphérique de sortie est 96 ppp et qu’aucune mise à l’échelle n’a été appliquée à l’élément <xref:System.Windows.Forms.Integration.WindowsFormsHost>, un pixel indépendant du périphérique est égal à un pixel matériel.</span><span class="sxs-lookup"><span data-stu-id="41579-154">If the output device is 96 dpi and no scaling has been applied to the <xref:System.Windows.Forms.Integration.WindowsFormsHost> element, one device-independent pixel is equal to one hardware pixel.</span></span>  
  
 <span data-ttu-id="41579-155">Tous les autres cas nécessitent la mise à l’échelle du système de coordonnées.</span><span class="sxs-lookup"><span data-stu-id="41579-155">All other cases require coordinate system scaling.</span></span> <span data-ttu-id="41579-156">Le contrôle hébergé n’est pas redimensionné.</span><span class="sxs-lookup"><span data-stu-id="41579-156">The hosted control is not resized.</span></span> <span data-ttu-id="41579-157">Au lieu de cela, l’élément <xref:System.Windows.Forms.Integration.WindowsFormsHost> tente de mettre à l’échelle le contrôle hébergé et tous ses contrôles enfants.</span><span class="sxs-lookup"><span data-stu-id="41579-157">Instead, the <xref:System.Windows.Forms.Integration.WindowsFormsHost> element attempts to scale the hosted control and all of its child controls.</span></span> <span data-ttu-id="41579-158">Étant donné que Windows Forms ne prend pas entièrement en charge la mise à l’échelle, l’élément <xref:System.Windows.Forms.Integration.WindowsFormsHost> est mis à l’échelle au degré pris en charge par les contrôles particuliers.</span><span class="sxs-lookup"><span data-stu-id="41579-158">Because Windows Forms does not fully support scaling, the <xref:System.Windows.Forms.Integration.WindowsFormsHost> element scales to the degree supported by particular controls.</span></span>  
  
 <span data-ttu-id="41579-159">Substituez la méthode <xref:System.Windows.Forms.Integration.WindowsFormsHost.ScaleChild%2A> pour fournir un comportement de mise à l’échelle personnalisé pour le contrôle Windows Forms hébergé.</span><span class="sxs-lookup"><span data-stu-id="41579-159">Override the <xref:System.Windows.Forms.Integration.WindowsFormsHost.ScaleChild%2A> method to provide custom scaling behavior for the hosted Windows Forms control.</span></span>  
  
 <span data-ttu-id="41579-160">En plus de la mise à l’échelle, l’élément <xref:System.Windows.Forms.Integration.WindowsFormsHost> gère les cas d’arrondi et de dépassement de capacité comme décrit dans le tableau suivant.</span><span class="sxs-lookup"><span data-stu-id="41579-160">In addition to scaling, the <xref:System.Windows.Forms.Integration.WindowsFormsHost> element handles rounding and overflow cases as described in the following table.</span></span>  
  
|<span data-ttu-id="41579-161">Problème de conversion</span><span class="sxs-lookup"><span data-stu-id="41579-161">Conversion issue</span></span>|<span data-ttu-id="41579-162">Description</span><span class="sxs-lookup"><span data-stu-id="41579-162">Description</span></span>|  
|----------------------|-----------------|  
|<span data-ttu-id="41579-163">Arrondi</span><span class="sxs-lookup"><span data-stu-id="41579-163">Rounding</span></span>|[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] <span data-ttu-id="41579-164">dimensions de pixel indépendantes du périphérique sont spécifiées comme `double`et Windows Forms dimensions de pixel matériel sont spécifiées comme `int`.</span><span class="sxs-lookup"><span data-stu-id="41579-164">device-independent pixel dimensions are specified as `double`, and Windows Forms hardware pixel dimensions are specified as `int`.</span></span> <span data-ttu-id="41579-165">Dans les cas où les dimensions basées sur `double`sont converties en dimensions `int`es, l’élément <xref:System.Windows.Forms.Integration.WindowsFormsHost> utilise l’arrondi standard, de sorte que les valeurs fractionnaires inférieures à 0,5 soient arrondies à 0.</span><span class="sxs-lookup"><span data-stu-id="41579-165">In cases where `double`-based dimensions are converted to `int`-based dimensions, the <xref:System.Windows.Forms.Integration.WindowsFormsHost> element uses standard rounding, so that fractional values less than 0.5 are rounded down to 0.</span></span>|  
|<span data-ttu-id="41579-166">Dépassement</span><span class="sxs-lookup"><span data-stu-id="41579-166">Overflow</span></span>|<span data-ttu-id="41579-167">Lorsque l’élément <xref:System.Windows.Forms.Integration.WindowsFormsHost> convertit `double` valeurs en `int` valeurs, le dépassement de capacité est possible.</span><span class="sxs-lookup"><span data-stu-id="41579-167">When the <xref:System.Windows.Forms.Integration.WindowsFormsHost> element converts from `double` values to `int` values, overflow is possible.</span></span> <span data-ttu-id="41579-168">Les valeurs supérieures à <xref:System.Int32.MaxValue> sont définies sur <xref:System.Int32.MaxValue>.</span><span class="sxs-lookup"><span data-stu-id="41579-168">Values that are larger than <xref:System.Int32.MaxValue> are set to <xref:System.Int32.MaxValue>.</span></span>|  
  
### <a name="layout-related-properties"></a><span data-ttu-id="41579-169">Propriétés relatives à la disposition</span><span class="sxs-lookup"><span data-stu-id="41579-169">Layout-related Properties</span></span>  
 <span data-ttu-id="41579-170">Les propriétés qui contrôlent le comportement de disposition dans les contrôles Windows Forms et les éléments [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] sont mappées de manière appropriée par l’élément <xref:System.Windows.Forms.Integration.WindowsFormsHost>.</span><span class="sxs-lookup"><span data-stu-id="41579-170">Properties that control layout behavior in Windows Forms controls and [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] elements are mapped appropriately by the <xref:System.Windows.Forms.Integration.WindowsFormsHost> element.</span></span> <span data-ttu-id="41579-171">Pour plus d’informations, consultez [Mappage de propriétés Windows Forms et WPF](windows-forms-and-wpf-property-mapping.md).</span><span class="sxs-lookup"><span data-stu-id="41579-171">For more information, see [Windows Forms and WPF Property Mapping](windows-forms-and-wpf-property-mapping.md).</span></span>  
  
### <a name="layout-changes-in-the-hosted-control"></a><span data-ttu-id="41579-172">Modifications de disposition dans le contrôle hébergé</span><span class="sxs-lookup"><span data-stu-id="41579-172">Layout Changes in the Hosted Control</span></span>  
 <span data-ttu-id="41579-173">Les modifications de disposition dans le contrôle de Windows Forms hébergé sont propagées vers [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] pour déclencher des mises à jour de disposition.</span><span class="sxs-lookup"><span data-stu-id="41579-173">Layout changes in the hosted Windows Forms control are propagated to [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] to trigger layout updates.</span></span> <span data-ttu-id="41579-174">La méthode <xref:System.Windows.UIElement.InvalidateMeasure%2A> sur <xref:System.Windows.Forms.Integration.WindowsFormsHost> garantit que les modifications de disposition dans le contrôle hébergé entraînent l’exécution du moteur de disposition [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span><span class="sxs-lookup"><span data-stu-id="41579-174">The <xref:System.Windows.UIElement.InvalidateMeasure%2A> method on <xref:System.Windows.Forms.Integration.WindowsFormsHost> ensures that layout changes in the hosted control cause the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] layout engine to run.</span></span>  
  
### <a name="continuously-sized-windows-forms-controls"></a><span data-ttu-id="41579-175">Contrôles de Windows Forms dimensionnés en continu</span><span class="sxs-lookup"><span data-stu-id="41579-175">Continuously Sized Windows Forms Controls</span></span>  
 <span data-ttu-id="41579-176">Les contrôles Windows Forms qui prennent en charge la mise à l’échelle continue interagissent entièrement avec le système de disposition [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span><span class="sxs-lookup"><span data-stu-id="41579-176">Windows Forms controls that support continuous scaling fully interact with the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] layout system.</span></span> <span data-ttu-id="41579-177">L’élément <xref:System.Windows.Forms.Integration.WindowsFormsHost> utilise les méthodes <xref:System.Windows.FrameworkElement.MeasureOverride%2A> et <xref:System.Windows.FrameworkElement.ArrangeOverride%2A> comme d’habitude pour dimensionner et réorganiser le contrôle Windows Forms hébergé.</span><span class="sxs-lookup"><span data-stu-id="41579-177">The <xref:System.Windows.Forms.Integration.WindowsFormsHost> element uses the <xref:System.Windows.FrameworkElement.MeasureOverride%2A> and <xref:System.Windows.FrameworkElement.ArrangeOverride%2A> methods as usual to size and arrange the hosted Windows Forms control.</span></span>  
  
### <a name="sizing-algorithm"></a><span data-ttu-id="41579-178">Algorithme de dimensionnement</span><span class="sxs-lookup"><span data-stu-id="41579-178">Sizing Algorithm</span></span>  
 <span data-ttu-id="41579-179">L’élément <xref:System.Windows.Forms.Integration.WindowsFormsHost> utilise la procédure suivante pour dimensionner le contrôle hébergé :</span><span class="sxs-lookup"><span data-stu-id="41579-179">The <xref:System.Windows.Forms.Integration.WindowsFormsHost> element uses the following procedure to size the hosted control:</span></span>  
  
1. <span data-ttu-id="41579-180">L’élément <xref:System.Windows.Forms.Integration.WindowsFormsHost> substitue les méthodes de <xref:System.Windows.FrameworkElement.MeasureOverride%2A> et de <xref:System.Windows.FrameworkElement.ArrangeOverride%2A>.</span><span class="sxs-lookup"><span data-stu-id="41579-180">The <xref:System.Windows.Forms.Integration.WindowsFormsHost> element overrides the <xref:System.Windows.FrameworkElement.MeasureOverride%2A> and <xref:System.Windows.FrameworkElement.ArrangeOverride%2A> methods.</span></span>  
  
2. <span data-ttu-id="41579-181">Pour déterminer la taille du contrôle hébergé, la méthode <xref:System.Windows.FrameworkElement.MeasureOverride%2A> appelle la méthode <xref:System.Windows.Forms.Control.GetPreferredSize%2A> du contrôle hébergé avec une contrainte convertie à partir de la contrainte transmise à la méthode <xref:System.Windows.FrameworkElement.MeasureOverride%2A>.</span><span class="sxs-lookup"><span data-stu-id="41579-181">To determine the size of the hosted control, the <xref:System.Windows.FrameworkElement.MeasureOverride%2A> method calls the hosted control's <xref:System.Windows.Forms.Control.GetPreferredSize%2A> method with a constraint translated from the constraint passed to the <xref:System.Windows.FrameworkElement.MeasureOverride%2A> method.</span></span>  
  
3. <span data-ttu-id="41579-182">La méthode <xref:System.Windows.FrameworkElement.ArrangeOverride%2A> tente de définir le contrôle hébergé sur la contrainte de taille donnée.</span><span class="sxs-lookup"><span data-stu-id="41579-182">The <xref:System.Windows.FrameworkElement.ArrangeOverride%2A> method attempts to set the hosted control to the given size constraint.</span></span>  
  
4. <span data-ttu-id="41579-183">Si la propriété <xref:System.Windows.Forms.Control.Size%2A> du contrôle hébergé correspond à la contrainte spécifiée, le contrôle hébergé est dimensionné à la contrainte.</span><span class="sxs-lookup"><span data-stu-id="41579-183">If the hosted control's <xref:System.Windows.Forms.Control.Size%2A> property matches the specified constraint, the hosted control is sized to the constraint.</span></span>  
  
 <span data-ttu-id="41579-184">Si la propriété <xref:System.Windows.Forms.Control.Size%2A> ne correspond pas à la contrainte spécifiée, le contrôle hébergé ne prend pas en charge le dimensionnement continu.</span><span class="sxs-lookup"><span data-stu-id="41579-184">If the <xref:System.Windows.Forms.Control.Size%2A> property does not match the specified constraint, the hosted control does not support continuous sizing.</span></span> <span data-ttu-id="41579-185">Par exemple, le contrôle <xref:System.Windows.Forms.MonthCalendar> autorise uniquement des tailles discrètes.</span><span class="sxs-lookup"><span data-stu-id="41579-185">For example, the <xref:System.Windows.Forms.MonthCalendar> control allows only discrete sizes.</span></span> <span data-ttu-id="41579-186">Les tailles autorisées pour ce contrôle se composent d’entiers (représentant le nombre de mois) à la fois pour la hauteur et la largeur.</span><span class="sxs-lookup"><span data-stu-id="41579-186">The permitted sizes for this control consist of integers (representing the number of months) for both height and width.</span></span> <span data-ttu-id="41579-187">Dans ce cas, l’élément <xref:System.Windows.Forms.Integration.WindowsFormsHost> se comporte comme suit :</span><span class="sxs-lookup"><span data-stu-id="41579-187">In cases such as this, the <xref:System.Windows.Forms.Integration.WindowsFormsHost> element behaves as follows:</span></span>  
  
- <span data-ttu-id="41579-188">Si la propriété <xref:System.Windows.Forms.Control.Size%2A> retourne une taille supérieure à la contrainte spécifiée, l’élément <xref:System.Windows.Forms.Integration.WindowsFormsHost> découpe le contrôle hébergé.</span><span class="sxs-lookup"><span data-stu-id="41579-188">If the <xref:System.Windows.Forms.Control.Size%2A> property returns a larger size than the specified constraint, the <xref:System.Windows.Forms.Integration.WindowsFormsHost> element clips the hosted control.</span></span> <span data-ttu-id="41579-189">La hauteur et la largeur sont gérées séparément, de sorte que le contrôle hébergé peut être coupé dans les deux sens.</span><span class="sxs-lookup"><span data-stu-id="41579-189">Height and width are handled separately, so the hosted control may be clipped in either direction.</span></span>  
  
- <span data-ttu-id="41579-190">Si la propriété <xref:System.Windows.Forms.Control.Size%2A> retourne une taille inférieure à la contrainte spécifiée, <xref:System.Windows.Forms.Integration.WindowsFormsHost> accepte cette valeur de taille et retourne la valeur au système de disposition [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span><span class="sxs-lookup"><span data-stu-id="41579-190">If the <xref:System.Windows.Forms.Control.Size%2A> property returns a smaller size than the specified constraint, <xref:System.Windows.Forms.Integration.WindowsFormsHost> accepts this size value and returns the value to the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] layout system.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="41579-191">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="41579-191">See also</span></span>

- <xref:System.Windows.Forms.Integration.ElementHost>
- <xref:System.Windows.Forms.Integration.WindowsFormsHost>
- [<span data-ttu-id="41579-192">Procédure pas à pas : organisation des contrôles Windows Forms dans WPF</span><span class="sxs-lookup"><span data-stu-id="41579-192">Walkthrough: Arranging Windows Forms Controls in WPF</span></span>](walkthrough-arranging-windows-forms-controls-in-wpf.md)
- [<span data-ttu-id="41579-193">Organiser des contrôles de Windows Forms dans WPF, exemple</span><span class="sxs-lookup"><span data-stu-id="41579-193">Arranging Windows Forms Controls in WPF Sample</span></span>](https://github.com/microsoft/WPF-Samples/tree/master/Migration%20and%20Interoperability/WpfLayoutHostingWfWithXaml)
- [<span data-ttu-id="41579-194">Mappage de propriétés Windows Forms et WPF</span><span class="sxs-lookup"><span data-stu-id="41579-194">Windows Forms and WPF Property Mapping</span></span>](windows-forms-and-wpf-property-mapping.md)
- [<span data-ttu-id="41579-195">Migration et interopérabilité</span><span class="sxs-lookup"><span data-stu-id="41579-195">Migration and Interoperability</span></span>](migration-and-interoperability.md)
