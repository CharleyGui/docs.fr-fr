---
title: Personnalisation de l'apparence d'un contrôle existant en créant un ControlTemplate
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- control contract [WPF]
- controls [WPF], visual structure changes
- ControlTemplate [WPF], customizing for existing controls
- skinning controls [WPF]
- controls [WPF], appearance specified by state
- templates [WPF], custom for existing controls
ms.assetid: 678dd116-43a2-4b8c-82b5-6b826f126e31
ms.openlocfilehash: 563f4a9fefe86b58f0dc6f0a4aec5cb285630616
ms.sourcegitcommit: 2701302a99cafbe0d86d53d540eb0fa7e9b46b36
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 04/28/2019
ms.locfileid: "64593410"
---
# <a name="customizing-the-appearance-of-an-existing-control-by-creating-a-controltemplate"></a><span data-ttu-id="cfa2b-102">Personnalisation de l'apparence d'un contrôle existant en créant un ControlTemplate</span><span class="sxs-lookup"><span data-stu-id="cfa2b-102">Customizing the Appearance of an Existing Control by Creating a ControlTemplate</span></span>
<a name="introduction"></a> <span data-ttu-id="cfa2b-103">Un <xref:System.Windows.Controls.ControlTemplate> spécifie la structure visuelle et le comportement visuel d’un contrôle.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-103">A <xref:System.Windows.Controls.ControlTemplate> specifies the visual structure and visual behavior of a control.</span></span> <span data-ttu-id="cfa2b-104">Vous pouvez personnaliser l’apparence d’un contrôle en lui donnant un nouveau <xref:System.Windows.Controls.ControlTemplate>.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-104">You can customize the appearance of a control by giving it a new <xref:System.Windows.Controls.ControlTemplate>.</span></span> <span data-ttu-id="cfa2b-105">Lorsque vous créez un <xref:System.Windows.Controls.ControlTemplate>, vous remplacez l’apparence d’un contrôle existant sans modifier ses fonctionnalités.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-105">When you create a <xref:System.Windows.Controls.ControlTemplate>, you replace the appearance of an existing control without changing its functionality.</span></span> <span data-ttu-id="cfa2b-106">Par exemple, vous pouvez arrondir les boutons dans votre application au lieu de la forme carrée par défaut, mais le bouton déclenchera toujours le <xref:System.Windows.Controls.Primitives.ButtonBase.Click> événement.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-106">For example, you can make the buttons in your application round instead of the default square shape, but the button will still raise the <xref:System.Windows.Controls.Primitives.ButtonBase.Click> event.</span></span>  
  
 <span data-ttu-id="cfa2b-107">Cette rubrique explique les différentes parties d’un <xref:System.Windows.Controls.ControlTemplate>, illustre la création d’une simple <xref:System.Windows.Controls.ControlTemplate> pour un <xref:System.Windows.Controls.Button>et explique comment interpréter le contrat de contrôle d’un contrôle afin que vous puissiez personnaliser son apparence.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-107">This topic explains the various parts of a <xref:System.Windows.Controls.ControlTemplate>, demonstrates creating a simple <xref:System.Windows.Controls.ControlTemplate> for a <xref:System.Windows.Controls.Button>, and explains how to understand the control contract of a control so that you can customize its appearance.</span></span> <span data-ttu-id="cfa2b-108">Étant donné que vous créez un <xref:System.Windows.Controls.ControlTemplate> dans [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)], vous pouvez modifier l’apparence d’un contrôle sans écrire de code.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-108">Because you create a <xref:System.Windows.Controls.ControlTemplate> in [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)], you can change a control's appearance without writing any code.</span></span> <span data-ttu-id="cfa2b-109">Vous pouvez également utiliser un concepteur, tel que Microsoft Expression Blend, pour créer des modèles de contrôle personnalisé.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-109">You can also use a designer, such as Microsoft Expression Blend, to create custom control templates.</span></span> <span data-ttu-id="cfa2b-110">Cette rubrique présente des exemples dans le [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] personnaliser l’apparence d’un <xref:System.Windows.Controls.Button> et répertorie l’exemple complet à la fin de la rubrique.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-110">This topic shows examples in the [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] that customize the appearance of a <xref:System.Windows.Controls.Button> and lists the complete example at the end of the topic.</span></span> <span data-ttu-id="cfa2b-111">Pour plus d’informations sur l’utilisation d’Expression Blend, consultez [Définition d’un style pour un contrôle prenant en charge les modèles](https://go.microsoft.com/fwlink/?LinkId=161153).</span><span class="sxs-lookup"><span data-stu-id="cfa2b-111">For more information about using Expression Blend, see [Styling a control that supports templates](https://go.microsoft.com/fwlink/?LinkId=161153).</span></span>  
  
 <span data-ttu-id="cfa2b-112">Les illustrations suivantes montrent un <xref:System.Windows.Controls.Button> qui utilise le <xref:System.Windows.Controls.ControlTemplate> qui est créé dans cette rubrique.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-112">The following illustrations show a <xref:System.Windows.Controls.Button> that uses the <xref:System.Windows.Controls.ControlTemplate> that is created in this topic.</span></span>  
  
 <span data-ttu-id="cfa2b-113">![Bouton avec un modèle de contrôle personnalisé. ](./media/ndp-buttonnormal.png "NDP_ButtonNormal")</span><span class="sxs-lookup"><span data-stu-id="cfa2b-113">![A button with a custom control template.](./media/ndp-buttonnormal.png "NDP_ButtonNormal")</span></span>  
<span data-ttu-id="cfa2b-114">Bouton qui utilise un modèle de contrôle personnalisé</span><span class="sxs-lookup"><span data-stu-id="cfa2b-114">A button that uses a custom control template</span></span>  
  
 <span data-ttu-id="cfa2b-115">![Un bouton avec une bordure rouge. ](./media/ndp-buttonmouseover.png "NDP_ButtonMouseOver")</span><span class="sxs-lookup"><span data-stu-id="cfa2b-115">![A button with a red border.](./media/ndp-buttonmouseover.png "NDP_ButtonMouseOver")</span></span>  
<span data-ttu-id="cfa2b-116">Bouton qui utilise un modèle de contrôle personnalisé et sur lequel le pointeur de la souris se trouve</span><span class="sxs-lookup"><span data-stu-id="cfa2b-116">A button that uses a custom control template and has the mouse pointer over it</span></span>  

<a name="prerequisites"></a>   
## <a name="prerequisites"></a><span data-ttu-id="cfa2b-117">Prérequis</span><span class="sxs-lookup"><span data-stu-id="cfa2b-117">Prerequisites</span></span>  
 <span data-ttu-id="cfa2b-118">Cette rubrique part du principe que vous savez comment créer et utiliser des contrôles et des styles, comme indiqué dans [Contrôles](index.md).</span><span class="sxs-lookup"><span data-stu-id="cfa2b-118">This topic assumes that you understand how to create and use controls and styles as discussed in [Controls](index.md).</span></span> <span data-ttu-id="cfa2b-119">Les concepts abordés dans cette rubrique s’appliquent aux éléments qui héritent de la <xref:System.Windows.Controls.Control> (classe), à l’exception de la <xref:System.Windows.Controls.UserControl>.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-119">The concepts discussed in this topic apply to elements that inherit from the <xref:System.Windows.Controls.Control> class, except for the <xref:System.Windows.Controls.UserControl>.</span></span> <span data-ttu-id="cfa2b-120">Vous ne pouvez pas appliquer un <xref:System.Windows.Controls.ControlTemplate> à un <xref:System.Windows.Controls.UserControl>.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-120">You cannot apply a <xref:System.Windows.Controls.ControlTemplate> to a <xref:System.Windows.Controls.UserControl>.</span></span>  
  
<a name="when_you_should_create_a_controltemplate"></a>   
## <a name="when-you-should-create-a-controltemplate"></a><span data-ttu-id="cfa2b-121">Quand créer un ControlTemplate</span><span class="sxs-lookup"><span data-stu-id="cfa2b-121">When You Should Create a ControlTemplate</span></span>  
 <span data-ttu-id="cfa2b-122">Les contrôles ont de nombreuses propriétés, telles que <xref:System.Windows.Controls.Border.Background%2A>, <xref:System.Windows.Controls.Control.Foreground%2A>, et <xref:System.Windows.Controls.Control.FontFamily%2A>, que vous pouvez définir pour spécifier différents aspects de l’apparence du contrôle, mais les modifications que vous pouvez apporter en définissant ces propriétés sont limitées.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-122">Controls have many properties, such as <xref:System.Windows.Controls.Border.Background%2A>, <xref:System.Windows.Controls.Control.Foreground%2A>, and <xref:System.Windows.Controls.Control.FontFamily%2A>, that you can set to specify different aspects of the control's appearance, but the changes that you can make by setting these properties are limited.</span></span> <span data-ttu-id="cfa2b-123">Par exemple, vous pouvez définir le <xref:System.Windows.Controls.Control.Foreground%2A> propriété bleue et <xref:System.Windows.Controls.Control.FontStyle%2A> à italique sur un <xref:System.Windows.Controls.CheckBox>.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-123">For example, you can set the <xref:System.Windows.Controls.Control.Foreground%2A> property to blue and <xref:System.Windows.Controls.Control.FontStyle%2A> to italic on a <xref:System.Windows.Controls.CheckBox>.</span></span>  
  
 <span data-ttu-id="cfa2b-124">Sans la possibilité de créer un nouveau <xref:System.Windows.Controls.ControlTemplate> pour les contrôles, tous les contrôles dans chaque [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]-application en aura la même apparence générale, ce qui limiterait les possibilités pour créer une application avec une apparence personnalisée.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-124">Without the ability to create a new <xref:System.Windows.Controls.ControlTemplate> for controls, all controls in every [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]-based application would have the same general appearance, which would limit the ability to create an application with a custom look and feel.</span></span> <span data-ttu-id="cfa2b-125">Par défaut, chaque <xref:System.Windows.Controls.CheckBox> présente des caractéristiques similaires.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-125">By default, every <xref:System.Windows.Controls.CheckBox> has similar characteristics.</span></span> <span data-ttu-id="cfa2b-126">Par exemple, le contenu de la <xref:System.Windows.Controls.CheckBox> est toujours à droite de l’indicateur de sélection, et la case à cocher est toujours utilisée pour indiquer que le <xref:System.Windows.Controls.CheckBox> est sélectionné.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-126">For example, the content of the <xref:System.Windows.Controls.CheckBox> is always to the right of the selection indicator, and the check mark is always used to indicate that the <xref:System.Windows.Controls.CheckBox> is selected.</span></span>  
  
 <span data-ttu-id="cfa2b-127">Vous créez un <xref:System.Windows.Controls.ControlTemplate> lorsque vous souhaitez personnaliser l’apparence du contrôle au-delà de ce qui est défini par les autres propriétés du contrôle.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-127">You create a <xref:System.Windows.Controls.ControlTemplate> when you want to customize the control's appearance beyond what setting the other properties on the control will do.</span></span> <span data-ttu-id="cfa2b-128">Dans l’exemple de la <xref:System.Windows.Controls.CheckBox>, que vous voulez que le contenu de la case à cocher apparaisse au-dessus de l’indicateur de sélection et un x pour indiquer que le <xref:System.Windows.Controls.CheckBox> est sélectionné.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-128">In the example of the <xref:System.Windows.Controls.CheckBox>, suppose that you want the content of the check box to be above the selection indicator and you want an X to indicate that the <xref:System.Windows.Controls.CheckBox> is selected.</span></span> <span data-ttu-id="cfa2b-129">Vous spécifiez ces modifications dans le <xref:System.Windows.Controls.ControlTemplate> de la <xref:System.Windows.Controls.CheckBox>.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-129">You specify these changes in the <xref:System.Windows.Controls.ControlTemplate> of the <xref:System.Windows.Controls.CheckBox>.</span></span>  
  
 <span data-ttu-id="cfa2b-130">L’illustration suivante montre un <xref:System.Windows.Controls.CheckBox> qui utilise une valeur par défaut <xref:System.Windows.Controls.ControlTemplate>.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-130">The following illustration shows a <xref:System.Windows.Controls.CheckBox> that uses a default <xref:System.Windows.Controls.ControlTemplate>.</span></span>  
  
 <span data-ttu-id="cfa2b-131">![Une case à cocher avec le modèle de contrôle par défaut. ](./media/ndp-checkboxdefault.png "NDP_CheckBoxDefault")</span><span class="sxs-lookup"><span data-stu-id="cfa2b-131">![A checkbox with the default control template.](./media/ndp-checkboxdefault.png "NDP_CheckBoxDefault")</span></span>  
<span data-ttu-id="cfa2b-132">Case à cocher qui utilise le modèle de contrôle par défaut</span><span class="sxs-lookup"><span data-stu-id="cfa2b-132">A CheckBox that uses the default control template</span></span>  
  
 <span data-ttu-id="cfa2b-133">L’illustration suivante montre un <xref:System.Windows.Controls.CheckBox> qui utilise un personnalisé <xref:System.Windows.Controls.ControlTemplate> pour placer le contenu de la <xref:System.Windows.Controls.CheckBox> au-dessus de l’indicateur de sélection et affiche un X lorsque le <xref:System.Windows.Controls.CheckBox> est sélectionné.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-133">The following illustration shows a <xref:System.Windows.Controls.CheckBox> that uses a custom <xref:System.Windows.Controls.ControlTemplate> to place the content of the <xref:System.Windows.Controls.CheckBox> above the selection indicator and displays an X when the <xref:System.Windows.Controls.CheckBox> is selected.</span></span>  
  
 <span data-ttu-id="cfa2b-134">![Une case à cocher avec un modèle de contrôle personnalisé. ](./media/ndp-checkboxcustom.png "NDP_CheckBoxCustom")</span><span class="sxs-lookup"><span data-stu-id="cfa2b-134">![A checkbox with a custom control template.](./media/ndp-checkboxcustom.png "NDP_CheckBoxCustom")</span></span>  
<span data-ttu-id="cfa2b-135">Case à cocher qui utilise un modèle de contrôle personnalisé</span><span class="sxs-lookup"><span data-stu-id="cfa2b-135">A CheckBox that uses a custom control template</span></span>  
  
 <span data-ttu-id="cfa2b-136">Le <xref:System.Windows.Controls.ControlTemplate> pour le <xref:System.Windows.Controls.CheckBox> dans cet exemple étant relativement complexe, cette rubrique utilise un exemple simple de création d’un <xref:System.Windows.Controls.ControlTemplate> pour un <xref:System.Windows.Controls.Button>.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-136">The <xref:System.Windows.Controls.ControlTemplate> for the <xref:System.Windows.Controls.CheckBox> in this sample is relatively complex, so this topic uses a simpler example of creating a <xref:System.Windows.Controls.ControlTemplate> for a <xref:System.Windows.Controls.Button>.</span></span>  
  
<a name="changing_the_visual_structure_of_a_control"></a>   
## <a name="changing-the-visual-structure-of-a-control"></a><span data-ttu-id="cfa2b-137">Changement de la structure visuelle d’un contrôle</span><span class="sxs-lookup"><span data-stu-id="cfa2b-137">Changing the Visual Structure of a Control</span></span>  
 <span data-ttu-id="cfa2b-138">Dans [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], un contrôle est souvent un composite <xref:System.Windows.FrameworkElement> objets.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-138">In [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], a control is often a composite <xref:System.Windows.FrameworkElement> objects.</span></span> <span data-ttu-id="cfa2b-139">Lorsque vous créez un <xref:System.Windows.Controls.ControlTemplate>, vous combinez <xref:System.Windows.FrameworkElement> objets pour générer un seul contrôle.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-139">When you create a <xref:System.Windows.Controls.ControlTemplate>, you combine <xref:System.Windows.FrameworkElement> objects to build a single control.</span></span> <span data-ttu-id="cfa2b-140">Un <xref:System.Windows.Controls.ControlTemplate> doit avoir un seul <xref:System.Windows.FrameworkElement> comme élément racine.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-140">A <xref:System.Windows.Controls.ControlTemplate> must have only one <xref:System.Windows.FrameworkElement> as its root element.</span></span> <span data-ttu-id="cfa2b-141">L’élément racine contient généralement d’autres <xref:System.Windows.FrameworkElement> objets.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-141">The root element usually contains other <xref:System.Windows.FrameworkElement> objects.</span></span> <span data-ttu-id="cfa2b-142">La combinaison d’objets constitue la structure visuelle du contrôle.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-142">The combination of objects makes up the control's visual structure.</span></span>  
  
 <span data-ttu-id="cfa2b-143">L’exemple suivant crée un personnalisé <xref:System.Windows.Controls.ControlTemplate> pour le <xref:System.Windows.Controls.Button>.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-143">The following example creates a custom <xref:System.Windows.Controls.ControlTemplate> for the <xref:System.Windows.Controls.Button>.</span></span> <span data-ttu-id="cfa2b-144">Le <xref:System.Windows.Controls.ControlTemplate> crée la structure visuelle de le <xref:System.Windows.Controls.Button>.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-144">The <xref:System.Windows.Controls.ControlTemplate> creates the visual structure of the <xref:System.Windows.Controls.Button>.</span></span> <span data-ttu-id="cfa2b-145">Cet exemple ne change pas l’apparence du bouton si vous placez le pointeur de la souris dessus ou cliquez dessus.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-145">This example does not change the button's appearance when you move the mouse pointer over it or click it.</span></span> <span data-ttu-id="cfa2b-146">La modification de l’apparence du bouton quand celui-ci est dans un autre état est décrite plus loin dans cette rubrique.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-146">Changing the button's appearance when it is in a different state is discussed later in this topic.</span></span>  
  
 <span data-ttu-id="cfa2b-147">Dans cet exemple, la structure visuelle se compose des parties suivantes :</span><span class="sxs-lookup"><span data-stu-id="cfa2b-147">In this example, the visual structure consists of the following parts:</span></span>  
  
- <span data-ttu-id="cfa2b-148">Un <xref:System.Windows.Controls.Border> nommé `RootElement` qui sert de racine du modèle <xref:System.Windows.FrameworkElement>.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-148">A <xref:System.Windows.Controls.Border> named `RootElement` that serves as the template's root <xref:System.Windows.FrameworkElement>.</span></span>  
  
- <span data-ttu-id="cfa2b-149">Un <xref:System.Windows.Controls.Grid> qui est un enfant de `RootElement`.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-149">A <xref:System.Windows.Controls.Grid> that is a child of `RootElement`.</span></span>  
  
- <span data-ttu-id="cfa2b-150">Un <xref:System.Windows.Controls.ContentPresenter> qui affiche le contenu du bouton.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-150">A <xref:System.Windows.Controls.ContentPresenter> that displays the button's content.</span></span> <span data-ttu-id="cfa2b-151">Le <xref:System.Windows.Controls.ContentPresenter> permet à n’importe quel type d’objet à afficher.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-151">The <xref:System.Windows.Controls.ContentPresenter> enables any type of object to be displayed.</span></span>  
  
 [!code-xaml[VSMButtonTemplate#BasicTemplate](~/samples/snippets/csharp/VS_Snippets_Wpf/vsmbuttontemplate/csharp/buttonstages.xaml#basictemplate)]  
  
### <a name="preserving-the-functionality-of-a-controls-properties-by-using-templatebinding"></a><span data-ttu-id="cfa2b-152">Conservation de la fonctionnalité des propriétés d’un contrôle en utilisant TemplateBinding</span><span class="sxs-lookup"><span data-stu-id="cfa2b-152">Preserving the Functionality of a Control's Properties by Using TemplateBinding</span></span>  
 <span data-ttu-id="cfa2b-153">Lorsque vous créez un nouveau <xref:System.Windows.Controls.ControlTemplate>, vous souhaiterez toujours utiliser les propriétés publiques pour modifier l’apparence du contrôle.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-153">When you create a new <xref:System.Windows.Controls.ControlTemplate>, you still might want to use the public properties to change the control's appearance.</span></span> <span data-ttu-id="cfa2b-154">Le [TemplateBinding](../advanced/templatebinding-markup-extension.md) extension de balisage lie une propriété d’un élément qui se trouve dans le <xref:System.Windows.Controls.ControlTemplate> à une propriété publique définie par le contrôle.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-154">The [TemplateBinding](../advanced/templatebinding-markup-extension.md) markup extension binds a property of an element that is in the <xref:System.Windows.Controls.ControlTemplate> to a public property that is defined by the control.</span></span> <span data-ttu-id="cfa2b-155">Quand vous utilisez [TemplateBinding](../advanced/templatebinding-markup-extension.md), vous permettez aux propriétés sur le contrôle d’agir comme paramètres du modèle.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-155">When you use [TemplateBinding](../advanced/templatebinding-markup-extension.md), you enable properties on the control to act as parameters to the template.</span></span> <span data-ttu-id="cfa2b-156">Autrement dit, quand une propriété sur un contrôle est définie, cette valeur est passée à l’élément qui a le [TemplateBinding](../advanced/templatebinding-markup-extension.md).</span><span class="sxs-lookup"><span data-stu-id="cfa2b-156">That is, when a property on a control is set, that value is passed on to the element that has the [TemplateBinding](../advanced/templatebinding-markup-extension.md) on it.</span></span>  
  
 <span data-ttu-id="cfa2b-157">L’exemple suivant répète la partie de l’exemple précédent qui utilise le [TemplateBinding](../advanced/templatebinding-markup-extension.md) extension de balisage pour lier les propriétés d’éléments qui se trouvent dans le <xref:System.Windows.Controls.ControlTemplate> aux propriétés publiques définies par le bouton.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-157">The following example repeats the part of the preceding example that uses the [TemplateBinding](../advanced/templatebinding-markup-extension.md) markup extension to bind properties of elements that are in the <xref:System.Windows.Controls.ControlTemplate> to public properties that are defined by the button.</span></span>  
  
 [!code-xaml[VSMButtonTemplate#TemplateBinding](~/samples/snippets/csharp/VS_Snippets_Wpf/vsmbuttontemplate/csharp/buttonstages.xaml#templatebinding)]  
  
 <span data-ttu-id="cfa2b-158">Dans cet exemple, le <xref:System.Windows.Controls.Grid> a son <xref:System.Windows.Controls.Panel.Background%2A?displayProperty=nameWithType> propriété modèle lié à <xref:System.Windows.Controls.Control.Background%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-158">In this example, the <xref:System.Windows.Controls.Grid> has its <xref:System.Windows.Controls.Panel.Background%2A?displayProperty=nameWithType> property template bound to <xref:System.Windows.Controls.Control.Background%2A?displayProperty=nameWithType>.</span></span> <span data-ttu-id="cfa2b-159">Étant donné que <xref:System.Windows.Controls.Panel.Background%2A?displayProperty=nameWithType> est liée par modèle, vous pouvez créer plusieurs boutons qui utilisent la même <xref:System.Windows.Controls.ControlTemplate> et définir le <xref:System.Windows.Controls.Control.Background%2A?displayProperty=nameWithType> des valeurs différentes sur chaque bouton.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-159">Because <xref:System.Windows.Controls.Panel.Background%2A?displayProperty=nameWithType> is template bound, you can create multiple buttons that use the same <xref:System.Windows.Controls.ControlTemplate> and set the <xref:System.Windows.Controls.Control.Background%2A?displayProperty=nameWithType> to different values on each button.</span></span> <span data-ttu-id="cfa2b-160">Si <xref:System.Windows.Controls.Control.Background%2A?displayProperty=nameWithType> a été pas le modèle lié à une propriété d’un élément dans le <xref:System.Windows.Controls.ControlTemplate>, ce qui affecte le <xref:System.Windows.Controls.Control.Background%2A?displayProperty=nameWithType> d’un bouton n’aurait aucun impact sur l’apparence du bouton.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-160">If <xref:System.Windows.Controls.Control.Background%2A?displayProperty=nameWithType> was not template bound to a property of an element in the <xref:System.Windows.Controls.ControlTemplate>, setting the <xref:System.Windows.Controls.Control.Background%2A?displayProperty=nameWithType> of a button would have no impact on the button's appearance.</span></span>  
  
 <span data-ttu-id="cfa2b-161">Notez que les noms des deux propriétés n’ont pas besoin d’être identiques.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-161">Note that the names of the two properties do not need to be identical.</span></span> <span data-ttu-id="cfa2b-162">Dans l’exemple précédent, le <xref:System.Windows.Controls.Control.HorizontalContentAlignment%2A?displayProperty=nameWithType> propriété de la <xref:System.Windows.Controls.Button> est liée par modèle à la <xref:System.Windows.FrameworkElement.HorizontalAlignment%2A?displayProperty=nameWithType> propriété de la <xref:System.Windows.Controls.ContentPresenter>.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-162">In the preceding example, the <xref:System.Windows.Controls.Control.HorizontalContentAlignment%2A?displayProperty=nameWithType> property of the <xref:System.Windows.Controls.Button> is template bound to the <xref:System.Windows.FrameworkElement.HorizontalAlignment%2A?displayProperty=nameWithType> property of the <xref:System.Windows.Controls.ContentPresenter>.</span></span> <span data-ttu-id="cfa2b-163">Le contenu du bouton est ainsi positionné horizontalement.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-163">This enables the content of the button to be positioned horizontally.</span></span> <span data-ttu-id="cfa2b-164"><xref:System.Windows.Controls.ContentPresenter> n’a pas une propriété nommée `HorizontalContentAlignment`, mais <xref:System.Windows.Controls.Control.HorizontalContentAlignment%2A?displayProperty=nameWithType> peut être lié à <xref:System.Windows.FrameworkElement.HorizontalAlignment%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-164"><xref:System.Windows.Controls.ContentPresenter> does not have a property named `HorizontalContentAlignment`, but <xref:System.Windows.Controls.Control.HorizontalContentAlignment%2A?displayProperty=nameWithType> can be bound to <xref:System.Windows.FrameworkElement.HorizontalAlignment%2A?displayProperty=nameWithType>.</span></span> <span data-ttu-id="cfa2b-165">Quand vous liez par modèle une propriété, vérifiez que les propriétés source et cible sont du même type.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-165">When you template bind a property, be sure that the target and source properties are the same type.</span></span>  
  
 <span data-ttu-id="cfa2b-166">Le <xref:System.Windows.Controls.Control> classe définit plusieurs propriétés qui doivent être utilisées par le modèle de contrôle pour avoir un effet sur le contrôle lorsqu’ils sont définis.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-166">The <xref:System.Windows.Controls.Control> class defines several properties that must be used by the control template to have an effect on the control when they are set.</span></span> <span data-ttu-id="cfa2b-167">Comment la <xref:System.Windows.Controls.ControlTemplate> utilise la propriété dépend de la propriété.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-167">How the <xref:System.Windows.Controls.ControlTemplate> uses the property depends on the property.</span></span> <span data-ttu-id="cfa2b-168">Le <xref:System.Windows.Controls.ControlTemplate> doit utiliser la propriété de l’une des manières suivantes :</span><span class="sxs-lookup"><span data-stu-id="cfa2b-168">The <xref:System.Windows.Controls.ControlTemplate> must use the property in one of the following ways:</span></span>  
  
- <span data-ttu-id="cfa2b-169">Un élément dans le <xref:System.Windows.Controls.ControlTemplate> modèle lie à la propriété.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-169">An element in the <xref:System.Windows.Controls.ControlTemplate> template binds to the property.</span></span>  
  
- <span data-ttu-id="cfa2b-170">Un élément dans le <xref:System.Windows.Controls.ControlTemplate> hérite de la propriété d’un parent <xref:System.Windows.FrameworkElement>.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-170">An element in the <xref:System.Windows.Controls.ControlTemplate> inherits the property from a parent <xref:System.Windows.FrameworkElement>.</span></span>  
  
 <span data-ttu-id="cfa2b-171">Le tableau suivant répertorie les propriétés visuelles héritées par un contrôle de la <xref:System.Windows.Controls.Control> classe.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-171">The following table lists the visual properties inherited by a control from the <xref:System.Windows.Controls.Control> class.</span></span> <span data-ttu-id="cfa2b-172">Il indique également si le modèle de contrôle par défaut d’un contrôle utilise la valeur de la propriété héritée ou s’il doit être lié par modèle.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-172">It also indicates whether the default control template of a control uses the inherited property value or if it must be template bound.</span></span>  
  
|<span data-ttu-id="cfa2b-173">Propriété</span><span class="sxs-lookup"><span data-stu-id="cfa2b-173">Property</span></span>|<span data-ttu-id="cfa2b-174">Méthode d’utilisation</span><span class="sxs-lookup"><span data-stu-id="cfa2b-174">Usage method</span></span>|  
|--------------|------------------|  
|<xref:System.Windows.Controls.Control.Background%2A>|<span data-ttu-id="cfa2b-175">Liaison de modèle</span><span class="sxs-lookup"><span data-stu-id="cfa2b-175">Template binding</span></span>|  
|<xref:System.Windows.Controls.Control.BorderThickness%2A>|<span data-ttu-id="cfa2b-176">Liaison de modèle</span><span class="sxs-lookup"><span data-stu-id="cfa2b-176">Template binding</span></span>|  
|<xref:System.Windows.Controls.Control.BorderBrush%2A>|<span data-ttu-id="cfa2b-177">Liaison de modèle</span><span class="sxs-lookup"><span data-stu-id="cfa2b-177">Template binding</span></span>|  
|<xref:System.Windows.Controls.Control.FontFamily%2A>|<span data-ttu-id="cfa2b-178">Héritage de propriété ou liaison de modèle</span><span class="sxs-lookup"><span data-stu-id="cfa2b-178">Property inheritance or template binding</span></span>|  
|<xref:System.Windows.Controls.Control.FontSize%2A>|<span data-ttu-id="cfa2b-179">Héritage de propriété ou liaison de modèle</span><span class="sxs-lookup"><span data-stu-id="cfa2b-179">Property inheritance or template binding</span></span>|  
|<xref:System.Windows.Controls.Control.FontStretch%2A>|<span data-ttu-id="cfa2b-180">Héritage de propriété ou liaison de modèle</span><span class="sxs-lookup"><span data-stu-id="cfa2b-180">Property inheritance or template binding</span></span>|  
|<xref:System.Windows.Controls.Control.FontWeight%2A>|<span data-ttu-id="cfa2b-181">Héritage de propriété ou liaison de modèle</span><span class="sxs-lookup"><span data-stu-id="cfa2b-181">Property inheritance or template binding</span></span>|  
|<xref:System.Windows.Controls.Control.Foreground%2A>|<span data-ttu-id="cfa2b-182">Héritage de propriété ou liaison de modèle</span><span class="sxs-lookup"><span data-stu-id="cfa2b-182">Property inheritance or template binding</span></span>|  
|<xref:System.Windows.Controls.Control.HorizontalContentAlignment%2A>|<span data-ttu-id="cfa2b-183">Liaison de modèle</span><span class="sxs-lookup"><span data-stu-id="cfa2b-183">Template binding</span></span>|  
|<xref:System.Windows.Controls.Control.Padding%2A>|<span data-ttu-id="cfa2b-184">Liaison de modèle</span><span class="sxs-lookup"><span data-stu-id="cfa2b-184">Template binding</span></span>|  
|<xref:System.Windows.Controls.Control.VerticalContentAlignment%2A>|<span data-ttu-id="cfa2b-185">Liaison de modèle</span><span class="sxs-lookup"><span data-stu-id="cfa2b-185">Template binding</span></span>|  
  
 <span data-ttu-id="cfa2b-186">Le tableau répertorie uniquement les propriétés visuelles héritées de la <xref:System.Windows.Controls.Control> classe.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-186">The table lists only the visual properties inherited from the <xref:System.Windows.Controls.Control> class.</span></span> <span data-ttu-id="cfa2b-187">Outre les propriétés répertoriées dans le tableau, un contrôle peut également hériter la <xref:System.Windows.FrameworkElement.DataContext%2A>, <xref:System.Windows.FrameworkElement.Language%2A>, et <xref:System.Windows.Controls.TextBlock.TextDecorations%2A> propriétés à partir de l’élément parent de l’infrastructure.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-187">Apart from the properties listed in the table, a control may also inherit the <xref:System.Windows.FrameworkElement.DataContext%2A>, <xref:System.Windows.FrameworkElement.Language%2A>, and <xref:System.Windows.Controls.TextBlock.TextDecorations%2A> properties from the parent framework element.</span></span>  
  
 <span data-ttu-id="cfa2b-188">En outre, si le <xref:System.Windows.Controls.ContentPresenter> est dans le <xref:System.Windows.Controls.ControlTemplate> d’un <xref:System.Windows.Controls.ContentControl>, le <xref:System.Windows.Controls.ContentPresenter> est automatiquement lié au <xref:System.Windows.Controls.ContentControl.ContentTemplate%2A> et <xref:System.Windows.Controls.ContentControl.Content%2A> propriétés.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-188">Also, if the <xref:System.Windows.Controls.ContentPresenter> is in the <xref:System.Windows.Controls.ControlTemplate> of a <xref:System.Windows.Controls.ContentControl>, the <xref:System.Windows.Controls.ContentPresenter> will automatically bind to the <xref:System.Windows.Controls.ContentControl.ContentTemplate%2A> and <xref:System.Windows.Controls.ContentControl.Content%2A> properties.</span></span> <span data-ttu-id="cfa2b-189">De même, un <xref:System.Windows.Controls.ItemsPresenter> qui se trouve dans le <xref:System.Windows.Controls.ControlTemplate> d’un <xref:System.Windows.Controls.ItemsControl> est automatiquement lié à la <xref:System.Windows.Controls.ItemsControl.Items%2A> et <xref:System.Windows.Controls.ItemsPresenter> propriétés.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-189">Likewise, an <xref:System.Windows.Controls.ItemsPresenter> that is in the <xref:System.Windows.Controls.ControlTemplate> of an <xref:System.Windows.Controls.ItemsControl> will automatically bind to the <xref:System.Windows.Controls.ItemsControl.Items%2A> and <xref:System.Windows.Controls.ItemsPresenter> properties.</span></span>  
  
 <span data-ttu-id="cfa2b-190">L’exemple suivant crée deux boutons qui utilisent le <xref:System.Windows.Controls.ControlTemplate> défini dans l’exemple précédent.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-190">The following example creates two buttons that use the <xref:System.Windows.Controls.ControlTemplate> defined in the preceding example.</span></span> <span data-ttu-id="cfa2b-191">L’exemple définit le <xref:System.Windows.Controls.Control.Background%2A>, <xref:System.Windows.Controls.Control.Foreground%2A>, et <xref:System.Windows.Controls.Control.FontSize%2A> propriétés sur chaque bouton.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-191">The example sets the <xref:System.Windows.Controls.Control.Background%2A>, <xref:System.Windows.Controls.Control.Foreground%2A>, and <xref:System.Windows.Controls.Control.FontSize%2A> properties on each button.</span></span> <span data-ttu-id="cfa2b-192">Définition de la <xref:System.Windows.Controls.Control.Background%2A> propriété a une incidence, car elle est liée par modèle dans le <xref:System.Windows.Controls.ControlTemplate>.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-192">Setting the <xref:System.Windows.Controls.Control.Background%2A> property has an effect because it is template bound in the <xref:System.Windows.Controls.ControlTemplate>.</span></span> <span data-ttu-id="cfa2b-193">Bien que le <xref:System.Windows.Controls.Control.Foreground%2A> et <xref:System.Windows.Controls.Control.FontSize%2A> propriétés ne sont pas liées par modèle, leur définition a une incidence, car leurs valeurs sont héritées.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-193">Even though the <xref:System.Windows.Controls.Control.Foreground%2A> and <xref:System.Windows.Controls.Control.FontSize%2A> properties are not template bound, setting them has an effect because their values are inherited.</span></span>  
  
 [!code-xaml[VSMButtonTemplate#ButtonDeclaration](~/samples/snippets/csharp/VS_Snippets_Wpf/vsmbuttontemplate/csharp/buttonstages.xaml#buttondeclaration)]  
  
 <span data-ttu-id="cfa2b-194">L’exemple précédent produit une sortie similaire à celle de l’illustration suivante.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-194">The preceding example produces output that is similar to the following illustration.</span></span>  
  
 <span data-ttu-id="cfa2b-195">![Deux boutons, un bleu et un pourpre. ](./media/ndp-buttontwo.png "NDP_ButtonTwo")</span><span class="sxs-lookup"><span data-stu-id="cfa2b-195">![Two buttons, one blue and one purple.](./media/ndp-buttontwo.png "NDP_ButtonTwo")</span></span>  
<span data-ttu-id="cfa2b-196">Deux boutons avec des couleurs d’arrière-plan différentes</span><span class="sxs-lookup"><span data-stu-id="cfa2b-196">Two buttons with different background colors</span></span>  
  
<a name="changing_the_appearance_of_a_control_depending_on_its_state"></a>   
## <a name="changing-the-appearance-of-a-control-depending-on-its-state"></a><span data-ttu-id="cfa2b-197">Modification de l’apparence d’un contrôle en fonction de son état</span><span class="sxs-lookup"><span data-stu-id="cfa2b-197">Changing the Appearance of a Control Depending on Its State</span></span>  
 <span data-ttu-id="cfa2b-198">La différence entre un bouton avec son apparence par défaut et le bouton de l’exemple précédent est que le bouton par défaut change légèrement selon son état.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-198">The difference between a button with its default appearance and the button in the preceding example is that the default button subtly changes when it is in different states.</span></span> <span data-ttu-id="cfa2b-199">Par exemple, l’apparence du bouton par défaut change quand l’utilisateur clique dessus ou pointe sur lui.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-199">For example, the default button's appearance changes when the button is pressed, or when the mouse pointer is over the button.</span></span> <span data-ttu-id="cfa2b-200">Bien que le <xref:System.Windows.Controls.ControlTemplate> ne modifie pas la fonctionnalité d’un contrôle, il modifie le comportement visuel du contrôle.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-200">Although the <xref:System.Windows.Controls.ControlTemplate> does not change the functionality of a control, it does change the control's visual behavior.</span></span> <span data-ttu-id="cfa2b-201">Un comportement visuel décrit l’apparence du contrôle quand ce dernier est dans un état particulier.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-201">A visual behavior describes the control appearance when it is in a certain state.</span></span> <span data-ttu-id="cfa2b-202">Pour comprendre la différence entre la fonctionnalité et le comportement visuel d’un contrôle, considérez l’exemple du bouton.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-202">To understand the difference between the functionality and visual behavior of a control, consider the button example.</span></span> <span data-ttu-id="cfa2b-203">La fonctionnalité du bouton consiste à déclencher le <xref:System.Windows.Controls.Primitives.ButtonBase.Click> événement lorsque vous cliquez dessus, mais son comportement visuel consiste à modifier son apparence lorsqu’il est désigné ou enfoncé.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-203">The button's functionality is to raise the <xref:System.Windows.Controls.Primitives.ButtonBase.Click> event when it is clicked, but the button's visual behavior is to change its appearance when it is pointed to or pressed.</span></span>  
  
 <span data-ttu-id="cfa2b-204">Vous utilisez <xref:System.Windows.VisualState> objets pour spécifier l’apparence d’un contrôle lorsqu’il est dans un état particulier.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-204">You use <xref:System.Windows.VisualState> objects to specify the appearance of a control when it is in a certain state.</span></span> <span data-ttu-id="cfa2b-205">Un <xref:System.Windows.VisualState> contient un <xref:System.Windows.Media.Animation.Storyboard> qui change l’apparence des éléments qui se trouvent dans le <xref:System.Windows.Controls.ControlTemplate>.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-205">A <xref:System.Windows.VisualState> contains a <xref:System.Windows.Media.Animation.Storyboard> that changes the appearance of the elements that are in the <xref:System.Windows.Controls.ControlTemplate>.</span></span> <span data-ttu-id="cfa2b-206">Vous n’avez pas à écrire du code pour cela, car la logique du contrôle change d’état à l’aide de la <xref:System.Windows.VisualStateManager>.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-206">You do not have to write any code to make this occur because the control's logic changes state by using the <xref:System.Windows.VisualStateManager>.</span></span> <span data-ttu-id="cfa2b-207">Lorsque le contrôle passe à l’état spécifié par le <xref:System.Windows.VisualState.Name%2A?displayProperty=nameWithType> propriété, le <xref:System.Windows.Media.Animation.Storyboard> commence.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-207">When the control enters the state that is specified by the <xref:System.Windows.VisualState.Name%2A?displayProperty=nameWithType> property, the <xref:System.Windows.Media.Animation.Storyboard> begins.</span></span> <span data-ttu-id="cfa2b-208">Lorsque le contrôle quitte l’état, le <xref:System.Windows.Media.Animation.Storyboard> s’arrête.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-208">When the control exits the state, the <xref:System.Windows.Media.Animation.Storyboard> stops.</span></span>  
  
 <span data-ttu-id="cfa2b-209">L’exemple suivant montre le <xref:System.Windows.VisualState> qui change l’apparence d’un <xref:System.Windows.Controls.Button> lorsque le pointeur de la souris est positionnée sur celle-ci.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-209">The following example shows the <xref:System.Windows.VisualState> that changes the appearance of a <xref:System.Windows.Controls.Button> when the mouse pointer is over it.</span></span> <span data-ttu-id="cfa2b-210">Le <xref:System.Windows.Media.Animation.Storyboard> change de couleur de bordure du bouton en modifiant la couleur de la `BorderBrush`.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-210">The <xref:System.Windows.Media.Animation.Storyboard> changes the button's border color by changing the color of the `BorderBrush`.</span></span> <span data-ttu-id="cfa2b-211">Si vous faites référence à la <xref:System.Windows.Controls.ControlTemplate> exemple au début de cette rubrique, rappelez-vous que `BorderBrush` est le nom de la <xref:System.Windows.Media.SolidColorBrush> qui est affectée à la <xref:System.Windows.Controls.Border.Background%2A> de la <xref:System.Windows.Controls.Border>.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-211">If you refer to the <xref:System.Windows.Controls.ControlTemplate> example at the beginning of this topic, you will recall that `BorderBrush` is the name of the <xref:System.Windows.Media.SolidColorBrush> that is assigned to the <xref:System.Windows.Controls.Border.Background%2A> of the <xref:System.Windows.Controls.Border>.</span></span>  
  
 [!code-xaml[VSMButtonTemplate#4](~/samples/snippets/csharp/VS_Snippets_Wpf/vsmbuttontemplate/csharp/skinnedbutton.xaml#4)]  
  
 <span data-ttu-id="cfa2b-212">Le contrôle est chargé de définir les états dans le cadre de son contrat de contrôle, lequel est décrit en détail dans [Personnalisation des autres contrôles grâce à une bonne compréhension du contrat de contrôle](#customizing_other_controls_by_understanding_the_control_contract), plus loin dans cette rubrique.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-212">The control is responsible for defining the states as part of its control contract, which is discussed in detail in [Customizing Other Controls by Understanding the Control Contract](#customizing_other_controls_by_understanding_the_control_contract) later in this topic.</span></span> <span data-ttu-id="cfa2b-213">Le tableau suivant répertorie les États qui sont spécifiés pour le <xref:System.Windows.Controls.Button>.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-213">The following table lists the states that are specified for the <xref:System.Windows.Controls.Button>.</span></span>  
  
|<span data-ttu-id="cfa2b-214">Nom VisualState</span><span class="sxs-lookup"><span data-stu-id="cfa2b-214">VisualState Name</span></span>|<span data-ttu-id="cfa2b-215">Nom VisualStateGroup</span><span class="sxs-lookup"><span data-stu-id="cfa2b-215">VisualStateGroup Name</span></span>|<span data-ttu-id="cfa2b-216">Description</span><span class="sxs-lookup"><span data-stu-id="cfa2b-216">Description</span></span>|  
|----------------------|---------------------------|-----------------|  
|<span data-ttu-id="cfa2b-217">Normale</span><span class="sxs-lookup"><span data-stu-id="cfa2b-217">Normal</span></span>|<span data-ttu-id="cfa2b-218">CommonStates</span><span class="sxs-lookup"><span data-stu-id="cfa2b-218">CommonStates</span></span>|<span data-ttu-id="cfa2b-219">État par défaut.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-219">The default state.</span></span>|  
|<span data-ttu-id="cfa2b-220">MouseOver</span><span class="sxs-lookup"><span data-stu-id="cfa2b-220">MouseOver</span></span>|<span data-ttu-id="cfa2b-221">CommonStates</span><span class="sxs-lookup"><span data-stu-id="cfa2b-221">CommonStates</span></span>|<span data-ttu-id="cfa2b-222">Le pointeur de la souris est positionné sur le contrôle.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-222">The mouse pointer is positioned over the control.</span></span>|  
|<span data-ttu-id="cfa2b-223">Appuyé</span><span class="sxs-lookup"><span data-stu-id="cfa2b-223">Pressed</span></span>|<span data-ttu-id="cfa2b-224">CommonStates</span><span class="sxs-lookup"><span data-stu-id="cfa2b-224">CommonStates</span></span>|<span data-ttu-id="cfa2b-225">Le contrôle est enfoncé.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-225">The control is pressed.</span></span>|  
|<span data-ttu-id="cfa2b-226">Désactivé</span><span class="sxs-lookup"><span data-stu-id="cfa2b-226">Disabled</span></span>|<span data-ttu-id="cfa2b-227">CommonStates</span><span class="sxs-lookup"><span data-stu-id="cfa2b-227">CommonStates</span></span>|<span data-ttu-id="cfa2b-228">Le contrôle est désactivé.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-228">The control is disabled.</span></span>|  
|<span data-ttu-id="cfa2b-229">Avec focus</span><span class="sxs-lookup"><span data-stu-id="cfa2b-229">Focused</span></span>|<span data-ttu-id="cfa2b-230">FocusStates</span><span class="sxs-lookup"><span data-stu-id="cfa2b-230">FocusStates</span></span>|<span data-ttu-id="cfa2b-231">Le contrôle a le focus.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-231">The control has focus.</span></span>|  
|<span data-ttu-id="cfa2b-232">Sans focus</span><span class="sxs-lookup"><span data-stu-id="cfa2b-232">Unfocused</span></span>|<span data-ttu-id="cfa2b-233">FocusStates</span><span class="sxs-lookup"><span data-stu-id="cfa2b-233">FocusStates</span></span>|<span data-ttu-id="cfa2b-234">Le contrôle n’a pas le focus.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-234">The control does not have focus.</span></span>|  
  
 <span data-ttu-id="cfa2b-235">Le <xref:System.Windows.Controls.Button> définit deux groupes d’états : le `CommonStates` groupe contient le `Normal`, `MouseOver`, `Pressed`, et `Disabled` États.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-235">The <xref:System.Windows.Controls.Button> defines two state groups: the `CommonStates` group contains the `Normal`, `MouseOver`, `Pressed`, and `Disabled` states.</span></span> <span data-ttu-id="cfa2b-236">le groupe `FocusStates` contient les états `Focused` et `Unfocused`.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-236">The `FocusStates` group contains the `Focused` and `Unfocused` states.</span></span> <span data-ttu-id="cfa2b-237">Les états d’un même groupe d’état s’excluent mutuellement.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-237">States in the same state group are mutually exclusive.</span></span> <span data-ttu-id="cfa2b-238">Le contrôle est toujours dans un état par groupe.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-238">The control is always in exactly one state per group.</span></span> <span data-ttu-id="cfa2b-239">Par exemple, un <xref:System.Windows.Controls.Button> peut avoir le focus même lorsque le pointeur de la souris n’est pas donc dessus, un <xref:System.Windows.Controls.Button> dans le `Focused` état peut être dans le `MouseOver`, `Pressed`, ou `Normal` état.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-239">For example, a <xref:System.Windows.Controls.Button> can have focus even when the mouse pointer is not over it, so a <xref:System.Windows.Controls.Button> in the `Focused` state can be in the `MouseOver`, `Pressed`, or `Normal` state.</span></span>  
  
 <span data-ttu-id="cfa2b-240">Vous ajoutez <xref:System.Windows.VisualState> objets <xref:System.Windows.VisualStateGroup> objets.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-240">You add <xref:System.Windows.VisualState> objects to <xref:System.Windows.VisualStateGroup> objects.</span></span> <span data-ttu-id="cfa2b-241">Vous ajoutez <xref:System.Windows.VisualStateGroup> des objets sur le <xref:System.Windows.VisualStateManager.VisualStateGroups%2A?displayProperty=nameWithType> propriété jointe.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-241">You add <xref:System.Windows.VisualStateGroup> objects to the <xref:System.Windows.VisualStateManager.VisualStateGroups%2A?displayProperty=nameWithType> attached property.</span></span> <span data-ttu-id="cfa2b-242">L’exemple suivant définit la <xref:System.Windows.VisualState> des objets pour le `Normal`, `MouseOver`, et `Pressed` États, qui se trouvent toutes dans le `CommonStates` groupe.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-242">The following example defines the <xref:System.Windows.VisualState> objects for the `Normal`, `MouseOver`, and `Pressed` states, which are all in the `CommonStates` group.</span></span> <span data-ttu-id="cfa2b-243">Le <xref:System.Windows.VisualState.Name%2A> de chacun d’eux <xref:System.Windows.VisualState> correspond au nom dans le tableau précédent.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-243">The <xref:System.Windows.VisualState.Name%2A> of each <xref:System.Windows.VisualState> matches the name in the preceding table.</span></span> <span data-ttu-id="cfa2b-244">L’état `Disabled` et les états du groupe `FocusStates` sont omis pour que l’exemple reste concis, mais ils figurent dans l’exemple complet fourni à la fin de cette rubrique.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-244">The `Disabled` state and the states in the `FocusStates` group are omitted to keep the example short, but they are included in the entire example at the end of this topic.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="cfa2b-245">Veillez à définir le <xref:System.Windows.VisualStateManager.VisualStateGroups%2A?displayProperty=nameWithType> propriété jointe sur la racine <xref:System.Windows.FrameworkElement> de la <xref:System.Windows.Controls.ControlTemplate>.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-245">Be sure to set the <xref:System.Windows.VisualStateManager.VisualStateGroups%2A?displayProperty=nameWithType> attached property on the root <xref:System.Windows.FrameworkElement> of the <xref:System.Windows.Controls.ControlTemplate>.</span></span>  
  
 [!code-xaml[VSMButtonTemplate#VisualStates](~/samples/snippets/csharp/VS_Snippets_Wpf/vsmbuttontemplate/csharp/buttonstages.xaml#visualstates)]  
  
 <span data-ttu-id="cfa2b-246">L’exemple précédent produit une sortie similaire à celle des illustrations suivantes.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-246">The preceding example produces output that is similar to the following illustrations.</span></span>  
  
 <span data-ttu-id="cfa2b-247">![Bouton avec un modèle de contrôle personnalisé. ](./media/ndp-buttonnormal.png "NDP_ButtonNormal")</span><span class="sxs-lookup"><span data-stu-id="cfa2b-247">![A button with a custom control template.](./media/ndp-buttonnormal.png "NDP_ButtonNormal")</span></span>  
<span data-ttu-id="cfa2b-248">Bouton qui utilise un modèle de contrôle personnalisé dans l’état normal</span><span class="sxs-lookup"><span data-stu-id="cfa2b-248">A button that uses a custom control template in the normal state</span></span>  
  
 <span data-ttu-id="cfa2b-249">![Un bouton avec une bordure rouge. ](./media/ndp-buttonmouseover.png "NDP_ButtonMouseOver")</span><span class="sxs-lookup"><span data-stu-id="cfa2b-249">![A button with a red border.](./media/ndp-buttonmouseover.png "NDP_ButtonMouseOver")</span></span>  
<span data-ttu-id="cfa2b-250">Bouton qui utilise un modèle de contrôle personnalisé dans l’état de pointage avec la souris</span><span class="sxs-lookup"><span data-stu-id="cfa2b-250">A button that uses a custom control template in the mouse over state</span></span>  
  
 <span data-ttu-id="cfa2b-251">![La bordure est transparente sur un bouton appuyé. ](./media/ndp-buttonpressed.png "NDP_ButtonPressed")</span><span class="sxs-lookup"><span data-stu-id="cfa2b-251">![The border is transparent on a pressed button.](./media/ndp-buttonpressed.png "NDP_ButtonPressed")</span></span>  
<span data-ttu-id="cfa2b-252">Bouton qui utilise un modèle de contrôle personnalisé dans l’état enfoncé</span><span class="sxs-lookup"><span data-stu-id="cfa2b-252">A button that uses a custom control template in the pressed state</span></span>  
  
 <span data-ttu-id="cfa2b-253">Pour trouver les états visuels pour les contrôles inclus avec [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], consultez [Styles et modèles Control](control-styles-and-templates.md).</span><span class="sxs-lookup"><span data-stu-id="cfa2b-253">To find the visual states for controls that are included with [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], see [Control Styles and Templates](control-styles-and-templates.md).</span></span>  
  
<a name="specifying_the_behavior_of_a_control_when_it_transitions_between_states"></a>   
## <a name="specifying-the-behavior-of-a-control-when-it-transitions-between-states"></a><span data-ttu-id="cfa2b-254">Spécification du comportement d’un contrôle durant les transitions entre états</span><span class="sxs-lookup"><span data-stu-id="cfa2b-254">Specifying the Behavior of a Control When It Transitions Between States</span></span>  
 <span data-ttu-id="cfa2b-255">Dans l’exemple précédent, l’apparence du bouton change également quand l’utilisateur clique dessus, mais à moins que le bouton ne soit enfoncé pendant une seconde complète, aucun effet n’est visible pour l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-255">In the preceding example, the appearance of the button also changes when the user clicks it, but unless the button is pressed for a full second, the user does not see the effect.</span></span> <span data-ttu-id="cfa2b-256">Par défaut, une seconde est nécessaire au déclenchement de l’animation.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-256">By default, the animation takes one second to occur.</span></span> <span data-ttu-id="cfa2b-257">Étant donné que les utilisateurs sont susceptibles de cliquer sur et relâchez un bouton en beaucoup moins de temps, le retour visuel ne sera pas efficace si vous laissez le <xref:System.Windows.Controls.ControlTemplate> dans son état par défaut.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-257">Because users are likely to click and release a button in much less time, the visual feedback will not be effective if you leave the <xref:System.Windows.Controls.ControlTemplate> in its default state.</span></span>  
  
 <span data-ttu-id="cfa2b-258">Vous pouvez spécifier la quantité de temps nécessaire pour la transition douce entre un contrôle d’un état à un autre en ajoutant à une animation <xref:System.Windows.VisualTransition> des objets sur le <xref:System.Windows.Controls.ControlTemplate>.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-258">You can specify the amount of time that it takes an animation to occur to smoothly transition a control from one state to another by adding <xref:System.Windows.VisualTransition> objects to the <xref:System.Windows.Controls.ControlTemplate>.</span></span> <span data-ttu-id="cfa2b-259">Lorsque vous créez un <xref:System.Windows.VisualTransition>, vous spécifiez un ou plusieurs des opérations suivantes :</span><span class="sxs-lookup"><span data-stu-id="cfa2b-259">When you create a <xref:System.Windows.VisualTransition>, you specify one or more of the following:</span></span>  
  
- <span data-ttu-id="cfa2b-260">Temps nécessaire à une transition entre des états</span><span class="sxs-lookup"><span data-stu-id="cfa2b-260">The time it takes for a transition between states to occur.</span></span>  
  
- <span data-ttu-id="cfa2b-261">Changements supplémentaires dans l’apparence du contrôle durant la transition</span><span class="sxs-lookup"><span data-stu-id="cfa2b-261">Additional changes in the control's appearance that occur at the time of the transition.</span></span>  
  
- <span data-ttu-id="cfa2b-262">Les États du <xref:System.Windows.VisualTransition> est appliqué à.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-262">Which states the <xref:System.Windows.VisualTransition> is applied to.</span></span>  
  
### <a name="specifying-the-duration-of-a-transition"></a><span data-ttu-id="cfa2b-263">Spécification de la durée d’une transition</span><span class="sxs-lookup"><span data-stu-id="cfa2b-263">Specifying the Duration of a Transition</span></span>  
 <span data-ttu-id="cfa2b-264">Vous pouvez spécifier la durée pendant laquelle une transition prend en définissant le <xref:System.Windows.VisualTransition.GeneratedDuration%2A> propriété.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-264">You can specify how long a transition takes by setting the <xref:System.Windows.VisualTransition.GeneratedDuration%2A> property.</span></span> <span data-ttu-id="cfa2b-265">L’exemple précédent a un <xref:System.Windows.VisualState> qui spécifie que la bordure du bouton devient transparente quand le bouton est enfoncé, mais l’animation met trop de temps à se déclencher si le bouton est enfoncé et le relâche immédiatement.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-265">The preceding example has a <xref:System.Windows.VisualState> that specifies that the button's border becomes transparent when the button is pressed, but the animation takes too long to be noticeable if the button is quickly pressed and released.</span></span> <span data-ttu-id="cfa2b-266">Vous pouvez utiliser un <xref:System.Windows.VisualTransition> pour spécifier la quantité de temps nécessaire au contrôle pour effectuer la transition à l’état pressed.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-266">You can use a <xref:System.Windows.VisualTransition> to specify the amount of time it takes the control to transition into the pressed state.</span></span> <span data-ttu-id="cfa2b-267">L’exemple suivant spécifie que le contrôle passe à l’état Pressed après un centième de seconde.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-267">The following example specifies that the control takes one hundredth of a second to go into the pressed state.</span></span>  
  
 [!code-xaml[VSMButtonTemplate#PressedTransition](~/samples/snippets/csharp/VS_Snippets_Wpf/vsmbuttontemplate/csharp/skinnedbutton.xaml#pressedtransition)]  
  
### <a name="specifying-changes-to-the-controls-appearance-during-a-transition"></a><span data-ttu-id="cfa2b-268">Spécification de changements de l’apparence du contrôle durant une transition</span><span class="sxs-lookup"><span data-stu-id="cfa2b-268">Specifying Changes to the Control's Appearance During a Transition</span></span>  
 <span data-ttu-id="cfa2b-269">Le <xref:System.Windows.VisualTransition> contient un <xref:System.Windows.Media.Animation.Storyboard> qui commence lorsque le contrôle effectue la transition entre États.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-269">The <xref:System.Windows.VisualTransition> contains a <xref:System.Windows.Media.Animation.Storyboard> that begins when the control transitions between states.</span></span> <span data-ttu-id="cfa2b-270">Par exemple, vous pouvez spécifier qu’une animation particulière a lieu quand le contrôle passe de l’état `MouseOver` à l’état `Normal`.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-270">For example, you can specify that a certain animation occurs when the control transitions from the `MouseOver` state to the `Normal` State.</span></span> <span data-ttu-id="cfa2b-271">L’exemple suivant crée un <xref:System.Windows.VisualTransition> qui spécifie que lorsque l’utilisateur déplace le pointeur de la souris du bouton, la bordure du bouton change les bleu, puis au jaune et enfin au noir en 1,5 secondes.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-271">The following example creates a <xref:System.Windows.VisualTransition> that specifies that when the user moves the mouse pointer away from the button, the button's border changes to blue, then to yellow, then to black in 1.5 seconds.</span></span>  
  
 [!code-xaml[VSMButtonTemplate#8](~/samples/snippets/csharp/VS_Snippets_Wpf/vsmbuttontemplate/csharp/skinnedbutton.xaml#8)]  
  
### <a name="specifying-when-a-visualtransition-is-applied"></a><span data-ttu-id="cfa2b-272">Spécification du moment où VisualTransition est appliqué</span><span class="sxs-lookup"><span data-stu-id="cfa2b-272">Specifying When a VisualTransition Is Applied</span></span>  
 <span data-ttu-id="cfa2b-273">Un <xref:System.Windows.VisualTransition> peut être limité à appliquer à uniquement certains États, ou elle peut être appliquée chaque fois que les transitions de contrôle entre États.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-273">A <xref:System.Windows.VisualTransition> can be restricted to apply to only certain states, or it can be applied any time the control transitions between states.</span></span> <span data-ttu-id="cfa2b-274">Dans l’exemple précédent, le <xref:System.Windows.VisualTransition> est appliquée lorsque le contrôle passe à partir de la `MouseOver` l’état le `Normal` état ; dans l’exemple antérieur, le <xref:System.Windows.VisualTransition> est appliquée lorsque le contrôle passe à la `Pressed` état.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-274">In the preceding example, the <xref:System.Windows.VisualTransition> is applied when the control goes from the `MouseOver` state to the `Normal` state; in the example before that, the <xref:System.Windows.VisualTransition> is applied when the control goes into the `Pressed` state.</span></span> <span data-ttu-id="cfa2b-275">Restreindre le moment où un <xref:System.Windows.VisualTransition> est appliqué en définissant le <xref:System.Windows.VisualTransition.To%2A> et <xref:System.Windows.VisualTransition.From%2A> propriétés.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-275">You restrict when a <xref:System.Windows.VisualTransition> is applied by setting the <xref:System.Windows.VisualTransition.To%2A> and <xref:System.Windows.VisualTransition.From%2A> properties.</span></span> <span data-ttu-id="cfa2b-276">Le tableau suivant décrit les niveaux de restriction, du plus restrictif au moins restrictif.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-276">The following table describes the levels of restriction from most restrictive to least restrictive.</span></span>  
  
|<span data-ttu-id="cfa2b-277">Type de restriction</span><span class="sxs-lookup"><span data-stu-id="cfa2b-277">Type of restriction</span></span>|<span data-ttu-id="cfa2b-278">Valeur de From</span><span class="sxs-lookup"><span data-stu-id="cfa2b-278">Value of From</span></span>|<span data-ttu-id="cfa2b-279">Valeur de To</span><span class="sxs-lookup"><span data-stu-id="cfa2b-279">Value of To</span></span>|  
|-------------------------|-------------------|-----------------|  
|<span data-ttu-id="cfa2b-280">D’un état spécifié à un autre état spécifié</span><span class="sxs-lookup"><span data-stu-id="cfa2b-280">From a specified state to another specified state</span></span>|<span data-ttu-id="cfa2b-281">Le nom d’un <xref:System.Windows.VisualState></span><span class="sxs-lookup"><span data-stu-id="cfa2b-281">The name of a <xref:System.Windows.VisualState></span></span>|<span data-ttu-id="cfa2b-282">Le nom d’un <xref:System.Windows.VisualState></span><span class="sxs-lookup"><span data-stu-id="cfa2b-282">The name of a <xref:System.Windows.VisualState></span></span>|  
|<span data-ttu-id="cfa2b-283">De n’importe quel état à un état spécifié</span><span class="sxs-lookup"><span data-stu-id="cfa2b-283">From any state to a specified state</span></span>|<span data-ttu-id="cfa2b-284">Non défini</span><span class="sxs-lookup"><span data-stu-id="cfa2b-284">Not set</span></span>|<span data-ttu-id="cfa2b-285">Le nom d’un <xref:System.Windows.VisualState></span><span class="sxs-lookup"><span data-stu-id="cfa2b-285">The name of a <xref:System.Windows.VisualState></span></span>|  
|<span data-ttu-id="cfa2b-286">D’un état spécifié à n’importe quel état</span><span class="sxs-lookup"><span data-stu-id="cfa2b-286">From a specified state to any state</span></span>|<span data-ttu-id="cfa2b-287">Le nom d’un <xref:System.Windows.VisualState></span><span class="sxs-lookup"><span data-stu-id="cfa2b-287">The name of a <xref:System.Windows.VisualState></span></span>|<span data-ttu-id="cfa2b-288">Non défini</span><span class="sxs-lookup"><span data-stu-id="cfa2b-288">Not set</span></span>|  
|<span data-ttu-id="cfa2b-289">De n’importe quel état à n’importe quel autre état</span><span class="sxs-lookup"><span data-stu-id="cfa2b-289">From any state to any other state</span></span>|<span data-ttu-id="cfa2b-290">Non défini</span><span class="sxs-lookup"><span data-stu-id="cfa2b-290">Not set</span></span>|<span data-ttu-id="cfa2b-291">Non défini</span><span class="sxs-lookup"><span data-stu-id="cfa2b-291">Not set</span></span>|  
  
 <span data-ttu-id="cfa2b-292">Vous pouvez avoir plusieurs <xref:System.Windows.VisualTransition> des objets dans un <xref:System.Windows.VisualStateGroup> qui font référence au même état, mais ils seront utilisés dans l’ordre qui spécifie le tableau précédent.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-292">You can have multiple <xref:System.Windows.VisualTransition> objects in a <xref:System.Windows.VisualStateGroup> that refer to the same state, but they will be used in the order that the previous table specifies.</span></span> <span data-ttu-id="cfa2b-293">Dans l’exemple suivant, il existe deux <xref:System.Windows.VisualTransition> objets.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-293">In the following example, there are two <xref:System.Windows.VisualTransition> objects.</span></span> <span data-ttu-id="cfa2b-294">Lorsque le contrôle passe à partir de la `Pressed` l’état le `MouseOver` état, le <xref:System.Windows.VisualTransition> qui a les deux <xref:System.Windows.VisualTransition.From%2A> et <xref:System.Windows.VisualTransition.To%2A> jeu est utilisé.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-294">When the control transitions from the `Pressed` state to the `MouseOver` state, the <xref:System.Windows.VisualTransition> that has both <xref:System.Windows.VisualTransition.From%2A> and <xref:System.Windows.VisualTransition.To%2A> set is used.</span></span> <span data-ttu-id="cfa2b-295">Quand le contrôle passe d’un état autre que `Pressed` à l’état `MouseOver`, l’autre état est utilisé.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-295">When the control transitions from a state that is not `Pressed` to the `MouseOver` state, the other state is used.</span></span>  
  
 [!code-xaml[VSMButtonTemplate#7](~/samples/snippets/csharp/VS_Snippets_Wpf/vsmbuttontemplate/csharp/skinnedbutton.xaml#7)]  
  
 <span data-ttu-id="cfa2b-296">Le <xref:System.Windows.VisualStateGroup> a un <xref:System.Windows.VisualStateGroup.Transitions%2A> propriété qui contient le <xref:System.Windows.VisualTransition> les objets qui s’appliquent à la <xref:System.Windows.VisualState> des objets dans le <xref:System.Windows.VisualStateGroup>.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-296">The <xref:System.Windows.VisualStateGroup> has a <xref:System.Windows.VisualStateGroup.Transitions%2A> property that contains the <xref:System.Windows.VisualTransition> objects that apply to the <xref:System.Windows.VisualState> objects in the <xref:System.Windows.VisualStateGroup>.</span></span> <span data-ttu-id="cfa2b-297">Comme le <xref:System.Windows.Controls.ControlTemplate> auteur, vous êtes libre d’inclure toute <xref:System.Windows.VisualTransition> souhaité.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-297">As the <xref:System.Windows.Controls.ControlTemplate> author, you are free to include any <xref:System.Windows.VisualTransition> you want.</span></span> <span data-ttu-id="cfa2b-298">Toutefois, si le <xref:System.Windows.VisualTransition.To%2A> et <xref:System.Windows.VisualTransition.From%2A> propriétés sont définies sur les noms d’état qui ne figurent pas dans le <xref:System.Windows.VisualStateGroup>, le <xref:System.Windows.VisualTransition> est ignoré.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-298">However, if the <xref:System.Windows.VisualTransition.To%2A> and <xref:System.Windows.VisualTransition.From%2A> properties are set to state names that are not in the <xref:System.Windows.VisualStateGroup>, the <xref:System.Windows.VisualTransition> is ignored.</span></span>  
  
 <span data-ttu-id="cfa2b-299">L’exemple suivant montre le <xref:System.Windows.VisualStateGroup> pour le `CommonStates`.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-299">The following example shows the <xref:System.Windows.VisualStateGroup> for the `CommonStates`.</span></span> <span data-ttu-id="cfa2b-300">L’exemple définit un <xref:System.Windows.VisualTransition> pour chacun des éléments suivants du bouton passe.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-300">The example defines a <xref:System.Windows.VisualTransition> for each of the button's following transitions.</span></span>  
  
- <span data-ttu-id="cfa2b-301">À l’état `Pressed`</span><span class="sxs-lookup"><span data-stu-id="cfa2b-301">To the `Pressed` state.</span></span>  
  
- <span data-ttu-id="cfa2b-302">À l’état `MouseOver`</span><span class="sxs-lookup"><span data-stu-id="cfa2b-302">To the `MouseOver` state.</span></span>  
  
- <span data-ttu-id="cfa2b-303">De l’état `Pressed` à l’état `MouseOver`</span><span class="sxs-lookup"><span data-stu-id="cfa2b-303">From the `Pressed` state to the `MouseOver` state.</span></span>  
  
- <span data-ttu-id="cfa2b-304">De l’état `MouseOver` à l’état `Normal`</span><span class="sxs-lookup"><span data-stu-id="cfa2b-304">From the `MouseOver` state to the `Normal` state.</span></span>  
  
 [!code-xaml[VSMButtonTemplate#VisualTransitions](~/samples/snippets/csharp/VS_Snippets_Wpf/vsmbuttontemplate/csharp/buttonstages.xaml#visualtransitions)]  
  
<a name="customizing_other_controls_by_understanding_the_control_contract"></a>   
## <a name="customizing-other-controls-by-understanding-the-control-contract"></a><span data-ttu-id="cfa2b-305">Personnalisation des autres contrôles grâce à une bonne compréhension du contrat de contrôle</span><span class="sxs-lookup"><span data-stu-id="cfa2b-305">Customizing Other Controls by Understanding the Control Contract</span></span>  
 <span data-ttu-id="cfa2b-306">Un contrôle qui utilise un <xref:System.Windows.Controls.ControlTemplate> pour spécifier sa structure visuelle (à l’aide de <xref:System.Windows.FrameworkElement> objets) et le comportement visuel (à l’aide de <xref:System.Windows.VisualState> objets) utilise le modèle de contrôle des composants.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-306">A control that uses a <xref:System.Windows.Controls.ControlTemplate> to specify its visual structure (by using <xref:System.Windows.FrameworkElement> objects) and visual behavior (by using <xref:System.Windows.VisualState> objects) uses the parts control model.</span></span> <span data-ttu-id="cfa2b-307">Bon nombre des contrôles inclus avec [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] 4 utilisent ce modèle.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-307">Many of the controls that are included with [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] 4 use this model.</span></span> <span data-ttu-id="cfa2b-308">Les parties qui un <xref:System.Windows.Controls.ControlTemplate> auteur doit être conscient d’est communiqués via le contrat de contrôle.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-308">The parts that a <xref:System.Windows.Controls.ControlTemplate> author needs to be aware of are communicated through the control contract.</span></span> <span data-ttu-id="cfa2b-309">Quand vous connaissez les composants d’un contrat de contrôle, vous pouvez personnaliser l’apparence de tout contrôle qui utilise le modèle de contrôle des composants.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-309">When you understand the parts of a control contract, you can customize the appearance of any control that uses the parts control model.</span></span>  
  
 <span data-ttu-id="cfa2b-310">Un contrat de contrôle comporte trois éléments :</span><span class="sxs-lookup"><span data-stu-id="cfa2b-310">A control contract has three elements:</span></span>  
  
- <span data-ttu-id="cfa2b-311">les éléments visuels utilisés par la logique du contrôle ;</span><span class="sxs-lookup"><span data-stu-id="cfa2b-311">The visual elements that the control's logic uses.</span></span>  
  
- <span data-ttu-id="cfa2b-312">les états du contrôle et le groupe auquel appartient chaque état ;</span><span class="sxs-lookup"><span data-stu-id="cfa2b-312">The states of the control and the group each state belongs to.</span></span>  
  
- <span data-ttu-id="cfa2b-313">les propriétés publiques qui affectent visuellement le contrôle.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-313">The public properties that visually affect the control.</span></span>  
  
### <a name="visual-elements-in-the-control-contract"></a><span data-ttu-id="cfa2b-314">Éléments visuels du contrat de contrôle</span><span class="sxs-lookup"><span data-stu-id="cfa2b-314">Visual Elements in the Control Contract</span></span>  
 <span data-ttu-id="cfa2b-315">Logique d’un contrôle interagit parfois avec un <xref:System.Windows.FrameworkElement> qui se trouve dans le <xref:System.Windows.Controls.ControlTemplate>.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-315">Sometimes a control's logic interacts with a <xref:System.Windows.FrameworkElement> that is in the <xref:System.Windows.Controls.ControlTemplate>.</span></span> <span data-ttu-id="cfa2b-316">Par exemple, le contrôle peut gérer un événement de l’un de ses éléments.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-316">For example, the control might handle an event of one of its elements.</span></span> <span data-ttu-id="cfa2b-317">Quand un contrôle s’attend à trouver un particulier <xref:System.Windows.FrameworkElement> dans le <xref:System.Windows.Controls.ControlTemplate>, il doit communiquer cette information à le <xref:System.Windows.Controls.ControlTemplate> auteur.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-317">When a control expects to find a particular <xref:System.Windows.FrameworkElement> in the <xref:System.Windows.Controls.ControlTemplate>, it must convey that information to the <xref:System.Windows.Controls.ControlTemplate> author.</span></span> <span data-ttu-id="cfa2b-318">Le contrôle utilise le <xref:System.Windows.TemplatePartAttribute> pour transmettre le type d’élément attendu, et ce qui doit être le nom de l’élément.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-318">The control uses the <xref:System.Windows.TemplatePartAttribute> to convey the type of element that is expected, and what the name of the element should be.</span></span> <span data-ttu-id="cfa2b-319">Le <xref:System.Windows.Controls.Button> n’a pas <xref:System.Windows.FrameworkElement> parties dans son contrat de contrôle, mais d’autres contrôles, tels que le <xref:System.Windows.Controls.ComboBox>, faire.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-319">The <xref:System.Windows.Controls.Button> does not have <xref:System.Windows.FrameworkElement> parts in its control contract, but other controls, such as the <xref:System.Windows.Controls.ComboBox>, do.</span></span>  
  
 <span data-ttu-id="cfa2b-320">L’exemple suivant montre le <xref:System.Windows.TemplatePartAttribute> les objets qui sont spécifiées sur la <xref:System.Windows.Controls.ComboBox> classe.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-320">The following example shows the <xref:System.Windows.TemplatePartAttribute> objects that are specified on the <xref:System.Windows.Controls.ComboBox> class.</span></span> <span data-ttu-id="cfa2b-321">La logique de <xref:System.Windows.Controls.ComboBox> s’attend à trouver un <xref:System.Windows.Controls.TextBox> nommé `PART_EditableTextBox` et un <xref:System.Windows.Controls.Primitives.Popup> nommé `PART_Popup` dans son <xref:System.Windows.Controls.ControlTemplate>.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-321">The logic of <xref:System.Windows.Controls.ComboBox> expects to find a <xref:System.Windows.Controls.TextBox> named `PART_EditableTextBox` and a <xref:System.Windows.Controls.Primitives.Popup> named `PART_Popup` in its <xref:System.Windows.Controls.ControlTemplate>.</span></span>  
  
 [!code-csharp[VSMButtonTemplate#ComboBoxContract](~/samples/snippets/csharp/VS_Snippets_Wpf/vsmbuttontemplate/csharp/controlcontracts.cs#comboboxcontract)]
 [!code-vb[VSMButtonTemplate#ComboBoxContract](~/samples/snippets/visualbasic/VS_Snippets_Wpf/vsmbuttontemplate/visualbasic/window1.xaml.vb#comboboxcontract)]  
  
 <span data-ttu-id="cfa2b-322">L’exemple suivant montre une manière simplifiée <xref:System.Windows.Controls.ControlTemplate> pour le <xref:System.Windows.Controls.ComboBox> qui inclut les éléments qui sont spécifiées par le <xref:System.Windows.TemplatePartAttribute> objets sur le <xref:System.Windows.Controls.ComboBox> classe.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-322">The following example shows a simplified <xref:System.Windows.Controls.ControlTemplate> for the <xref:System.Windows.Controls.ComboBox> that includes the elements that are specified by the <xref:System.Windows.TemplatePartAttribute> objects on the <xref:System.Windows.Controls.ComboBox> class.</span></span>  
  
 [!code-xaml[VSMButtonTemplate#ComboBoxTemplate](~/samples/snippets/csharp/VS_Snippets_Wpf/vsmbuttontemplate/csharp/window1.xaml#comboboxtemplate)]  
  
### <a name="states-in-the-control-contract"></a><span data-ttu-id="cfa2b-323">États du contrat de contrôle</span><span class="sxs-lookup"><span data-stu-id="cfa2b-323">States in the Control Contract</span></span>  
 <span data-ttu-id="cfa2b-324">Les états d’un contrôle font également partie du contrat de contrôle.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-324">The states of a control are also a part of the control contract.</span></span> <span data-ttu-id="cfa2b-325">L’exemple de création d’un <xref:System.Windows.Controls.ControlTemplate> pour un <xref:System.Windows.Controls.Button> montre comment spécifier l’apparence d’un <xref:System.Windows.Controls.Button> en fonction de ses États.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-325">The example of creating a <xref:System.Windows.Controls.ControlTemplate> for a <xref:System.Windows.Controls.Button> shows how to specify the appearance of a <xref:System.Windows.Controls.Button> depending on its states.</span></span> <span data-ttu-id="cfa2b-326">Vous créez un <xref:System.Windows.VisualState> pour chaque état spécifié et placez tous les <xref:System.Windows.VisualState> objets qui partagent un <xref:System.Windows.TemplateVisualStateAttribute.GroupName%2A> dans un <xref:System.Windows.VisualStateGroup>, comme décrit dans [modification de l’apparence d’un contrôle en fonction de son état](#changing_the_appearance_of_a_control_depending_on_its_state) plus haut dans cette rubrique.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-326">You create a <xref:System.Windows.VisualState> for each specified state and put all <xref:System.Windows.VisualState> objects that share a <xref:System.Windows.TemplateVisualStateAttribute.GroupName%2A> in a <xref:System.Windows.VisualStateGroup>, as described in [Changing the Appearance of a Control Depending on Its State](#changing_the_appearance_of_a_control_depending_on_its_state) earlier in this topic.</span></span> <span data-ttu-id="cfa2b-327">Les contrôles tiers doivent spécifier des États à l’aide de la <xref:System.Windows.TemplateVisualStateAttribute>, ce qui permet des outils de conception, tels qu’Expression Blend, pour exposer les États du contrôle pour la création de modèles de contrôle.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-327">Third-party controls should specify states by using the <xref:System.Windows.TemplateVisualStateAttribute>, which enables designer tools, such as Expression Blend, to expose the control's states for authoring control templates.</span></span>  
  
 <span data-ttu-id="cfa2b-328">Pour trouver le contrat de contrôle pour les contrôles inclus avec [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], consultez [Styles et modèles Control](control-styles-and-templates.md).</span><span class="sxs-lookup"><span data-stu-id="cfa2b-328">To find the control contract for controls that are included with [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], see [Control Styles and Templates](control-styles-and-templates.md).</span></span>  
  
### <a name="properties-in-the-control-contract"></a><span data-ttu-id="cfa2b-329">Propriétés du contrat de contrôle</span><span class="sxs-lookup"><span data-stu-id="cfa2b-329">Properties in the Control Contract</span></span>  
 <span data-ttu-id="cfa2b-330">Les propriétés publiques qui affectent visuellement le contrôle sont également incluses dans le contrat de contrôle.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-330">The public properties that visually affect the control are also included in the control contract.</span></span> <span data-ttu-id="cfa2b-331">Vous pouvez définir ces propriétés pour modifier l’apparence du contrôle sans créer de nouveau <xref:System.Windows.Controls.ControlTemplate>.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-331">You can set these properties to change the appearance of the control without creating a new <xref:System.Windows.Controls.ControlTemplate>.</span></span> <span data-ttu-id="cfa2b-332">Vous pouvez également utiliser le [TemplateBinding](../advanced/templatebinding-markup-extension.md) extension de balisage pour lier les propriétés d’éléments qui se trouvent dans le <xref:System.Windows.Controls.ControlTemplate> aux propriétés publiques définies par le <xref:System.Windows.Controls.Button>.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-332">You can also use the [TemplateBinding](../advanced/templatebinding-markup-extension.md) markup extension to bind properties of elements that are in the <xref:System.Windows.Controls.ControlTemplate> to public properties that are defined by the <xref:System.Windows.Controls.Button>.</span></span>  
  
 <span data-ttu-id="cfa2b-333">L’exemple suivant illustre le contrat de contrôle pour le bouton.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-333">The following example shows the control contract for the button.</span></span>  
  
 [!code-csharp[VSMButtonTemplate#ButtonContract](~/samples/snippets/csharp/VS_Snippets_Wpf/vsmbuttontemplate/csharp/controlcontracts.cs#buttoncontract)]
 [!code-vb[VSMButtonTemplate#ButtonContract](~/samples/snippets/visualbasic/VS_Snippets_Wpf/vsmbuttontemplate/visualbasic/window1.xaml.vb#buttoncontract)]  
  
 <span data-ttu-id="cfa2b-334">Lorsque vous créez un <xref:System.Windows.Controls.ControlTemplate>, il est souvent plus facile de commencer avec un existant <xref:System.Windows.Controls.ControlTemplate> et apporter des modifications.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-334">When creating a <xref:System.Windows.Controls.ControlTemplate>, it is often easiest to begin with an existing <xref:System.Windows.Controls.ControlTemplate> and make changes to it.</span></span> <span data-ttu-id="cfa2b-335">Vous pouvez effectuer l’une des opérations suivantes pour modifier un existant <xref:System.Windows.Controls.ControlTemplate>:</span><span class="sxs-lookup"><span data-stu-id="cfa2b-335">You can do one of the following to change an existing <xref:System.Windows.Controls.ControlTemplate>:</span></span>  
  
- <span data-ttu-id="cfa2b-336">Utiliser un concepteur, tel qu’Expression Blend, qui fournit une interface graphique utilisateur pour créer des modèles de contrôle.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-336">Use a designer, such as Expression Blend, which provides a graphical user interface for creating control templates.</span></span> <span data-ttu-id="cfa2b-337">Pour plus d’informations, consultez [Définition d’un style pour un contrôle prenant en charge les modèles](https://go.microsoft.com/fwlink/?LinkId=161153).</span><span class="sxs-lookup"><span data-stu-id="cfa2b-337">For more information, see [Styling a control that supports templates](https://go.microsoft.com/fwlink/?LinkId=161153).</span></span>  
  
- <span data-ttu-id="cfa2b-338">Obtenir la valeur par défaut <xref:System.Windows.Controls.ControlTemplate> et le modifier.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-338">Get the default <xref:System.Windows.Controls.ControlTemplate> and edit it.</span></span> <span data-ttu-id="cfa2b-339">Pour trouver les modèles de contrôle par défaut compris dans [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], consultez [Thèmes WPF par défaut](https://go.microsoft.com/fwlink/?LinkID=158252).</span><span class="sxs-lookup"><span data-stu-id="cfa2b-339">To find the default control templates that are included with [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], see [Default WPF Themes](https://go.microsoft.com/fwlink/?LinkID=158252).</span></span>  
  
<a name="complete_example"></a>   
## <a name="complete-example"></a><span data-ttu-id="cfa2b-340">Exemple complet</span><span class="sxs-lookup"><span data-stu-id="cfa2b-340">Complete Example</span></span>  
 <span data-ttu-id="cfa2b-341">L’exemple suivant montre l’ensemble <xref:System.Windows.Controls.Button> <xref:System.Windows.Controls.ControlTemplate> qui est décrite dans cette rubrique.</span><span class="sxs-lookup"><span data-stu-id="cfa2b-341">The following example shows the complete <xref:System.Windows.Controls.Button><xref:System.Windows.Controls.ControlTemplate> that is discussed in this topic.</span></span>  
  
 [!code-xaml[VSMButtonTemplate#3](~/samples/snippets/csharp/VS_Snippets_Wpf/vsmbuttontemplate/csharp/skinnedbutton.xaml#3)]  
  
## <a name="see-also"></a><span data-ttu-id="cfa2b-342">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="cfa2b-342">See also</span></span>

- [<span data-ttu-id="cfa2b-343">Application d’un style et création de modèles</span><span class="sxs-lookup"><span data-stu-id="cfa2b-343">Styling and Templating</span></span>](styling-and-templating.md)
