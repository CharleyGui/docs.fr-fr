---
title: Considérations supplémentaires sur la sécurité
ms.date: 03/30/2017
helpviewer_keywords:
- Windows Forms, secure calls to Windows API
- security [Windows Forms]
- security [Windows Forms], calling APIs
- Clipboard [Windows Forms], securing access
ms.assetid: 15abda8b-0527-47c7-aedb-77ab595f2bf1
ms.openlocfilehash: c8d51a57194f1dc536bc4b5d0376987dbfd3b2cf
ms.sourcegitcommit: de17a7a0a37042f0d4406f5ae5393531caeb25ba
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/24/2020
ms.locfileid: "76739807"
---
# <a name="additional-security-considerations-in-windows-forms"></a><span data-ttu-id="86e22-102">Considérations supplémentaires sur la sécurité des Windows Forms</span><span class="sxs-lookup"><span data-stu-id="86e22-102">Additional Security Considerations in Windows Forms</span></span>
<span data-ttu-id="86e22-103">.NET Framework paramètres de sécurité peuvent entraîner une exécution différente de votre application dans un environnement de confiance partielle que sur votre ordinateur local.</span><span class="sxs-lookup"><span data-stu-id="86e22-103">.NET Framework security settings might cause your application to run differently in a partial trust environment than on your local computer.</span></span> <span data-ttu-id="86e22-104">Le .NET Framework restreint l’accès à ces ressources locales critiques comme le système de fichiers, le réseau et les API non managées, entre autres choses.</span><span class="sxs-lookup"><span data-stu-id="86e22-104">The .NET Framework restricts access to such critical local resources as the file system, network, and unmanaged APIs, among other things.</span></span> <span data-ttu-id="86e22-105">Les paramètres de sécurité affectent la possibilité d’appeler l’API Microsoft Windows ou d’autres API qui ne peuvent pas être vérifiées par le système de sécurité.</span><span class="sxs-lookup"><span data-stu-id="86e22-105">The security settings affect the ability to call the Microsoft Windows API or other APIs that cannot be verified by the security system.</span></span> <span data-ttu-id="86e22-106">La sécurité affecte également les autres aspects de votre application, y compris l’accès aux fichiers et aux données, ainsi que l’impression.</span><span class="sxs-lookup"><span data-stu-id="86e22-106">Security also affects other aspects of your application, including file and data access, and printing.</span></span> <span data-ttu-id="86e22-107">Pour plus d’informations sur l’accès aux fichiers et aux données dans un environnement à confiance partielle, consultez [Accès plus sécurisé aux fichiers et aux données dans les Windows Forms](more-secure-file-and-data-access-in-windows-forms.md).</span><span class="sxs-lookup"><span data-stu-id="86e22-107">For more information about file and data access in a partial trust environment, see [More Secure File and Data Access in Windows Forms](more-secure-file-and-data-access-in-windows-forms.md).</span></span> <span data-ttu-id="86e22-108">Pour plus d’informations sur l’impression dans un environnement à confiance partielle, consultez [Impression plus sécurisée dans les Windows Forms](more-secure-printing-in-windows-forms.md).</span><span class="sxs-lookup"><span data-stu-id="86e22-108">For more information about printing in a partial trust environment, see [More Secure Printing in Windows Forms](more-secure-printing-in-windows-forms.md).</span></span>  
  
 <span data-ttu-id="86e22-109">Les sections suivantes expliquent comment utiliser le presse-papiers, effectuer une manipulation de fenêtre et appeler l’API Windows à partir d’applications qui s’exécutent dans un environnement de confiance partielle.</span><span class="sxs-lookup"><span data-stu-id="86e22-109">The following sections discuss how to work with the Clipboard, perform window manipulation, and call the Windows API from applications that are running in a partial trust environment.</span></span>  
  
## <a name="clipboard-access"></a><span data-ttu-id="86e22-110">Accès au presse-papiers</span><span class="sxs-lookup"><span data-stu-id="86e22-110">Clipboard Access</span></span>  
 <span data-ttu-id="86e22-111">La classe <xref:System.Security.Permissions.UIPermission> contrôle l’accès au Presse-papiers, et la valeur d’énumération <xref:System.Security.Permissions.UIPermissionClipboard> associée indique le niveau d’accès.</span><span class="sxs-lookup"><span data-stu-id="86e22-111">The <xref:System.Security.Permissions.UIPermission> class controls access to the Clipboard, and the associated <xref:System.Security.Permissions.UIPermissionClipboard> enumeration value indicates the level of access.</span></span> <span data-ttu-id="86e22-112">Le tableau suivant présente les différents niveaux d’autorisation.</span><span class="sxs-lookup"><span data-stu-id="86e22-112">The following table shows the possible permission levels.</span></span>  
  
|<span data-ttu-id="86e22-113">Valeur UIPermissionClipboard</span><span class="sxs-lookup"><span data-stu-id="86e22-113">UIPermissionClipboard value</span></span>|<span data-ttu-id="86e22-114">Description</span><span class="sxs-lookup"><span data-stu-id="86e22-114">Description</span></span>|  
|---------------------------------|-----------------|  
|<xref:System.Security.Permissions.UIPermissionClipboard.AllClipboard>|<span data-ttu-id="86e22-115">Le Presse-papiers peut être utilisé sans aucune restriction.</span><span class="sxs-lookup"><span data-stu-id="86e22-115">The Clipboard can be used without restriction.</span></span>|  
|<xref:System.Security.Permissions.UIPermissionClipboard.OwnClipboard>|<span data-ttu-id="86e22-116">Le Presse-papiers peut être utilisé avec certaines restrictions.</span><span class="sxs-lookup"><span data-stu-id="86e22-116">The Clipboard can be used with some restrictions.</span></span> <span data-ttu-id="86e22-117">La possibilité de placer des données dans le Presse-papiers (opérations de commande copier ou couper) n’est pas restreinte.</span><span class="sxs-lookup"><span data-stu-id="86e22-117">The ability to put data on the Clipboard (Copy or Cut command operations) is unrestricted.</span></span> <span data-ttu-id="86e22-118">Les contrôles intrinsèques qui acceptent le collage, comme les zones de texte, peuvent accepter les données du Presse-papiers, mais les contrôles utilisateur ne peuvent pas lire le contenu du Presse-papiers par programme.</span><span class="sxs-lookup"><span data-stu-id="86e22-118">Intrinsic controls that accept paste, such as a text box, can accept Clipboard data, but user controls cannot programmatically read from the Clipboard.</span></span>|  
|<xref:System.Security.Permissions.UIPermissionClipboard.NoClipboard>|<span data-ttu-id="86e22-119">Impossible d’utiliser le Presse-papiers.</span><span class="sxs-lookup"><span data-stu-id="86e22-119">The Clipboard cannot be used.</span></span>|  
  
 <span data-ttu-id="86e22-120">Par défaut, la zone Intranet local reçoit <xref:System.Security.Permissions.UIPermissionClipboard.AllClipboard> accès et la zone Internet reçoit <xref:System.Security.Permissions.UIPermissionClipboard.OwnClipboard> accès.</span><span class="sxs-lookup"><span data-stu-id="86e22-120">By default, the Local Intranet zone receives <xref:System.Security.Permissions.UIPermissionClipboard.AllClipboard> access and the Internet zone receives <xref:System.Security.Permissions.UIPermissionClipboard.OwnClipboard> access.</span></span> <span data-ttu-id="86e22-121">Cela signifie que l’application peut copier des données dans le Presse-papiers, mais pas les coller par programme vers ou lire à partir du Presse-papiers.</span><span class="sxs-lookup"><span data-stu-id="86e22-121">This means that the application can copy data to the Clipboard, but the application cannot programmatically paste to or read from the Clipboard.</span></span> <span data-ttu-id="86e22-122">Ces restrictions empêchent les programmes sans confiance totale de lire les données copiées dans le Presse-papiers par une autre application.</span><span class="sxs-lookup"><span data-stu-id="86e22-122">These restrictions prevent programs without full trust from reading content copied to the Clipboard by another application.</span></span> <span data-ttu-id="86e22-123">Si votre application nécessite l’accès total au Presse-papiers mais que vous n’avez pas les autorisations, vous devez élever les autorisations pour votre application.</span><span class="sxs-lookup"><span data-stu-id="86e22-123">If your application requires full Clipboard access but you do not have the permissions, you will have to elevate the permissions for your application.</span></span> <span data-ttu-id="86e22-124">Pour plus d’informations sur l’élévation d’autorisations, consultez [Administration de la stratégie de sécurité générale](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ed5htz45(v=vs.100)).</span><span class="sxs-lookup"><span data-stu-id="86e22-124">For more information about elevating permissions, see [General Security Policy Administration](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ed5htz45(v=vs.100)).</span></span>  
  
## <a name="window-manipulation"></a><span data-ttu-id="86e22-125">Manipulation de fenêtres</span><span class="sxs-lookup"><span data-stu-id="86e22-125">Window Manipulation</span></span>  
 <span data-ttu-id="86e22-126">La classe <xref:System.Security.Permissions.UIPermission> contrôle également l’autorisation d’effectuer une manipulation de fenêtre et d’autres actions liées à l’interface utilisateur, et la valeur d’énumération <xref:System.Security.Permissions.UIPermissionWindow> associée indique le niveau d’accès.</span><span class="sxs-lookup"><span data-stu-id="86e22-126">The <xref:System.Security.Permissions.UIPermission> class also controls permission to perform window manipulation and other UI-related actions, and the associated <xref:System.Security.Permissions.UIPermissionWindow> enumeration value indicates the level of access.</span></span> <span data-ttu-id="86e22-127">Le tableau suivant présente les différents niveaux d’autorisation.</span><span class="sxs-lookup"><span data-stu-id="86e22-127">The following table shows the possible permission levels.</span></span>  
  
 <span data-ttu-id="86e22-128">Par défaut, la zone Intranet local reçoit <xref:System.Security.Permissions.UIPermissionWindow.AllWindows> accès et la zone Internet reçoit <xref:System.Security.Permissions.UIPermissionWindow.SafeTopLevelWindows> accès.</span><span class="sxs-lookup"><span data-stu-id="86e22-128">By default, the Local Intranet zone receives <xref:System.Security.Permissions.UIPermissionWindow.AllWindows> access and the Internet zone receives <xref:System.Security.Permissions.UIPermissionWindow.SafeTopLevelWindows> access.</span></span> <span data-ttu-id="86e22-129">Cela signifie que dans la zone Internet, l’application peut effectuer la plupart des actions d’interface utilisateur et liées aux fenêtres, mais l’aspect de la fenêtre sera modifié.</span><span class="sxs-lookup"><span data-stu-id="86e22-129">This means that in the Internet zone, the application can perform most windowing and UI actions, but the window's appearance will be modified.</span></span> <span data-ttu-id="86e22-130">La fenêtre modifiée affiche une bulle de notification lors du démarrage de l’exécution, contient le texte de barre de titre modifié et requiert un bouton Fermer dans la barre de titre.</span><span class="sxs-lookup"><span data-stu-id="86e22-130">The modified window displays a balloon notification when first run, contains modified title bar text, and requires a close button on the title bar.</span></span> <span data-ttu-id="86e22-131">La bulle de notification et la barre de titre indiquent à l’utilisateur de l’application que l’application s’exécute en confiance partielle.</span><span class="sxs-lookup"><span data-stu-id="86e22-131">The balloon notification and the title bar identify to the user of the application that the application is running under partial trust.</span></span>  
  
|<span data-ttu-id="86e22-132">Valeur UIPermissionWindow</span><span class="sxs-lookup"><span data-stu-id="86e22-132">UIPermissionWindow value</span></span>|<span data-ttu-id="86e22-133">Description</span><span class="sxs-lookup"><span data-stu-id="86e22-133">Description</span></span>|  
|------------------------------|-----------------|  
|<xref:System.Security.Permissions.UIPermissionWindow.AllWindows>|<span data-ttu-id="86e22-134">Les utilisateurs peuvent utiliser toutes les fenêtres et tous les événements d'entrée d'utilisateur sans restriction.</span><span class="sxs-lookup"><span data-stu-id="86e22-134">Users can use all windows and user input events without restriction.</span></span>|  
|<xref:System.Security.Permissions.UIPermissionWindow.SafeTopLevelWindows>|<span data-ttu-id="86e22-135">Les utilisateurs peuvent utiliser uniquement des fenêtres de niveau supérieur sûres et des sous-fenêtres sûres pour le dessin, et peuvent utiliser uniquement les événements d’entrée d’utilisateur pour l’interface utilisateur dans ces fenêtres de niveau supérieur et ces sous-fenêtres.</span><span class="sxs-lookup"><span data-stu-id="86e22-135">Users can use only safer top-level windows and safer subwindows for drawing, and can use only user input events for the user interface within those top-level windows and subwindows.</span></span> <span data-ttu-id="86e22-136">Ces fenêtres sûres sont clairement indiquées et ont des restrictions de taille minimale et maximale.</span><span class="sxs-lookup"><span data-stu-id="86e22-136">These safer windows are clearly labeled and have minimum and maximum size restrictions.</span></span> <span data-ttu-id="86e22-137">Les restrictions empêchent les attaques d’usurpation d’identité potentiellement dangereuses, telles que l’imitation des écrans d’ouverture de session système ou le Bureau du système, et limitent l’accès par programme aux fenêtres parentes, les API liées au focus et l’utilisation du contrôle <xref:System.Windows.Forms.ToolTip>,</span><span class="sxs-lookup"><span data-stu-id="86e22-137">The restrictions prevent potentially harmful spoofing attacks, such as imitating system logon screens or the system desktop, and restricts programmatic access to parent windows, focus-related APIs, and use of the <xref:System.Windows.Forms.ToolTip> control,</span></span>|  
|<xref:System.Security.Permissions.UIPermissionWindow.SafeSubWindows>|<span data-ttu-id="86e22-138">Les utilisateurs peuvent utiliser uniquement des sous-fenêtres sûres pour le dessin, et peuvent utiliser uniquement les événements d’entrée d’utilisateur pour l’interface utilisateur dans ces sous-fenêtres.</span><span class="sxs-lookup"><span data-stu-id="86e22-138">Users can use only safer subwindows for drawing, and can use only user input events for the user interface within that subwindow.</span></span> <span data-ttu-id="86e22-139">Un contrôle affiché dans un navigateur est un exemple de sous-fenêtre sûre.</span><span class="sxs-lookup"><span data-stu-id="86e22-139">A control displayed within a browser is an example of a safer subwindow.</span></span>|  
|<xref:System.Security.Permissions.UIPermissionWindow.NoWindows>|<span data-ttu-id="86e22-140">Les utilisateurs ne peuvent pas utiliser d’événements d’interface utilisateur ou Windows.</span><span class="sxs-lookup"><span data-stu-id="86e22-140">Users cannot use any windows or user interface events.</span></span> <span data-ttu-id="86e22-141">Aucune interface utilisateur ne peut être utilisée.</span><span class="sxs-lookup"><span data-stu-id="86e22-141">No user interface can be used.</span></span>|  
  
 <span data-ttu-id="86e22-142">Chaque niveau d’autorisation identifié par l’énumération <xref:System.Security.Permissions.UIPermissionWindow> autorise moins d’actions que le niveau supérieur.</span><span class="sxs-lookup"><span data-stu-id="86e22-142">Each permission level identified by the <xref:System.Security.Permissions.UIPermissionWindow> enumeration allows fewer actions than the level above it.</span></span> <span data-ttu-id="86e22-143">Les tableaux suivants indiquent les actions qui sont limitées par les valeurs <xref:System.Security.Permissions.UIPermissionWindow.SafeTopLevelWindows> et <xref:System.Security.Permissions.UIPermissionWindow.SafeSubWindows>.</span><span class="sxs-lookup"><span data-stu-id="86e22-143">The following tables indicate the actions that are restricted by the <xref:System.Security.Permissions.UIPermissionWindow.SafeTopLevelWindows> and <xref:System.Security.Permissions.UIPermissionWindow.SafeSubWindows> values.</span></span> <span data-ttu-id="86e22-144">Pour plus d'informations sur les autorisations nécessaires pour chaque membre, consultez la rubrique de référence correspondant à ce membre dans la documentation de la bibliothèque de classes .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="86e22-144">For exact permissions that are required for each member, see the reference for that member in the .NET Framework class library documentation.</span></span>  
  
 <span data-ttu-id="86e22-145"><xref:System.Security.Permissions.UIPermissionWindow.SafeTopLevelWindows> autorisation restreint les actions énumérées dans le tableau suivant.</span><span class="sxs-lookup"><span data-stu-id="86e22-145"><xref:System.Security.Permissions.UIPermissionWindow.SafeTopLevelWindows> permission restricts the actions listed in the following table.</span></span>  
  
|<span data-ttu-id="86e22-146">Composant</span><span class="sxs-lookup"><span data-stu-id="86e22-146">Component</span></span>|<span data-ttu-id="86e22-147">Actions restreintes</span><span class="sxs-lookup"><span data-stu-id="86e22-147">Restricted actions</span></span>|  
|---------------|------------------------|  
|<xref:System.Windows.Forms.Application>|<span data-ttu-id="86e22-148">-   Définition de la propriété <xref:System.Windows.Forms.Application.SafeTopLevelCaptionFormat%2A>.</span><span class="sxs-lookup"><span data-stu-id="86e22-148">-   Setting the <xref:System.Windows.Forms.Application.SafeTopLevelCaptionFormat%2A> property.</span></span>|  
|<xref:System.Windows.Forms.Control>|<span data-ttu-id="86e22-149">-Obtention de la propriété <xref:System.Windows.Forms.Control.Parent%2A>.</span><span class="sxs-lookup"><span data-stu-id="86e22-149">-   Getting the <xref:System.Windows.Forms.Control.Parent%2A> property.</span></span><br /><span data-ttu-id="86e22-150">-   Définition de la propriété `Region`.</span><span class="sxs-lookup"><span data-stu-id="86e22-150">-   Setting the `Region` property.</span></span><br /><span data-ttu-id="86e22-151">-Appel de la méthode <xref:System.Windows.Forms.Control.FindForm%2A>, <xref:System.Windows.Forms.Control.Focus%2A>, <xref:System.Windows.Forms.Control.FromChildHandle%2A> et <xref:System.Windows.Forms.Control.FromHandle%2A>, <xref:System.Windows.Forms.Control.PreProcessMessage%2A>, <xref:System.Windows.Forms.Control.ReflectMessage%2A>ou <xref:System.Windows.Forms.Control.SetTopLevel%2A>.</span><span class="sxs-lookup"><span data-stu-id="86e22-151">-   Calling the <xref:System.Windows.Forms.Control.FindForm%2A> , <xref:System.Windows.Forms.Control.Focus%2A>, <xref:System.Windows.Forms.Control.FromChildHandle%2A> and <xref:System.Windows.Forms.Control.FromHandle%2A>, <xref:System.Windows.Forms.Control.PreProcessMessage%2A>, <xref:System.Windows.Forms.Control.ReflectMessage%2A>, or <xref:System.Windows.Forms.Control.SetTopLevel%2A> method.</span></span><br /><span data-ttu-id="86e22-152">-Appel de la méthode <xref:System.Windows.Forms.Control.GetChildAtPoint%2A> si le contrôle retourné n’est pas un enfant du contrôle appelant.</span><span class="sxs-lookup"><span data-stu-id="86e22-152">-   Calling the <xref:System.Windows.Forms.Control.GetChildAtPoint%2A> method if the control returned is not a child of the calling control.</span></span><br /><span data-ttu-id="86e22-153">-   Modifier le focus du contrôle à l’intérieur d’un contrôle conteneur.</span><span class="sxs-lookup"><span data-stu-id="86e22-153">-   Modify control focus inside a container control.</span></span>|  
|<xref:System.Windows.Forms.Cursor>|<span data-ttu-id="86e22-154">-   Définition de la propriété <xref:System.Windows.Forms.Cursor.Clip%2A>.</span><span class="sxs-lookup"><span data-stu-id="86e22-154">-   Setting the <xref:System.Windows.Forms.Cursor.Clip%2A> property.</span></span><br /><span data-ttu-id="86e22-155">-Appel de la méthode <xref:System.Windows.Forms.Control.Hide%2A>.</span><span class="sxs-lookup"><span data-stu-id="86e22-155">-   Calling the <xref:System.Windows.Forms.Control.Hide%2A> method.</span></span>|  
|<xref:System.Windows.Forms.DataGrid>|<span data-ttu-id="86e22-156">-Appel de la méthode <xref:System.Windows.Forms.ContainerControl.ProcessTabKey%2A>.</span><span class="sxs-lookup"><span data-stu-id="86e22-156">-   Calling the <xref:System.Windows.Forms.ContainerControl.ProcessTabKey%2A> method.</span></span>|  
|<xref:System.Windows.Forms.Form>|<span data-ttu-id="86e22-157">-Obtention de la propriété <xref:System.Windows.Forms.Form.ActiveForm%2A> ou <xref:System.Windows.Forms.Form.MdiParent%2A>.</span><span class="sxs-lookup"><span data-stu-id="86e22-157">-   Getting the <xref:System.Windows.Forms.Form.ActiveForm%2A> or <xref:System.Windows.Forms.Form.MdiParent%2A> property.</span></span><br /><span data-ttu-id="86e22-158">-Définition de la propriété <xref:System.Windows.Forms.Form.ControlBox%2A>, <xref:System.Windows.Forms.Form.ShowInTaskbar%2A>ou <xref:System.Windows.Forms.Form.TopMost%2A>.</span><span class="sxs-lookup"><span data-stu-id="86e22-158">-   Setting the <xref:System.Windows.Forms.Form.ControlBox%2A>, <xref:System.Windows.Forms.Form.ShowInTaskbar%2A>, or <xref:System.Windows.Forms.Form.TopMost%2A> property.</span></span><br /><span data-ttu-id="86e22-159">-Définition de la propriété <xref:System.Windows.Forms.Form.Opacity%2A> inférieure à 50%.</span><span class="sxs-lookup"><span data-stu-id="86e22-159">-   Setting the <xref:System.Windows.Forms.Form.Opacity%2A> property below 50%.</span></span><br /><span data-ttu-id="86e22-160">-Définition de la propriété <xref:System.Windows.Forms.Form.WindowState%2A> sur <xref:System.Windows.Forms.FormWindowState.Minimized> par programmation.</span><span class="sxs-lookup"><span data-stu-id="86e22-160">-   Setting the <xref:System.Windows.Forms.Form.WindowState%2A> property to <xref:System.Windows.Forms.FormWindowState.Minimized> programmatically.</span></span><br /><span data-ttu-id="86e22-161">-Appel de la méthode <xref:System.Windows.Forms.Form.Activate%2A>.</span><span class="sxs-lookup"><span data-stu-id="86e22-161">-   Calling the <xref:System.Windows.Forms.Form.Activate%2A> method.</span></span><br /><span data-ttu-id="86e22-162">-À l’aide des valeurs d’énumération <xref:System.Windows.Forms.FormBorderStyle.None>, <xref:System.Windows.Forms.FormBorderStyle.FixedToolWindow>et <xref:System.Windows.Forms.FormBorderStyle.SizableToolWindow><xref:System.Windows.Forms.FormBorderStyle>.</span><span class="sxs-lookup"><span data-stu-id="86e22-162">-   Using the <xref:System.Windows.Forms.FormBorderStyle.None>, <xref:System.Windows.Forms.FormBorderStyle.FixedToolWindow>, and <xref:System.Windows.Forms.FormBorderStyle.SizableToolWindow><xref:System.Windows.Forms.FormBorderStyle> enumeration values.</span></span>|  
|<xref:System.Windows.Forms.NotifyIcon>|<span data-ttu-id="86e22-163">-L’utilisation du composant <xref:System.Windows.Forms.NotifyIcon> est complètement restreinte.</span><span class="sxs-lookup"><span data-stu-id="86e22-163">-   Using the <xref:System.Windows.Forms.NotifyIcon> component is completely restricted.</span></span>|  
  
 <span data-ttu-id="86e22-164">La valeur <xref:System.Security.Permissions.UIPermissionWindow.SafeSubWindows> restreint les actions énumérées dans le tableau suivant, en plus des restrictions placées par la valeur <xref:System.Security.Permissions.UIPermissionWindow.SafeTopLevelWindows>.</span><span class="sxs-lookup"><span data-stu-id="86e22-164">The <xref:System.Security.Permissions.UIPermissionWindow.SafeSubWindows> value restricts the actions listed in the following table, in addition to the restrictions placed by the <xref:System.Security.Permissions.UIPermissionWindow.SafeTopLevelWindows> value.</span></span>  
  
|<span data-ttu-id="86e22-165">Composant</span><span class="sxs-lookup"><span data-stu-id="86e22-165">Component</span></span>|<span data-ttu-id="86e22-166">Actions restreintes</span><span class="sxs-lookup"><span data-stu-id="86e22-166">Restricted actions</span></span>|  
|---------------|------------------------|  
|<xref:System.Windows.Forms.CommonDialog>|<span data-ttu-id="86e22-167">-Avec une boîte de dialogue dérivée de la classe <xref:System.Windows.Forms.CommonDialog>.</span><span class="sxs-lookup"><span data-stu-id="86e22-167">-   Showing a dialog box derived from the <xref:System.Windows.Forms.CommonDialog> class.</span></span>|  
|<xref:System.Windows.Forms.Control>|<span data-ttu-id="86e22-168">-Appel de la méthode <xref:System.Windows.Forms.Control.CreateGraphics%2A>.</span><span class="sxs-lookup"><span data-stu-id="86e22-168">-   Calling the <xref:System.Windows.Forms.Control.CreateGraphics%2A> method.</span></span><br /><span data-ttu-id="86e22-169">-   Définition de la propriété <xref:System.Windows.Forms.Control.Cursor%2A>.</span><span class="sxs-lookup"><span data-stu-id="86e22-169">-   Setting the <xref:System.Windows.Forms.Control.Cursor%2A> property.</span></span>|  
|<xref:System.Windows.Forms.Control.Cursor%2A>|<span data-ttu-id="86e22-170">-   Définition de la propriété <xref:System.Windows.Forms.Cursor.Current%2A>.</span><span class="sxs-lookup"><span data-stu-id="86e22-170">-   Setting the <xref:System.Windows.Forms.Cursor.Current%2A> property.</span></span>|  
|<xref:System.Windows.Forms.MessageBox>|<span data-ttu-id="86e22-171">-Appel de la méthode <xref:System.Windows.Forms.Form.Show%2A>.</span><span class="sxs-lookup"><span data-stu-id="86e22-171">-   Calling the <xref:System.Windows.Forms.Form.Show%2A> method.</span></span>|  
  
### <a name="hosting-third-party-controls"></a><span data-ttu-id="86e22-172">Hébergement de contrôles tiers</span><span class="sxs-lookup"><span data-stu-id="86e22-172">Hosting Third-Party Controls</span></span>  
 <span data-ttu-id="86e22-173">Un autre type de manipulation de fenêtre peut se produire si vos formulaires hébergent des contrôles tiers.</span><span class="sxs-lookup"><span data-stu-id="86e22-173">Another kind of window manipulation can occur if your forms host third-party controls.</span></span> <span data-ttu-id="86e22-174">Un contrôle tiers est un <xref:System.Windows.Forms.UserControl> personnalisé que vous n’avez pas développé et compilé vous-même.</span><span class="sxs-lookup"><span data-stu-id="86e22-174">A third-party control is any custom <xref:System.Windows.Forms.UserControl> that you have not developed and compiled yourself.</span></span> <span data-ttu-id="86e22-175">Bien que le scénario d’hébergement soit difficile à exploiter, il est théoriquement possible pour un contrôle tiers de développer sa surface de rendu pour couvrir la zone entière de votre formulaire.</span><span class="sxs-lookup"><span data-stu-id="86e22-175">Although the hosting scenario is hard to exploit, it is theoretically possible for a third-party control to expand its rendering surface to cover the entire area of your form.</span></span> <span data-ttu-id="86e22-176">Ce contrôle peut alors reproduire une boîte de dialogue critique et demander des informations telles que des combinaisons nom d’utilisateur/mot de passe ou des numéros de compte bancaire de vos utilisateurs.</span><span class="sxs-lookup"><span data-stu-id="86e22-176">This control could then mimic a critical dialog box, and request information such as username/password combinations or bank account numbers from your users.</span></span>  
  
 <span data-ttu-id="86e22-177">Pour limiter ce risque, utilisez des contrôles tiers uniquement auprès de fournisseurs auxquels vous pouvez faire confiance.</span><span class="sxs-lookup"><span data-stu-id="86e22-177">To limit this potential risk, use third-party controls only from vendors you can trust.</span></span> <span data-ttu-id="86e22-178">Si vous utilisez des contrôles tiers que vous avez téléchargés à partir d’une source non vérifiable, nous vous recommandons de vérifier le code source à la recherche d’attaques éventuelles.</span><span class="sxs-lookup"><span data-stu-id="86e22-178">If you use third-party controls you have downloaded from an unverifiable source, we recommend that you review the source code for potential exploits.</span></span> <span data-ttu-id="86e22-179">Après avoir vérifié que la source est non malveillante, vous devez compiler l’assembly vous-même pour garantir que la source correspond à l’assembly.</span><span class="sxs-lookup"><span data-stu-id="86e22-179">After you've verified that the source is non-malicious, you should compile the assembly yourself to ensure that the source matches the assembly.</span></span>  
  
## <a name="windows-api-calls"></a><span data-ttu-id="86e22-180">Appels d’API Windows</span><span class="sxs-lookup"><span data-stu-id="86e22-180">Windows API Calls</span></span>  
 <span data-ttu-id="86e22-181">Si la conception de votre application requiert l’appel d’une fonction à partir de l’API Windows, vous accédez au code non managé.</span><span class="sxs-lookup"><span data-stu-id="86e22-181">If your application design requires calling a function from the Windows API, you are accessing unmanaged code.</span></span> <span data-ttu-id="86e22-182">Dans ce cas, les actions du code vers la fenêtre ou le système d’exploitation ne peuvent pas être déterminées lorsque vous utilisez des appels ou des valeurs de l’API Windows.</span><span class="sxs-lookup"><span data-stu-id="86e22-182">In this case the code's actions to the window or operating system cannot be determined when you are working with Windows API calls or values.</span></span> <span data-ttu-id="86e22-183">La classe <xref:System.Security.Permissions.SecurityPermission> et la valeur <xref:System.Security.Permissions.SecurityPermissionFlag.UnmanagedCode> de l’énumération <xref:System.Security.Permissions.SecurityPermissionFlag> contrôlent l’accès au code non managé.</span><span class="sxs-lookup"><span data-stu-id="86e22-183">The <xref:System.Security.Permissions.SecurityPermission> class and the <xref:System.Security.Permissions.SecurityPermissionFlag.UnmanagedCode> value of the <xref:System.Security.Permissions.SecurityPermissionFlag> enumeration control access to unmanaged code.</span></span> <span data-ttu-id="86e22-184">Une application peut accéder à du code non managé uniquement quand l’autorisation <xref:System.Security.Permissions.SecurityPermissionFlag.UnmanagedCode> est accordée.</span><span class="sxs-lookup"><span data-stu-id="86e22-184">An application can access unmanaged code only when it is granted the <xref:System.Security.Permissions.SecurityPermissionFlag.UnmanagedCode> permission.</span></span> <span data-ttu-id="86e22-185">Par défaut, seules les applications qui s'exécutent localement peuvent appeler du code non managé.</span><span class="sxs-lookup"><span data-stu-id="86e22-185">By default, only applications that are running locally can call unmanaged code.</span></span>  
  
 <span data-ttu-id="86e22-186">Certains membres de Windows Forms fournissent un accès non managé qui nécessite l’autorisation <xref:System.Security.Permissions.SecurityPermissionFlag.UnmanagedCode>.</span><span class="sxs-lookup"><span data-stu-id="86e22-186">Some Windows Forms members provide unmanaged access that requires the <xref:System.Security.Permissions.SecurityPermissionFlag.UnmanagedCode> permission.</span></span> <span data-ttu-id="86e22-187">Le tableau suivant répertorie les membres de l’espace de noms <xref:System.Windows.Forms> qui requièrent l’autorisation.</span><span class="sxs-lookup"><span data-stu-id="86e22-187">The following table lists the members in the <xref:System.Windows.Forms> namespace that require the permission.</span></span> <span data-ttu-id="86e22-188">Pour plus d’informations sur les autorisations requises pour un membre, consultez la documentation de la bibliothèque de classes .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="86e22-188">For more information about the permissions that are required for a member, see the .NET Framework class library documentation.</span></span>  
  
|<span data-ttu-id="86e22-189">Composant</span><span class="sxs-lookup"><span data-stu-id="86e22-189">Component</span></span>|<span data-ttu-id="86e22-190">Membre</span><span class="sxs-lookup"><span data-stu-id="86e22-190">Member</span></span>|  
|---------------|------------|  
|<xref:System.Windows.Forms.Application>|<span data-ttu-id="86e22-191">Méthode -   <xref:System.Windows.Forms.Application.AddMessageFilter%2A></span><span class="sxs-lookup"><span data-stu-id="86e22-191">-   <xref:System.Windows.Forms.Application.AddMessageFilter%2A> method</span></span><br /><span data-ttu-id="86e22-192">-   <xref:System.Windows.Forms.Application.CurrentInputLanguage%2A> propriété</span><span class="sxs-lookup"><span data-stu-id="86e22-192">-   <xref:System.Windows.Forms.Application.CurrentInputLanguage%2A> property</span></span><br /><span data-ttu-id="86e22-193">Méthode -   `Exit`</span><span class="sxs-lookup"><span data-stu-id="86e22-193">-   `Exit` method</span></span><br /><span data-ttu-id="86e22-194">Méthode -   <xref:System.Windows.Forms.Application.ExitThread%2A></span><span class="sxs-lookup"><span data-stu-id="86e22-194">-   <xref:System.Windows.Forms.Application.ExitThread%2A> method</span></span><br /><span data-ttu-id="86e22-195">événement -   <xref:System.Windows.Forms.Application.ThreadException></span><span class="sxs-lookup"><span data-stu-id="86e22-195">-   <xref:System.Windows.Forms.Application.ThreadException> event</span></span>|  
|<xref:System.Windows.Forms.CommonDialog>|<span data-ttu-id="86e22-196">Méthode -   <xref:System.Windows.Forms.CommonDialog.HookProc%2A></span><span class="sxs-lookup"><span data-stu-id="86e22-196">-   <xref:System.Windows.Forms.CommonDialog.HookProc%2A> method</span></span><br /><span data-ttu-id="86e22-197">-   <xref:System.Windows.Forms.CommonDialog.OwnerWndProc%2A>\, méthode</span><span class="sxs-lookup"><span data-stu-id="86e22-197">-   <xref:System.Windows.Forms.CommonDialog.OwnerWndProc%2A>\ method</span></span><br /><span data-ttu-id="86e22-198">Méthode -   <xref:System.Windows.Forms.CommonDialog.Reset%2A></span><span class="sxs-lookup"><span data-stu-id="86e22-198">-   <xref:System.Windows.Forms.CommonDialog.Reset%2A> method</span></span><br /><span data-ttu-id="86e22-199">Méthode -   <xref:System.Windows.Forms.CommonDialog.RunDialog%2A></span><span class="sxs-lookup"><span data-stu-id="86e22-199">-   <xref:System.Windows.Forms.CommonDialog.RunDialog%2A> method</span></span>|  
|<xref:System.Windows.Forms.Control>|<span data-ttu-id="86e22-200">Méthode -   <xref:System.Windows.Forms.Control.CreateParams%2A></span><span class="sxs-lookup"><span data-stu-id="86e22-200">-   <xref:System.Windows.Forms.Control.CreateParams%2A> method</span></span><br /><span data-ttu-id="86e22-201">Méthode -   <xref:System.Windows.Forms.Control.DefWndProc%2A></span><span class="sxs-lookup"><span data-stu-id="86e22-201">-   <xref:System.Windows.Forms.Control.DefWndProc%2A> method</span></span><br /><span data-ttu-id="86e22-202">Méthode -   <xref:System.Windows.Forms.Control.DestroyHandle%2A></span><span class="sxs-lookup"><span data-stu-id="86e22-202">-   <xref:System.Windows.Forms.Control.DestroyHandle%2A> method</span></span><br /><span data-ttu-id="86e22-203">Méthode -   <xref:System.Windows.Forms.Control.WndProc%2A></span><span class="sxs-lookup"><span data-stu-id="86e22-203">-   <xref:System.Windows.Forms.Control.WndProc%2A> method</span></span>|  
|<xref:System.Windows.Forms.Help>|<span data-ttu-id="86e22-204">méthodes de <xref:System.Windows.Forms.Help.ShowHelp%2A> -   </span><span class="sxs-lookup"><span data-stu-id="86e22-204">-   <xref:System.Windows.Forms.Help.ShowHelp%2A> methods</span></span><br /><span data-ttu-id="86e22-205">Méthode -   <xref:System.Windows.Forms.Help.ShowHelpIndex%2A></span><span class="sxs-lookup"><span data-stu-id="86e22-205">-   <xref:System.Windows.Forms.Help.ShowHelpIndex%2A> method</span></span>|  
|<xref:System.Windows.Forms.NativeWindow>|<span data-ttu-id="86e22-206">classe -   <xref:System.Windows.Forms.NativeWindow></span><span class="sxs-lookup"><span data-stu-id="86e22-206">-   <xref:System.Windows.Forms.NativeWindow> class</span></span>|  
|<xref:System.Windows.Forms.Screen>|<span data-ttu-id="86e22-207">Méthode -   <xref:System.Windows.Forms.Screen.FromHandle%2A></span><span class="sxs-lookup"><span data-stu-id="86e22-207">-   <xref:System.Windows.Forms.Screen.FromHandle%2A> method</span></span>|  
|<xref:System.Windows.Forms.SendKeys>|<span data-ttu-id="86e22-208">Méthode -   <xref:System.Windows.Forms.SendKeys.Send%2A></span><span class="sxs-lookup"><span data-stu-id="86e22-208">-   <xref:System.Windows.Forms.SendKeys.Send%2A> method</span></span><br /><span data-ttu-id="86e22-209">Méthode -   <xref:System.Windows.Forms.SendKeys.SendWait%2A></span><span class="sxs-lookup"><span data-stu-id="86e22-209">-   <xref:System.Windows.Forms.SendKeys.SendWait%2A> method</span></span>|  
  
 <span data-ttu-id="86e22-210">Si votre application n’a pas l’autorisation d’appeler du code non managé, votre application doit demander <xref:System.Security.Permissions.SecurityPermissionFlag.UnmanagedCode> autorisation, ou vous devez envisager d’autres méthodes d’implémentation des fonctionnalités. dans de nombreux cas, Windows Forms fournit une alternative managée aux fonctions de l’API Windows.</span><span class="sxs-lookup"><span data-stu-id="86e22-210">If your application does not have permission to call unmanaged code, your application must request <xref:System.Security.Permissions.SecurityPermissionFlag.UnmanagedCode> permission, or you must consider alternative ways of implementing features; in many cases, Windows Forms provides a managed alternative to Windows API functions.</span></span> <span data-ttu-id="86e22-211">En cas d’absence d’alternative et si l’application doit accéder à du code non managé, vous devez élever les autorisations pour l’application.</span><span class="sxs-lookup"><span data-stu-id="86e22-211">If no alternative means exist and the application must access unmanaged code, you will have to elevate the permissions for the application.</span></span>  
  
 <span data-ttu-id="86e22-212">L’autorisation d’appeler du code non managé permet à une application d’exécuter pratiquement n’importe quoi.</span><span class="sxs-lookup"><span data-stu-id="86e22-212">Permission to call unmanaged code allows an application to perform most anything.</span></span> <span data-ttu-id="86e22-213">Par conséquent, l’autorisation d’appeler du code non managé doit uniquement être accordée pour les applications qui proviennent d’une source approuvée.</span><span class="sxs-lookup"><span data-stu-id="86e22-213">Therefore, permission to call unmanaged code should only be granted for applications that come from a trusted source.</span></span> <span data-ttu-id="86e22-214">Selon l’application, la fonctionnalité qui effectue l’appel au code non managé peut également être facultative ou activée uniquement dans l’environnement à confiance totale.</span><span class="sxs-lookup"><span data-stu-id="86e22-214">Alternatively, depending on the application, the piece of application functionality that makes the call to unmanaged code could be optional, or enabled in the full trust environment only.</span></span> <span data-ttu-id="86e22-215">Pour plus d’informations sur les autorisations, consultez [Autorisations dangereuses et administration de stratégie](../misc/dangerous-permissions-and-policy-administration.md).</span><span class="sxs-lookup"><span data-stu-id="86e22-215">For more information about dangerous permissions, see [Dangerous Permissions and Policy Administration](../misc/dangerous-permissions-and-policy-administration.md).</span></span> <span data-ttu-id="86e22-216">Pour plus d’informations sur l’élévation d’autorisations, consultez [Administration de la stratégie de sécurité générale](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ed5htz45(v=vs.100)).</span><span class="sxs-lookup"><span data-stu-id="86e22-216">For more information about elevating permissions, see [General Security Policy Administration](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ed5htz45(v=vs.100)).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="86e22-217">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="86e22-217">See also</span></span>

- [<span data-ttu-id="86e22-218">Accès plus sécurisé aux fichiers et aux données dans les Windows Forms</span><span class="sxs-lookup"><span data-stu-id="86e22-218">More Secure File and Data Access in Windows Forms</span></span>](more-secure-file-and-data-access-in-windows-forms.md)
- [<span data-ttu-id="86e22-219">Impression plus sécurisée dans les Windows Forms</span><span class="sxs-lookup"><span data-stu-id="86e22-219">More Secure Printing in Windows Forms</span></span>](more-secure-printing-in-windows-forms.md)
- [<span data-ttu-id="86e22-220">Vue d’ensemble de la sécurité dans les Windows Forms</span><span class="sxs-lookup"><span data-stu-id="86e22-220">Security in Windows Forms Overview</span></span>](security-in-windows-forms-overview.md)
- [<span data-ttu-id="86e22-221">Sécurité de Windows Forms</span><span class="sxs-lookup"><span data-stu-id="86e22-221">Windows Forms Security</span></span>](windows-forms-security.md)
- [<span data-ttu-id="86e22-222">Sécurisation des applications ClickOnce</span><span class="sxs-lookup"><span data-stu-id="86e22-222">Securing ClickOnce Applications</span></span>](/visualstudio/deployment/securing-clickonce-applications)
