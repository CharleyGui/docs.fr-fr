---
title: Rendu d'un contrôle Windows Forms
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- custom controls [Windows Forms], rendering
- OnPaintBackground method [Windows Forms], invoking in Windows Forms custom controls
- custom controls [Windows Forms], graphics resources
- custom controls [Windows Forms], invalidation and painting
ms.assetid: aae8e1e6-4786-432b-a15e-f4c44760d302
ms.openlocfilehash: 76506e504fdaca83fee502111dbadab5cb41d9b9
ms.sourcegitcommit: b1cfd260928d464d91e20121f9bdba7611c94d71
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 07/02/2019
ms.locfileid: "67506179"
---
# <a name="rendering-a-windows-forms-control"></a><span data-ttu-id="8f3f6-102">Rendu d'un contrôle Windows Forms</span><span class="sxs-lookup"><span data-stu-id="8f3f6-102">Rendering a Windows Forms Control</span></span>
<span data-ttu-id="8f3f6-103">Le rendu désigne le processus de création d’une représentation visuelle sur l’écran d’un utilisateur.</span><span class="sxs-lookup"><span data-stu-id="8f3f6-103">Rendering refers to the process of creating a visual representation on a user's screen.</span></span> <span data-ttu-id="8f3f6-104">Windows Forms utilise GDI (la nouvelle bibliothèque de graphiques Windows) pour le rendu.</span><span class="sxs-lookup"><span data-stu-id="8f3f6-104">Windows Forms uses GDI (the new Windows graphics library) for rendering.</span></span> <span data-ttu-id="8f3f6-105">Les classes managées qui fournissent l’accès à GDI sont dans le <xref:System.Drawing?displayProperty=nameWithType> espace de noms et ses sous-espaces de noms.</span><span class="sxs-lookup"><span data-stu-id="8f3f6-105">The managed classes that provide access to GDI are in the <xref:System.Drawing?displayProperty=nameWithType> namespace and its subnamespaces.</span></span>  
  
 <span data-ttu-id="8f3f6-106">Les éléments suivants sont impliqués dans le rendu du contrôle :</span><span class="sxs-lookup"><span data-stu-id="8f3f6-106">The following elements are involved in control rendering:</span></span>  
  
- <span data-ttu-id="8f3f6-107">Fonctionnalités de dessin fournies par la classe de base <xref:System.Windows.Forms.Control?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="8f3f6-107">The drawing functionality provided by the base class <xref:System.Windows.Forms.Control?displayProperty=nameWithType>.</span></span>  
  
- <span data-ttu-id="8f3f6-108">Les éléments essentiels de la bibliothèque de graphiques GDI.</span><span class="sxs-lookup"><span data-stu-id="8f3f6-108">The essential elements of the GDI graphics library.</span></span>  
  
- <span data-ttu-id="8f3f6-109">La géométrie de la zone de dessin.</span><span class="sxs-lookup"><span data-stu-id="8f3f6-109">The geometry of the drawing region.</span></span>  
  
- <span data-ttu-id="8f3f6-110">La procédure pour libérer les ressources graphiques.</span><span class="sxs-lookup"><span data-stu-id="8f3f6-110">The procedure for freeing graphics resources.</span></span>  
  
## <a name="drawing-functionality-provided-by-control"></a><span data-ttu-id="8f3f6-111">La fonctionnalité fournie par le contrôle de dessin</span><span class="sxs-lookup"><span data-stu-id="8f3f6-111">Drawing Functionality Provided by Control</span></span>  
 <span data-ttu-id="8f3f6-112">La classe de base <xref:System.Windows.Forms.Control> fournit des fonctionnalités de dessin via son <xref:System.Windows.Forms.Control.Paint> événement.</span><span class="sxs-lookup"><span data-stu-id="8f3f6-112">The base class <xref:System.Windows.Forms.Control> provides drawing functionality through its <xref:System.Windows.Forms.Control.Paint> event.</span></span> <span data-ttu-id="8f3f6-113">Un contrôle déclenche le <xref:System.Windows.Forms.Control.Paint> événement chaque fois qu’il doit mettre à jour son affichage.</span><span class="sxs-lookup"><span data-stu-id="8f3f6-113">A control raises the <xref:System.Windows.Forms.Control.Paint> event whenever it needs to update its display.</span></span> <span data-ttu-id="8f3f6-114">Pour plus d’informations sur les événements dans le .NET Framework, consultez [gestion et déclenchement d’événements](../../../standard/events/index.md).</span><span class="sxs-lookup"><span data-stu-id="8f3f6-114">For more information about events in the .NET Framework, see [Handling and Raising Events](../../../standard/events/index.md).</span></span>  
  
 <span data-ttu-id="8f3f6-115">Les données d’événement de classe pour le <xref:System.Windows.Forms.Control.Paint> événement, <xref:System.Windows.Forms.PaintEventArgs>, contient les données nécessaires pour dessiner un contrôle, un handle vers un objet graphique et un objet rectangle qui représente la région du dessin.</span><span class="sxs-lookup"><span data-stu-id="8f3f6-115">The event data class for the <xref:System.Windows.Forms.Control.Paint> event, <xref:System.Windows.Forms.PaintEventArgs>, holds the data needed for drawing a control — a handle to a graphics object and a rectangle object that represents the region to draw in.</span></span> <span data-ttu-id="8f3f6-116">Ces objets sont affichés en gras dans le fragment de code suivant.</span><span class="sxs-lookup"><span data-stu-id="8f3f6-116">These objects are shown in bold in the following code fragment.</span></span>  
  
```vb  
Public Class PaintEventArgs  
   Inherits EventArgs  
   Implements IDisposable  
  
   Public ReadOnly Property ClipRectangle() As System.Drawing.Rectangle  
      ...  
   End Property  
  
   Public ReadOnly Property Graphics() As System.Drawing.Graphics  
      ...  
   End Property  
   ' Other properties and methods.  
   ...  
End Class  
```  
  
```csharp  
public class PaintEventArgs : EventArgs, IDisposable {  
public System.Drawing.Rectangle ClipRectangle {get;}  
public System.Drawing.Graphics Graphics {get;}  
// Other properties and methods.  
...  
}  
```  
  
 <span data-ttu-id="8f3f6-117"><xref:System.Drawing.Graphics> est une classe managée qui encapsule les fonctionnalités de dessin, comme décrit dans la discussion de GDI plus loin dans cette rubrique.</span><span class="sxs-lookup"><span data-stu-id="8f3f6-117"><xref:System.Drawing.Graphics> is a managed class that encapsulates drawing functionality, as described in the discussion of GDI later in this topic.</span></span> <span data-ttu-id="8f3f6-118">Le <xref:System.Windows.Forms.PaintEventArgs.ClipRectangle%2A> est une instance de la <xref:System.Drawing.Rectangle> structurer et définit la zone disponible dans laquelle un contrôle peut être dessiné.</span><span class="sxs-lookup"><span data-stu-id="8f3f6-118">The <xref:System.Windows.Forms.PaintEventArgs.ClipRectangle%2A> is an instance of the <xref:System.Drawing.Rectangle> structure and defines the available area in which a control can draw.</span></span> <span data-ttu-id="8f3f6-119">Un développeur de contrôles peut calculer la <xref:System.Windows.Forms.PaintEventArgs.ClipRectangle%2A> à l’aide de la <xref:System.Windows.Forms.PaintEventArgs.ClipRectangle%2A> propriété d’un contrôle, comme décrit dans la discussion de géométrie plus loin dans cette rubrique.</span><span class="sxs-lookup"><span data-stu-id="8f3f6-119">A control developer can compute the <xref:System.Windows.Forms.PaintEventArgs.ClipRectangle%2A> using the <xref:System.Windows.Forms.PaintEventArgs.ClipRectangle%2A> property of a control, as described in the discussion of geometry later in this topic.</span></span>  
  
 <span data-ttu-id="8f3f6-120">Un contrôle doit fournir une logique de rendu en substituant la <xref:System.Windows.Forms.Control.OnPaint%2A> méthode qu’elle hérite <xref:System.Windows.Forms.Control>.</span><span class="sxs-lookup"><span data-stu-id="8f3f6-120">A control must provide rendering logic by overriding the <xref:System.Windows.Forms.Control.OnPaint%2A> method that it inherits from <xref:System.Windows.Forms.Control>.</span></span> <span data-ttu-id="8f3f6-121"><xref:System.Windows.Forms.Control.OnPaint%2A> Obtient l’accès à un objet graphics et un rectangle à dessiner via la <xref:System.Drawing.Design.PaintValueEventArgs.Graphics%2A> et le <xref:System.Windows.Forms.PaintEventArgs.ClipRectangle%2A> propriétés de la <xref:System.Windows.Forms.PaintEventArgs> instance passée à ce dernier.</span><span class="sxs-lookup"><span data-stu-id="8f3f6-121"><xref:System.Windows.Forms.Control.OnPaint%2A> gets access to a graphics object and a rectangle to draw in through the <xref:System.Drawing.Design.PaintValueEventArgs.Graphics%2A> and the <xref:System.Windows.Forms.PaintEventArgs.ClipRectangle%2A> properties of the <xref:System.Windows.Forms.PaintEventArgs> instance passed to it.</span></span>  
  
```vb  
Protected Overridable Sub OnPaint(pe As PaintEventArgs)  
```  
  
```csharp  
protected virtual void OnPaint(PaintEventArgs pe);  
```  
  
 <span data-ttu-id="8f3f6-122">Le <xref:System.Windows.Forms.Control.OnPaint%2A> méthode de la base de <xref:System.Windows.Forms.Control> classe n’implémente pas les fonctionnalités de dessin, mais appelle simplement les délégués d’événements qui sont inscrits avec le <xref:System.Windows.Forms.Control.Paint> événement.</span><span class="sxs-lookup"><span data-stu-id="8f3f6-122">The <xref:System.Windows.Forms.Control.OnPaint%2A> method of the base <xref:System.Windows.Forms.Control> class does not implement any drawing functionality but merely invokes the event delegates that are registered with the <xref:System.Windows.Forms.Control.Paint> event.</span></span> <span data-ttu-id="8f3f6-123">Lorsque vous substituez <xref:System.Windows.Forms.Control.OnPaint%2A>, vous devez généralement appeler le <xref:System.Windows.Forms.Control.OnPaint%2A> réception de la méthode de la classe de base afin que les délégués inscrits le <xref:System.Windows.Forms.Control.Paint> événement.</span><span class="sxs-lookup"><span data-stu-id="8f3f6-123">When you override <xref:System.Windows.Forms.Control.OnPaint%2A>, you should typically invoke the <xref:System.Windows.Forms.Control.OnPaint%2A> method of the base class so that registered delegates receive the <xref:System.Windows.Forms.Control.Paint> event.</span></span> <span data-ttu-id="8f3f6-124">Toutefois, les contrôles qui peignent la totalité de leur surface ne doivent pas appeler de la classe de base <xref:System.Windows.Forms.Control.OnPaint%2A>, car cela entraîne le scintillement.</span><span class="sxs-lookup"><span data-stu-id="8f3f6-124">However, controls that paint their entire surface should not invoke the base class's <xref:System.Windows.Forms.Control.OnPaint%2A>, as this introduces flicker.</span></span> <span data-ttu-id="8f3f6-125">Pour obtenir un exemple de substitution de la <xref:System.Windows.Forms.Control.OnPaint%2A> événement, consultez le [Comment : Créer un contrôle Windows Forms affiche la progression](how-to-create-a-windows-forms-control-that-shows-progress.md).</span><span class="sxs-lookup"><span data-stu-id="8f3f6-125">For an example of overriding the <xref:System.Windows.Forms.Control.OnPaint%2A> event, see the [How to: Create a Windows Forms Control That Shows Progress](how-to-create-a-windows-forms-control-that-shows-progress.md).</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="8f3f6-126">N’appelez pas <xref:System.Windows.Forms.Control.OnPaint%2A> directement à partir de votre contrôle ; au lieu de cela, appelez le <xref:System.Windows.Forms.Control.Invalidate%2A> (méthode) (héritée de <xref:System.Windows.Forms.Control>) ou toute autre méthode qui appelle <xref:System.Windows.Forms.Control.Invalidate%2A>.</span><span class="sxs-lookup"><span data-stu-id="8f3f6-126">Do not invoke <xref:System.Windows.Forms.Control.OnPaint%2A> directly from your control; instead, invoke the <xref:System.Windows.Forms.Control.Invalidate%2A> method (inherited from <xref:System.Windows.Forms.Control>) or some other method that invokes <xref:System.Windows.Forms.Control.Invalidate%2A>.</span></span> <span data-ttu-id="8f3f6-127">Le <xref:System.Windows.Forms.Control.Invalidate%2A> méthode appelle à son tour <xref:System.Windows.Forms.Control.OnPaint%2A>.</span><span class="sxs-lookup"><span data-stu-id="8f3f6-127">The <xref:System.Windows.Forms.Control.Invalidate%2A> method in turn invokes <xref:System.Windows.Forms.Control.OnPaint%2A>.</span></span> <span data-ttu-id="8f3f6-128">Le <xref:System.Windows.Forms.Control.Invalidate%2A> méthode est surchargée et, selon les arguments fournis à <xref:System.Windows.Forms.Control.Invalidate%2A> `e`, un contrôle redessine une partie ou la totalité de sa zone d’écran.</span><span class="sxs-lookup"><span data-stu-id="8f3f6-128">The <xref:System.Windows.Forms.Control.Invalidate%2A> method is overloaded, and, depending on the arguments supplied to <xref:System.Windows.Forms.Control.Invalidate%2A> `e`, a control redraws either some or all of its screen area.</span></span>  
  
 <span data-ttu-id="8f3f6-129">La base de <xref:System.Windows.Forms.Control> classe définit une autre méthode qui est utile pour le dessin, le <xref:System.Windows.Forms.Control.OnPaintBackground%2A> (méthode).</span><span class="sxs-lookup"><span data-stu-id="8f3f6-129">The base <xref:System.Windows.Forms.Control> class defines another method that is useful for drawing — the <xref:System.Windows.Forms.Control.OnPaintBackground%2A> method.</span></span>  
  
```vb  
Protected Overridable Sub OnPaintBackground(pevent As PaintEventArgs)  
```  
  
```csharp  
protected virtual void OnPaintBackground(PaintEventArgs pevent);  
```  
  
 <span data-ttu-id="8f3f6-130"><xref:System.Windows.Forms.Control.OnPaintBackground%2A> peint l’arrière-plan (et donc la forme) de la fenêtre et est garanti être rapide, tout en <xref:System.Windows.Forms.Control.OnPaint%2A> peint les détails et peut être plus lent, car les demandes de peinture individuelles sont combinées en une seule <xref:System.Windows.Forms.Control.Paint> événement qui couvre tous les domaines qui doivent être redessinée.</span><span class="sxs-lookup"><span data-stu-id="8f3f6-130"><xref:System.Windows.Forms.Control.OnPaintBackground%2A> paints the background (and thereby the shape) of the window and is guaranteed to be fast, while <xref:System.Windows.Forms.Control.OnPaint%2A> paints the details and might be slower because individual paint requests are combined into one <xref:System.Windows.Forms.Control.Paint> event that covers all areas that have to be redrawn.</span></span> <span data-ttu-id="8f3f6-131">Vous souhaiterez peut-être appeler le <xref:System.Windows.Forms.Control.OnPaintBackground%2A> si, par exemple, vous souhaitez dessiner un arrière-plan dégradé de couleur pour votre contrôle.</span><span class="sxs-lookup"><span data-stu-id="8f3f6-131">You might want to invoke the <xref:System.Windows.Forms.Control.OnPaintBackground%2A> if, for instance, you want to draw a gradient-colored background for your control.</span></span>  
  
 <span data-ttu-id="8f3f6-132">Bien que <xref:System.Windows.Forms.Control.OnPaintBackground%2A> possède une nomenclature de type événement et prend le même argument que la `OnPaint` (méthode), <xref:System.Windows.Forms.Control.OnPaintBackground%2A> n’est pas une véritable méthode d’événements.</span><span class="sxs-lookup"><span data-stu-id="8f3f6-132">While <xref:System.Windows.Forms.Control.OnPaintBackground%2A> has an event-like nomenclature and takes the same argument as the `OnPaint` method, <xref:System.Windows.Forms.Control.OnPaintBackground%2A> is not a true event method.</span></span> <span data-ttu-id="8f3f6-133">Il existe aucune `PaintBackground` événement et <xref:System.Windows.Forms.Control.OnPaintBackground%2A> n’appelle pas de délégués d’événements.</span><span class="sxs-lookup"><span data-stu-id="8f3f6-133">There is no `PaintBackground` event and <xref:System.Windows.Forms.Control.OnPaintBackground%2A> does not invoke event delegates.</span></span> <span data-ttu-id="8f3f6-134">Lors du remplacement de la <xref:System.Windows.Forms.Control.OnPaintBackground%2A> méthode, une classe dérivée n’est pas requise pour appeler le <xref:System.Windows.Forms.Control.OnPaintBackground%2A> méthode de sa classe de base.</span><span class="sxs-lookup"><span data-stu-id="8f3f6-134">When overriding the <xref:System.Windows.Forms.Control.OnPaintBackground%2A> method, a derived class is not required to invoke the <xref:System.Windows.Forms.Control.OnPaintBackground%2A> method of its base class.</span></span>  
  
## <a name="gdi-basics"></a><span data-ttu-id="8f3f6-135">Principes de base GDI +</span><span class="sxs-lookup"><span data-stu-id="8f3f6-135">GDI+ Basics</span></span>  
 <span data-ttu-id="8f3f6-136">Le <xref:System.Drawing.Graphics> classe fournit des méthodes permettant de dessiner diverses formes, telles que des cercles, des triangles, des arcs et des ellipses, ainsi que des méthodes pour l’affichage de texte.</span><span class="sxs-lookup"><span data-stu-id="8f3f6-136">The <xref:System.Drawing.Graphics> class provides methods for drawing various shapes such as circles, triangles, arcs, and ellipses, as well as methods for displaying text.</span></span> <span data-ttu-id="8f3f6-137">Le <xref:System.Drawing?displayProperty=nameWithType> espace de noms et ses sous-espaces de noms contiennent des classes qui encapsulent des éléments graphiques tels que les formes (cercles, rectangles, des arcs et autres), des couleurs, des polices, des pinceaux et ainsi de suite.</span><span class="sxs-lookup"><span data-stu-id="8f3f6-137">The <xref:System.Drawing?displayProperty=nameWithType> namespace and its subnamespaces contain classes that encapsulate graphics elements such as shapes (circles, rectangles, arcs, and others), colors, fonts, brushes, and so on.</span></span> <span data-ttu-id="8f3f6-138">Pour plus d’informations sur GDI, consultez [à l’aide des Classes managées graphiques](../advanced/using-managed-graphics-classes.md).</span><span class="sxs-lookup"><span data-stu-id="8f3f6-138">For more information about GDI, see [Using Managed Graphics Classes](../advanced/using-managed-graphics-classes.md).</span></span> <span data-ttu-id="8f3f6-139">L’essentiel de GDI est également décrits dans le [Comment : Créer un contrôle Windows Forms affiche la progression](how-to-create-a-windows-forms-control-that-shows-progress.md).</span><span class="sxs-lookup"><span data-stu-id="8f3f6-139">The essentials of GDI are also described in the [How to: Create a Windows Forms Control That Shows Progress](how-to-create-a-windows-forms-control-that-shows-progress.md).</span></span>  
  
## <a name="geometry-of-the-drawing-region"></a><span data-ttu-id="8f3f6-140">Géométrie de la zone de dessin</span><span class="sxs-lookup"><span data-stu-id="8f3f6-140">Geometry of the Drawing Region</span></span>  
 <span data-ttu-id="8f3f6-141">Le <xref:System.Windows.Forms.Control.ClientRectangle%2A> propriété d’un contrôle spécifie la région rectangulaire disponible pour le contrôle sur l’écran de l’utilisateur, tandis que le <xref:System.Windows.Forms.PaintEventArgs.ClipRectangle%2A> propriété du <xref:System.Windows.Forms.PaintEventArgs> spécifie la zone qui est réellement peint.</span><span class="sxs-lookup"><span data-stu-id="8f3f6-141">The <xref:System.Windows.Forms.Control.ClientRectangle%2A> property of a control specifies the rectangular region available to the control on the user's screen, while the <xref:System.Windows.Forms.PaintEventArgs.ClipRectangle%2A> property of <xref:System.Windows.Forms.PaintEventArgs> specifies the area that is actually painted.</span></span> <span data-ttu-id="8f3f6-142">(N’oubliez pas que la peinture est effectuée le <xref:System.Windows.Forms.Control.Paint> méthode d’événement qui prend un <xref:System.Windows.Forms.PaintEventArgs> instance comme argument).</span><span class="sxs-lookup"><span data-stu-id="8f3f6-142">(Remember that painting is done in the <xref:System.Windows.Forms.Control.Paint> event method that takes a <xref:System.Windows.Forms.PaintEventArgs> instance as its argument).</span></span> <span data-ttu-id="8f3f6-143">Un contrôle deviez peindre uniquement une partie de sa zone disponible, comme c’est le cas lorsqu’une petite section de modifications d’affichage du contrôle.</span><span class="sxs-lookup"><span data-stu-id="8f3f6-143">A control might need to paint only a portion of its available area, as is the case when a small section of the control's display changes.</span></span> <span data-ttu-id="8f3f6-144">Dans ces situations, un développeur de contrôle doit calculer le rectangle réel pour dessiner dans et transmettez-la à <xref:System.Windows.Forms.Control.Invalidate%2A>.</span><span class="sxs-lookup"><span data-stu-id="8f3f6-144">In those situations, a control developer must compute the actual rectangle to draw in and pass that to <xref:System.Windows.Forms.Control.Invalidate%2A>.</span></span> <span data-ttu-id="8f3f6-145">Les versions surchargées de <xref:System.Windows.Forms.Control.Invalidate%2A> qui prennent un <xref:System.Drawing.Rectangle> ou <xref:System.Drawing.Region> en tant qu’argument utilisent cet argument pour générer la <xref:System.Windows.Forms.PaintEventArgs.ClipRectangle%2A> propriété du <xref:System.Windows.Forms.PaintEventArgs>.</span><span class="sxs-lookup"><span data-stu-id="8f3f6-145">The overloaded versions of <xref:System.Windows.Forms.Control.Invalidate%2A> that take a <xref:System.Drawing.Rectangle> or <xref:System.Drawing.Region> as an argument use that argument to generate the <xref:System.Windows.Forms.PaintEventArgs.ClipRectangle%2A> property of <xref:System.Windows.Forms.PaintEventArgs>.</span></span>  
  
 <span data-ttu-id="8f3f6-146">Le code suivant fragment montre comment la `FlashTrackBar` contrôle personnalisé calcule la zone rectangulaire dans laquelle dessiner.</span><span class="sxs-lookup"><span data-stu-id="8f3f6-146">The following code fragment shows how the `FlashTrackBar` custom control computes the rectangular area to draw in.</span></span> <span data-ttu-id="8f3f6-147">Le `client` variable désigne le <xref:System.Windows.Forms.PaintEventArgs.ClipRectangle%2A> propriété.</span><span class="sxs-lookup"><span data-stu-id="8f3f6-147">The `client` variable denotes the <xref:System.Windows.Forms.PaintEventArgs.ClipRectangle%2A> property.</span></span> <span data-ttu-id="8f3f6-148">Pour obtenir un exemple complet, consultez [Comment : Créer un contrôle Windows Forms affiche la progression](how-to-create-a-windows-forms-control-that-shows-progress.md).</span><span class="sxs-lookup"><span data-stu-id="8f3f6-148">For a complete sample, see [How to: Create a Windows Forms Control That Shows Progress](how-to-create-a-windows-forms-control-that-shows-progress.md).</span></span>  
  
 [!code-csharp[System.Windows.Forms.FlashTrackBar#6](~/samples/snippets/csharp/VS_Snippets_Winforms/System.Windows.Forms.FlashTrackBar/CS/FlashTrackBar.cs#6)]
 [!code-vb[System.Windows.Forms.FlashTrackBar#6](~/samples/snippets/visualbasic/VS_Snippets_Winforms/System.Windows.Forms.FlashTrackBar/VB/FlashTrackBar.vb#6)]  
  
## <a name="freeing-graphics-resources"></a><span data-ttu-id="8f3f6-149">Libération des ressources graphiques</span><span class="sxs-lookup"><span data-stu-id="8f3f6-149">Freeing Graphics Resources</span></span>  
 <span data-ttu-id="8f3f6-150">Objets graphiques sont coûteux, car elles utilisent des ressources système.</span><span class="sxs-lookup"><span data-stu-id="8f3f6-150">Graphics objects are expensive because they use system resources.</span></span> <span data-ttu-id="8f3f6-151">Ces objets incluent des instances de la <xref:System.Drawing.Graphics?displayProperty=nameWithType> classe ainsi que des instances de <xref:System.Drawing.Brush?displayProperty=nameWithType>, <xref:System.Drawing.Pen?displayProperty=nameWithType>et d’autres classes de graphiques.</span><span class="sxs-lookup"><span data-stu-id="8f3f6-151">Such objects include instances of the <xref:System.Drawing.Graphics?displayProperty=nameWithType> class as well as instances of <xref:System.Drawing.Brush?displayProperty=nameWithType>, <xref:System.Drawing.Pen?displayProperty=nameWithType>, and other graphics classes.</span></span> <span data-ttu-id="8f3f6-152">Il est important que vous créez une ressource de graphiques uniquement lorsque vous en avez besoin et libérez-le dès que vous avez fini de l’utiliser.</span><span class="sxs-lookup"><span data-stu-id="8f3f6-152">It is important that you create a graphics resource only when you need it and release it soon as you are finished using it.</span></span> <span data-ttu-id="8f3f6-153">Si vous créez un type qui implémente le <xref:System.IDisposable> l’interface, appeler ses <xref:System.IDisposable.Dispose%2A> méthode lorsque vous avez terminé avec lui afin de libérer des ressources.</span><span class="sxs-lookup"><span data-stu-id="8f3f6-153">If you create a type that implements the <xref:System.IDisposable> interface, call its <xref:System.IDisposable.Dispose%2A> method when you are finished with it in order to free resources.</span></span>  
  
 <span data-ttu-id="8f3f6-154">Le code suivant fragment montre comment la `FlashTrackBar` contrôle personnalisé crée et libère un <xref:System.Drawing.Brush> ressource.</span><span class="sxs-lookup"><span data-stu-id="8f3f6-154">The following code fragment shows how the `FlashTrackBar` custom control creates and releases a <xref:System.Drawing.Brush> resource.</span></span> <span data-ttu-id="8f3f6-155">Pour le code source complet, consultez [Comment : Créer un contrôle Windows Forms affiche la progression](how-to-create-a-windows-forms-control-that-shows-progress.md).</span><span class="sxs-lookup"><span data-stu-id="8f3f6-155">For the complete source code, see [How to: Create a Windows Forms Control That Shows Progress](how-to-create-a-windows-forms-control-that-shows-progress.md).</span></span>  
  
 [!code-csharp[System.Windows.Forms.FlashTrackBar#5](~/samples/snippets/csharp/VS_Snippets_Winforms/System.Windows.Forms.FlashTrackBar/CS/FlashTrackBar.cs#5)]
 [!code-vb[System.Windows.Forms.FlashTrackBar#5](~/samples/snippets/visualbasic/VS_Snippets_Winforms/System.Windows.Forms.FlashTrackBar/VB/FlashTrackBar.vb#5)]  
  
 [!code-csharp[System.Windows.Forms.FlashTrackBar#4](~/samples/snippets/csharp/VS_Snippets_Winforms/System.Windows.Forms.FlashTrackBar/CS/FlashTrackBar.cs#4)]
 [!code-vb[System.Windows.Forms.FlashTrackBar#4](~/samples/snippets/visualbasic/VS_Snippets_Winforms/System.Windows.Forms.FlashTrackBar/VB/FlashTrackBar.vb#4)]  
  
 [!code-csharp[System.Windows.Forms.FlashTrackBar#3](~/samples/snippets/csharp/VS_Snippets_Winforms/System.Windows.Forms.FlashTrackBar/CS/FlashTrackBar.cs#3)]
 [!code-vb[System.Windows.Forms.FlashTrackBar#3](~/samples/snippets/visualbasic/VS_Snippets_Winforms/System.Windows.Forms.FlashTrackBar/VB/FlashTrackBar.vb#3)]  
  
## <a name="see-also"></a><span data-ttu-id="8f3f6-156">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="8f3f6-156">See also</span></span>

- [<span data-ttu-id="8f3f6-157">Guide pratique pour Créer un contrôle Windows Forms affiche la progression</span><span class="sxs-lookup"><span data-stu-id="8f3f6-157">How to: Create a Windows Forms Control That Shows Progress</span></span>](how-to-create-a-windows-forms-control-that-shows-progress.md)
