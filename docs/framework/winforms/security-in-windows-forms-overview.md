---
title: Vue d'ensemble de la sécurité dans les Windows Forms
ms.date: 03/30/2017
helpviewer_keywords:
- code access security [Windows Forms], Windows Forms
- permissions [Windows Forms], Windows Forms
- Windows Forms, security
- security [Windows Forms], about security
- access control [Windows Forms], Windows Forms
ms.assetid: 4810dc9f-ea23-4ce1-8ea1-657f0ff1d820
ms.openlocfilehash: 471ed75a922ab8a7df18f2e4a3ccd89ede171248
ms.sourcegitcommit: 2d42b7ae4252cfe1232777f501ea9ac97df31b63
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 07/01/2019
ms.locfileid: "67487262"
---
# <a name="security-in-windows-forms-overview"></a><span data-ttu-id="c46b4-102">Vue d'ensemble de la sécurité dans les Windows Forms</span><span class="sxs-lookup"><span data-stu-id="c46b4-102">Security in Windows Forms Overview</span></span>

<span data-ttu-id="c46b4-103">Avant la version du .NET Framework, tout le code en cours d’exécution sur l’ordinateur d’un utilisateur a les mêmes droits ou autorisations d’accéder aux ressources dont un utilisateur de l’ordinateur.</span><span class="sxs-lookup"><span data-stu-id="c46b4-103">Before the release of the .NET Framework, all code running on a user's computer had the same rights or permissions to access resources that a user of the computer had.</span></span> <span data-ttu-id="c46b4-104">Par exemple, si l'utilisateur était autorisé à accéder au système de fichiers, le code était autorisé à accéder au système de fichiers. Si l'utilisateur était autorisé à accéder à une base de données, le code était autorisé à accéder à cette base de données.</span><span class="sxs-lookup"><span data-stu-id="c46b4-104">For example, if the user was allowed to access the file system, the code was allowed to access the file system; if the user was allowed to access a database, the code was allowed to access that database.</span></span> <span data-ttu-id="c46b4-105">Bien que ces droits ou autorisations puissent être acceptables pour le code dans les exécutables que l'utilisateur a explicitement installé sur l'ordinateur local, ils peuvent ne pas être acceptables pour le code potentiellement malveillant provenant d'Internet ou d'un intranet local.</span><span class="sxs-lookup"><span data-stu-id="c46b4-105">Although these rights or permissions may be acceptable for code in executables that the user has explicitly installed on the local computer, they may not be acceptable for potentially malicious code coming from the Internet or a local Intranet.</span></span> <span data-ttu-id="c46b4-106">Ce code ne doit pas pouvoir accéder aux ressources de l'ordinateur de l'utilisateur sans autorisation.</span><span class="sxs-lookup"><span data-stu-id="c46b4-106">This code should not be able to access the user's computer resources without permission.</span></span>

<span data-ttu-id="c46b4-107">Le .NET Framework introduit une infrastructure appelée sécurité d’accès du Code qui vous permet de différencier les autorisations, ou droits, du code et des droits dont dispose l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="c46b4-107">The .NET Framework introduces an infrastructure called Code Access Security that lets you differentiate the permissions, or rights, that code has from the rights that the user has.</span></span> <span data-ttu-id="c46b4-108">Par défaut, le code provenant d'Internet et de l'intranet peut uniquement s'exécuter dans un mode qui porte le nom de confiance partielle.</span><span class="sxs-lookup"><span data-stu-id="c46b4-108">By default, code coming from the Internet and the Intranet can only run in what is known as partial trust.</span></span> <span data-ttu-id="c46b4-109">La confiance partielle soumet une application à une série de restrictions : entre autres, une application ne peut pas accéder au disque dur local et ne peut pas exécuter de code non managé.</span><span class="sxs-lookup"><span data-stu-id="c46b4-109">Partial trust subjects an application to a series of restrictions: among other things, an application is restricted from accessing the local hard disk, and cannot run unmanaged code.</span></span> <span data-ttu-id="c46b4-110">Le .NET Framework contrôle les ressources de code est autorisé à accéder en fonction de l’identité de ce code : d'où il provenance, s’il comporte un [assemblys avec nom fort](../app-domains/strong-named-assemblies.md), s’il est signé avec un certificat et ainsi de suite.</span><span class="sxs-lookup"><span data-stu-id="c46b4-110">The .NET Framework controls the resources that code is allowed to access based on the identity of that code: where it came from, whether it has a [Strong-Named Assemblies](../app-domains/strong-named-assemblies.md), whether it is signed with a certificate, and so on.</span></span>

<span data-ttu-id="c46b4-111">La technologie ClickOnce, qui vous permet de déployer des applications Windows Forms, simplifie pour vous permet de développer des applications qui s’exécutent en confiance partielle, avec une confiance totale ou avec une confiance partielle avec des autorisations élevées.</span><span class="sxs-lookup"><span data-stu-id="c46b4-111">ClickOnce technology, which you use to deploy Windows Forms applications, helps make it easier for you to develop applications that run in partial trust, in full trust, or in partial trust with elevated permissions.</span></span> <span data-ttu-id="c46b4-112">ClickOnce fournit des fonctionnalités telles que l’élévation d’autorisations et le déploiement d’applications approuvées afin que votre application peut demander une confiance totale ou des autorisations élevées à partir de l’utilisateur local de manière responsable.</span><span class="sxs-lookup"><span data-stu-id="c46b4-112">ClickOnce provides features such as Permission Elevation and Trusted Application Deployment so that your application can request full trust or elevated permissions from the local user in a responsible manner.</span></span>

## <a name="understanding-security-in-the-net-framework"></a><span data-ttu-id="c46b4-113">Présentation de la sécurité dans .NET Framework</span><span class="sxs-lookup"><span data-stu-id="c46b4-113">Understanding Security in the .NET Framework</span></span>

<span data-ttu-id="c46b4-114">La sécurité d'accès du code permet au code d'avoir un niveau de confiance à différents degrés, en fonction de son origine et d'autres aspects de son identité.</span><span class="sxs-lookup"><span data-stu-id="c46b4-114">Code access security allows code to be trusted to varying degrees, depending on where the code originates and on other aspects of the code's identity.</span></span> <span data-ttu-id="c46b4-115">Pour plus d’informations sur les preuves utilisées par le Common Language Runtime afin de déterminer la stratégie de sécurité, consultez [Preuve](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/7y5x1hcd(v=vs.100)).</span><span class="sxs-lookup"><span data-stu-id="c46b4-115">For more information about the evidence the common language runtime uses to determine security policy, see [Evidence](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/7y5x1hcd(v=vs.100)).</span></span> <span data-ttu-id="c46b4-116">Elle vous aide à protéger les systèmes contre les programmes malveillants et à empêcher que le code approuvé ne compromette la sécurité de manière intentionnelle ou accidentelle.</span><span class="sxs-lookup"><span data-stu-id="c46b4-116">It helps protect computer systems from malicious code and helps protect trusted code from intentionally or accidentally compromising security.</span></span> <span data-ttu-id="c46b4-117">La sécurité d'accès du code vous permet aussi de mieux contrôler les actions que votre application peut effectuer, car vous pouvez spécifier uniquement les autorisations dont elle a besoin.</span><span class="sxs-lookup"><span data-stu-id="c46b4-117">Code access security also gives you more control over what actions your application can perform, because you can specify only those permissions you need your application to have.</span></span> <span data-ttu-id="c46b4-118">La sécurité d'accès du code affecte tout le code managé qui cible le Common Language Runtime, même si ce code ne fait aucune vérification d'autorisation de sécurité d'accès du code.</span><span class="sxs-lookup"><span data-stu-id="c46b4-118">Code access security affects all managed code that targets the common language runtime, even if that code does not make a single code-access-security permission check.</span></span> <span data-ttu-id="c46b4-119">Pour plus d’informations sur la sécurité dans le .NET Framework, consultez [Concepts de sécurité clés](../../standard/security/key-security-concepts.md) et [Code Access Security Basics](../misc/code-access-security-basics.md).</span><span class="sxs-lookup"><span data-stu-id="c46b4-119">For more information about security in the .NET Framework, see [Key Security Concepts](../../standard/security/key-security-concepts.md) and [Code Access Security Basics](../misc/code-access-security-basics.md).</span></span>

<span data-ttu-id="c46b4-120">Si l’utilisateur exécute un fichier exécutable Windows Forms directement à partir d’un serveur web ou d’un partage de fichiers, le degré de confiance accordé à votre application dépend de l’emplacement du code et de la façon dont il est démarré.</span><span class="sxs-lookup"><span data-stu-id="c46b4-120">If the user run a Windows Forms executable file directly off of a Web server or a file share, the degree of trust granted to your application depends on where the code resides, and how it is started.</span></span> <span data-ttu-id="c46b4-121">Quand une application s'exécute, elle est évaluée automatiquement et le Common Language Runtime lui affecte un jeu d'autorisations nommé.</span><span class="sxs-lookup"><span data-stu-id="c46b4-121">When an application runs, it is automatically evaluated and it receives a named permission set from the common language runtime.</span></span> <span data-ttu-id="c46b4-122">Par défaut, le code sur l'ordinateur local dispose du jeu d'autorisations Confiance totale, le code provenant d'un réseau local dispose du jeu d'autorisations Intranet local et le code provenant d'Internet dispose du jeu d'autorisations Internet.</span><span class="sxs-lookup"><span data-stu-id="c46b4-122">By default, the code from the local computer is granted the Full Trust permission set, code from a local network is granted the Local Intranet permission set, and code from the Internet is granted the Internet permission set.</span></span>

> [!NOTE]
> <span data-ttu-id="c46b4-123">Dans la version de .NET Framework 1.0 Service Pack 1 et le Service Pack 2, Internet zone code groupe reçoit le Nothing jeu d’autorisations.</span><span class="sxs-lookup"><span data-stu-id="c46b4-123">In the .NET Framework version 1.0 Service Pack 1 and Service Pack 2, the Internet zone code group receives the Nothing permission set.</span></span> <span data-ttu-id="c46b4-124">Dans toutes les autres versions du .NET Framework, le groupe de codes de zone Internet reçoit le jeu d’autorisations Internet.</span><span class="sxs-lookup"><span data-stu-id="c46b4-124">In all other releases of the .NET Framework, the Internet zone code group receives the Internet permissions set.</span></span>
>
> <span data-ttu-id="c46b4-125">Les autorisations par défaut accordées dans chacun de ces jeux d’autorisations sont répertoriées dans la rubrique [Stratégie de sécurité par défaut](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/03kwzyfc(v=vs.100)).</span><span class="sxs-lookup"><span data-stu-id="c46b4-125">The default permissions granted in each of these permission sets are listed in the [Default Security Policy](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/03kwzyfc(v=vs.100)) topic.</span></span> <span data-ttu-id="c46b4-126">En fonction des autorisations reçues par l'application, elle s'exécute correctement ou génère une exception de sécurité.</span><span class="sxs-lookup"><span data-stu-id="c46b4-126">Depending on the permissions that the application receives, it either runs correctly or generates a security exception.</span></span>
>
> <span data-ttu-id="c46b4-127">De nombreuses applications Windows Forms seront déployées à l’aide de ClickOnce.</span><span class="sxs-lookup"><span data-stu-id="c46b4-127">Many Windows Forms applications will be deployed using ClickOnce.</span></span> <span data-ttu-id="c46b4-128">Les outils utilisés pour générer un déploiement ClickOnce ont des paramètres de sécurité différentes ceux mentionnés précédemment.</span><span class="sxs-lookup"><span data-stu-id="c46b4-128">The tools used for generating a ClickOnce deployment have different security defaults than what was discussed earlier.</span></span> <span data-ttu-id="c46b4-129">Pour plus d'informations, voir la discussion suivante.</span><span class="sxs-lookup"><span data-stu-id="c46b4-129">For more information, see the following discussion.</span></span>

<span data-ttu-id="c46b4-130">Les autorisations réellement accordées à votre application peuvent être différentes des valeurs par défaut, car la stratégie de sécurité peut être modifiée. Cela signifie que votre application peut avoir une autorisation sur un ordinateur, mais pas sur un autre.</span><span class="sxs-lookup"><span data-stu-id="c46b4-130">The actual permissions granted to your application can be different from the default values, because the security policy can be modified; this means that your application can have permission on one computer, but not on another.</span></span>

## <a name="developing-a-more-secure-windows-forms-application"></a><span data-ttu-id="c46b4-131">Développement d'une application Windows Forms plus sécurisée</span><span class="sxs-lookup"><span data-stu-id="c46b4-131">Developing a More Secure Windows Forms Application</span></span>

<span data-ttu-id="c46b4-132">La sécurité est importante lors de toutes les étapes du développement d'application.</span><span class="sxs-lookup"><span data-stu-id="c46b4-132">Security is important in all steps of application development.</span></span> <span data-ttu-id="c46b4-133">Commencez par examiner et suivre les [Instructions de codage sécurisé](../../standard/security/secure-coding-guidelines.md).</span><span class="sxs-lookup"><span data-stu-id="c46b4-133">Start by reviewing and following the [Secure Coding Guidelines](../../standard/security/secure-coding-guidelines.md).</span></span>

<span data-ttu-id="c46b4-134">Ensuite, décidez si votre application doit s'exécuter avec une confiance totale ou partielle.</span><span class="sxs-lookup"><span data-stu-id="c46b4-134">Next, decide whether your application must run in full trust, or whether it should run in partial trust.</span></span> <span data-ttu-id="c46b4-135">L'exécution de votre application avec une confiance totale facilite l'accès aux ressources sur l'ordinateur local, mais expose votre application et ses utilisateurs à des risques de sécurité élevés si vous ne concevez et ne développez pas votre application en respectant strictement les consignes fournies dans la rubrique Instructions de codage sécurisé.</span><span class="sxs-lookup"><span data-stu-id="c46b4-135">Running your application in full trust makes it easier to access resources on the local computer, but exposes your application and its users to high security risks if you do not design and develop your application strictly according to the Secure Coding Guidelines topic.</span></span> <span data-ttu-id="c46b4-136">L'exécution de votre application avec une confiance partielle simplifie le développement d'une application plus sécurisée et réduit considérablement les risques, mais nécessite davantage de planification quant à l'implémentation de certaines fonctionnalités.</span><span class="sxs-lookup"><span data-stu-id="c46b4-136">Running your application in partial trust makes it easier to develop a more secure application and reduces much risk, but requires more planning in how to implement certain features.</span></span>

<span data-ttu-id="c46b4-137">Si vous choisissez la confiance partielle (autrement dit, le jeux d'autorisation Internet ou Intranet local), choisissez comment votre application doit se comporter dans cet environnement.</span><span class="sxs-lookup"><span data-stu-id="c46b4-137">If you choose partial trust (that is, either the Internet or Local Intranet permission sets), decide how you want your application to behave in this environment.</span></span> <span data-ttu-id="c46b4-138">Windows Forms fournit des méthodes alternatives et plus sûres pour implémenter des fonctionnalités dans un environnement de confiance partielle.</span><span class="sxs-lookup"><span data-stu-id="c46b4-138">Windows Forms provides alternative, more secure ways to implement features when in a semi-trusted environment.</span></span> <span data-ttu-id="c46b4-139">Certaines parties de votre application, comme l'accès aux données, peuvent être conçues et écrites différemment pour les environnements de confiance partielle et de confiance totale.</span><span class="sxs-lookup"><span data-stu-id="c46b4-139">Certain parts of your application, such as data access, can be designed and written differently for both partial trust and full trust environments.</span></span> <span data-ttu-id="c46b4-140">Certaines fonctionnalités de Windows Forms, telles que les paramètres d’application, sont conçues pour fonctionner en mode de confiance partielle.</span><span class="sxs-lookup"><span data-stu-id="c46b4-140">Some Windows Forms features, such as application settings, are designed to work in partial trust.</span></span> <span data-ttu-id="c46b4-141">Pour plus d’informations, consultez [Vue d’ensemble des paramètres d’application](./advanced/application-settings-overview.md).</span><span class="sxs-lookup"><span data-stu-id="c46b4-141">For more information, see [Application Settings Overview](./advanced/application-settings-overview.md).</span></span>

<span data-ttu-id="c46b4-142">Si votre application a besoin de davantage d'autorisations que celles offertes par la confiance partielle mais que vous ne souhaitez pas l'exécuter avec une confiance totale, vous pouvez l'exécuter avec une confiance partielle en déclarant uniquement les autorisations supplémentaires dont vous avez besoin.</span><span class="sxs-lookup"><span data-stu-id="c46b4-142">If your application needs more permissions than partial trust allows, but you do not want to run in full trust, you can run in partial trust while asserting only those additional permissions you need.</span></span> <span data-ttu-id="c46b4-143">Par exemple, si vous souhaitez l'exécuter avec une confiance partielle mais que vous devez l'autoriser à accéder en lecture seule à un répertoire dans le système de fichiers de l'utilisateur, vous pouvez demander <xref:System.Security.Permissions.FileIOPermission> uniquement pour ce répertoire.</span><span class="sxs-lookup"><span data-stu-id="c46b4-143">For example, if you want to run in partial trust, but must grant your application read-only access to a directory on the user's file system, you can request <xref:System.Security.Permissions.FileIOPermission> only for that directory.</span></span> <span data-ttu-id="c46b4-144">Utilisée correctement, cette approche peut procurer à votre application des fonctionnalités supplémentaires et minimiser les risques de sécurité pour vos utilisateurs.</span><span class="sxs-lookup"><span data-stu-id="c46b4-144">Used correctly, this approach can give your application increased functionality and minimize security risks to your users.</span></span>

<span data-ttu-id="c46b4-145">Quand vous développez une application qui s'exécute avec une confiance partielle, effectuez le suivi des autorisations dont votre application doit disposer et de celles qu'elle pourrait éventuellement utiliser.</span><span class="sxs-lookup"><span data-stu-id="c46b4-145">When you develop an application that will run in partial trust, keep track of what permissions your application must run and what permissions your application could optionally use.</span></span> <span data-ttu-id="c46b4-146">Quand toutes les autorisations sont connues, vous devez effectuer une demande déclarative pour disposer de l'autorisation au niveau de l'application.</span><span class="sxs-lookup"><span data-stu-id="c46b4-146">When all the permissions are known, you should make a declarative request for permission at the application level.</span></span> <span data-ttu-id="c46b4-147">Demande d’autorisations informe le runtime les autorisations dont votre application et celles qui ne sont pas spécifiquement requises de .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="c46b4-147">Requesting permissions informs the .NET Framework run time about which permissions your application needs and which permissions it specifically does not want.</span></span> <span data-ttu-id="c46b4-148">Pour plus d’informations sur les demandes d’autorisations, consultez [Demande d’autorisations](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/yd267cce(v=vs.100)).</span><span class="sxs-lookup"><span data-stu-id="c46b4-148">For more information about requesting permissions, see [Requesting Permissions](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/yd267cce(v=vs.100)).</span></span>

<span data-ttu-id="c46b4-149">Quand vous demandez des autorisations facultatives, vous devez gérer les exceptions de sécurité qui seront générées si votre application effectue une action qui nécessite des autorisations qui ne lui ont pas été accordées.</span><span class="sxs-lookup"><span data-stu-id="c46b4-149">When you request optional permissions, you must handle security exceptions that will be generated if your application performs an action that requires permissions not granted to it.</span></span> <span data-ttu-id="c46b4-150">Une gestion appropriée de <xref:System.Security.SecurityException> garantit que votre application peut continuer à fonctionner.</span><span class="sxs-lookup"><span data-stu-id="c46b4-150">Appropriate handling of the <xref:System.Security.SecurityException> will ensure that your application can continue to operate.</span></span> <span data-ttu-id="c46b4-151">Votre application peut utiliser l’exception pour déterminer si une fonctionnalité doit être désactivée pour l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="c46b4-151">Your application can use the exception to determine whether a feature should become disabled for the user.</span></span> <span data-ttu-id="c46b4-152">Par exemple, une application peut désactiver l’option de menu **Enregistrer** si l’autorisation de fichier nécessaire n’est pas accordée.</span><span class="sxs-lookup"><span data-stu-id="c46b4-152">For example, an application can disable the **Save** menu option if the required file permission is not granted.</span></span>

<span data-ttu-id="c46b4-153">Il est parfois difficile de savoir si vous avez déclaré toutes les autorisations requises.</span><span class="sxs-lookup"><span data-stu-id="c46b4-153">Sometimes, it is difficult to know if you have asserted all the appropriate permissions.</span></span> <span data-ttu-id="c46b4-154">Par exemple, un appel de méthode apparemment anodin peut accéder au système de fichiers à un moment donné de son exécution.</span><span class="sxs-lookup"><span data-stu-id="c46b4-154">A method call which looks innocuous on the surface, for example, may access the file system at some point during its execution.</span></span> <span data-ttu-id="c46b4-155">Si vous ne déployez pas votre application avec toutes les autorisations requises, les tests peuvent réussir lors du débogage sur votre bureau, mais échouer lors du déploiement.</span><span class="sxs-lookup"><span data-stu-id="c46b4-155">If you do not deploy your application with all the required permissions, it may test fine when you debug it on your desktop, but fail when deployed.</span></span> <span data-ttu-id="c46b4-156">À la fois le Kit de développement logiciel .NET Framework 2.0 et Visual Studio 2005 contiennent des outils permettant de calculer les autorisations requises par une application : il commande MT.exe outil en ligne et la fonctionnalité calculer les autorisations de Visual Studio, respectivement.</span><span class="sxs-lookup"><span data-stu-id="c46b4-156">Both the .NET Framework 2.0 SDK and Visual Studio 2005 contain tools for calculating the permissions an application needs: the MT.exe command line tool and the Calculate Permissions feature of Visual Studio, respectively.</span></span>

<span data-ttu-id="c46b4-157">Les rubriques suivantes décrivent les fonctionnalités de sécurité supplémentaires de Windows Forms.</span><span class="sxs-lookup"><span data-stu-id="c46b4-157">The following topics describe additional Windows Forms security features.</span></span>

|<span data-ttu-id="c46b4-158">Rubrique</span><span class="sxs-lookup"><span data-stu-id="c46b4-158">Topic</span></span>|<span data-ttu-id="c46b4-159">Description</span><span class="sxs-lookup"><span data-stu-id="c46b4-159">Description</span></span>|
|-----------|-----------------|
|<span data-ttu-id="c46b4-160">- [Accès plus sécurisé aux fichiers et aux données dans les Windows Forms](more-secure-file-and-data-access-in-windows-forms.md)</span><span class="sxs-lookup"><span data-stu-id="c46b4-160">- [More Secure File and Data Access in Windows Forms](more-secure-file-and-data-access-in-windows-forms.md)</span></span>|<span data-ttu-id="c46b4-161">Décrit comment accéder aux fichiers et aux données dans un environnement de confiance partielle.</span><span class="sxs-lookup"><span data-stu-id="c46b4-161">Describes how to access files and data in a partial trust environment.</span></span>|
|<span data-ttu-id="c46b4-162">- [Impression plus sécurisée dans les Windows Forms](more-secure-printing-in-windows-forms.md)</span><span class="sxs-lookup"><span data-stu-id="c46b4-162">- [More Secure Printing in Windows Forms](more-secure-printing-in-windows-forms.md)</span></span>|<span data-ttu-id="c46b4-163">Décrit comment accéder aux fonctionnalités d’impression dans un environnement de confiance partielle.</span><span class="sxs-lookup"><span data-stu-id="c46b4-163">Describes how to access printing features in a partial trust environment.</span></span>|
|<span data-ttu-id="c46b4-164">- [Considérations supplémentaires sur la sécurité des Windows Forms](additional-security-considerations-in-windows-forms.md)</span><span class="sxs-lookup"><span data-stu-id="c46b4-164">- [Additional Security Considerations in Windows Forms](additional-security-considerations-in-windows-forms.md)</span></span>|<span data-ttu-id="c46b4-165">Décrit comment manipuler des fenêtres, utiliser le Presse-papiers et effectuer des appels au code non managé dans un environnement de confiance partielle.</span><span class="sxs-lookup"><span data-stu-id="c46b4-165">Describes performing window manipulation, using the Clipboard, and making calls to unmanaged code in a partial trust environment.</span></span>|

### <a name="deploying-an-application-with-the-appropriate-permissions"></a><span data-ttu-id="c46b4-166">Déploiement d'une application avec les autorisations appropriées</span><span class="sxs-lookup"><span data-stu-id="c46b4-166">Deploying an Application with the Appropriate Permissions</span></span>

<span data-ttu-id="c46b4-167">L’approche la plus courante de déploiement d’une application Windows Forms à un ordinateur client est avec ClickOnce, une technologie de déploiement qui décrit tous les composants de que votre application doit s’exécuter.</span><span class="sxs-lookup"><span data-stu-id="c46b4-167">The most common means of deploying a Windows Forms application to a client computer is with ClickOnce, a deployment technology that describes all of the components your application needs to run.</span></span> <span data-ttu-id="c46b4-168">ClickOnce utilise des fichiers XML appelés manifestes pour décrire les assemblys et les fichiers qui composent votre application, et que les autorisations requises.</span><span class="sxs-lookup"><span data-stu-id="c46b4-168">ClickOnce uses XML files called manifests to describe the assemblies and files that make up your application, and also the permissions your application requires.</span></span>

<span data-ttu-id="c46b4-169">ClickOnce a deux technologies permettant de demander des autorisations élevées sur un ordinateur client.</span><span class="sxs-lookup"><span data-stu-id="c46b4-169">ClickOnce has two technologies for requesting elevated permissions on a client computer.</span></span> <span data-ttu-id="c46b4-170">Ces deux technologies reposent sur l'utilisation de certificats Authenticode.</span><span class="sxs-lookup"><span data-stu-id="c46b4-170">Both technologies rely on the use of Authenticode certificates.</span></span> <span data-ttu-id="c46b4-171">Les certificats permettent de garantir à vos utilisateurs que l'application provient d'une source approuvée.</span><span class="sxs-lookup"><span data-stu-id="c46b4-171">The certificates help provide some assurance to your users that the application has come from a trusted source.</span></span>

<span data-ttu-id="c46b4-172">Le tableau suivant décrit ces technologies.</span><span class="sxs-lookup"><span data-stu-id="c46b4-172">The following table describes these technologies.</span></span>

|<span data-ttu-id="c46b4-173">Technologie d'élévation d'autorisations</span><span class="sxs-lookup"><span data-stu-id="c46b4-173">Elevated permission technology</span></span>|<span data-ttu-id="c46b4-174">Description</span><span class="sxs-lookup"><span data-stu-id="c46b4-174">Description</span></span>|
|------------------------------------|-----------------|
|<span data-ttu-id="c46b4-175">Élévation d'autorisations</span><span class="sxs-lookup"><span data-stu-id="c46b4-175">Permission Elevation</span></span>|<span data-ttu-id="c46b4-176">Affiche une boîte de dialogue de sécurité la première fois que votre application s'exécute.</span><span class="sxs-lookup"><span data-stu-id="c46b4-176">Prompts the user with a security dialog box the first time your application runs.</span></span> <span data-ttu-id="c46b4-177">La boîte de dialogue **Élévation d’autorisations** indique à l’utilisateur le nom de la personne qui a publié l’application, pour qu’il puisse décider en connaissance de cause s’il doit lui accorder une confiance supplémentaire</span><span class="sxs-lookup"><span data-stu-id="c46b4-177">The **Permission Elevation** dialog box informs the user about who published the application, so that the user can make an informed decision about whether to grant it additional trust</span></span>|
|<span data-ttu-id="c46b4-178">Déploiement d'applications approuvées</span><span class="sxs-lookup"><span data-stu-id="c46b4-178">Trusted Application Deployment</span></span>|<span data-ttu-id="c46b4-179">Exige qu'un administrateur système effectue une installation ponctuelle du certificat Authenticode de l'éditeur sur un ordinateur client.</span><span class="sxs-lookup"><span data-stu-id="c46b4-179">Involves a system administrator performing a one-time installation of a publisher's Authenticode certificate on a client computer.</span></span> <span data-ttu-id="c46b4-180">Après cela, toutes les applications signées avec le certificat sont considérées comme approuvées et peuvent s'exécuter avec une confiance totale sur l'ordinateur local sans invite supplémentaire.</span><span class="sxs-lookup"><span data-stu-id="c46b4-180">From that point on, any applications signed with the certificate are regarded as trusted, and can run at full trust on the local computer without additional prompting.</span></span>|

<span data-ttu-id="c46b4-181">La technologie adoptée dépendra de votre environnement de déploiement.</span><span class="sxs-lookup"><span data-stu-id="c46b4-181">Which technology you choose will depend on your deployment environment.</span></span> <span data-ttu-id="c46b4-182">Pour plus d’informations, consultez [Choix d’une stratégie de déploiement ClickOnce](/visualstudio/deployment/choosing-a-clickonce-deployment-strategy).</span><span class="sxs-lookup"><span data-stu-id="c46b4-182">For more information, see [Choosing a ClickOnce Deployment Strategy](/visualstudio/deployment/choosing-a-clickonce-deployment-strategy).</span></span>

<span data-ttu-id="c46b4-183">Par défaut, les applications ClickOnce déployées à l’aide de Visual Studio ou les outils de développement .NET Framework SDK (Mage.exe et MageUI.exe) sont configurées pour s’exécuter sur un ordinateur client qui a la confiance totale.</span><span class="sxs-lookup"><span data-stu-id="c46b4-183">By default, ClickOnce applications deployed using either Visual Studio or the .NET Framework SDK tools (Mage.exe and MageUI.exe) are configured to run on a client computer that has Full Trust.</span></span> <span data-ttu-id="c46b4-184">Si vous déployez votre application avec une confiance partielle ou en utilisant uniquement certaines autorisations supplémentaires, vous devez modifier ce comportement par défaut.</span><span class="sxs-lookup"><span data-stu-id="c46b4-184">If you are deploying your application by using partial trust or by using only some additional permissions, you will have to change this default.</span></span> <span data-ttu-id="c46b4-185">Vous pouvez faire avec Visual Studio ou l’outil de développement .NET Framework SDK MageUI.exe lorsque vous configurez votre déploiement.</span><span class="sxs-lookup"><span data-stu-id="c46b4-185">You can do this with either Visual Studio or the .NET Framework SDK tool MageUI.exe when you configure your deployment.</span></span> <span data-ttu-id="c46b4-186">Pour plus d’informations sur l’utilisation de MageUI.exe, consultez la procédure pas à pas : Déploiement d’une Application ClickOnce à partir de la ligne de commande.</span><span class="sxs-lookup"><span data-stu-id="c46b4-186">For more information about how to use MageUI.exe, see Walkthrough: Deploying a ClickOnce Application from the Command Line.</span></span>  <span data-ttu-id="c46b4-187">Voir également [Guide pratique pour Définir des autorisations personnalisées pour une Application ClickOnce](https://docs.microsoft.com/previous-versions/visualstudio/visual-studio-2012/hafybdaa(v=vs.110)) ou [Comment : Définir des autorisations personnalisées pour une Application ClickOnce](/visualstudio/deployment/how-to-set-custom-permissions-for-a-clickonce-application).</span><span class="sxs-lookup"><span data-stu-id="c46b4-187">Also see [How to: Set Custom Permissions for a ClickOnce Application](https://docs.microsoft.com/previous-versions/visualstudio/visual-studio-2012/hafybdaa(v=vs.110)) or [How to: Set Custom Permissions for a ClickOnce Application](/visualstudio/deployment/how-to-set-custom-permissions-for-a-clickonce-application).</span></span>

<span data-ttu-id="c46b4-188">Pour plus d’informations sur les aspects de sécurité de l’élévation d’autorisations et de ClickOnce, consultez [sécurisation des Applications ClickOnce](/visualstudio/deployment/securing-clickonce-applications).</span><span class="sxs-lookup"><span data-stu-id="c46b4-188">For more information about the security aspects of ClickOnce and Permission Elevation, see [Securing ClickOnce Applications](/visualstudio/deployment/securing-clickonce-applications).</span></span> <span data-ttu-id="c46b4-189">Pour plus d’informations sur le déploiement d’applications approuvées, consultez [Vue d’ensemble du déploiement d’applications approuvées](/visualstudio/deployment/trusted-application-deployment-overview).</span><span class="sxs-lookup"><span data-stu-id="c46b4-189">For more information about Trusted Application Deployment, see [Trusted Application Deployment Overview](/visualstudio/deployment/trusted-application-deployment-overview).</span></span>

### <a name="testing-the-application"></a><span data-ttu-id="c46b4-190">Test de l'application</span><span class="sxs-lookup"><span data-stu-id="c46b4-190">Testing the Application</span></span>

<span data-ttu-id="c46b4-191">Si vous avez déployé votre application Windows Forms à l’aide de Visual Studio, vous pouvez activer le débogage avec confiance partielle ou un jeu à partir de l’environnement de développement d’autorisations restreint.</span><span class="sxs-lookup"><span data-stu-id="c46b4-191">If you have deployed your Windows Forms application by using Visual Studio, you can enable debugging in partial trust or a restricted permission set from the development environment.</span></span>  <span data-ttu-id="c46b4-192">Voir également [Guide pratique pour Déboguer une application ClickOnce avec des autorisations restreintes](/visualstudio/deployment/how-to-debug-a-clickonce-application-with-restricted-permissions).</span><span class="sxs-lookup"><span data-stu-id="c46b4-192">Also see [How to: Debug a ClickOnce Application with Restricted Permissions](/visualstudio/deployment/how-to-debug-a-clickonce-application-with-restricted-permissions).</span></span>

## <a name="see-also"></a><span data-ttu-id="c46b4-193">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="c46b4-193">See also</span></span>

- [<span data-ttu-id="c46b4-194">Sécurité de Windows Forms</span><span class="sxs-lookup"><span data-stu-id="c46b4-194">Windows Forms Security</span></span>](windows-forms-security.md)
- [<span data-ttu-id="c46b4-195">Notions fondamentales de la sécurité d’accès du code</span><span class="sxs-lookup"><span data-stu-id="c46b4-195">Code Access Security Basics</span></span>](../misc/code-access-security-basics.md)
- [<span data-ttu-id="c46b4-196">Sécurité et déploiement ClickOnce</span><span class="sxs-lookup"><span data-stu-id="c46b4-196">ClickOnce Security and Deployment</span></span>](/visualstudio/deployment/clickonce-security-and-deployment)
- [<span data-ttu-id="c46b4-197">Vue d’ensemble du déploiement d’applications approuvées</span><span class="sxs-lookup"><span data-stu-id="c46b4-197">Trusted Application Deployment Overview</span></span>](/visualstudio/deployment/trusted-application-deployment-overview)
- [<span data-ttu-id="c46b4-198">Mage.exe (outil Manifest Generation and Editing)</span><span class="sxs-lookup"><span data-stu-id="c46b4-198">Mage.exe (Manifest Generation and Editing Tool)</span></span>](../tools/mage-exe-manifest-generation-and-editing-tool.md)
- [<span data-ttu-id="c46b4-199">MageUI.exe (outil Manifest Generation and Editing, client graphique)</span><span class="sxs-lookup"><span data-stu-id="c46b4-199">MageUI.exe (Manifest Generation and Editing Tool, Graphical Client)</span></span>](../tools/mageui-exe-manifest-generation-and-editing-tool-graphical-client.md)
