---
title: Vue d'ensemble des paramètres d'application
description: En savoir plus sur la fonctionnalité de paramètres d’application de Windows Forms, par exemple comment créer et stocker des données de paramètres pour le compte de votre application et de vos utilisateurs.
ms.date: 03/30/2017
f1_keywords:
- ApplicationsSettingsOverview
helpviewer_keywords:
- application settings [Windows Forms], about application settings
- dynamic properties
- user preferences [Windows Forms], tracking
ms.assetid: 0dd8bca5-a6bf-4ac4-8eec-5725d08b38dc
ms.openlocfilehash: 864cab72b26ff7989c570347fb88b4009e7d705a
ms.sourcegitcommit: dc2feef0794cf41dbac1451a13b8183258566c0e
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 06/24/2020
ms.locfileid: "85324221"
---
# <a name="application-settings-overview"></a><span data-ttu-id="1f4fb-103">Vue d'ensemble des paramètres d'application</span><span class="sxs-lookup"><span data-stu-id="1f4fb-103">Application Settings Overview</span></span>

<span data-ttu-id="1f4fb-104">Cet article explique comment créer et stocker des données de paramètres pour le compte de votre application et de vos utilisateurs.</span><span class="sxs-lookup"><span data-stu-id="1f4fb-104">This article discusses how to create and store settings data on behalf of your application and your users.</span></span>

 <span data-ttu-id="1f4fb-105">La fonctionnalité Paramètres des applications de Windows Forms simplifie la création, le stockage et la gestion des applications personnalisées et des préférences utilisateur sur l’ordinateur client.</span><span class="sxs-lookup"><span data-stu-id="1f4fb-105">The Application Settings feature of Windows Forms makes it easy to create, store, and maintain custom application and user preferences on the client computer.</span></span> <span data-ttu-id="1f4fb-106">Avec les paramètres des applications Windows Forms, vous pouvez stocker non seulement des données d'application telles que des chaînes de connexion de base de données, mais également des données spécifiques à l'utilisateur, telles que les préférences des applications utilisateur.</span><span class="sxs-lookup"><span data-stu-id="1f4fb-106">With Windows Forms application settings, you can store not only application data such as database connection strings, but also user-specific data, such as user application preferences.</span></span> <span data-ttu-id="1f4fb-107">À l'aide de Visual Studio ou de code managé personnalisé, vous pouvez créer de nouveaux paramètres, les lire et écrire sur disque, les lier à des propriétés sur vos formulaires et valider les données des paramètres avant le chargement et l'enregistrement.</span><span class="sxs-lookup"><span data-stu-id="1f4fb-107">Using Visual Studio or custom managed code, you can create new settings, read them from and write them to disk, bind them to properties on your forms, and validate settings data prior to loading and saving.</span></span>

 <span data-ttu-id="1f4fb-108">Les paramètres d’application permettent aux développeurs d’enregistrer l’État dans leur application à l’aide de très peu de code personnalisé, et remplacent les propriétés dynamiques dans les versions précédentes du .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="1f4fb-108">Application settings enables developers to save state in their application using very little custom code, and is a replacement for dynamic properties in previous versions of the .NET Framework.</span></span> <span data-ttu-id="1f4fb-109">Les paramètres des applications contiennent de nombreuses améliorations par rapport aux propriétés dynamiques, qui sont en lecture seule, à liaison tardive et nécessitent davantage de programmation personnalisée.</span><span class="sxs-lookup"><span data-stu-id="1f4fb-109">Application settings contains many improvements over dynamic properties, which are read-only, late-bound, and require more custom programming.</span></span> <span data-ttu-id="1f4fb-110">Les classes de propriétés dynamiques ont été conservées dans .NET Framework 2,0, mais il s’agit simplement de classes de Shell qui encapsulent de manière dynamique les classes de paramètres d’application.</span><span class="sxs-lookup"><span data-stu-id="1f4fb-110">The dynamic property classes have been retained in .NET Framework 2.0, but they are just shell classes that thinly wrap the application settings classes.</span></span>

## <a name="what-are-application-settings"></a><span data-ttu-id="1f4fb-111">Présentation des paramètres d'application</span><span class="sxs-lookup"><span data-stu-id="1f4fb-111">What Are Application Settings?</span></span>
 <span data-ttu-id="1f4fb-112">Vos applications Windows Forms requièrent souvent des données qui sont essentielles à l’exécution de l’application, mais que vous ne souhaitez pas inclure directement dans le code de l’application.</span><span class="sxs-lookup"><span data-stu-id="1f4fb-112">Your Windows Forms applications will often require data that's critical to running the application, but which you don't want to include directly in the application's code.</span></span> <span data-ttu-id="1f4fb-113">Si votre application utilise un service Web ou un serveur de base de données, vous souhaiterez peut-être stocker ces informations dans un fichier distinct, afin de pouvoir les modifier ultérieurement sans recompiler.</span><span class="sxs-lookup"><span data-stu-id="1f4fb-113">If your application uses a Web Service or a database server, you may want to store this information in a separate file, so that you can change it in the future without recompiling.</span></span> <span data-ttu-id="1f4fb-114">De même, vos applications peuvent nécessiter le stockage des données spécifiques à l'utilisateur actuel.</span><span class="sxs-lookup"><span data-stu-id="1f4fb-114">Similarly, your applications may require storing data that is specific to the current user.</span></span> <span data-ttu-id="1f4fb-115">La plupart des applications, par exemple, offrent des préférences utilisateur qui permettent de personnaliser leur apparence et leur comportement.</span><span class="sxs-lookup"><span data-stu-id="1f4fb-115">Most applications, for example, have user preferences that customize the application's appearance and behavior.</span></span>

 <span data-ttu-id="1f4fb-116">Les paramètres d'application répondent à ces deux besoins en fournissant un mécanisme simple de stockage des paramètres de portée application et de portée utilisateur sur l'ordinateur client.</span><span class="sxs-lookup"><span data-stu-id="1f4fb-116">Application settings addresses both needs by providing an easy way to store both application-scoped and user-scoped settings on the client computer.</span></span> <span data-ttu-id="1f4fb-117">Avec Visual Studio ou un éditeur de code, vous définissez un paramètre pour une propriété donnée en spécifiant son nom, son type de données et sa portée (application ou utilisateur).</span><span class="sxs-lookup"><span data-stu-id="1f4fb-117">Using Visual Studio or a code editor, you define a setting for a given property by specifying its name, data type, and scope (application or user).</span></span> <span data-ttu-id="1f4fb-118">Vous pouvez même placer des paramètres connexes dans des groupes nommés pour faciliter leur utilisation et leur lisibilité.</span><span class="sxs-lookup"><span data-stu-id="1f4fb-118">You can even place related settings into named groups for easier use and readability.</span></span> <span data-ttu-id="1f4fb-119">Une fois définis, ces paramètres sont conservés et lus en mémoire automatiquement au moment de l'exécution.</span><span class="sxs-lookup"><span data-stu-id="1f4fb-119">Once defined, these settings are persisted and read back into memory automatically at run time.</span></span> <span data-ttu-id="1f4fb-120">Une architecture enfichable permet de modifier le mécanisme de persistance, mais par défaut le système de fichiers local est utilisé.</span><span class="sxs-lookup"><span data-stu-id="1f4fb-120">A pluggable architecture enables the persistence mechanism to be changed, but by default, the local file system is used.</span></span>

 <span data-ttu-id="1f4fb-121">Les paramètres d'application rendent les données persistantes au format XML dans différents fichiers de configuration (.config) en fonction de la portée du paramètre (application ou utilisateur).</span><span class="sxs-lookup"><span data-stu-id="1f4fb-121">Application settings works by persisting data as XML to different configuration (.config) files, corresponding to whether the setting is application-scoped or user-scoped.</span></span> <span data-ttu-id="1f4fb-122">Dans la plupart des cas, les paramètres de portée application sont en lecture seule. Comme il s'agit d'informations sur le programme, vous n'aurez généralement pas besoin de les remplacer.</span><span class="sxs-lookup"><span data-stu-id="1f4fb-122">In most cases, the application-scoped settings are read-only; because they are program information, you will typically not need to overwrite them.</span></span> <span data-ttu-id="1f4fb-123">En revanche, les paramètres de portée utilisateur peuvent être lus et modifiés en toute sécurité au moment de l'exécution, même si votre application s'exécute en mode de confiance partielle.</span><span class="sxs-lookup"><span data-stu-id="1f4fb-123">By contrast, user-scoped settings can be read and written safely at run time, even if your application runs under partial trust.</span></span> <span data-ttu-id="1f4fb-124">Pour plus d’informations sur la confiance partielle, consultez [Security in Windows Forms Overview](../security-in-windows-forms-overview.md).</span><span class="sxs-lookup"><span data-stu-id="1f4fb-124">For more information about partial trust, see [Security in Windows Forms Overview](../security-in-windows-forms-overview.md).</span></span>

 <span data-ttu-id="1f4fb-125">Les paramètres sont stockés en tant que fragments XML dans des fichiers de configuration.</span><span class="sxs-lookup"><span data-stu-id="1f4fb-125">Settings are stored as XML fragments in configuration files.</span></span> <span data-ttu-id="1f4fb-126">Les paramètres de portée application sont représentés par l'élément `<applicationSettings>` et sont généralement placés dans *application*. exe.config, où *application* est le nom de votre fichier exécutable principal.</span><span class="sxs-lookup"><span data-stu-id="1f4fb-126">Application-scoped settings are represented by the `<applicationSettings>` element, and generally are placed in *app*.exe.config, where *app* is the name of your main executable file.</span></span> <span data-ttu-id="1f4fb-127">Les paramètres de portée utilisateur sont représentés par l'élément `<userSettings>` et sont placés dans *utilisateur*.config, où *utilisateur* est le nom d'utilisateur de la personne qui exécute actuellement l'application.</span><span class="sxs-lookup"><span data-stu-id="1f4fb-127">User-scoped settings are represented by the `<userSettings>` element and are placed in *user*.config, where *user* is the user name of the person currently running the application.</span></span> <span data-ttu-id="1f4fb-128">Vous devez déployer le fichier *application*.exe.config avec votre application. L'architecture de paramètres créera les fichiers *utilisateur*.config sur demande la première fois que l'application enregistrera les paramètres pour cet utilisateur.</span><span class="sxs-lookup"><span data-stu-id="1f4fb-128">You must deploy the *app*.exe.config file with your application; the settings architecture will create the *user*.config files on demand the first time the application saves settings for that user.</span></span> <span data-ttu-id="1f4fb-129">Vous pouvez également définir un bloc `<userSettings>` dans *application*.exe.config pour fournir des valeurs par défaut pour les paramètres de portée utilisateur.</span><span class="sxs-lookup"><span data-stu-id="1f4fb-129">You can also define a `<userSettings>` block within *app*.exe.config to provide default values for user-scoped settings.</span></span>

 <span data-ttu-id="1f4fb-130">Les contrôles personnalisés peuvent aussi enregistrer leurs propres paramètres en implémentant l'interface <xref:System.Configuration.IPersistComponentSettings> , qui expose la méthode <xref:System.Configuration.IPersistComponentSettings.SaveSettings%2A> .</span><span class="sxs-lookup"><span data-stu-id="1f4fb-130">Custom controls can also save their own settings by implementing the <xref:System.Configuration.IPersistComponentSettings> interface, which exposes the <xref:System.Configuration.IPersistComponentSettings.SaveSettings%2A> method.</span></span> <span data-ttu-id="1f4fb-131">Le contrôle Windows Forms <xref:System.Windows.Forms.ToolStrip> implémente cette interface pour enregistrer la position des barres d'outils et des éléments de barre d'outils d'une session d'application à une autre.</span><span class="sxs-lookup"><span data-stu-id="1f4fb-131">The Windows Forms <xref:System.Windows.Forms.ToolStrip> control implements this interface to save the position of toolbars and toolbar items between application sessions.</span></span> <span data-ttu-id="1f4fb-132">Pour plus d’informations sur les contrôles personnalisés et les paramètres d’application, consultez [Application Settings for Custom Controls](application-settings-for-custom-controls.md).</span><span class="sxs-lookup"><span data-stu-id="1f4fb-132">For more information about custom controls and application settings, see [Application Settings for Custom Controls](application-settings-for-custom-controls.md).</span></span>

## <a name="limitations-of-application-settings"></a><span data-ttu-id="1f4fb-133">Limitations des paramètres d'application</span><span class="sxs-lookup"><span data-stu-id="1f4fb-133">Limitations of Application Settings</span></span>
 <span data-ttu-id="1f4fb-134">Vous ne pouvez pas utiliser les paramètres d’application dans une application non managée qui héberge le .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="1f4fb-134">You cannot use application settings in an unmanaged application that hosts the .NET Framework.</span></span> <span data-ttu-id="1f4fb-135">Les paramètres ne fonctionnent pas dans des environnements tels que les compléments Visual Studio, C++ pour Microsoft Office, l'hébergement de contrôles dans Internet Explorer ou les projets et les compléments Microsoft Outlook.</span><span class="sxs-lookup"><span data-stu-id="1f4fb-135">Settings will not work in such environments as Visual Studio add-ins, C++ for Microsoft Office, control hosting in Internet Explorer, or Microsoft Outlook add-ins and projects.</span></span>

 <span data-ttu-id="1f4fb-136">À l'heure actuelle, vous ne pouvez pas établir de liaison à certaines propriétés dans Windows Forms.</span><span class="sxs-lookup"><span data-stu-id="1f4fb-136">You currently cannot bind to some properties in Windows Forms.</span></span> <span data-ttu-id="1f4fb-137">L'exemple le plus notable est la propriété <xref:System.Windows.Forms.Form.ClientSize%2A> , car une liaison à cette propriété provoque un comportement imprévisible au moment de l'exécution.</span><span class="sxs-lookup"><span data-stu-id="1f4fb-137">The most notable example is the <xref:System.Windows.Forms.Form.ClientSize%2A> property, as binding to this property would cause unpredictable behavior at run time.</span></span> <span data-ttu-id="1f4fb-138">En règle générale, vous pouvez contourner ces problèmes en enregistrant et en chargeant ces paramètres par programmation.</span><span class="sxs-lookup"><span data-stu-id="1f4fb-138">You can usually work around these issues by saving and loading these settings programmatically.</span></span>

 <span data-ttu-id="1f4fb-139">Les paramètres d'application n'ont aucune fonctionnalité intégrée pour chiffrer automatiquement les informations.</span><span class="sxs-lookup"><span data-stu-id="1f4fb-139">Application settings has no built-in facility for encrypting information automatically.</span></span> <span data-ttu-id="1f4fb-140">Vous ne devez jamais stocker d'informations relatives à la sécurité, telles que des mots de passe de base de données, en texte clair.</span><span class="sxs-lookup"><span data-stu-id="1f4fb-140">You should never store security-related information, such as database passwords, in clear text.</span></span> <span data-ttu-id="1f4fb-141">Si vous souhaitez stocker ce genre d'informations sensibles, en tant que développeur de l'application vous êtes chargé de vous assurer qu'elles sont sécurisées.</span><span class="sxs-lookup"><span data-stu-id="1f4fb-141">If you want to store such sensitive information, you as the application developer are responsible for making sure it is secure.</span></span> <span data-ttu-id="1f4fb-142">Si vous souhaitez stocker des chaînes de connexion, nous vous recommandons d'utiliser la sécurité intégrée de Windows et de ne pas recourir au codage en dur des mots de passe dans l'URL.</span><span class="sxs-lookup"><span data-stu-id="1f4fb-142">If you want to store connection strings, we recommend that you use Windows Integrated Security and not resort to hard-coding passwords into the URL.</span></span> <span data-ttu-id="1f4fb-143">Pour plus d'informations, consultez [Code Access Security and ADO.NET](../../data/adonet/code-access-security.md).</span><span class="sxs-lookup"><span data-stu-id="1f4fb-143">For more information, see [Code Access Security and ADO.NET](../../data/adonet/code-access-security.md).</span></span>

## <a name="getting-started-with-application-settings"></a><span data-ttu-id="1f4fb-144">Prise en main des paramètres d'application</span><span class="sxs-lookup"><span data-stu-id="1f4fb-144">Getting Started with Application Settings</span></span>
 <span data-ttu-id="1f4fb-145">Si vous utilisez Visual Studio, vous pouvez définir des paramètres dans le Concepteur Windows Forms à l'aide de la propriété **(ApplicationSettings)** dans la fenêtre **Propriétés** .</span><span class="sxs-lookup"><span data-stu-id="1f4fb-145">If you use Visual Studio, you can define settings within the Windows Forms Designer using the **(ApplicationSettings)** property in the **Properties** window.</span></span> <span data-ttu-id="1f4fb-146">Quand vous définissez des paramètres de cette façon, Visual Studio crée automatiquement une classe wrapper managée personnalisée qui associe chaque paramètre à une propriété de classe.</span><span class="sxs-lookup"><span data-stu-id="1f4fb-146">When you define settings this way, Visual Studio automatically creates a custom managed wrapper class that associates each setting with a class property.</span></span> <span data-ttu-id="1f4fb-147">Visual Studio se charge aussi de la liaison du paramètre à une propriété sur un formulaire ou un contrôle pour que les paramètres du contrôle soient restaurés automatiquement quand son formulaire est affiché et enregistrés automatiquement quand le formulaire est fermé.</span><span class="sxs-lookup"><span data-stu-id="1f4fb-147">Visual Studio also takes care of binding the setting to a property on a form or control so that the control's settings are restored automatically when its form is displayed, and saved automatically when the form is closed.</span></span>

 <span data-ttu-id="1f4fb-148">Si vous souhaitez bénéficier d'un contrôle plus précis sur vos paramètres, vous pouvez définir votre propre classe wrapper de paramètres d'application personnalisée.</span><span class="sxs-lookup"><span data-stu-id="1f4fb-148">If you want more detailed control over your settings, you can define your own custom applications settings wrapper class.</span></span> <span data-ttu-id="1f4fb-149">Pour cela, vous devez dériver une classe de <xref:System.Configuration.ApplicationSettingsBase>, ajouter une propriété qui correspond à chaque paramètre, puis appliquer des attributs spéciaux à ces propriétés.</span><span class="sxs-lookup"><span data-stu-id="1f4fb-149">This is accomplished by deriving a class from <xref:System.Configuration.ApplicationSettingsBase>, adding a property that corresponds to each setting, and applying special attributes to these properties.</span></span> <span data-ttu-id="1f4fb-150">Pour plus d’informations sur la création de classes wrapper, consultez [Application Settings Architecture](application-settings-architecture.md).</span><span class="sxs-lookup"><span data-stu-id="1f4fb-150">For details about creating wrapper classes, see [Application Settings Architecture](application-settings-architecture.md).</span></span>

 <span data-ttu-id="1f4fb-151">Vous pouvez également utiliser la classe <xref:System.Windows.Forms.Binding> pour lier des paramètres par programmation à des propriétés sur des formulaires et des contrôles.</span><span class="sxs-lookup"><span data-stu-id="1f4fb-151">You can also use the <xref:System.Windows.Forms.Binding> class to bind settings programmatically to properties on forms and controls.</span></span>

## <a name="see-also"></a><span data-ttu-id="1f4fb-152">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="1f4fb-152">See also</span></span>

- <xref:System.Configuration.ApplicationSettingsBase>
- <xref:System.Configuration.SettingsProvider>
- <xref:System.Configuration.LocalFileSettingsProvider>
- <xref:System.Configuration.IPersistComponentSettings>
- [<span data-ttu-id="1f4fb-153">Comment : valider des paramètres d'application</span><span class="sxs-lookup"><span data-stu-id="1f4fb-153">How to: Validate Application Settings</span></span>](how-to-validate-application-settings.md)
- [<span data-ttu-id="1f4fb-154">Gestion des paramètres d'une application (.NET)</span><span class="sxs-lookup"><span data-stu-id="1f4fb-154">Managing Application Settings (.NET)</span></span>](/visualstudio/ide/managing-application-settings-dotnet)
- [<span data-ttu-id="1f4fb-155">Comment : lire des paramètres au moment de l'exécution avec C#</span><span class="sxs-lookup"><span data-stu-id="1f4fb-155">How To: Read Settings at Run Time With C#</span></span>](how-to-read-settings-at-run-time-with-csharp.md)
- [<span data-ttu-id="1f4fb-156">Utilisation de paramètres d'application et de paramètres utilisateur</span><span class="sxs-lookup"><span data-stu-id="1f4fb-156">Using Application Settings and User Settings</span></span>](using-application-settings-and-user-settings.md)
- [<span data-ttu-id="1f4fb-157">Application Settings Architecture</span><span class="sxs-lookup"><span data-stu-id="1f4fb-157">Application Settings Architecture</span></span>](application-settings-architecture.md)
- [<span data-ttu-id="1f4fb-158">Paramètres d'application pour les contrôles personnalisés</span><span class="sxs-lookup"><span data-stu-id="1f4fb-158">Application Settings for Custom Controls</span></span>](application-settings-for-custom-controls.md)
