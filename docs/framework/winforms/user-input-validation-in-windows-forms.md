---
title: Validation des entrées d’utilisateur dans les Windows Forms
ms.date: 03/30/2017
helpviewer_keywords:
- Windows Forms, validating user input
- validation [Windows Forms], Windows Forms user input
- user input [Windows Forms], validating in Windows Forms
- validating user input [Windows Forms], Windows Forms
ms.assetid: 4ec07681-1dee-4bf9-be5e-718f635a33a1
ms.openlocfilehash: caaf641f919c10751f59df8972af9d95fa930d88
ms.sourcegitcommit: 2701302a99cafbe0d86d53d540eb0fa7e9b46b36
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 04/28/2019
ms.locfileid: "64655573"
---
# <a name="user-input-validation-in-windows-forms"></a><span data-ttu-id="6664e-102">Validation des entrées d’utilisateur dans les Windows Forms</span><span class="sxs-lookup"><span data-stu-id="6664e-102">User Input Validation in Windows Forms</span></span>
<span data-ttu-id="6664e-103">Quand les utilisateurs entrent des données dans votre application, il pourrez que vous souhaitez vérifier que les données sont valides avant que votre application utilise.</span><span class="sxs-lookup"><span data-stu-id="6664e-103">When users enter data into your application, you may want to verify that the data is valid before your application uses it.</span></span> <span data-ttu-id="6664e-104">Vous pouvez avoir besoin que certains champs de texte ne pas être de longueur nulle, qu’un champ soit au format d’un numéro de téléphone ou un autre type de données bien formées ou qu’une chaîne contienne des caractères non sécurisés qui peut servir à compromettre la sécurité d’une base de données.</span><span class="sxs-lookup"><span data-stu-id="6664e-104">You may require that certain text fields not be zero-length, that a field be formatted as a telephone number or other type of well-formed data, or that a string not contain any unsafe characters that could be used to compromise the security of a database.</span></span> <span data-ttu-id="6664e-105">Windows Forms fournit plusieurs méthodes pour valider l’entrée dans votre application.</span><span class="sxs-lookup"><span data-stu-id="6664e-105">Windows Forms provides several ways for you to validate input in your application.</span></span>  
  
## <a name="validation-with-the-maskedtextbox-control"></a><span data-ttu-id="6664e-106">Validation avec le contrôle MaskedTextBox</span><span class="sxs-lookup"><span data-stu-id="6664e-106">Validation with the MaskedTextBox Control</span></span>  
 <span data-ttu-id="6664e-107">Si vous avez besoin obliger les utilisateurs à entrer des données dans un format bien défini, comme un numéro de téléphone ou un numéro de référence, vous pouvez le faire rapidement et avec un minimum de code à l’aide de la <xref:System.Windows.Forms.MaskedTextBox> contrôle.</span><span class="sxs-lookup"><span data-stu-id="6664e-107">If you need to require users to enter data in a well-defined format, such as a telephone number or a part number, you can accomplish this quickly and with minimal code by using the <xref:System.Windows.Forms.MaskedTextBox> control.</span></span> <span data-ttu-id="6664e-108">Un *masque* est une chaîne de caractères à partir d’un langage de masquage qui spécifie quels caractères peuvent être entrés à n’importe quelle position donnée dans la zone de texte.</span><span class="sxs-lookup"><span data-stu-id="6664e-108">A *mask* is a string made up of characters from a masking language that specifies which characters can be entered at any given position in the text box.</span></span> <span data-ttu-id="6664e-109">Le contrôle affiche un ensemble d’invites à l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="6664e-109">The control displays a set of prompts to the user.</span></span> <span data-ttu-id="6664e-110">Si l’utilisateur tape une entrée incorrecte, par exemple, l’utilisateur tape une lettre lorsqu’un chiffre est requis, le contrôle rejette automatiquement l’entrée.</span><span class="sxs-lookup"><span data-stu-id="6664e-110">If the user types an incorrect entry, for example, the user types a letter when a digit is required, the control will automatically reject the input.</span></span>  
  
 <span data-ttu-id="6664e-111">Le langage de masquage qui est utilisé par <xref:System.Windows.Forms.MaskedTextBox> est très flexible.</span><span class="sxs-lookup"><span data-stu-id="6664e-111">The masking language that is used by <xref:System.Windows.Forms.MaskedTextBox> is very flexible.</span></span> <span data-ttu-id="6664e-112">Il vous permet de spécifier les caractères requis, des caractères facultatifs, les caractères littéraux, tels que des traits d’union et des parenthèses, devise caractères et les séparateurs de date.</span><span class="sxs-lookup"><span data-stu-id="6664e-112">It allows you to specify required characters, optional characters, literal characters, such as hyphens and parentheses, currency characters, and date separators.</span></span> <span data-ttu-id="6664e-113">Le contrôle fonctionne également bien lorsqu’elle est liée à une source de données.</span><span class="sxs-lookup"><span data-stu-id="6664e-113">The control also works well when bound to a data source.</span></span> <span data-ttu-id="6664e-114">Le <xref:System.Windows.Forms.Binding.Format> événement sur une liaison de données peut être utilisé pour reformater les données entrantes avec le masque et le <xref:System.Windows.Forms.Binding.Parse> événement peut être utilisé pour reformater les données sortantes sont conformes aux spécifications du champ de données.</span><span class="sxs-lookup"><span data-stu-id="6664e-114">The <xref:System.Windows.Forms.Binding.Format> event on a data binding can be used to reformat incoming data to comply with the mask, and the <xref:System.Windows.Forms.Binding.Parse> event can be used to reformat outgoing data to comply with the specifications of the data field.</span></span>  
  
 <span data-ttu-id="6664e-115">Pour plus d’informations, consultez [contrôle MaskedTextBox](./controls/maskedtextbox-control-windows-forms.md).</span><span class="sxs-lookup"><span data-stu-id="6664e-115">For more information, see [MaskedTextBox Control](./controls/maskedtextbox-control-windows-forms.md).</span></span>  
  
## <a name="event-driven-validation"></a><span data-ttu-id="6664e-116">Validation pilotée par événements</span><span class="sxs-lookup"><span data-stu-id="6664e-116">Event-Driven Validation</span></span>  
 <span data-ttu-id="6664e-117">Si vous souhaitez contrôler par programmation complet de validation, ou que vous avez besoin effectuer des vérifications de validation complexe, vous devez utiliser les événements de validation intégrées à la plupart des contrôles Windows Forms.</span><span class="sxs-lookup"><span data-stu-id="6664e-117">If you want full programmatic control over validation, or need to perform complex validation checks, you should use the validation events built into most Windows Forms controls.</span></span> <span data-ttu-id="6664e-118">Chaque contrôle qui accepte les entrées d’utilisateur au format libre a un <xref:System.Windows.Forms.Control.Validating> événement qui se produit chaque fois que le contrôle nécessite une validation de données.</span><span class="sxs-lookup"><span data-stu-id="6664e-118">Each control that accepts free-form user input has a <xref:System.Windows.Forms.Control.Validating> event that will occur whenever the control requires data validation.</span></span> <span data-ttu-id="6664e-119">Dans la <xref:System.Windows.Forms.Control.Validating> méthode de gestion des événements, vous pouvez valider les entrées de plusieurs façons de l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="6664e-119">In the <xref:System.Windows.Forms.Control.Validating> event-handling method, you can validate user input in several ways.</span></span> <span data-ttu-id="6664e-120">Par exemple, si vous avez une zone de texte qui doit contenir un code postal, vous pouvez effectuer la validation de plusieurs manières :</span><span class="sxs-lookup"><span data-stu-id="6664e-120">For example, if you have a text box that must contain a postal code, you can perform the validation in the following ways:</span></span>  
  
- <span data-ttu-id="6664e-121">Si le code postal doit appartenir à un groupe spécifique de codes postaux, vous pouvez effectuer une comparaison de chaînes sur l’entrée pour valider les données entrées par l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="6664e-121">If the postal code must belong to a specific group of zip codes, you can perform a string comparison on the input to validate the data entered by the user.</span></span> <span data-ttu-id="6664e-122">Par exemple, si le code postal doit être dans le jeu {10001, 10002, 10003}, vous pouvez utiliser une comparaison de chaînes pour valider les données.</span><span class="sxs-lookup"><span data-stu-id="6664e-122">For example, if the postal code must be in the set {10001, 10002, 10003}, then you can use a string comparison to validate the data.</span></span>  
  
- <span data-ttu-id="6664e-123">Si le code postal doit être un format spécifique, vous pouvez utiliser des expressions régulières pour valider les données entrées par l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="6664e-123">If the postal code must be in a specific form you can use regular expressions to validate the data entered by the user.</span></span> <span data-ttu-id="6664e-124">Par exemple, pour valider le formulaire `#####` ou `#####-####`, vous pouvez utiliser l’expression régulière `^(\d{5})(-\d{4})?$`.</span><span class="sxs-lookup"><span data-stu-id="6664e-124">For example, to validate the form `#####` or `#####-####`, you can use the regular expression `^(\d{5})(-\d{4})?$`.</span></span> <span data-ttu-id="6664e-125">Pour valider le formulaire `A#A #A#`, vous pouvez utiliser l’expression régulière `[A-Z]\d[A-Z] \d[A-Z]\d`.</span><span class="sxs-lookup"><span data-stu-id="6664e-125">To validate the form `A#A #A#`, you can use the regular expression `[A-Z]\d[A-Z] \d[A-Z]\d`.</span></span> <span data-ttu-id="6664e-126">Pour plus d’informations sur les expressions régulières, consultez [Expressions régulières .NET Framework](../../standard/base-types/regular-expressions.md) et [exemples d’expressions régulières](../../standard/base-types/regular-expression-examples.md).</span><span class="sxs-lookup"><span data-stu-id="6664e-126">For more information about regular expressions, see [.NET Framework Regular Expressions](../../standard/base-types/regular-expressions.md) and [Regular Expression Examples](../../standard/base-types/regular-expression-examples.md).</span></span>  
  
- <span data-ttu-id="6664e-127">Si le code postal doit être un code postal valide, vous pouvez appeler un service Web de code postal pour valider les données entrées par l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="6664e-127">If the postal code must be a valid United States Zip code, you could call a Zip code Web service to validate the data entered by the user.</span></span>  
  
 <span data-ttu-id="6664e-128">Le <xref:System.Windows.Forms.Control.Validating> événement est fourni un objet de type <xref:System.ComponentModel.CancelEventArgs>.</span><span class="sxs-lookup"><span data-stu-id="6664e-128">The <xref:System.Windows.Forms.Control.Validating> event is supplied an object of type <xref:System.ComponentModel.CancelEventArgs>.</span></span> <span data-ttu-id="6664e-129">Si vous déterminez que les données du contrôle ne sont pas valides, vous pouvez annuler la <xref:System.Windows.Forms.Control.Validating> événement en définissant de cet objet <xref:System.ComponentModel.CancelEventArgs.Cancel%2A> propriété `true`.</span><span class="sxs-lookup"><span data-stu-id="6664e-129">If you determine that the control's data is not valid, you can cancel the <xref:System.Windows.Forms.Control.Validating> event by setting this object's <xref:System.ComponentModel.CancelEventArgs.Cancel%2A> property to `true`.</span></span> <span data-ttu-id="6664e-130">Si vous ne définissez pas la <xref:System.ComponentModel.CancelEventArgs.Cancel%2A> propriété, Windows Forms seront supposent que la validation a réussi pour ce contrôle et déclencher la <xref:System.Windows.Forms.Control.Validated> événement.</span><span class="sxs-lookup"><span data-stu-id="6664e-130">If you do not set the <xref:System.ComponentModel.CancelEventArgs.Cancel%2A> property, Windows Forms will assume that validation succeeded for that control, and raise the <xref:System.Windows.Forms.Control.Validated> event.</span></span>  
  
 <span data-ttu-id="6664e-131">Pour obtenir un exemple de code qui valide une adresse de messagerie dans un <xref:System.Windows.Controls.TextBox>, consultez <xref:System.Windows.Forms.Control.Validating>.</span><span class="sxs-lookup"><span data-stu-id="6664e-131">For a code example that validates an email address in a <xref:System.Windows.Controls.TextBox>, see <xref:System.Windows.Forms.Control.Validating>.</span></span>  
  
### <a name="data-binding-and-event-driven-validation"></a><span data-ttu-id="6664e-132">Liaison de données et événementiel de Validation</span><span class="sxs-lookup"><span data-stu-id="6664e-132">Data Binding and Event-Driven Validation</span></span>  
 <span data-ttu-id="6664e-133">La validation est très utile lorsque vous avez lié vos contrôles à une source de données, telle qu’une table de base de données.</span><span class="sxs-lookup"><span data-stu-id="6664e-133">Validation is very useful when you have bound your controls to a data source, such as a database table.</span></span> <span data-ttu-id="6664e-134">À l’aide de la validation, vous pouvez vous assurer que les données de votre contrôle conformes au format requis par la source de données, et qu’il ne pas contenir de caractères spéciaux tels que des guillemets et sauvegarder barres obliques qui peuvent être dangereux.</span><span class="sxs-lookup"><span data-stu-id="6664e-134">By using validation, you can make sure that your control's data satisfies the format required by the data source, and that it does not contain any special characters such as quotation marks and back slashes that might be unsafe.</span></span>  
  
 <span data-ttu-id="6664e-135">Lorsque vous utilisez la liaison de données, les données dans votre contrôle sont synchronisées avec la source de données pendant l’exécution de la <xref:System.Windows.Forms.Control.Validating> événement.</span><span class="sxs-lookup"><span data-stu-id="6664e-135">When you use data binding, the data in your control is synchronized with the data source during execution of the <xref:System.Windows.Forms.Control.Validating> event.</span></span> <span data-ttu-id="6664e-136">Si vous annulez le <xref:System.Windows.Forms.Control.Validating> événement, les données ne sont pas synchronisées avec la source de données.</span><span class="sxs-lookup"><span data-stu-id="6664e-136">If you cancel the <xref:System.Windows.Forms.Control.Validating> event, the data will not be synchronized with the data source.</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="6664e-137">Si vous avez une validation personnalisée qui a lieu après le <xref:System.Windows.Forms.Control.Validating> événement, cela n’affecte la liaison de données.</span><span class="sxs-lookup"><span data-stu-id="6664e-137">If you have custom validation that takes place after the <xref:System.Windows.Forms.Control.Validating> event, it will not affect the data binding.</span></span> <span data-ttu-id="6664e-138">Par exemple, si vous avez le code dans un <xref:System.Windows.Forms.Control.Validated> événement qui tente d’annuler la liaison de données, la liaison de données se produit encore.</span><span class="sxs-lookup"><span data-stu-id="6664e-138">For example, if you have code in a <xref:System.Windows.Forms.Control.Validated> event that attempts to cancel the data binding, the data binding will still occur.</span></span> <span data-ttu-id="6664e-139">Dans ce cas, pour effectuer la validation dans le <xref:System.Windows.Forms.Control.Validated> événement, modifiez le contrôle **Mode de mise à jour de Source de données** propriété (**sous (Databindings)**\\ **(Avancé)** ) à partir de **OnValidation** à **jamais**et ajoutez *contrôle*`.DataBindings["`*\<YOURFIELD >*  `"].WriteValue()` à votre code de validation.</span><span class="sxs-lookup"><span data-stu-id="6664e-139">In this case, to perform validation in the <xref:System.Windows.Forms.Control.Validated> event, change the control's **Data Source Update Mode** property (**under (Databindings)**\\ **(Advanced)**) from **OnValidation** to **Never**, and add *Control*`.DataBindings["`*\<YOURFIELD>*`"].WriteValue()` to your validation code.</span></span>  
  
### <a name="implicit-and-explicit-validation"></a><span data-ttu-id="6664e-140">Validation implicite et explicite</span><span class="sxs-lookup"><span data-stu-id="6664e-140">Implicit and Explicit Validation</span></span>  
 <span data-ttu-id="6664e-141">Par conséquent, lorsque les données d’un contrôle sont-elles validées ?</span><span class="sxs-lookup"><span data-stu-id="6664e-141">So when does a control's data get validated?</span></span> <span data-ttu-id="6664e-142">Il vous revient, le développeur.</span><span class="sxs-lookup"><span data-stu-id="6664e-142">This is up to you, the developer.</span></span> <span data-ttu-id="6664e-143">Vous pouvez utiliser la validation implicite ou explicite, en fonction des besoins de votre application.</span><span class="sxs-lookup"><span data-stu-id="6664e-143">You can use either implicit or explicit validation, depending on the needs of your application.</span></span>  
  
#### <a name="implicit-validation"></a><span data-ttu-id="6664e-144">Validation implicite</span><span class="sxs-lookup"><span data-stu-id="6664e-144">Implicit Validation</span></span>  
 <span data-ttu-id="6664e-145">L’approche d’une validation implicite valide les données que l’utilisateur le tape.</span><span class="sxs-lookup"><span data-stu-id="6664e-145">The implicit validation approach validates data as the user enters it.</span></span> <span data-ttu-id="6664e-146">Vous pouvez valider les données comme les données sont entrées dans un contrôle en lisant les clés dès qu’elles sont activées, ou plus fréquemment chaque fois que l’utilisateur prend le focus d’entrée d’un contrôle et passe à la suivante.</span><span class="sxs-lookup"><span data-stu-id="6664e-146">You can validate the data as the data is entered in a control by reading the keys as they are pressed, or more commonly whenever the user takes the input focus away from one control and moves to the next.</span></span> <span data-ttu-id="6664e-147">Cette approche est utile lorsque vous souhaitez donner à l’utilisateur des commentaires immédiats sur les données qu’ils travaillent.</span><span class="sxs-lookup"><span data-stu-id="6664e-147">This approach is useful when you want to give the user immediate feedback about the data as they are working.</span></span>  
  
 <span data-ttu-id="6664e-148">Si vous souhaitez utiliser une validation implicite pour un contrôle, vous devez définir de ce contrôle <xref:System.Windows.Forms.ContainerControl.AutoValidate%2A> propriété `true`.</span><span class="sxs-lookup"><span data-stu-id="6664e-148">If you want to use implicit validation for a control, you must set that control's <xref:System.Windows.Forms.ContainerControl.AutoValidate%2A> property to `true`.</span></span> <span data-ttu-id="6664e-149">Si vous annulez le <xref:System.Windows.Forms.Control.Validating> événement, le comportement du contrôle sera déterminée par la valeur que vous avez affectés à <xref:System.Windows.Forms.ContainerControl.AutoValidate%2A>.</span><span class="sxs-lookup"><span data-stu-id="6664e-149">If you cancel the <xref:System.Windows.Forms.Control.Validating> event, the behavior of the control will be determined by what value that you assigned to <xref:System.Windows.Forms.ContainerControl.AutoValidate%2A>.</span></span> <span data-ttu-id="6664e-150">Si vous avez affecté <xref:System.Windows.Forms.AutoValidate.EnablePreventFocusChange>, l’annulation de l’événement entraîne la <xref:System.Windows.Forms.Control.Validated> événements ne pas à se produire.</span><span class="sxs-lookup"><span data-stu-id="6664e-150">If you assigned <xref:System.Windows.Forms.AutoValidate.EnablePreventFocusChange>, canceling the event will cause the <xref:System.Windows.Forms.Control.Validated> event not to occur.</span></span> <span data-ttu-id="6664e-151">Le focus d’entrée restera sur le contrôle actuel jusqu'à ce que l’utilisateur modifie les données à une entrée valide.</span><span class="sxs-lookup"><span data-stu-id="6664e-151">Input focus will remain on the current control until the user changes the data to a valid input.</span></span> <span data-ttu-id="6664e-152">Si vous avez affecté <xref:System.Windows.Forms.AutoValidate.EnableAllowFocusChange>, le <xref:System.Windows.Forms.Control.Validated> événement ne se produit pas lorsque vous annulez l’événement, mais le focus passe toujours sur le contrôle suivant.</span><span class="sxs-lookup"><span data-stu-id="6664e-152">If you assigned <xref:System.Windows.Forms.AutoValidate.EnableAllowFocusChange>, the <xref:System.Windows.Forms.Control.Validated> event will not occur when you cancel the event, but focus will still change to the next control.</span></span>  
  
 <span data-ttu-id="6664e-153">Affectation <xref:System.Windows.Forms.AutoValidate.Disable> à la <xref:System.Windows.Forms.ContainerControl.AutoValidate%2A> propriété empêche toute validation implicite.</span><span class="sxs-lookup"><span data-stu-id="6664e-153">Assigning <xref:System.Windows.Forms.AutoValidate.Disable> to the <xref:System.Windows.Forms.ContainerControl.AutoValidate%2A> property prevents implicit validation altogether.</span></span> <span data-ttu-id="6664e-154">Pour valider vos contrôles, vous devrez utiliser la validation explicite.</span><span class="sxs-lookup"><span data-stu-id="6664e-154">To validate your controls, you will have to use explicit validation.</span></span>  
  
#### <a name="explicit-validation"></a><span data-ttu-id="6664e-155">Validation explicite</span><span class="sxs-lookup"><span data-stu-id="6664e-155">Explicit Validation</span></span>  
 <span data-ttu-id="6664e-156">L’approche de la validation explicite valide les données en même temps.</span><span class="sxs-lookup"><span data-stu-id="6664e-156">The explicit validation approach validates data at one time.</span></span> <span data-ttu-id="6664e-157">Vous pouvez valider les données en réponse à une action de l’utilisateur, comme un clic sur un bouton Enregistrer ou le lien suivant.</span><span class="sxs-lookup"><span data-stu-id="6664e-157">You can validate the data in response to a user action, such as clicking a Save button or a Next link.</span></span> <span data-ttu-id="6664e-158">Lorsque l’action de l’utilisateur se produit, vous pouvez déclencher la validation explicite dans une des manières suivantes :</span><span class="sxs-lookup"><span data-stu-id="6664e-158">When the user action occurs, you can trigger explicit validation in one of the following ways:</span></span>  
  
- <span data-ttu-id="6664e-159">Appelez <xref:System.Windows.Forms.ContainerControl.Validate%2A> pour valider le dernier contrôle qui a perdu le focus.</span><span class="sxs-lookup"><span data-stu-id="6664e-159">Call <xref:System.Windows.Forms.ContainerControl.Validate%2A> to validate the last control to have lost focus.</span></span>  
  
- <span data-ttu-id="6664e-160">Appelez <xref:System.Windows.Forms.ContainerControl.ValidateChildren%2A> pour valider tous les contrôles enfants dans un contrôle de formulaire ou un conteneur.</span><span class="sxs-lookup"><span data-stu-id="6664e-160">Call <xref:System.Windows.Forms.ContainerControl.ValidateChildren%2A> to validate all child controls in a form or container control.</span></span>  
  
- <span data-ttu-id="6664e-161">Appeler une méthode personnalisée pour valider les données dans les contrôles manuellement.</span><span class="sxs-lookup"><span data-stu-id="6664e-161">Call a custom method to validate the data in the controls manually.</span></span>  
  
#### <a name="default-implicit-validation-behavior-for-windows-forms-controls"></a><span data-ttu-id="6664e-162">Contrôles de Validation implicite par défaut pour Windows Forms</span><span class="sxs-lookup"><span data-stu-id="6664e-162">Default Implicit Validation Behavior for Windows Forms Controls</span></span>  
 <span data-ttu-id="6664e-163">Différents contrôles Windows Forms ont différentes valeurs par défaut pour leurs <xref:System.Windows.Forms.ContainerControl.AutoValidate%2A> propriété.</span><span class="sxs-lookup"><span data-stu-id="6664e-163">Different Windows Forms controls have different defaults for their <xref:System.Windows.Forms.ContainerControl.AutoValidate%2A> property.</span></span> <span data-ttu-id="6664e-164">Le tableau suivant présente les contrôles les plus courants et leurs valeurs par défaut.</span><span class="sxs-lookup"><span data-stu-id="6664e-164">The following table shows the most common controls and their defaults.</span></span>  
  
|<span data-ttu-id="6664e-165">Contrôle</span><span class="sxs-lookup"><span data-stu-id="6664e-165">Control</span></span>|<span data-ttu-id="6664e-166">Comportement de Validation par défaut</span><span class="sxs-lookup"><span data-stu-id="6664e-166">Default Validation Behavior</span></span>|  
|-------------|---------------------------------|  
|<xref:System.Windows.Forms.ContainerControl>|<xref:System.Windows.Forms.AutoValidate.Inherit>|  
|<xref:System.Windows.Forms.Form>|<xref:System.Windows.Forms.AutoValidate.EnableAllowFocusChange>|  
|<xref:System.Windows.Forms.PropertyGrid>|<span data-ttu-id="6664e-167">Propriété non exposée dans Visual Studio</span><span class="sxs-lookup"><span data-stu-id="6664e-167">Property not exposed in Visual Studio</span></span>|  
|<xref:System.Windows.Forms.ToolStripContainer>|<span data-ttu-id="6664e-168">Propriété non exposée dans Visual Studio</span><span class="sxs-lookup"><span data-stu-id="6664e-168">Property not exposed in Visual Studio</span></span>|  
|<xref:System.Windows.Forms.SplitContainer>|<xref:System.Windows.Forms.AutoValidate.Inherit>|  
|<xref:System.Windows.Forms.UserControl>|<xref:System.Windows.Forms.AutoValidate.EnableAllowFocusChange>|  
  
## <a name="closing-the-form-and-overriding-validation"></a><span data-ttu-id="6664e-169">Ferme le formulaire et la substitution de la Validation</span><span class="sxs-lookup"><span data-stu-id="6664e-169">Closing the Form and Overriding Validation</span></span>  
 <span data-ttu-id="6664e-170">Lorsqu’un contrôle gère le focus, car les données qu’il contient ne sont pas valides, il est impossible de fermer le formulaire parent de la façon habituelle :</span><span class="sxs-lookup"><span data-stu-id="6664e-170">When a control maintains focus because the data it contains is invalid, it is impossible to close the parent form in one of the usual ways:</span></span>  
  
- <span data-ttu-id="6664e-171">En cliquant sur le **fermer** bouton.</span><span class="sxs-lookup"><span data-stu-id="6664e-171">By clicking the **Close** button.</span></span>  
  
- <span data-ttu-id="6664e-172">En sélectionnant **fermer** dans le **système** menu.</span><span class="sxs-lookup"><span data-stu-id="6664e-172">By selecting **Close** in the **System** menu.</span></span>  
  
- <span data-ttu-id="6664e-173">En appelant le <xref:System.Windows.Forms.Form.Close%2A> méthode par programmation.</span><span class="sxs-lookup"><span data-stu-id="6664e-173">By calling the <xref:System.Windows.Forms.Form.Close%2A> method programmatically.</span></span>  
  
 <span data-ttu-id="6664e-174">Toutefois, dans certains cas, vous souhaiterez permettent à l’utilisateur de fermer le formulaire, même si les valeurs dans les contrôles sont valides.</span><span class="sxs-lookup"><span data-stu-id="6664e-174">However, in some cases, you might want to let the user close the form regardless of whether the values in the controls are valid.</span></span> <span data-ttu-id="6664e-175">Vous pouvez remplacer la validation et fermer un formulaire contenant des données non valides en créant un gestionnaire pour le formulaire <xref:System.Windows.Forms.Form.Closing> événement.</span><span class="sxs-lookup"><span data-stu-id="6664e-175">You can override validation and close a form that still contains invalid data by creating a handler for the form's <xref:System.Windows.Forms.Form.Closing> event.</span></span> <span data-ttu-id="6664e-176">Dans l’événement, définissez la <xref:System.ComponentModel.CancelEventArgs.Cancel%2A> propriété `false`.</span><span class="sxs-lookup"><span data-stu-id="6664e-176">In the event, set the <xref:System.ComponentModel.CancelEventArgs.Cancel%2A> property to `false`.</span></span> <span data-ttu-id="6664e-177">Cela force la fermeture du formulaire.</span><span class="sxs-lookup"><span data-stu-id="6664e-177">This forces the form to close.</span></span> <span data-ttu-id="6664e-178">Pour plus d'informations et pour obtenir un exemple, consultez <xref:System.Windows.Forms.Form.Closing?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="6664e-178">For more information and an example, see <xref:System.Windows.Forms.Form.Closing?displayProperty=nameWithType>.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="6664e-179">Si vous forcez le formulaire pour fermer de cette manière, toutes les données dans les contrôles du formulaire qui n’a pas déjà été enregistrées sont perdues.</span><span class="sxs-lookup"><span data-stu-id="6664e-179">If you force the form to close in this manner, any data in the form's controls that has not already been saved is lost.</span></span> <span data-ttu-id="6664e-180">En outre, les formulaires modaux ne valident pas le contenu des contrôles lors de leur fermeture.</span><span class="sxs-lookup"><span data-stu-id="6664e-180">In addition, modal forms do not validate the contents of controls when they are closed.</span></span> <span data-ttu-id="6664e-181">Vous pouvez utiliser la validation de contrôle pour verrouiller le focus à un contrôle, mais vous n’avez pas à vous préoccuper le comportement associé à la fermeture du formulaire.</span><span class="sxs-lookup"><span data-stu-id="6664e-181">You can still use control validation to lock focus to a control, but you do not have to be concerned about the behavior associated with closing the form.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="6664e-182">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="6664e-182">See also</span></span>

- <xref:System.Windows.Forms.Control.Validating?displayProperty=nameWithType>
- <xref:System.Windows.Forms.Form.Closing?displayProperty=nameWithType>
- <xref:System.ComponentModel.CancelEventArgs?displayProperty=nameWithType>
- [<span data-ttu-id="6664e-183">MaskedTextBox, contrôle</span><span class="sxs-lookup"><span data-stu-id="6664e-183">MaskedTextBox Control</span></span>](./controls/maskedtextbox-control-windows-forms.md)
- [<span data-ttu-id="6664e-184">Exemples d’expressions régulières</span><span class="sxs-lookup"><span data-stu-id="6664e-184">Regular Expression Examples</span></span>](../../standard/base-types/regular-expression-examples.md)
