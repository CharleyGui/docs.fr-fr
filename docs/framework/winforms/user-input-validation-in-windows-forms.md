---
title: Validation des entrées de l’utilisateur
ms.date: 03/30/2017
helpviewer_keywords:
- Windows Forms, validating user input
- validation [Windows Forms], Windows Forms user input
- user input [Windows Forms], validating in Windows Forms
- validating user input [Windows Forms], Windows Forms
ms.assetid: 4ec07681-1dee-4bf9-be5e-718f635a33a1
ms.openlocfilehash: eafbf54552566011fef9d2dbeb5e9f9fa3facabd
ms.sourcegitcommit: 62285ec11fa8e8424bab00511a90760c60e63c95
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 04/20/2020
ms.locfileid: "81646304"
---
# <a name="user-input-validation-in-windows-forms"></a><span data-ttu-id="7b2b8-102">Validation des entrées d’utilisateur dans les Windows Forms</span><span class="sxs-lookup"><span data-stu-id="7b2b8-102">User Input Validation in Windows Forms</span></span>
<span data-ttu-id="7b2b8-103">Lorsque les utilisateurs saisissent des données dans votre application, vous pouvez vérifier que les données sont valides avant que votre application ne les utilise.</span><span class="sxs-lookup"><span data-stu-id="7b2b8-103">When users enter data into your application, you may want to verify that the data is valid before your application uses it.</span></span> <span data-ttu-id="7b2b8-104">Vous pouvez exiger que certains champs de texte ne soient pas de longueur nulle, qu’un champ soit formaté comme numéro de téléphone ou autre type de données bien formées, ou qu’une chaîne ne contienne aucun caractère dangereux qui pourrait être utilisé pour compromettre la sécurité d’une base de données.</span><span class="sxs-lookup"><span data-stu-id="7b2b8-104">You may require that certain text fields not be zero-length, that a field be formatted as a telephone number or other type of well-formed data, or that a string not contain any unsafe characters that could be used to compromise the security of a database.</span></span> <span data-ttu-id="7b2b8-105">Windows Forms vous permet de valider l’entrée de votre application.</span><span class="sxs-lookup"><span data-stu-id="7b2b8-105">Windows Forms provides several ways for you to validate input in your application.</span></span>  
  
## <a name="validation-with-the-maskedtextbox-control"></a><span data-ttu-id="7b2b8-106">Validation avec le contrôle MaskedTextBox</span><span class="sxs-lookup"><span data-stu-id="7b2b8-106">Validation with the MaskedTextBox Control</span></span>  
 <span data-ttu-id="7b2b8-107">Si vous devez exiger des utilisateurs qu’ils saisissent des données dans un format bien défini, comme un <xref:System.Windows.Forms.MaskedTextBox> numéro de téléphone ou un numéro de pièce, vous pouvez l’accomplir rapidement et avec un code minimal en utilisant le contrôle.</span><span class="sxs-lookup"><span data-stu-id="7b2b8-107">If you need to require users to enter data in a well-defined format, such as a telephone number or a part number, you can accomplish this quickly and with minimal code by using the <xref:System.Windows.Forms.MaskedTextBox> control.</span></span> <span data-ttu-id="7b2b8-108">Un *masque* est une chaîne composée de caractères à partir d’un langage masquant qui spécifie quels caractères peuvent être entrés à n’importe quelle position donnée dans la boîte de texte.</span><span class="sxs-lookup"><span data-stu-id="7b2b8-108">A *mask* is a string made up of characters from a masking language that specifies which characters can be entered at any given position in the text box.</span></span> <span data-ttu-id="7b2b8-109">Le contrôle affiche un ensemble d’invites à l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="7b2b8-109">The control displays a set of prompts to the user.</span></span> <span data-ttu-id="7b2b8-110">Si l’utilisateur tape une entrée incorrecte, par exemple, l’utilisateur tape une lettre lorsqu’un chiffre est requis, le contrôle rejette automatiquement l’entrée.</span><span class="sxs-lookup"><span data-stu-id="7b2b8-110">If the user types an incorrect entry, for example, the user types a letter when a digit is required, the control will automatically reject the input.</span></span>  
  
 <span data-ttu-id="7b2b8-111">Le langage masquant <xref:System.Windows.Forms.MaskedTextBox> qui est utilisé par est très flexible.</span><span class="sxs-lookup"><span data-stu-id="7b2b8-111">The masking language that is used by <xref:System.Windows.Forms.MaskedTextBox> is very flexible.</span></span> <span data-ttu-id="7b2b8-112">Il vous permet de spécifier les caractères requis, les personnages optionnels, les caractères littéral, tels que les traits d’union et les parenthèses, les caractères de devises et les séparateurs de date.</span><span class="sxs-lookup"><span data-stu-id="7b2b8-112">It allows you to specify required characters, optional characters, literal characters, such as hyphens and parentheses, currency characters, and date separators.</span></span> <span data-ttu-id="7b2b8-113">Le contrôle fonctionne également bien lorsqu’il est lié à une source de données.</span><span class="sxs-lookup"><span data-stu-id="7b2b8-113">The control also works well when bound to a data source.</span></span> <span data-ttu-id="7b2b8-114">L’événement <xref:System.Windows.Forms.Binding.Format> sur une liaison de données peut être utilisé pour <xref:System.Windows.Forms.Binding.Parse> reformer les données entrantes pour se conformer au masque, et l’événement peut être utilisé pour reformer les données sortantes pour se conformer aux spécifications du champ de données.</span><span class="sxs-lookup"><span data-stu-id="7b2b8-114">The <xref:System.Windows.Forms.Binding.Format> event on a data binding can be used to reformat incoming data to comply with the mask, and the <xref:System.Windows.Forms.Binding.Parse> event can be used to reformat outgoing data to comply with the specifications of the data field.</span></span>  
  
 <span data-ttu-id="7b2b8-115">Pour plus d’informations, voir [MaskedTextBox Control](./controls/maskedtextbox-control-windows-forms.md).</span><span class="sxs-lookup"><span data-stu-id="7b2b8-115">For more information, see [MaskedTextBox Control](./controls/maskedtextbox-control-windows-forms.md).</span></span>  
  
## <a name="event-driven-validation"></a><span data-ttu-id="7b2b8-116">Validation axée sur l’événement</span><span class="sxs-lookup"><span data-stu-id="7b2b8-116">Event-Driven Validation</span></span>  
 <span data-ttu-id="7b2b8-117">Si vous souhaitez un contrôle programmatique complet sur la validation ou si vous devez effectuer des vérifications de validation complexes, vous devez utiliser les événements de validation intégrés à la plupart des contrôles Windows Forms.</span><span class="sxs-lookup"><span data-stu-id="7b2b8-117">If you want full programmatic control over validation, or need to perform complex validation checks, you should use the validation events built into most Windows Forms controls.</span></span> <span data-ttu-id="7b2b8-118">Chaque contrôle qui accepte l’entrée <xref:System.Windows.Forms.Control.Validating> gratuite de l’utilisateur a un événement qui se produira chaque fois que le contrôle nécessite une validation des données.</span><span class="sxs-lookup"><span data-stu-id="7b2b8-118">Each control that accepts free-form user input has a <xref:System.Windows.Forms.Control.Validating> event that will occur whenever the control requires data validation.</span></span> <span data-ttu-id="7b2b8-119">Dans <xref:System.Windows.Forms.Control.Validating> la méthode de traitement des événements, vous pouvez valider l’entrée de l’utilisateur de plusieurs façons.</span><span class="sxs-lookup"><span data-stu-id="7b2b8-119">In the <xref:System.Windows.Forms.Control.Validating> event-handling method, you can validate user input in several ways.</span></span> <span data-ttu-id="7b2b8-120">Par exemple, si vous avez une boîte de texte qui doit contenir un code postal, vous pouvez effectuer la validation de la manière suivante :</span><span class="sxs-lookup"><span data-stu-id="7b2b8-120">For example, if you have a text box that must contain a postal code, you can perform the validation in the following ways:</span></span>  
  
- <span data-ttu-id="7b2b8-121">Si le code postal doit appartenir à un groupe spécifique de codes postaux, vous pouvez effectuer une comparaison de chaînes sur l’entrée pour valider les données saisies par l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="7b2b8-121">If the postal code must belong to a specific group of zip codes, you can perform a string comparison on the input to validate the data entered by the user.</span></span> <span data-ttu-id="7b2b8-122">Par exemple, si le code postal doit figurer dans l’ensemble '10001, 10002, 10003', alors vous pouvez utiliser une comparaison de chaînes pour valider les données.</span><span class="sxs-lookup"><span data-stu-id="7b2b8-122">For example, if the postal code must be in the set {10001, 10002, 10003}, then you can use a string comparison to validate the data.</span></span>  
  
- <span data-ttu-id="7b2b8-123">Si le code postal doit être sous une forme spécifique, vous pouvez utiliser des expressions régulières pour valider les données saisies par l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="7b2b8-123">If the postal code must be in a specific form you can use regular expressions to validate the data entered by the user.</span></span> <span data-ttu-id="7b2b8-124">Par exemple, pour `#####` valider le formulaire `#####-####`ou `^(\d{5})(-\d{4})?$`, vous pouvez utiliser l’expression régulière .</span><span class="sxs-lookup"><span data-stu-id="7b2b8-124">For example, to validate the form `#####` or `#####-####`, you can use the regular expression `^(\d{5})(-\d{4})?$`.</span></span> <span data-ttu-id="7b2b8-125">Pour valider `A#A #A#`le formulaire, vous `[A-Z]\d[A-Z] \d[A-Z]\d`pouvez utiliser l’expression régulière .</span><span class="sxs-lookup"><span data-stu-id="7b2b8-125">To validate the form `A#A #A#`, you can use the regular expression `[A-Z]\d[A-Z] \d[A-Z]\d`.</span></span> <span data-ttu-id="7b2b8-126">Pour plus d’informations sur les expressions régulières, voir [.NET Framework Expressions régulières](../../standard/base-types/regular-expressions.md) et [exemples d’expression régulière](../../standard/base-types/regular-expression-example-scanning-for-hrefs.md).</span><span class="sxs-lookup"><span data-stu-id="7b2b8-126">For more information about regular expressions, see [.NET Framework Regular Expressions](../../standard/base-types/regular-expressions.md) and [Regular Expression Examples](../../standard/base-types/regular-expression-example-scanning-for-hrefs.md).</span></span>  
  
- <span data-ttu-id="7b2b8-127">Si le code postal doit être un code postal valide des États-Unis, vous pouvez appeler un service Web de code postal pour valider les données saisies par l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="7b2b8-127">If the postal code must be a valid United States Zip code, you could call a Zip code Web service to validate the data entered by the user.</span></span>  
  
 <span data-ttu-id="7b2b8-128">L’événement <xref:System.Windows.Forms.Control.Validating> est fourni <xref:System.ComponentModel.CancelEventArgs>un objet de type .</span><span class="sxs-lookup"><span data-stu-id="7b2b8-128">The <xref:System.Windows.Forms.Control.Validating> event is supplied an object of type <xref:System.ComponentModel.CancelEventArgs>.</span></span> <span data-ttu-id="7b2b8-129">Si vous déterminez que les données du contrôle <xref:System.Windows.Forms.Control.Validating> ne sont pas valides, vous pouvez annuler l’événement en définissant la propriété de <xref:System.ComponentModel.CancelEventArgs.Cancel%2A> cet objet à `true`.</span><span class="sxs-lookup"><span data-stu-id="7b2b8-129">If you determine that the control's data is not valid, you can cancel the <xref:System.Windows.Forms.Control.Validating> event by setting this object's <xref:System.ComponentModel.CancelEventArgs.Cancel%2A> property to `true`.</span></span> <span data-ttu-id="7b2b8-130">Si vous ne <xref:System.ComponentModel.CancelEventArgs.Cancel%2A> définissez pas la propriété, Windows Forms suppose <xref:System.Windows.Forms.Control.Validated> que la validation a réussi pour ce contrôle, et augmenter l’événement.</span><span class="sxs-lookup"><span data-stu-id="7b2b8-130">If you do not set the <xref:System.ComponentModel.CancelEventArgs.Cancel%2A> property, Windows Forms will assume that validation succeeded for that control, and raise the <xref:System.Windows.Forms.Control.Validated> event.</span></span>  
  
 <span data-ttu-id="7b2b8-131">Pour un exemple de code qui <xref:System.Windows.Controls.TextBox>valide <xref:System.Windows.Forms.Control.Validating>une adresse e-mail dans un , voir .</span><span class="sxs-lookup"><span data-stu-id="7b2b8-131">For a code example that validates an email address in a <xref:System.Windows.Controls.TextBox>, see <xref:System.Windows.Forms.Control.Validating>.</span></span>  
  
### <a name="data-binding-and-event-driven-validation"></a><span data-ttu-id="7b2b8-132">Liaison de données et validation axée sur les événements</span><span class="sxs-lookup"><span data-stu-id="7b2b8-132">Data Binding and Event-Driven Validation</span></span>  
 <span data-ttu-id="7b2b8-133">La validation est très utile lorsque vous avez lié vos contrôles à une source de données, comme une table de base de données.</span><span class="sxs-lookup"><span data-stu-id="7b2b8-133">Validation is very useful when you have bound your controls to a data source, such as a database table.</span></span> <span data-ttu-id="7b2b8-134">En utilisant la validation, vous pouvez vous assurer que les données de votre contrôle satisfont au format requis par la source de données, et qu’elles ne contiennent pas de caractères spéciaux tels que des guillemets et des barres obliques arrière qui pourraient être dangereuses.</span><span class="sxs-lookup"><span data-stu-id="7b2b8-134">By using validation, you can make sure that your control's data satisfies the format required by the data source, and that it does not contain any special characters such as quotation marks and back slashes that might be unsafe.</span></span>  
  
 <span data-ttu-id="7b2b8-135">Lorsque vous utilisez la liaison de données, les données de votre <xref:System.Windows.Forms.Control.Validating> contrôle sont synchronisées avec la source de données lors de l’exécution de l’événement.</span><span class="sxs-lookup"><span data-stu-id="7b2b8-135">When you use data binding, the data in your control is synchronized with the data source during execution of the <xref:System.Windows.Forms.Control.Validating> event.</span></span> <span data-ttu-id="7b2b8-136">Si vous <xref:System.Windows.Forms.Control.Validating> annulez l’événement, les données ne seront pas synchronisées avec la source de données.</span><span class="sxs-lookup"><span data-stu-id="7b2b8-136">If you cancel the <xref:System.Windows.Forms.Control.Validating> event, the data will not be synchronized with the data source.</span></span>  
  
> [!IMPORTANT]
> <span data-ttu-id="7b2b8-137">Si vous avez une validation <xref:System.Windows.Forms.Control.Validating> personnalisée qui a lieu après l’événement, elle n’affectera pas la liaison des données.</span><span class="sxs-lookup"><span data-stu-id="7b2b8-137">If you have custom validation that takes place after the <xref:System.Windows.Forms.Control.Validating> event, it will not affect the data binding.</span></span> <span data-ttu-id="7b2b8-138">Par exemple, si vous <xref:System.Windows.Forms.Control.Validated> avez du code dans un cas où il tente d’annuler la liaison de données, la liaison de données se produira toujours.</span><span class="sxs-lookup"><span data-stu-id="7b2b8-138">For example, if you have code in a <xref:System.Windows.Forms.Control.Validated> event that attempts to cancel the data binding, the data binding will still occur.</span></span> <span data-ttu-id="7b2b8-139">Dans ce cas, pour <xref:System.Windows.Forms.Control.Validated> effectuer la validation dans l’événement, modifier la propriété de **mode de mise à jour de source de données** du contrôle **(sous (Databindings)**\\ **(Advanced)**) de **OnValidation** à **Jamais**, et ajouter *Control*`.DataBindings["`*\<YOURFIELD>* `"].WriteValue()` à votre code de validation.</span><span class="sxs-lookup"><span data-stu-id="7b2b8-139">In this case, to perform validation in the <xref:System.Windows.Forms.Control.Validated> event, change the control's **Data Source Update Mode** property (**under (Databindings)**\\ **(Advanced)**) from **OnValidation** to **Never**, and add *Control*`.DataBindings["`*\<YOURFIELD>*`"].WriteValue()` to your validation code.</span></span>  
  
### <a name="implicit-and-explicit-validation"></a><span data-ttu-id="7b2b8-140">Validation implicite et explicite</span><span class="sxs-lookup"><span data-stu-id="7b2b8-140">Implicit and Explicit Validation</span></span>  
 <span data-ttu-id="7b2b8-141">Alors, quand les données d’un contrôle sont-elles validées ?</span><span class="sxs-lookup"><span data-stu-id="7b2b8-141">So when does a control's data get validated?</span></span> <span data-ttu-id="7b2b8-142">C’est à vous, le développeur.</span><span class="sxs-lookup"><span data-stu-id="7b2b8-142">This is up to you, the developer.</span></span> <span data-ttu-id="7b2b8-143">Vous pouvez utiliser une validation implicite ou explicite, selon les besoins de votre application.</span><span class="sxs-lookup"><span data-stu-id="7b2b8-143">You can use either implicit or explicit validation, depending on the needs of your application.</span></span>  
  
#### <a name="implicit-validation"></a><span data-ttu-id="7b2b8-144">Validation implicite</span><span class="sxs-lookup"><span data-stu-id="7b2b8-144">Implicit Validation</span></span>  
 <span data-ttu-id="7b2b8-145">L’approche de validation implicite valide les données au fur et à mesure que l’utilisateur y entre.</span><span class="sxs-lookup"><span data-stu-id="7b2b8-145">The implicit validation approach validates data as the user enters it.</span></span> <span data-ttu-id="7b2b8-146">Vous pouvez valider les données au fur et à mesure que les données sont saisies dans un contrôle en lisant les clés lorsqu’elles sont pressées, ou plus généralement chaque fois que l’utilisateur éloigne l’accent d’entrée d’un contrôle et se déplace vers l’autre.</span><span class="sxs-lookup"><span data-stu-id="7b2b8-146">You can validate the data as the data is entered in a control by reading the keys as they are pressed, or more commonly whenever the user takes the input focus away from one control and moves to the next.</span></span> <span data-ttu-id="7b2b8-147">Cette approche est utile lorsque vous souhaitez donner à l’utilisateur des commentaires immédiats sur les données pendant qu’ils fonctionnent.</span><span class="sxs-lookup"><span data-stu-id="7b2b8-147">This approach is useful when you want to give the user immediate feedback about the data as they are working.</span></span>  
  
 <span data-ttu-id="7b2b8-148">Si vous souhaitez utiliser la validation implicite pour un <xref:System.Windows.Forms.ContainerControl.AutoValidate%2A> contrôle, <xref:System.Windows.Forms.AutoValidate.EnablePreventFocusChange> <xref:System.Windows.Forms.AutoValidate.EnableAllowFocusChange>vous devez définir la propriété de ce contrôle à ou .</span><span class="sxs-lookup"><span data-stu-id="7b2b8-148">If you want to use implicit validation for a control, you must set that control's <xref:System.Windows.Forms.ContainerControl.AutoValidate%2A> property to <xref:System.Windows.Forms.AutoValidate.EnablePreventFocusChange> or <xref:System.Windows.Forms.AutoValidate.EnableAllowFocusChange>.</span></span> <span data-ttu-id="7b2b8-149">Si vous <xref:System.Windows.Forms.Control.Validating> annulez l’événement, le comportement du contrôle sera <xref:System.Windows.Forms.ContainerControl.AutoValidate%2A>déterminé par la valeur que vous avez assignée à .</span><span class="sxs-lookup"><span data-stu-id="7b2b8-149">If you cancel the <xref:System.Windows.Forms.Control.Validating> event, the behavior of the control will be determined by what value that you assigned to <xref:System.Windows.Forms.ContainerControl.AutoValidate%2A>.</span></span> <span data-ttu-id="7b2b8-150">Si vous <xref:System.Windows.Forms.AutoValidate.EnablePreventFocusChange>avez assigné, l’annulation de l’événement entraînera l’événement <xref:System.Windows.Forms.Control.Validated> de ne pas se produire.</span><span class="sxs-lookup"><span data-stu-id="7b2b8-150">If you assigned <xref:System.Windows.Forms.AutoValidate.EnablePreventFocusChange>, canceling the event will cause the <xref:System.Windows.Forms.Control.Validated> event not to occur.</span></span> <span data-ttu-id="7b2b8-151">L’accent sur l’entrée restera sur le contrôle actuel jusqu’à ce que l’utilisateur modifie les données en une entrée valide.</span><span class="sxs-lookup"><span data-stu-id="7b2b8-151">Input focus will remain on the current control until the user changes the data to a valid input.</span></span> <span data-ttu-id="7b2b8-152">Si vous <xref:System.Windows.Forms.AutoValidate.EnableAllowFocusChange>avez <xref:System.Windows.Forms.Control.Validated> attribué, l’événement ne se produira pas lorsque vous annulez l’événement, mais la mise au point sera toujours changer pour le prochain contrôle.</span><span class="sxs-lookup"><span data-stu-id="7b2b8-152">If you assigned <xref:System.Windows.Forms.AutoValidate.EnableAllowFocusChange>, the <xref:System.Windows.Forms.Control.Validated> event will not occur when you cancel the event, but focus will still change to the next control.</span></span>  
  
 <span data-ttu-id="7b2b8-153">L’attribution <xref:System.Windows.Forms.AutoValidate.Disable> <xref:System.Windows.Forms.ContainerControl.AutoValidate%2A> à la propriété empêche complètement la validation implicite.</span><span class="sxs-lookup"><span data-stu-id="7b2b8-153">Assigning <xref:System.Windows.Forms.AutoValidate.Disable> to the <xref:System.Windows.Forms.ContainerControl.AutoValidate%2A> property prevents implicit validation altogether.</span></span> <span data-ttu-id="7b2b8-154">Pour valider vos contrôles, vous devrez utiliser une validation explicite.</span><span class="sxs-lookup"><span data-stu-id="7b2b8-154">To validate your controls, you will have to use explicit validation.</span></span>  
  
#### <a name="explicit-validation"></a><span data-ttu-id="7b2b8-155">Validation explicite</span><span class="sxs-lookup"><span data-stu-id="7b2b8-155">Explicit Validation</span></span>  
 <span data-ttu-id="7b2b8-156">L’approche de validation explicite valide les données en même temps.</span><span class="sxs-lookup"><span data-stu-id="7b2b8-156">The explicit validation approach validates data at one time.</span></span> <span data-ttu-id="7b2b8-157">Vous pouvez valider les données en réponse à une action de l’utilisateur, comme cliquer sur un bouton Enregistrer ou un lien Suivant.</span><span class="sxs-lookup"><span data-stu-id="7b2b8-157">You can validate the data in response to a user action, such as clicking a Save button or a Next link.</span></span> <span data-ttu-id="7b2b8-158">Lorsque l’action utilisateur se produit, vous pouvez déclencher une validation explicite de l’une des façons suivantes :</span><span class="sxs-lookup"><span data-stu-id="7b2b8-158">When the user action occurs, you can trigger explicit validation in one of the following ways:</span></span>  
  
- <span data-ttu-id="7b2b8-159">Appelez <xref:System.Windows.Forms.ContainerControl.Validate%2A> pour valider le dernier contrôle pour avoir perdu la mise au point.</span><span class="sxs-lookup"><span data-stu-id="7b2b8-159">Call <xref:System.Windows.Forms.ContainerControl.Validate%2A> to validate the last control to have lost focus.</span></span>  
  
- <span data-ttu-id="7b2b8-160">Appelez <xref:System.Windows.Forms.ContainerControl.ValidateChildren%2A> pour valider tous les contrôles de l’enfant sous forme ou contrôle de conteneurs.</span><span class="sxs-lookup"><span data-stu-id="7b2b8-160">Call <xref:System.Windows.Forms.ContainerControl.ValidateChildren%2A> to validate all child controls in a form or container control.</span></span>  
  
- <span data-ttu-id="7b2b8-161">Appelez manuellement une méthode personnalisée pour valider manuellement les données dans les contrôles.</span><span class="sxs-lookup"><span data-stu-id="7b2b8-161">Call a custom method to validate the data in the controls manually.</span></span>  
  
#### <a name="default-implicit-validation-behavior-for-windows-forms-controls"></a><span data-ttu-id="7b2b8-162">Comportement de validation implicite par défaut pour les contrôles des formulaires Windows</span><span class="sxs-lookup"><span data-stu-id="7b2b8-162">Default Implicit Validation Behavior for Windows Forms Controls</span></span>  
 <span data-ttu-id="7b2b8-163">Différents contrôles De formulaires Windows <xref:System.Windows.Forms.ContainerControl.AutoValidate%2A> ont des défauts différents pour leur propriété.</span><span class="sxs-lookup"><span data-stu-id="7b2b8-163">Different Windows Forms controls have different defaults for their <xref:System.Windows.Forms.ContainerControl.AutoValidate%2A> property.</span></span> <span data-ttu-id="7b2b8-164">Le tableau suivant affiche les contrôles les plus courants et leurs défauts.</span><span class="sxs-lookup"><span data-stu-id="7b2b8-164">The following table shows the most common controls and their defaults.</span></span>  
  
|<span data-ttu-id="7b2b8-165">Control</span><span class="sxs-lookup"><span data-stu-id="7b2b8-165">Control</span></span>|<span data-ttu-id="7b2b8-166">Comportement de validation par défaut</span><span class="sxs-lookup"><span data-stu-id="7b2b8-166">Default Validation Behavior</span></span>|  
|-------------|---------------------------------|  
|<xref:System.Windows.Forms.ContainerControl>|<xref:System.Windows.Forms.AutoValidate.Inherit>|  
|<xref:System.Windows.Forms.Form>|<xref:System.Windows.Forms.AutoValidate.EnableAllowFocusChange>|  
|<xref:System.Windows.Forms.PropertyGrid>|<span data-ttu-id="7b2b8-167">Propriété non exposée dans Visual Studio</span><span class="sxs-lookup"><span data-stu-id="7b2b8-167">Property not exposed in Visual Studio</span></span>|  
|<xref:System.Windows.Forms.ToolStripContainer>|<span data-ttu-id="7b2b8-168">Propriété non exposée dans Visual Studio</span><span class="sxs-lookup"><span data-stu-id="7b2b8-168">Property not exposed in Visual Studio</span></span>|  
|<xref:System.Windows.Forms.SplitContainer>|<xref:System.Windows.Forms.AutoValidate.Inherit>|  
|<xref:System.Windows.Forms.UserControl>|<xref:System.Windows.Forms.AutoValidate.EnableAllowFocusChange>|  
  
## <a name="closing-the-form-and-overriding-validation"></a><span data-ttu-id="7b2b8-169">Fermeture du formulaire et validation absolue</span><span class="sxs-lookup"><span data-stu-id="7b2b8-169">Closing the Form and Overriding Validation</span></span>  
 <span data-ttu-id="7b2b8-170">Lorsqu’un contrôle maintient la mise au point parce que les données qu’il contient sont invalides, il est impossible de fermer la forme parente de l’une des façons habituelles :</span><span class="sxs-lookup"><span data-stu-id="7b2b8-170">When a control maintains focus because the data it contains is invalid, it is impossible to close the parent form in one of the usual ways:</span></span>  
  
- <span data-ttu-id="7b2b8-171">En cliquant sur le bouton **Close.**</span><span class="sxs-lookup"><span data-stu-id="7b2b8-171">By clicking the **Close** button.</span></span>  
  
- <span data-ttu-id="7b2b8-172">En sélectionnant **Close** dans le menu **Système.**</span><span class="sxs-lookup"><span data-stu-id="7b2b8-172">By selecting **Close** in the **System** menu.</span></span>  
  
- <span data-ttu-id="7b2b8-173">En appelant <xref:System.Windows.Forms.Form.Close%2A> la méthode programmatiquement.</span><span class="sxs-lookup"><span data-stu-id="7b2b8-173">By calling the <xref:System.Windows.Forms.Form.Close%2A> method programmatically.</span></span>  
  
 <span data-ttu-id="7b2b8-174">Toutefois, dans certains cas, vous pouvez laisser l’utilisateur fermer le formulaire, que les valeurs des contrôles soient valides ou non.</span><span class="sxs-lookup"><span data-stu-id="7b2b8-174">However, in some cases, you might want to let the user close the form regardless of whether the values in the controls are valid.</span></span> <span data-ttu-id="7b2b8-175">Vous pouvez remplacer la validation et fermer un formulaire qui contient encore <xref:System.Windows.Forms.Form.FormClosing> des données invalides en créant un gestionnaire pour l’événement du formulaire.</span><span class="sxs-lookup"><span data-stu-id="7b2b8-175">You can override validation and close a form that still contains invalid data by creating a handler for the form's <xref:System.Windows.Forms.Form.FormClosing> event.</span></span> <span data-ttu-id="7b2b8-176">Dans le cas, <xref:System.ComponentModel.CancelEventArgs.Cancel%2A> définissez la propriété à `false`.</span><span class="sxs-lookup"><span data-stu-id="7b2b8-176">In the event, set the <xref:System.ComponentModel.CancelEventArgs.Cancel%2A> property to `false`.</span></span> <span data-ttu-id="7b2b8-177">Cela force la forme à fermer.</span><span class="sxs-lookup"><span data-stu-id="7b2b8-177">This forces the form to close.</span></span> <span data-ttu-id="7b2b8-178">Pour plus d'informations et pour obtenir un exemple, consultez <xref:System.Windows.Forms.Form.FormClosing?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="7b2b8-178">For more information and an example, see <xref:System.Windows.Forms.Form.FormClosing?displayProperty=nameWithType>.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="7b2b8-179">Si vous forcez le formulaire à fermer de cette manière, toutes les données dans les contrôles du formulaire qui n’ont pas déjà été enregistrées sont perdues.</span><span class="sxs-lookup"><span data-stu-id="7b2b8-179">If you force the form to close in this manner, any data in the form's controls that has not already been saved is lost.</span></span> <span data-ttu-id="7b2b8-180">En outre, les formulaires modaux ne valident pas le contenu des contrôles lorsqu’ils sont fermés.</span><span class="sxs-lookup"><span data-stu-id="7b2b8-180">In addition, modal forms do not validate the contents of controls when they are closed.</span></span> <span data-ttu-id="7b2b8-181">Vous pouvez toujours utiliser la validation de contrôle pour verrouiller la mise au point à un contrôle, mais vous n’avez pas à être préoccupé par le comportement associé à la fermeture du formulaire.</span><span class="sxs-lookup"><span data-stu-id="7b2b8-181">You can still use control validation to lock focus to a control, but you do not have to be concerned about the behavior associated with closing the form.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="7b2b8-182">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="7b2b8-182">See also</span></span>

- <xref:System.Windows.Forms.Control.Validating?displayProperty=nameWithType>
- <xref:System.Windows.Forms.Form.FormClosing?displayProperty=nameWithType>
- <xref:System.Windows.Forms.FormClosingEventArgs?displayProperty=nameWithType>
- [<span data-ttu-id="7b2b8-183">MaskedTextBox, contrôle</span><span class="sxs-lookup"><span data-stu-id="7b2b8-183">MaskedTextBox Control</span></span>](./controls/maskedtextbox-control-windows-forms.md)
- [<span data-ttu-id="7b2b8-184">Exemples d'expressions régulières</span><span class="sxs-lookup"><span data-stu-id="7b2b8-184">Regular Expression Examples</span></span>](../../standard/base-types/regular-expression-example-scanning-for-hrefs.md)
