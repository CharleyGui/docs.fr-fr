---
title: Traçage et instrumentation d'applications
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- tracing [.NET Framework]
- debugging [.NET Framework], instrumentation
- performance monitoring, instrumentation
- instrumentation, about instrumentation
- tracing [.NET Framework], about tracing
- performance monitoring, tracing code
- Trace class, instrumentation for .NET applications
ms.assetid: 773b6fc4-9013-4322-b728-5dec7a72e743
ms.openlocfilehash: 1dd7317e38b6bee44dda75319c9f7c2a6567e3b4
ms.sourcegitcommit: 9c54866bcbdc49dbb981dd55be9bbd0443837aa2
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 02/14/2020
ms.locfileid: "77216039"
---
# <a name="tracing-and-instrumenting-applications"></a><span data-ttu-id="48712-102">Traçage et instrumentation d'applications</span><span class="sxs-lookup"><span data-stu-id="48712-102">Tracing and Instrumenting Applications</span></span>
<span data-ttu-id="48712-103">Le suivi est un moyen de surveiller l’exécution de votre application pendant son exécution .</span><span class="sxs-lookup"><span data-stu-id="48712-103">Tracing is a way for you to monitor the execution of your application while it is running.</span></span> <span data-ttu-id="48712-104">Vous pouvez ajouter l'instrumentation de traçage et de débogage à votre application .NET Framework au moment du développement, et utiliser cette instrumentation pendant le développement de l'application et après son déploiement.</span><span class="sxs-lookup"><span data-stu-id="48712-104">You can add tracing and debugging instrumentation to your .NET Framework application when you develop it, and you can use that instrumentation both while you are developing the application and after you have deployed it.</span></span> <span data-ttu-id="48712-105">Utilisez les classes <xref:System.Diagnostics.Trace?displayProperty=nameWithType>, <xref:System.Diagnostics.Debug?displayProperty=nameWithType> et <xref:System.Diagnostics.TraceSource?displayProperty=nameWithType> pour enregistrer les informations relatives aux erreurs et à l'exécution de l'application dans des journaux, des fichiers texte ou d'autres appareils en vue d'une analyse ultérieure.</span><span class="sxs-lookup"><span data-stu-id="48712-105">You can use the <xref:System.Diagnostics.Trace?displayProperty=nameWithType>, <xref:System.Diagnostics.Debug?displayProperty=nameWithType>, and <xref:System.Diagnostics.TraceSource?displayProperty=nameWithType> classes to record information about errors and application execution in logs, text files, or other devices for later analysis.</span></span>  
  
 <span data-ttu-id="48712-106">Le terme *instrumentation* fait référence à la capacité de surveiller ou de mesurer le niveau de performance d’un produit et de diagnostiquer les erreurs éventuelles.</span><span class="sxs-lookup"><span data-stu-id="48712-106">The term *instrumentation* refers to an ability to monitor or measure the level of a product's performance and to diagnose errors.</span></span> <span data-ttu-id="48712-107">En programmation, c'est la capacité d'une application à incorporer les éléments suivants :</span><span class="sxs-lookup"><span data-stu-id="48712-107">In programming, this means the ability of an application to incorporate:</span></span>  
  
- <span data-ttu-id="48712-108">**Suivi de code** : réception de messages d’information sur l’exécution d’une application au moment de l’exécution.</span><span class="sxs-lookup"><span data-stu-id="48712-108">**Code tracing** - Receiving informative messages about the execution of an application at run time.</span></span>  
  
- <span data-ttu-id="48712-109">**Débogage** : repérage et résolution des erreurs de programmation dans une application en cours de développement.</span><span class="sxs-lookup"><span data-stu-id="48712-109">**Debugging** - Tracking down and fixing programming errors in an application under development.</span></span> <span data-ttu-id="48712-110">Pour plus d’informations, consultez [Débogage](/visualstudio/debugger/debugger-feature-tour).</span><span class="sxs-lookup"><span data-stu-id="48712-110">For more information, see [Debugging](/visualstudio/debugger/debugger-feature-tour).</span></span>  
  
- <span data-ttu-id="48712-111">**Compteurs de performance** : composants qui vous permettent de suivre les performances de votre application.</span><span class="sxs-lookup"><span data-stu-id="48712-111">**Performance counters** - Components that allow you to track the performance of your application.</span></span> <span data-ttu-id="48712-112">Pour plus d’informations, consultez [Compteurs de performances](performance-counters.md).</span><span class="sxs-lookup"><span data-stu-id="48712-112">For more information, see [Performance Counters](performance-counters.md).</span></span>  
  
- <span data-ttu-id="48712-113">**Journaux des événements** : composants qui vous permettent de recevoir et de suivre les principaux événements liés à l’exécution de votre application.</span><span class="sxs-lookup"><span data-stu-id="48712-113">**Event logs** - Components that allow you receive and track major events in the execution of your application.</span></span> <span data-ttu-id="48712-114">Pour plus d'informations, consultez la classe <xref:System.Diagnostics.EventLog>.</span><span class="sxs-lookup"><span data-stu-id="48712-114">For more information, see the <xref:System.Diagnostics.EventLog> class.</span></span>  
  
 <span data-ttu-id="48712-115">L'instrumentation de votre application, en plaçant des instructions de trace à des endroits stratégiques de votre code, est particulièrement utile pour les applications distribuées.</span><span class="sxs-lookup"><span data-stu-id="48712-115">Instrumenting your application by placing trace statements at strategic locations in your code is especially useful for distributed applications.</span></span> <span data-ttu-id="48712-116">Avec les instructions de trace, vous pouvez instrumenter une application pour afficher des informations en cas de problème, mais aussi pour surveiller les performances d'exécution de l'application.</span><span class="sxs-lookup"><span data-stu-id="48712-116">By using trace statements you can instrument an application not only to display information when things go wrong, but also to monitor how well the application is performing.</span></span>  
  
 <span data-ttu-id="48712-117">La classe <xref:System.Diagnostics.TraceSource> fournit des fonctionnalités de suivi améliorées. Elle remplace les méthodes statiques des classes de traçage <xref:System.Diagnostics.Trace> et <xref:System.Diagnostics.Debug> plus anciennes.</span><span class="sxs-lookup"><span data-stu-id="48712-117">The <xref:System.Diagnostics.TraceSource> class provides enhanced tracing features and can be used in place of the static methods of the older <xref:System.Diagnostics.Trace> and <xref:System.Diagnostics.Debug> tracing classes.</span></span> <span data-ttu-id="48712-118">Les classes <xref:System.Diagnostics.Trace> et <xref:System.Diagnostics.Debug> familières sont toujours largement utilisées, mais la classe <xref:System.Diagnostics.TraceSource> est recommandée pour ses nouvelles commandes de traçage, telles que <xref:System.Diagnostics.TraceSource.TraceEvent%2A> et <xref:System.Diagnostics.TraceSource.TraceData%2A>.</span><span class="sxs-lookup"><span data-stu-id="48712-118">The familiar <xref:System.Diagnostics.Trace> and <xref:System.Diagnostics.Debug> classes are still widely used, but the <xref:System.Diagnostics.TraceSource> class is recommended for new tracing commands, such as <xref:System.Diagnostics.TraceSource.TraceEvent%2A> and <xref:System.Diagnostics.TraceSource.TraceData%2A>.</span></span>  
  
 <span data-ttu-id="48712-119">Les classes <xref:System.Diagnostics.Trace> et <xref:System.Diagnostics.Debug> sont identiques, à ceci près que les procédures et les fonctions de la classe <xref:System.Diagnostics.Trace> ont compilées par défaut dans des versions release, mais celles de la classe <xref:System.Diagnostics.Debug> ne le sont pas.</span><span class="sxs-lookup"><span data-stu-id="48712-119">The <xref:System.Diagnostics.Trace> and <xref:System.Diagnostics.Debug> classes are identical, except that procedures and functions of the <xref:System.Diagnostics.Trace> class are compiled by default into release builds, but those of the <xref:System.Diagnostics.Debug> class are not.</span></span>  
  
 <span data-ttu-id="48712-120">Avec les classes <xref:System.Diagnostics.Trace> et <xref:System.Diagnostics.Debug>, vous pouvez surveiller et analyser les performances d'une application pendant le développement ou après le déploiement.</span><span class="sxs-lookup"><span data-stu-id="48712-120">The <xref:System.Diagnostics.Trace> and <xref:System.Diagnostics.Debug> classes provide the means to monitor and examine application performance either during development or after deployment.</span></span> <span data-ttu-id="48712-121">Par exemple, utilisez la classe <xref:System.Diagnostics.Trace> pour suivre des actions particulières au fur et à mesure qu'elles se produisent dans une application déployée (comme la création de nouvelles connexions de base de données) et ainsi surveiller les performances de l'application.</span><span class="sxs-lookup"><span data-stu-id="48712-121">For example, you can use the <xref:System.Diagnostics.Trace> class to track particular types of actions in a deployed application as they occur (for example, creation of new database connections), and can therefore monitor the application's efficiency.</span></span>  
  
## <a name="code-tracing-and-debugging"></a><span data-ttu-id="48712-122">Traçage et débogage de code</span><span class="sxs-lookup"><span data-stu-id="48712-122">Code Tracing and Debugging</span></span>  
 <span data-ttu-id="48712-123">Pendant la phase de développement, utilisez les méthodes de sortie de la classe <xref:System.Diagnostics.Debug> pour afficher des messages dans la fenêtre Sortie de l'environnement de développement intégré (IDE) de Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="48712-123">During development, you can use the output methods of the <xref:System.Diagnostics.Debug> class to display messages in the Output window of the Visual Studio integrated development environment (IDE).</span></span> <span data-ttu-id="48712-124">Par exemple :</span><span class="sxs-lookup"><span data-stu-id="48712-124">For example:</span></span>  
  
```vb  
Trace.WriteLine("Hello World!")  
Debug.WriteLine("Hello World!")  
```  
  
```csharp  
System.Diagnostics.Trace.WriteLine("Hello World!");  
System.Diagnostics.Debug.WriteLine("Hello World!");  
```  
  
 <span data-ttu-id="48712-125">Chacun de ces exemples affiche « Hello World! »</span><span class="sxs-lookup"><span data-stu-id="48712-125">Each of these examples will display "Hello World!"</span></span> <span data-ttu-id="48712-126">dans la fenêtre Sortie quand l’application est exécutée dans le débogueur.</span><span class="sxs-lookup"><span data-stu-id="48712-126">in the Output window when the application is run in the debugger.</span></span>  
  
 <span data-ttu-id="48712-127">Cela vous permet de déboguer vos applications et d'optimiser leurs performances en fonction de leur comportement dans votre environnement de test.</span><span class="sxs-lookup"><span data-stu-id="48712-127">This enables you to debug your applications and optimize their performance based on their behavior in your test environment.</span></span> <span data-ttu-id="48712-128">Déboguez votre application dans votre version debug en activant l'attribut conditionnel <xref:System.Diagnostics.Debug> pour recevoir toutes les données de sortie de débogage.</span><span class="sxs-lookup"><span data-stu-id="48712-128">You can debug your application in your debug build with the <xref:System.Diagnostics.Debug> conditional attribute turned on so that you receive all debugging output.</span></span> <span data-ttu-id="48712-129">Une fois que votre application est finalisée, compilez votre version release sans activer l’attribut conditionnel <xref:System.Diagnostics.Debug>. Ainsi, le compilateur n’inclura pas votre code de débogage dans le fichier exécutable final.</span><span class="sxs-lookup"><span data-stu-id="48712-129">When your application is ready for release, you can compile your release build without turning on the <xref:System.Diagnostics.Debug> conditional attribute, so that the compiler will not include your debugging code in the final executable.</span></span> <span data-ttu-id="48712-130">Pour plus d’informations, consultez [Guide pratique pour effectuer une compilation conditionnelle avec Trace et Debug](how-to-compile-conditionally-with-trace-and-debug.md).</span><span class="sxs-lookup"><span data-stu-id="48712-130">For more information, see [How to: Compile Conditionally with Trace and Debug](how-to-compile-conditionally-with-trace-and-debug.md).</span></span> <span data-ttu-id="48712-131">Pour plus d’informations sur les différentes configurations de build de votre application, consultez [Compilation et génération](/visualstudio/ide/compiling-and-building-in-visual-studio).</span><span class="sxs-lookup"><span data-stu-id="48712-131">For more information on different build configurations for your application, see [Compiling and Building](/visualstudio/ide/compiling-and-building-in-visual-studio).</span></span>  
  
 <span data-ttu-id="48712-132">Vous pouvez aussi tracer l'exécution du code dans une application installée, en utilisant les méthodes de la classe <xref:System.Diagnostics.Trace>.</span><span class="sxs-lookup"><span data-stu-id="48712-132">You can also trace code execution in an installed application, using methods of the <xref:System.Diagnostics.Trace> class.</span></span> <span data-ttu-id="48712-133">En plaçant des [Commutateurs de suivi](trace-switches.md) dans votre code, vous pouvez contrôler le traçage et son importance.</span><span class="sxs-lookup"><span data-stu-id="48712-133">By placing [Trace Switches](trace-switches.md) in your code, you can control whether tracing occurs and how extensive it is.</span></span> <span data-ttu-id="48712-134">Vous pouvez ainsi surveiller l’état de votre application dans un environnement de production,</span><span class="sxs-lookup"><span data-stu-id="48712-134">This lets you monitor the status of your application in a production environment.</span></span> <span data-ttu-id="48712-135">ce qui est particulièrement important dans une application qui utilise plusieurs composants s’exécutant sur plusieurs ordinateurs.</span><span class="sxs-lookup"><span data-stu-id="48712-135">This is especially important in a business application that uses multiple components running on multiple computers.</span></span> <span data-ttu-id="48712-136">Vous pouvez contrôler la manière dont les commutateurs sont utilisés après le déploiement par le biais du fichier de configuration.</span><span class="sxs-lookup"><span data-stu-id="48712-136">You can control how the switches are used after deployment through the configuration file.</span></span> <span data-ttu-id="48712-137">Pour plus d’informations, consultez [Guide pratique pour créer, initialiser et configurer des commutateurs de suivi](how-to-create-initialize-and-configure-trace-switches.md).</span><span class="sxs-lookup"><span data-stu-id="48712-137">For more information, see [How to: Create, Initialize and Configure Trace Switches](how-to-create-initialize-and-configure-trace-switches.md).</span></span>  
  
 <span data-ttu-id="48712-138">Quand vous développez une application pour laquelle vous envisagez d'utiliser la fonctionnalité de traçage, vous incluez généralement des messages de traçage et de débogage dans le code de l'application.</span><span class="sxs-lookup"><span data-stu-id="48712-138">When you are developing an application for which you intend to use tracing, you usually include both tracing and debugging messages in the application code.</span></span> <span data-ttu-id="48712-139">Quand vous êtes prêt à déployer l’application, compilez votre build de mise en production sans activer l’attribut conditionnel **Debug**.</span><span class="sxs-lookup"><span data-stu-id="48712-139">When you are ready to deploy the application, you can compile your release build without turning on the **Debug** conditional attribute.</span></span> <span data-ttu-id="48712-140">Cependant, vous pouvez activer l’attribut conditionnel **Trace** pour que le compilateur inclue votre code de suivi dans le fichier exécutable.</span><span class="sxs-lookup"><span data-stu-id="48712-140">However, you can turn on the **Trace** conditional attribute so that the compiler includes your trace code in the executable.</span></span> <span data-ttu-id="48712-141">Pour plus d’informations, consultez [Guide pratique pour effectuer une compilation conditionnelle avec Trace et Debug](how-to-compile-conditionally-with-trace-and-debug.md).</span><span class="sxs-lookup"><span data-stu-id="48712-141">For more information, see [How to: Compile Conditionally with Trace and Debug](how-to-compile-conditionally-with-trace-and-debug.md).</span></span>  
  
### <a name="phases-of-code-tracing"></a><span data-ttu-id="48712-142">Phases du traçage de code</span><span class="sxs-lookup"><span data-stu-id="48712-142">Phases of Code Tracing</span></span>  
 <span data-ttu-id="48712-143">Le traçage de code comprend les trois phases suivantes :</span><span class="sxs-lookup"><span data-stu-id="48712-143">There are three phases of code tracing:</span></span>  
  
1. <span data-ttu-id="48712-144">**Instrumentation** : vous ajoutez le code de suivi à votre application.</span><span class="sxs-lookup"><span data-stu-id="48712-144">**Instrumentation** — you add trace code to your application.</span></span>  
  
2. <span data-ttu-id="48712-145">**Suivi** : le code de suivi écrit les informations vers la cible spécifiée.</span><span class="sxs-lookup"><span data-stu-id="48712-145">**Tracing** — the tracing code writes information to the specified target.</span></span>  
  
3. <span data-ttu-id="48712-146">**Analyse** : vous évaluez les informations de suivi pour identifier et comprendre les problèmes potentiels dans l’application.</span><span class="sxs-lookup"><span data-stu-id="48712-146">**Analysis** — you evaluate the tracing information to identify and understand problems in the application.</span></span>  
  
 <span data-ttu-id="48712-147">Durant le développement, toutes les méthodes de sortie de débogage et de traçage écrivent les informations par défaut dans la fenêtre Sortie de Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="48712-147">During development, all debug and trace output methods write information to the Output window in Visual Studio by default.</span></span> <span data-ttu-id="48712-148">Dans une application déployée, les méthodes écrivent les informations de traçage vers les cibles de votre choix.</span><span class="sxs-lookup"><span data-stu-id="48712-148">In a deployed application, the methods write tracing information to the targets you specify.</span></span> <span data-ttu-id="48712-149">Pour plus d’informations sur la spécification d’une cible de sortie pour le suivi ou le débogage, consultez [Écouteurs de suivi](trace-listeners.md).</span><span class="sxs-lookup"><span data-stu-id="48712-149">For more information on specifying an output target for tracing or debugging, see [Trace Listeners](trace-listeners.md).</span></span>  
  
 <span data-ttu-id="48712-150">La section suivante décrit les principales étapes généralement suivies lors du traçage pour analyser et corriger des problèmes potentiels dans des applications déployées.</span><span class="sxs-lookup"><span data-stu-id="48712-150">The following is an overall view of the major steps typically involved in using tracing to analyze and correct potential problems in deployed applications.</span></span> <span data-ttu-id="48712-151">Pour plus d'informations sur ces étapes, voir les liens appropriés.</span><span class="sxs-lookup"><span data-stu-id="48712-151">For more information on how to perform these steps, see the appropriate link.</span></span>  
  
##### <a name="to-use-tracing-in-an-application"></a><span data-ttu-id="48712-152">Pour utiliser le traçage dans une application</span><span class="sxs-lookup"><span data-stu-id="48712-152">To use tracing in an application</span></span>  
  
1. <span data-ttu-id="48712-153">Déterminez la sortie de traçage que vous souhaitez obtenir sur place après avoir déployé l'application.</span><span class="sxs-lookup"><span data-stu-id="48712-153">Consider which tracing output you will want to receive onsite after you have deployed the application.</span></span>  
  
2. <span data-ttu-id="48712-154">Créez un jeu de commutateurs.</span><span class="sxs-lookup"><span data-stu-id="48712-154">Create a set of switches.</span></span> <span data-ttu-id="48712-155">Pour plus d’informations, consultez la rubrique [Procédure : configuration de commutateurs de trace](how-to-create-initialize-and-configure-trace-switches.md).</span><span class="sxs-lookup"><span data-stu-id="48712-155">For more information, see [How to: Configure Trace Switches](how-to-create-initialize-and-configure-trace-switches.md).</span></span>  
  
3. <span data-ttu-id="48712-156">Ajoutez les instructions de trace au code de l'application.</span><span class="sxs-lookup"><span data-stu-id="48712-156">Add the trace statements to the application code.</span></span>  
  
4. <span data-ttu-id="48712-157">Déterminez l'emplacement d'affichage de la sortie de traçage et ajoutez les écouteurs appropriés.</span><span class="sxs-lookup"><span data-stu-id="48712-157">Determine where you want the tracing output to appear and add the appropriate listeners.</span></span> <span data-ttu-id="48712-158">Pour plus d’informations, consultez [Création et initialisation d’écouteurs de suivi](how-to-create-and-initialize-trace-listeners.md).</span><span class="sxs-lookup"><span data-stu-id="48712-158">For more information, see [Creating and Initializing Trace Listeners](how-to-create-and-initialize-trace-listeners.md).</span></span>  
  
5. <span data-ttu-id="48712-159">Testez et déboguez votre application ainsi que le code de trace qu'elle contient.</span><span class="sxs-lookup"><span data-stu-id="48712-159">Test and debug your application and the tracing code it contains.</span></span>  
  
6. <span data-ttu-id="48712-160">Compilez l'application en code exécutable, en suivant l'une des procédures ci-dessous :</span><span class="sxs-lookup"><span data-stu-id="48712-160">Compile the application into executable code using one of the following procedures:</span></span>  
  
    - <span data-ttu-id="48712-161">Utilisez le menu **Générer** et la page **Déboguer** de la boîte de dialogue **Pages de propriétés** dans l’**Explorateur de solutions**.</span><span class="sxs-lookup"><span data-stu-id="48712-161">Use the **Build** menu along with the **Debug** page of the **Property Pages** dialog box in **Solution Explorer**.</span></span> <span data-ttu-id="48712-162">Procédez ainsi pour compiler votre application dans Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="48712-162">Use this when compiling in Visual Studio.</span></span>  
  
         <span data-ttu-id="48712-163">\- ou -</span><span class="sxs-lookup"><span data-stu-id="48712-163">\- or -</span></span>  
  
    - <span data-ttu-id="48712-164">Utilisez les directives du compilateur **Trace** et **Debug** pour la méthode de ligne de commande de compilation.</span><span class="sxs-lookup"><span data-stu-id="48712-164">Use the **Trace** and **Debug** compiler directives for the command-line method of compiling.</span></span> <span data-ttu-id="48712-165">Pour plus d’informations, consultez [Compilation conditionnelle avec Trace et Debug](how-to-compile-conditionally-with-trace-and-debug.md).</span><span class="sxs-lookup"><span data-stu-id="48712-165">For more information, see [Compiling Conditionally with Trace and Debug](how-to-compile-conditionally-with-trace-and-debug.md).</span></span> <span data-ttu-id="48712-166">Procédez ainsi pour compiler votre application à partir d'une ligne de commande.</span><span class="sxs-lookup"><span data-stu-id="48712-166">Use this when compiling from the command line.</span></span>  
  
7. <span data-ttu-id="48712-167">Si un problème survient au moment de l'exécution, activez le commutateur de trace approprié.</span><span class="sxs-lookup"><span data-stu-id="48712-167">If a problem occurs during run time, turn on the appropriate trace switch.</span></span> <span data-ttu-id="48712-168">Pour plus d’informations, consultez [Configuration des commutateurs de suivi](how-to-create-initialize-and-configure-trace-switches.md).</span><span class="sxs-lookup"><span data-stu-id="48712-168">For more information, see [Configuring Trace Switches](how-to-create-initialize-and-configure-trace-switches.md).</span></span>  
  
     <span data-ttu-id="48712-169">Le code de trace écrit les messages de traçage vers la cible spécifiée (par exemple, un écran, un fichier texte ou un journal des événements).</span><span class="sxs-lookup"><span data-stu-id="48712-169">The tracing code writes tracing messages to a specified target, for example, a screen, a text file, or an event log.</span></span> <span data-ttu-id="48712-170">Cette cible est déterminée par le type d’écouteur que vous avez inclus dans la collection **Trace.Listeners**.</span><span class="sxs-lookup"><span data-stu-id="48712-170">The type of listener you included in the **Trace.Listeners** collection determines the target.</span></span>  
  
8. <span data-ttu-id="48712-171">Analysez les messages de traçage pour identifier et comprendre les problèmes potentiels dans l'application.</span><span class="sxs-lookup"><span data-stu-id="48712-171">Analyze the tracing messages to identify and understand the problem in the application.</span></span>  
  
## <a name="trace-instrumentation-and-distributed-applications"></a><span data-ttu-id="48712-172">Instrumentation de traçage pour les applications distribuées</span><span class="sxs-lookup"><span data-stu-id="48712-172">Trace Instrumentation and Distributed Applications</span></span>  
 <span data-ttu-id="48712-173">Pendant la phase de création d'une application distribuée, il peut être difficile de tester l'application dans des conditions d'utilisation réelles.</span><span class="sxs-lookup"><span data-stu-id="48712-173">When you create a distributed application, you might find it difficult to test the application in the manner in which it will be used.</span></span> <span data-ttu-id="48712-174">Les équipes de développement ont rarement la possibilité de tester toutes les combinaisons de systèmes d'exploitation ou de navigateurs web (y compris toutes les versions localisées) ou de simuler un nombre élevé d'utilisateurs qui accéderont simultanément à l'application.</span><span class="sxs-lookup"><span data-stu-id="48712-174">Few development teams have the capability to test all possible combinations of operating systems or Web browsers (including all the localized language options), or to simulate the high number of users that will access the application at the same time.</span></span> <span data-ttu-id="48712-175">Vous ne pouvez donc pas tester la manière dont une application distribuée répondra à un fort trafic, à des configurations différentes et aux comportements propres à chaque utilisateur final.</span><span class="sxs-lookup"><span data-stu-id="48712-175">Under these circumstances, you cannot test how a distributed application will respond to high volumes, different setups, and unique end-user behaviors.</span></span> <span data-ttu-id="48712-176">Par ailleurs, vous ne pouvez pas interagir directement avec toutes les parties de l'application distribuée, ni afficher leur activité, car beaucoup d'entre elles ne possèdent pas l'interface utilisateur nécessaire.</span><span class="sxs-lookup"><span data-stu-id="48712-176">Also, many parts of a distributed application have no user interface with which you can interact directly or view the activity of those parts.</span></span>  
  
 <span data-ttu-id="48712-177">Vous pouvez cependant contourner ce problème en permettant aux applications distribuées de décrire certains événements utiles pour les administrateurs système, en particulier les problèmes rencontrés. Il vous suffit d’*instrumenter* l’application, c’est-à-dire de placer des instructions de suivi à des endroits stratégiques de votre code.</span><span class="sxs-lookup"><span data-stu-id="48712-177">However, you can compensate for this by enabling distributed applications to describe certain events of interest to system administrators, especially things that go wrong, by *instrumenting* the application — that is, by placing trace statements at strategic locations in your code.</span></span> <span data-ttu-id="48712-178">Ainsi, si l'application a un comportement inattendu au moment de l'exécution (par exemple, un temps de réponse très lent), vous pouvez en déterminer la cause probable.</span><span class="sxs-lookup"><span data-stu-id="48712-178">Then if something unexpected occurs at run time (for example, excessively slow response time), you can determine the likely cause.</span></span>  
  
 <span data-ttu-id="48712-179">Grâce aux instructions de trace, vous ne perdez pas de temps à analyser, modifier et recompiler le code source d’origine, ni à essayer de reproduire l’erreur d’exécution dans l’environnement de débogage.</span><span class="sxs-lookup"><span data-stu-id="48712-179">With trace statements you can avoid the difficult task of examining the original source code, modifying it, recompiling, and attempting to produce the run-time error within the debugging environment.</span></span> <span data-ttu-id="48712-180">Rappelez-vous que l'instrumentation d'une application est utile pour afficher les erreurs, mais aussi pour surveiller les performances.</span><span class="sxs-lookup"><span data-stu-id="48712-180">Remember that you can instrument an application not only to display errors, but also to monitor performance.</span></span>  
  
## <a name="strategic-placement-of-trace-statements"></a><span data-ttu-id="48712-181">Placement stratégique des instructions de trace</span><span class="sxs-lookup"><span data-stu-id="48712-181">Strategic Placement of Trace Statements</span></span>  
 <span data-ttu-id="48712-182">Vous devez apporter un soin particulier lors du placement de vos instructions de suivi à utiliser au moment de l'exécution.</span><span class="sxs-lookup"><span data-stu-id="48712-182">You must exercise special care when placing your trace statements for use during run time.</span></span> <span data-ttu-id="48712-183">Vous devez réfléchir aux informations de suivi susceptibles d'être nécessaires dans une application déployée, de sorte que tous les scénarios de suivi probables soient convenablement traités.</span><span class="sxs-lookup"><span data-stu-id="48712-183">You must consider what tracing information is likely to be needed in a deployed application, so that all likely tracing scenarios are adequately covered.</span></span> <span data-ttu-id="48712-184">Toutefois, étant donné que les applications qui utilisent le suivi varient considérablement, il n'existe aucune recommandation générale concernant le positionnement stratégique du suivi.</span><span class="sxs-lookup"><span data-stu-id="48712-184">Because applications that use tracing vary widely, however, there are no general guidelines for strategic placement of tracing.</span></span> <span data-ttu-id="48712-185">Pour plus d’informations sur la façon de placer des instructions de suivi, consultez [Guide pratique pour ajouter des instructions de suivi au code d’application](how-to-add-trace-statements-to-application-code.md).</span><span class="sxs-lookup"><span data-stu-id="48712-185">For more information on placing trace statements, see [How to: Add Trace Statements to Application Code](how-to-add-trace-statements-to-application-code.md).</span></span>  
  
## <a name="output-from-tracing"></a><span data-ttu-id="48712-186">Sortie de trace</span><span class="sxs-lookup"><span data-stu-id="48712-186">Output from Tracing</span></span>  
 <span data-ttu-id="48712-187">La sortie de suivi est collectée par des objets appelés *écouteurs*.</span><span class="sxs-lookup"><span data-stu-id="48712-187">Trace output is collected by objects called *listeners*.</span></span> <span data-ttu-id="48712-188">Un écouteur est un objet qui reçoit la sortie de trace et qui l'écrit dans une cible de sortie (généralement une fenêtre, un journal ou un fichier texte).</span><span class="sxs-lookup"><span data-stu-id="48712-188">A listener is an object that receives trace output and writes it to an output device (usually a window, log, or text file).</span></span> <span data-ttu-id="48712-189">Quand un écouteur de la trace est créé, il est en principe ajouté à la collection <xref:System.Diagnostics.Trace.Listeners%2A?displayProperty=nameWithType>, ce qui permet à l’écouteur de recevoir toutes les données de sortie de trace.</span><span class="sxs-lookup"><span data-stu-id="48712-189">When a trace listener is created, it is typically added to the <xref:System.Diagnostics.Trace.Listeners%2A?displayProperty=nameWithType> collection, allowing the listener to receive all trace output.</span></span>  
  
 <span data-ttu-id="48712-190">Les informations de traçage sont toujours écrites au moins dans la cible de sortie <xref:System.Diagnostics.Trace> par défaut (<xref:System.Diagnostics.DefaultTraceListener>).</span><span class="sxs-lookup"><span data-stu-id="48712-190">Tracing information is always written at least to the default <xref:System.Diagnostics.Trace> output target, the <xref:System.Diagnostics.DefaultTraceListener>.</span></span> <span data-ttu-id="48712-191">Si, pour une raison quelconque, vous avez supprimé l'écouteur <xref:System.Diagnostics.DefaultTraceListener> sans avoir ajouté d'autres écouteurs à la collection <xref:System.Diagnostics.Trace.Listeners%2A>, vous ne recevrez plus de messages de trace.</span><span class="sxs-lookup"><span data-stu-id="48712-191">If for some reason you have deleted the <xref:System.Diagnostics.DefaultTraceListener> without adding any other listeners to the <xref:System.Diagnostics.Trace.Listeners%2A> collection, you will not receive any tracing messages.</span></span> <span data-ttu-id="48712-192">Pour plus d’informations, consultez [Écouteurs de suivi](trace-listeners.md).</span><span class="sxs-lookup"><span data-stu-id="48712-192">For more information, see [Trace Listeners](trace-listeners.md).</span></span>  
  
 <span data-ttu-id="48712-193">Les six membres <xref:System.Diagnostics.Debug> et méthodes <xref:System.Diagnostics.Trace> qui écrivent des informations de traçage sont répertoriés dans le tableau suivant.</span><span class="sxs-lookup"><span data-stu-id="48712-193">The six <xref:System.Diagnostics.Debug> members and <xref:System.Diagnostics.Trace> methods that write tracing information are listed in the following table.</span></span>  
  
|<span data-ttu-id="48712-194">Méthode</span><span class="sxs-lookup"><span data-stu-id="48712-194">Method</span></span>|<span data-ttu-id="48712-195">Output</span><span class="sxs-lookup"><span data-stu-id="48712-195">Output</span></span>|  
|------------|------------|  
|<span data-ttu-id="48712-196">**Assert**</span><span class="sxs-lookup"><span data-stu-id="48712-196">**Assert**</span></span>|<span data-ttu-id="48712-197">Le texte spécifié ou, si aucun texte n'est spécifié, la pile des appels.</span><span class="sxs-lookup"><span data-stu-id="48712-197">The specified text; or, if none is specified, the Call Stack.</span></span> <span data-ttu-id="48712-198">La sortie est écrite uniquement si la condition spécifiée en tant qu’argument dans l’instruction **Assert** a la valeur **false**.</span><span class="sxs-lookup"><span data-stu-id="48712-198">The output is written only if the condition specified as an argument in the **Assert** statement is **false**.</span></span>|  
|<span data-ttu-id="48712-199">**Échec**</span><span class="sxs-lookup"><span data-stu-id="48712-199">**Fail**</span></span>|<span data-ttu-id="48712-200">Le texte spécifié ou, si aucun texte n'est spécifié, la pile des appels.</span><span class="sxs-lookup"><span data-stu-id="48712-200">The specified text; or, if none is specified, the Call Stack.</span></span>|  
|<span data-ttu-id="48712-201">**Écrire**</span><span class="sxs-lookup"><span data-stu-id="48712-201">**Write**</span></span>|<span data-ttu-id="48712-202">Le texte spécifié.</span><span class="sxs-lookup"><span data-stu-id="48712-202">The specified text.</span></span>|  
|<span data-ttu-id="48712-203">**WriteIf**</span><span class="sxs-lookup"><span data-stu-id="48712-203">**WriteIf**</span></span>|<span data-ttu-id="48712-204">Le texte spécifié si la condition spécifiée en tant qu’argument dans l’instruction **WriteIf** est satisfaite.</span><span class="sxs-lookup"><span data-stu-id="48712-204">The specified text, if the condition specified as an argument in the **WriteIf** statement is satisfied.</span></span>|  
|<span data-ttu-id="48712-205">**WriteLine**</span><span class="sxs-lookup"><span data-stu-id="48712-205">**WriteLine**</span></span>|<span data-ttu-id="48712-206">Le texte spécifié et un retour chariot.</span><span class="sxs-lookup"><span data-stu-id="48712-206">The specified text and a carriage return.</span></span>|  
|<span data-ttu-id="48712-207">**WriteLineIf**</span><span class="sxs-lookup"><span data-stu-id="48712-207">**WriteLineIf**</span></span>|<span data-ttu-id="48712-208">Le texte spécifié et un retour chariot si la condition spécifiée en tant qu’argument dans l’instruction **WriteLineIf** est satisfaite.</span><span class="sxs-lookup"><span data-stu-id="48712-208">The specified text and a carriage return, if the condition specified as an argument in the **WriteLineIf** statement is satisfied.</span></span>|  
  
 <span data-ttu-id="48712-209">Tous les écouteurs dans la collection <xref:System.Diagnostics.Trace.Listeners%2A> reçoivent les messages décrits dans le tableau ci-dessus, mais les actions prises dépendent du type d'écouteur qui reçoit le message.</span><span class="sxs-lookup"><span data-stu-id="48712-209">All listeners in the <xref:System.Diagnostics.Trace.Listeners%2A> collection receive the messages described in the above table, but the actions taken may vary depending on what kind of listener receives the message.</span></span> <span data-ttu-id="48712-210">Par exemple, <xref:System.Diagnostics.DefaultTraceListener> affiche une boîte de dialogue d’assertion quand il reçoit une notification **Fail** ou une notification **Assert** d’échec, mais <xref:System.Diagnostics.TextWriterTraceListener> écrit simplement la sortie dans son flux.</span><span class="sxs-lookup"><span data-stu-id="48712-210">For example, the <xref:System.Diagnostics.DefaultTraceListener> displays an assertion dialog box when it receives a **Fail** or failed **Assert** notification, but a <xref:System.Diagnostics.TextWriterTraceListener> simply writes the output to its stream.</span></span>  
  
 <span data-ttu-id="48712-211">Vous pouvez générer des résultats personnalisés en implémentant votre propre écouteur.</span><span class="sxs-lookup"><span data-stu-id="48712-211">You can produce custom results by implementing your own listener.</span></span> <span data-ttu-id="48712-212">Par exemple, créez un écouteur de la trace personnalisé qui affiche les messages dans une boîte de message ou qui se connecte à une base de données pour ajouter les messages à une table.</span><span class="sxs-lookup"><span data-stu-id="48712-212">A custom trace listener might, for example, display the messages to a message box, or connect to a database to add messages to a table.</span></span> <span data-ttu-id="48712-213">Tous les écouteurs personnalisés doivent prendre en charge les six méthodes mentionnées ci-dessus.</span><span class="sxs-lookup"><span data-stu-id="48712-213">All custom listeners should support the six methods mentioned above.</span></span> <span data-ttu-id="48712-214">Pour plus d'informations sur la création d'écouteurs définis par le développeur, voir <xref:System.Diagnostics.TraceListener> dans la documentation .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="48712-214">For more information on creating developer-defined listeners, see <xref:System.Diagnostics.TraceListener> in the .NET Framework reference.</span></span>  
  
 <span data-ttu-id="48712-215">Les méthodes **Write** et **WriteLine** écrivent toujours le texte que vous spécifiez.</span><span class="sxs-lookup"><span data-stu-id="48712-215">The **Write** and **WriteLine** methods always write the text that you specify.</span></span> <span data-ttu-id="48712-216">**Assert**, **WriteIf** et **WriteLineIf** nécessitent un argument booléen qui contrôle si elles écrivent le texte spécifié. Elles écrivent le texte spécifié uniquement si l’expression a la valeur **true** (pour **WriteIf** et **WriteLineIf**) ou **false** (pour **Assert**).</span><span class="sxs-lookup"><span data-stu-id="48712-216">**Assert**, **WriteIf**, and **WriteLineIf** require a Boolean argument that controls whether or not they write the specified text; they write the specified text only if the expression is **true** (for **WriteIf** and **WriteLineIf**), or **false** (for **Assert**).</span></span> <span data-ttu-id="48712-217">La méthode **Fail** écrit toujours le texte spécifié.</span><span class="sxs-lookup"><span data-stu-id="48712-217">The **Fail** method always writes the specified text.</span></span> <span data-ttu-id="48712-218">Pour plus d’informations, consultez [Guide pratique pour ajouter des instructions de suivi au code d’application](how-to-add-trace-statements-to-application-code.md) et la référence .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="48712-218">For more information, see [How to: Add Trace Statements to Application Code](how-to-add-trace-statements-to-application-code.md) and the .NET Framework reference.</span></span>  
  
## <a name="security-concerns"></a><span data-ttu-id="48712-219">Problèmes de sécurité</span><span class="sxs-lookup"><span data-stu-id="48712-219">Security Concerns</span></span>  
 <span data-ttu-id="48712-220">Si vous ne désactivez pas le traçage et le débogage avant de déployer votre application ASP.NET, celle-ci peut dévoiler des informations exploitables par un programme malveillant.</span><span class="sxs-lookup"><span data-stu-id="48712-220">If you do not disable tracing and debugging before deploying an ASP.NET application, your application may reveal information about itself that could be exploited by a malicious program.</span></span> <span data-ttu-id="48712-221">Pour plus d’informations, consultez [Guide pratique pour effectuer une compilation conditionnelle avec Trace et Debug](how-to-compile-conditionally-with-trace-and-debug.md), [Compilation et génération](/visualstudio/ide/compiling-and-building-in-visual-studio) et [Guide pratique pour créer, initialiser et configurer des commutateurs de suivi](how-to-create-initialize-and-configure-trace-switches.md).</span><span class="sxs-lookup"><span data-stu-id="48712-221">For more information, see [How to: Compile Conditionally with Trace and Debug](how-to-compile-conditionally-with-trace-and-debug.md), [Compiling and Building](/visualstudio/ide/compiling-and-building-in-visual-studio), and [How to: Create, Initialize and Configure Trace Switches](how-to-create-initialize-and-configure-trace-switches.md).</span></span> <span data-ttu-id="48712-222">Vous pouvez également configurer le débogage via IIS (Internet Information Services).</span><span class="sxs-lookup"><span data-stu-id="48712-222">Debugging is also configurable through Internet Information Services (IIS).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="48712-223">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="48712-223">See also</span></span>

- <xref:System.Diagnostics.Trace>
- <xref:System.Diagnostics.TraceSource>
- [<span data-ttu-id="48712-224">Contrats de code</span><span class="sxs-lookup"><span data-stu-id="48712-224">Code Contracts</span></span>](code-contracts.md)
- [<span data-ttu-id="48712-225">Types de projets C#, F# et Visual Basic</span><span class="sxs-lookup"><span data-stu-id="48712-225">C#, F#, and Visual Basic Project Types</span></span>](/visualstudio/debugger/debugging-preparation-csharp-f-hash-and-visual-basic-project-types)
- [<span data-ttu-id="48712-226">Guide pratique pour ajouter des instructions de suivi au code d’application</span><span class="sxs-lookup"><span data-stu-id="48712-226">How to: Add Trace Statements to Application Code</span></span>](how-to-add-trace-statements-to-application-code.md)
- [<span data-ttu-id="48712-227">Guide pratique pour effectuer une compilation conditionnelle avec Trace et Debug</span><span class="sxs-lookup"><span data-stu-id="48712-227">How to: Compile Conditionally with Trace and Debug</span></span>](how-to-compile-conditionally-with-trace-and-debug.md)
- [<span data-ttu-id="48712-228">Guide pratique pour créer, initialiser et configurer des commutateurs de suivi</span><span class="sxs-lookup"><span data-stu-id="48712-228">How to: Create, Initialize and Configure Trace Switches</span></span>](how-to-create-initialize-and-configure-trace-switches.md)
- [<span data-ttu-id="48712-229">Guide pratique pour créer et initialiser des sources de suivi</span><span class="sxs-lookup"><span data-stu-id="48712-229">How to: Create and Initialize Trace Sources</span></span>](how-to-create-and-initialize-trace-sources.md)
- [<span data-ttu-id="48712-230">Guide pratique pour utiliser un TraceSource et des filtres avec des écouteurs de suivi</span><span class="sxs-lookup"><span data-stu-id="48712-230">How to: Use TraceSource and Filters with Trace Listeners</span></span>](how-to-use-tracesource-and-filters-with-trace-listeners.md)
- [<span data-ttu-id="48712-231">Écouteurs de suivi</span><span class="sxs-lookup"><span data-stu-id="48712-231">Trace Listeners</span></span>](trace-listeners.md)
- [<span data-ttu-id="48712-232">Commutateurs de suivi</span><span class="sxs-lookup"><span data-stu-id="48712-232">Trace Switches</span></span>](trace-switches.md)
