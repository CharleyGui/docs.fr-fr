---
title: Nouveautés dans Windows Communication Foundation 4.5
description: Cet article décrit les nouvelles fonctionnalités de Windows Communication Foundation (WCF) version 4,5 et fournit des liens vers des ressources supplémentaires.
ms.date: 03/30/2017
helpviewer_keywords:
- WCF [WCF], what's new
- Windows Communication Foundation [WCF], what's new
ms.assetid: 7e93fe73-af93-46b5-9f63-32f761ee40cf
ms.openlocfilehash: 76b52cedd1e2e64805e2ad47e582d07ca70415cc
ms.sourcegitcommit: d8020797a6657d0fbbdff362b80300815f682f94
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 11/24/2020
ms.locfileid: "95731551"
---
# <a name="whats-new-in-windows-communication-foundation-45"></a><span data-ttu-id="50292-103">Nouveautés dans Windows Communication Foundation 4.5</span><span class="sxs-lookup"><span data-stu-id="50292-103">What's New in Windows Communication Foundation 4.5</span></span>

<span data-ttu-id="50292-104">Cette rubrique décrit les nouvelles fonctionnalités de Windows Communication Foundation (WCF) version 4,5.</span><span class="sxs-lookup"><span data-stu-id="50292-104">This topic discusses features new to Windows Communication Foundation (WCF) version 4.5.</span></span>

## <a name="wcf-simplification-features"></a><span data-ttu-id="50292-105">Fonctionnalités de simplification de WCF</span><span class="sxs-lookup"><span data-stu-id="50292-105">WCF Simplification Features</span></span>

<span data-ttu-id="50292-106">Beaucoup de travail a été effectué pour faciliter le développement et la gestion des applications WCF 4.5.</span><span class="sxs-lookup"><span data-stu-id="50292-106">Much work has been done to make WCF 4.5 applications easier to develop and maintain.</span></span> <span data-ttu-id="50292-107">Pour plus d’informations, consultez [fonctionnalités de simplification de WCF](wcf-simplification-features.md).</span><span class="sxs-lookup"><span data-stu-id="50292-107">For more information, see [WCF Simplification Features](wcf-simplification-features.md).</span></span>

### <a name="task-based-async-support"></a><span data-ttu-id="50292-108">Prise en charge du modèle asynchrone basé sur les tâches</span><span class="sxs-lookup"><span data-stu-id="50292-108">Task-based Async Support</span></span>

<span data-ttu-id="50292-109">Par défaut, la fonctionnalité Ajouter une référence de service génère des méthodes d’opération de service asynchrone retournant des tâches.</span><span class="sxs-lookup"><span data-stu-id="50292-109">By default, Add Service Reference generates Task-returning async service operation methods.</span></span> <span data-ttu-id="50292-110">Cette opération est effectuée pour les méthodes synchrones et asynchrones.</span><span class="sxs-lookup"><span data-stu-id="50292-110">This is done for both synchronous and asynchronous methods.</span></span> <span data-ttu-id="50292-111">Cela vous permet d’appeler les opérations de service de façon asynchrone à l’aide du modèle de programmation asynchrone basé sur les tâches.</span><span class="sxs-lookup"><span data-stu-id="50292-111">This allows you to call the service operations asynchronously using the new Task based async programming model.</span></span> <span data-ttu-id="50292-112">Lorsque vous appelez la méthode de proxy générée, WCF construit un objet Tâche pour représenter l’opération asynchrone et retourne cette tâche.</span><span class="sxs-lookup"><span data-stu-id="50292-112">When you call the generated proxy method, WCF constructs a Task object to represent the asynchronous operation and returns that Task to you.</span></span> <span data-ttu-id="50292-113">La tâche se termine lorsque l’opération se termine.</span><span class="sxs-lookup"><span data-stu-id="50292-113">The Task completes when the operation completes.</span></span> <span data-ttu-id="50292-114">Lors de l’implémentation d’une opération asynchrone, vous pouvez l’implémenter en tant qu’opération asynchrone basée sur des tâches.</span><span class="sxs-lookup"><span data-stu-id="50292-114">When implementing an async operation you can implement it as a task-based async operation.</span></span> <span data-ttu-id="50292-115">Pour plus d’informations, consultez [opérations synchrones et asynchrones](synchronous-and-asynchronous-operations.md).</span><span class="sxs-lookup"><span data-stu-id="50292-115">For more information see, [Synchronous and Asynchronous Operations](synchronous-and-asynchronous-operations.md).</span></span>

### <a name="simplified-generated-configuration-files"></a><span data-ttu-id="50292-116">Fichiers de configuration générés simplifiés</span><span class="sxs-lookup"><span data-stu-id="50292-116">Simplified Generated Configuration Files</span></span>

<span data-ttu-id="50292-117">Lorsque vous ajoutez une référence de service dans Visual Studio ou utilisez l'outil SvcUtil.exe, un fichier de configuration client est généré.</span><span class="sxs-lookup"><span data-stu-id="50292-117">When you add a service reference in Visual Studio or use the SvcUtil.exe tool, a client configuration file is generated.</span></span> <span data-ttu-id="50292-118">Dans les versions antérieures de WCF, ces fichiers de configuration contenaient la valeur de chaque propriété de liaison et ce, même si sa valeur était la valeur par défaut.</span><span class="sxs-lookup"><span data-stu-id="50292-118">In previous versions of WCF these configuration files contained the value of every binding property even if its value is the default value.</span></span> <span data-ttu-id="50292-119">Dans WCF 4.5, les fichiers de configuration générés contiennent uniquement les propriétés de liaison qui ont une valeur non définie par défaut.</span><span class="sxs-lookup"><span data-stu-id="50292-119">In WCF 4.5 the generated configuration files contain only those binding properties that are set to a non-default value.</span></span>

<span data-ttu-id="50292-120">Pour plus d’informations, consultez [fonctionnalités de simplification de WCF](wcf-simplification-features.md).</span><span class="sxs-lookup"><span data-stu-id="50292-120">For more information, see [WCF Simplification Features](wcf-simplification-features.md).</span></span>

### <a name="contract-first-development"></a><span data-ttu-id="50292-121">Développement Contrat en premier</span><span class="sxs-lookup"><span data-stu-id="50292-121">Contract-First Development</span></span>

<span data-ttu-id="50292-122">WCF prend désormais en charge le développement Contrat en premier.</span><span class="sxs-lookup"><span data-stu-id="50292-122">WCF now has support for contract-first development.</span></span> <span data-ttu-id="50292-123">Le svcutil.exe dispose d’un commutateur/serviceContract qui vous permet de générer des contrats de service et de données à partir d’un document WSDL.</span><span class="sxs-lookup"><span data-stu-id="50292-123">The svcutil.exe has a /serviceContract switch which allows you to generate service and data contracts from a WSDL document.</span></span>

### <a name="add-service-reference-from-a-portable-subset-project"></a><span data-ttu-id="50292-124">Ajouter une référence de service d'un projet de sous-ensemble portable</span><span class="sxs-lookup"><span data-stu-id="50292-124">Add Service Reference from a Portable Subset Project</span></span>

<span data-ttu-id="50292-125">Les projets de sous-ensemble portables permettent aux programmeurs d’assembly .NET de maintenir une arborescence source unique et le système de génération tout en prenant en charge plusieurs plateformes .NET (Desktop, Silverlight, Windows Phone et Xbox).</span><span class="sxs-lookup"><span data-stu-id="50292-125">Portable subset projects enable .NET assembly programmers to maintain a single source tree and build system while still supporting multiple .NET platforms (desktop, Silverlight, Windows Phone, and Xbox).</span></span> <span data-ttu-id="50292-126">Les projets de sous-ensemble portables référencent uniquement les bibliothèques portables .NET qui sont des assemblys qui peuvent être utilisés sur n’importe quelle plateforme .NET.</span><span class="sxs-lookup"><span data-stu-id="50292-126">Portable subset projects only reference .NET portable libraries that are assemblies that can be used on any .NET platform.</span></span> <span data-ttu-id="50292-127">L'expérience du développeur est identique à celle de l'ajout d'une référence de service dans une autre application cliente WCF.</span><span class="sxs-lookup"><span data-stu-id="50292-127">The developer experience is the same as adding a service reference within any other WCF client application.</span></span> <span data-ttu-id="50292-128">Pour plus d’informations, consultez [Ajouter une référence de service dans un projet de sous-ensemble portable](add-service-reference-in-a-portable-subset-project.md).</span><span class="sxs-lookup"><span data-stu-id="50292-128">For more information, see [Add Service Reference in a Portable Subset Project](add-service-reference-in-a-portable-subset-project.md).</span></span>

### <a name="aspnet-compatibility-mode-default-changed"></a><span data-ttu-id="50292-129">Modification de la valeur par défaut pour le mode de compatibilité ASP.NET</span><span class="sxs-lookup"><span data-stu-id="50292-129">ASP.NET Compatibility Mode Default Changed</span></span>

<span data-ttu-id="50292-130">WCF fournit le mode de compatibilité ASP.NET pour accorder aux développeurs l'accès total aux fonctionnalités dans le pipeline HTTP ASP.NET lors de l'écriture des services WCF.</span><span class="sxs-lookup"><span data-stu-id="50292-130">WCF provides ASP.NET compatibility mode to grant developers full access to the features in the ASP.NET HTTP pipeline when writing WCF services.</span></span> <span data-ttu-id="50292-131">Pour utiliser ce mode, vous devez affecter la `aspNetCompatibilityEnabled` valeur true à l’attribut dans la [\<serviceHostingEnvironment>](../configure-apps/file-schema/wcf/servicehostingenvironment.md) section de web.config. En outre, tout service de cet appDomain doit avoir la `RequirementsMode` propriété <xref:System.ServiceModel.Activation.AspNetCompatibilityRequirementsAttribute> définie sur ou sur <xref:System.ServiceModel.Activation.AspNetCompatibilityRequirementsMode.Allowed> <xref:System.ServiceModel.Activation.AspNetCompatibilityRequirementsMode.Required> .</span><span class="sxs-lookup"><span data-stu-id="50292-131">To use this mode, you must set the `aspNetCompatibilityEnabled` attribute to true in the [\<serviceHostingEnvironment>](../configure-apps/file-schema/wcf/servicehostingenvironment.md) section of web.config. Additionally, any service in this appDomain needs to have the `RequirementsMode` property on its <xref:System.ServiceModel.Activation.AspNetCompatibilityRequirementsAttribute> set to <xref:System.ServiceModel.Activation.AspNetCompatibilityRequirementsMode.Allowed> or <xref:System.ServiceModel.Activation.AspNetCompatibilityRequirementsMode.Required>.</span></span> <span data-ttu-id="50292-132">La valeur par défaut <xref:System.ServiceModel.Activation.AspNetCompatibilityRequirementsAttribute> est maintenant <xref:System.ServiceModel.Activation.AspNetCompatibilityRequirementsMode.Allowed> .</span><span class="sxs-lookup"><span data-stu-id="50292-132">By default <xref:System.ServiceModel.Activation.AspNetCompatibilityRequirementsAttribute> is now set to <xref:System.ServiceModel.Activation.AspNetCompatibilityRequirementsMode.Allowed>.</span></span> <span data-ttu-id="50292-133">Pour plus d’informations, consultez [services WCF et ASP.net](./feature-details/wcf-services-and-aspnet.md).</span><span class="sxs-lookup"><span data-stu-id="50292-133">For more information, see [WCF Services and ASP.NET](./feature-details/wcf-services-and-aspnet.md).</span></span>

### <a name="new-transport-default-values"></a><span data-ttu-id="50292-134">Valeurs par défaut pour le nouveau transport</span><span class="sxs-lookup"><span data-stu-id="50292-134">New Transport Default Values</span></span>

<span data-ttu-id="50292-135">Afin de simplifier la configuration, plusieurs valeurs de propriété de transport par défaut ont été modifiées.</span><span class="sxs-lookup"><span data-stu-id="50292-135">In order to simplify configuration a number of transport property default values have changed.</span></span> <span data-ttu-id="50292-136">Pour plus d’informations, consultez [fonctionnalités de simplification de WCF](wcf-simplification-features.md).</span><span class="sxs-lookup"><span data-stu-id="50292-136">For more information, see [WCF Simplification Features](wcf-simplification-features.md).</span></span>

### <a name="xmldictionaryreaderquotas"></a><span data-ttu-id="50292-137">XmlDictionaryReaderQuotas</span><span class="sxs-lookup"><span data-stu-id="50292-137">XmlDictionaryReaderQuotas</span></span>

<span data-ttu-id="50292-138"><xref:System.Xml.XmlDictionaryReaderQuotas> contient des valeurs de quota configurables pour les lecteurs du dictionnaire XML qui limitent la quantité de mémoire utilisée par un encodeur lors de la création d'un message.</span><span class="sxs-lookup"><span data-stu-id="50292-138"><xref:System.Xml.XmlDictionaryReaderQuotas> contains configurable quota values for XML dictionary readers which limit the amount of memory utilized by an encoder while creating a message.</span></span> <span data-ttu-id="50292-139">Bien que ces quotas soient configurables, les valeurs par défaut ont changé pour réduire le risque qu'un développeur doivent les définir explicitement.</span><span class="sxs-lookup"><span data-stu-id="50292-139">While these quotas are configurable, the default values have changed to lessen the possibility that a developer will have to set them explicitly.</span></span> <span data-ttu-id="50292-140">Pour plus d’informations, consultez [fonctionnalités de simplification de WCF](wcf-simplification-features.md).</span><span class="sxs-lookup"><span data-stu-id="50292-140">For more information, see [WCF Simplification Features](wcf-simplification-features.md).</span></span>

### <a name="wcf-configuration-validation"></a><span data-ttu-id="50292-141">Validation de configuration WCF</span><span class="sxs-lookup"><span data-stu-id="50292-141">WCF Configuration Validation</span></span>

<span data-ttu-id="50292-142">Dans le cadre du processus de génération dans Visual Studio, les fichiers de configuration WCF sont maintenant validés pour les attributs définis dans le projet.</span><span class="sxs-lookup"><span data-stu-id="50292-142">As part of the build process within Visual Studio, WCF configuration files are now validated for attributes defined within the project.</span></span> <span data-ttu-id="50292-143">Une liste d'erreurs ou d'avertissements de validation s'affiche dans Visual Studio si la validation échoue.</span><span class="sxs-lookup"><span data-stu-id="50292-143">A list of validation errors or warnings is displayed in Visual Studio if the validation fails.</span></span>

### <a name="xml-editor-tooltips"></a><span data-ttu-id="50292-144">Info-bulles de l'éditeur XML</span><span class="sxs-lookup"><span data-stu-id="50292-144">XML Editor Tooltips</span></span>

<span data-ttu-id="50292-145">Pour aider les développeurs de services WCF nouveaux et existants à configurer leurs services, l'Éditeur XML de Visual Studio fournit maintenant des info-bulles pour chaque élément de configuration et ses propriétés qui fait partie du fichier de configuration du service.</span><span class="sxs-lookup"><span data-stu-id="50292-145">In order to help new and existing WCF service developers to configure their services, the Visual Studio XML editor now provides tooltips for every configuration element and its properties that is part of the service configuration file.</span></span>

## <a name="streaming-improvements"></a><span data-ttu-id="50292-146">Améliorations de la diffusion en continu</span><span class="sxs-lookup"><span data-stu-id="50292-146">Streaming Improvements</span></span>

<span data-ttu-id="50292-147">Ajout de la prise en charge de la diffusion en continu asynchrone là où le côté expéditeur ne bloque pas les threads si le côté destinataire ne lit pas ou n'est pas lent dans la lecture, ce qui accroît l'extensibilité.</span><span class="sxs-lookup"><span data-stu-id="50292-147">Added support for true asynchronous streaming where the send side now does not block threads if the receive side is not reading or slow in reading thereby increasing scalability.</span></span> <span data-ttu-id="50292-148">Suppression de la limitation de mise en mémoire tampon des messages lorsqu'un client envoie un message transmis en continu à un service WCF hébergé par IIS.</span><span class="sxs-lookup"><span data-stu-id="50292-148">Removed the limitation of message buffering when a client sends a streamed message to an IIS hosted WCF service.</span></span> <span data-ttu-id="50292-149">Pour plus d’informations, consultez [fonctionnalités de simplification de WCF](wcf-simplification-features.md).</span><span class="sxs-lookup"><span data-stu-id="50292-149">For more information, see [WCF Simplification Features](wcf-simplification-features.md).</span></span>

## <a name="simplifying-exposing-an-endpoint-over-https-with-iis"></a><span data-ttu-id="50292-150">Simplifier l'exposition d'un point de terminaison sur HTTPS avec IIS</span><span class="sxs-lookup"><span data-stu-id="50292-150">Simplifying Exposing an Endpoint Over HTTPS with IIS</span></span>

<span data-ttu-id="50292-151">Un mappage de protocole HTTPS a été ajouté pour simplifier l'exposition d'un point de terminaison sur HTTPS.</span><span class="sxs-lookup"><span data-stu-id="50292-151">An HTTPS protocol mapping has been added to simplify exposing an endpoint over HTTPS.</span></span> <span data-ttu-id="50292-152">Pour activer un point de terminaison HTTPS, assurez-vous que votre site web dispose d’une liaison HTTPS et d’un certificat SSL configurés, puis activez HTTPS pour le répertoire virtuel qui héberge le service.</span><span class="sxs-lookup"><span data-stu-id="50292-152">To enable an HTTPS endpoint, ensure your website has an HTTPS binding and SSL certificate configured, and then simply enable HTTPS for the virtual directory that hosts the service.</span></span> <span data-ttu-id="50292-153">Si les métadonnées sont activées pour le service, elles seront également exposées via HTTPS.</span><span class="sxs-lookup"><span data-stu-id="50292-153">If metadata is enabled for the service, it will be exposed over HTTPS as well.</span></span>

## <a name="generating-a-single-wsdl-document"></a><span data-ttu-id="50292-154">Génération d'un seul document WSDL</span><span class="sxs-lookup"><span data-stu-id="50292-154">Generating a Single WSDL Document</span></span>

<span data-ttu-id="50292-155">Certaines piles de traitement WSDL tierces ne peuvent pas traiter les documents WSDL qui dépendent d'autres documents via un xsd:import.</span><span class="sxs-lookup"><span data-stu-id="50292-155">Some third-party WSDL processing stacks are not able to process WSDL documents that have dependencies on other documents through a xsd:import.</span></span> <span data-ttu-id="50292-156">WCF vous permet maintenant de spécifier que toutes les informations WSDL doivent être retournées dans un document unique.</span><span class="sxs-lookup"><span data-stu-id="50292-156">WCF now allows you to specify that all WSDL information be returned in a single document.</span></span> <span data-ttu-id="50292-157">Pour demander un document WSDL unique, ajoutez «  ? singleWSDL » à l’URI lors de la demande de métadonnées du service.</span><span class="sxs-lookup"><span data-stu-id="50292-157">To request a single WSDL document append "?singleWSDL" to the URI when requesting metadata from the service.</span></span>

## <a name="websocket-support"></a><span data-ttu-id="50292-158">Prise en charge de WebSocket</span><span class="sxs-lookup"><span data-stu-id="50292-158">WebSocket Support</span></span>

<span data-ttu-id="50292-159">WebSockets est une technologie qui fournit la véritable communication bidirectionnelle sur les ports 80 et 443 avec des caractéristiques de performances semblables à TCP.</span><span class="sxs-lookup"><span data-stu-id="50292-159">WebSockets is a technology that provides true bidirectional communication over ports 80 and 443 with performance characteristics similar to TCP.</span></span> <span data-ttu-id="50292-160">Deux nouvelles liaisons ont été ajoutées pour prendre en charge les communications via un transport WebSocket.</span><span class="sxs-lookup"><span data-stu-id="50292-160">Two new bindings have been added to support communication over a WebSocket transport.</span></span> <span data-ttu-id="50292-161">Voir <xref:System.ServiceModel.NetHttpBinding> et <xref:System.ServiceModel.NetHttpsBinding>.</span><span class="sxs-lookup"><span data-stu-id="50292-161"><xref:System.ServiceModel.NetHttpBinding> and <xref:System.ServiceModel.NetHttpsBinding>.</span></span> <span data-ttu-id="50292-162">Pour plus d’informations, consultez : [liaisons fournies par le système](system-provided-bindings.md).</span><span class="sxs-lookup"><span data-stu-id="50292-162">For more information see: [System-Provided Bindings](system-provided-bindings.md).</span></span>

## <a name="new-transport-default-values"></a><span data-ttu-id="50292-163">Valeurs par défaut pour le nouveau transport</span><span class="sxs-lookup"><span data-stu-id="50292-163">New Transport Default Values</span></span>

<span data-ttu-id="50292-164">Le tableau suivant décrit les paramètres qui ont changé et où trouver des informations supplémentaires.</span><span class="sxs-lookup"><span data-stu-id="50292-164">The following table describes the settings that have changed and where to find additional information.</span></span>

|<span data-ttu-id="50292-165">Propriété</span><span class="sxs-lookup"><span data-stu-id="50292-165">Property</span></span>|<span data-ttu-id="50292-166">Activé</span><span class="sxs-lookup"><span data-stu-id="50292-166">On</span></span>|<span data-ttu-id="50292-167">Nouvelle valeur par défaut</span><span class="sxs-lookup"><span data-stu-id="50292-167">New Default</span></span>|<span data-ttu-id="50292-168">Pour plus d’informations, consultez</span><span class="sxs-lookup"><span data-stu-id="50292-168">For more information see</span></span>|
|--------------|--------|-----------------|------------------------------|
|<span data-ttu-id="50292-169">channelInitializationTimeout</span><span class="sxs-lookup"><span data-stu-id="50292-169">channelInitializationTimeout</span></span>|<xref:System.ServiceModel.NetTcpBinding>|<span data-ttu-id="50292-170">30 secondes</span><span class="sxs-lookup"><span data-stu-id="50292-170">30 seconds</span></span>|<xref:System.ServiceModel.Channels.ConnectionOrientedTransportBindingElement.ChannelInitializationTimeout%2A>|
|<span data-ttu-id="50292-171">listenBacklog</span><span class="sxs-lookup"><span data-stu-id="50292-171">listenBacklog</span></span>|<xref:System.ServiceModel.NetTcpBinding>|<span data-ttu-id="50292-172">12 \* nombre de processeurs</span><span class="sxs-lookup"><span data-stu-id="50292-172">12 \* number of processors</span></span>|<xref:System.ServiceModel.NetTcpBinding.ListenBacklog%2A>|
|<span data-ttu-id="50292-173">maxPendingAccepts</span><span class="sxs-lookup"><span data-stu-id="50292-173">maxPendingAccepts</span></span>|<span data-ttu-id="50292-174">ConnectionOrientedTransportBindingElement</span><span class="sxs-lookup"><span data-stu-id="50292-174">ConnectionOrientedTransportBindingElement</span></span><br /><br /> <span data-ttu-id="50292-175">SMSvcHost.exe</span><span class="sxs-lookup"><span data-stu-id="50292-175">SMSvcHost.exe</span></span>|<span data-ttu-id="50292-176">2 \* nombre de processeurs pour le transport</span><span class="sxs-lookup"><span data-stu-id="50292-176">2 \* number of processors for transport</span></span><br /><br /> <span data-ttu-id="50292-177">4 \* nombre de processeurs pour SMSvcHost.exe</span><span class="sxs-lookup"><span data-stu-id="50292-177">4 \* number of processors for SMSvcHost.exe</span></span>|<span data-ttu-id="50292-178"><xref:System.ServiceModel.Channels.ConnectionOrientedTransportBindingElement.MaxPendingAccepts%2A> [Configuration du service de partage de ports Net.TCP](./feature-details/configuring-the-net-tcp-port-sharing-service.md)</span><span class="sxs-lookup"><span data-stu-id="50292-178"><xref:System.ServiceModel.Channels.ConnectionOrientedTransportBindingElement.MaxPendingAccepts%2A> [Configuring the Net.TCP Port Sharing Service](./feature-details/configuring-the-net-tcp-port-sharing-service.md)</span></span>|
|<span data-ttu-id="50292-179">maxPendingConnections</span><span class="sxs-lookup"><span data-stu-id="50292-179">maxPendingConnections</span></span>|<span data-ttu-id="50292-180">ConnectionOrientedTransportBindingElement</span><span class="sxs-lookup"><span data-stu-id="50292-180">ConnectionOrientedTransportBindingElement</span></span>|<span data-ttu-id="50292-181">12 \* nombre de processeurs</span><span class="sxs-lookup"><span data-stu-id="50292-181">12 \* number of processors</span></span>|<xref:System.ServiceModel.Channels.ConnectionOrientedTransportBindingElement.MaxPendingConnections%2A>|
|<span data-ttu-id="50292-182">receiveTimeout</span><span class="sxs-lookup"><span data-stu-id="50292-182">receiveTimeout</span></span>|<span data-ttu-id="50292-183">SMSvcHost.exe</span><span class="sxs-lookup"><span data-stu-id="50292-183">SMSvcHost.exe</span></span>|<span data-ttu-id="50292-184">30 secondes</span><span class="sxs-lookup"><span data-stu-id="50292-184">30 seconds</span></span>|[<span data-ttu-id="50292-185">Configuration du service de partage de ports Net.TCP</span><span class="sxs-lookup"><span data-stu-id="50292-185">Configuring the Net.TCP Port Sharing Service</span></span>](./feature-details/configuring-the-net-tcp-port-sharing-service.md)|

## <a name="xml-editor-tooltips"></a><span data-ttu-id="50292-186">Info-bulles de l'éditeur XML</span><span class="sxs-lookup"><span data-stu-id="50292-186">XML Editor Tooltips</span></span>

<span data-ttu-id="50292-187">Pour aider les développeurs de services WCF nouveaux et existants à configurer leurs services, l'Éditeur XML de Visual Studio fournit maintenant des info-bulles pour chaque élément de configuration et ses propriétés qui fait partie du fichier de configuration du service.</span><span class="sxs-lookup"><span data-stu-id="50292-187">In order to help new and existing WCF service developers to configure their services, the Visual Studio XML editor now provides tooltips for every configuration element and its properties that is part of the service configuration file.</span></span>

## <a name="configuring-wcf-services-in-code"></a><span data-ttu-id="50292-188">Configuration de services WCF dans le code</span><span class="sxs-lookup"><span data-stu-id="50292-188">Configuring WCF Services in Code</span></span>

<span data-ttu-id="50292-189">Windows Communication Foundation (WCF) permet aux développeurs de configurer des services à l’aide de fichiers de configuration ou de code.</span><span class="sxs-lookup"><span data-stu-id="50292-189">Windows Communication Foundation (WCF) allows developers to configure services using configuration files or code.</span></span> <span data-ttu-id="50292-190">Les fichiers de configuration sont utiles lorsqu'un service doit être configuré après avoir été déployé.</span><span class="sxs-lookup"><span data-stu-id="50292-190">Configuration files are useful when a service needs to be configured after being deployed.</span></span> <span data-ttu-id="50292-191">Lorsqu'il utilise des fichiers de configuration, un professionnel de l'informatique doit uniquement mettre à jour le fichier de configuration, aucune recompilation n'est nécessaire.</span><span class="sxs-lookup"><span data-stu-id="50292-191">When using configuration files, an IT professional only needs to update the configuration file, no recompilation is required.</span></span> <span data-ttu-id="50292-192">Les fichiers de configuration, toutefois, peuvent être complexes et difficiles à gérer.</span><span class="sxs-lookup"><span data-stu-id="50292-192">Configuration files, however, can be complex and difficult to maintain.</span></span> <span data-ttu-id="50292-193">Il n'existe aucune prise en charge du débogage de fichiers de configuration et les éléments de configuration sont référencés par des noms. La création de fichiers de configuration est donc susceptible d'engendrer des erreurs et difficile.</span><span class="sxs-lookup"><span data-stu-id="50292-193">There is no support for debugging configuration files and configuration elements are referenced by names which makes authoring configuration files error-prone and difficult.</span></span> <span data-ttu-id="50292-194">WCF vous permet également de configurer des services dans le code.</span><span class="sxs-lookup"><span data-stu-id="50292-194">WCF also allows you to configure services in code.</span></span> <span data-ttu-id="50292-195">Dans les versions précédentes de WCF (4,0 et versions antérieures) la configuration des services dans le code était facile dans les scénarios auto-hébergés, la <xref:System.ServiceModel.ServiceHost> classe vous permettait de configurer des points de terminaison et des comportements avant d’appeler ServiceHost. Open.</span><span class="sxs-lookup"><span data-stu-id="50292-195">In earlier versions of WCF (4.0 and earlier) configuring services in code was easy in self-hosted scenarios, the <xref:System.ServiceModel.ServiceHost> class allowed you to configure endpoints and behaviors prior to calling ServiceHost.Open.</span></span> <span data-ttu-id="50292-196">Dans les scénarios hébergés sur le Web, toutefois, vous n'avez pas accès à la classe <xref:System.ServiceModel.ServiceHost>.</span><span class="sxs-lookup"><span data-stu-id="50292-196">In web hosted scenarios, however, you don’t have access to the <xref:System.ServiceModel.ServiceHost> class.</span></span> <span data-ttu-id="50292-197">Pour configurer un service hébergé sur le Web vous deviez créer un `System.ServiceModel.ServiceHostFactory` qui créait le <xref:System.ServiceModel.Activation.ServiceHostFactory> et effectuait la configuration nécessaire.</span><span class="sxs-lookup"><span data-stu-id="50292-197">To configure a web hosted service you were required to create a `System.ServiceModel.ServiceHostFactory` that created the <xref:System.ServiceModel.Activation.ServiceHostFactory> and performed any needed configuration.</span></span> <span data-ttu-id="50292-198">À compter de .NET Framework 4,5, WCF offre un moyen plus simple de configurer des services auto-hébergés et hébergés sur le Web dans le code.</span><span class="sxs-lookup"><span data-stu-id="50292-198">Starting with .NET Framework 4.5, WCF provides an easier way to configure both self-hosted and web hosted services in code.</span></span> <span data-ttu-id="50292-199">Pour plus d’informations, consultez [Configuration des services WCF dans le code](configuring-wcf-services-in-code.md).</span><span class="sxs-lookup"><span data-stu-id="50292-199">For more information, see [Configuring WCF Services in Code](configuring-wcf-services-in-code.md).</span></span>

## <a name="channelfactory-caching"></a><span data-ttu-id="50292-200">Mise en cache de ChannelFactory</span><span class="sxs-lookup"><span data-stu-id="50292-200">ChannelFactory Caching</span></span>

<span data-ttu-id="50292-201">Les applications clientes WCF utilisent la classe <xref:System.ServiceModel.ChannelFactory%601> pour créer un canal de communication avec un service WCF.</span><span class="sxs-lookup"><span data-stu-id="50292-201">WCF client applications use the <xref:System.ServiceModel.ChannelFactory%601> class to create a communication channel with a WCF service.</span></span> <span data-ttu-id="50292-202">La création d'instances <xref:System.ServiceModel.ChannelFactory%601> entraîne une certaine charge, car elle comporte les opérations suivantes :</span><span class="sxs-lookup"><span data-stu-id="50292-202">Creating <xref:System.ServiceModel.ChannelFactory%601> instances incurs some overhead because it involves the following operations:</span></span>

1. <span data-ttu-id="50292-203">Construction de l’arborescence <xref:System.ServiceModel.Description.ContractDescription></span><span class="sxs-lookup"><span data-stu-id="50292-203">Constructing the <xref:System.ServiceModel.Description.ContractDescription> tree</span></span>

2. <span data-ttu-id="50292-204">Refléter tous les types CLR requis</span><span class="sxs-lookup"><span data-stu-id="50292-204">Reflecting all of the required CLR types</span></span>

3. <span data-ttu-id="50292-205">Construction de la pile de canaux</span><span class="sxs-lookup"><span data-stu-id="50292-205">Constructing the channel stack</span></span>

4. <span data-ttu-id="50292-206">Suppression de ressources</span><span class="sxs-lookup"><span data-stu-id="50292-206">Disposing of resources</span></span>

<span data-ttu-id="50292-207">Pour réduire cette surcharge, WCF peut mettre en cache les fabriques de canaux lorsque vous utilisez un proxy du client WCF.</span><span class="sxs-lookup"><span data-stu-id="50292-207">To help minimize this overhead, WCF can cache channel factories when you are using a WCF client proxy.</span></span> <span data-ttu-id="50292-208">Pour plus d’informations, consultez [fabrication de canaux et mise en cache](./feature-details/channel-factory-and-caching.md).</span><span class="sxs-lookup"><span data-stu-id="50292-208">For more information, see [Channel Factory and Caching](./feature-details/channel-factory-and-caching.md).</span></span>

## <a name="compression-and-the-binary-encoder"></a><span data-ttu-id="50292-209">Compression et encodeur binaire</span><span class="sxs-lookup"><span data-stu-id="50292-209">Compression and the Binary Encoder</span></span>

<span data-ttu-id="50292-210">Depuis WCF 4.5, l'encodeur binaire WCF ajoute la prise en charge de la compression.</span><span class="sxs-lookup"><span data-stu-id="50292-210">Beginning with WCF 4.5 the WCF binary encoder adds support for compression.</span></span> <span data-ttu-id="50292-211">Le type de compression est configuré avec la propriété <xref:System.ServiceModel.Channels.BinaryMessageEncodingBindingElement.CompressionFormat%2A>.</span><span class="sxs-lookup"><span data-stu-id="50292-211">The type of compression is configured with the <xref:System.ServiceModel.Channels.BinaryMessageEncodingBindingElement.CompressionFormat%2A> property.</span></span> <span data-ttu-id="50292-212">Le client et le service doivent configurer la propriété <xref:System.ServiceModel.Channels.BinaryMessageEncodingBindingElement.CompressionFormat%2A>.</span><span class="sxs-lookup"><span data-stu-id="50292-212">Both the client and the service must configure the <xref:System.ServiceModel.Channels.BinaryMessageEncodingBindingElement.CompressionFormat%2A> property.</span></span> <span data-ttu-id="50292-213">La compression fonctionnera pour les protocoles HTTP, HTTPS et TCP.</span><span class="sxs-lookup"><span data-stu-id="50292-213">Compression will work for HTTP, HTTPS, and TCP protocols.</span></span> <span data-ttu-id="50292-214">Si un client détermine l'utilisation de la compression, mais le service ne la prend pas en charge, une exception de protocole est levée indiquant une incompatibilité de protocole.</span><span class="sxs-lookup"><span data-stu-id="50292-214">If a client specifies to use compression but the service does not support it a protocol exception is thrown indicating a protocol mismatch.</span></span> <span data-ttu-id="50292-215">Pour plus d’informations, consultez [choix d’un encodeur de message](./feature-details/choosing-a-message-encoder.md).</span><span class="sxs-lookup"><span data-stu-id="50292-215">For more information, see [Choosing a Message Encoder](./feature-details/choosing-a-message-encoder.md).</span></span>

## <a name="udp"></a><span data-ttu-id="50292-216">UDP</span><span class="sxs-lookup"><span data-stu-id="50292-216">UDP</span></span>

<span data-ttu-id="50292-217">Une prise en charge a été ajoutée pour un transport UDP qui permet aux développeurs d’écrire des services qui utilisent la messagerie « incendie et oublié ».</span><span class="sxs-lookup"><span data-stu-id="50292-217">Support has been added for a UDP transport which allows developers to write services that use "fire and forget" messaging.</span></span> <span data-ttu-id="50292-218">Un client envoie un message à un service et n'attend aucune réponse de ce dernier.</span><span class="sxs-lookup"><span data-stu-id="50292-218">A client sends a message to a service and expects no response from the service.</span></span>

## <a name="multiple-authentication-support"></a><span data-ttu-id="50292-219">Prise en charge de plusieurs authentifications</span><span class="sxs-lookup"><span data-stu-id="50292-219">Multiple Authentication Support</span></span>

<span data-ttu-id="50292-220">La prise en charge a été ajoutée pour prendre en charge plusieurs modes d'authentification, tels que pris en charge par IIS, sur un point de terminaison unique WCF lorsque vous utilisez le transport et la sécurité de transport HTTP.</span><span class="sxs-lookup"><span data-stu-id="50292-220">Support has been added to support multiple authentication modes, as supported by IIS, on a single WCF endpoint when using the HTTP transport and transport security.</span></span> <span data-ttu-id="50292-221">IIS vous permet d'activer plusieurs modes d'authentification sur un répertoire virtuel, cette fonctionnalité permet à un seul point de terminaison WCF de prendre en charge plusieurs modes d'authentification activés pour le répertoire virtuel où le service WCF est hébergé.</span><span class="sxs-lookup"><span data-stu-id="50292-221">IIS allows you to enable multiple authentication modes on a virtual directory, this feature allows a single WCF endpoint to support the multiple authentication modes enabled for the virtual directory where the WCF service is hosted.</span></span>

## <a name="idn-support"></a><span data-ttu-id="50292-222">Prise en charge IDN</span><span class="sxs-lookup"><span data-stu-id="50292-222">IDN Support</span></span>

<span data-ttu-id="50292-223">La prise en charge a été ajoutée pour tenir compte des services WCF avec des noms IDN (Internationalized Domain Names).</span><span class="sxs-lookup"><span data-stu-id="50292-223">Support has been added to allow for WCF services with Internationalized Domain Names.</span></span> <span data-ttu-id="50292-224">Pour plus d’informations [, consultez WCF et noms de domaine internationalisés](./feature-details/wcf-and-internationalized-domain-names.md).</span><span class="sxs-lookup"><span data-stu-id="50292-224">For more information see [WCF and Internationalized Domain Names](./feature-details/wcf-and-internationalized-domain-names.md).</span></span>

## <a name="httpclient"></a><span data-ttu-id="50292-225">HttpClient</span><span class="sxs-lookup"><span data-stu-id="50292-225">HttpClient</span></span>

<span data-ttu-id="50292-226">Une nouvelle classe appelée <xref:System.Net.Http.HttpClient> a été ajoutée pour faciliter l'utilisation des requêtes HTTP.</span><span class="sxs-lookup"><span data-stu-id="50292-226">A new class called <xref:System.Net.Http.HttpClient> has been added to make working with HTTP requests much easier.</span></span> <span data-ttu-id="50292-227">Pour plus d’informations, consultez [création d’applications sociales et connexion avec les services http](https://channel9.msdn.com/Events/BUILD/BUILD2011/PLAT-581T) et l' [exemple de client http](https://code.msdn.microsoft.com/windowsapps/HttpClient-sample-55700664).</span><span class="sxs-lookup"><span data-stu-id="50292-227">For more info, see [Making apps social and connected with HTTP services](https://channel9.msdn.com/Events/BUILD/BUILD2011/PLAT-581T) and the [HTTP Client Sample](https://code.msdn.microsoft.com/windowsapps/HttpClient-sample-55700664).</span></span>

## <a name="configuration-intellisense"></a><span data-ttu-id="50292-228">Configuration Intellisense</span><span class="sxs-lookup"><span data-stu-id="50292-228">Configuration Intellisense</span></span>

<span data-ttu-id="50292-229">Les valeurs d'attribut dans les fichiers de configuration des attributs personnalisés définis dans le projet prennent désormais en charge Intellisense pour une utilisation rapide et correcte des configurations.</span><span class="sxs-lookup"><span data-stu-id="50292-229">Attribute values in configuration files for custom attributes defined in the project now support intellisense to facilitate working with configurations quickly and accurately.</span></span>

## <a name="configuration-tooltips"></a><span data-ttu-id="50292-230">Info-bulles de configuration</span><span class="sxs-lookup"><span data-stu-id="50292-230">Configuration tooltips</span></span>

<span data-ttu-id="50292-231">Les éléments et les attributs WCF comportent désormais des info-bulles dans l’éditeur XML, afin d’identifier plus facilement et avec précision le rôle de l’élément ou de l’attribut.</span><span class="sxs-lookup"><span data-stu-id="50292-231">WCF elements and attributes now have tooltips in the XML editor, to more easily and accurately identify the purpose of the element or attribute.</span></span>

## <a name="paste-data-as-classes"></a><span data-ttu-id="50292-232">Coller les données sous forme de classes</span><span class="sxs-lookup"><span data-stu-id="50292-232">Paste Data as Classes</span></span>

<span data-ttu-id="50292-233">Dans un projet WCF, les types de données définis en XML (tels que ceux exposés dans un service) peuvent être collés directement dans une page de codes.</span><span class="sxs-lookup"><span data-stu-id="50292-233">In a WCF project, data types defined in XML (such as are exposed in a service) can be pasted directly into a code page.</span></span> <span data-ttu-id="50292-234">Le type XML sera collé comme type CLR.</span><span class="sxs-lookup"><span data-stu-id="50292-234">The XML type will be pasted as a CLR type.</span></span> <span data-ttu-id="50292-235">Pour plus d’informations, consultez [génération de classes de type de données à partir de XML](generating-data-type-classes-from-xml.md) .</span><span class="sxs-lookup"><span data-stu-id="50292-235">See [Generating Data Type Classes from XML](generating-data-type-classes-from-xml.md) for more details.</span></span>

## <a name="webservicehost-and-default-endpoints"></a><span data-ttu-id="50292-236">WebServiceHost et points de terminaison par défaut</span><span class="sxs-lookup"><span data-stu-id="50292-236">WebServiceHost and default endpoints</span></span>

<span data-ttu-id="50292-237">Dans Visual Studio 2010, WebServiceHost a automatiquement créé un point de terminaison par défaut, que vous ayez ou non spécifié explicitement un point de terminaison.</span><span class="sxs-lookup"><span data-stu-id="50292-237">In Visual Studio 2010, WebServiceHost automatically created a default endpoint whether you explicitly specified an endpoint or not.</span></span> <span data-ttu-id="50292-238">Dans Visual Studio 2012 et versions ultérieures, WebServiceHost crée uniquement un point de terminaison par défaut si aucun point de terminaison n’est explicitement ajouté.</span><span class="sxs-lookup"><span data-stu-id="50292-238">In Visual Studio 2012 and later, WebServiceHost only creates a default endpoint if no endpoints are explicitly added.</span></span> <span data-ttu-id="50292-239">Si votre client attend le point de terminaison par défaut, vous pouvez ajouter explicitement un point de terminaison et pointer le client vers celui-ci.</span><span class="sxs-lookup"><span data-stu-id="50292-239">If your client is expecting the default endpoint you can explicitly add an endpoint and point the client to it.</span></span> <span data-ttu-id="50292-240">Sinon, indiquez à WCF de rétablir le comportement précédent en ajoutant le paramètre suivant au fichier de configuration de l'application</span><span class="sxs-lookup"><span data-stu-id="50292-240">Alternatively, you can tell WCF to revert back to the previous behavior by adding the following setting to you application’s configuration file</span></span>

```xml
<appSettings>
    <add key="wcf:webservicehost:enableautomaticendpointscompatability" value="true"/>
  </appSettings>
```

## <a name="ihttpcookiecontainermanager"></a><span data-ttu-id="50292-241">IHttpCookieContainerManager</span><span class="sxs-lookup"><span data-stu-id="50292-241">IHttpCookieContainerManager</span></span>

<span data-ttu-id="50292-242">Cette interface, exposée par <xref:System.ServiceModel.Channels.IChannelFactory%601>, facilite l'utilisation des cookies côté client.</span><span class="sxs-lookup"><span data-stu-id="50292-242">This interface, exposed by <xref:System.ServiceModel.Channels.IChannelFactory%601>, makes working with cookies on the client side much easier.</span></span> <span data-ttu-id="50292-243">Lorsque AllowCookies a la valeur True sur la liaison, accédez aux cookies à l’aide du code suivant :</span><span class="sxs-lookup"><span data-stu-id="50292-243">When AllowCookies is set to true on the binding, you can access cookies by using the following code:</span></span>

```csharp
IHttpCookieContainerManager cookieManager = factory.GetProperty<IHttpCookieContainerManager>();
System.Net.CookieContainer container = cookieManager.CookieContainer;
```

<span data-ttu-id="50292-244">Vous pouvez ensuite récupérer ou définir les cookies à partir de <xref:System.Net.CookieContainer>.</span><span class="sxs-lookup"><span data-stu-id="50292-244">You can then retrieve or set the cookies from the <xref:System.Net.CookieContainer>.</span></span> <span data-ttu-id="50292-245">Lorsque AllowCookies a la valeur False, vous pouvez extraire manuellement les cookies à l'aide de <xref:System.ServiceModel.OperationContext> et les envoyer dans d'autres requêtes à l'aide d'un autre <xref:System.ServiceModel.OperationContext> ou d'un inspecteur de message.</span><span class="sxs-lookup"><span data-stu-id="50292-245">When AllowCookies is set to false, you can manually retrieve the cookies using <xref:System.ServiceModel.OperationContext> and send it in other requests using another <xref:System.ServiceModel.OperationContext> or message inspector.</span></span> <span data-ttu-id="50292-246">L'interface IHttpCookieContainerManager vous permet d'authentifier un utilisateur avec un service et d'utiliser le cookie d'authentification retourné par ce service pour l'authentifier auprès d'autres services.</span><span class="sxs-lookup"><span data-stu-id="50292-246">The IHttpCookieContainerManager interface allows you to authenticate a user with a service and use the authentication cookie returned by that service to authenticate with other services.</span></span>
