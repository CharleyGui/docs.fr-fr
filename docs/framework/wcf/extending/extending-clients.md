---
title: Extension de clients
ms.date: 03/30/2017
helpviewer_keywords:
- proxy extensions [WCF]
ms.assetid: 1328c61c-06e5-455f-9ebd-ceefb59d3867
ms.openlocfilehash: 48e6177e7098f8131d2a0fd62bda9c505fa8bcc9
ms.sourcegitcommit: 2701302a99cafbe0d86d53d540eb0fa7e9b46b36
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 04/28/2019
ms.locfileid: "64662799"
---
# <a name="extending-clients"></a><span data-ttu-id="ea422-102">Extension de clients</span><span class="sxs-lookup"><span data-stu-id="ea422-102">Extending Clients</span></span>
<span data-ttu-id="ea422-103">Dans une application appelante, la couche de modèle de service est chargée de traduire les appels de méthode du code d'application en messages sortants, de les envoyer vers les canaux sous-jacents, de retraduire les résultats en valeurs de retour et paramètres de sortie dans le code d'application, et de retourner de nouveau les résultats à l'appelant.</span><span class="sxs-lookup"><span data-stu-id="ea422-103">In a calling application, the service model layer is responsible for translating method invocations in application code into outbound messages, pushing them to the underlying channels, translating results back into return values and out parameters in application code, and returning the results back to the caller.</span></span> <span data-ttu-id="ea422-104">Les extensions de modèle de service modifient ou implémentent le comportement et les fonctionnalités d’exécution ou de communication qui impliquent des fonctionnalités de répartiteur ou client, des comportements personnalisés, l’interception de messages et de paramètres, ainsi que d’autres fonctionnalités d’extensibilité.</span><span class="sxs-lookup"><span data-stu-id="ea422-104">Service model extensions modify or implement execution or communication behavior and features involving client or dispatcher functionality, custom behaviors, message and parameter interception, and other extensibility functionality.</span></span>  
  
 <span data-ttu-id="ea422-105">Cette rubrique explique comment utiliser le <xref:System.ServiceModel.Dispatcher.ClientRuntime> et <xref:System.ServiceModel.Dispatcher.ClientOperation> classes dans une application cliente de Windows Communication Foundation (WCF) pour modifier le comportement de l’exécution par défaut d’un client WCF ou pour intercepter ou de modifier des messages, paramètres ou valeurs de retour avant ou à la suite d’envoi ou de les récupérer à partir de la couche du canal.</span><span class="sxs-lookup"><span data-stu-id="ea422-105">This topic describes how to use the <xref:System.ServiceModel.Dispatcher.ClientRuntime> and <xref:System.ServiceModel.Dispatcher.ClientOperation> classes in a Windows Communication Foundation (WCF) client application to modify the default execution behavior of a WCF client or to intercept or modify messages, parameters, or return values prior to or subsequent to sending or retrieving them from the channel layer.</span></span> <span data-ttu-id="ea422-106">Pour plus d’informations sur l’extension de l’exécution du service, consultez [extension des répartiteurs](../../../../docs/framework/wcf/extending/extending-dispatchers.md).</span><span class="sxs-lookup"><span data-stu-id="ea422-106">For more information about extending the service runtime, see [Extending Dispatchers](../../../../docs/framework/wcf/extending/extending-dispatchers.md).</span></span> <span data-ttu-id="ea422-107">Pour plus d’informations sur les comportements qui modifient et insèrent des objets de personnalisation dans l’exécution du client, consultez [configuration et extension de l’exécution des comportements](../../../../docs/framework/wcf/extending/configuring-and-extending-the-runtime-with-behaviors.md).</span><span class="sxs-lookup"><span data-stu-id="ea422-107">For more information about the behaviors that modify and insert customization objects into the client runtime, see [Configuring and Extending the Runtime with Behaviors](../../../../docs/framework/wcf/extending/configuring-and-extending-the-runtime-with-behaviors.md).</span></span>  
  
## <a name="clients"></a><span data-ttu-id="ea422-108">Clients</span><span class="sxs-lookup"><span data-stu-id="ea422-108">Clients</span></span>  
 <span data-ttu-id="ea422-109">Sur un client, un canal de client WCF client ou objet convertit les appels de méthode en messages sortants et les messages entrants aux résultats de l’opération sont retournés à l’application appelante.</span><span class="sxs-lookup"><span data-stu-id="ea422-109">On a client, a WCF client object or client channel converts method invocations into outgoing messages and incoming messages to operation results that are returned to the calling application.</span></span> <span data-ttu-id="ea422-110">(Pour plus d’informations sur les types de clients, consultez [Architecture du Client WCF](../../../../docs/framework/wcf/feature-details/client-architecture.md).)</span><span class="sxs-lookup"><span data-stu-id="ea422-110">(For more information about client types, see [WCF Client Architecture](../../../../docs/framework/wcf/feature-details/client-architecture.md).)</span></span>  
  
 <span data-ttu-id="ea422-111">Types de client WCF ont des types de runtime qui gèrent les fonctionnalités de ce niveau de point de terminaison et d’opération.</span><span class="sxs-lookup"><span data-stu-id="ea422-111">WCF client types have runtime types that handle this endpoint- and operation-level functionality.</span></span> <span data-ttu-id="ea422-112">Lorsqu'une application appelle une opération, <xref:System.ServiceModel.Dispatcher.ClientOperation> traduit les objets sortants en message, traite des intercepteurs, confirme que l'appel sortant est conforme au contrat cible, et transmet le message sortant à <xref:System.ServiceModel.Dispatcher.ClientRuntime>, qui est chargé de créer et de gérer des canaux sortants (et canaux entrants dans le cas de services duplex), de gérer le traitement des messages sortants supplémentaires (tel que la modification de l'en-tête), de traiter des intercepteurs de message dans les deux directions, et de router des appels duplex entrants vers l'objet <xref:System.ServiceModel.Dispatcher.DispatchRuntime> côté client approprié.</span><span class="sxs-lookup"><span data-stu-id="ea422-112">When an application calls an operation, the <xref:System.ServiceModel.Dispatcher.ClientOperation> translates the outbound objects into a message, processes interceptors, confirms that the outbound call conforms to the target contract, and hands the outbound message to the <xref:System.ServiceModel.Dispatcher.ClientRuntime>, which is responsible for creating and managing outbound channels (and inbound channels in the case of duplex services), handling extra outbound message processing (such as header modification), processing message interceptors in both directions, and routing inbound duplex calls to the appropriate client-side <xref:System.ServiceModel.Dispatcher.DispatchRuntime> object.</span></span> <span data-ttu-id="ea422-113"><xref:System.ServiceModel.Dispatcher.ClientOperation> et <xref:System.ServiceModel.Dispatcher.ClientRuntime> fournissent tous deux des services similaires lorsque les messages (y compris les erreurs) sont retournés au client.</span><span class="sxs-lookup"><span data-stu-id="ea422-113">Both the <xref:System.ServiceModel.Dispatcher.ClientOperation> and <xref:System.ServiceModel.Dispatcher.ClientRuntime> provide similar services when messages (including faults) are returned to the client.</span></span>  
  
 <span data-ttu-id="ea422-114">Ces deux classes de runtime sont l’extension principale permettant de personnaliser le traitement des objets clients WCF et des chaînes.</span><span class="sxs-lookup"><span data-stu-id="ea422-114">These two runtime classes are the main extension to customize the processing of WCF client objects and channels.</span></span> <span data-ttu-id="ea422-115">La classe <xref:System.ServiceModel.Dispatcher.ClientRuntime> permet aux utilisateurs d'intercepter et d'étendre l'exécution du client sur l'ensemble des messages du contrat.</span><span class="sxs-lookup"><span data-stu-id="ea422-115">The <xref:System.ServiceModel.Dispatcher.ClientRuntime> class allows users to intercept and extend client execution across all messages in the contract.</span></span> <span data-ttu-id="ea422-116">La classe <xref:System.ServiceModel.Dispatcher.ClientOperation> permet aux utilisateurs d'intercepter et d'étendre l'exécution du client pour tous les messages d'une opération donnée.</span><span class="sxs-lookup"><span data-stu-id="ea422-116">The <xref:System.ServiceModel.Dispatcher.ClientOperation> class allows users to intercept and extend client execution for all messages in a given operation.</span></span>  
  
 <span data-ttu-id="ea422-117">La modification des propriétés ou l'insertion de personnalisations sont effectuées en utilisant des comportements de contrat, de point de terminaison et d'opération.</span><span class="sxs-lookup"><span data-stu-id="ea422-117">Modifying the properties or inserting customizations are done by using contract, endpoint, and operation behaviors.</span></span> <span data-ttu-id="ea422-118">Pour plus d’informations sur l’utilisation de ces types de comportements pour effectuer les personnalisations d’exécution du client, consultez [configuration et extension de l’exécution des comportements](../../../../docs/framework/wcf/extending/configuring-and-extending-the-runtime-with-behaviors.md).</span><span class="sxs-lookup"><span data-stu-id="ea422-118">For more information about how to use these types of behaviors to perform client runtime customizations, see [Configuring and Extending the Runtime with Behaviors](../../../../docs/framework/wcf/extending/configuring-and-extending-the-runtime-with-behaviors.md).</span></span>  
  
## <a name="scenarios"></a><span data-ttu-id="ea422-119">Scénarios</span><span class="sxs-lookup"><span data-stu-id="ea422-119">Scenarios</span></span>  
 <span data-ttu-id="ea422-120">L'extension du système client peut être justifiée pour un certain nombre de raisons, dont les suivantes :</span><span class="sxs-lookup"><span data-stu-id="ea422-120">There a number of reasons to extend the client system, including:</span></span>  
  
- <span data-ttu-id="ea422-121">Validation personnalisée des messages.</span><span class="sxs-lookup"><span data-stu-id="ea422-121">Custom Message Validation.</span></span> <span data-ttu-id="ea422-122">Un utilisateur souhaite s'assurer qu'un message est valide pour un schéma spécifique.</span><span class="sxs-lookup"><span data-stu-id="ea422-122">A user may want to enforce that a message is valid for a certain schema.</span></span> <span data-ttu-id="ea422-123">Cela peut être accompli en implémentant l'interface <xref:System.ServiceModel.Dispatcher.IClientMessageInspector> et en assignant l'implémentation à la propriété <xref:System.ServiceModel.Dispatcher.DispatchRuntime.MessageInspectors%2A>.</span><span class="sxs-lookup"><span data-stu-id="ea422-123">This can be done by implementing the <xref:System.ServiceModel.Dispatcher.IClientMessageInspector> interface and assigning the implementation to the <xref:System.ServiceModel.Dispatcher.DispatchRuntime.MessageInspectors%2A> property.</span></span> <span data-ttu-id="ea422-124">Pour obtenir des exemples, consultez [Guide pratique pour Inspecter ou modifier des Messages sur le Client](../../../../docs/framework/wcf/extending/how-to-inspect-or-modify-messages-on-the-client.md) et [Comment : Inspecter ou modifier des Messages sur le Client](../../../../docs/framework/wcf/extending/how-to-inspect-or-modify-messages-on-the-client.md).</span><span class="sxs-lookup"><span data-stu-id="ea422-124">For examples, see [How to: Inspect or Modify Messages on the Client](../../../../docs/framework/wcf/extending/how-to-inspect-or-modify-messages-on-the-client.md) and [How to: Inspect or Modify Messages on the Client](../../../../docs/framework/wcf/extending/how-to-inspect-or-modify-messages-on-the-client.md).</span></span>  
  
- <span data-ttu-id="ea422-125">Enregistrement personnalisé des messages.</span><span class="sxs-lookup"><span data-stu-id="ea422-125">Custom Message Logging.</span></span> <span data-ttu-id="ea422-126">Un utilisateur souhaite inspecter et enregistrer des jeux de messages d'application qui transitent par un point de terminaison.</span><span class="sxs-lookup"><span data-stu-id="ea422-126">A user may want to inspect and log some set of application messages that flow through an endpoint.</span></span> <span data-ttu-id="ea422-127">Cela peut également être accompli à l'aide des interfaces de l'intercepteur de messages.</span><span class="sxs-lookup"><span data-stu-id="ea422-127">This can also be accomplished with the message interceptor interfaces.</span></span>  
  
- <span data-ttu-id="ea422-128">Transformations personnalisées des messages.</span><span class="sxs-lookup"><span data-stu-id="ea422-128">Custom Message Transformations.</span></span> <span data-ttu-id="ea422-129">Plutôt que de modifier le code d'application, l'utilisateur souhaite appliquer certaines transformations au message dans l'exécution (pour le contrôle de version par exemple).</span><span class="sxs-lookup"><span data-stu-id="ea422-129">Rather than modifying application code, the user may want to apply certain transformations to the message in the runtime (for example, for versioning).</span></span> <span data-ttu-id="ea422-130">Cela peut, à nouveau, être accompli à l'aide des interfaces de l'intercepteur de messages.</span><span class="sxs-lookup"><span data-stu-id="ea422-130">This can be accomplished, again, with the message interceptor interfaces.</span></span>  
  
- <span data-ttu-id="ea422-131">Modèle personnalisé de données.</span><span class="sxs-lookup"><span data-stu-id="ea422-131">Custom Data Model.</span></span> <span data-ttu-id="ea422-132">Un utilisateur peut souhaiter disposer d’un modèle de sérialisation ou de données autres que ceux pris en charge par défaut dans WCF (à savoir, <xref:System.Runtime.Serialization.DataContractSerializer?displayProperty=nameWithType>, <xref:System.Xml.Serialization.XmlSerializer?displayProperty=nameWithType>, et <xref:System.ServiceModel.Channels.Message?displayProperty=nameWithType> objets).</span><span class="sxs-lookup"><span data-stu-id="ea422-132">A user may want to have a data or serialization model other than those supported by default in WCF (namely, <xref:System.Runtime.Serialization.DataContractSerializer?displayProperty=nameWithType>, <xref:System.Xml.Serialization.XmlSerializer?displayProperty=nameWithType>, and <xref:System.ServiceModel.Channels.Message?displayProperty=nameWithType> objects).</span></span> <span data-ttu-id="ea422-133">Cela peut être accompli en implémentant les interfaces du formateur de messages.</span><span class="sxs-lookup"><span data-stu-id="ea422-133">This can be done by implementing the message formatter interfaces.</span></span> <span data-ttu-id="ea422-134">Pour plus d'informations, consultez <xref:System.ServiceModel.Dispatcher.IClientMessageFormatter?displayProperty=nameWithType> et la propriété <xref:System.ServiceModel.Dispatcher.ClientOperation.Formatter%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="ea422-134">For more information, see <xref:System.ServiceModel.Dispatcher.IClientMessageFormatter?displayProperty=nameWithType> and the <xref:System.ServiceModel.Dispatcher.ClientOperation.Formatter%2A?displayProperty=nameWithType> property.</span></span>  
  
- <span data-ttu-id="ea422-135">Validation personnalisée des paramètres.</span><span class="sxs-lookup"><span data-stu-id="ea422-135">Custom Parameter Validation.</span></span> <span data-ttu-id="ea422-136">Un utilisateur souhaite que les paramètres typés soient valides (par opposition à XML).</span><span class="sxs-lookup"><span data-stu-id="ea422-136">A user may want to enforce that typed parameters are valid (as opposed to XML).</span></span> <span data-ttu-id="ea422-137">Cela peut être accompli à l'aide des interfaces de l'inspecteur de paramètres.</span><span class="sxs-lookup"><span data-stu-id="ea422-137">This can be done using the parameter inspector interfaces.</span></span> <span data-ttu-id="ea422-138">Pour voir un exemple, consultez [Comment : Inspecter ou modifier les paramètres](../../../../docs/framework/wcf/extending/how-to-inspect-or-modify-parameters.md) ou [validation côté Client](../../../../docs/framework/wcf/samples/client-validation.md).</span><span class="sxs-lookup"><span data-stu-id="ea422-138">For an example, see [How to: Inspect or Modify Parameters](../../../../docs/framework/wcf/extending/how-to-inspect-or-modify-parameters.md) or [Client Validation](../../../../docs/framework/wcf/samples/client-validation.md).</span></span>  
  
### <a name="using-the-clientruntime-class"></a><span data-ttu-id="ea422-139">Utilisation de la classe ClientRuntime</span><span class="sxs-lookup"><span data-stu-id="ea422-139">Using the ClientRuntime Class</span></span>  
 <span data-ttu-id="ea422-140">La classe <xref:System.ServiceModel.Dispatcher.ClientRuntime> est un point d’extensibilité auquel vous pouvez ajouter des objets d’extension qui interceptent des messages et étendent le comportement du client.</span><span class="sxs-lookup"><span data-stu-id="ea422-140">The <xref:System.ServiceModel.Dispatcher.ClientRuntime> class is an extensibility point to which you can add extension objects that intercept messages and extend client behavior.</span></span> <span data-ttu-id="ea422-141">Les objets d'interception peuvent traiter tous les messages d'un contrat spécifique, traiter uniquement les messages de certaines opérations, exécuter l'initialisation de canal personnalisée et implémenter un autre comportement d'application cliente personnalisé.</span><span class="sxs-lookup"><span data-stu-id="ea422-141">Interception objects can process all messages in a particular contract, process only messages for particular operations, perform custom channel initialization, and implement other custom client application behavior.</span></span>  
  
- <span data-ttu-id="ea422-142">La propriété <xref:System.ServiceModel.Dispatcher.ClientRuntime.CallbackDispatchRuntime%2A> retourne l'objet d'exécution de répartition pour les clients de rappel initiés par le service.</span><span class="sxs-lookup"><span data-stu-id="ea422-142">The <xref:System.ServiceModel.Dispatcher.ClientRuntime.CallbackDispatchRuntime%2A> property returns the dispatch run-time object for service-initiated callback clients.</span></span>  
  
- <span data-ttu-id="ea422-143">La propriété <xref:System.ServiceModel.Dispatcher.ClientRuntime.OperationSelector%2A> accepte un objet de sélecteur d'opération personnalisé.</span><span class="sxs-lookup"><span data-stu-id="ea422-143">The <xref:System.ServiceModel.Dispatcher.ClientRuntime.OperationSelector%2A> property accepts a custom operation selector object.</span></span>  
  
- <span data-ttu-id="ea422-144">La propriété <xref:System.ServiceModel.Dispatcher.ClientRuntime.ChannelInitializers%2A> permet d'ajouter un initialiseur de canal qui peut inspecter ou modifier le canal client.</span><span class="sxs-lookup"><span data-stu-id="ea422-144">The <xref:System.ServiceModel.Dispatcher.ClientRuntime.ChannelInitializers%2A> property enables the addition of a channel initializer that can inspect or modify the client channel.</span></span>  
  
- <span data-ttu-id="ea422-145">La propriété <xref:System.ServiceModel.Dispatcher.ClientRuntime.Operations%2A> obtient une collection d’objets <xref:System.ServiceModel.Dispatcher.ClientOperation> auxquels vous pouvez ajouter des intercepteurs de messages personnalisés qui fournissent les fonctionnalités spécifiques aux messages de cette opération.</span><span class="sxs-lookup"><span data-stu-id="ea422-145">The <xref:System.ServiceModel.Dispatcher.ClientRuntime.Operations%2A> property gets a collection of <xref:System.ServiceModel.Dispatcher.ClientOperation> objects to which you can add custom message interceptors that provide functionality specific to the messages of that operation.</span></span>  
  
- <span data-ttu-id="ea422-146">La propriété <xref:System.ServiceModel.Dispatcher.ClientRuntime.ManualAddressing%2A> permet à une application de désactiver certains en-têtes d'adressage automatique afin de contrôler directement l'adressage.</span><span class="sxs-lookup"><span data-stu-id="ea422-146">The <xref:System.ServiceModel.Dispatcher.ClientRuntime.ManualAddressing%2A> property enables an application to turn off some automatic addressing headers to directly control addressing.</span></span>  
  
- <span data-ttu-id="ea422-147">La propriété <xref:System.ServiceModel.Dispatcher.ClientRuntime.Via%2A> affecte la valeur de la destination du message au niveau du transport afin de prendre en charge les intermédiaires et d'autres scénarios.</span><span class="sxs-lookup"><span data-stu-id="ea422-147">The <xref:System.ServiceModel.Dispatcher.ClientRuntime.Via%2A> property sets the value of the destination of the message at the transport level to support intermediaries and other scenarios.</span></span>  
  
- <span data-ttu-id="ea422-148">Le <xref:System.ServiceModel.Dispatcher.ClientRuntime.MessageInspectors%2A> propriété obtient une collection de <xref:System.ServiceModel.Dispatcher.IClientMessageInspector> objets auquel vous pouvez ajouter des intercepteurs de messages personnalisés pour tous les messages transitant via un client WCF.</span><span class="sxs-lookup"><span data-stu-id="ea422-148">The <xref:System.ServiceModel.Dispatcher.ClientRuntime.MessageInspectors%2A> property gets a collection of <xref:System.ServiceModel.Dispatcher.IClientMessageInspector> objects to which you can add custom message interceptors for all messages traveling through a WCF client.</span></span>  
  
 <span data-ttu-id="ea422-149">Par ailleurs, un certain nombre d'autres propriétés récupèrent les informations de contrat :</span><span class="sxs-lookup"><span data-stu-id="ea422-149">In addition, there are a number of other properties that retrieve the contract information:</span></span>  
  
- <xref:System.ServiceModel.Dispatcher.ClientRuntime.ContractName%2A>  
  
- <xref:System.ServiceModel.Dispatcher.ClientRuntime.ContractNamespace%2A>  
  
- <xref:System.ServiceModel.Dispatcher.ClientRuntime.ContractClientType%2A>  
  
 <span data-ttu-id="ea422-150">Si le client WCF est un client WCF duplex, les propriétés suivantes récupèrent également l’informations sur le client WCF de rappel :</span><span class="sxs-lookup"><span data-stu-id="ea422-150">If the WCF client is a duplex WCF client, the following properties also retrieve the callback WCF client information:</span></span>  
  
- <xref:System.ServiceModel.Dispatcher.ClientRuntime.CallbackClientType%2A>  
  
- <xref:System.ServiceModel.Dispatcher.ClientRuntime.CallbackDispatchRuntime%2A>  
  
 <span data-ttu-id="ea422-151">Pour étendre l’exécution du client WCF sur un client WCF entière, passez en revue les propriétés disponibles sur la <xref:System.ServiceModel.Dispatcher.ClientRuntime> classe afin de déterminer si la modification d’une propriété ou en implémentant une interface et en l’ajoutant à une propriété crée les fonctionnalités que vous recherchez.</span><span class="sxs-lookup"><span data-stu-id="ea422-151">To extend WCF client execution across an entire WCF client, review the properties available on the <xref:System.ServiceModel.Dispatcher.ClientRuntime> class to see whether modifying a property or implementing an interface and adding it to a property creates the functionality you are seeking.</span></span> <span data-ttu-id="ea422-152">Après avoir choisi l'extension spécifique à générer, insérez-la dans la propriété <xref:System.ServiceModel.Dispatcher.ClientRuntime> appropriée en implémentant un comportement client permettant d'accéder à la classe <xref:System.ServiceModel.Dispatcher.ClientRuntime> en cas d'appel.</span><span class="sxs-lookup"><span data-stu-id="ea422-152">Once you have chosen a particular extension to build, insert your extension into the appropriate <xref:System.ServiceModel.Dispatcher.ClientRuntime> property by implementing a client behavior that provides access to the <xref:System.ServiceModel.Dispatcher.ClientRuntime> class when invoked.</span></span>  
  
 <span data-ttu-id="ea422-153">Vous pouvez insérer des objets d'extension personnalisés dans une collection à l'aide d'un comportement d'opération (objet qui implémente <xref:System.ServiceModel.Description.IOperationBehavior>), d'un comportement de contrat (objet qui implémente <xref:System.ServiceModel.Description.IContractBehavior>) ou d'un comportement de point de terminaison (objet qui implémente <xref:System.ServiceModel.Description.IEndpointBehavior>).</span><span class="sxs-lookup"><span data-stu-id="ea422-153">You can insert custom extension objects into a collection using an operation behavior (an object that implements <xref:System.ServiceModel.Description.IOperationBehavior>), a contract behavior (an object that implements <xref:System.ServiceModel.Description.IContractBehavior>), or an endpoint behavior (an object that implements <xref:System.ServiceModel.Description.IEndpointBehavior>).</span></span> <span data-ttu-id="ea422-154">L'objet de comportement installé est ajouté à la collection appropriée de comportements par programme ou de façon déclarative (en implémentant un attribut personnalisé), ou en implémentant un objet <xref:System.ServiceModel.Configuration.BehaviorExtensionElement> personnalisé pour que le comportement soit inséré à l'aide d'un fichier de configuration d'application.</span><span class="sxs-lookup"><span data-stu-id="ea422-154">The installing behavior object is added to the appropriate collection of behaviors either programmatically, declaratively (by implementing a custom attribute), or by implementing a custom <xref:System.ServiceModel.Configuration.BehaviorExtensionElement> object to enable the behavior to be inserted using an application configuration file.</span></span> <span data-ttu-id="ea422-155">Pour plus d’informations, consultez [configuration et extension de l’exécution des comportements](../../../../docs/framework/wcf/extending/configuring-and-extending-the-runtime-with-behaviors.md).</span><span class="sxs-lookup"><span data-stu-id="ea422-155">For details, see [Configuring and Extending the Runtime with Behaviors](../../../../docs/framework/wcf/extending/configuring-and-extending-the-runtime-with-behaviors.md).</span></span>  
  
 <span data-ttu-id="ea422-156">Pour obtenir des exemples qui illustrent l’interception entre un client WCF, consultez [Comment : Inspecter ou modifier des Messages sur le Client](../../../../docs/framework/wcf/extending/how-to-inspect-or-modify-messages-on-the-client.md).</span><span class="sxs-lookup"><span data-stu-id="ea422-156">For examples that demonstrate interception across a WCF client, see [How to: Inspect or Modify Messages on the Client](../../../../docs/framework/wcf/extending/how-to-inspect-or-modify-messages-on-the-client.md).</span></span>  
  
### <a name="using-the-clientoperation-class"></a><span data-ttu-id="ea422-157">Utilisation de la classe ClientOperation</span><span class="sxs-lookup"><span data-stu-id="ea422-157">Using the ClientOperation Class</span></span>  
 <span data-ttu-id="ea422-158">La classe <xref:System.ServiceModel.Dispatcher.ClientOperation> correspond à l’emplacement des modifications d’exécution du client et au point d’insertion des extensions personnalisées qui sont limitées à une seule opération de service.</span><span class="sxs-lookup"><span data-stu-id="ea422-158">The <xref:System.ServiceModel.Dispatcher.ClientOperation> class is the location for client run-time modifications and insertion point for custom extensions that are scoped to only one service operation.</span></span> <span data-ttu-id="ea422-159">(Pour modifier le comportement d'exécution du client pour tous les messages d'un contrat, utilisez la classe <xref:System.ServiceModel.Dispatcher.ClientRuntime>.)</span><span class="sxs-lookup"><span data-stu-id="ea422-159">(To modify client run-time behavior for all messages in a contract, use the <xref:System.ServiceModel.Dispatcher.ClientRuntime> class.)</span></span>  
  
 <span data-ttu-id="ea422-160">Utilisez la propriété <xref:System.ServiceModel.Dispatcher.ClientRuntime.Operations%2A> pour localiser l'objet <xref:System.ServiceModel.Dispatcher.ClientOperation> qui représente une opération de service particulière.</span><span class="sxs-lookup"><span data-stu-id="ea422-160">Use the <xref:System.ServiceModel.Dispatcher.ClientRuntime.Operations%2A> property to locate the <xref:System.ServiceModel.Dispatcher.ClientOperation> object that represents a particular service operation.</span></span> <span data-ttu-id="ea422-161">Les propriétés suivantes permettent d’insérer des objets personnalisés dans le système de client WCF :</span><span class="sxs-lookup"><span data-stu-id="ea422-161">The following properties enable you to insert custom objects into the WCF client system:</span></span>  
  
- <span data-ttu-id="ea422-162">La propriété <xref:System.ServiceModel.Dispatcher.ClientOperation.Formatter%2A> permet d'insérer une implémentation <xref:System.ServiceModel.Dispatcher.IClientMessageFormatter> personnalisée pour une opération ou de modifier le formateur actuel.</span><span class="sxs-lookup"><span data-stu-id="ea422-162">Use the <xref:System.ServiceModel.Dispatcher.ClientOperation.Formatter%2A> property to insert a custom <xref:System.ServiceModel.Dispatcher.IClientMessageFormatter> implementation for an operation or modify the current formatter.</span></span>  
  
- <span data-ttu-id="ea422-163">La propriété <xref:System.ServiceModel.Dispatcher.ClientOperation.ParameterInspectors%2A> permet d'insérer une implémentation <xref:System.ServiceModel.Dispatcher.IParameterInspector> personnalisée ou de modifier l'implémentation actuelle.</span><span class="sxs-lookup"><span data-stu-id="ea422-163">Use the <xref:System.ServiceModel.Dispatcher.ClientOperation.ParameterInspectors%2A> property to insert a custom <xref:System.ServiceModel.Dispatcher.IParameterInspector> implementation or to modify the current one.</span></span>  
  
 <span data-ttu-id="ea422-164">Les propriétés suivantes vous permettent de modifier le système dans l'interaction à l'aide du formateur et des inspecteurs de paramètre personnalisés :</span><span class="sxs-lookup"><span data-stu-id="ea422-164">The following properties enable you to modify the system in interaction with the formatter and custom parameter inspectors:</span></span>  
  
- <span data-ttu-id="ea422-165">La propriété <xref:System.ServiceModel.Dispatcher.ClientOperation.SerializeRequest%2A> permet de contrôler la sérialisation d'un message sortant.</span><span class="sxs-lookup"><span data-stu-id="ea422-165">Use the <xref:System.ServiceModel.Dispatcher.ClientOperation.SerializeRequest%2A> property to control the serialization of an outbound message.</span></span>  
  
- <span data-ttu-id="ea422-166">La propriété <xref:System.ServiceModel.Dispatcher.ClientOperation.DeserializeReply%2A> permet de contrôler la désérialisation d’un message entrant.</span><span class="sxs-lookup"><span data-stu-id="ea422-166">Use the <xref:System.ServiceModel.Dispatcher.ClientOperation.DeserializeReply%2A> property to control the deserialization of an inbound message.</span></span>  
  
- <span data-ttu-id="ea422-167">La propriété <xref:System.ServiceModel.Dispatcher.ClientOperation.Action%2A> permet de contrôler l'action WS-Addressing du message de demande.</span><span class="sxs-lookup"><span data-stu-id="ea422-167">Use the <xref:System.ServiceModel.Dispatcher.ClientOperation.Action%2A> property to control the WS-Addressing action of the request message.</span></span>  
  
- <span data-ttu-id="ea422-168">Utilisez le <xref:System.ServiceModel.Dispatcher.ClientOperation.BeginMethod%2A> et <xref:System.ServiceModel.Dispatcher.ClientOperation.EndMethod%2A> pour spécifier les méthodes de client WCF sont associées à une opération asynchrone.</span><span class="sxs-lookup"><span data-stu-id="ea422-168">Use the <xref:System.ServiceModel.Dispatcher.ClientOperation.BeginMethod%2A> and <xref:System.ServiceModel.Dispatcher.ClientOperation.EndMethod%2A> to specify which WCF client methods are associated with an asynchronous operation.</span></span>  
  
- <span data-ttu-id="ea422-169">La propriété <xref:System.ServiceModel.Dispatcher.ClientOperation.FaultContractInfos%2A> permet d’obtenir une collection contenant les types qui peuvent apparaître dans les erreurs SOAP comme type de détail.</span><span class="sxs-lookup"><span data-stu-id="ea422-169">Use the <xref:System.ServiceModel.Dispatcher.ClientOperation.FaultContractInfos%2A> property to get a collection that contains the types that can appear in SOAP faults as the detail type.</span></span>  
  
- <span data-ttu-id="ea422-170">Les propriétés <xref:System.ServiceModel.Dispatcher.ClientOperation.IsInitiating%2A> et <xref:System.ServiceModel.Dispatcher.ClientOperation.IsTerminating%2A> permettent respectivement de contrôler si une session est initiée ou détruite, lorsque l'opération est appelée.</span><span class="sxs-lookup"><span data-stu-id="ea422-170">Use the <xref:System.ServiceModel.Dispatcher.ClientOperation.IsInitiating%2A> and <xref:System.ServiceModel.Dispatcher.ClientOperation.IsTerminating%2A> properties to control whether a session is initiated or is torn down, respectively, when the operation is called.</span></span>  
  
- <span data-ttu-id="ea422-171">La propriété <xref:System.ServiceModel.Dispatcher.ClientOperation.IsOneWay%2A> permet de contrôler si l'opération est monodirectionnelle.</span><span class="sxs-lookup"><span data-stu-id="ea422-171">Use the <xref:System.ServiceModel.Dispatcher.ClientOperation.IsOneWay%2A> property to control whether the operation is a one-way operation.</span></span>  
  
- <span data-ttu-id="ea422-172">La propriété <xref:System.ServiceModel.Dispatcher.ClientOperation.Parent%2A> permet d'obtenir l'objet contenant <xref:System.ServiceModel.Dispatcher.ClientRuntime>.</span><span class="sxs-lookup"><span data-stu-id="ea422-172">Use the <xref:System.ServiceModel.Dispatcher.ClientOperation.Parent%2A> property to obtain the containing <xref:System.ServiceModel.Dispatcher.ClientRuntime> object.</span></span>  
  
- <span data-ttu-id="ea422-173">La propriété <xref:System.ServiceModel.Dispatcher.ClientOperation.Name%2A> permet d'obtenir le nom de l'opération.</span><span class="sxs-lookup"><span data-stu-id="ea422-173">Use the <xref:System.ServiceModel.Dispatcher.ClientOperation.Name%2A> property to get the name of the operation.</span></span>  
  
- <span data-ttu-id="ea422-174">La propriété <xref:System.ServiceModel.Dispatcher.ClientOperation.SyncMethod%2A> permet de contrôler la méthode mappée à l'opération.</span><span class="sxs-lookup"><span data-stu-id="ea422-174">Use the <xref:System.ServiceModel.Dispatcher.ClientOperation.SyncMethod%2A> property to control which method is mapped to the operation.</span></span>  
  
 <span data-ttu-id="ea422-175">Pour étendre l’exécution du client WCF sur l’opération de service qu’un seul, passez en revue les propriétés disponibles sur la <xref:System.ServiceModel.Dispatcher.ClientOperation> classe afin de déterminer si la modification d’une propriété ou en implémentant une interface et en l’ajoutant à une propriété crée les fonctionnalités que vous recherchez.</span><span class="sxs-lookup"><span data-stu-id="ea422-175">To extend WCF client execution across only one service operation, review the properties available on the <xref:System.ServiceModel.Dispatcher.ClientOperation> class to see whether modifying a property or implementing an interface and adding it to a property creates the functionality you are seeking.</span></span> <span data-ttu-id="ea422-176">Après avoir choisi l'extension spécifique à générer, insérez-la dans la propriété <xref:System.ServiceModel.Dispatcher.ClientOperation> appropriée en implémentant un comportement client permettant d'accéder à la classe <xref:System.ServiceModel.Dispatcher.ClientOperation> en cas d'appel.</span><span class="sxs-lookup"><span data-stu-id="ea422-176">Once you have chosen a particular extension to build, insert your extension into the appropriate <xref:System.ServiceModel.Dispatcher.ClientOperation> property by implementing a client behavior that provides access to the <xref:System.ServiceModel.Dispatcher.ClientOperation> class when invoked.</span></span> <span data-ttu-id="ea422-177">Dans ce comportement, vous pouvez ensuite modifier la propriété <xref:System.ServiceModel.Dispatcher.ClientRuntime> en fonction de vos besoins.</span><span class="sxs-lookup"><span data-stu-id="ea422-177">Inside that behavior you can then modify the <xref:System.ServiceModel.Dispatcher.ClientRuntime> property to fit your requirements.</span></span>  
  
 <span data-ttu-id="ea422-178">En général, l'implémentation d'un comportement d'opération (objet qui implémente l'interface <xref:System.ServiceModel.Description.IOperationBehavior> ) suffit, mais vous pouvez également utiliser des comportements de point de terminaison et de contrat en localisant le <xref:System.ServiceModel.Description.OperationDescription> d'une opération spécifique et en joignant le comportement à cet emplacement.</span><span class="sxs-lookup"><span data-stu-id="ea422-178">Typically, implementing an operation behavior (an object that implements the <xref:System.ServiceModel.Description.IOperationBehavior> interface) suffices, but you can also use endpoint behaviors and contract behaviors to accomplish the same thing by locating the <xref:System.ServiceModel.Description.OperationDescription> for a particular operation and attaching the behavior there.</span></span> <span data-ttu-id="ea422-179">Pour plus d’informations, consultez [configuration et extension de l’exécution des comportements](../../../../docs/framework/wcf/extending/configuring-and-extending-the-runtime-with-behaviors.md).</span><span class="sxs-lookup"><span data-stu-id="ea422-179">For details, see [Configuring and Extending the Runtime with Behaviors](../../../../docs/framework/wcf/extending/configuring-and-extending-the-runtime-with-behaviors.md).</span></span>  
  
 <span data-ttu-id="ea422-180">Pour utiliser votre comportement personnalisé à partir de la configuration, installez-le à l'aide d'un gestionnaire de section de configuration de comportement personnalisé.</span><span class="sxs-lookup"><span data-stu-id="ea422-180">To use your custom behavior from configuration, install your behavior using a custom behavior configuration section handler.</span></span> <span data-ttu-id="ea422-181">Vous pouvez également l'installer en créant un attribut personnalisé.</span><span class="sxs-lookup"><span data-stu-id="ea422-181">You can also install your behavior by creating a custom attribute.</span></span>  
  
 <span data-ttu-id="ea422-182">Pour obtenir des exemples qui illustrent l’interception entre un client WCF, consultez [Comment : Inspecter ou modifier les paramètres](../../../../docs/framework/wcf/extending/how-to-inspect-or-modify-parameters.md).</span><span class="sxs-lookup"><span data-stu-id="ea422-182">For examples that demonstrate interception across a WCF client, see [How to: Inspect or Modify Parameters](../../../../docs/framework/wcf/extending/how-to-inspect-or-modify-parameters.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="ea422-183">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="ea422-183">See also</span></span>

- <xref:System.ServiceModel.Dispatcher.ClientRuntime>
- <xref:System.ServiceModel.Dispatcher.ClientOperation>
- [<span data-ttu-id="ea422-184">Guide pratique pour Inspecter ou modifier des Messages sur le Client</span><span class="sxs-lookup"><span data-stu-id="ea422-184">How to: Inspect or Modify Messages on the Client</span></span>](../../../../docs/framework/wcf/extending/how-to-inspect-or-modify-messages-on-the-client.md)
- [<span data-ttu-id="ea422-185">Guide pratique pour Inspecter ou modifier les paramètres</span><span class="sxs-lookup"><span data-stu-id="ea422-185">How to: Inspect or Modify Parameters</span></span>](../../../../docs/framework/wcf/extending/how-to-inspect-or-modify-parameters.md)
