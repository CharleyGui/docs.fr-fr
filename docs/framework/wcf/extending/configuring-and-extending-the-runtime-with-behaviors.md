---
title: Configuration et extension de l'exécution à l'aide de comportements
description: Apprenez à implémenter des interfaces de comportement dans des applications WCF et à les ajouter à une description de service ou à un point de terminaison, soit par programme soit dans un fichier de configuration.
ms.date: 03/30/2017
helpviewer_keywords:
- attaching extensions using behaviors [WCF]
ms.assetid: 149b99b6-6eb6-4f45-be22-c967279677d9
ms.openlocfilehash: fc297f593b744d69cb09a33be6816fb646f88b67
ms.sourcegitcommit: 358a28048f36a8dca39a9fe6e6ac1f1913acadd5
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 06/23/2020
ms.locfileid: "85247583"
---
# <a name="configuring-and-extending-the-runtime-with-behaviors"></a><span data-ttu-id="0420e-103">Configuration et extension de l'exécution à l'aide de comportements</span><span class="sxs-lookup"><span data-stu-id="0420e-103">Configuring and Extending the Runtime with Behaviors</span></span>
<span data-ttu-id="0420e-104">Les comportements vous permettent de modifier le comportement par défaut et d’ajouter des extensions personnalisées qui inspectent et valident la configuration de service ou modifient le comportement d’exécution dans les applications de service et client Windows Communication Foundation (WCF).</span><span class="sxs-lookup"><span data-stu-id="0420e-104">Behaviors enable you to modify default behavior and add custom extensions that inspect and validate service configuration or modify runtime behavior in Windows Communication Foundation (WCF) client and service applications.</span></span> <span data-ttu-id="0420e-105">Cette rubrique décrit les interfaces de comportement, la méthode utilisée pour les implémenter, et comment les ajouter par programme à la description de service (dans une application de service), au point de terminaison (dans une application cliente) ou dans un fichier de configuration.</span><span class="sxs-lookup"><span data-stu-id="0420e-105">This topic describes the behavior interfaces, how to implement them, and how to add them to the service description (in a service application) or endpoint (in a client application) programmatically or in a configuration file.</span></span> <span data-ttu-id="0420e-106">Pour plus d’informations sur l’utilisation des comportements fournis par le système, consultez [spécification du comportement au moment](../specifying-service-run-time-behavior.md) de l’exécution du service et [spécification du comportement du client au moment](../specifying-client-run-time-behavior.md)de l’exécution.</span><span class="sxs-lookup"><span data-stu-id="0420e-106">For more information about using system-provided behaviors, see [Specifying Service Run-Time Behavior](../specifying-service-run-time-behavior.md) and [Specifying Client Run-Time Behavior](../specifying-client-run-time-behavior.md).</span></span>  
  
## <a name="behaviors"></a><span data-ttu-id="0420e-107">comportements</span><span class="sxs-lookup"><span data-stu-id="0420e-107">Behaviors</span></span>  
 <span data-ttu-id="0420e-108">Les types de comportement sont ajoutés aux objets de description de service ou de point de terminaison de service (sur le service ou le client, respectivement) avant que ces objets ne soient utilisés par Windows Communication Foundation (WCF) pour créer un Runtime qui exécute un service WCF ou un client WCF.</span><span class="sxs-lookup"><span data-stu-id="0420e-108">Behavior types are added to the service or service endpoint description objects (on the service or client, respectively) before those objects are used by Windows Communication Foundation (WCF) to create a runtime that executes a WCF service or a WCF client.</span></span> <span data-ttu-id="0420e-109">Lorsque ces comportements sont appelés pendant le processus de construction d’exécution, ils sont ensuite capables d’accéder aux méthodes et propriétés d’exécution qui modifient l’exécution construite par le contrat, les liaisons et les adresses.</span><span class="sxs-lookup"><span data-stu-id="0420e-109">When these behaviors are called during the runtime construction process they are then able to access runtime properties and methods that modify the runtime constructed by the contract, bindings, and addresses.</span></span>  
  
### <a name="behavior-methods"></a><span data-ttu-id="0420e-110">Méthodes de comportement</span><span class="sxs-lookup"><span data-stu-id="0420e-110">Behavior Methods</span></span>  
 <span data-ttu-id="0420e-111">Tous les comportements ont une méthode `AddBindingParameters`, une méthode `ApplyDispatchBehavior`, une méthode `Validate` et une méthode `ApplyClientBehavior` avec une exception : <xref:System.ServiceModel.Description.IServiceBehavior> ne pouvant pas s'exécuter dans un client, il n'implémente pas `ApplyClientBehavior`.</span><span class="sxs-lookup"><span data-stu-id="0420e-111">All behaviors have an `AddBindingParameters` method, an `ApplyDispatchBehavior` method, a `Validate` method, and an `ApplyClientBehavior` method with one exception: Because <xref:System.ServiceModel.Description.IServiceBehavior> cannot execute in a client, it does not implement `ApplyClientBehavior`.</span></span>  
  
- <span data-ttu-id="0420e-112">Utilisez la méthode `AddBindingParameters` pour modifier ou ajouter des objets personnalisés à une collection à laquelle les liaisons personnalisées peuvent accéder lorsque l'exécution est construite.</span><span class="sxs-lookup"><span data-stu-id="0420e-112">Use the `AddBindingParameters` method to modify or add custom objects to a collection that custom bindings can access for their use when the runtime is constructed.</span></span> <span data-ttu-id="0420e-113">Par exemple, la méthode utilisée pour spécifier les exigences de protection affecte la façon dont le canal est construit, mais n’est pas connue par le développeur de canal.</span><span class="sxs-lookup"><span data-stu-id="0420e-113">For example, this how protection requirements are specified that affect the way the channel is built, but are not known by the channel developer.</span></span>  
  
- <span data-ttu-id="0420e-114">Utilisez la méthode `Validate` pour examiner l'arborescence de description et l'objet d'exécution correspondant afin de s'assurer qu'elle est conforme à certains critères.</span><span class="sxs-lookup"><span data-stu-id="0420e-114">Use the `Validate` method to examine the description tree and corresponding runtime object to ensure it conforms to some set of criteria.</span></span>  
  
- <span data-ttu-id="0420e-115">Utilisez les méthodes `ApplyDispatchBehavior` et `ApplyClientBehavior` pour examiner l’arborescence de description et modifier l’exécution pour une portée spécifique sur le service ou le client.</span><span class="sxs-lookup"><span data-stu-id="0420e-115">Use the `ApplyDispatchBehavior` and `ApplyClientBehavior` methods to examine the description tree and modify the runtime for a particular scope on either the service or the client.</span></span> <span data-ttu-id="0420e-116">Vous pouvez également insérer des objets d’extension.</span><span class="sxs-lookup"><span data-stu-id="0420e-116">You can also insert extension objects as well.</span></span>  
  
    > [!NOTE]
    > <span data-ttu-id="0420e-117">Bien qu'une arborescence de description soit fournie dans ces méthodes, elle l'est uniquement à des fins d'examen.</span><span class="sxs-lookup"><span data-stu-id="0420e-117">Although a description tree is provided in these methods, it is for examination only.</span></span> <span data-ttu-id="0420e-118">Si une arborescence de description est modifiée, le comportement n’est pas défini.</span><span class="sxs-lookup"><span data-stu-id="0420e-118">If a description tree is modified, the behavior is undefined.</span></span>  
  
 <span data-ttu-id="0420e-119">Les propriétés que vous pouvez modifier et les interfaces de personnalisation que vous pouvez implémenter sont accessibles via les classes d'exécution de service et de client.</span><span class="sxs-lookup"><span data-stu-id="0420e-119">The properties you can modify and the customization interfaces you can implement are accessed through the service and client runtime classes.</span></span> <span data-ttu-id="0420e-120">Les types de services sont les classes <xref:System.ServiceModel.Dispatcher.DispatchRuntime> et <xref:System.ServiceModel.Dispatcher.DispatchOperation>.</span><span class="sxs-lookup"><span data-stu-id="0420e-120">The service types are the <xref:System.ServiceModel.Dispatcher.DispatchRuntime> and  <xref:System.ServiceModel.Dispatcher.DispatchOperation> classes.</span></span> <span data-ttu-id="0420e-121">Les types de client sont les classes <xref:System.ServiceModel.Dispatcher.ClientRuntime> et <xref:System.ServiceModel.Dispatcher.ClientOperation>.</span><span class="sxs-lookup"><span data-stu-id="0420e-121">The client types are the <xref:System.ServiceModel.Dispatcher.ClientRuntime> and <xref:System.ServiceModel.Dispatcher.ClientOperation> classes.</span></span> <span data-ttu-id="0420e-122">Les classes <xref:System.ServiceModel.Dispatcher.ClientRuntime> et <xref:System.ServiceModel.Dispatcher.DispatchRuntime> sont les points d'entrée d'extensibilité pour accéder aux propriétés d'exécution à l'échelle du service et du client et aux collections d'extensions, respectivement.</span><span class="sxs-lookup"><span data-stu-id="0420e-122">The <xref:System.ServiceModel.Dispatcher.ClientRuntime> and <xref:System.ServiceModel.Dispatcher.DispatchRuntime> classes are the extensibility entry points to access client-wide and service-wide runtime properties and extension collections, respectively.</span></span> <span data-ttu-id="0420e-123">De la même façon, les classes <xref:System.ServiceModel.Dispatcher.ClientOperation> et <xref:System.ServiceModel.Dispatcher.DispatchOperation> exposent les propriétés d’exécution d’opération de service et de client et les collections d’extensions, respectivement.</span><span class="sxs-lookup"><span data-stu-id="0420e-123">Similarly, the <xref:System.ServiceModel.Dispatcher.ClientOperation> and  <xref:System.ServiceModel.Dispatcher.DispatchOperation> classes expose client operation and service operation runtime properties and extension collections, respectively.</span></span> <span data-ttu-id="0420e-124">Toutefois, vous pouvez accéder à l'objet d'exécution de portée plus large à partir de l'objet d'exécution d'opération et vice versa, si nécessaire.</span><span class="sxs-lookup"><span data-stu-id="0420e-124">You can, however, access the wider scoped runtime object from the operation runtime object and vice versa if need be.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="0420e-125">Pour plus d’informations sur les propriétés d’exécution et les types d’extensions que vous pouvez utiliser pour modifier le comportement d’exécution d’un client, consultez [extension de clients](extending-clients.md).</span><span class="sxs-lookup"><span data-stu-id="0420e-125">For a discussion of runtime properties and extension types that you can use to modify the execution behavior of a client, see [Extending Clients](extending-clients.md).</span></span> <span data-ttu-id="0420e-126">Pour plus d’informations sur les propriétés d’exécution et les types d’extensions que vous pouvez utiliser pour modifier le comportement d’exécution d’un répartiteur de service, consultez [extension de répartiteurs](extending-dispatchers.md).</span><span class="sxs-lookup"><span data-stu-id="0420e-126">For a discussion of runtime properties and extension types that you can use to modify the execution behavior of a service dispatcher, see [Extending Dispatchers](extending-dispatchers.md).</span></span>  
  
 <span data-ttu-id="0420e-127">La plupart des utilisateurs WCF n’interagissent pas directement avec le Runtime ; au lieu de cela, ils utilisent des constructions de modèle de programmation de base telles que des points de terminaison, des contrats, des liaisons, des adresses et des attributs de comportement sur les classes ou les comportements des fichiers de configuration.</span><span class="sxs-lookup"><span data-stu-id="0420e-127">Most WCF users do not interact with the runtime directly; instead they use core programming model constructs like endpoints, contracts, bindings, addresses, and behavior attributes on classes or behaviors in configuration files.</span></span> <span data-ttu-id="0420e-128">Ces constructions composent l' *arborescence de description*, qui est la spécification complète de la construction d’un Runtime pour prendre en charge un service ou un client décrit par l’arborescence de description.</span><span class="sxs-lookup"><span data-stu-id="0420e-128">These constructs make up the *description tree*, which is the complete specification for constructing a runtime to support a service or client described by the description tree.</span></span>  
  
 <span data-ttu-id="0420e-129">Il existe quatre types de comportements dans WCF :</span><span class="sxs-lookup"><span data-stu-id="0420e-129">There are four kinds of behaviors in WCF:</span></span>  
  
- <span data-ttu-id="0420e-130">Les comportements de service (types <xref:System.ServiceModel.Description.IServiceBehavior>) activent la personnalisation de l'ensemble de l'exécution du service, dont <xref:System.ServiceModel.ServiceHostBase>.</span><span class="sxs-lookup"><span data-stu-id="0420e-130">Service behaviors (<xref:System.ServiceModel.Description.IServiceBehavior> types) enable the customization of the entire service runtime including <xref:System.ServiceModel.ServiceHostBase>.</span></span>  
  
- <span data-ttu-id="0420e-131">Les comportements de point de terminaison (types <xref:System.ServiceModel.Description.IEndpointBehavior>) activent la personnalisation de points de terminaison de service et leurs objets <xref:System.ServiceModel.Dispatcher.EndpointDispatcher> associés.</span><span class="sxs-lookup"><span data-stu-id="0420e-131">Endpoint behaviors (<xref:System.ServiceModel.Description.IEndpointBehavior> types) enable the customization of service endpoints and their associated <xref:System.ServiceModel.Dispatcher.EndpointDispatcher> objects.</span></span>  
  
- <span data-ttu-id="0420e-132">Les comportements de contrat (types <xref:System.ServiceModel.Description.IContractBehavior>) activent à la fois la personnalisation des classes <xref:System.ServiceModel.Dispatcher.ClientRuntime> et <xref:System.ServiceModel.Dispatcher.DispatchRuntime> dans les applications clientes et de service, respectivement.</span><span class="sxs-lookup"><span data-stu-id="0420e-132">Contract behaviors (<xref:System.ServiceModel.Description.IContractBehavior> types) enable the customization of both the <xref:System.ServiceModel.Dispatcher.ClientRuntime> and <xref:System.ServiceModel.Dispatcher.DispatchRuntime> classes in client and service applications, respectively.</span></span>  
  
- <span data-ttu-id="0420e-133">Les comportements d'opération (types <xref:System.ServiceModel.Description.IOperationBehavior>) activent la personnalisation des classes <xref:System.ServiceModel.Dispatcher.ClientOperation> et <xref:System.ServiceModel.Dispatcher.DispatchOperation> à nouveau sur le client et le service.</span><span class="sxs-lookup"><span data-stu-id="0420e-133">Operation behaviors (<xref:System.ServiceModel.Description.IOperationBehavior> types) enable the customization of the <xref:System.ServiceModel.Dispatcher.ClientOperation> and <xref:System.ServiceModel.Dispatcher.DispatchOperation> classes, again, on the client and service.</span></span>  
  
 <span data-ttu-id="0420e-134">Vous pouvez ajouter ces comportements aux divers objets de description en implémentant des attributs personnalisés, à l'aide de fichiers de configuration d'application, ou en les ajoutant directement à la collection de comportements sur l'objet de description approprié.</span><span class="sxs-lookup"><span data-stu-id="0420e-134">You can add these behaviors to the various description objects by implementing custom attributes, using application configuration files, or directly by adding them to the behaviors collection on the appropriate description object.</span></span> <span data-ttu-id="0420e-135">Cependant, ils doivent être ajoutés à un objet de description de service ou de description de point de terminaison de service avant d'appeler <xref:System.ServiceModel.ICommunicationObject.Open%2A?displayProperty=nameWithType> sur le <xref:System.ServiceModel.ServiceHost> ou un <xref:System.ServiceModel.ChannelFactory%601>.</span><span class="sxs-lookup"><span data-stu-id="0420e-135">The must, however, be added to a service description or service endpoint description object prior to calling <xref:System.ServiceModel.ICommunicationObject.Open%2A?displayProperty=nameWithType> on the <xref:System.ServiceModel.ServiceHost> or a <xref:System.ServiceModel.ChannelFactory%601>.</span></span>  
  
### <a name="behavior-scopes"></a><span data-ttu-id="0420e-136">Portées de comportement</span><span class="sxs-lookup"><span data-stu-id="0420e-136">Behavior Scopes</span></span>  
 <span data-ttu-id="0420e-137">Il existe quatre types de comportement, chacun d'entre eux correspondant à une portée spécifique d'accès d'exécution.</span><span class="sxs-lookup"><span data-stu-id="0420e-137">There are four behavior types, each of which corresponds to a particular scope of runtime access.</span></span>  
  
#### <a name="service-behaviors"></a><span data-ttu-id="0420e-138">Comportements de service</span><span class="sxs-lookup"><span data-stu-id="0420e-138">Service Behaviors</span></span>  
 <span data-ttu-id="0420e-139">Les comportements de service, qui implémentent <xref:System.ServiceModel.Description.IServiceBehavior>, constituent le mécanisme principal vous permettant de modifier l'ensemble de l'exécution du service.</span><span class="sxs-lookup"><span data-stu-id="0420e-139">Service behaviors, which implement <xref:System.ServiceModel.Description.IServiceBehavior>, are the primary mechanism by which you modify the entire service runtime.</span></span> <span data-ttu-id="0420e-140">Il existe trois mécanismes d'ajout de comportements de service à un service.</span><span class="sxs-lookup"><span data-stu-id="0420e-140">There are three mechanisms for adding service behaviors to a service.</span></span>  
  
1. <span data-ttu-id="0420e-141">En utilisant un attribut sur la classe de service.</span><span class="sxs-lookup"><span data-stu-id="0420e-141">Using an attribute on the service class.</span></span>  <span data-ttu-id="0420e-142">Lorsque <xref:System.ServiceModel.ServiceHost> est construit, l'implémentation <xref:System.ServiceModel.ServiceHost> utilise la réflexion pour découvrir l'ensemble d'attributs sur le type du service.</span><span class="sxs-lookup"><span data-stu-id="0420e-142">When a <xref:System.ServiceModel.ServiceHost> is constructed, the <xref:System.ServiceModel.ServiceHost> implementation uses reflection to discover the set of attributes on the type of the service.</span></span> <span data-ttu-id="0420e-143">Si ces attributs sont des implémentations de <xref:System.ServiceModel.Description.IServiceBehavior>, ils sont ajoutés à la collection de comportements sur <xref:System.ServiceModel.Description.ServiceDescription>.</span><span class="sxs-lookup"><span data-stu-id="0420e-143">If any of those attributes are implementations of <xref:System.ServiceModel.Description.IServiceBehavior>, they are added to the behaviors collection on <xref:System.ServiceModel.Description.ServiceDescription>.</span></span> <span data-ttu-id="0420e-144">Cela permet à ces comportements de participer à la construction de l'exécution du service.</span><span class="sxs-lookup"><span data-stu-id="0420e-144">This allows those behaviors to participate in the construction of the service run time.</span></span>  
  
2. <span data-ttu-id="0420e-145">En ajoutant par programme le comportement à la collection de comportements sur <xref:System.ServiceModel.Description.ServiceDescription>.</span><span class="sxs-lookup"><span data-stu-id="0420e-145">Programmatically adding the behavior to the behaviors collection on <xref:System.ServiceModel.Description.ServiceDescription>.</span></span> <span data-ttu-id="0420e-146">Pour ce faire, utilisez les lignes de code suivantes :</span><span class="sxs-lookup"><span data-stu-id="0420e-146">This can be accomplished with the following lines of code:</span></span>  
  
    ```csharp
    ServiceHost host = new ServiceHost(/* Parameters */);  
    host.Description.Behaviors.Add(/* Service Behavior */);  
    ```  
  
3. <span data-ttu-id="0420e-147">En implémentant un <xref:System.ServiceModel.Configuration.BehaviorExtensionElement> personnalisé qui étend la configuration.</span><span class="sxs-lookup"><span data-stu-id="0420e-147">Implementing a custom <xref:System.ServiceModel.Configuration.BehaviorExtensionElement> that extends configuration.</span></span> <span data-ttu-id="0420e-148">Cela active l'utilisation du comportement de service à partir des fichiers de configuration d'application.</span><span class="sxs-lookup"><span data-stu-id="0420e-148">This enables the use of the service behavior from application configuration files.</span></span>  
  
 <span data-ttu-id="0420e-149">Les exemples de comportements de service dans WCF incluent l' <xref:System.ServiceModel.ServiceBehaviorAttribute> attribut, le <xref:System.ServiceModel.Description.ServiceThrottlingBehavior> et le <xref:System.ServiceModel.Description.ServiceMetadataBehavior> comportement.</span><span class="sxs-lookup"><span data-stu-id="0420e-149">Examples of service behaviors in WCF include the <xref:System.ServiceModel.ServiceBehaviorAttribute> attribute, the <xref:System.ServiceModel.Description.ServiceThrottlingBehavior>, and the <xref:System.ServiceModel.Description.ServiceMetadataBehavior> behavior.</span></span>  
  
#### <a name="contract-behaviors"></a><span data-ttu-id="0420e-150">Comportements de contrat</span><span class="sxs-lookup"><span data-stu-id="0420e-150">Contract Behaviors</span></span>  
 <span data-ttu-id="0420e-151">Les comportements de contrat, qui implémentent l'interface <xref:System.ServiceModel.Description.IContractBehavior>, permettent d'étendre à la fois l'exécution du client et du service sur un contrat.</span><span class="sxs-lookup"><span data-stu-id="0420e-151">Contract behaviors, which implement the <xref:System.ServiceModel.Description.IContractBehavior> interface, are used to extend both the client and service runtime across a contract.</span></span>  
  
 <span data-ttu-id="0420e-152">Il existe deux mécanismes d'ajout de comportement de contrat à un contrat.</span><span class="sxs-lookup"><span data-stu-id="0420e-152">There are two mechanisms for adding contract behaviors to a contract.</span></span>  <span data-ttu-id="0420e-153">Le premier consiste à créer un attribut personnalisé à utiliser sur l'interface de contrat.</span><span class="sxs-lookup"><span data-stu-id="0420e-153">The first mechanism is to create a custom attribute to be used on the contract interface.</span></span> <span data-ttu-id="0420e-154">Lorsqu’une interface de contrat est passée à <xref:System.ServiceModel.ServiceHost> ou à <xref:System.ServiceModel.ChannelFactory%601> , WCF examine les attributs sur l’interface.</span><span class="sxs-lookup"><span data-stu-id="0420e-154">When a contract interface is passed to either a <xref:System.ServiceModel.ServiceHost> or a <xref:System.ServiceModel.ChannelFactory%601>, WCF examines the attributes on the interface.</span></span> <span data-ttu-id="0420e-155">Si les attributs sont des implémentations de <xref:System.ServiceModel.Description.IContractBehavior>, ils sont ajoutés à la collection de comportements sur le <xref:System.ServiceModel.Description.ContractDescription?displayProperty=nameWithType> créé pour cette interface.</span><span class="sxs-lookup"><span data-stu-id="0420e-155">If any attributes are implementations of <xref:System.ServiceModel.Description.IContractBehavior>, those are added to the behaviors collection on the <xref:System.ServiceModel.Description.ContractDescription?displayProperty=nameWithType> created for that interface.</span></span>  
  
 <span data-ttu-id="0420e-156">Vous pouvez également implémenter <xref:System.ServiceModel.Description.IContractBehaviorAttribute?displayProperty=nameWithType> sur l'attribut de comportement de contrat personnalisé.</span><span class="sxs-lookup"><span data-stu-id="0420e-156">You can also implement the <xref:System.ServiceModel.Description.IContractBehaviorAttribute?displayProperty=nameWithType> on the custom contract behavior attribute.</span></span> <span data-ttu-id="0420e-157">Dans ce cas, le comportement se présente comme suit lorsqu'il est appliqué aux éléments suivants :</span><span class="sxs-lookup"><span data-stu-id="0420e-157">In this case, the behavior is as follows when applied to:</span></span>  
  
 <span data-ttu-id="0420e-158">•Interface de contrat.</span><span class="sxs-lookup"><span data-stu-id="0420e-158">•A contract interface.</span></span> <span data-ttu-id="0420e-159">Dans ce cas, le comportement est appliqué à tous les contrats de ce type dans n’importe quel point de terminaison et WCF ignore la valeur de la <xref:System.ServiceModel.Description.IContractBehaviorAttribute.TargetContract%2A?displayProperty=nameWithType> propriété.</span><span class="sxs-lookup"><span data-stu-id="0420e-159">In this case, the behavior is applied to all contracts of that type in any endpoint and WCF ignores the value of the <xref:System.ServiceModel.Description.IContractBehaviorAttribute.TargetContract%2A?displayProperty=nameWithType> property.</span></span>  
  
 <span data-ttu-id="0420e-160">•Classe de service.</span><span class="sxs-lookup"><span data-stu-id="0420e-160">•A service class.</span></span> <span data-ttu-id="0420e-161">Dans ce cas, le comportement n'est appliqué qu'aux points de terminaison dont le contrat est la valeur de la propriété <xref:System.ServiceModel.Description.IContractBehaviorAttribute.TargetContract%2A>.</span><span class="sxs-lookup"><span data-stu-id="0420e-161">In this case, the behavior is applied only to endpoints the contract of which is the value of the <xref:System.ServiceModel.Description.IContractBehaviorAttribute.TargetContract%2A> property.</span></span>  
  
 <span data-ttu-id="0420e-162">•Classe de rappel.</span><span class="sxs-lookup"><span data-stu-id="0420e-162">•A callback class.</span></span> <span data-ttu-id="0420e-163">Dans ce cas, le comportement est appliqué au point de terminaison du client duplex et WCF ignore la valeur de la <xref:System.ServiceModel.Description.IContractBehaviorAttribute.TargetContract%2A> propriété.</span><span class="sxs-lookup"><span data-stu-id="0420e-163">In this case, the behavior is applied to the duplex client's endpoint and WCF ignores the value of the <xref:System.ServiceModel.Description.IContractBehaviorAttribute.TargetContract%2A> property.</span></span>  
  
 <span data-ttu-id="0420e-164">Le deuxième mécanisme consiste à ajouter le comportement à la collection de comportements sur <xref:System.ServiceModel.Description.ContractDescription>.</span><span class="sxs-lookup"><span data-stu-id="0420e-164">The second mechanism is to add the behavior to the behaviors collection on a <xref:System.ServiceModel.Description.ContractDescription>.</span></span>  
  
 <span data-ttu-id="0420e-165">Les exemples de comportements de contrat dans WCF incluent l' <xref:System.ServiceModel.DeliveryRequirementsAttribute?displayProperty=nameWithType> attribut.</span><span class="sxs-lookup"><span data-stu-id="0420e-165">Examples of contract behaviors in WCF include the <xref:System.ServiceModel.DeliveryRequirementsAttribute?displayProperty=nameWithType> attribute.</span></span> <span data-ttu-id="0420e-166">Pour plus d'informations et obtenir un exemple, consultez la rubrique de référence.</span><span class="sxs-lookup"><span data-stu-id="0420e-166">For more information and an example, see the reference topic.</span></span>  
  
#### <a name="endpoint-behaviors"></a><span data-ttu-id="0420e-167">Comportements de point de terminaison</span><span class="sxs-lookup"><span data-stu-id="0420e-167">Endpoint Behaviors</span></span>  
 <span data-ttu-id="0420e-168">Les comportements de point de terminaison, qui implémentent <xref:System.ServiceModel.Description.IEndpointBehavior>, constituent le mécanisme principal vous permettant de modifier l'ensemble de l'exécution du service ou du client pour un point de terminaison spécifique.</span><span class="sxs-lookup"><span data-stu-id="0420e-168">Endpoint behaviors, which implement <xref:System.ServiceModel.Description.IEndpointBehavior>, are the primary mechanism by which you modify the entire service or client run time for a specific endpoint.</span></span>  
  
 <span data-ttu-id="0420e-169">Il existe deux mécanismes d'ajout de comportements de point de terminaison à un service.</span><span class="sxs-lookup"><span data-stu-id="0420e-169">There are two mechanisms for adding endpoint behaviors to a service.</span></span>  
  
1. <span data-ttu-id="0420e-170">Ajoutez le comportement à la propriété <xref:System.ServiceModel.Description.ServiceEndpoint.Behaviors%2A>.</span><span class="sxs-lookup"><span data-stu-id="0420e-170">Add the behavior to the <xref:System.ServiceModel.Description.ServiceEndpoint.Behaviors%2A> property.</span></span>  
  
2. <span data-ttu-id="0420e-171">Implémentez un <xref:System.ServiceModel.Configuration.BehaviorExtensionElement> personnalisé qui étend la configuration.</span><span class="sxs-lookup"><span data-stu-id="0420e-171">Implement a custom <xref:System.ServiceModel.Configuration.BehaviorExtensionElement> that extends configuration.</span></span>  
  
 <span data-ttu-id="0420e-172">Pour plus d'informations et obtenir un exemple, consultez la rubrique de référence.</span><span class="sxs-lookup"><span data-stu-id="0420e-172">For more information and an example, see the reference topic.</span></span>  
  
#### <a name="operation-behaviors"></a><span data-ttu-id="0420e-173">Comportements d'opération</span><span class="sxs-lookup"><span data-stu-id="0420e-173">Operation Behaviors</span></span>  
 <span data-ttu-id="0420e-174">Les comportements d'opération, qui implémentent l'interface <xref:System.ServiceModel.Description.IOperationBehavior>, permettent d'étendre à la fois l'exécution du client et du service pour chaque opération.</span><span class="sxs-lookup"><span data-stu-id="0420e-174">Operation behaviors, which implement the <xref:System.ServiceModel.Description.IOperationBehavior> interface, are used to extend both the client and service runtime for each operation.</span></span>  
  
 <span data-ttu-id="0420e-175">Il existe deux mécanismes d'ajout de comportements d'opération à une opération.</span><span class="sxs-lookup"><span data-stu-id="0420e-175">There are two mechanisms for adding operation behaviors to an operation.</span></span> <span data-ttu-id="0420e-176">Le premier consiste à créer un attribut personnalisé à utiliser sur la méthode qui modélise l'opération.</span><span class="sxs-lookup"><span data-stu-id="0420e-176">The first mechanism is to create a custom attribute to be used on the method that models the operation.</span></span> <span data-ttu-id="0420e-177">Lorsqu’une opération est ajoutée à <xref:System.ServiceModel.ServiceHost> ou <xref:System.ServiceModel.ChannelFactory> , WCF ajoute des <xref:System.ServiceModel.Description.IOperationBehavior> attributs à la collection de comportements sur le <xref:System.ServiceModel.Description.OperationDescription> créé pour cette opération.</span><span class="sxs-lookup"><span data-stu-id="0420e-177">When an operation is added to either a <xref:System.ServiceModel.ServiceHost> or a <xref:System.ServiceModel.ChannelFactory>, WCF adds any  <xref:System.ServiceModel.Description.IOperationBehavior> attributes to the behaviors collection on the <xref:System.ServiceModel.Description.OperationDescription> created for that operation.</span></span>  
  
 <span data-ttu-id="0420e-178">Le deuxième mécanisme consiste à ajouter directement le comportement à la collection de comportements sur un <xref:System.ServiceModel.Description.OperationDescription> construit.</span><span class="sxs-lookup"><span data-stu-id="0420e-178">The second mechanism is by directly adding the behavior to the behaviors collection on a constructed <xref:System.ServiceModel.Description.OperationDescription>.</span></span>  
  
 <span data-ttu-id="0420e-179">Les exemples de comportements d’opération dans WCF incluent les <xref:System.ServiceModel.OperationBehaviorAttribute> et <xref:System.ServiceModel.TransactionFlowAttribute> .</span><span class="sxs-lookup"><span data-stu-id="0420e-179">Examples of operation behaviors in WCF include the <xref:System.ServiceModel.OperationBehaviorAttribute> and the <xref:System.ServiceModel.TransactionFlowAttribute>.</span></span>  
  
 <span data-ttu-id="0420e-180">Pour plus d'informations et obtenir un exemple, consultez la rubrique de référence.</span><span class="sxs-lookup"><span data-stu-id="0420e-180">For more information and an example, see the reference topic.</span></span>  
  
### <a name="using-configuration-to-create-behaviors"></a><span data-ttu-id="0420e-181">Création de comportements à l'aide de la configuration</span><span class="sxs-lookup"><span data-stu-id="0420e-181">Using Configuration to Create Behaviors</span></span>  
 <span data-ttu-id="0420e-182">Les comportements de service, de point de terminaison et de contrat peuvent, de par leur conception, être spécifiés dans le code ou à l'aide d'attributs ; seuls les comportements de service et de point de terminaison peuvent être configurés à l'aide de fichiers d'application ou de configuration Web.</span><span class="sxs-lookup"><span data-stu-id="0420e-182">Service and endpoint, and contract behaviors can by designed to be specified in code or using attributes; only service and endpoint behaviors can be configured using application or Web configuration files.</span></span> <span data-ttu-id="0420e-183">L'exposition des comportements à l'aide d'attributs permet aux développeurs de spécifier un comportement au moment de la compilation qui ne peut pas être ajouté, supprimé ou modifié pendant l'exécution.</span><span class="sxs-lookup"><span data-stu-id="0420e-183">Exposing behaviors using attributes allows developers to specify a behavior at compilation-time that cannot be added, removed, or modified at runtime.</span></span> <span data-ttu-id="0420e-184">Cela s’avère souvent approprié pour les comportements qui sont systématiquement requis pour l’opération correcte d’un service (par exemple, les paramètres associés à la transaction de l’attribut <xref:System.ServiceModel.ServiceBehaviorAttribute?displayProperty=nameWithType>).</span><span class="sxs-lookup"><span data-stu-id="0420e-184">This is often suitable for behaviors that are always required for the correct operation of a service (for example, the transaction-related parameters to the <xref:System.ServiceModel.ServiceBehaviorAttribute?displayProperty=nameWithType> attribute).</span></span> <span data-ttu-id="0420e-185">L'exposition des comportements à l'aide de la configuration permet aux développeurs de laisser la spécification et la configuration de ces comportements à ceux qui déploient le service.</span><span class="sxs-lookup"><span data-stu-id="0420e-185">Exposing behaviors using configuration allows developers to leave the specification and configuration of those behaviors to those who deploy the service.</span></span> <span data-ttu-id="0420e-186">Cela s'avère approprié pour les comportements qui sont des composants facultatifs ou qui représentent une autre configuration spécifique au déploiement, dans le cas par exemple de l'exposition des métadonnées pour le service ou de la configuration d'autorisation spécifique d'un service.</span><span class="sxs-lookup"><span data-stu-id="0420e-186">This is suitable for behaviors that are optional components or other deployment-specific configuration, such as whether metadata is exposed for the service or the particular authorization configuration for a service.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="0420e-187">Vous pouvez également utiliser des comportements qui prennent en charge la configuration afin d'appliquer les stratégies d'application de la société en les insérant dans le fichier de configuration machine.config et en verrouillant ces éléments.</span><span class="sxs-lookup"><span data-stu-id="0420e-187">You can also use behaviors that support configuration to enforce company application policies by inserting them into the machine.config configuration file and locking those items down.</span></span> <span data-ttu-id="0420e-188">Pour obtenir une description et un exemple, consultez Guide pratique [pour verrouiller des points de terminaison dans l’entreprise](how-to-lock-down-endpoints-in-the-enterprise.md).</span><span class="sxs-lookup"><span data-stu-id="0420e-188">For a description and an example, see [How to: Lock Down Endpoints in the Enterprise](how-to-lock-down-endpoints-in-the-enterprise.md).</span></span>  
  
 <span data-ttu-id="0420e-189">Pour exposer un comportement à l’aide de la configuration, un développeur doit créer une classe dérivée de <xref:System.ServiceModel.Configuration.BehaviorExtensionElement>, puis enregistrer cette extension avec la configuration.</span><span class="sxs-lookup"><span data-stu-id="0420e-189">To expose a behavior using configuration, a developer must create a derived class of <xref:System.ServiceModel.Configuration.BehaviorExtensionElement> and then register that extension with configuration.</span></span>  
  
 <span data-ttu-id="0420e-190">L'exemple de code suivant indique comment <xref:System.ServiceModel.Description.IEndpointBehavior> implémente <xref:System.ServiceModel.Configuration.BehaviorExtensionElement> :</span><span class="sxs-lookup"><span data-stu-id="0420e-190">The following code example shows how an  <xref:System.ServiceModel.Description.IEndpointBehavior> implements <xref:System.ServiceModel.Configuration.BehaviorExtensionElement>:</span></span>  
  
```csharp
// BehaviorExtensionElement members  
public override Type BehaviorType  
{  
  get { return typeof(EndpointBehaviorMessageInspector); }  
}  
  
protected override object CreateBehavior()  
{  
  return new EndpointBehaviorMessageInspector();  
}  
```  
  
 <span data-ttu-id="0420e-191">Pour que le système de configuration charge un <xref:System.ServiceModel.Configuration.BehaviorExtensionElement> personnalisé, il doit être enregistré en tant qu’extension.</span><span class="sxs-lookup"><span data-stu-id="0420e-191">In order for the configuration system to load a custom <xref:System.ServiceModel.Configuration.BehaviorExtensionElement>, it must be registered as an extension.</span></span> <span data-ttu-id="0420e-192">L'exemple de code suivant présente le fichier de configuration du comportement de point de terminaison précédent :</span><span class="sxs-lookup"><span data-stu-id="0420e-192">The following code example shows the configuration file for the preceding endpoint behavior:</span></span>  
  
```xml  
<configuration>  
  <system.serviceModel>  
    <services>  
      <service
        name="Microsoft.WCF.Documentation.SampleService"  
        behaviorConfiguration="metadataSupport"  
      >  
        <host>  
          <baseAddresses>  
            <add baseAddress="http://localhost:8080/ServiceMetadata" />  
          </baseAddresses>  
        </host>  
        <endpoint  
          address="/SampleService"  
          binding="wsHttpBinding"  
          behaviorConfiguration="withMessageInspector"
          contract="Microsoft.WCF.Documentation.ISampleService"  
        />  
        <endpoint  
           address="mex"  
           binding="mexHttpBinding"  
           contract="IMetadataExchange"  
        />  
      </service>  
    </services>  
    <behaviors>  
      <serviceBehaviors>  
      <behavior name="metadataSupport">  
        <serviceMetadata httpGetEnabled="true" httpGetUrl=""/>  
      </behavior>  
      </serviceBehaviors>  
      <endpointBehaviors>  
        <behavior name="withMessageInspector">  
          <endpointMessageInspector />  
        </behavior>  
      </endpointBehaviors>  
    </behaviors>  
    <extensions>  
      <behaviorExtensions>  
        <add
          name="endpointMessageInspector"  
          type="Microsoft.WCF.Documentation.EndpointBehaviorMessageInspector, HostApplication, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null"  
        />  
      </behaviorExtensions>  
    </extensions>  
  </system.serviceModel>  
</configuration>  
```  
  
 <span data-ttu-id="0420e-193">Où `Microsoft.WCF.Documentation.EndpointBehaviorMessageInspector` est le type d’extension de comportement et `HostApplication` est le nom de l’assembly dans lequel cette classe a été compilée.</span><span class="sxs-lookup"><span data-stu-id="0420e-193">Where `Microsoft.WCF.Documentation.EndpointBehaviorMessageInspector` is the behavior extension type and `HostApplication` is the name of the assembly into which that class has been compiled.</span></span>  
  
### <a name="evaluation-order"></a><span data-ttu-id="0420e-194">Ordre d'évaluation</span><span class="sxs-lookup"><span data-stu-id="0420e-194">Evaluation Order</span></span>  
 <span data-ttu-id="0420e-195"><xref:System.ServiceModel.ChannelFactory%601?displayProperty=nameWithType> et <xref:System.ServiceModel.ServiceHost?displayProperty=nameWithType> sont chargés de générer l'exécution à partir de la description et du modèle de programmation.</span><span class="sxs-lookup"><span data-stu-id="0420e-195">The <xref:System.ServiceModel.ChannelFactory%601?displayProperty=nameWithType> and the <xref:System.ServiceModel.ServiceHost?displayProperty=nameWithType> are responsible for building the runtime from the programming model and description.</span></span> <span data-ttu-id="0420e-196">Les comportements, comme décrit précédemment, contribuent à ce processus de génération au niveau du service, du point de terminaison, du contrat et de l'opération.</span><span class="sxs-lookup"><span data-stu-id="0420e-196">Behaviors, as previously described, contribute to that build process at the service, endpoint, contract, and operation.</span></span>  
  
 <span data-ttu-id="0420e-197"><xref:System.ServiceModel.ServiceHost> applique les comportements dans l'ordre suivant :</span><span class="sxs-lookup"><span data-stu-id="0420e-197">The <xref:System.ServiceModel.ServiceHost> applies behaviors in the following order:</span></span>  
  
1. <span data-ttu-id="0420e-198">Service</span><span class="sxs-lookup"><span data-stu-id="0420e-198">Service</span></span>  
  
2. <span data-ttu-id="0420e-199">Contrat</span><span class="sxs-lookup"><span data-stu-id="0420e-199">Contract</span></span>  
  
3. <span data-ttu-id="0420e-200">Point de terminaison</span><span class="sxs-lookup"><span data-stu-id="0420e-200">Endpoint</span></span>  
  
4. <span data-ttu-id="0420e-201">Opération</span><span class="sxs-lookup"><span data-stu-id="0420e-201">Operation</span></span>  
  
 <span data-ttu-id="0420e-202">Dans une collection de comportements, aucun ordre n’est garanti.</span><span class="sxs-lookup"><span data-stu-id="0420e-202">Within any collection of behaviors, no order is guaranteed.</span></span>  
  
 <span data-ttu-id="0420e-203"><xref:System.ServiceModel.ChannelFactory%601> applique les comportements dans l'ordre suivant :</span><span class="sxs-lookup"><span data-stu-id="0420e-203">The <xref:System.ServiceModel.ChannelFactory%601> applies behaviors in the following order:</span></span>  
  
1. <span data-ttu-id="0420e-204">Contrat</span><span class="sxs-lookup"><span data-stu-id="0420e-204">Contract</span></span>  
  
2. <span data-ttu-id="0420e-205">Point de terminaison</span><span class="sxs-lookup"><span data-stu-id="0420e-205">Endpoint</span></span>  
  
3. <span data-ttu-id="0420e-206">Opération</span><span class="sxs-lookup"><span data-stu-id="0420e-206">Operation</span></span>  
  
 <span data-ttu-id="0420e-207">Dans une collection de comportements, à nouveau aucun ordre n’est garanti.</span><span class="sxs-lookup"><span data-stu-id="0420e-207">Within any collection of behaviors, again, no order is guaranteed.</span></span>  
  
### <a name="adding-behaviors-programmatically"></a><span data-ttu-id="0420e-208">Ajout de comportements par programme</span><span class="sxs-lookup"><span data-stu-id="0420e-208">Adding Behaviors Programmatically</span></span>  
 <span data-ttu-id="0420e-209">Les propriétés de <xref:System.ServiceModel.Description.ServiceDescription?displayProperty=nameWithType> dans l'application de service ne doivent pas être modifiées à l'issue de la méthode <xref:System.ServiceModel.Channels.CommunicationObject.OnOpening%2A?displayProperty=nameWithType> sur <xref:System.ServiceModel.ServiceHostBase?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="0420e-209">Properties of the <xref:System.ServiceModel.Description.ServiceDescription?displayProperty=nameWithType> in the service application must not be modified subsequent to the <xref:System.ServiceModel.Channels.CommunicationObject.OnOpening%2A?displayProperty=nameWithType> method on <xref:System.ServiceModel.ServiceHostBase?displayProperty=nameWithType>.</span></span> <span data-ttu-id="0420e-210">Certains membres, tels que la propriété <xref:System.ServiceModel.ServiceHostBase.Credentials%2A?displayProperty=nameWithType> et les méthodes `AddServiceEndpoint` sur <xref:System.ServiceModel.ServiceHostBase> et <xref:System.ServiceModel.ServiceHost?displayProperty=nameWithType>, lèvent une exception s'ils sont modifiés une fois ce stade passé.</span><span class="sxs-lookup"><span data-stu-id="0420e-210">Some members, like the <xref:System.ServiceModel.ServiceHostBase.Credentials%2A?displayProperty=nameWithType> property and the `AddServiceEndpoint` methods on <xref:System.ServiceModel.ServiceHostBase> and <xref:System.ServiceModel.ServiceHost?displayProperty=nameWithType>, throw an exception if modified past that point.</span></span> <span data-ttu-id="0420e-211">D'autres membres peuvent être modifiés, mais le résultat n'est pas défini.</span><span class="sxs-lookup"><span data-stu-id="0420e-211">Others permit you to modify them, but the result is undefined.</span></span>  
  
 <span data-ttu-id="0420e-212">De la même façon, sur le client les valeurs <xref:System.ServiceModel.Description.ServiceEndpoint?displayProperty=nameWithType> ne doivent pas être modifiées après l'appel à <xref:System.ServiceModel.Channels.CommunicationObject.OnOpening%2A> sur <xref:System.ServiceModel.ChannelFactory?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="0420e-212">Similarly, on the client the <xref:System.ServiceModel.Description.ServiceEndpoint?displayProperty=nameWithType> values must not be modified after the call to <xref:System.ServiceModel.Channels.CommunicationObject.OnOpening%2A> on the <xref:System.ServiceModel.ChannelFactory?displayProperty=nameWithType>.</span></span> <span data-ttu-id="0420e-213">La propriété <xref:System.ServiceModel.ChannelFactory.Credentials%2A?displayProperty=nameWithType> lève une exception si elle est modifiée une fois ce stade passé, mais les autres valeurs de description du client peuvent être modifiées sans erreur.</span><span class="sxs-lookup"><span data-stu-id="0420e-213">The <xref:System.ServiceModel.ChannelFactory.Credentials%2A?displayProperty=nameWithType> property throws an exception if modified past that point, but the other client description values can be modified without error.</span></span> <span data-ttu-id="0420e-214">Toutefois, le résultat n'est pas défini.</span><span class="sxs-lookup"><span data-stu-id="0420e-214">The result, however, is undefined.</span></span>  
  
 <span data-ttu-id="0420e-215">Aussi bien pour le service que le client, il est recommandé de modifier la description avant d'appeler <xref:System.ServiceModel.Channels.CommunicationObject.Open%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="0420e-215">Whether for the service or client, it is recommended that you modify the description prior to calling <xref:System.ServiceModel.Channels.CommunicationObject.Open%2A?displayProperty=nameWithType>.</span></span>  
  
### <a name="inheritance-rules-for-behavior-attributes"></a><span data-ttu-id="0420e-216">Règles d'héritage pour les attributs de comportement</span><span class="sxs-lookup"><span data-stu-id="0420e-216">Inheritance Rules for Behavior Attributes</span></span>  
 <span data-ttu-id="0420e-217">L'ensemble des quatre types de comportements peuvent être remplis à l'aide d'attributs (comportements de service et comportements de contrat).</span><span class="sxs-lookup"><span data-stu-id="0420e-217">All four types of behaviors can be populated using attributes – service behaviors and contract behaviors.</span></span> <span data-ttu-id="0420e-218">Ces attributs étant définis sur des membres et objets managés, et les membres et objets managés prenant en charge l'héritage, il est nécessaire de définir la façon dont les attributs de comportement fonctionnent dans le contexte d'héritage.</span><span class="sxs-lookup"><span data-stu-id="0420e-218">Because attributes are defined on managed objects and members, and managed objects and members support inheritance, it is necessary to define how behavior attributes work in the context of inheritance.</span></span>  
  
 <span data-ttu-id="0420e-219">À un niveau élevé, la règle veut que pour une portée spécifique (par exemple, service, contrat ou opération), tous les attributs de comportement de la hiérarchie d'héritage pour cette portée soient appliqués.</span><span class="sxs-lookup"><span data-stu-id="0420e-219">At a high level, the rule is that for a particular scope (for example, service, contract, or operation), all behavior attributes in the inheritance hierarchy for that scope are applied.</span></span> <span data-ttu-id="0420e-220">S'il existe deux attributs de comportement du même type, seul le type le plus dérivé est utilisé.</span><span class="sxs-lookup"><span data-stu-id="0420e-220">If there are two behavior attributes of the same type, only the most-derived type is used.</span></span>  
  
#### <a name="service-behaviors"></a><span data-ttu-id="0420e-221">Comportements de service</span><span class="sxs-lookup"><span data-stu-id="0420e-221">Service Behaviors</span></span>  
 <span data-ttu-id="0420e-222">Pour une classe de service donnée, l'ensemble des attributs de comportement de service sur cette classe, et sur les parents de celle-ci, sont appliqués.</span><span class="sxs-lookup"><span data-stu-id="0420e-222">For a given service class, all service behavior attributes on that class, and on parents of that class, are applied.</span></span> <span data-ttu-id="0420e-223">Si le même type d'attribut est appliqué à plusieurs emplacements dans la hiérarchie d'héritage, le type le plus dérivé est utilisé.</span><span class="sxs-lookup"><span data-stu-id="0420e-223">If the same type of attribute is applied at multiple places in the inheritance hierarchy, the most-derived type is used.</span></span>  
  
```csharp  
[ServiceBehavior(ConcurrencyMode = ConcurrencyMode.Multiple)]  
[AspNetCompatibilityRequirementsAttribute(  
    AspNetCompatibilityRequirementsMode = AspNetCompatibilityRequirementsMode.Allowed)]  
public class A { /* … */ }  
  
[ServiceBehavior(InstanceContextMode = InstanceContextMode.Single)]  
public class B : A { /* … */}  
```  
  
 <span data-ttu-id="0420e-224">Par exemple, dans le cas précédent, le service B se termine par <xref:System.ServiceModel.InstanceContextMode> de <xref:System.ServiceModel.InstanceContextMode.Single>, un mode <xref:System.ServiceModel.Activation.AspNetCompatibilityRequirementsMode> de <xref:System.ServiceModel.Activation.AspNetCompatibilityRequirementsMode.Allowed> et <xref:System.ServiceModel.ConcurrencyMode> de <xref:System.ServiceModel.ConcurrencyMode.Single>.</span><span class="sxs-lookup"><span data-stu-id="0420e-224">For example, in the preceding case, the service B ends up with an <xref:System.ServiceModel.InstanceContextMode> of <xref:System.ServiceModel.InstanceContextMode.Single>, an <xref:System.ServiceModel.Activation.AspNetCompatibilityRequirementsMode> mode of <xref:System.ServiceModel.Activation.AspNetCompatibilityRequirementsMode.Allowed>, and a <xref:System.ServiceModel.ConcurrencyMode> of <xref:System.ServiceModel.ConcurrencyMode.Single>.</span></span> <span data-ttu-id="0420e-225"><xref:System.ServiceModel.ConcurrencyMode> a la valeur <xref:System.ServiceModel.ConcurrencyMode.Single>, car l'attribut <xref:System.ServiceModel.ServiceBehaviorAttribute> sur le service B est « plus dérivé » que celui sur le service A.</span><span class="sxs-lookup"><span data-stu-id="0420e-225">The <xref:System.ServiceModel.ConcurrencyMode> is <xref:System.ServiceModel.ConcurrencyMode.Single>, because <xref:System.ServiceModel.ServiceBehaviorAttribute> attribute on service B is on "more derived" than that on service A.</span></span>  
  
#### <a name="contract-behaviors"></a><span data-ttu-id="0420e-226">Comportements de contrat</span><span class="sxs-lookup"><span data-stu-id="0420e-226">Contract Behaviors</span></span>  
 <span data-ttu-id="0420e-227">Pour un contrat donné, tous les attributs de comportement de contrat sur cette interface et sur les parents de celle-ci, sont appliqués.</span><span class="sxs-lookup"><span data-stu-id="0420e-227">For a given contract, all contract behavior attributes on that interface and on parents of that interface, are applied.</span></span> <span data-ttu-id="0420e-228">Si le même type d'attribut est appliqué à plusieurs emplacements dans la hiérarchie d'héritage, le type le plus dérivé est utilisé.</span><span class="sxs-lookup"><span data-stu-id="0420e-228">If the same type of attribute is applied at multiple places in the inheritance hierarchy, the most-derived type is used.</span></span>  
  
#### <a name="operation-behaviors"></a><span data-ttu-id="0420e-229">Comportements d'opération</span><span class="sxs-lookup"><span data-stu-id="0420e-229">Operation Behaviors</span></span>  
 <span data-ttu-id="0420e-230">Si une opération donnée ne substitue pas une opération virtuelle ou abstraite existante, aucune règle d'héritage ne s'applique.</span><span class="sxs-lookup"><span data-stu-id="0420e-230">If a given operation does not override an existing abstract or virtual operation, no inheritance rules apply.</span></span>  
  
 <span data-ttu-id="0420e-231">Si une opération substitue une opération existante, alors tous les attributs de comportement d'opération sur cette opération, et sur les parents de celle-ci, sont appliqués.</span><span class="sxs-lookup"><span data-stu-id="0420e-231">If an operation does override an existing operation, then all operation behavior attributes on that operation and on parents of that operation, are applied.</span></span>  <span data-ttu-id="0420e-232">Si le même type d'attribut est appliqué à plusieurs emplacements dans la hiérarchie d'héritage, le type le plus dérivé est utilisé.</span><span class="sxs-lookup"><span data-stu-id="0420e-232">If the same type of attribute is applied at multiple places in the inheritance hierarchy, the most-derived type is used.</span></span>
