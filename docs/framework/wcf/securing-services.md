---
title: Sécurisation de services
ms.date: 03/30/2017
helpviewer_keywords:
- configuration [WCF], securing services
- WCF security
- WCF, security
ms.assetid: f0ecc6f7-f4b5-42a4-9cb1-b02e28e26620
ms.openlocfilehash: f2a8e10aaf9c1dbe3065344963fcc712776cd2db
ms.sourcegitcommit: bc293b14af795e0e999e3304dd40c0222cf2ffe4
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 11/26/2020
ms.locfileid: "96242225"
---
# <a name="securing-services"></a><span data-ttu-id="321fb-102">Sécurisation de services</span><span class="sxs-lookup"><span data-stu-id="321fb-102">Securing Services</span></span>

<span data-ttu-id="321fb-103">La sécurité d’un service Windows Communication Foundation (WCF) est constituée de deux exigences principales : la sécurité de transfert et l’autorisation.</span><span class="sxs-lookup"><span data-stu-id="321fb-103">Security of a Windows Communication Foundation (WCF) service consists of two primary requirements: transfer security and authorization.</span></span> <span data-ttu-id="321fb-104">(Une troisième exigence, l’audit des événements de sécurité, est décrite dans [audit](./feature-details/auditing-security-events.md).) En bref, la sécurité de transfert comprend l’authentification (vérification de l’identité du service et du client), de la confidentialité (chiffrement des messages) et de l’intégrité (signature numérique pour détecter la falsification).</span><span class="sxs-lookup"><span data-stu-id="321fb-104">(A third requirement, auditing of security events, is described in [Auditing](./feature-details/auditing-security-events.md).) In brief, transfer security includes authentication (verifying the identity of both the service and the client), confidentiality (message encryption), and integrity (digital signing to detect tampering).</span></span> <span data-ttu-id="321fb-105">L'autorisation est le contrôle d'accès aux ressources, par exemple en autorisant uniquement les utilisateurs privilégiés à lire un fichier.</span><span class="sxs-lookup"><span data-stu-id="321fb-105">Authorization is the control of access to resources, for example, allowing only privileged users to read a file.</span></span> <span data-ttu-id="321fb-106">À l’aide des fonctionnalités de WCF, les deux exigences principales sont facilement implémentées.</span><span class="sxs-lookup"><span data-stu-id="321fb-106">Using features of WCF, the two primary requirements are easily implemented.</span></span>  
  
 <span data-ttu-id="321fb-107">À l’exception de la <xref:System.ServiceModel.BasicHttpBinding> classe (ou de l' [\<basicHttpBinding>](../configure-apps/file-schema/wcf/basichttpbinding.md) élément dans la configuration), la sécurité de transfert est activée par défaut pour toutes les liaisons prédéfinies.</span><span class="sxs-lookup"><span data-stu-id="321fb-107">With the exception of the <xref:System.ServiceModel.BasicHttpBinding> class (or the [\<basicHttpBinding>](../configure-apps/file-schema/wcf/basichttpbinding.md) element in configuration), transfer security is enabled by default for all of the predefined bindings.</span></span> <span data-ttu-id="321fb-108">Les rubriques de cette section présentent deux scénarios de base : implémentation de la sécurité de transfert et de l'autorisation sur un service intranet hébergé sur IIS (Internet Information Services) et implémentation de la sécurité de transfert et de l'autorisation sur un service hébergé sur IIS.</span><span class="sxs-lookup"><span data-stu-id="321fb-108">The topics in this section cover two basic scenarios: implementing transfer security and authorization on an intranet service hosted on Internet Information Services (IIS), and implementing transfer security and authorization on a service hosted on IIS.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="321fb-109">Windows XP Édition Familiale ne prend pas en charge l'authentification Windows.</span><span class="sxs-lookup"><span data-stu-id="321fb-109">Windows XP Home does not support Windows authentication.</span></span> <span data-ttu-id="321fb-110">Par conséquent, vous ne devez pas exécuter un service sur ce système.</span><span class="sxs-lookup"><span data-stu-id="321fb-110">Therefore, you should not run a service on that system.</span></span>  
  
## <a name="security-basics"></a><span data-ttu-id="321fb-111">Concepts de base de la sécurité</span><span class="sxs-lookup"><span data-stu-id="321fb-111">Security Basics</span></span>  

 <span data-ttu-id="321fb-112">La sécurité repose sur des *informations d'identification*.</span><span class="sxs-lookup"><span data-stu-id="321fb-112">Security relies on *credentials*.</span></span> <span data-ttu-id="321fb-113">Les informations d'identification prouvent qu'une entité est bien celle qu'elle prétend être.</span><span class="sxs-lookup"><span data-stu-id="321fb-113">A credential proves that an entity is who it claims to be.</span></span> <span data-ttu-id="321fb-114">(Une *entité* peut être une personne, un processus logiciel, une société ou tout ce qui peut être autorisé.) Par exemple, un client d’un service fait une *revendication* d' *identité* et les informations d’identification prouvent cette revendication d’une certaine manière.</span><span class="sxs-lookup"><span data-stu-id="321fb-114">(An *entity* can be a person, a software process, a company, or anything that can be authorized.) For example, a client of a service makes a *claim* of *identity*, and the credential proves that claim in some manner.</span></span> <span data-ttu-id="321fb-115">Dans un scénario typique, un échange d'informations d'identification se produit.</span><span class="sxs-lookup"><span data-stu-id="321fb-115">In a typical scenario, an exchange of credentials occurs.</span></span> <span data-ttu-id="321fb-116">Tout d'abord, un service fait une revendication de son identité et la prouve au client avec des informations d'identification.</span><span class="sxs-lookup"><span data-stu-id="321fb-116">First, a service makes a claim of its identity and proves it to the client with a credential.</span></span> <span data-ttu-id="321fb-117">À son tour, le client fait une revendication d'identité et présente des informations d'identification au service.</span><span class="sxs-lookup"><span data-stu-id="321fb-117">Conversely, the client makes a claim of identity and presents a credential to the service.</span></span> <span data-ttu-id="321fb-118">Si les deux partis approuvent les informations d'identification de l'autre parti, un nouveau *contexte de sécurité* peut être établi dans lequel tous les messages sont échangés en toute confidentialité et sont signés afin de protéger leur intégrité.</span><span class="sxs-lookup"><span data-stu-id="321fb-118">If both parties trust the other's credentials, then a *secure context* can be established in which all messages are exchanged in confidentiality, and all messages are signed to protect their integrity.</span></span> <span data-ttu-id="321fb-119">Une fois que la service a établi l'identité du client, il peut mettre en correspondre les revendications des informations d'identification à un *rôle* ou une *appartenance* à un groupe.</span><span class="sxs-lookup"><span data-stu-id="321fb-119">After the service establishes the client's identity, it can then match the claims in the credential to a *role* or *membership* in a group.</span></span> <span data-ttu-id="321fb-120">Dans les deux cas, à l'aide du rôle ou du groupe auquel le client appartient, le service *autorise* le client à exécuter un jeu limité d'opérations qui dépend des privilèges du rôle ou du groupe.</span><span class="sxs-lookup"><span data-stu-id="321fb-120">In either case, using the role or the group to which the client belongs, the service *authorizes* the client to perform a limited set of operations based on the role or group privileges.</span></span>  
  
## <a name="windows-security-mechanisms"></a><span data-ttu-id="321fb-121">Mécanismes de la sécurité Windows</span><span class="sxs-lookup"><span data-stu-id="321fb-121">Windows Security Mechanisms</span></span>  

 <span data-ttu-id="321fb-122">Si l'ordinateur client et l'ordinateur de service se trouvent tous deux dans un domaine Windows qui requiert que tous deux se connectent au réseau, les informations d'identification sont fournies par l'infrastructure Windows.</span><span class="sxs-lookup"><span data-stu-id="321fb-122">If the client and the service computer are both on a Windows domain that requires both to log on to the network, the credentials are provided by Windows infrastructure.</span></span> <span data-ttu-id="321fb-123">Dans ce cas, les informations d'identification sont établies lorsqu'un utilisateur se connecte au réseau.</span><span class="sxs-lookup"><span data-stu-id="321fb-123">In that case, the credentials are established when a computer user logs on to the network.</span></span> <span data-ttu-id="321fb-124">Chaque utilisateur et chaque ordinateur du réseau doit être validé comme appartenant au jeu approuvé d'utilisateurs et d'ordinateurs.</span><span class="sxs-lookup"><span data-stu-id="321fb-124">Every user and every computer on the network must be validated as belonging to the trusted set of users and computers.</span></span> <span data-ttu-id="321fb-125">Sur un système Windows, chacun de ces utilisateurs et ordinateurs est également appelé *principal de sécurité*.</span><span class="sxs-lookup"><span data-stu-id="321fb-125">On a Windows system, every such user and computer is also known as a *security principal*.</span></span>  
  
 <span data-ttu-id="321fb-126">Sur un domaine Windows assorti d'un contrôleur *Kerberos* , le contrôleur Kerberos utilise un schéma reposant sur l'octroi de tickets à chaque principal de sécurité.</span><span class="sxs-lookup"><span data-stu-id="321fb-126">On a Windows domain backed by a *Kerberos* controller, the Kerberos controller uses a scheme based on granting tickets to each security principal.</span></span> <span data-ttu-id="321fb-127">Les tickets octroyés par le contrôleur sont approuvés par d'autres octroyeurs de tickets du système.</span><span class="sxs-lookup"><span data-stu-id="321fb-127">The tickets the controller grants are trusted by other ticket granters in the system.</span></span> <span data-ttu-id="321fb-128">Dès lors qu'une entité essaie d'exécuter une opération ou d'accéder à une *ressource* (comme un fichier ou un répertoire sur un ordinateur), la validité du ticket est vérifiée et, si elle est établie, un autre ticket est fourni à la principal de sécurité pour cette opération.</span><span class="sxs-lookup"><span data-stu-id="321fb-128">Whenever an entity tries to perform some operation or access a *resource* (such as a file or directory on a machine), the ticket is examined for its validity and, if it passes, the principal is granted another ticket for the operation.</span></span> <span data-ttu-id="321fb-129">Cette méthode d'octroi de tickets est plus efficace que l'autre solution qui consiste à essayer de valider l'entité principale pour chaque opération.</span><span class="sxs-lookup"><span data-stu-id="321fb-129">This method of granting tickets is more efficient than the alternative of trying to validate the principal for every operation.</span></span>  
  
 <span data-ttu-id="321fb-130">Un mécanisme plus ancien et moins sécurisé est utilisé sur les domaines Windows ; il s'agit de NT LAN Manager (NTLM).</span><span class="sxs-lookup"><span data-stu-id="321fb-130">An older, less-secure mechanism used on Windows domains is NT LAN Manager (NTLM).</span></span> <span data-ttu-id="321fb-131">Lorsque Kerberos ne peut pas être utilisé (généralement à l'extérieur d'un domaine Windows, comme dans un groupe de travail), NTLM peut être utilisé à la place.</span><span class="sxs-lookup"><span data-stu-id="321fb-131">In cases where Kerberos cannot be used (typically outside of a Windows domain, such as in a workgroup), NTLM can be used as an alternative.</span></span> <span data-ttu-id="321fb-132">NTLM est également disponible comme option de sécurité d'IIS.</span><span class="sxs-lookup"><span data-stu-id="321fb-132">NTLM is also available as a security option for IIS.</span></span>  
  
 <span data-ttu-id="321fb-133">Sur un système Windows, l'autorisation consiste à assigner chaque ordinateur et utilisateur à un jeu de rôles et de groupes.</span><span class="sxs-lookup"><span data-stu-id="321fb-133">On a Windows system, authorization works by assigning each computer and user to a set of roles and groups.</span></span> <span data-ttu-id="321fb-134">Par exemple, chaque ordinateur Windows doit être configuré et contrôlé par une personne (ou un groupe de personnes) ayant le rôle d' *administrateur*.</span><span class="sxs-lookup"><span data-stu-id="321fb-134">For example, every Windows computer must be set up and controlled by a person (or group of people) in the role of the *administrator*.</span></span> <span data-ttu-id="321fb-135">Il existe également un autre rôle, celui d' *utilisateur*, qui dispose d'un jeu beaucoup plus limité d'autorisations.</span><span class="sxs-lookup"><span data-stu-id="321fb-135">Another role is that of the *user*, which has a much more constrained set of permissions.</span></span> <span data-ttu-id="321fb-136">Outre le rôle, les utilisateurs sont assignés à des groupes.</span><span class="sxs-lookup"><span data-stu-id="321fb-136">In addition to the role, users are assigned to groups.</span></span> <span data-ttu-id="321fb-137">Un groupe permet à plusieurs utilisateurs de travailler avec le même rôle.</span><span class="sxs-lookup"><span data-stu-id="321fb-137">A group allows multiple users to perform in the same role.</span></span> <span data-ttu-id="321fb-138">Dans la pratique, un ordinateur Windows est par conséquent administré en assignant des utilisateurs à des groupes.</span><span class="sxs-lookup"><span data-stu-id="321fb-138">In practice, therefore, a Windows machine is administered by assigning users to groups.</span></span> <span data-ttu-id="321fb-139">Par exemple, plusieurs utilisateurs peuvent être assignés au groupe d'utilisateurs d'un ordinateur et un jeu beaucoup plus limité d'utilisateurs peut être assigné au groupe des administrateurs.</span><span class="sxs-lookup"><span data-stu-id="321fb-139">For example, several users can be assigned to the group of users of a computer, and a much more constrained set of users can be assigned to the group of administrators.</span></span> <span data-ttu-id="321fb-140">Sur un ordinateur local, un administrateur peut également créer des groupes et assigner d'autres utilisateurs (voire d'autres groupes) à ces groupes.</span><span class="sxs-lookup"><span data-stu-id="321fb-140">On a local machine, an administrator can also create new groups and assign other users (or even other groups) to the group.</span></span>  
  
 <span data-ttu-id="321fb-141">Sur un ordinateur qui exécute Windows, chaque dossier d'un répertoire peut être protégé.</span><span class="sxs-lookup"><span data-stu-id="321fb-141">On a computer running Windows, every folder in a directory can be protected.</span></span> <span data-ttu-id="321fb-142">Autrement dit, vous pouvez sélectionner un dossier et contrôler qui peut accéder aux fichiers et si ces utilisateurs peuvent ou non copier, modifier ou supprimer un fichier, ou encore ajouter des fichiers au dossier.</span><span class="sxs-lookup"><span data-stu-id="321fb-142">That is, you can select a folder and control who can access the files, and whether or not they can copy the file, or (in the most privileged case) change a file, delete a file, or add files to the folder.</span></span> <span data-ttu-id="321fb-143">Il s'agit du contrôle d'accès. Le mécanisme associé est appelé la liste de contrôle d'accès (ACL, Access Control List).</span><span class="sxs-lookup"><span data-stu-id="321fb-143">This is known as access control, and the mechanism for it is known as the access control list (ACL).</span></span> <span data-ttu-id="321fb-144">Lors de la création de l'ACL, vous pouvez assigner des privilèges d'accès à tout groupe, de même qu'aux membres individuels d'un domaine.</span><span class="sxs-lookup"><span data-stu-id="321fb-144">When creating the ACL, you can assign access privileges to any group or groups, as well as individual members of a domain.</span></span>  
  
 <span data-ttu-id="321fb-145">L’infrastructure WCF est conçue pour utiliser ces mécanismes de sécurité Windows.</span><span class="sxs-lookup"><span data-stu-id="321fb-145">The WCF infrastructure is designed to use these Windows security mechanisms.</span></span> <span data-ttu-id="321fb-146">Par conséquent, si vous créez un service déployé sur un intranet dont les clients sont limités aux membres du domaine Windows, la sécurité est facilement implémentée.</span><span class="sxs-lookup"><span data-stu-id="321fb-146">Therefore, if you are creating a service that is deployed on an intranet, and whose clients are restricted to members of the Windows domain, security is easily implemented.</span></span> <span data-ttu-id="321fb-147">Seuls les utilisateurs valides peuvent se connecter au domaine.</span><span class="sxs-lookup"><span data-stu-id="321fb-147">Only valid users can log on to the domain.</span></span> <span data-ttu-id="321fb-148">Une fois les utilisateurs connectés, le contrôleur Kerberos permet à chaque utilisateur d'établir des contextes de sécurité avec tout autre ordinateur ou application.</span><span class="sxs-lookup"><span data-stu-id="321fb-148">After users are logged on, the Kerberos controller enables each user to establish secure contexts with any other computer or application.</span></span> <span data-ttu-id="321fb-149">Sur un ordinateur local, des groupes peuvent facilement être créés, et lors de la protection de dossiers spécifiques, ces groupes peuvent être utilisés pour assigner des privilèges d'accès sur l'ordinateur.</span><span class="sxs-lookup"><span data-stu-id="321fb-149">On a local machine, groups can be easily created, and when protecting specific folders, those groups can be used to assign access privileges on the computer.</span></span>  
  
## <a name="implementing-windows-security-on-intranet-services"></a><span data-ttu-id="321fb-150">Implémentation de la sécurité Windows sur des services intranet</span><span class="sxs-lookup"><span data-stu-id="321fb-150">Implementing Windows Security on Intranet Services</span></span>  

 <span data-ttu-id="321fb-151">Pour sécuriser une application qui s'exécute exclusivement sur un domaine Windows, vous pouvez utiliser les paramètres de sécurité par défaut de la liaison <xref:System.ServiceModel.WSHttpBinding> ou <xref:System.ServiceModel.NetTcpBinding> .</span><span class="sxs-lookup"><span data-stu-id="321fb-151">To secure an application that runs exclusively on a Windows domain, you can use the default security settings of either the <xref:System.ServiceModel.WSHttpBinding> or the <xref:System.ServiceModel.NetTcpBinding> binding.</span></span> <span data-ttu-id="321fb-152">Par défaut, toute personne se trouvant dans le même domaine Windows peut accéder aux services WCF.</span><span class="sxs-lookup"><span data-stu-id="321fb-152">By default, anyone on the same Windows domain can access WCF services.</span></span> <span data-ttu-id="321fb-153">Ces utilisateurs s'étant connectés au réseau, ils sont approuvés.</span><span class="sxs-lookup"><span data-stu-id="321fb-153">Because those users have logged on to the network, they are trusted.</span></span> <span data-ttu-id="321fb-154">Les messages entre un service et un client sont chiffrés à des fins de confidentialité et archivés à des fins d'intégrité.</span><span class="sxs-lookup"><span data-stu-id="321fb-154">The messages between a service and a client are encrypted for confidentiality and signed for integrity.</span></span> <span data-ttu-id="321fb-155">Pour plus d’informations sur la création d’un service qui utilise la sécurité Windows, consultez [Comment : sécuriser un service avec des informations d’identification Windows](how-to-secure-a-service-with-windows-credentials.md).</span><span class="sxs-lookup"><span data-stu-id="321fb-155">For more information about how to create a service that uses Windows security, see [How to: Secure a Service with Windows Credentials](how-to-secure-a-service-with-windows-credentials.md).</span></span>  
  
### <a name="authorization-using-the-principalpermissionattribute-class"></a><span data-ttu-id="321fb-156">Autorisation à l'aide de la classe PrincipalPermissionAttribute</span><span class="sxs-lookup"><span data-stu-id="321fb-156">Authorization Using the PrincipalPermissionAttribute Class</span></span>  

 <span data-ttu-id="321fb-157">Si vous devez limiter l'accès aux ressources d'un ordinateur, le moyen le plus simple est d'utiliser la classe <xref:System.Security.Permissions.PrincipalPermissionAttribute> .</span><span class="sxs-lookup"><span data-stu-id="321fb-157">If you need to restrict the access of resources on a computer, the easiest way is to use the <xref:System.Security.Permissions.PrincipalPermissionAttribute> class.</span></span> <span data-ttu-id="321fb-158">Cet attribut vous permet de limiter l'invocation des opérations de service en exigeant que l'utilisateur appartienne à un groupe ou un rôle Windows spécifique ou qu'il soit un utilisateur spécifique.</span><span class="sxs-lookup"><span data-stu-id="321fb-158">This attribute enables you to restrict the invocation of service operations by demanding that the user be in a specified Windows group or role, or to be a specific user.</span></span> <span data-ttu-id="321fb-159">Pour plus d’informations, consultez [Comment : restreindre l’accès avec la classe PrincipalPermissionAttribute](how-to-restrict-access-with-the-principalpermissionattribute-class.md).</span><span class="sxs-lookup"><span data-stu-id="321fb-159">For more information, see [How to: Restrict Access with the PrincipalPermissionAttribute Class](how-to-restrict-access-with-the-principalpermissionattribute-class.md).</span></span>  
  
### <a name="impersonation"></a><span data-ttu-id="321fb-160">Emprunt d'identité</span><span class="sxs-lookup"><span data-stu-id="321fb-160">Impersonation</span></span>  

 <span data-ttu-id="321fb-161">L'emprunt d'identité est un autre mécanisme que vous pouvez utiliser pour contrôler l'accès aux ressources.</span><span class="sxs-lookup"><span data-stu-id="321fb-161">Impersonation is another mechanism that you can use to control access to resources.</span></span> <span data-ttu-id="321fb-162">Par défaut, un service hébergé par IIS s'exécutera sous l'identité du compte ASPNET.</span><span class="sxs-lookup"><span data-stu-id="321fb-162">By default, a service hosted by IIS will run under the identity of the ASPNET account.</span></span> <span data-ttu-id="321fb-163">Le compte ASPNET peut accéder uniquement aux ressources pour lesquelles il possède une autorisation.</span><span class="sxs-lookup"><span data-stu-id="321fb-163">The ASPNET account can access only the resources for which it has permission.</span></span> <span data-ttu-id="321fb-164">Toutefois, il est possible de définir l'ACL pour un dossier de manière à exclure le compte de service ASPNET tout en autorisant certaines autres identités à accéder au dossier.</span><span class="sxs-lookup"><span data-stu-id="321fb-164">However, it is possible to set the ACL for a folder to exclude the ASPNET service account, but allow certain other identities to access the folder.</span></span> <span data-ttu-id="321fb-165">Reste ensuite à savoir comment autoriser ces utilisateurs à accéder au dossier si le compte ASPNET n'y est pas autorisé.</span><span class="sxs-lookup"><span data-stu-id="321fb-165">The question then becomes how to allow those users to access the folder if the ASPNET account is not allowed to do so.</span></span> <span data-ttu-id="321fb-166">La solution consiste à utiliser l'emprunt d'identité. Le service est alors autorisé à utiliser les informations d'identification du client pour accéder à une ressource particulière.</span><span class="sxs-lookup"><span data-stu-id="321fb-166">The answer is to use impersonation, whereby the service is allowed to use the credentials of the client to access a particular resource.</span></span> <span data-ttu-id="321fb-167">L'accès à une base de données SQL Server à laquelle seuls certains utilisateurs sont autorisés à accéder est un autre exemple.</span><span class="sxs-lookup"><span data-stu-id="321fb-167">Another example is when accessing a SQL Server database to which only certain users have permission.</span></span> <span data-ttu-id="321fb-168">Pour plus d’informations sur l’utilisation de l’emprunt d’identité, consultez [Comment : emprunter l’identité d’un client sur un service](how-to-impersonate-a-client-on-a-service.md) et [délégation et emprunt d’identité](./feature-details/delegation-and-impersonation-with-wcf.md).</span><span class="sxs-lookup"><span data-stu-id="321fb-168">For more information about using impersonation, see [How to: Impersonate a Client on a Service](how-to-impersonate-a-client-on-a-service.md) and [Delegation and Impersonation](./feature-details/delegation-and-impersonation-with-wcf.md).</span></span>  
  
## <a name="security-on-the-internet"></a><span data-ttu-id="321fb-169">Sécurité sur Internet</span><span class="sxs-lookup"><span data-stu-id="321fb-169">Security on the Internet</span></span>  

 <span data-ttu-id="321fb-170">La sécurité sur Internet revêt les mêmes spécifications que la sécurité sur un intranet.</span><span class="sxs-lookup"><span data-stu-id="321fb-170">Security on the Internet consists of the same requirements as security on an intranet.</span></span> <span data-ttu-id="321fb-171">Un service doit présenter ses informations d'identification pour prouver son authenticité, et les clients doivent prouver leur identité au service.</span><span class="sxs-lookup"><span data-stu-id="321fb-171">A service needs to present its credentials to prove its authenticity, and clients need to prove their identity to the service.</span></span> <span data-ttu-id="321fb-172">Une fois l'identité d'un client prouvée, le service peut contrôler le niveau d'accès du client aux ressources.</span><span class="sxs-lookup"><span data-stu-id="321fb-172">Once a client's identity is proven, the service can control how much access the client has to resources.</span></span> <span data-ttu-id="321fb-173">Toutefois, en raison de la nature hétérogène d'Internet, les informations d'identification présentées diffèrent de celles utilisées sur un domaine Windows.</span><span class="sxs-lookup"><span data-stu-id="321fb-173">However, due to the heterogeneous nature of the Internet, the credentials presented differ from those used on a Windows domain.</span></span> <span data-ttu-id="321fb-174">Alors qu'un contrôleur Kerberos gère l'authentification des utilisateurs sur un domaine avec des tickets pour les informations d'identification, sur Internet, les services et les clients peuvent utiliser de nombreuses méthodes pour présenter les informations d'identification.</span><span class="sxs-lookup"><span data-stu-id="321fb-174">Whereas a Kerberos controller handles the authentication of users on a domain with tickets for credentials, on the Internet, services and clients rely on any one of several different ways to present credentials.</span></span> <span data-ttu-id="321fb-175">Toutefois, l’objectif de cette rubrique est de présenter une approche commune qui vous permet de créer un service WCF accessible sur Internet.</span><span class="sxs-lookup"><span data-stu-id="321fb-175">The objective of this topic, however, is to present a common approach that enables you to create a WCF service that is accessible on the Internet.</span></span>  
  
### <a name="using-iis-and-aspnet"></a><span data-ttu-id="321fb-176">Utilisation d'IIS et d'ASP.NET</span><span class="sxs-lookup"><span data-stu-id="321fb-176">Using IIS and ASP.NET</span></span>  

 <span data-ttu-id="321fb-177">Les spécifications de la sécurité Internet, tout comme les mécanismes de résolution de ces problèmes, ne sont pas nouveaux.</span><span class="sxs-lookup"><span data-stu-id="321fb-177">The requirements of Internet security, and the mechanisms to solve those problems, are not new.</span></span> <span data-ttu-id="321fb-178">IIS est le serveur Web de Microsoft pour Internet et propose de nombreuses fonctionnalités de sécurité qui répondent à ces problèmes. en outre, ASP.NET comprend des fonctionnalités de sécurité que les services WCF peuvent utiliser.</span><span class="sxs-lookup"><span data-stu-id="321fb-178">IIS is Microsoft's Web server for the Internet and has many security features that address those problems; in addition, ASP.NET includes security features that WCF services can use.</span></span> <span data-ttu-id="321fb-179">Pour tirer parti de ces fonctionnalités de sécurité, hébergez un service WCF sur IIS.</span><span class="sxs-lookup"><span data-stu-id="321fb-179">To take advantage of these security features, host an WCF service on IIS.</span></span>  
  
#### <a name="using-aspnet-membership-and-role-providers"></a><span data-ttu-id="321fb-180">Utilisation de fournisseurs d'appartenances et de rôles ASP.NET</span><span class="sxs-lookup"><span data-stu-id="321fb-180">Using ASP.NET Membership and Role Providers</span></span>  

 <span data-ttu-id="321fb-181">ASP.NET inclut un fournisseur d'appartenances et de rôles.</span><span class="sxs-lookup"><span data-stu-id="321fb-181">ASP.NET includes a membership and role provider.</span></span> <span data-ttu-id="321fb-182">Ce fournisseur est une base de données de paires nom d'utilisateur/mot de passe utilisées pour l'authentification des appelants, qui vous permet également de spécifier les privilèges d'accès de chaque appelant.</span><span class="sxs-lookup"><span data-stu-id="321fb-182">The provider is a database of user name/password pairs for authenticating callers that also allows you to specify each caller's access privileges.</span></span> <span data-ttu-id="321fb-183">Avec WCF, vous pouvez facilement utiliser un fournisseur d’appartenances et de rôles préexistant par le biais de la configuration.</span><span class="sxs-lookup"><span data-stu-id="321fb-183">With WCF, you can easily use a pre-existing membership and role provider through configuration.</span></span> <span data-ttu-id="321fb-184">Pour obtenir un exemple d'application démontrant ces propos, consultez l'exemple [Membership and Role Provider](./samples/membership-and-role-provider.md) .</span><span class="sxs-lookup"><span data-stu-id="321fb-184">For a sample application that demonstrates this, see the [Membership and Role Provider](./samples/membership-and-role-provider.md) sample.</span></span>  
  
### <a name="credentials-used-by-iis"></a><span data-ttu-id="321fb-185">Informations d'identification utilisées par IIS</span><span class="sxs-lookup"><span data-stu-id="321fb-185">Credentials Used by IIS</span></span>  

 <span data-ttu-id="321fb-186">À la différence d'un domaine Windows assorti d'un contrôleur Kerberos, Internet est un environnement qui ne dispose d'aucun contrôleur pour gérer les millions d'utilisateurs qui se connectent à tout moment.</span><span class="sxs-lookup"><span data-stu-id="321fb-186">Unlike a Windows domain backed by a Kerberos controller, the Internet is an environment without a single controller to manage the millions of users logging on at any time.</span></span> <span data-ttu-id="321fb-187">Au lieu de cela, les informations d'identification sur Internet ont très souvent la forme de certificats X.509 (également appelés certificats Secure Sockets Layer ou SSL).</span><span class="sxs-lookup"><span data-stu-id="321fb-187">Instead, credentials on the Internet most often are in the form of X.509 certificates (also known as Secure Sockets Layer, or SSL, certificates).</span></span> <span data-ttu-id="321fb-188">Ces certificats sont généralement émis par une *autorité de certification*, qui peut être une société tierce qui se porte garant de l'authenticité du certificat et de la personne pour laquelle il a été émis.</span><span class="sxs-lookup"><span data-stu-id="321fb-188">These certificates are typically issued by a *certification authority*, which can be a third-party company that vouches for the authenticity of the certificate and the person it has been issued to.</span></span> <span data-ttu-id="321fb-189">Pour exposer votre service sur Internet, vous devez également fournir un tel certificat approuvé pour authentifier votre service.</span><span class="sxs-lookup"><span data-stu-id="321fb-189">To expose your service on the Internet, you must also supply such a trusted certificate to authenticate your service.</span></span>  
  
 <span data-ttu-id="321fb-190">Là se pose la question suivante : comment obtenir un tel certificat ?</span><span class="sxs-lookup"><span data-stu-id="321fb-190">The question arises at this point, how do you get such a certificate?</span></span> <span data-ttu-id="321fb-191">Une approche consiste à s'adresser à une autorité de certification tierce, telle qu'Authenticode ou VeriSign, lorsque vous êtes prêt à déployer votre service et à acheter un certificat pour votre service.</span><span class="sxs-lookup"><span data-stu-id="321fb-191">One approach is to go to a third-party certification authority, such as Authenticode or VeriSign, when you are ready to deploy your service, and purchase a certificate for your service.</span></span> <span data-ttu-id="321fb-192">Toutefois, si vous êtes dans la phase de développement avec WCF et que vous n’êtes pas encore prêt à vous engager à acheter un certificat, il existe des outils et des techniques pour créer des certificats X. 509 que vous pouvez utiliser pour simuler un déploiement de production.</span><span class="sxs-lookup"><span data-stu-id="321fb-192">However, if you are in the development phase with WCF and not yet ready to commit to purchasing a certificate, tools and techniques exist for creating X.509 certificates that you can use to simulate a production deployment.</span></span> <span data-ttu-id="321fb-193">Pour plus d’informations, consultez [utilisation des certificats](./feature-details/working-with-certificates.md).</span><span class="sxs-lookup"><span data-stu-id="321fb-193">For more information, see [Working with Certificates](./feature-details/working-with-certificates.md).</span></span>  
  
## <a name="security-modes"></a><span data-ttu-id="321fb-194">Modes de sécurité</span><span class="sxs-lookup"><span data-stu-id="321fb-194">Security Modes</span></span>  

 <span data-ttu-id="321fb-195">La programmation de la sécurité WCF implique quelques points de décision essentiels.</span><span class="sxs-lookup"><span data-stu-id="321fb-195">Programming WCF security entails a few critical decision points.</span></span> <span data-ttu-id="321fb-196">L'un des plus basiques est le choix du *mode de sécurité*.</span><span class="sxs-lookup"><span data-stu-id="321fb-196">One of the most basic is the choice of *security mode*.</span></span> <span data-ttu-id="321fb-197">Les deux principaux modes de sécurité sont le *mode de transport* et le *mode de message*.</span><span class="sxs-lookup"><span data-stu-id="321fb-197">The two major security modes are *transport mode* and *message mode*.</span></span>  
  
 <span data-ttu-id="321fb-198">Un troisième mode, qui combine la sémantique des deux principaux modes, est le *mode de transport avec informations d'identification de message*.</span><span class="sxs-lookup"><span data-stu-id="321fb-198">A third mode, which combines the semantics of both major modes, is *transport with message credentials mode*.</span></span>  
  
 <span data-ttu-id="321fb-199">Le mode de sécurité détermine de quelle manière les messages sont sécurisés. Chaque mode présente des avantages et des inconvénients, comme expliqué ci-après.</span><span class="sxs-lookup"><span data-stu-id="321fb-199">The security mode determines how messages are secured, and each choice has advantages and disadvantages, as explained below.</span></span> <span data-ttu-id="321fb-200">Pour plus d’informations sur la définition du mode de sécurité, consultez [Comment : définir le mode de sécurité](how-to-set-the-security-mode.md).</span><span class="sxs-lookup"><span data-stu-id="321fb-200">For more information about setting the security mode, see [How to: Set the Security Mode](how-to-set-the-security-mode.md).</span></span>  
  
#### <a name="transport-mode"></a><span data-ttu-id="321fb-201">mode de transport</span><span class="sxs-lookup"><span data-stu-id="321fb-201">Transport Mode</span></span>  

 <span data-ttu-id="321fb-202">Il existe plusieurs couches entre le réseau et l'application.</span><span class="sxs-lookup"><span data-stu-id="321fb-202">There are several layers between the network and the application.</span></span> <span data-ttu-id="321fb-203">L'une d'elles est la *couche\*\*transport* , qui gère le transfert de messages entre des points de terminaison.</span><span class="sxs-lookup"><span data-stu-id="321fb-203">One of these is the *transport* layer *,* which manages the transfer of messages between endpoints.</span></span> <span data-ttu-id="321fb-204">Dans le cadre de cet objectif, il est nécessaire de comprendre que WCF utilise plusieurs protocoles de transport, chacun pouvant sécuriser le transfert des messages.</span><span class="sxs-lookup"><span data-stu-id="321fb-204">For the present purpose, it is only required that you understand that WCF uses several transport protocols, each of which can secure the transfer of messages.</span></span> <span data-ttu-id="321fb-205">(Pour plus d’informations sur les transports, consultez [transports](./feature-details/transports.md).)</span><span class="sxs-lookup"><span data-stu-id="321fb-205">(For more information about transports, see [Transports](./feature-details/transports.md).)</span></span>  
  
 <span data-ttu-id="321fb-206">Le protocole HTTP est très largement utilisé. Il en existe un autre, le protocole TCP.</span><span class="sxs-lookup"><span data-stu-id="321fb-206">A commonly used protocol is HTTP; another is TCP.</span></span> <span data-ttu-id="321fb-207">Chacun de ces protocoles peut sécuriser le transfert de messages par un ou plusieurs mécanismes propres au protocole.</span><span class="sxs-lookup"><span data-stu-id="321fb-207">Each of these protocols can secure message transfer by a mechanism (or mechanisms) particular to the protocol.</span></span> <span data-ttu-id="321fb-208">Par exemple, le protocole HTTP est sécurisé à l'aide de SSL sur HTTP, généralement abrégé en « HTTPS ».</span><span class="sxs-lookup"><span data-stu-id="321fb-208">For example, the HTTP protocol is secured using SSL over HTTP, commonly abbreviated as "HTTPS."</span></span> <span data-ttu-id="321fb-209">Ainsi, lorsque vous sélectionnez le mode de transport pour la sécurité, vous choisissez d'utiliser le mécanisme imposé par le protocole.</span><span class="sxs-lookup"><span data-stu-id="321fb-209">Thus, when you select the transport mode for security, you are choosing to use the mechanism as dictated by the protocol.</span></span> <span data-ttu-id="321fb-210">Par exemple, si vous sélectionnez la classe <xref:System.ServiceModel.WSHttpBinding> et lui assignez le mode de sécurité Transport, vous sélectionnez SSL sur HTTP (HTTPS) comme mécanisme de sécurité.</span><span class="sxs-lookup"><span data-stu-id="321fb-210">For example, if you select the <xref:System.ServiceModel.WSHttpBinding> class and set its security mode to Transport, you are selecting SSL over HTTP (HTTPS) as the security mechanism.</span></span> <span data-ttu-id="321fb-211">Le mode de transport présente l'avantage d'être plus efficace que le mode de message car la sécurité est intégrée à un niveau comparativement bas.</span><span class="sxs-lookup"><span data-stu-id="321fb-211">The advantage of the transport mode is that it is more efficient than message mode because security is integrated at a comparatively low level.</span></span> <span data-ttu-id="321fb-212">Si le mode de transport est utilisé, le mécanisme de sécurité doit être implémenté conformément à la spécification du transport. Les messages peuvent donc transiter en toute sécurité en allant uniquement d'un point à un autre sur le transport.</span><span class="sxs-lookup"><span data-stu-id="321fb-212">When using transport mode, the security mechanism must be implemented according to the specification for the transport, and thus messages can flow securely only from point-to-point over the transport.</span></span>  
  
#### <a name="message-mode"></a><span data-ttu-id="321fb-213">mode de message</span><span class="sxs-lookup"><span data-stu-id="321fb-213">Message Mode</span></span>  

 <span data-ttu-id="321fb-214">Par opposition, le mode de message assure la sécurité en incluant les données de sécurité dans chaque message.</span><span class="sxs-lookup"><span data-stu-id="321fb-214">In contrast, message mode provides security by including the security data as part of every message.</span></span> <span data-ttu-id="321fb-215">Avec l'utilisation des en-têtes de sécurité XML et SOAP, les informations d'identification et autres données nécessaires pour assurer l'intégrité et la confidentialité du message sont incluses dans chaque message.</span><span class="sxs-lookup"><span data-stu-id="321fb-215">Using XML and SOAP security headers, the credentials and other data needed to ensure the integrity and confidentiality of the message are included with every message.</span></span> <span data-ttu-id="321fb-216">Chaque message inclut des données de sécurité, ce qui a un impact sur les performances dans la mesure où chaque message doit être traité individuellement.</span><span class="sxs-lookup"><span data-stu-id="321fb-216">Every message includes security data, so it results in a toll on performance because each message must be individually processed.</span></span> <span data-ttu-id="321fb-217">(En mode de transport, une fois la couche de transport sécurisée, tous les messages sont acheminés librement.) Toutefois, la sécurité des messages présente un avantage sur la sécurité du transport : elle est plus flexible.</span><span class="sxs-lookup"><span data-stu-id="321fb-217">(In transport mode, once the transport layer is secured, all messages flow freely.) However, message security has one advantage over transport security: it is more flexible.</span></span> <span data-ttu-id="321fb-218">En effet, les spécifications de sécurité ne sont pas déterminées par le transport.</span><span class="sxs-lookup"><span data-stu-id="321fb-218">That is, the security requirements are not determined by the transport.</span></span> <span data-ttu-id="321fb-219">Vous pouvez utiliser tout type d'informations d'identification du client pour sécuriser le message.</span><span class="sxs-lookup"><span data-stu-id="321fb-219">You can use any type of client credential to secure the message.</span></span> <span data-ttu-id="321fb-220">(En mode de transport, le protocole de transport détermine le type d'informations d'identification du client que vous pouvez utiliser.)</span><span class="sxs-lookup"><span data-stu-id="321fb-220">(In transport mode, the transport protocol determines the type of client credential that you can use.)</span></span>  
  
#### <a name="transport-with-message-credentials"></a><span data-ttu-id="321fb-221">Transport avec informations d'identification de message</span><span class="sxs-lookup"><span data-stu-id="321fb-221">Transport with Message Credentials</span></span>  

 <span data-ttu-id="321fb-222">Le troisième mode combine le meilleur de la sécurité de transport et de la sécurité de message.</span><span class="sxs-lookup"><span data-stu-id="321fb-222">The third mode combines the best of both transport and message security.</span></span> <span data-ttu-id="321fb-223">Dans ce mode, la sécurité de transport est utilisée pour garantir efficacement la confidentialité et l'intégrité de chaque message.</span><span class="sxs-lookup"><span data-stu-id="321fb-223">In this mode, transport security is used to efficiently ensure the confidentiality and integrity of every message.</span></span> <span data-ttu-id="321fb-224">En même temps, chaque message inclut ses propres informations d'identification, ce qui permet au message d'être authentifié.</span><span class="sxs-lookup"><span data-stu-id="321fb-224">At the same time, every message includes its credential data, which allows the message to be authenticated.</span></span> <span data-ttu-id="321fb-225">Avec l'authentification, l'autorisation peut également être implémentée.</span><span class="sxs-lookup"><span data-stu-id="321fb-225">With authentication, authorization can also be implemented.</span></span> <span data-ttu-id="321fb-226">En authentifiant un expéditeur, l'accès aux ressources peut être accordé (ou refusé) en fonction de l'identité de l'expéditeur.</span><span class="sxs-lookup"><span data-stu-id="321fb-226">By authenticating a sender, access to resources can be granted (or denied) according to the sender's identity.</span></span>  
  
## <a name="specifying-the-client-credential-type-and-credential-value"></a><span data-ttu-id="321fb-227">Spécification du type d'informations d'identification du client et de la valeur des informations d'identification</span><span class="sxs-lookup"><span data-stu-id="321fb-227">Specifying the Client Credential Type and Credential Value</span></span>  

 <span data-ttu-id="321fb-228">Après avoir sélectionné un mode de sécurité, vous voudrez sans doute spécifier un type d'informations d'identification du client.</span><span class="sxs-lookup"><span data-stu-id="321fb-228">After you have selected a security mode, you may also want to specify a client credential type.</span></span> <span data-ttu-id="321fb-229">Le type d'informations d'identification du client spécifie quel type un client doit utiliser pour s'authentifier auprès du serveur.</span><span class="sxs-lookup"><span data-stu-id="321fb-229">The client credential type specifies what type a client must use to authenticate itself to the server.</span></span>  
  
 <span data-ttu-id="321fb-230">Un type d'informations d'identification du client n'est pas requis dans tous les scénarios.</span><span class="sxs-lookup"><span data-stu-id="321fb-230">Not all scenarios require a client credential type, however.</span></span> <span data-ttu-id="321fb-231">Avec SSL sur HTTP (HTTPS), un service s'authentifie auprès du client.</span><span class="sxs-lookup"><span data-stu-id="321fb-231">Using SSL over HTTP (HTTPS), a service authenticates itself to the client.</span></span> <span data-ttu-id="321fb-232">Dans le cadre de cette authentification, le certificat du service est envoyé au client dans un processus appelé *négociation*.</span><span class="sxs-lookup"><span data-stu-id="321fb-232">As part of this authentication, the service's certificate is sent to the client in a process called *negotiation*.</span></span> <span data-ttu-id="321fb-233">Le transport sécurisé par SSL garantit que tous les messages sont confidentiels.</span><span class="sxs-lookup"><span data-stu-id="321fb-233">The SSL-secured transport ensures that all messages are confidential.</span></span>  
  
 <span data-ttu-id="321fb-234">Si vous créez un service qui requiert l'authentification du client, le type d'informations d'identification du client que vous choisirez dépend du transport et du mode sélectionnés.</span><span class="sxs-lookup"><span data-stu-id="321fb-234">If you are creating a service that requires that the client be authenticated, your choice of a client credential type depends on the transport and mode selected.</span></span> <span data-ttu-id="321fb-235">Par exemple, l'utilisation du transport HTTP et la sélection du mode de transport vous laissent différents choix, comme Basic ou Digest.</span><span class="sxs-lookup"><span data-stu-id="321fb-235">For example, using the HTTP transport and choosing transport mode gives you several choices, such as Basic, Digest, and others.</span></span> <span data-ttu-id="321fb-236">(Pour plus d’informations sur ces types d’informations d’identification, consultez [Présentation de l’authentification http](./feature-details/understanding-http-authentication.md).)</span><span class="sxs-lookup"><span data-stu-id="321fb-236">(For more information about these credential types, see [Understanding HTTP Authentication](./feature-details/understanding-http-authentication.md).)</span></span>  
  
 <span data-ttu-id="321fb-237">Si vous créez un service sur un domaine Windows qui sera uniquement disponible pour d'autres utilisateurs du réseau, le plus facile à utiliser est le type d'informations d'identification du client Windows.</span><span class="sxs-lookup"><span data-stu-id="321fb-237">If you are creating a service on a Windows domain that will be available only to other users of the network, the easiest to use is the Windows client credential type.</span></span> <span data-ttu-id="321fb-238">Toutefois, vous pouvez également avoir besoin de fournir un service avec un certificat.</span><span class="sxs-lookup"><span data-stu-id="321fb-238">However, you may also need to provide a service with a certificate.</span></span> <span data-ttu-id="321fb-239">Pour cela, consultez [How to: Specify Client Credential Values](how-to-specify-client-credential-values.md).</span><span class="sxs-lookup"><span data-stu-id="321fb-239">This is shown in [How to: Specify Client Credential Values](how-to-specify-client-credential-values.md).</span></span>  
  
#### <a name="credential-values"></a><span data-ttu-id="321fb-240">Valeurs d'informations d'identification</span><span class="sxs-lookup"><span data-stu-id="321fb-240">Credential Values</span></span>  

 <span data-ttu-id="321fb-241">Une *valeur d'informations d'identification* représente les informations d'identification utilisées par le service.</span><span class="sxs-lookup"><span data-stu-id="321fb-241">A *credential value* is the actual credential the service uses.</span></span> <span data-ttu-id="321fb-242">Après avoir spécifié un type d'informations d'identification, vous pouvez également avoir besoin de configurer votre service avec les informations d'identification réelles.</span><span class="sxs-lookup"><span data-stu-id="321fb-242">Once you have specified a credential type, you may also need to configure your service with the actual credentials.</span></span> <span data-ttu-id="321fb-243">Si vous avez sélectionné Windows (et si le service s'exécutera sur un domaine Windows), vous ne spécifiez pas de valeur d'informations d'identification réelle.</span><span class="sxs-lookup"><span data-stu-id="321fb-243">If you have selected Windows (and the service will run on a Windows domain), then you do not specify an actual credential value.</span></span>  
  
## <a name="identity"></a><span data-ttu-id="321fb-244">Identité</span><span class="sxs-lookup"><span data-stu-id="321fb-244">Identity</span></span>  

 <span data-ttu-id="321fb-245">Dans WCF, le terme *identité* a des significations différentes pour le serveur et le client.</span><span class="sxs-lookup"><span data-stu-id="321fb-245">In WCF, the term *identity* has different meanings to the server and the client.</span></span> <span data-ttu-id="321fb-246">Brièvement, lors de l'exécution d'un service, une identité est assignée au contexte de sécurité après l'authentification.</span><span class="sxs-lookup"><span data-stu-id="321fb-246">In brief, when running a service, an identity is assigned to the security context after authentication.</span></span> <span data-ttu-id="321fb-247">Pour afficher l'identité réelle, vérifiez les propriétés <xref:System.ServiceModel.ServiceSecurityContext.WindowsIdentity%2A> et <xref:System.ServiceModel.ServiceSecurityContext.PrimaryIdentity%2A> de la classe <xref:System.ServiceModel.ServiceSecurityContext> .</span><span class="sxs-lookup"><span data-stu-id="321fb-247">To view the actual identity, check the <xref:System.ServiceModel.ServiceSecurityContext.WindowsIdentity%2A> and <xref:System.ServiceModel.ServiceSecurityContext.PrimaryIdentity%2A> properties of the <xref:System.ServiceModel.ServiceSecurityContext> class.</span></span> <span data-ttu-id="321fb-248">Pour plus d’informations, consultez [Comment : examiner le contexte de sécurité](how-to-examine-the-security-context.md).</span><span class="sxs-lookup"><span data-stu-id="321fb-248">For more information, see [How to: Examine the Security Context](how-to-examine-the-security-context.md).</span></span>  
  
 <span data-ttu-id="321fb-249">Par opposition, sur le client, l'identité est utilisée pour valider le service.</span><span class="sxs-lookup"><span data-stu-id="321fb-249">In contrast, on the client, identity is used to validate the service.</span></span> <span data-ttu-id="321fb-250">Au moment du design, un développeur client peut affecter [\<identity>](../configure-apps/file-schema/wcf/identity.md) à l’élément une valeur obtenue du service.</span><span class="sxs-lookup"><span data-stu-id="321fb-250">At design time, a client developer can set the [\<identity>](../configure-apps/file-schema/wcf/identity.md) element to a value obtained from the service.</span></span> <span data-ttu-id="321fb-251">Au moment de l'exécution, le client vérifie la valeur de l'élément par rapport à l'identité réelle du service.</span><span class="sxs-lookup"><span data-stu-id="321fb-251">At run time, the client checks the value of the element against the actual identity of the service.</span></span> <span data-ttu-id="321fb-252">Si la vérification échoue, le client termine la communication.</span><span class="sxs-lookup"><span data-stu-id="321fb-252">If the check fails, the client terminates the communication.</span></span> <span data-ttu-id="321fb-253">La valeur peut être un nom d'utilisateur principal (UPN, User Principal Name) si le service s'exécute sous l'identité d'un utilisateur particulier ou un nom de principal du service (SPN, Service Principal Name) si le service s'exécute sous un compte d'ordinateur.</span><span class="sxs-lookup"><span data-stu-id="321fb-253">The value can be a user principal name (UPN) if the service runs under a particular user's identity or a service principal name (SPN) if the service runs under a machine account.</span></span> <span data-ttu-id="321fb-254">Pour plus d’informations, consultez [identité du service et authentification](./feature-details/service-identity-and-authentication.md).</span><span class="sxs-lookup"><span data-stu-id="321fb-254">For more information, see [Service Identity and Authentication](./feature-details/service-identity-and-authentication.md).</span></span> <span data-ttu-id="321fb-255">Les informations d'identification peuvent également être un certificat ou un champ d'un certificat qui identifie le certificat.</span><span class="sxs-lookup"><span data-stu-id="321fb-255">The credential could also be a certificate, or a field found on a certificate that identifies the certificate.</span></span>  
  
## <a name="protection-levels"></a><span data-ttu-id="321fb-256">Niveaux de protection</span><span class="sxs-lookup"><span data-stu-id="321fb-256">Protection Levels</span></span>  

 <span data-ttu-id="321fb-257">La propriété `ProtectionLevel` est présente sur plusieurs classes d'attributs (telles que les classes <xref:System.ServiceModel.ServiceContractAttribute> et <xref:System.ServiceModel.OperationContractAttribute> ).</span><span class="sxs-lookup"><span data-stu-id="321fb-257">The `ProtectionLevel` property occurs on several attribute classes (such as the <xref:System.ServiceModel.ServiceContractAttribute> and the <xref:System.ServiceModel.OperationContractAttribute> classes).</span></span> <span data-ttu-id="321fb-258">Le niveau de protection est une valeur qui spécifie si les messages (ou parties de messages) qui prennent en charge un service sont signés, signés et chiffrés, ou envoyés sans signature ou chiffrement.</span><span class="sxs-lookup"><span data-stu-id="321fb-258">The protection level is a value that specifies whether the messages (or message parts) that support a service are signed, signed and encrypted, or sent without signatures or encryption.</span></span> <span data-ttu-id="321fb-259">Pour plus d’informations sur la propriété, consultez [Présentation du niveau de protection](understanding-protection-level.md)et pour obtenir des exemples de programmation, consultez [How to : Set the ProtectionLevel Property](how-to-set-the-protectionlevel-property.md).</span><span class="sxs-lookup"><span data-stu-id="321fb-259">For more information about the property, see [Understanding Protection Level](understanding-protection-level.md), and for programming examples, see [How to: Set the ProtectionLevel Property](how-to-set-the-protectionlevel-property.md).</span></span> <span data-ttu-id="321fb-260">Pour plus d’informations sur la conception d’un contrat de service avec le `ProtectionLevel` en contexte, consultez [conception de contrats de service](designing-service-contracts.md).</span><span class="sxs-lookup"><span data-stu-id="321fb-260">For more information about designing a service contract with the `ProtectionLevel` in context, see [Designing Service Contracts](designing-service-contracts.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="321fb-261">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="321fb-261">See also</span></span>

- <xref:System.ServiceModel>
- <xref:System.ServiceModel.Description.ServiceCredentials>
- <xref:System.ServiceModel.ServiceContractAttribute>
- <xref:System.ServiceModel.OperationContractAttribute>
- [<span data-ttu-id="321fb-262">Identité du service et authentification</span><span class="sxs-lookup"><span data-stu-id="321fb-262">Service Identity and Authentication</span></span>](./feature-details/service-identity-and-authentication.md)
- [<span data-ttu-id="321fb-263">Fonctionnement des niveaux de protection</span><span class="sxs-lookup"><span data-stu-id="321fb-263">Understanding Protection Level</span></span>](understanding-protection-level.md)
- [<span data-ttu-id="321fb-264">Délégation et emprunt d’identité</span><span class="sxs-lookup"><span data-stu-id="321fb-264">Delegation and Impersonation</span></span>](./feature-details/delegation-and-impersonation-with-wcf.md)
- [<span data-ttu-id="321fb-265">Conception de contrats de service</span><span class="sxs-lookup"><span data-stu-id="321fb-265">Designing Service Contracts</span></span>](designing-service-contracts.md)
- [<span data-ttu-id="321fb-266">Sécurité</span><span class="sxs-lookup"><span data-stu-id="321fb-266">Security</span></span>](./feature-details/security.md)
- [<span data-ttu-id="321fb-267">Présentation de la sécurité</span><span class="sxs-lookup"><span data-stu-id="321fb-267">Security Overview</span></span>](./feature-details/security-overview.md)
- [<span data-ttu-id="321fb-268">Procédure : définir la propriété ProtectionLevel</span><span class="sxs-lookup"><span data-stu-id="321fb-268">How to: Set the ProtectionLevel Property</span></span>](how-to-set-the-protectionlevel-property.md)
- [<span data-ttu-id="321fb-269">Procédure : sécuriser un service avec des informations d’identification Windows</span><span class="sxs-lookup"><span data-stu-id="321fb-269">How to: Secure a Service with Windows Credentials</span></span>](how-to-secure-a-service-with-windows-credentials.md)
- [<span data-ttu-id="321fb-270">Procédure : définir le mode de sécurité</span><span class="sxs-lookup"><span data-stu-id="321fb-270">How to: Set the Security Mode</span></span>](how-to-set-the-security-mode.md)
- [<span data-ttu-id="321fb-271">Procédure : spécifier le type d’informations d’identification de client</span><span class="sxs-lookup"><span data-stu-id="321fb-271">How to: Specify the Client Credential Type</span></span>](how-to-specify-the-client-credential-type.md)
- [<span data-ttu-id="321fb-272">Procédure : restreindre l’accès à la classe PrincipalPermissionAttribute</span><span class="sxs-lookup"><span data-stu-id="321fb-272">How to: Restrict Access with the PrincipalPermissionAttribute Class</span></span>](how-to-restrict-access-with-the-principalpermissionattribute-class.md)
- [<span data-ttu-id="321fb-273">Procédure : emprunter l’identité d’un client sur un service</span><span class="sxs-lookup"><span data-stu-id="321fb-273">How to: Impersonate a Client on a Service</span></span>](how-to-impersonate-a-client-on-a-service.md)
- [<span data-ttu-id="321fb-274">Procédure : examiner le contexte de sécurité</span><span class="sxs-lookup"><span data-stu-id="321fb-274">How to: Examine the Security Context</span></span>](how-to-examine-the-security-context.md)
