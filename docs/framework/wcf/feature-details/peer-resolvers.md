---
title: Programmes de résolution d'homologue
ms.date: 03/30/2017
ms.assetid: d86d12a1-7358-450f-9727-b6afb95adb9c
ms.openlocfilehash: a1f5bcfb721ccbc98856e81198a3f7e0b45abe93
ms.sourcegitcommit: cdb295dd1db589ce5169ac9ff096f01fd0c2da9d
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 06/09/2020
ms.locfileid: "84600774"
---
# <a name="peer-resolvers"></a><span data-ttu-id="6f198-102">Programmes de résolution d'homologue</span><span class="sxs-lookup"><span data-stu-id="6f198-102">Peer Resolvers</span></span>
<span data-ttu-id="6f198-103">Pour se connecter à une maille, un nœud d'homologue requiert les adresses IP d'autres nœuds.</span><span class="sxs-lookup"><span data-stu-id="6f198-103">In order to connect to a mesh, a peer node requires the IP addresses of other nodes.</span></span> <span data-ttu-id="6f198-104">Les adresses IP sont obtenues en contactant un service de résolution, qui prend l'ID de la maille et retourne une liste d'adresses correspondant aux nœuds enregistrés sous cet ID de maille particulier.</span><span class="sxs-lookup"><span data-stu-id="6f198-104">IP addresses are obtained by contacting a resolver service, which takes the mesh ID and returns a list of addresses corresponding to nodes registered with that particular mesh ID.</span></span> <span data-ttu-id="6f198-105">Le programme de résolution conserve une liste des adresses inscrites, qu'il crée en inscrivant chaque nœud de la maille avec le service.</span><span class="sxs-lookup"><span data-stu-id="6f198-105">The resolver keeps a list of registered addresses, which it creates by having each node in the mesh register with the service.</span></span>  
  
 <span data-ttu-id="6f198-106">Vous pouvez spécifier le service PeerResolver à utiliser par le biais de la propriété `Resolver` du <xref:System.ServiceModel.NetPeerTcpBinding>.</span><span class="sxs-lookup"><span data-stu-id="6f198-106">You can specify which PeerResolver service to use through the `Resolver` property of the <xref:System.ServiceModel.NetPeerTcpBinding>.</span></span>  
  
## <a name="supported-peer-resolvers"></a><span data-ttu-id="6f198-107">Programmes de résolution de pair pris en charge</span><span class="sxs-lookup"><span data-stu-id="6f198-107">Supported Peer Resolvers</span></span>  
 <span data-ttu-id="6f198-108">Le canal homologue prend en charge deux types de programmes de résolution : le protocole PNRP (Peer Name Resolution Protocol) et les services de résolution personnalisés.</span><span class="sxs-lookup"><span data-stu-id="6f198-108">Peer Channel supports two types of resolvers: Peer Name Resolution Protocol (PNRP), and custom resolver services.</span></span>  
  
 <span data-ttu-id="6f198-109">Par défaut, le canal homologue utilise le service de résolution de pair PNRP pour la découverte d'homologues et de voisins dans la maille.</span><span class="sxs-lookup"><span data-stu-id="6f198-109">By default, Peer Channel uses the PNRP peer resolver service for discovery of peers and neighbors in the mesh.</span></span> <span data-ttu-id="6f198-110">Pour les situations/plateformes où PNRP n’est pas disponible ou faisable, Windows Communication Foundation (WCF) fournit une alternative, le service de découverte basé sur le serveur, le <xref:System.ServiceModel.PeerResolvers.CustomPeerResolverService> .</span><span class="sxs-lookup"><span data-stu-id="6f198-110">For situations/platforms where PNRP is not available or feasible, Windows Communication Foundation (WCF) provides an alternative, server-based discovery service - the <xref:System.ServiceModel.PeerResolvers.CustomPeerResolverService>.</span></span> <span data-ttu-id="6f198-111">Vous pouvez également définir explicitement un service de résolution personnalisé en écrivant une classe qui implémente l'interface <xref:System.ServiceModel.PeerResolvers.IPeerResolverContract>.</span><span class="sxs-lookup"><span data-stu-id="6f198-111">You can also explicitly define a custom resolver service by writing a class that implements the <xref:System.ServiceModel.PeerResolvers.IPeerResolverContract> interface.</span></span>  
  
### <a name="peer-name-resolution-protocol-pnrp"></a><span data-ttu-id="6f198-112">Protocole PNRP (Peer Name Resolution Protocol)</span><span class="sxs-lookup"><span data-stu-id="6f198-112">Peer Name Resolution Protocol (PNRP)</span></span>  
 <span data-ttu-id="6f198-113">PNRP, le programme de résolution par défaut de Windows Vista, est un service de résolution de noms distribué sans serveur.</span><span class="sxs-lookup"><span data-stu-id="6f198-113">PNRP, the default resolver for Windows Vista, is a distributed, serverless name resolver service.</span></span> <span data-ttu-id="6f198-114">Vous pouvez également utiliser PNRP sur Windows XP SP2 en installant le Pack Advanced Networking.</span><span class="sxs-lookup"><span data-stu-id="6f198-114">PNRP can also be used on Windows XP SP2 by installing the Advanced Networking Pack.</span></span> <span data-ttu-id="6f198-115">Deux clients qui exécutent la même version de PNRP peuvent se localiser mutuellement à l'aide de ce protocole, à condition qu'ils remplissent certaines conditions (telles que l'absence d'un pare-feu d'entreprise intermédiaire).</span><span class="sxs-lookup"><span data-stu-id="6f198-115">Any two clients running the same version of PNRP can locate each other using this protocol, provided they meet certain conditions (such as the lack of an intervening corporate firewall).</span></span> <span data-ttu-id="6f198-116">Notez que la version de PNRP fournie avec Windows Vista est plus récente que la version incluse dans le Pack Advanced Networking.</span><span class="sxs-lookup"><span data-stu-id="6f198-116">Note that the version of PNRP that ships with Windows Vista is newer than the version included in the Advanced Networking Pack.</span></span> <span data-ttu-id="6f198-117">Consultez le centre de téléchargement Microsoft pour obtenir les mises à jour de PNRP pour Windows XP SP2.</span><span class="sxs-lookup"><span data-stu-id="6f198-117">Check the Microsoft Download Center for updates to PNRP for Windows XP SP2.</span></span>  
  
### <a name="custom-resolver-services"></a><span data-ttu-id="6f198-118">Services de résolution personnalisés</span><span class="sxs-lookup"><span data-stu-id="6f198-118">Custom Resolver Services</span></span>  
 <span data-ttu-id="6f198-119">Lorsque le service PNRP n'est pas disponible ou que vous souhaitez contrôler entièrement la maille, vous pouvez utiliser un service de résolution serveur personnalisé.</span><span class="sxs-lookup"><span data-stu-id="6f198-119">When the PNRP service is unavailable, or you want complete control over mesh shaping, you can use a custom, server-based resolver service.</span></span> <span data-ttu-id="6f198-120">Vous pouvez définir explicitement ce service en écrivant une classe de programme de résolution qui implémente l'interface <xref:System.ServiceModel.PeerResolvers.IPeerResolverContract>, ou en utilisant l'implémentation par défaut fournie, <xref:System.ServiceModel.PeerResolvers.CustomPeerResolverService>.</span><span class="sxs-lookup"><span data-stu-id="6f198-120">You can explicitly define this service by writing a resolver class implementing the <xref:System.ServiceModel.PeerResolvers.IPeerResolverContract> interface, or by using the in-box default implementation, <xref:System.ServiceModel.PeerResolvers.CustomPeerResolverService>.</span></span>  
  
 <span data-ttu-id="6f198-121">Sous l'implémentation par défaut du service, les inscriptions des clients expirent au bout d'un certain délai si les clients n'actualisent pas leur inscription explicitement.</span><span class="sxs-lookup"><span data-stu-id="6f198-121">Under the default implementation of the service, client registrations expire after a certain amount of time if the client does not explicitly refresh the registration.</span></span> <span data-ttu-id="6f198-122">Les clients qui utilisent le service de résolution doivent connaître la limite supérieure de la latence client-serveur pour pourvoir actualiser les inscriptions en temps opportun.</span><span class="sxs-lookup"><span data-stu-id="6f198-122">Clients using the resolver service must be aware of the upper bound on client-server latency in order to successfully refresh registrations in time.</span></span> <span data-ttu-id="6f198-123">Cela implique de choisir un délai d'actualisation approprié (`RefreshInterval`) sur le service de résolution.</span><span class="sxs-lookup"><span data-stu-id="6f198-123">This involves choosing an appropriate refresh time-out (`RefreshInterval`) on the resolver service.</span></span> <span data-ttu-id="6f198-124">(Pour plus d’informations, consultez [à l’intérieur du CustomPeerResolverService : inscriptions des clients](inside-the-custompeerresolverservice-client-registrations.md).)</span><span class="sxs-lookup"><span data-stu-id="6f198-124">(For more information, see [Inside the CustomPeerResolverService: Client Registrations](inside-the-custompeerresolverservice-client-registrations.md).)</span></span>  
  
 <span data-ttu-id="6f198-125">Le writer d'applications doit également envisager de sécuriser la connexion entre les clients et le service de résolution personnalisé.</span><span class="sxs-lookup"><span data-stu-id="6f198-125">The application writer must also consider securing the connection between clients and the custom resolver service.</span></span> <span data-ttu-id="6f198-126">Pour cela, vous pouvez spécifier les paramètres de sécurité sur <xref:System.ServiceModel.NetTcpBinding> que les clients utilisent pour contacter le service de résolution.</span><span class="sxs-lookup"><span data-stu-id="6f198-126">You may do this by using security settings on the <xref:System.ServiceModel.NetTcpBinding> that clients use to contact the resolver service.</span></span> <span data-ttu-id="6f198-127">Vous devez spécifier des informations d'identification (le cas échéant) sur la `ChannelFactory` qui permet de créer le canal homologue.</span><span class="sxs-lookup"><span data-stu-id="6f198-127">You must specify credentials (if used) on the `ChannelFactory` used to create Peer Channel.</span></span> <span data-ttu-id="6f198-128">Ces informations d'identification sont passées à la `ChannelFactory` qui permet de créer des canaux dans le programme de résolution personnalisé.</span><span class="sxs-lookup"><span data-stu-id="6f198-128">These credentials are passed to the `ChannelFactory` used to create channels to the custom resolver.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="6f198-129">Lors de l'utilisation de réseaux locaux et impromptus avec un programme de résolution personnalisé, il est fortement recommandé que les applications utilisant ou prenant en charge des réseaux de liaison locale ou impromptus incluent une logique qui sélectionne une adresse de liaison locale unique à utiliser lors de la connexion.</span><span class="sxs-lookup"><span data-stu-id="6f198-129">When using local and impromptu networks with a custom resolver, it is strongly advised that applications using or supporting link-local or impromptu networks include logic that selects a single link-local address to use when connecting.</span></span> <span data-ttu-id="6f198-130">Cela empêche tout risque de confusion provoquée par des ordinateurs dotés de plusieurs adresses de liaison locale.</span><span class="sxs-lookup"><span data-stu-id="6f198-130">This prevents any confusion potentially caused by computers with multiple link-local addresses.</span></span> <span data-ttu-id="6f198-131">Ainsi, le canal homologue ne peut utiliser qu'une seule adresse de liaison locale à la fois.</span><span class="sxs-lookup"><span data-stu-id="6f198-131">In accordance with this, Peer Channel only supports using a single link-local address at any one time.</span></span> <span data-ttu-id="6f198-132">Vous pouvez spécifier cette adresse à l'aide de la propriété `ListenIpAddress` sur <xref:System.ServiceModel.NetPeerTcpBinding>.</span><span class="sxs-lookup"><span data-stu-id="6f198-132">You may specify this address with the `ListenIpAddress` property on the <xref:System.ServiceModel.NetPeerTcpBinding>.</span></span>  
  
 <span data-ttu-id="6f198-133">Pour une démonstration de l’implémentation d’un programme de résolution personnalisé, consultez canal homologue programme de [résolution d’homologue personnalisé](https://docs.microsoft.com/previous-versions/dotnet/netframework-3.5/ms751466(v=vs.90)).</span><span class="sxs-lookup"><span data-stu-id="6f198-133">For a demonstration of how to implement a custom resolver, see [Peer Channel Custom Peer Resolver](https://docs.microsoft.com/previous-versions/dotnet/netframework-3.5/ms751466(v=vs.90)).</span></span>  
  
## <a name="in-this-section"></a><span data-ttu-id="6f198-134">Dans cette section</span><span class="sxs-lookup"><span data-stu-id="6f198-134">In This Section</span></span>  
 [<span data-ttu-id="6f198-135">Dans CustomPeerResolverService : Inscriptions des clients</span><span class="sxs-lookup"><span data-stu-id="6f198-135">Inside the CustomPeerResolverService: Client Registrations</span></span>](inside-the-custompeerresolverservice-client-registrations.md)  
  
## <a name="see-also"></a><span data-ttu-id="6f198-136">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="6f198-136">See also</span></span>

- [<span data-ttu-id="6f198-137">Concepts relatifs au canal homologue</span><span class="sxs-lookup"><span data-stu-id="6f198-137">Peer Channel Concepts</span></span>](peer-channel-concepts.md)
- [<span data-ttu-id="6f198-138">Sécurité de canal homologue</span><span class="sxs-lookup"><span data-stu-id="6f198-138">Peer Channel Security</span></span>](peer-channel-security.md)
- [<span data-ttu-id="6f198-139">Création d'une application de canal homologue</span><span class="sxs-lookup"><span data-stu-id="6f198-139">Building a Peer Channel Application</span></span>](building-a-peer-channel-application.md)
