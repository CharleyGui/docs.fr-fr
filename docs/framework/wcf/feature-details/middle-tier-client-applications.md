---
title: Applications clientes de niveau intermédiaire
ms.date: 03/30/2017
ms.assetid: f9714a64-d0ae-4a98-bca0-5d370fdbd631
ms.openlocfilehash: c50223a55765f211dae710f96bffa7716ce36b32
ms.sourcegitcommit: cdb295dd1db589ce5169ac9ff096f01fd0c2da9d
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 06/09/2020
ms.locfileid: "84598812"
---
# <a name="middle-tier-client-applications"></a><span data-ttu-id="4a742-102">Applications clientes de niveau intermédiaire</span><span class="sxs-lookup"><span data-stu-id="4a742-102">Middle-Tier Client Applications</span></span>
<span data-ttu-id="4a742-103">Cette rubrique décrit les différents problèmes spécifiques aux applications clientes de niveau intermédiaire qui utilisent Windows Communication Foundation (WCF).</span><span class="sxs-lookup"><span data-stu-id="4a742-103">This topic discusses various issues specific to middle-tier client applications that use Windows Communication Foundation (WCF).</span></span>  
  
## <a name="increasing-middle-tier-client-performance"></a><span data-ttu-id="4a742-104">Augmenter les performances du client de niveau intermédiaire</span><span class="sxs-lookup"><span data-stu-id="4a742-104">Increasing Middle-Tier Client Performance</span></span>  
 <span data-ttu-id="4a742-105">Par rapport aux technologies de communication précédentes, telles que les services Web utilisant ASP.NET, la création d’une instance de client WCF peut être plus complexe en raison de l’ensemble riche de fonctionnalités de WCF.</span><span class="sxs-lookup"><span data-stu-id="4a742-105">Compared to previous communications technologies, such as Web services using ASP.NET, the creation of a WCF client instance can be more complex due to the rich feature set of WCF.</span></span> <span data-ttu-id="4a742-106">Par exemple, lorsqu'un objet <xref:System.ServiceModel.ChannelFactory%601> est ouvert, il peut établir une session sécurisée avec le service, procédure qui augmente le temps de démarrage pour l'instance cliente.</span><span class="sxs-lookup"><span data-stu-id="4a742-106">For example, when a <xref:System.ServiceModel.ChannelFactory%601> object is opened it can establish a secure session with the service, a procedure that increases the startup time for the client instance.</span></span> <span data-ttu-id="4a742-107">En règle générale, ces fonctionnalités de fonctionnalités supplémentaires n’affectent pas les applications clientes de manière considérable puisque le client WCF effectue plusieurs appels, puis se ferme.</span><span class="sxs-lookup"><span data-stu-id="4a742-107">Typically, these additional feature capabilities do not affect client applications greatly since the WCF client makes several calls, and then closes.</span></span>  
  
 <span data-ttu-id="4a742-108">Toutefois, les applications clientes de niveau intermédiaire peuvent créer rapidement de nombreux objets clients WCF et, par conséquent, rencontrer des exigences d’initialisation plus élevées.</span><span class="sxs-lookup"><span data-stu-id="4a742-108">Middle-tier client applications, however, can create many WCF client objects quickly and, as a result, experience increased initialization requirements.</span></span> <span data-ttu-id="4a742-109">Il existe deux approches principales pour accroître les performances des applications de niveau intermédiaire lors d'un appel des services :</span><span class="sxs-lookup"><span data-stu-id="4a742-109">There are two main approaches to increasing the performance of middle-tier applications when calling services:</span></span>  
  
- <span data-ttu-id="4a742-110">Mettez en cache l’objet client WCF et réutilisez-le pour les appels ultérieurs, dans la mesure du possible.</span><span class="sxs-lookup"><span data-stu-id="4a742-110">Cache the WCF client object and reuse it for subsequent calls where possible.</span></span>  
  
- <span data-ttu-id="4a742-111">Créez un <xref:System.ServiceModel.ChannelFactory%601> objet, puis utilisez cet objet pour créer de nouveaux objets de canal client WCF pour chaque appel.</span><span class="sxs-lookup"><span data-stu-id="4a742-111">Create a <xref:System.ServiceModel.ChannelFactory%601> object and then use that object to create new WCF client channel objects for each call.</span></span>  
  
 <span data-ttu-id="4a742-112">Les problèmes à prendre en compte lors de l'utilisation de ces approches sont les suivants :</span><span class="sxs-lookup"><span data-stu-id="4a742-112">Issues to consider when using these approaches include:</span></span>  
  
- <span data-ttu-id="4a742-113">Si le service conserve un état spécifique au client à l’aide d’une session, vous ne pouvez pas réutiliser le client WCF de couche intermédiaire avec plusieurs demandes de couche client, car l’état du service est lié à celui du client de couche intermédiaire.</span><span class="sxs-lookup"><span data-stu-id="4a742-113">If the service is maintaining a client-specific state by using a session, then you cannot reuse the middle-tier WCF client with multiple-client tier requests because the service's state is tied to that of the middle-tier client.</span></span>  
  
- <span data-ttu-id="4a742-114">Si le service doit effectuer l’authentification pour chaque client, vous devez créer un nouveau client pour chaque demande entrante sur la couche intermédiaire au lieu de réutiliser le client WCF de couche intermédiaire (ou l’objet de canal du client WCF), car les informations d’identification du client de la couche intermédiaire ne peuvent pas être modifiées après la création du client WCF (ou <xref:System.ServiceModel.ChannelFactory%601> ).</span><span class="sxs-lookup"><span data-stu-id="4a742-114">If the service must perform authentication on a per-client basis, you must create a new client for each incoming request on the middle tier instead of reusing the middle-tier WCF client (or WCF client channel object) because the client credentials of the middle tier cannot be modified after the WCF client (or <xref:System.ServiceModel.ChannelFactory%601>) has been created.</span></span>  
  
- <span data-ttu-id="4a742-115">Si les canaux et les clients créés par les canaux sont thread-safe, ils peuvent ne pas prendre en charge l'écriture simultanée de plusieurs messages sur la transmission.</span><span class="sxs-lookup"><span data-stu-id="4a742-115">While channels and clients created by the channels are thread-safe, they might not support writing more than one message to the wire concurrently.</span></span> <span data-ttu-id="4a742-116">Si vous envoyez des messages volumineux, notamment pour la diffusion en continu, l'opération d'envoi peut bloquer l'exécution d'une autre opération d'envoi.</span><span class="sxs-lookup"><span data-stu-id="4a742-116">If you are sending large messages, particularly if streaming, the send operation might block waiting for another send to complete.</span></span> <span data-ttu-id="4a742-117">Cette situation entraîne deux types de problèmes : un manque d'accès concurrentiel et le risque d'interblocage si le flux de contrôle retourne au service par l'intermédiaire du canal (autrement dit, le client partagé appelle un service dont le chemin d'accès au code entraîne un rappel au client partagé).</span><span class="sxs-lookup"><span data-stu-id="4a742-117">This causes two sorts of problems: a lack of concurrency and the possibility of deadlock if the flow of control returns to the service reusing the channel (that is, the shared client calls a service whose code path results in a callback to the shared client).</span></span> <span data-ttu-id="4a742-118">Cela est vrai quel que soit le type de client WCF que vous réutilisez.</span><span class="sxs-lookup"><span data-stu-id="4a742-118">This is true regardless of the type of WCF client you reuse.</span></span>  
  
- <span data-ttu-id="4a742-119">Vous devez traiter les canaux défaillants, que vous partagiez ou non le canal.</span><span class="sxs-lookup"><span data-stu-id="4a742-119">You must handle faulted channels regardless of whether you share the channel.</span></span> <span data-ttu-id="4a742-120">Toutefois, lorsque les canaux sont réutilisés, un canal défaillant peut faire échouer plusieurs opérations de demande ou d'envoi en attente.</span><span class="sxs-lookup"><span data-stu-id="4a742-120">When channels are reused, however, a faulting channel can take down more than one pending request or send.</span></span>  
  
 <span data-ttu-id="4a742-121">Pour obtenir un exemple illustrant les meilleures pratiques pour réutiliser un client pour plusieurs requêtes, consultez [liaison de données dans un client ASP.net](../samples/data-binding-in-an-aspnet-client.md).</span><span class="sxs-lookup"><span data-stu-id="4a742-121">For an example that demonstrates best practices for reusing a client for multiple requests, see [Data Binding in an ASP.NET Client](../samples/data-binding-in-an-aspnet-client.md).</span></span>  
  
 <span data-ttu-id="4a742-122">De plus, vous pouvez augmenter les performances de démarrage pour les clients qui utilisent des types de données sérialisables à l'aide de <xref:System.Xml.Serialization.XmlSerializer> pour générer et compiler le code de sérialisation pour ces types de données au moment de l'exécution qui peuvent ralentir les performances de démarrage.</span><span class="sxs-lookup"><span data-stu-id="4a742-122">In addition, you can increase the startup performance for those clients that use data types that are serializable using the <xref:System.Xml.Serialization.XmlSerializer> generate and compile serialization code for those data types at runtime, which can result in slow start-up performance.</span></span> <span data-ttu-id="4a742-123">L' [outil ServiceModel Metadata Utility Tool (Svcutil. exe)](../servicemodel-metadata-utility-tool-svcutil-exe.md) peut améliorer les performances de démarrage de ces applications en générant le code de sérialisation nécessaire à partir des assemblys compilés pour l’application.</span><span class="sxs-lookup"><span data-stu-id="4a742-123">The [ServiceModel Metadata Utility Tool (Svcutil.exe)](../servicemodel-metadata-utility-tool-svcutil-exe.md) can improve start-up performance for these applications by generating the necessary serialization code from the compiled assemblies for the application.</span></span> <span data-ttu-id="4a742-124">Pour plus d’informations, consultez [Comment : améliorer le temps de démarrage des applications clientes WCF à l’aide de XmlSerializer](startup-time-of-wcf-client-applications-using-the-xmlserializer.md).</span><span class="sxs-lookup"><span data-stu-id="4a742-124">For more information, see [How to: Improve the Startup Time of WCF Client Applications using the XmlSerializer](startup-time-of-wcf-client-applications-using-the-xmlserializer.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="4a742-125">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="4a742-125">See also</span></span>

- [<span data-ttu-id="4a742-126">Accès aux services à l’aide d’un client WCF</span><span class="sxs-lookup"><span data-stu-id="4a742-126">Accessing Services Using a WCF Client</span></span>](accessing-services-using-a-client.md)
