---
title: Applications clientes de niveau intermédiaire
ms.date: 03/30/2017
ms.assetid: f9714a64-d0ae-4a98-bca0-5d370fdbd631
ms.openlocfilehash: c7934f6d0d34992db229244373b5a170180f51e6
ms.sourcegitcommit: 2701302a99cafbe0d86d53d540eb0fa7e9b46b36
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 04/28/2019
ms.locfileid: "64649442"
---
# <a name="middle-tier-client-applications"></a><span data-ttu-id="d0a2f-102">Applications clientes de niveau intermédiaire</span><span class="sxs-lookup"><span data-stu-id="d0a2f-102">Middle-Tier Client Applications</span></span>
<span data-ttu-id="d0a2f-103">Cette rubrique traite des différents problèmes spécifiques aux applications clientes de niveau intermédiaire qui utilisent Windows Communication Foundation (WCF).</span><span class="sxs-lookup"><span data-stu-id="d0a2f-103">This topic discusses various issues specific to middle-tier client applications that use Windows Communication Foundation (WCF).</span></span>  
  
## <a name="increasing-middle-tier-client-performance"></a><span data-ttu-id="d0a2f-104">Augmenter les performances du client de niveau intermédiaire</span><span class="sxs-lookup"><span data-stu-id="d0a2f-104">Increasing Middle-Tier Client Performance</span></span>  
 <span data-ttu-id="d0a2f-105">Par rapport aux précédentes technologies de communication, tels que les services Web à l’aide de [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)], la création d’une instance de client WCF peut être plus complexe en raison de l’ensemble complet de fonctionnalités de WCF.</span><span class="sxs-lookup"><span data-stu-id="d0a2f-105">Compared to previous communications technologies, such as Web services using [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)], the creation of a WCF client instance can be more complex due to the rich feature set of WCF.</span></span> <span data-ttu-id="d0a2f-106">Par exemple, lorsqu'un objet <xref:System.ServiceModel.ChannelFactory%601> est ouvert, il peut établir une session sécurisée avec le service, procédure qui augmente le temps de démarrage pour l'instance cliente.</span><span class="sxs-lookup"><span data-stu-id="d0a2f-106">For example, when a <xref:System.ServiceModel.ChannelFactory%601> object is opened it can establish a secure session with the service, a procedure that increases the startup time for the client instance.</span></span> <span data-ttu-id="d0a2f-107">En règle générale, ces fonctionnalités supplémentaires n’affectent pas les applications clientes considérablement dans la mesure où le client WCF effectue plusieurs appels, puis se ferme.</span><span class="sxs-lookup"><span data-stu-id="d0a2f-107">Typically, these additional feature capabilities do not affect client applications greatly since the WCF client makes several calls, and then closes.</span></span>  
  
 <span data-ttu-id="d0a2f-108">Les applications clientes de niveau intermédiaire, cependant, peuvent créer rapidement de nombreux objets de client WCF et, par conséquent, rencontrer des initialisations accrue nécessaires.</span><span class="sxs-lookup"><span data-stu-id="d0a2f-108">Middle-tier client applications, however, can create many WCF client objects quickly and, as a result, experience increased initialization requirements.</span></span> <span data-ttu-id="d0a2f-109">Il existe deux approches principales pour accroître les performances des applications de niveau intermédiaire lors d'un appel des services :</span><span class="sxs-lookup"><span data-stu-id="d0a2f-109">There are two main approaches to increasing the performance of middle-tier applications when calling services:</span></span>  
  
- <span data-ttu-id="d0a2f-110">Mettre en cache l’objet de client WCF et le réutiliser pour les appels suivants lorsque cela est possible.</span><span class="sxs-lookup"><span data-stu-id="d0a2f-110">Cache the WCF client object and reuse it for subsequent calls where possible.</span></span>  
  
- <span data-ttu-id="d0a2f-111">Créer un <xref:System.ServiceModel.ChannelFactory%601> objet, puis utiliser cet objet pour créer des objets de canal pour chaque appel client WCF.</span><span class="sxs-lookup"><span data-stu-id="d0a2f-111">Create a <xref:System.ServiceModel.ChannelFactory%601> object and then use that object to create new WCF client channel objects for each call.</span></span>  
  
 <span data-ttu-id="d0a2f-112">Les problèmes à prendre en compte lors de l'utilisation de ces approches sont les suivants :</span><span class="sxs-lookup"><span data-stu-id="d0a2f-112">Issues to consider when using these approaches include:</span></span>  
  
- <span data-ttu-id="d0a2f-113">Si le service maintient un état spécifique au client en utilisant une session, vous ne pouvez pas réutiliser le client WCF de couche intermédiaire avec les demandes de niveau de plusieurs clients, car l’état du service est liée à celle du client de niveau intermédiaire.</span><span class="sxs-lookup"><span data-stu-id="d0a2f-113">If the service is maintaining a client-specific state by using a session, then you cannot reuse the middle-tier WCF client with multiple-client tier requests because the service's state is tied to that of the middle-tier client.</span></span>  
  
- <span data-ttu-id="d0a2f-114">Si le service doit s’authentifier sur une base par client, vous devez créer un nouveau client pour chaque demande entrante sur la couche intermédiaire au lieu de réutiliser le client WCF de niveau intermédiaire (ou un objet de canal de client WCF), car les informations d’identification de client de la couche intermédiaire ne peut pas être modifiée une fois le client WCF (ou <xref:System.ServiceModel.ChannelFactory%601>) a été créé.</span><span class="sxs-lookup"><span data-stu-id="d0a2f-114">If the service must perform authentication on a per-client basis, you must create a new client for each incoming request on the middle tier instead of reusing the middle-tier WCF client (or WCF client channel object) because the client credentials of the middle tier cannot be modified after the WCF client (or <xref:System.ServiceModel.ChannelFactory%601>) has been created.</span></span>  
  
- <span data-ttu-id="d0a2f-115">Si les canaux et les clients créés par les canaux sont thread-safe, ils peuvent ne pas prendre en charge l'écriture simultanée de plusieurs messages sur la transmission.</span><span class="sxs-lookup"><span data-stu-id="d0a2f-115">While channels and clients created by the channels are thread-safe, they might not support writing more than one message to the wire concurrently.</span></span> <span data-ttu-id="d0a2f-116">Si vous envoyez des messages volumineux, notamment pour la diffusion en continu, l'opération d'envoi peut bloquer l'exécution d'une autre opération d'envoi.</span><span class="sxs-lookup"><span data-stu-id="d0a2f-116">If you are sending large messages, particularly if streaming, the send operation might block waiting for another send to complete.</span></span> <span data-ttu-id="d0a2f-117">Cette situation entraîne deux types de problèmes : un manque d'accès concurrentiel et le risque d'interblocage si le flux de contrôle retourne au service par l'intermédiaire du canal (autrement dit, le client partagé appelle un service dont le chemin d'accès au code entraîne un rappel au client partagé).</span><span class="sxs-lookup"><span data-stu-id="d0a2f-117">This causes two sorts of problems: a lack of concurrency and the possibility of deadlock if the flow of control returns to the service reusing the channel (that is, the shared client calls a service whose code path results in a callback to the shared client).</span></span> <span data-ttu-id="d0a2f-118">Cela est vrai quel que soit le type de client WCF que vous réutiliser.</span><span class="sxs-lookup"><span data-stu-id="d0a2f-118">This is true regardless of the type of WCF client you reuse.</span></span>  
  
- <span data-ttu-id="d0a2f-119">Vous devez traiter les canaux défaillants, que vous partagiez ou non le canal.</span><span class="sxs-lookup"><span data-stu-id="d0a2f-119">You must handle faulted channels regardless of whether you share the channel.</span></span> <span data-ttu-id="d0a2f-120">Toutefois, lorsque les canaux sont réutilisés, un canal défaillant peut faire échouer plusieurs opérations de demande ou d'envoi en attente.</span><span class="sxs-lookup"><span data-stu-id="d0a2f-120">When channels are reused, however, a faulting channel can take down more than one pending request or send.</span></span>  
  
 <span data-ttu-id="d0a2f-121">Pour obtenir un exemple qui illustre les meilleures pratiques pour réutiliser un client pour plusieurs requêtes, consultez [une liaison de données dans un Client ASP.NET](../../../../docs/framework/wcf/samples/data-binding-in-an-aspnet-client.md).</span><span class="sxs-lookup"><span data-stu-id="d0a2f-121">For an example that demonstrates best practices for reusing a client for multiple requests, see [Data Binding in an ASP.NET Client](../../../../docs/framework/wcf/samples/data-binding-in-an-aspnet-client.md).</span></span>  
  
 <span data-ttu-id="d0a2f-122">De plus, vous pouvez augmenter les performances de démarrage pour les clients qui utilisent des types de données sérialisables à l'aide de <xref:System.Xml.Serialization.XmlSerializer> pour générer et compiler le code de sérialisation pour ces types de données au moment de l'exécution qui peuvent ralentir les performances de démarrage.</span><span class="sxs-lookup"><span data-stu-id="d0a2f-122">In addition, you can increase the startup performance for those clients that use data types that are serializable using the <xref:System.Xml.Serialization.XmlSerializer> generate and compile serialization code for those data types at runtime, which can result in slow start-up performance.</span></span> <span data-ttu-id="d0a2f-123">Le [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) peut améliorer les performances de démarrage de ces applications en générant le code de sérialisation nécessaires à partir des assemblys compilés pour l’application.</span><span class="sxs-lookup"><span data-stu-id="d0a2f-123">The [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) can improve start-up performance for these applications by generating the necessary serialization code from the compiled assemblies for the application.</span></span> <span data-ttu-id="d0a2f-124">Pour plus d'informations, voir [Procédure : Améliorer le temps de démarrage de WCF Client Applications à l’aide de XmlSerializer](../../../../docs/framework/wcf/feature-details/startup-time-of-wcf-client-applications-using-the-xmlserializer.md).</span><span class="sxs-lookup"><span data-stu-id="d0a2f-124">For more information, see [How to: Improve the Startup Time of WCF Client Applications using the XmlSerializer](../../../../docs/framework/wcf/feature-details/startup-time-of-wcf-client-applications-using-the-xmlserializer.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="d0a2f-125">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="d0a2f-125">See also</span></span>

- [<span data-ttu-id="d0a2f-126">Accès aux services à l’aide d’un client WCF</span><span class="sxs-lookup"><span data-stu-id="d0a2f-126">Accessing Services Using a WCF Client</span></span>](../../../../docs/framework/wcf/feature-details/accessing-services-using-a-client.md)
