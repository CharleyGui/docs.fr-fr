---
title: Adresses de point de terminaison
ms.date: 03/30/2017
helpviewer_keywords:
- addresses [WCF]
- Windows Communication Foundation [WCF], addresses
- WCF [WCF], addresses
ms.assetid: 13f269e3-ebb1-433c-86cf-54fbd866a627
ms.openlocfilehash: 71358ed1c16c3c9b490a41f74dd6319af8eb2e7b
ms.sourcegitcommit: cdb295dd1db589ce5169ac9ff096f01fd0c2da9d
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 06/09/2020
ms.locfileid: "84593527"
---
# <a name="endpoint-addresses"></a><span data-ttu-id="1c34b-102">Adresses de point de terminaison</span><span class="sxs-lookup"><span data-stu-id="1c34b-102">Endpoint Addresses</span></span>
<span data-ttu-id="1c34b-103">Chaque point de terminaison a une adresse qui lui est associée et qui est utilisé pour localiser et identifier le point de terminaison.</span><span class="sxs-lookup"><span data-stu-id="1c34b-103">Every endpoint has an address associated with it, which is used to locate and identify the endpoint.</span></span> <span data-ttu-id="1c34b-104">Cette adresse se compose à l'origine d'un URI (Uniform Resource Identifier) qui spécifie l'emplacement du point de terminaison.</span><span class="sxs-lookup"><span data-stu-id="1c34b-104">This address consists primarily of a Uniform Resource Identifier (URI), which specifies the location of the endpoint.</span></span> <span data-ttu-id="1c34b-105">L’adresse de point de terminaison est représentée dans le modèle de programmation Windows Communication Foundation (WCF) par la <xref:System.ServiceModel.EndpointAddress> classe, qui contient une <xref:System.ServiceModel.EndpointAddress.Identity%2A> propriété facultative qui active l’authentification du point de terminaison par les autres points de terminaison qui échangent des messages avec celui-ci, ainsi qu’un ensemble de propriétés facultatives <xref:System.ServiceModel.EndpointAddress.Headers%2A> , qui définissent tous les autres en-têtes SOAP requis pour atteindre le service.</span><span class="sxs-lookup"><span data-stu-id="1c34b-105">The endpoint address is represented in the Windows Communication Foundation (WCF) programming model by the <xref:System.ServiceModel.EndpointAddress> class, which contains an optional <xref:System.ServiceModel.EndpointAddress.Identity%2A> property that enables the authentication of the endpoint by other endpoints that exchange messages with it, and a set of optional <xref:System.ServiceModel.EndpointAddress.Headers%2A> properties, which define any other SOAP headers required to reach the service.</span></span> <span data-ttu-id="1c34b-106">Les en-têtes facultatifs fournissent des données d'adressage plus détaillées supplémentaires pour identifier ou interagir avec le point de terminaison de service.</span><span class="sxs-lookup"><span data-stu-id="1c34b-106">The optional headers provide additional and more detailed addressing information to identify or interact with the service endpoint.</span></span> <span data-ttu-id="1c34b-107">L'adresse d'un point de terminaison est représentée sur le câble comme une référence de point de terminaison WS-Addressing (EPR).</span><span class="sxs-lookup"><span data-stu-id="1c34b-107">The address of an endpoint is represented on the wire as a WS-Addressing endpoint reference (EPR).</span></span>  
  
## <a name="uri-structure-of-an-address"></a><span data-ttu-id="1c34b-108">Structure URI d'une adresse</span><span class="sxs-lookup"><span data-stu-id="1c34b-108">URI Structure of an Address</span></span>  
 <span data-ttu-id="1c34b-109">L'URI d'adresse de la plupart des transports se compose de quatre parties.</span><span class="sxs-lookup"><span data-stu-id="1c34b-109">The address URI for most transports has four parts.</span></span> <span data-ttu-id="1c34b-110">Par exemple, les quatre parties de l’URI `http://www.fabrikam.com:322/mathservice.svc/secureEndpoint` peuvent être déprésentées comme suit :</span><span class="sxs-lookup"><span data-stu-id="1c34b-110">For example, the four parts of the URI `http://www.fabrikam.com:322/mathservice.svc/secureEndpoint` can be itemized as follows:</span></span>  
  
- <span data-ttu-id="1c34b-111">Mode`http:`</span><span class="sxs-lookup"><span data-stu-id="1c34b-111">Scheme: `http:`</span></span>
  
- <span data-ttu-id="1c34b-112">Usinage`www.fabrikam.com`</span><span class="sxs-lookup"><span data-stu-id="1c34b-112">Machine: `www.fabrikam.com`</span></span>  
  
- <span data-ttu-id="1c34b-113">(facultatif) Port : 322</span><span class="sxs-lookup"><span data-stu-id="1c34b-113">(optional) Port: 322</span></span>  
  
- <span data-ttu-id="1c34b-114">Chemin d’accès : /mathservice.svc/secureEndpoint</span><span class="sxs-lookup"><span data-stu-id="1c34b-114">Path: /mathservice.svc/secureEndpoint</span></span>  
  
## <a name="defining-an-address-for-a-service"></a><span data-ttu-id="1c34b-115">Définition de l'adresse d'un service</span><span class="sxs-lookup"><span data-stu-id="1c34b-115">Defining an Address for a Service</span></span>  
 <span data-ttu-id="1c34b-116">L'adresse du point de terminaison pour un service peut être spécifiée de manière impérative en utilisant le code ou de façon déclarative par la configuration.</span><span class="sxs-lookup"><span data-stu-id="1c34b-116">The endpoint address for a service can be specified either imperatively using code or declaratively through configuration.</span></span> <span data-ttu-id="1c34b-117">La définition de points de terminaison dans le code est généralement peu pratique car les liaisons et les adresses pour un service déployé sont en général différentes de celles utilisées au cours du développement du service.</span><span class="sxs-lookup"><span data-stu-id="1c34b-117">Defining endpoints in code is usually not practical because the bindings and addresses for a deployed service are typically different from those used while the service is being developed.</span></span> <span data-ttu-id="1c34b-118">En général, il est plus pratique de définir des points de terminaison de service à l'aide de la configuration plutôt que du code.</span><span class="sxs-lookup"><span data-stu-id="1c34b-118">Generally, it is more practical to define service endpoints using configuration rather than code.</span></span> <span data-ttu-id="1c34b-119">Le fait de conserver les informations de liaison et d’adressage hors du code leur permet de changer sans nécessiter de recompilation et de redéploiement de l’application.</span><span class="sxs-lookup"><span data-stu-id="1c34b-119">Keeping the binding and addressing information out of the code allows them to change without having to recompile or redeploy the application.</span></span>  
  
### <a name="defining-an-address-in-configuration"></a><span data-ttu-id="1c34b-120">Définition d'une adresse dans la configuration</span><span class="sxs-lookup"><span data-stu-id="1c34b-120">Defining an Address in Configuration</span></span>  
 <span data-ttu-id="1c34b-121">Pour définir un point de terminaison dans un fichier de configuration, utilisez l' [\<endpoint>](../../configure-apps/file-schema/wcf/endpoint-element.md) élément.</span><span class="sxs-lookup"><span data-stu-id="1c34b-121">To define an endpoint in a configuration file, use the [\<endpoint>](../../configure-apps/file-schema/wcf/endpoint-element.md) element.</span></span> <span data-ttu-id="1c34b-122">Pour plus d’informations et pour obtenir un exemple, consultez [spécification d’une adresse de point de terminaison](../specifying-an-endpoint-address.md).</span><span class="sxs-lookup"><span data-stu-id="1c34b-122">For details and an example, see [Specifying an Endpoint Address](../specifying-an-endpoint-address.md).</span></span>  
  
### <a name="defining-an-address-in-code"></a><span data-ttu-id="1c34b-123">Définition d'une adresse dans le code</span><span class="sxs-lookup"><span data-stu-id="1c34b-123">Defining an Address in Code</span></span>  
 <span data-ttu-id="1c34b-124">Une adresse de point de terminaison peut être créée dans le code avec la classe <xref:System.ServiceModel.EndpointAddress>.</span><span class="sxs-lookup"><span data-stu-id="1c34b-124">An endpoint address can be created in code with the <xref:System.ServiceModel.EndpointAddress> class.</span></span> <span data-ttu-id="1c34b-125">Pour plus d’informations et pour obtenir un exemple, consultez [spécification d’une adresse de point de terminaison](../specifying-an-endpoint-address.md).</span><span class="sxs-lookup"><span data-stu-id="1c34b-125">For details and an example, see [Specifying an Endpoint Address](../specifying-an-endpoint-address.md).</span></span>  
  
### <a name="endpoints-in-wsdl"></a><span data-ttu-id="1c34b-126">Points de terminaison dans WSDL</span><span class="sxs-lookup"><span data-stu-id="1c34b-126">Endpoints in WSDL</span></span>  
 <span data-ttu-id="1c34b-127">Une adresse de point de terminaison peut aussi être représentée dans WSDL sous la forme d'un élément EPR WS-Addressing à l'intérieur de l'élément `wsdl:port` du point de terminaison correspondant.</span><span class="sxs-lookup"><span data-stu-id="1c34b-127">An endpoint address can also be represented in WSDL as a WS-Addressing EPR element inside the corresponding endpoint's `wsdl:port` element.</span></span> <span data-ttu-id="1c34b-128">L'EPR contient l'adresse du point de terminaison ainsi que toutes les propriétés d'adresse.</span><span class="sxs-lookup"><span data-stu-id="1c34b-128">The EPR contains the endpoint's address as well as any address properties.</span></span> <span data-ttu-id="1c34b-129">Pour plus d’informations et pour obtenir un exemple, consultez [spécification d’une adresse de point de terminaison](../specifying-an-endpoint-address.md).</span><span class="sxs-lookup"><span data-stu-id="1c34b-129">For details and an example, see [Specifying an Endpoint Address](../specifying-an-endpoint-address.md).</span></span>  
  
## <a name="multiple-iis-binding-support-in-net-framework-35"></a><span data-ttu-id="1c34b-130">Prise en charge de plusieurs liaisons IIS dans .NET Framework 3,5</span><span class="sxs-lookup"><span data-stu-id="1c34b-130">Multiple IIS Binding Support in .NET Framework 3.5</span></span>  
 <span data-ttu-id="1c34b-131">Les fournisseurs de services Internet hébergent souvent de nombreuses applications sur le même serveur et le même site pour augmenter la densité du site et réduire le coût total de possession.</span><span class="sxs-lookup"><span data-stu-id="1c34b-131">Internet service providers often host many applications on the same server and site to increase the site density and lower total cost of ownership.</span></span> <span data-ttu-id="1c34b-132">Ces applications sont liées en général à des adresses de base différentes.</span><span class="sxs-lookup"><span data-stu-id="1c34b-132">These applications are typically bound to different base addresses.</span></span> <span data-ttu-id="1c34b-133">Un site web IIS (Internet Information Services) peut contenir plusieurs applications.</span><span class="sxs-lookup"><span data-stu-id="1c34b-133">An Internet Information Services (IIS) Web site can contain multiple applications.</span></span> <span data-ttu-id="1c34b-134">Les applications dans un site sont accessibles par le biais d'une ou de plusieurs liaisons IIS.</span><span class="sxs-lookup"><span data-stu-id="1c34b-134">The applications in a site can be accessed through one or more IIS bindings.</span></span>  
  
 <span data-ttu-id="1c34b-135">Les liaisons IIS fournissent deux informations : un protocole de liaison et des informations de liaison.</span><span class="sxs-lookup"><span data-stu-id="1c34b-135">IIS bindings provide two pieces of information: a binding protocol, and binding information.</span></span> <span data-ttu-id="1c34b-136">Le protocole de liaison définit la méthode selon laquelle la communication se produit, et les informations de liaison sont les informations utilisées pour accéder au site.</span><span class="sxs-lookup"><span data-stu-id="1c34b-136">The binding protocol defines the scheme over which communication occurs, and binding information is the information used to access the site.</span></span>  
  
 <span data-ttu-id="1c34b-137">L’exemple suivant affiche les composants qui peuvent être présents dans une liaison IIS :</span><span class="sxs-lookup"><span data-stu-id="1c34b-137">The following example shows the components that can be present in an IIS binding:</span></span>  
  
- <span data-ttu-id="1c34b-138">Protocole de liaison : HTTP</span><span class="sxs-lookup"><span data-stu-id="1c34b-138">Binding protocol: HTTP</span></span>  
  
- <span data-ttu-id="1c34b-139">Informations de liaison : adresse IP, port, en-tête de l’hôte</span><span class="sxs-lookup"><span data-stu-id="1c34b-139">Binding Information: IP Address, Port, Host header</span></span>  
  
 <span data-ttu-id="1c34b-140">IIS peut spécifier plusieurs liaisons pour chaque site, ce qui génère plusieurs adresses de base pour chaque méthode.</span><span class="sxs-lookup"><span data-stu-id="1c34b-140">IIS can specify multiple bindings for each site, which results in multiple base addresses for each scheme.</span></span> <span data-ttu-id="1c34b-141">Avant le .NET Framework 3,5, WCF ne prenait pas en charge plusieurs adresses pour un schéma et, s’ils étaient spécifiés, a levé une <xref:System.ArgumentException> lors de l’activation.</span><span class="sxs-lookup"><span data-stu-id="1c34b-141">Prior to .NET Framework 3.5, WCF did not support multiple addresses for a schema and, if they were specified, threw a <xref:System.ArgumentException> during activation.</span></span>  
  
 <span data-ttu-id="1c34b-142">La .NET Framework 3,5 permet aux fournisseurs de services Internet d’héberger plusieurs applications avec différentes adresses de base pour le même schéma sur le même site.</span><span class="sxs-lookup"><span data-stu-id="1c34b-142">The .NET Framework 3.5 enables Internet service providers to host multiple applications with different base addresses for the same scheme on the same site.</span></span>  
  
 <span data-ttu-id="1c34b-143">Par exemple, un site pourrait contenir les adresses de base suivantes :</span><span class="sxs-lookup"><span data-stu-id="1c34b-143">For example, a site could contain the following base addresses:</span></span>  
  
- `http://payroll.myorg.com/Service.svc`
  
- `http://shipping.myorg.com/Service.svc`
  
 <span data-ttu-id="1c34b-144">Avec .NET Framework 3,5, vous spécifiez un filtre de préfixe au niveau du AppDomain dans le fichier de configuration.</span><span class="sxs-lookup"><span data-stu-id="1c34b-144">With .NET Framework 3.5, you specify a prefix filter at the AppDomain level in the configuration file.</span></span> <span data-ttu-id="1c34b-145">Pour ce faire, vous devez utiliser l' [\<baseAddressPrefixFilters>](../../configure-apps/file-schema/wcf/baseaddressprefixfilters.md) élément, qui contient une liste de préfixes.</span><span class="sxs-lookup"><span data-stu-id="1c34b-145">You do this with the [\<baseAddressPrefixFilters>](../../configure-apps/file-schema/wcf/baseaddressprefixfilters.md) element, which contains a list of prefixes.</span></span> <span data-ttu-id="1c34b-146">Les adresses de base entrantes, fournies par IIS, sont filtrées selon la liste de préfixes facultative.</span><span class="sxs-lookup"><span data-stu-id="1c34b-146">The incoming base addresses, supplied by IIS, are filtered based on the optional prefix list.</span></span> <span data-ttu-id="1c34b-147">Par défaut, lorsqu'un préfixe n'est pas spécifié, toutes les adresses sont transmises.</span><span class="sxs-lookup"><span data-stu-id="1c34b-147">By default, when a prefix is not specified, all addresses are passed through.</span></span> <span data-ttu-id="1c34b-148">La spécification du préfixe entraîne uniquement la transmission de l'adresse de base correspondante pour ce schéma.</span><span class="sxs-lookup"><span data-stu-id="1c34b-148">Specifying the prefix results in only the matching base address for that scheme to be passed through.</span></span>  
  
 <span data-ttu-id="1c34b-149">Les éléments suivants sont un exemple de code de configuration qui utilise les filtres de préfixe.</span><span class="sxs-lookup"><span data-stu-id="1c34b-149">The following is an example of configuration code that uses the prefix filters.</span></span>  
  
```xml  
<system.serviceModel>  
  <serviceHostingEnvironment>  
     <baseAddressPrefixFilters>  
        <add prefix="net.tcp://payroll.myorg.com:8000"/>  
        <add prefix="http://shipping.myorg.com:8000"/>  
    </baseAddressPrefixFilters>  
  </serviceHostingEnvironment>  
</system.serviceModel>  
```  
  
 <span data-ttu-id="1c34b-150">Dans l’exemple précédent, `net.tcp://payroll.myorg.com:8000` et `http://shipping.myorg.com:8000` sont les seules adresses de base, pour leurs schémas respectifs, qui sont transmises.</span><span class="sxs-lookup"><span data-stu-id="1c34b-150">In the preceding example, `net.tcp://payroll.myorg.com:8000` and `http://shipping.myorg.com:8000` are the only base addresses, for their respective schemes, which are passed through.</span></span>  
  
 <span data-ttu-id="1c34b-151">Le `baseAddressPrefixFilter` ne prend pas en charge de caractères génériques.</span><span class="sxs-lookup"><span data-stu-id="1c34b-151">The `baseAddressPrefixFilter` does not support wildcards.</span></span>  
  
 <span data-ttu-id="1c34b-152">Les adresses de base fournies par IIS peuvent avoir des adresses liées à d'autres méthodes non présentes dans la liste `baseAddressPrefixFilters`.</span><span class="sxs-lookup"><span data-stu-id="1c34b-152">The base addresses supplied by IIS may have addresses bound to other schemes not present in `baseAddressPrefixFilters` list.</span></span> <span data-ttu-id="1c34b-153">Ces adresses ne sont pas éliminées par filtrage.</span><span class="sxs-lookup"><span data-stu-id="1c34b-153">These addresses are not filtered out.</span></span>  
  
## <a name="multiple-iis-binding-support-in-net-framework-4-and-later"></a><span data-ttu-id="1c34b-154">Prise en charge de plusieurs liaisons IIS dans .NET Framework 4 et version ultérieure</span><span class="sxs-lookup"><span data-stu-id="1c34b-154">Multiple IIS Binding Support in .NET Framework 4 and later</span></span>  
 <span data-ttu-id="1c34b-155">À partir du .NET 4, vous pouvez activer la prise en charge de plusieurs liaisons dans IIS sans avoir à récupérer une seule adresse de base, en affectant au paramètre <xref:System.ServiceModel.ServiceHostingEnvironment> de <xref:System.ServiceModel.ServiceHostingEnvironment.MultipleSiteBindingsEnabled%2A> la valeur true.</span><span class="sxs-lookup"><span data-stu-id="1c34b-155">Starting in .NET 4, you can enable support for multiple bindings in IIS without having to pick a single base address, by setting <xref:System.ServiceModel.ServiceHostingEnvironment>’s <xref:System.ServiceModel.ServiceHostingEnvironment.MultipleSiteBindingsEnabled%2A> setting to true.</span></span> <span data-ttu-id="1c34b-156">Cette prise en charge est limitée aux schémas de protocole HTTP.</span><span class="sxs-lookup"><span data-stu-id="1c34b-156">This support is limited to HTTP protocol schemes.</span></span>  
  
 <span data-ttu-id="1c34b-157">Voici un exemple de code de configuration qui utilise multipleSiteBindingsEnabled sur [\<serviceHostingEnvironment>](../../configure-apps/file-schema/wcf/servicehostingenvironment.md) .</span><span class="sxs-lookup"><span data-stu-id="1c34b-157">The following is an example of configuration code that uses multipleSiteBindingsEnabled on [\<serviceHostingEnvironment>](../../configure-apps/file-schema/wcf/servicehostingenvironment.md).</span></span>  
  
```xml  
<system.serviceModel>  
  <serviceHostingEnvironment multipleSiteBindingsEnabled="true" >  
  </serviceHostingEnvironment>  
</system.serviceModel>  
```  
  
 <span data-ttu-id="1c34b-158">Tout paramètre baseAddressPrefixFilters est ignoré, à la fois pour les protocoles HTTP et non HTTP, lorsque plusieurs liaisons de site sont activées à l'aide de ce paramètre.</span><span class="sxs-lookup"><span data-stu-id="1c34b-158">Any baseAddressPrefixFilters settings are ignored, for both HTTP and non-HTTP protocols, when multiple site bindings are enabled using this setting.</span></span>  
  
 <span data-ttu-id="1c34b-159">Pour plus d’informations et pour obtenir des exemples, consultez [prise en charge de plusieurs liaisons de site IIS](supporting-multiple-iis-site-bindings.md) et <xref:System.ServiceModel.ServiceHostingEnvironment.MultipleSiteBindingsEnabled%2A> .</span><span class="sxs-lookup"><span data-stu-id="1c34b-159">For details and examples, see [Supporting Multiple IIS Site Bindings](supporting-multiple-iis-site-bindings.md) and <xref:System.ServiceModel.ServiceHostingEnvironment.MultipleSiteBindingsEnabled%2A>.</span></span>  
  
## <a name="extending-addressing-in-wcf-services"></a><span data-ttu-id="1c34b-160">Extension de l'adressage dans les services WCF</span><span class="sxs-lookup"><span data-stu-id="1c34b-160">Extending Addressing in WCF Services</span></span>  
 <span data-ttu-id="1c34b-161">Le modèle d’adressage par défaut des services WCF utilise l’URI d’adresse de point de terminaison aux fins suivantes :</span><span class="sxs-lookup"><span data-stu-id="1c34b-161">The default addressing model of WCF services uses the endpoint address URI for the following purposes:</span></span>  
  
- <span data-ttu-id="1c34b-162">Pour spécifier l'adresse d'écoute du service, l'emplacement où le point de terminaison écoute les messages.</span><span class="sxs-lookup"><span data-stu-id="1c34b-162">To specify the service listening address, the location at which the endpoint listens for messages,</span></span>  
  
- <span data-ttu-id="1c34b-163">Pour spécifier le filtre d'adresse SOAP, l'adresse à laquelle s'attend un point de terminaison sous la forme d'un en-tête SOAP.</span><span class="sxs-lookup"><span data-stu-id="1c34b-163">To specify the SOAP address filter, the address an endpoint expects as a SOAP header.</span></span>  
  
 <span data-ttu-id="1c34b-164">Les valeurs pour chacun de ces objectifs peuvent être spécifiées séparément, en permettant plusieurs extensions d’adressage qui représentent des scénarios utiles :</span><span class="sxs-lookup"><span data-stu-id="1c34b-164">The values for each of these purposes can be specified separately, allowing several extensions of addressing that cover useful scenarios:</span></span>  
  
- <span data-ttu-id="1c34b-165">Intermédiaires SOAP : un message envoyé par un client traverse un ou plusieurs services supplémentaires qui traitent le message avant qu'il atteigne sa dernière destination.</span><span class="sxs-lookup"><span data-stu-id="1c34b-165">SOAP intermediaries: a message sent by a client traverses one or more additional services that process the message before it reaches its final destination.</span></span> <span data-ttu-id="1c34b-166">Les intermédiaires SOAP peuvent effectuer différentes tâches, telles que la mise en cache, le routage, l’équilibrage des charges, ou la validation de schéma sur les messages.</span><span class="sxs-lookup"><span data-stu-id="1c34b-166">SOAP intermediaries can perform various tasks, such as caching, routing, load-balancing, or schema validation on the messages.</span></span> <span data-ttu-id="1c34b-167">Ce scénario s'accomplit en envoyant des messages à une adresse physique distincte (`via`) qui cible l'intermédiaire plutôt qu'une adresse logique (`wsa:To`) ciblant la destination finale.</span><span class="sxs-lookup"><span data-stu-id="1c34b-167">This scenario is accomplished by sending messages to a separate physical address (`via`) that targets the intermediary rather than just to a logical address (`wsa:To`) that targets the ultimate destination.</span></span>  
  
- <span data-ttu-id="1c34b-168">L'adresse d'écoute du point de terminaison est un URI privé dont la valeur est différente de sa propriété `listenURI`.</span><span class="sxs-lookup"><span data-stu-id="1c34b-168">The listening address of the endpoint is a private URI and is set to a different value than its `listenURI` property.</span></span>  
  
 <span data-ttu-id="1c34b-169">L'adresse de transport spécifiée par `via` est l'emplacement auquel un message doit être initialement envoyé pour atteindre une autre adresse distante spécifiée par le paramètre `to` où est localisé le service.</span><span class="sxs-lookup"><span data-stu-id="1c34b-169">The transport address that the `via` specifies is the location to which a message should initially be sent on its way to some other remote address specified by the `to` parameter at which the service is located.</span></span> <span data-ttu-id="1c34b-170">Dans la plupart des scénarios Internet, l'URI `via` est identique à la propriété <xref:System.ServiceModel.EndpointAddress.Uri%2A> de l'adresse `to` finale du service.</span><span class="sxs-lookup"><span data-stu-id="1c34b-170">In most Internet scenarios, the `via` URI is the same as the <xref:System.ServiceModel.EndpointAddress.Uri%2A> property of the final `to` address of the service.</span></span> <span data-ttu-id="1c34b-171">Vous ne pouvez différencier ces deux adresses que lorsque vous devez effectuer un routage manuel.</span><span class="sxs-lookup"><span data-stu-id="1c34b-171">You only distinguish between these two addresses when you must do manual routing.</span></span>  
  
### <a name="addressing-headers"></a><span data-ttu-id="1c34b-172">En-têtes d'adressage</span><span class="sxs-lookup"><span data-stu-id="1c34b-172">Addressing Headers</span></span>  
 <span data-ttu-id="1c34b-173">Un point de terminaison peut être adressé par un ou plusieurs en-têtes SOAP en plus de son URI de base.</span><span class="sxs-lookup"><span data-stu-id="1c34b-173">An endpoint can be addressed by one or more SOAP headers in addition to its basic URI.</span></span> <span data-ttu-id="1c34b-174">Le jeu de scénarios où cette opération est utile est un jeu de scénarios intermédiaires SOAP où un point de terminaison requiert que les clients de ce point de terminaison incluent des en-têtes SOAP destinés à des intermédiaires.</span><span class="sxs-lookup"><span data-stu-id="1c34b-174">One set of scenarios where this is useful is a set of SOAP intermediary scenarios where an endpoint requires clients of that endpoint to include SOAP headers targeted at intermediaries.</span></span>  
  
 <span data-ttu-id="1c34b-175">Vous pouvez définir des en-têtes d'adresse personnalisés de deux manières, à l'aide du code ou de la configuration :</span><span class="sxs-lookup"><span data-stu-id="1c34b-175">You can define custom address headers in two ways—by using either code or configuration:</span></span>  
  
- <span data-ttu-id="1c34b-176">Dans le code, vous créez des en-têtes d'adresse personnalisés à l'aide de la classe <xref:System.ServiceModel.Channels.AddressHeader>, que vous utilisez ensuite dans la construction d'un <xref:System.ServiceModel.EndpointAddress>.</span><span class="sxs-lookup"><span data-stu-id="1c34b-176">In code, create custom address headers by using the <xref:System.ServiceModel.Channels.AddressHeader> class, and then used in the construction of an <xref:System.ServiceModel.EndpointAddress>.</span></span>  
  
- <span data-ttu-id="1c34b-177">Dans Configuration, Custom [\<headers>](../../configure-apps/file-schema/wcf/headers.md) est spécifié en tant qu’enfants de l' [\<endpoint>](../../configure-apps/file-schema/wcf/endpoint-of-client.md) élément.</span><span class="sxs-lookup"><span data-stu-id="1c34b-177">In configuration, custom [\<headers>](../../configure-apps/file-schema/wcf/headers.md) are specified as children of the [\<endpoint>](../../configure-apps/file-schema/wcf/endpoint-of-client.md) element.</span></span>  
  
 <span data-ttu-id="1c34b-178">La configuration est généralement préférable au code, car elle vous permet de modifier les en-têtes après le déploiement.</span><span class="sxs-lookup"><span data-stu-id="1c34b-178">Configuration is generally preferable to code, as it allows you to change the headers after deployment.</span></span>  
  
### <a name="custom-listening-addresses"></a><span data-ttu-id="1c34b-179">Adresses d'écoute personnalisées</span><span class="sxs-lookup"><span data-stu-id="1c34b-179">Custom Listening Addresses</span></span>  
 <span data-ttu-id="1c34b-180">Vous pouvez affecter à l'adresse d'écoute une valeur différente de l'URI du point de terminaison.</span><span class="sxs-lookup"><span data-stu-id="1c34b-180">You can set the listening address to a different value than the endpoint’s URI.</span></span> <span data-ttu-id="1c34b-181">Ce procédé est utile dans les scénarios intermédiaires où l'adresse SOAP à exposer est celle d'un intermédiaire SOAP public, alors que l'adresse où le point de terminaison écoute réellement est une adresse de réseau privé.</span><span class="sxs-lookup"><span data-stu-id="1c34b-181">This is useful in intermediary scenarios where the SOAP address to be exposed is that of a public SOAP intermediary, whereas the address where the endpoint actually listens is a private network address.</span></span>  
  
 <span data-ttu-id="1c34b-182">Vous pouvez spécifier une adresse d'écoute personnalisée à l'aide du code ou de la configuration :</span><span class="sxs-lookup"><span data-stu-id="1c34b-182">You can specify a custom listening address by using either code or configuration:</span></span>  
  
- <span data-ttu-id="1c34b-183">Dans le code, spécifiez une adresse d'écoute personnalisée en ajoutant une classe <xref:System.ServiceModel.Description.ClientViaBehavior> à la collection de comportements du point de terminaison.</span><span class="sxs-lookup"><span data-stu-id="1c34b-183">In code, specify a custom listening address by adding a <xref:System.ServiceModel.Description.ClientViaBehavior> class to the endpoint’s behavior collection.</span></span>  
  
- <span data-ttu-id="1c34b-184">Dans Configuration, spécifiez une adresse d’écoute personnalisée avec l' `ListenUri` attribut de l’élément de service [\<endpoint>](../../configure-apps/file-schema/wcf/endpoint-element.md) .</span><span class="sxs-lookup"><span data-stu-id="1c34b-184">In configuration, specify a custom listening address with the `ListenUri` attribute of the service [\<endpoint>](../../configure-apps/file-schema/wcf/endpoint-element.md) element.</span></span>  
  
### <a name="custom-soap-address-filter"></a><span data-ttu-id="1c34b-185">Filtre d'adresse SOAP personnalisé</span><span class="sxs-lookup"><span data-stu-id="1c34b-185">Custom SOAP Address Filter</span></span>  
 <span data-ttu-id="1c34b-186">L'<xref:System.ServiceModel.EndpointAddress.Uri%2A> est utilisé conjointement avec toute propriété <xref:System.ServiceModel.EndpointAddress.Headers%2A> pour définir le filtre d'adresse SOAP d'un point de terminaison (<xref:System.ServiceModel.Dispatcher.EndpointDispatcher.AddressFilter%2A>).</span><span class="sxs-lookup"><span data-stu-id="1c34b-186">The <xref:System.ServiceModel.EndpointAddress.Uri%2A> is used in conjunction with any <xref:System.ServiceModel.EndpointAddress.Headers%2A> property to define an endpoint’s SOAP address filter (<xref:System.ServiceModel.Dispatcher.EndpointDispatcher.AddressFilter%2A>).</span></span> <span data-ttu-id="1c34b-187">Par défaut, ce filtre vérifie qu'un message entrant a un en-tête de message `To` qui correspond à l'URI du point de terminaison et que tous les en-têtes de point de terminaison requis sont présents dans le message.</span><span class="sxs-lookup"><span data-stu-id="1c34b-187">By default, this filter verifies that an incoming message has a `To` message header that matches the endpoint’s URI and that all of the required endpoint headers are present in the message.</span></span>  
  
 <span data-ttu-id="1c34b-188">Dans certains scénarios, un point de terminaison reçoit tous les messages qui arrivent sur le transport sous-jacent, et pas seulement ceux avec l'en-tête `To` approprié.</span><span class="sxs-lookup"><span data-stu-id="1c34b-188">In some scenarios, an endpoint receives all messages that arrive on the underlying transport, and not just those with the appropriate `To` header.</span></span> <span data-ttu-id="1c34b-189">Pour activer cette fonction, l'utilisateur peut utiliser la classe <xref:System.ServiceModel.Dispatcher.MatchAllMessageFilter>.</span><span class="sxs-lookup"><span data-stu-id="1c34b-189">To enable this, the user can use the <xref:System.ServiceModel.Dispatcher.MatchAllMessageFilter> class.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="1c34b-190">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="1c34b-190">See also</span></span>

- [<span data-ttu-id="1c34b-191">Spécification d’une adresse de point de terminaison</span><span class="sxs-lookup"><span data-stu-id="1c34b-191">Specifying an Endpoint Address</span></span>](../specifying-an-endpoint-address.md)
- [<span data-ttu-id="1c34b-192">Identité du service et authentification</span><span class="sxs-lookup"><span data-stu-id="1c34b-192">Service Identity and Authentication</span></span>](service-identity-and-authentication.md)
