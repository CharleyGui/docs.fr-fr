---
title: Comportements de sécurité dans WCF
ms.date: 03/30/2017
ms.assetid: 513232c0-39fd-4409-bda6-5ebd5e0ea7b0
ms.openlocfilehash: 12ae9bb90752fe3ee76404948693c501fc42efe6
ms.sourcegitcommit: de17a7a0a37042f0d4406f5ae5393531caeb25ba
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/24/2020
ms.locfileid: "76730944"
---
# <a name="security-behaviors-in-wcf"></a><span data-ttu-id="aba6d-102">Comportements de sécurité dans WCF</span><span class="sxs-lookup"><span data-stu-id="aba6d-102">Security Behaviors in WCF</span></span>
<span data-ttu-id="aba6d-103">Dans Windows Communication Foundation (WCF), les comportements modifient le comportement au moment de l’exécution au niveau du service ou au niveau du point de terminaison.</span><span class="sxs-lookup"><span data-stu-id="aba6d-103">In Windows Communication Foundation (WCF), behaviors modify run-time behavior at the service level or at the endpoint level.</span></span> <span data-ttu-id="aba6d-104">(Pour plus d’informations sur les comportements en général, consultez [spécification du comportement du service au moment](../../../../docs/framework/wcf/specifying-service-run-time-behavior.md)de l’exécution.) Les *comportements de sécurité* permettent de contrôler les informations d’identification, l’authentification, l’autorisation et les journaux d’audit.</span><span class="sxs-lookup"><span data-stu-id="aba6d-104">(For more information about behaviors in general, see [Specifying Service Run-Time Behavior](../../../../docs/framework/wcf/specifying-service-run-time-behavior.md).) *Security behaviors* allow control over credentials, authentication, authorization, and auditing logs.</span></span> <span data-ttu-id="aba6d-105">Vous pouvez les utiliser via la programmation ou la configuration.</span><span class="sxs-lookup"><span data-stu-id="aba6d-105">You can use behaviors either by programming or through configuration.</span></span> <span data-ttu-id="aba6d-106">Cette rubrique se concentre sur la configuration des comportements relatifs aux fonctions de sécurité suivants :</span><span class="sxs-lookup"><span data-stu-id="aba6d-106">This topic focuses on configuring the following behaviors related to security functions:</span></span>  
  
- <span data-ttu-id="aba6d-107">[\<> ServiceCredentials](../../../../docs/framework/configure-apps/file-schema/wcf/servicecredentials.md).</span><span class="sxs-lookup"><span data-stu-id="aba6d-107">[\<serviceCredentials>](../../../../docs/framework/configure-apps/file-schema/wcf/servicecredentials.md).</span></span>  
  
- <span data-ttu-id="aba6d-108">[\<> ClientCredentials](../../../../docs/framework/configure-apps/file-schema/wcf/clientcredentials.md).</span><span class="sxs-lookup"><span data-stu-id="aba6d-108">[\<clientCredentials>](../../../../docs/framework/configure-apps/file-schema/wcf/clientcredentials.md).</span></span>  
  
- <span data-ttu-id="aba6d-109">[\<> ServiceAuthorization](../../../../docs/framework/configure-apps/file-schema/wcf/serviceauthorization-element.md).</span><span class="sxs-lookup"><span data-stu-id="aba6d-109">[\<serviceAuthorization>](../../../../docs/framework/configure-apps/file-schema/wcf/serviceauthorization-element.md).</span></span>  
  
- <span data-ttu-id="aba6d-110">[\<> serviceSecurityAudit](../../../../docs/framework/configure-apps/file-schema/wcf/servicesecurityaudit.md).</span><span class="sxs-lookup"><span data-stu-id="aba6d-110">[\<serviceSecurityAudit>](../../../../docs/framework/configure-apps/file-schema/wcf/servicesecurityaudit.md).</span></span>  
  
- <span data-ttu-id="aba6d-111">[\<> serviceMetadata](../../../../docs/framework/configure-apps/file-schema/wcf/servicemetadata.md), qui vous permet également de spécifier un point de terminaison sécurisé auquel les clients peuvent accéder pour les métadonnées.</span><span class="sxs-lookup"><span data-stu-id="aba6d-111">[\<serviceMetadata>](../../../../docs/framework/configure-apps/file-schema/wcf/servicemetadata.md), which also enables you to specify a secure endpoint that clients can access for metadata.</span></span>  
  
## <a name="setting-credentials-with-behaviors"></a><span data-ttu-id="aba6d-112">Définition d'informations d'identification avec des comportements</span><span class="sxs-lookup"><span data-stu-id="aba6d-112">Setting Credentials with Behaviors</span></span>  
 <span data-ttu-id="aba6d-113">Utilisez les > [\<serviceCredentials >](../../../../docs/framework/configure-apps/file-schema/wcf/servicecredentials.md) et [\<ClientCredentials](../../../../docs/framework/configure-apps/file-schema/wcf/clientcredentials.md) pour définir les valeurs d’informations d’identification pour un service ou un client.</span><span class="sxs-lookup"><span data-stu-id="aba6d-113">Use the [\<serviceCredentials>](../../../../docs/framework/configure-apps/file-schema/wcf/servicecredentials.md) and [\<clientCredentials>](../../../../docs/framework/configure-apps/file-schema/wcf/clientcredentials.md) to set credential values for a service or client.</span></span> <span data-ttu-id="aba6d-114">La configuration de liaison sous-jacente détermine si une information d’identification doit être définie.</span><span class="sxs-lookup"><span data-stu-id="aba6d-114">The underlying binding configuration determines whether a credential has to be set.</span></span> <span data-ttu-id="aba6d-115">Par exemple, si le mode de sécurité a la valeur `None`, les clients et les services ne s'authentifient pas l'un l'autre et ne requièrent pas d'information d'identification d'aucun type.</span><span class="sxs-lookup"><span data-stu-id="aba6d-115">For example, if the security mode is set to `None`, both clients and services do not authenticate each other and require no credentials of any type.</span></span>  
  
 <span data-ttu-id="aba6d-116">En revanche, la liaison de service peut requérir un type d'informations d'identification du client.</span><span class="sxs-lookup"><span data-stu-id="aba6d-116">On the other hand, the service binding can require a client credential type.</span></span> <span data-ttu-id="aba6d-117">Dans ce cas, il peut s'avérer nécessaire de définir une valeur d'information d'identification à l'aide d'un comportement.</span><span class="sxs-lookup"><span data-stu-id="aba6d-117">In that case, you may have to set a credential value using a behavior.</span></span> <span data-ttu-id="aba6d-118">(Pour plus d’informations sur les types d’informations d’identification possibles, consultez [sélection d’un type d’informations d’identification](../../../../docs/framework/wcf/feature-details/selecting-a-credential-type.md).) Dans certains cas, par exemple lorsque des informations d’identification Windows sont utilisées pour l’authentification, l’environnement établit automatiquement la valeur d’informations d’identification réelle et vous n’avez pas besoin de définir explicitement la valeur des informations d’identification (sauf si vous souhaitez spécifier un autre ensemble d’informations d’identification).</span><span class="sxs-lookup"><span data-stu-id="aba6d-118">(For more information about the possible types of credentials, see [Selecting a Credential Type](../../../../docs/framework/wcf/feature-details/selecting-a-credential-type.md).) In some cases, such as when Windows credentials are used to authenticate, the environment automatically establishes the actual credential value and you do not need to explicitly set the credential value (unless you want to specify a different set of credentials).</span></span>  
  
 <span data-ttu-id="aba6d-119">Toutes les informations d’identification de service sont représentées en tant qu’éléments enfants du [>\<serviceBehaviors](../../../../docs/framework/configure-apps/file-schema/wcf/servicebehaviors.md).</span><span class="sxs-lookup"><span data-stu-id="aba6d-119">All service credentials are found as child elements of the [\<serviceBehaviors>](../../../../docs/framework/configure-apps/file-schema/wcf/servicebehaviors.md).</span></span> <span data-ttu-id="aba6d-120">L'exemple suivant présente un certificat utilisé en tant qu'information d'identification du service.</span><span class="sxs-lookup"><span data-stu-id="aba6d-120">The following example shows a certificate used as a service credential.</span></span>  
  
```xml  
<configuration>  
 <system.serviceModel>  
  <behaviors>  
   <serviceBehaviors>  
    <behavior name="ServiceBehavior1">  
     <serviceCredentials>  
      <serviceCertificate findValue="000000000000000000000000000"   
                          storeLocation="CurrentUser"  
      storeName="Root" x509FindType="FindByThumbprint" />  
     </serviceCredentials>  
    </behavior>  
   </serviceBehaviors>  
  </behaviors>  
 </system.serviceModel>  
</configuration>  
```  
  
## <a name="service-credentials"></a><span data-ttu-id="aba6d-121">Informations d'identification du service</span><span class="sxs-lookup"><span data-stu-id="aba6d-121">Service Credentials</span></span>  
 <span data-ttu-id="aba6d-122">Le [\<serviceCredentials >](../../../../docs/framework/configure-apps/file-schema/wcf/servicecredentials.md) contient quatre éléments enfants.</span><span class="sxs-lookup"><span data-stu-id="aba6d-122">The [\<serviceCredentials>](../../../../docs/framework/configure-apps/file-schema/wcf/servicecredentials.md) contains four child elements.</span></span> <span data-ttu-id="aba6d-123">Les éléments et leurs utilisations sont traités dans les sections suivantes.</span><span class="sxs-lookup"><span data-stu-id="aba6d-123">The elements and their usages are discussed in the following sections.</span></span>  
  
### <a name="servicecertificate-element"></a><span data-ttu-id="aba6d-124">\<élément serviceCertificate ></span><span class="sxs-lookup"><span data-stu-id="aba6d-124">\<serviceCertificate> Element</span></span>  
 <span data-ttu-id="aba6d-125">Cet élément vous permet de spécifier un certificat X.509 qui est utilisé pour authentifier le service auprès des clients à l'aide du mode de sécurité Message.</span><span class="sxs-lookup"><span data-stu-id="aba6d-125">Use this element to specify an X.509 certificate that is used to authenticate the service to clients using Message security mode.</span></span> <span data-ttu-id="aba6d-126">Si vous utilisez un certificat qui est périodiquement renouvelé, son empreinte numérique change.</span><span class="sxs-lookup"><span data-stu-id="aba6d-126">If you are using a certificate that is periodically renewed, then its thumbprint changes.</span></span> <span data-ttu-id="aba6d-127">Dans ce cas, utilisez le nom du sujet comme `X509FindType` car le certificat peut être réémis avec le même nom du sujet.</span><span class="sxs-lookup"><span data-stu-id="aba6d-127">In that case, use the subject name as the `X509FindType` because the certificate can be reissued with the same subject name.</span></span>  
  
 <span data-ttu-id="aba6d-128">Pour plus d’informations sur l’utilisation de l’élément, consultez Guide pratique [pour spécifier les valeurs d’informations d’identification du client](../../../../docs/framework/wcf/how-to-specify-client-credential-values.md).</span><span class="sxs-lookup"><span data-stu-id="aba6d-128">For more information about using the element, see [How to: Specify Client Credential Values](../../../../docs/framework/wcf/how-to-specify-client-credential-values.md).</span></span>  
  
### <a name="certificate-of-clientcertificate-element"></a><span data-ttu-id="aba6d-129">\<> de certificat de \<élément de > clientCertificate</span><span class="sxs-lookup"><span data-stu-id="aba6d-129">\<certificate> of \<clientCertificate> Element</span></span>  
 <span data-ttu-id="aba6d-130">Utilisez l’élément [\<certificat >](../../../../docs/framework/configure-apps/file-schema/wcf/certificate-of-clientcertificate-element.md) lorsque le service doit avoir le certificat du client à l’avance pour communiquer en toute sécurité avec le client.</span><span class="sxs-lookup"><span data-stu-id="aba6d-130">Use the [\<certificate>](../../../../docs/framework/configure-apps/file-schema/wcf/certificate-of-clientcertificate-element.md) element when the service must have the client's certificate in advance to communicate securely with the client.</span></span> <span data-ttu-id="aba6d-131">Cela se produit lors de l'utilisation du modèle de communication duplex.</span><span class="sxs-lookup"><span data-stu-id="aba6d-131">This occurs when using the duplex communication pattern.</span></span> <span data-ttu-id="aba6d-132">Dans le modèle demande-réponse plus classique, le client inclut son certificat dans la demande, que le service utilise pour sécuriser de nouveau sa réponse au client.</span><span class="sxs-lookup"><span data-stu-id="aba6d-132">In the more typical request-reply pattern, the client includes its certificate in the request, which the service uses to secure its response back to the client.</span></span> <span data-ttu-id="aba6d-133">Toutefois, le modèle de communication duplex n’a pas de demande et de réponse.</span><span class="sxs-lookup"><span data-stu-id="aba6d-133">The duplex communication pattern, however, has no requests and replies.</span></span> <span data-ttu-id="aba6d-134">Le service ne peut pas déduire le certificat du client de la communication, et par conséquent, il en a besoin à l'avance pour sécuriser les messages au client.</span><span class="sxs-lookup"><span data-stu-id="aba6d-134">The service cannot infer the client's certificate from the communication and therefore the service requires the client's certificate in advance to secure the messages to the client.</span></span> <span data-ttu-id="aba6d-135">Vous devez obtenir le certificat du client hors bande et l'indiquer à l'aide de cet élément.</span><span class="sxs-lookup"><span data-stu-id="aba6d-135">You must obtain the client's certificate in an out-of-band manner and specify the certificate using this element.</span></span> <span data-ttu-id="aba6d-136">Pour plus d’informations sur les services duplex, consultez [Comment : créer un contrat duplex](../../../../docs/framework/wcf/feature-details/how-to-create-a-duplex-contract.md).</span><span class="sxs-lookup"><span data-stu-id="aba6d-136">For more information about duplex services, see [How to: Create a Duplex Contract](../../../../docs/framework/wcf/feature-details/how-to-create-a-duplex-contract.md).</span></span>  
  
### <a name="authentication-of-clientcertificate-element"></a><span data-ttu-id="aba6d-137">\<> d’authentification d’un élément \<clientCertificate ></span><span class="sxs-lookup"><span data-stu-id="aba6d-137">\<authentication> of \<clientCertificate> Element</span></span>  
 <span data-ttu-id="aba6d-138">L’élément [\<> d’authentification](../../../../docs/framework/configure-apps/file-schema/wcf/authentication-of-clientcertificate-element.md) vous permet de personnaliser la façon dont les clients sont authentifiés.</span><span class="sxs-lookup"><span data-stu-id="aba6d-138">The [\<authentication>](../../../../docs/framework/configure-apps/file-schema/wcf/authentication-of-clientcertificate-element.md) element enables you to customize how clients are authenticated.</span></span> <span data-ttu-id="aba6d-139">Vous pouvez affecter `CertificateValidationMode`, `None`, `ChainTrust`, `PeerOrChainTrust` ou `PeerTrust` à l'attribut `Custom`.</span><span class="sxs-lookup"><span data-stu-id="aba6d-139">You can set the `CertificateValidationMode` attribute to `None`, `ChainTrust`, `PeerOrChainTrust`, `PeerTrust`, or `Custom`.</span></span> <span data-ttu-id="aba6d-140">Par défaut, le niveau est défini sur `ChainTrust`, qui spécifie que chaque certificat doit se trouver dans une hiérarchie de certificats se terminant par une *autorité racine* au sommet de la chaîne.</span><span class="sxs-lookup"><span data-stu-id="aba6d-140">By default, the level is set to `ChainTrust`, which specifies that each certificate must be found in a hierarchy of certificates ending in a *root authority* at the top of the chain.</span></span> <span data-ttu-id="aba6d-141">C’est le mode le plus sécurisé.</span><span class="sxs-lookup"><span data-stu-id="aba6d-141">This is the most secure mode.</span></span> <span data-ttu-id="aba6d-142">Vous pouvez également affecter la valeur `PeerOrChainTrust`, laquelle spécifie que les certificats auto-émis (approbation homologue) sont acceptés, de même que les certificats qui se trouvent dans une chaîne approuvée.</span><span class="sxs-lookup"><span data-stu-id="aba6d-142">You can also set the value to `PeerOrChainTrust`, which specifies that self-issued certificates (peer trust) are accepted as well as certificates that are in a trusted chain.</span></span> <span data-ttu-id="aba6d-143">Cette valeur est utilisée lors du développement et du débogage des clients et des services car il n'est pas nécessaire d'acheter les certificats auto-émis auprès d'une autorité approuvée.</span><span class="sxs-lookup"><span data-stu-id="aba6d-143">This value is used when developing and debugging clients and services because self-issued certificates need not be purchased from a trusted authority.</span></span> <span data-ttu-id="aba6d-144">Lorsque vous déployez un client, utilisez à la place la valeur `ChainTrust`.</span><span class="sxs-lookup"><span data-stu-id="aba6d-144">When deploying a client, use the `ChainTrust` value instead.</span></span> <span data-ttu-id="aba6d-145">Vous pouvez également utiliser `Custom`.</span><span class="sxs-lookup"><span data-stu-id="aba6d-145">You can also set the value to `Custom`.</span></span> <span data-ttu-id="aba6d-146">Lorsque vous utilisez `Custom`, vous devez également affecter l'assembly et le type utilisés pour valider le certificat à l'attribut `CustomCertificateValidatorType`.</span><span class="sxs-lookup"><span data-stu-id="aba6d-146">When set to the `Custom` value, you must also set the `CustomCertificateValidatorType` attribute to an assembly and type used to validate the certificate.</span></span> <span data-ttu-id="aba6d-147">Pour créer votre propre validateur personnalisé, vous devez hériter de la classe <xref:System.IdentityModel.Selectors.X509CertificateValidator> abstraite.</span><span class="sxs-lookup"><span data-stu-id="aba6d-147">To create your own custom validator, you must inherit from the abstract <xref:System.IdentityModel.Selectors.X509CertificateValidator> class.</span></span>  
  
### <a name="issuedtokenauthentication-element"></a><span data-ttu-id="aba6d-148">\<élément issuedTokenAuthentication ></span><span class="sxs-lookup"><span data-stu-id="aba6d-148">\<issuedTokenAuthentication> Element</span></span>  
 <span data-ttu-id="aba6d-149">Le scénario de jeton émis comporte trois étapes.</span><span class="sxs-lookup"><span data-stu-id="aba6d-149">The issued token scenario has three stages.</span></span> <span data-ttu-id="aba6d-150">Lors de la première phase, un client qui tente d’accéder à un service est appelé service d’émission de *jeton de sécurité* (STS).</span><span class="sxs-lookup"><span data-stu-id="aba6d-150">In the first stage, a client trying to access a service is referred to a *secure token service* (STS).</span></span> <span data-ttu-id="aba6d-151">Le STS authentifie le client et émet ensuite un jeton pour ce dernier, généralement un jeton SAML (Security Assertions Markup Language).</span><span class="sxs-lookup"><span data-stu-id="aba6d-151">The STS then authenticates the client and subsequently issues the client a token, typically a Security Assertions Markup Language (SAML) token.</span></span> <span data-ttu-id="aba6d-152">Le client retourne ensuite au service avec le jeton.</span><span class="sxs-lookup"><span data-stu-id="aba6d-152">The client then returns to the service with the token.</span></span> <span data-ttu-id="aba6d-153">Le service recherche dans le jeton les données lui permettant de l'authentifier, et par conséquent d'authentifier le client.</span><span class="sxs-lookup"><span data-stu-id="aba6d-153">The service examines the token for data that allows the service to authenticate the token and therefore the client.</span></span> <span data-ttu-id="aba6d-154">Pour authentifier le jeton, le service doit connaître le certificat utilisé par le service d'émission de jeton sécurisé.</span><span class="sxs-lookup"><span data-stu-id="aba6d-154">To authenticate the token, the certificate that the secure token service uses must be known to the service.</span></span> <span data-ttu-id="aba6d-155">L’élément [\<issuedTokenAuthentication >](../../../../docs/framework/configure-apps/file-schema/wcf/issuedtokenauthentication-of-servicecredentials.md) est le référentiel de tels certificats de service de jeton sécurisé.</span><span class="sxs-lookup"><span data-stu-id="aba6d-155">The [\<issuedTokenAuthentication>](../../../../docs/framework/configure-apps/file-schema/wcf/issuedtokenauthentication-of-servicecredentials.md) element is the repository for any such secure token service certificates.</span></span> <span data-ttu-id="aba6d-156">Pour ajouter des certificats, utilisez le [>\<knownCertificates](../../../../docs/framework/configure-apps/file-schema/wcf/knowncertificates.md).</span><span class="sxs-lookup"><span data-stu-id="aba6d-156">To add certificates, use the [\<knownCertificates>](../../../../docs/framework/configure-apps/file-schema/wcf/knowncertificates.md).</span></span> <span data-ttu-id="aba6d-157">Insérez un [\<ajoutez >](../../../../docs/framework/configure-apps/file-schema/wcf/add-of-knowncertificates.md) pour chaque certificat, comme indiqué dans l’exemple suivant.</span><span class="sxs-lookup"><span data-stu-id="aba6d-157">Insert an [\<add>](../../../../docs/framework/configure-apps/file-schema/wcf/add-of-knowncertificates.md) for each certificate, as shown in the following example.</span></span>  
  
```xml  
<issuedTokenAuthentication>  
   <knownCertificates>  
      <add findValue="www.contoso.com"   
           storeLocation="LocalMachine" storeName="My"   
           X509FindType="FindBySubjectName" />  
    </knownCertificates>  
</issuedTokenAuthentication>  
```  
  
 <span data-ttu-id="aba6d-158">Par défaut, les certificats doivent être obtenus auprès d'un service d'émission de jeton sécurisé.</span><span class="sxs-lookup"><span data-stu-id="aba6d-158">By default, the certificates must be obtained from a secure token service.</span></span> <span data-ttu-id="aba6d-159">Ces certificats « connus » garantissent que seuls les clients légitimes peuvent accéder à un service.</span><span class="sxs-lookup"><span data-stu-id="aba6d-159">These "known" certificates ensure that only legitimate clients can access a service.</span></span>  
  
 <span data-ttu-id="aba6d-160">Vous devez utiliser la collection [\<allowedAudienceUris >](../../../../docs/framework/configure-apps/file-schema/wcf/allowedaudienceuris.md) dans une application fédérée qui utilise un service d’émission de *jeton sécurisé* (STS) qui émet des jetons de sécurité `SamlSecurityToken`.</span><span class="sxs-lookup"><span data-stu-id="aba6d-160">You should use the [\<allowedAudienceUris>](../../../../docs/framework/configure-apps/file-schema/wcf/allowedaudienceuris.md) collection in a federated application that utilizes a *secure token service* (STS) that issues `SamlSecurityToken` security tokens.</span></span> <span data-ttu-id="aba6d-161">Lorsque le STS émet le jeton de sécurité, il peut spécifier l'URI des services Web pour lesquels le jeton de sécurité est prévu en ajoutant un `SamlAudienceRestrictionCondition` au jeton de sécurité.</span><span class="sxs-lookup"><span data-stu-id="aba6d-161">When the STS issues the security token, it can specify the URI of the Web services for which the security token is intended by adding a `SamlAudienceRestrictionCondition` to the security token.</span></span> <span data-ttu-id="aba6d-162">Cela permet au `SamlSecurityTokenAuthenticator` du service Web destinataire de vérifier que le jeton de sécurité émis est prévu pour ce service Web en spécifiant que ce contrôle doit arriver en effectuant les opérations suivantes :</span><span class="sxs-lookup"><span data-stu-id="aba6d-162">That allows the `SamlSecurityTokenAuthenticator` for the recipient Web service to verify that the issued security token is intended for this Web service by specifying that this check should happen by doing the following:</span></span>  
  
- <span data-ttu-id="aba6d-163">Affectez à l’attribut `audienceUriMode` de [\<> IssuedTokenAuthentication](../../../../docs/framework/configure-apps/file-schema/wcf/issuedtokenauthentication-of-servicecredentials.md) la valeur `Always` ou `BearerKeyOnly`.</span><span class="sxs-lookup"><span data-stu-id="aba6d-163">Set the `audienceUriMode` attribute of [\<issuedTokenAuthentication>](../../../../docs/framework/configure-apps/file-schema/wcf/issuedtokenauthentication-of-servicecredentials.md) to `Always` or `BearerKeyOnly`.</span></span>  
  
- <span data-ttu-id="aba6d-164">Spécifiez le jeu d'URI valides en ajoutant les URI à cette collection.</span><span class="sxs-lookup"><span data-stu-id="aba6d-164">Specify the set of valid URIs, by adding the URIs to this collection.</span></span> <span data-ttu-id="aba6d-165">Pour ce faire, insérez un [\<ajouter >](../../../../docs/framework/configure-apps/file-schema/wcf/add-of-allowedaudienceuris.md) pour chaque URI</span><span class="sxs-lookup"><span data-stu-id="aba6d-165">To do this, insert an [\<add>](../../../../docs/framework/configure-apps/file-schema/wcf/add-of-allowedaudienceuris.md) for each URI</span></span>  
  
 <span data-ttu-id="aba6d-166">Pour plus d'informations, consultez <xref:System.IdentityModel.Selectors.SamlSecurityTokenAuthenticator>.</span><span class="sxs-lookup"><span data-stu-id="aba6d-166">For more information, see <xref:System.IdentityModel.Selectors.SamlSecurityTokenAuthenticator>.</span></span>  
  
 <span data-ttu-id="aba6d-167">Pour plus d’informations sur l’utilisation de cet élément de configuration, consultez [Comment : configurer des informations d’identification sur un service FS (Federation Service)](../../../../docs/framework/wcf/feature-details/how-to-configure-credentials-on-a-federation-service.md).</span><span class="sxs-lookup"><span data-stu-id="aba6d-167">For more information about using this configuration element, see [How to: Configure Credentials on a Federation Service](../../../../docs/framework/wcf/feature-details/how-to-configure-credentials-on-a-federation-service.md).</span></span>  
  
#### <a name="allowing-anonymous-cardspace-users"></a><span data-ttu-id="aba6d-168">Autorisation d'accès aux utilisateurs CardSpace anonymes</span><span class="sxs-lookup"><span data-stu-id="aba6d-168">Allowing Anonymous CardSpace Users</span></span>  
 <span data-ttu-id="aba6d-169">L'affectation de `AllowUntrustedRsaIssuers` à l'attribut `<IssuedTokenAuthentication>` de l'élément `true` permet aux clients de présenter un jeton auto-émis signé avec une paire de clés RSA arbitraire.</span><span class="sxs-lookup"><span data-stu-id="aba6d-169">Setting the `AllowUntrustedRsaIssuers` attribute of the `<IssuedTokenAuthentication>` element to `true` explicitly allows any client to present a self-issued token signed with an arbitrary RSA key pair.</span></span> <span data-ttu-id="aba6d-170">L’émetteur n’est pas *digne de confiance* , car aucune donnée d’émetteur n’est associée à la clé.</span><span class="sxs-lookup"><span data-stu-id="aba6d-170">The issuer is *untrusted* because the key has no issuer data associated with it.</span></span> <span data-ttu-id="aba6d-171">Un utilisateur CardSpace peut créer une carte auto-émise qui comprend des revendications d’identité auto-fournies.</span><span class="sxs-lookup"><span data-stu-id="aba6d-171">A CardSpace user can create a self-issued card that includes self-provided claims of identity.</span></span> <span data-ttu-id="aba6d-172">Utilisez cette fonction avec précaution.</span><span class="sxs-lookup"><span data-stu-id="aba6d-172">Use this capability with caution.</span></span> <span data-ttu-id="aba6d-173">Pour utiliser cette fonctionnalité, considérez la clé publique RSA comme un mot de passe plus sécurisé qui doit être stocké dans une base de données avec un nom d’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="aba6d-173">To use this feature, think of the RSA public key as a more secure password that should be stored in a database along with a user name.</span></span> <span data-ttu-id="aba6d-174">Avant d'autoriser l'accès d'un client au service, vérifiez la clé publique RSA présentée par celui-ci en le comparant avec celle stockée pour le nom d'utilisateur présenté.</span><span class="sxs-lookup"><span data-stu-id="aba6d-174">Before allowing a client access to the service, verify the client-presented RSA public key by comparing it with the stored public key for the presented user name.</span></span> <span data-ttu-id="aba6d-175">Cela suppose que vous ayez établi un processus d'inscription permettant aux utilisateurs d'enregistrer leurs noms d'utilisateur et de les associer avec les clés publiques RSA auto-émises.</span><span class="sxs-lookup"><span data-stu-id="aba6d-175">This presumes that you have established a registration process whereby users can register their user names and associate them with the self-issued RSA public keys.</span></span>  
  
## <a name="client-credentials"></a><span data-ttu-id="aba6d-176">Informations d’identification du client</span><span class="sxs-lookup"><span data-stu-id="aba6d-176">Client Credentials</span></span>  
 <span data-ttu-id="aba6d-177">Les informations d'identification du client permettent d'authentifier le client auprès des services dans les cas où l'authentification mutuelle est requise.</span><span class="sxs-lookup"><span data-stu-id="aba6d-177">Client credentials are used to authenticate the client to services in cases where mutual authentication is required.</span></span> <span data-ttu-id="aba6d-178">Vous pouvez utiliser la section pour spécifier des certificats de service pour les scénarios dans lesquels le client doit sécuriser des messages auprès d'un service à l'aide du certificat de ce dernier.</span><span class="sxs-lookup"><span data-stu-id="aba6d-178">You can use the section to specify service certificates for scenarios where the client must secure messages to a service with the service's certificate.</span></span>  
  
 <span data-ttu-id="aba6d-179">Vous pouvez également configurer un client dans le cadre d'un scénario de fédération afin d'utiliser des jetons émis par un service d'émission de jeton sécurisé ou un émetteur local de jetons.</span><span class="sxs-lookup"><span data-stu-id="aba6d-179">You can also configure a client as part of a federation scenario to use issued tokens from a secure token service or a local issuer of tokens.</span></span> <span data-ttu-id="aba6d-180">Pour plus d’informations sur les scénarios fédérés, consultez [Fédération et jetons émis](../../../../docs/framework/wcf/feature-details/federation-and-issued-tokens.md).</span><span class="sxs-lookup"><span data-stu-id="aba6d-180">For more information about federated scenarios, see [Federation and Issued Tokens](../../../../docs/framework/wcf/feature-details/federation-and-issued-tokens.md).</span></span> <span data-ttu-id="aba6d-181">Toutes les informations d’identification du client se trouvent sous le [>\<endpointBehaviors](../../../../docs/framework/configure-apps/file-schema/wcf/endpointbehaviors.md), comme indiqué dans le code suivant.</span><span class="sxs-lookup"><span data-stu-id="aba6d-181">All client credentials are found under the [\<endpointBehaviors>](../../../../docs/framework/configure-apps/file-schema/wcf/endpointbehaviors.md), as shown in the following code.</span></span>  
  
```xml  
<behaviors>  
 <endpointBehaviors>  
  <behavior name="EndpointBehavior1">  
   <clientCredentials>  
    <clientCertificate findValue="cn=www.contoso.com"     
        storeLocation="LocalMachine"  
        storeName="AuthRoot" x509FindType="FindBySubjectName" />  
    <serviceCertificate>  
     <defaultCertificate findValue="www.cohowinery.com"   
                    storeLocation="LocalMachine"  
                    storeName="Root" x509FindType="FindByIssuerName" />  
    <authentication revocationMode="Online"  
                    trustedStoreLocation="LocalMachine" />  
    </serviceCertificate>  
   </clientCredentials>  
  </behavior>  
 </endpointBehaviors>  
```  
  
#### <a name="clientcertificate-element"></a><span data-ttu-id="aba6d-182">Élément \<clientCertificate ></span><span class="sxs-lookup"><span data-stu-id="aba6d-182">\<clientCertificate> Element</span></span>  
 <span data-ttu-id="aba6d-183">Définissez le certificat utilisé pour authentifier le client avec cet élément.</span><span class="sxs-lookup"><span data-stu-id="aba6d-183">Set the certificate used to authenticate the client with this element.</span></span> <span data-ttu-id="aba6d-184">Pour plus d’informations, consultez [Comment : spécifier les valeurs d’informations d’identification du client](../../../../docs/framework/wcf/how-to-specify-client-credential-values.md).</span><span class="sxs-lookup"><span data-stu-id="aba6d-184">For more information, see [How to: Specify Client Credential Values](../../../../docs/framework/wcf/how-to-specify-client-credential-values.md).</span></span>  
  
#### <a name="httpdigest"></a><span data-ttu-id="aba6d-185">\<httpDigest ></span><span class="sxs-lookup"><span data-stu-id="aba6d-185">\<httpDigest></span></span>  
 <span data-ttu-id="aba6d-186">Cette fonction doit être activée avec Active Directory sur Windows et les services IIS (Internet Information Services).</span><span class="sxs-lookup"><span data-stu-id="aba6d-186">This feature must be enabled with Active Directory on Windows and Internet Information Services (IIS).</span></span> <span data-ttu-id="aba6d-187">Pour plus d’informations, consultez [authentification Digest dans IIS 6,0](https://docs.microsoft.com/previous-versions/windows/it-pro/windows-server-2003/cc782661(v=ws.10)).</span><span class="sxs-lookup"><span data-stu-id="aba6d-187">For more information, see [Digest Authentication in IIS 6.0](https://docs.microsoft.com/previous-versions/windows/it-pro/windows-server-2003/cc782661(v=ws.10)).</span></span>  
  
#### <a name="issuedtoken-element"></a><span data-ttu-id="aba6d-188">\<élément issuedToken ></span><span class="sxs-lookup"><span data-stu-id="aba6d-188">\<issuedToken> Element</span></span>  
 <span data-ttu-id="aba6d-189">Le [\<issuedToken >](../../../../docs/framework/configure-apps/file-schema/wcf/issuedtoken.md) contient les éléments utilisés pour configurer un émetteur local de jetons ou les comportements utilisés avec un service d’émission de jeton de sécurité.</span><span class="sxs-lookup"><span data-stu-id="aba6d-189">The [\<issuedToken>](../../../../docs/framework/configure-apps/file-schema/wcf/issuedtoken.md) contains the elements used to configure a local issuer of tokens, or behaviors used with an security token service.</span></span> <span data-ttu-id="aba6d-190">Pour obtenir des instructions sur la configuration d’un client pour qu’il utilise un émetteur local, consultez [procédure : configurer un émetteur local](../../../../docs/framework/wcf/feature-details/how-to-configure-a-local-issuer.md).</span><span class="sxs-lookup"><span data-stu-id="aba6d-190">For instructions on configuring a client to use a local issuer, see [How to: Configure a Local Issuer](../../../../docs/framework/wcf/feature-details/how-to-configure-a-local-issuer.md).</span></span>  
  
#### <a name="localissueraddress"></a><span data-ttu-id="aba6d-191">\<localIssuerAddress ></span><span class="sxs-lookup"><span data-stu-id="aba6d-191">\<localIssuerAddress></span></span>  
 <span data-ttu-id="aba6d-192">Spécifie une adresse de service d'émission de jeton de sécurité par défaut.</span><span class="sxs-lookup"><span data-stu-id="aba6d-192">Specifies a default security token service address.</span></span> <span data-ttu-id="aba6d-193">Cela est utilisé lorsque le <xref:System.ServiceModel.WSFederationHttpBinding> ne fournit pas d’URL pour le service d’émission de jeton de sécurité ou lorsque l’adresse de l’émetteur d’une liaison fédérée est `http://schemas.microsoft.com/2005/12/ServiceModel/Addressing/Anonymous` ou `null`.</span><span class="sxs-lookup"><span data-stu-id="aba6d-193">This is used when the <xref:System.ServiceModel.WSFederationHttpBinding> does not supply a URL for the security token service, or when the issuer address of a federated binding is `http://schemas.microsoft.com/2005/12/ServiceModel/Addressing/Anonymous` or `null`.</span></span> <span data-ttu-id="aba6d-194">Dans ce cas, vous devez configurer <xref:System.ServiceModel.Description.ClientCredentials> avec l’adresse de l’émetteur local et la liaison à utiliser pour communiquer avec celui-ci.</span><span class="sxs-lookup"><span data-stu-id="aba6d-194">In such cases, the <xref:System.ServiceModel.Description.ClientCredentials> must be configured with the address of the local issuer and the binding to use to communicate with that issuer.</span></span>  
  
#### <a name="issuerchannelbehaviors"></a><span data-ttu-id="aba6d-195">\<issuerChannelBehaviors ></span><span class="sxs-lookup"><span data-stu-id="aba6d-195">\<issuerChannelBehaviors></span></span>  
 <span data-ttu-id="aba6d-196">Utilisez le [>\<issuerChannelBehaviors](../../../../docs/framework/configure-apps/file-schema/wcf/issuerchannelbehaviors-element.md) pour ajouter des comportements de client WCF utilisés lors de la communication avec un service d’analyse de jeton de sécurité.</span><span class="sxs-lookup"><span data-stu-id="aba6d-196">Use the [\<issuerChannelBehaviors>](../../../../docs/framework/configure-apps/file-schema/wcf/issuerchannelbehaviors-element.md) to add WCF client behaviors used when communicating with a security token service.</span></span> <span data-ttu-id="aba6d-197">Définissez les comportements des clients dans la section [\<endpointBehaviors >](../../../../docs/framework/configure-apps/file-schema/wcf/endpointbehaviors.md) .</span><span class="sxs-lookup"><span data-stu-id="aba6d-197">Define client behaviors in the [\<endpointBehaviors>](../../../../docs/framework/configure-apps/file-schema/wcf/endpointbehaviors.md) section.</span></span> <span data-ttu-id="aba6d-198">Pour utiliser un comportement défini, ajoutez un <`add`élément > à l’élément `<issuerChannelBehaviors>` avec deux attributs.</span><span class="sxs-lookup"><span data-stu-id="aba6d-198">To use a defined behavior, add an <`add`> element to the `<issuerChannelBehaviors>` element with two attributes.</span></span> <span data-ttu-id="aba6d-199">Affectez l'URL du service d'émission de jeton de sécurité à `issuerAddress`, et affectez le nom du comportement de point de terminaison défini à l'attribut `behaviorConfiguration`, tel qu'indiqué dans l'exemple suivant.</span><span class="sxs-lookup"><span data-stu-id="aba6d-199">Set the `issuerAddress` to the URL of the security token service and set the `behaviorConfiguration` attribute to the name of the defined endpoint behavior, as shown in the following example.</span></span>  
  
```xml  
<clientCredentials>  
   <issuedToken>  
      <issuerChannelBehaviors>  
         <add issuerAddress="http://www.contoso.com"  
               behaviorConfiguration="clientBehavior1" />     
```  
  
#### <a name="servicecertificate-element"></a><span data-ttu-id="aba6d-200">\<élément serviceCertificate ></span><span class="sxs-lookup"><span data-stu-id="aba6d-200">\<serviceCertificate> Element</span></span>  
 <span data-ttu-id="aba6d-201">Cet élément vous permet de contrôler l'authentification des certificats de service.</span><span class="sxs-lookup"><span data-stu-id="aba6d-201">Use this element to control authentication of service certificates.</span></span>  
  
 <span data-ttu-id="aba6d-202">L’élément [\<defaultCertificate >](../../../../docs/framework/configure-apps/file-schema/wcf/defaultcertificate-element.md) peut stocker un certificat unique utilisé lorsque le service ne spécifie aucun certificat.</span><span class="sxs-lookup"><span data-stu-id="aba6d-202">The [\<defaultCertificate>](../../../../docs/framework/configure-apps/file-schema/wcf/defaultcertificate-element.md) element can store a single certificate used when the service specifies no certificate.</span></span>  
  
 <span data-ttu-id="aba6d-203">Utilisez le [>\<scopedCertificates](../../../../docs/framework/configure-apps/file-schema/wcf/scopedcertificates-element.md) et [\<ajoutez des >](../../../../docs/framework/configure-apps/file-schema/wcf/add-of-scopedcertificates-element.md) pour définir des certificats de service associés à des services spécifiques.</span><span class="sxs-lookup"><span data-stu-id="aba6d-203">Use the [\<scopedCertificates>](../../../../docs/framework/configure-apps/file-schema/wcf/scopedcertificates-element.md) and [\<add>](../../../../docs/framework/configure-apps/file-schema/wcf/add-of-scopedcertificates-element.md) to set service certificates that are associated with specific services.</span></span> <span data-ttu-id="aba6d-204">L'élément `<add>` inclut un attribut `targetUri` permettant d'associer le certificat au service.</span><span class="sxs-lookup"><span data-stu-id="aba6d-204">The `<add>` element includes a `targetUri` attribute that is used to associate the certificate with the service.</span></span>  
  
 <span data-ttu-id="aba6d-205">L’élément [\<> d’authentification](../../../../docs/framework/configure-apps/file-schema/wcf/authentication-of-servicecertificate-element.md) spécifie le niveau de confiance utilisé pour authentifier les certificats.</span><span class="sxs-lookup"><span data-stu-id="aba6d-205">The [\<authentication>](../../../../docs/framework/configure-apps/file-schema/wcf/authentication-of-servicecertificate-element.md) element specifies the level of trust used to authenticate certificates.</span></span> <span data-ttu-id="aba6d-206">Par défaut, le niveau a la valeur « ChainTrust », laquelle spécifie que chaque certificat doit se trouver dans une hiérarchie de certificats se terminant dans une autorité de certification approuvée au sommet de la chaîne.</span><span class="sxs-lookup"><span data-stu-id="aba6d-206">By default, the level is set to "ChainTrust," which specifies that each certificate must be found in a hierarchy of certificates ending in a trusted certification authority at the top of the chain.</span></span> <span data-ttu-id="aba6d-207">C’est le mode le plus sécurisé.</span><span class="sxs-lookup"><span data-stu-id="aba6d-207">This is the most secure mode.</span></span> <span data-ttu-id="aba6d-208">Vous pouvez également affecter la valeur « PeerOrChainTrust », laquelle spécifie que les certificats auto-émis (approbation homologue) sont acceptés, de même que les certificats qui se trouvent dans une chaîne approuvée.</span><span class="sxs-lookup"><span data-stu-id="aba6d-208">You can also set the value to "PeerOrChainTrust", which specifies that self-issued certificates (peer trust) are accepted, as well as certificates that are in a trusted chain.</span></span> <span data-ttu-id="aba6d-209">Cette valeur est utilisée lors du développement et du débogage des clients et des services car il n'est pas nécessaire d'acheter les certificats auto-émis auprès d'une autorité approuvée.</span><span class="sxs-lookup"><span data-stu-id="aba6d-209">This value is used when developing and debugging clients and services because self-issued certificates need not be purchased from a trusted authority.</span></span> <span data-ttu-id="aba6d-210">Lorsque vous déployez un client, utilisez à la place la valeur "ChainTrust".</span><span class="sxs-lookup"><span data-stu-id="aba6d-210">When deploying a client, use the "ChainTrust" value instead.</span></span> <span data-ttu-id="aba6d-211">Vous pouvez également affecter "Custom" ou "None".</span><span class="sxs-lookup"><span data-stu-id="aba6d-211">You can also set the value to "Custom" or "None."</span></span> <span data-ttu-id="aba6d-212">Pour utiliser la valeur "Custom", vous devez également définir l'attribut `CustomCertificateValidatorType` à un assembly et à un type utilisés pour valider le certificat.</span><span class="sxs-lookup"><span data-stu-id="aba6d-212">To use the "Custom" value, you must also set the `CustomCertificateValidatorType` attribute to an assembly and type used to validate the certificate.</span></span> <span data-ttu-id="aba6d-213">Pour créer votre propre validateur personnalisé, vous devez hériter de la classe <xref:System.IdentityModel.Selectors.X509CertificateValidator> abstraite.</span><span class="sxs-lookup"><span data-stu-id="aba6d-213">To create your own custom validator, you must inherit from the abstract <xref:System.IdentityModel.Selectors.X509CertificateValidator> class.</span></span> <span data-ttu-id="aba6d-214">Pour plus d’informations, consultez [Comment : créer un service qui utilise un validateur de certificat personnalisé](../../../../docs/framework/wcf/extending/how-to-create-a-service-that-employs-a-custom-certificate-validator.md).</span><span class="sxs-lookup"><span data-stu-id="aba6d-214">For more information, see [How to: Create a Service that Employs a Custom Certificate Validator](../../../../docs/framework/wcf/extending/how-to-create-a-service-that-employs-a-custom-certificate-validator.md).</span></span>  
  
 <span data-ttu-id="aba6d-215">L’élément [\<> d’authentification](../../../../docs/framework/configure-apps/file-schema/wcf/authentication-of-servicecertificate-element.md) comprend un attribut `RevocationMode` qui spécifie la manière dont les certificats sont vérifiés pour la révocation.</span><span class="sxs-lookup"><span data-stu-id="aba6d-215">The [\<authentication>](../../../../docs/framework/configure-apps/file-schema/wcf/authentication-of-servicecertificate-element.md) element includes a `RevocationMode` attribute that specifies how certificates are checked for revocation.</span></span> <span data-ttu-id="aba6d-216">La valeur par défaut est « online », laquelle indique que les certificats sont automatiquement vérifiés pour révocation.</span><span class="sxs-lookup"><span data-stu-id="aba6d-216">The default is "online", which indicates that certificates are automatically checked for revocation.</span></span> <span data-ttu-id="aba6d-217">Pour plus d’informations, consultez [utilisation des certificats](../../../../docs/framework/wcf/feature-details/working-with-certificates.md).</span><span class="sxs-lookup"><span data-stu-id="aba6d-217">For more information, see [Working with Certificates](../../../../docs/framework/wcf/feature-details/working-with-certificates.md).</span></span>  
  
## <a name="serviceauthorization"></a><span data-ttu-id="aba6d-218">ServiceAuthorization</span><span class="sxs-lookup"><span data-stu-id="aba6d-218">ServiceAuthorization</span></span>  
 <span data-ttu-id="aba6d-219">L’élément [\<serviceAuthorization >](../../../../docs/framework/configure-apps/file-schema/wcf/serviceauthorization-element.md) contient des éléments qui affectent l’autorisation, les fournisseurs de rôles personnalisés et l’emprunt d’identité.</span><span class="sxs-lookup"><span data-stu-id="aba6d-219">The [\<serviceAuthorization>](../../../../docs/framework/configure-apps/file-schema/wcf/serviceauthorization-element.md) element contains elements that affect authorization, custom role providers, and impersonation.</span></span>  
  
 <span data-ttu-id="aba6d-220">La classe <xref:System.Security.Permissions.PrincipalPermissionAttribute> est appliquée à une méthode de service.</span><span class="sxs-lookup"><span data-stu-id="aba6d-220">The <xref:System.Security.Permissions.PrincipalPermissionAttribute> class is applied to a service method.</span></span> <span data-ttu-id="aba6d-221">L'attribut spécifie les groupes d'utilisateurs à utiliser lors de l'autorisation d'utilisation d'une méthode protégée.</span><span class="sxs-lookup"><span data-stu-id="aba6d-221">The attribute specifies the groups of users to use when authorizing use of a protected method.</span></span> <span data-ttu-id="aba6d-222">La valeur par défaut est "UseWindowsGroups", laquelle spécifie qu'une identité essayant d'accéder à une ressource est recherchée dans les groupes Windows, tels que "Administrators" ou "Users".</span><span class="sxs-lookup"><span data-stu-id="aba6d-222">The default value is "UseWindowsGroups" and specifies that Windows groups, such as "Administrators" or "Users," are searched for an identity trying to access a resource.</span></span> <span data-ttu-id="aba6d-223">Vous pouvez également spécifier « UseAspNetRoles » pour utiliser un fournisseur de rôles personnalisé configuré sous l’élément <`system.web` >, comme indiqué dans le code suivant.</span><span class="sxs-lookup"><span data-stu-id="aba6d-223">You can also specify "UseAspNetRoles" to use a custom role provider that is configured under the <`system.web` > element, as shown in the following code.</span></span>  
  
```xml  
<system.web>  
  <membership defaultProvider="SqlProvider"   
   userIsOnlineTimeWindow="15">  
     <providers>  
       <clear />  
       <add   
          name="SqlProvider"   
          type="System.Web.Security.SqlMembershipProvider"   
          connectionStringName="SqlConn"  
          applicationName="MembershipProvider"  
          enablePasswordRetrieval="false"  
          enablePasswordReset="false"  
          requiresQuestionAndAnswer="false"  
          requiresUniqueEmail="true"  
          passwordFormat="Hashed" />  
     </providers>  
   </membership>  
  <!-- Other configuration code not shown.-->  
</system.web>  
```  
  
 <span data-ttu-id="aba6d-224">Le code suivant présente le `roleProviderName` utilisé avec l'attribut `principalPermissionMode`.</span><span class="sxs-lookup"><span data-stu-id="aba6d-224">The following code shows the `roleProviderName` used with the `principalPermissionMode` attribute.</span></span>  
  
```xml  
<behaviors>  
 <behavior name="ServiceBehaviour">          
  <serviceAuthorization principalPermissionMode ="UseAspNetRoles"   
                        roleProviderName ="SqlProvider" />  
</behavior>   
   <!-- Other configuration code not shown. -->  
</behaviors>  
```  
  
## <a name="configuring-security-audits"></a><span data-ttu-id="aba6d-225">Configuration des audits de sécurité</span><span class="sxs-lookup"><span data-stu-id="aba6d-225">Configuring Security Audits</span></span>  
 <span data-ttu-id="aba6d-226">Utilisez le [>\<serviceSecurityAudit](../../../../docs/framework/configure-apps/file-schema/wcf/servicesecurityaudit.md) pour spécifier le journal écrit et les types d’événements à enregistrer.</span><span class="sxs-lookup"><span data-stu-id="aba6d-226">Use the [\<serviceSecurityAudit>](../../../../docs/framework/configure-apps/file-schema/wcf/servicesecurityaudit.md) to specify the log written to, and what types of events to log.</span></span> <span data-ttu-id="aba6d-227">Pour plus d’informations, consultez [audit](../../../../docs/framework/wcf/feature-details/auditing-security-events.md).</span><span class="sxs-lookup"><span data-stu-id="aba6d-227">For more information, see [Auditing](../../../../docs/framework/wcf/feature-details/auditing-security-events.md).</span></span>  
  
```xml  
<system.serviceModel>  
<serviceBehaviors>  
  <behavior name="NewBehavior">  
    <serviceSecurityAudit auditLogLocation="Application"   
             suppressAuditFailure="true"  
             serviceAuthorizationAuditLevel="Success"   
             messageAuthenticationAuditLevel="Success" />  
    </behavior>  
  </serviceBehaviors>  
</behaviors>  
```  
  
## <a name="secure-metadata-exchange"></a><span data-ttu-id="aba6d-228">Échange de métadonnées sécurisé</span><span class="sxs-lookup"><span data-stu-id="aba6d-228">Secure Metadata Exchange</span></span>  
 <span data-ttu-id="aba6d-229">L'exportation des métadonnées vers des clients s'avère pratique pour les développeurs de service et de client car elle permet des téléchargements de la configuration et du code client.</span><span class="sxs-lookup"><span data-stu-id="aba6d-229">Exporting metadata to clients is convenient for service and client developers, as it enables downloads of configuration and client code.</span></span> <span data-ttu-id="aba6d-230">Pour éviter l'exposition d'un service aux utilisateurs malveillants, il est possible de sécuriser le transfert à l'aide du mécanisme HTTPS (SSL over HTTP).</span><span class="sxs-lookup"><span data-stu-id="aba6d-230">To reduce the exposure of a service to malicious users, it is possible to secure the transfer using the SSL over HTTP (HTTPS) mechanism.</span></span> <span data-ttu-id="aba6d-231">Pour ce faire, vous devez d'abord lier un certificat X.509 approprié à un port spécifique sur l'ordinateur qui héberge le service.</span><span class="sxs-lookup"><span data-stu-id="aba6d-231">To do so, you must first bind a suitable X.509 certificate to a specific port on the computer that is hosting the service.</span></span> <span data-ttu-id="aba6d-232">(Pour plus d’informations, consultez [utilisation des certificats](../../../../docs/framework/wcf/feature-details/working-with-certificates.md).) Ensuite, ajoutez un [>\<serviceMetadata](../../../../docs/framework/configure-apps/file-schema/wcf/servicemetadata.md) à la configuration du service et définissez l’attribut `HttpsGetEnabled` sur `true`.</span><span class="sxs-lookup"><span data-stu-id="aba6d-232">(For more information, see [Working with Certificates](../../../../docs/framework/wcf/feature-details/working-with-certificates.md).) Second, add a [\<serviceMetadata>](../../../../docs/framework/configure-apps/file-schema/wcf/servicemetadata.md) to the service configuration and set the `HttpsGetEnabled` attribute to `true`.</span></span> <span data-ttu-id="aba6d-233">Enfin, affectez l'URL du point de terminaison des métadonnées du service à l'attribut `HttpsGetUrl`, comme indiqué dans l'exemple suivant.</span><span class="sxs-lookup"><span data-stu-id="aba6d-233">Finally, set the `HttpsGetUrl` attribute to the URL of the service metadata endpoint, as shown in the following example.</span></span>  
  
```xml  
<behaviors>  
 <serviceBehaviors>  
  <behavior name="NewBehavior">  
    <serviceMetadata httpsGetEnabled="true"   
     httpsGetUrl="https://myComputerName/myEndpoint" />  
  </behavior>  
 </serviceBehaviors>  
</behaviors>  
```  
  
## <a name="see-also"></a><span data-ttu-id="aba6d-234">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="aba6d-234">See also</span></span>

- [<span data-ttu-id="aba6d-235">Audit</span><span class="sxs-lookup"><span data-stu-id="aba6d-235">Auditing</span></span>](../../../../docs/framework/wcf/feature-details/auditing-security-events.md)
- <span data-ttu-id="aba6d-236">[Modèle de sécurité pour Windows Server App Fabric](https://docs.microsoft.com/previous-versions/appfabric/ee677202(v=azure.10))</span><span class="sxs-lookup"><span data-stu-id="aba6d-236">[Security Model for Windows Server App Fabric](https://docs.microsoft.com/previous-versions/appfabric/ee677202(v=azure.10))</span></span>
