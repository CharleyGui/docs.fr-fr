---
title: Génération d'un client WCF à partir de métadonnées de service
description: Découvrez les différents commutateurs dans Svcutil.exe utilisé pour générer des clients WFC à partir de documents de métadonnées de service basés sur WSDL ou sur un fichier de stratégie du service.
ms.date: 03/30/2017
ms.assetid: 27f8f545-cc44-412a-b104-617e0781b803
ms.openlocfilehash: e4363ac94a79dedf6d8a80adcaf738df179252b8
ms.sourcegitcommit: bc293b14af795e0e999e3304dd40c0222cf2ffe4
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 11/26/2020
ms.locfileid: "96290073"
---
# <a name="generating-a-wcf-client-from-service-metadata"></a><span data-ttu-id="1c432-103">Génération d'un client WCF à partir de métadonnées de service</span><span class="sxs-lookup"><span data-stu-id="1c432-103">Generating a WCF Client from Service Metadata</span></span>

<span data-ttu-id="1c432-104">Cette rubrique décrit comment utiliser plusieurs commutateurs dans Svcutil.exe pour générer des clients à partir de documents de métadonnées.</span><span class="sxs-lookup"><span data-stu-id="1c432-104">This topic describes how to use the various switches in Svcutil.exe to generate clients from metadata documents.</span></span>  
  
 <span data-ttu-id="1c432-105">Les documents de métadonnées peuvent se trouver sur un stockage durable ou être récupérés en ligne.</span><span class="sxs-lookup"><span data-stu-id="1c432-105">Metadata documents can be on a durable storage or be retrieved online.</span></span> <span data-ttu-id="1c432-106">La récupération en ligne suit le protocole WS-MetadataExchange ou le protocole Microsoft Discovery (DISCO).</span><span class="sxs-lookup"><span data-stu-id="1c432-106">Online retrieval follows either the WS-MetadataExchange protocol or the Microsoft Discovery (DISCO) protocol.</span></span> <span data-ttu-id="1c432-107">Svcutil.exe publie les demandes de métadonnées suivantes simultanément pour récupérer des métadonnées :</span><span class="sxs-lookup"><span data-stu-id="1c432-107">Svcutil.exe issues the following metadata requests simultaneously to retrieve metadata:</span></span>  
  
- <span data-ttu-id="1c432-108">Demande WS-MetadataExchange (MEX) à l'adresse fournie.</span><span class="sxs-lookup"><span data-stu-id="1c432-108">WS-MetadataExchange (MEX) request to the supplied address.</span></span>  
  
- <span data-ttu-id="1c432-109">Demande MEX à l'adresse fournie avec `/mex` ajouté.</span><span class="sxs-lookup"><span data-stu-id="1c432-109">MEX request to the supplied address with `/mex` appended.</span></span>  
  
- <span data-ttu-id="1c432-110">Demande DISCO (à l’aide <xref:System.Web.Services.Discovery.DiscoveryClientProtocol> des services Web ASP.net) à l’adresse fournie.</span><span class="sxs-lookup"><span data-stu-id="1c432-110">DISCO request (using the <xref:System.Web.Services.Discovery.DiscoveryClientProtocol> from ASP.NET Web services) to the supplied address.</span></span>  
  
 <span data-ttu-id="1c432-111">Svcutil.exe génère le client basé sur WSDL (Web Services Description Language) ou le fichier de stratégie reçu du service.</span><span class="sxs-lookup"><span data-stu-id="1c432-111">Svcutil.exe generates the client based on the Web Services Description Language (WSDL) or policy file received from the service.</span></span> <span data-ttu-id="1c432-112">Le nom d’utilisateur principal (UPN) est généré en concaténant le nom d’utilisateur avec « \@ », puis en ajoutant un nom de domaine complet (FQDN).</span><span class="sxs-lookup"><span data-stu-id="1c432-112">The user principal name (UPN) is generated by concatenating the user name with "\@" and then adding a fully-qualified domain name (FQDN).</span></span> <span data-ttu-id="1c432-113">Toutefois, pour les utilisateurs qui se sont inscrits sur Active Directory, ce format n’est pas valide et l’UPN généré par l’outil provoque un échec dans l’authentification Kerberos avec le message d’erreur suivant : **la tentative d’ouverture de session a échoué.**</span><span class="sxs-lookup"><span data-stu-id="1c432-113">However, for users who registered on Active Directory, this format is not valid and the UPN that the tool generates causes a failure in the Kerberos authentication with the following error message: **The logon attempt failed.**</span></span> <span data-ttu-id="1c432-114">Pour résoudre ce problème, résolvez manuellement le fichier client que l'outil a généré.</span><span class="sxs-lookup"><span data-stu-id="1c432-114">To resolve this problem, manually fix the client file that the tool generated.</span></span>  
  
```console
svcutil.exe [/t:code]  <metadataDocumentPath>* | <url>* | <epr>  
```  
  
## <a name="referencing-and-sharing-types"></a><span data-ttu-id="1c432-115">Référencement et partage des types</span><span class="sxs-lookup"><span data-stu-id="1c432-115">Referencing and Sharing Types</span></span>  
  
|<span data-ttu-id="1c432-116">Option</span><span class="sxs-lookup"><span data-stu-id="1c432-116">Option</span></span>|<span data-ttu-id="1c432-117">Description</span><span class="sxs-lookup"><span data-stu-id="1c432-117">Description</span></span>|  
|------------|-----------------|  
|<span data-ttu-id="1c432-118">**/Reference\<file path>**</span><span class="sxs-lookup"><span data-stu-id="1c432-118">**/reference:\<file path>**</span></span>|<span data-ttu-id="1c432-119">Référence les types contenus dans l'assembly spécifié.</span><span class="sxs-lookup"><span data-stu-id="1c432-119">References types in the specified assembly.</span></span> <span data-ttu-id="1c432-120">Lorsque vous générez des clients, utilisez cette option pour spécifier des assemblys qui peuvent contenir des types représentant les métadonnées importées.</span><span class="sxs-lookup"><span data-stu-id="1c432-120">When generating clients, use this option to specify assemblies that might contain types that represent the metadata being imported.</span></span><br /><br /> <span data-ttu-id="1c432-121">Forme abrégée : `/r`</span><span class="sxs-lookup"><span data-stu-id="1c432-121">Short form: `/r`</span></span>|  
|<span data-ttu-id="1c432-122">**/excludeType:\<type>**</span><span class="sxs-lookup"><span data-stu-id="1c432-122">**/excludeType:\<type>**</span></span>|<span data-ttu-id="1c432-123">Spécifie un nom de type qualifié complet ou qualifié d'assembly à exclure des types de contrat référencés.</span><span class="sxs-lookup"><span data-stu-id="1c432-123">Specifies a fully-qualified or assembly-qualified type name to be excluded from referenced contract types.</span></span><br /><br /> <span data-ttu-id="1c432-124">Forme abrégée : `/et`</span><span class="sxs-lookup"><span data-stu-id="1c432-124">Short form: `/et`</span></span>|  
  
## <a name="choosing-a-serializer"></a><span data-ttu-id="1c432-125">Choix d'un sérialiseur</span><span class="sxs-lookup"><span data-stu-id="1c432-125">Choosing a Serializer</span></span>  
  
|<span data-ttu-id="1c432-126">Option</span><span class="sxs-lookup"><span data-stu-id="1c432-126">Option</span></span>|<span data-ttu-id="1c432-127">Description</span><span class="sxs-lookup"><span data-stu-id="1c432-127">Description</span></span>|  
|------------|-----------------|  
|<span data-ttu-id="1c432-128">**/serializer:Auto**</span><span class="sxs-lookup"><span data-stu-id="1c432-128">**/serializer:Auto**</span></span>|<span data-ttu-id="1c432-129">Sélectionne automatiquement le sérialiseur.</span><span class="sxs-lookup"><span data-stu-id="1c432-129">Automatically selects the serializer.</span></span> <span data-ttu-id="1c432-130">Cette opération utilise le sérialiseur `DataContract`.</span><span class="sxs-lookup"><span data-stu-id="1c432-130">This uses the `DataContract` serializer.</span></span> <span data-ttu-id="1c432-131">Si cela échoue, le `XmlSerializer` est utilisé.</span><span class="sxs-lookup"><span data-stu-id="1c432-131">If this fails, the `XmlSerializer` is used.</span></span><br /><br /> <span data-ttu-id="1c432-132">Forme abrégée : `/ser:Auto`</span><span class="sxs-lookup"><span data-stu-id="1c432-132">Short Form: `/ser:Auto`</span></span>|  
|<span data-ttu-id="1c432-133">**/serializer:DataContractSerializer**</span><span class="sxs-lookup"><span data-stu-id="1c432-133">**/serializer:DataContractSerializer**</span></span>|<span data-ttu-id="1c432-134">Génère des types de données qui utilisent le sérialiseur `DataContract` pour la sérialisation et la désérialisation.</span><span class="sxs-lookup"><span data-stu-id="1c432-134">Generates data types that use the `DataContract` serializer for serialization and deserialization.</span></span><br /><br /> <span data-ttu-id="1c432-135">Forme abrégée : `/ser:DataContractSerializer`</span><span class="sxs-lookup"><span data-stu-id="1c432-135">Short form: `/ser:DataContractSerializer`</span></span>|  
|<span data-ttu-id="1c432-136">**/serializer:XmlSerializer**</span><span class="sxs-lookup"><span data-stu-id="1c432-136">**/serializer:XmlSerializer**</span></span>|<span data-ttu-id="1c432-137">Génère des types de données qui utilisent le `XmlSerializer` pour la sérialisation et la désérialisation.</span><span class="sxs-lookup"><span data-stu-id="1c432-137">Generates data types that use the `XmlSerializer` for serialization and deserialization.</span></span><br /><br /> <span data-ttu-id="1c432-138">Forme abrégée : `/ser:XmlSerializer`</span><span class="sxs-lookup"><span data-stu-id="1c432-138">Short form: `/ser:XmlSerializer`</span></span>|  
|<span data-ttu-id="1c432-139">**/importXmlTypes**</span><span class="sxs-lookup"><span data-stu-id="1c432-139">**/importXmlTypes**</span></span>|<span data-ttu-id="1c432-140">Configure le sérialiseur `DataContract` pour importer les types non `DataContract` comme types `IXmlSerializable`.</span><span class="sxs-lookup"><span data-stu-id="1c432-140">Configures the `DataContract` serializer to import non-`DataContract` types as `IXmlSerializable` types.</span></span><br /><br /> <span data-ttu-id="1c432-141">Forme abrégée : `/ixt`</span><span class="sxs-lookup"><span data-stu-id="1c432-141">Short form: `/ixt`</span></span>|  
|<span data-ttu-id="1c432-142">**/dataContractOnly**</span><span class="sxs-lookup"><span data-stu-id="1c432-142">**/dataContractOnly**</span></span>|<span data-ttu-id="1c432-143">Génère du code pour les types `DataContract` uniquement.</span><span class="sxs-lookup"><span data-stu-id="1c432-143">Generates code for `DataContract` types only.</span></span> <span data-ttu-id="1c432-144">Les types `ServiceContract` sont générés.</span><span class="sxs-lookup"><span data-stu-id="1c432-144">`ServiceContract` types are generated.</span></span><br /><br /> <span data-ttu-id="1c432-145">Pour cette option, vous devez spécifier uniquement des fichiers de métadonnées locaux.</span><span class="sxs-lookup"><span data-stu-id="1c432-145">You should specify only local metadata files for this option.</span></span><br /><br /> <span data-ttu-id="1c432-146">Forme abrégée : `/dconly`</span><span class="sxs-lookup"><span data-stu-id="1c432-146">Short form: `/dconly`</span></span>|  
  
## <a name="choosing-a-language-for-the-client"></a><span data-ttu-id="1c432-147">Choix d'un langage pour le client</span><span class="sxs-lookup"><span data-stu-id="1c432-147">Choosing a Language for the Client</span></span>  
  
|<span data-ttu-id="1c432-148">Option</span><span class="sxs-lookup"><span data-stu-id="1c432-148">Option</span></span>|<span data-ttu-id="1c432-149">Description</span><span class="sxs-lookup"><span data-stu-id="1c432-149">Description</span></span>|  
|------------|-----------------|  
|<span data-ttu-id="1c432-150">**/Language\<language>**</span><span class="sxs-lookup"><span data-stu-id="1c432-150">**/language:\<language>**</span></span>|<span data-ttu-id="1c432-151">Spécifie le langage de programmation à utiliser pour la génération de code.</span><span class="sxs-lookup"><span data-stu-id="1c432-151">Specifies the programming language to use for code generation.</span></span> <span data-ttu-id="1c432-152">Spécifiez un nom de langage enregistré dans le fichier Machine.config, ou le nom qualifié complet d'une classe qui hérite de <xref:System.CodeDom.Compiler.CodeDomProvider>.</span><span class="sxs-lookup"><span data-stu-id="1c432-152">Provide either a language name registered in the Machine.config file or the fully-qualified name of a class that inherits from <xref:System.CodeDom.Compiler.CodeDomProvider>.</span></span><br /><br /> <span data-ttu-id="1c432-153">Valeurs : c#, cs, csharp, vb, vbs, visualbasic, vbscript, javascript, c++, mc, cpp</span><span class="sxs-lookup"><span data-stu-id="1c432-153">Values: c#, cs, csharp, vb, vbs, visualbasic, vbscript, javascript, c++, mc, cpp</span></span><br /><br /> <span data-ttu-id="1c432-154">Valeur par défaut : csharp</span><span class="sxs-lookup"><span data-stu-id="1c432-154">Default: csharp</span></span><br /><br /> <span data-ttu-id="1c432-155">Forme abrégée : `/l`</span><span class="sxs-lookup"><span data-stu-id="1c432-155">Short form: `/l`</span></span><br /><br /> <span data-ttu-id="1c432-156">Pour plus d'informations, consultez la classe <xref:System.CodeDom.Compiler.CodeDomProvider>.</span><span class="sxs-lookup"><span data-stu-id="1c432-156">For more information, see <xref:System.CodeDom.Compiler.CodeDomProvider> class.</span></span>|  
  
## <a name="choosing-a-namespace-for-the-client"></a><span data-ttu-id="1c432-157">Choix d'un espace de noms pour le client</span><span class="sxs-lookup"><span data-stu-id="1c432-157">Choosing a Namespace for the Client</span></span>  
  
|<span data-ttu-id="1c432-158">Option</span><span class="sxs-lookup"><span data-stu-id="1c432-158">Option</span></span>|<span data-ttu-id="1c432-159">Description</span><span class="sxs-lookup"><span data-stu-id="1c432-159">Description</span></span>|  
|------------|-----------------|  
|<span data-ttu-id="1c432-160">**/namespace\<string,string>**</span><span class="sxs-lookup"><span data-stu-id="1c432-160">**/namespace:\<string,string>**</span></span>|<span data-ttu-id="1c432-161">Spécifie un mappage d'un schéma WSDL ou XML `targetNamespace` à un espace de noms du Common Language Runtime (CLR).</span><span class="sxs-lookup"><span data-stu-id="1c432-161">Specifies a mapping from a WSDL or XML Schema `targetNamespace` to a common language runtime (CLR) namespace.</span></span> <span data-ttu-id="1c432-162">L'utilisation d'un caractère générique (\*) pour le `targetNamespace` mappe tous les `targetNamespaces` sans mappage explicite à cet espace de noms CLR.</span><span class="sxs-lookup"><span data-stu-id="1c432-162">Using a wildcard (\*) for the `targetNamespace` maps all `targetNamespaces` without an explicit mapping to that CLR namespace.</span></span><br /><br /> <span data-ttu-id="1c432-163">Pour vérifier que le nom de contrat du message n'entre pas en collision avec le nom d'opération, qualifiez la référence de type avec des signes deux-points doubles `::`, ou vérifiez que les noms sont uniques.</span><span class="sxs-lookup"><span data-stu-id="1c432-163">To make sure that the message contract name does not collide with the operation name, either qualify the type reference with double colons (`::`) or make sure the names are unique.</span></span><br /><br /> <span data-ttu-id="1c432-164">Valeur par défaut : dérivée de l'espace de noms cible du document de schéma pour `DataContracts`.</span><span class="sxs-lookup"><span data-stu-id="1c432-164">Default: Derived from the target namespace of the schema document for `DataContracts`.</span></span> <span data-ttu-id="1c432-165">L'espace de noms par défaut est utilisé pour tous les autres types générés.</span><span class="sxs-lookup"><span data-stu-id="1c432-165">The default namespace is used for all other generated types.</span></span><br /><br /> <span data-ttu-id="1c432-166">Forme abrégée : `/n`</span><span class="sxs-lookup"><span data-stu-id="1c432-166">Short form: `/n`</span></span>|  
  
## <a name="choosing-a-data-binding"></a><span data-ttu-id="1c432-167">Choix d’une liaison de données</span><span class="sxs-lookup"><span data-stu-id="1c432-167">Choosing a Data Binding</span></span>  
  
|<span data-ttu-id="1c432-168">Option</span><span class="sxs-lookup"><span data-stu-id="1c432-168">Option</span></span>|<span data-ttu-id="1c432-169">Description</span><span class="sxs-lookup"><span data-stu-id="1c432-169">Description</span></span>|  
|------------|-----------------|  
|<span data-ttu-id="1c432-170">**/enableDataBinding**</span><span class="sxs-lookup"><span data-stu-id="1c432-170">**/enableDataBinding**</span></span>|<span data-ttu-id="1c432-171">Implémente l’interface <xref:System.ComponentModel.INotifyPropertyChanged> sur tous les types `DataContract` pour activer la liaison de données.</span><span class="sxs-lookup"><span data-stu-id="1c432-171">Implements the <xref:System.ComponentModel.INotifyPropertyChanged> interface on all `DataContract` types to enable data binding.</span></span><br /><br /> <span data-ttu-id="1c432-172">Forme abrégée : `/edb`</span><span class="sxs-lookup"><span data-stu-id="1c432-172">Short form: `/edb`</span></span>|  
  
## <a name="generating-configuration"></a><span data-ttu-id="1c432-173">Génération de la configuration</span><span class="sxs-lookup"><span data-stu-id="1c432-173">Generating Configuration</span></span>  
  
|<span data-ttu-id="1c432-174">Option</span><span class="sxs-lookup"><span data-stu-id="1c432-174">Option</span></span>|<span data-ttu-id="1c432-175">Description</span><span class="sxs-lookup"><span data-stu-id="1c432-175">Description</span></span>|  
|------------|-----------------|  
|<span data-ttu-id="1c432-176">**/config\<configFile>**</span><span class="sxs-lookup"><span data-stu-id="1c432-176">**/config:\<configFile>**</span></span>|<span data-ttu-id="1c432-177">Spécifie le nom de fichier du fichier de configuration généré.</span><span class="sxs-lookup"><span data-stu-id="1c432-177">Specifies the file name for the generated configuration file.</span></span><br /><br /> <span data-ttu-id="1c432-178">Valeur par défaut : output.config.</span><span class="sxs-lookup"><span data-stu-id="1c432-178">Default: output.config</span></span>|  
|<span data-ttu-id="1c432-179">**/mergeConfig**</span><span class="sxs-lookup"><span data-stu-id="1c432-179">**/mergeConfig**</span></span>|<span data-ttu-id="1c432-180">Fusionne la configuration générée dans un fichier existant au lieu de remplacer le fichier existant.</span><span class="sxs-lookup"><span data-stu-id="1c432-180">Merges the generated configuration into an existing file, instead of overwriting the existing file.</span></span>|  
|<span data-ttu-id="1c432-181">**/noConfig**</span><span class="sxs-lookup"><span data-stu-id="1c432-181">**/noConfig**</span></span>|<span data-ttu-id="1c432-182">Ne génère pas de fichiers de configuration.</span><span class="sxs-lookup"><span data-stu-id="1c432-182">Do not generate configuration files.</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="1c432-183">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="1c432-183">See also</span></span>

- [<span data-ttu-id="1c432-184">Utilisation des métadonnées</span><span class="sxs-lookup"><span data-stu-id="1c432-184">Using Metadata</span></span>](using-metadata.md)
- [<span data-ttu-id="1c432-185">Vue d'ensemble de l'architecture de métadonnées</span><span class="sxs-lookup"><span data-stu-id="1c432-185">Metadata Architecture Overview</span></span>](metadata-architecture-overview.md)
