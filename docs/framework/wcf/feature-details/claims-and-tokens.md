---
title: Revendications et jetons
ms.date: 03/30/2017
helpviewer_keywords:
- claims [WCF], and tokens
ms.assetid: eff167f3-33f8-483d-a950-aa3e9f97a189
ms.openlocfilehash: cbc97f2224bce640757e1cef88fe325db477cfd7
ms.sourcegitcommit: cdb295dd1db589ce5169ac9ff096f01fd0c2da9d
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 06/09/2020
ms.locfileid: "84587025"
---
# <a name="claims-and-tokens"></a><span data-ttu-id="8cda3-102">Revendications et jetons</span><span class="sxs-lookup"><span data-stu-id="8cda3-102">Claims and Tokens</span></span>

<span data-ttu-id="8cda3-103">Cette rubrique décrit les différents types de revendications que Windows Communication Foundation (WCF) crée à partir des jetons par défaut qu’il prend en charge.</span><span class="sxs-lookup"><span data-stu-id="8cda3-103">This topic describes the various claim types that Windows Communication Foundation (WCF) creates from the default tokens that it supports.</span></span>

<span data-ttu-id="8cda3-104">Vous pouvez examiner les revendications des informations d'identification d'un client à l'aide des classes <xref:System.IdentityModel.Claims.ClaimSet> et <xref:System.IdentityModel.Claims.Claim>.</span><span class="sxs-lookup"><span data-stu-id="8cda3-104">You can examine the claims of a client credential by using the <xref:System.IdentityModel.Claims.ClaimSet> and <xref:System.IdentityModel.Claims.Claim> classes.</span></span> <span data-ttu-id="8cda3-105">`ClaimSet` contient une collection d'objets `Claim`.</span><span class="sxs-lookup"><span data-stu-id="8cda3-105">The `ClaimSet` contains a collection of `Claim` objects.</span></span> <span data-ttu-id="8cda3-106">Chaque `Claim` contient les membres importants suivants :</span><span class="sxs-lookup"><span data-stu-id="8cda3-106">Each `Claim` has the following important members:</span></span>

- <span data-ttu-id="8cda3-107">La propriété <xref:System.IdentityModel.Claims.Claim.ClaimType%2A> retourne un URI (Uniform Resource Identifier) qui spécifie le type de revendication qui est fait.</span><span class="sxs-lookup"><span data-stu-id="8cda3-107">The <xref:System.IdentityModel.Claims.Claim.ClaimType%2A> property returns a Uniform Resource Identifier (URI) that specifies the type of claim being made.</span></span> <span data-ttu-id="8cda3-108">Par exemple, un type de revendication peut être une empreinte numérique d’un certificat, auquel cas l’URI est `http://schemas.microsoft.com/ws/20005/05/identity/claims/thumprint` .</span><span class="sxs-lookup"><span data-stu-id="8cda3-108">For example, a claim type may be a thumbprint of a certificate, in which case the URI is `http://schemas.microsoft.com/ws/20005/05/identity/claims/thumprint`.</span></span>

- <span data-ttu-id="8cda3-109">La propriété <xref:System.IdentityModel.Claims.Claim.Right%2A> retourne un URI qui spécifie le droit de la revendication.</span><span class="sxs-lookup"><span data-stu-id="8cda3-109">The <xref:System.IdentityModel.Claims.Claim.Right%2A> property returns a URI that specifies the right of the claim.</span></span> <span data-ttu-id="8cda3-110">Les droits prédéfinis sont regroupés dans la classe <xref:System.IdentityModel.Claims.Rights> (<xref:System.IdentityModel.Claims.Rights.Identity%2A>, <xref:System.IdentityModel.Claims.Rights.PossessProperty%2A>).</span><span class="sxs-lookup"><span data-stu-id="8cda3-110">Predefined rights are found in the <xref:System.IdentityModel.Claims.Rights> class (<xref:System.IdentityModel.Claims.Rights.Identity%2A>,  <xref:System.IdentityModel.Claims.Rights.PossessProperty%2A>).</span></span>

- <span data-ttu-id="8cda3-111">La propriété <xref:System.IdentityModel.Claims.Claim.Resource%2A> retourne la ressource associée à la revendication.</span><span class="sxs-lookup"><span data-stu-id="8cda3-111">The <xref:System.IdentityModel.Claims.Claim.Resource%2A> property returns the resource associated with the claim.</span></span>

<span data-ttu-id="8cda3-112">Chaque <xref:System.IdentityModel.Claims.ClaimSet> a également une propriété <xref:System.IdentityModel.Claims.ClaimSet.Issuer%2A>, qui représente le <xref:System.IdentityModel.Claims.ClaimSet> de l'`Issuer`.</span><span class="sxs-lookup"><span data-stu-id="8cda3-112">Each <xref:System.IdentityModel.Claims.ClaimSet> also has an <xref:System.IdentityModel.Claims.ClaimSet.Issuer%2A> property, which represents the <xref:System.IdentityModel.Claims.ClaimSet> of the `Issuer`.</span></span>

## <a name="windows-accounts"></a><span data-ttu-id="8cda3-113">Comptes Windows</span><span class="sxs-lookup"><span data-stu-id="8cda3-113">Windows Accounts</span></span>

<span data-ttu-id="8cda3-114">Si les informations d'identification d'un client correspondent à un compte d'utilisateur Windows, le <xref:System.IdentityModel.Claims.ClaimSet> qui en résulte a les valeurs suivantes :</span><span class="sxs-lookup"><span data-stu-id="8cda3-114">Where a client credential maps to a Windows user account, the resulting <xref:System.IdentityModel.Claims.ClaimSet> has the following values:</span></span>

- <span data-ttu-id="8cda3-115">L'`Issuer` est la valeur retournée par la propriété Windows statique de la classe <xref:System.IdentityModel.Claims.ClaimSet>.</span><span class="sxs-lookup"><span data-stu-id="8cda3-115">The `Issuer` is the value returned by the static Windows property of the <xref:System.IdentityModel.Claims.ClaimSet> class.</span></span>

- <span data-ttu-id="8cda3-116">Les revendications de la collection sont les suivantes :</span><span class="sxs-lookup"><span data-stu-id="8cda3-116">The claims in the collection are:</span></span>

  - <span data-ttu-id="8cda3-117"><xref:System.IdentityModel.Claims.Claim> avec une propriété <xref:System.IdentityModel.Claims.Claim.ClaimType%2A> dont la valeur est l'identificateur de sécurité (SID), une propriété <xref:System.IdentityModel.Claims.Claim.Right%2A> dont la valeur est `Identity` et une propriété <xref:System.IdentityModel.Claims.Claim.Resource%2A> qui retourne la valeur SID réelle.</span><span class="sxs-lookup"><span data-stu-id="8cda3-117">A <xref:System.IdentityModel.Claims.Claim> with a <xref:System.IdentityModel.Claims.Claim.ClaimType%2A> value of security identifier (SID), a <xref:System.IdentityModel.Claims.Claim.Right%2A> property value of `Identity`, and a <xref:System.IdentityModel.Claims.Claim.Resource%2A> that returns the actual SID value.</span></span> <span data-ttu-id="8cda3-118">Un SID est une valeur unique que le contrôleur de domaine émet pour chaque utilisateur.</span><span class="sxs-lookup"><span data-stu-id="8cda3-118">A SID is a unique value the domain controller issues to every user.</span></span> <span data-ttu-id="8cda3-119">Il est utilisé pour identifier l'utilisateur dans ses interactions avec la sécurité Windows.</span><span class="sxs-lookup"><span data-stu-id="8cda3-119">The SID is used to identify the user in interactions with Windows security.</span></span>

  - <span data-ttu-id="8cda3-120"><xref:System.IdentityModel.Claims.Claim> avec une propriété <xref:System.IdentityModel.Claims.Claim.ClaimType%2A> dont la valeur est le SID, une propriété <xref:System.IdentityModel.Claims.Claim.Right%2A> dont la valeur est `PossessProperty` et une propriété <xref:System.IdentityModel.Claims.Claim.Resource%2A> de la valeur du SID.</span><span class="sxs-lookup"><span data-stu-id="8cda3-120">A <xref:System.IdentityModel.Claims.Claim> with a <xref:System.IdentityModel.Claims.Claim.ClaimType%2A> value of SID, a <xref:System.IdentityModel.Claims.Claim.Right%2A> of `PossessProperty`, and a <xref:System.IdentityModel.Claims.Claim.Resource%2A> of the SID value.</span></span>

  - <span data-ttu-id="8cda3-121"><xref:System.IdentityModel.Claims.Claim> avec une propriété <xref:System.IdentityModel.Claims.Claim.ClaimType%2A> dont la valeur est <xref:System.IdentityModel.Claims.ClaimTypes.Name%2A>, une propriété <xref:System.IdentityModel.Claims.Claim.Right%2A> dont la valeur est `PossessProperty` et une propriété <xref:System.IdentityModel.Claims.Claim.Resource%2A> de la chaîne contenant le nom d'utilisateur (par exemple, « MONORDINATEUR\Bob »).</span><span class="sxs-lookup"><span data-stu-id="8cda3-121">A <xref:System.IdentityModel.Claims.Claim> with a <xref:System.IdentityModel.Claims.Claim.ClaimType%2A> of <xref:System.IdentityModel.Claims.ClaimTypes.Name%2A>, a <xref:System.IdentityModel.Claims.Claim.Right%2A> of `PossessProperty` and a <xref:System.IdentityModel.Claims.Claim.Resource%2A> of string containing the user name (for example, "MYMACHINE\Bob").</span></span>

  - <span data-ttu-id="8cda3-122">Revendications SID supplémentaires avec propriété <xref:System.IdentityModel.Claims.Rights.PossessProperty%2A> pour les différents groupes auxquels l'utilisateur appartient.</span><span class="sxs-lookup"><span data-stu-id="8cda3-122">Additional SID claims with <xref:System.IdentityModel.Claims.Rights.PossessProperty%2A> for the various groups the user belongs to.</span></span>

## <a name="certificates"></a><span data-ttu-id="8cda3-123">Certificats</span><span class="sxs-lookup"><span data-stu-id="8cda3-123">Certificates</span></span>

<span data-ttu-id="8cda3-124">Si les informations d'identification du client sont un certificat, le <xref:System.IdentityModel.Claims.ClaimSet> qui en résulte a les valeurs suivantes :</span><span class="sxs-lookup"><span data-stu-id="8cda3-124">Where the client credential is a certificate, the resulting <xref:System.IdentityModel.Claims.ClaimSet> has the following values:</span></span>

- <span data-ttu-id="8cda3-125">Pour les certificats auto-émis, l'`Issuer` est le <xref:System.IdentityModel.Claims.ClaimSet> lui-même.</span><span class="sxs-lookup"><span data-stu-id="8cda3-125">For self-issued certificates, the `Issuer` is the <xref:System.IdentityModel.Claims.ClaimSet> itself.</span></span> <span data-ttu-id="8cda3-126"><xref:System.IdentityModel.Claims.ClaimSet> retourne une propriété <xref:System.IdentityModel.Claims.Claim.ClaimType%2A> dont la valeur est <xref:System.IdentityModel.Claims.ClaimTypes.Thumbprint%2A>, une propriété <xref:System.IdentityModel.Claims.Claim.Right%2A> dont la valeur est `Identity` et une propriété <xref:System.IdentityModel.Claims.Claim.Resource%2A> dont la valeur est un tableau <xref:System.Byte> contenant l'empreinte numérique du certificat.</span><span class="sxs-lookup"><span data-stu-id="8cda3-126">The <xref:System.IdentityModel.Claims.ClaimSet> returns a <xref:System.IdentityModel.Claims.Claim.ClaimType%2A> of <xref:System.IdentityModel.Claims.ClaimTypes.Thumbprint%2A>, a <xref:System.IdentityModel.Claims.Claim.Right%2A> of `Identity`, and a <xref:System.IdentityModel.Claims.Claim.Resource%2A> value that is a <xref:System.Byte> array containing the thumbprint of the certificate.</span></span>

- <span data-ttu-id="8cda3-127">Pour un certificat émis par une autorité de certification, l'émetteur est le `ClaimSet` qui représente le certificat de l'autorité de certification.</span><span class="sxs-lookup"><span data-stu-id="8cda3-127">For a certificate issued by a certification authority, the issuer is the `ClaimSet` representing the certification authority’s certificate.</span></span>

- <span data-ttu-id="8cda3-128">Les `Claims` de la collection sont les suivantes :</span><span class="sxs-lookup"><span data-stu-id="8cda3-128">The `Claims` in the collection include:</span></span>

  - <span data-ttu-id="8cda3-129">`Claim` dont le `ClaimType` est Empreinte numérique, un `Right` PossessProperty et une `Resource` qui est un tableau d'octets contenant l'empreinte numérique du certificat.</span><span class="sxs-lookup"><span data-stu-id="8cda3-129">A `Claim` with a `ClaimType` of Thumbprint, a `Right` of PossessProperty, and a `Resource` that is a byte array containing the thumbprint of the certificate</span></span>

  - <span data-ttu-id="8cda3-130">Revendications PossessProperty supplémentaires de différents types, notamment X500DistinguishedName, Dns, Name, Upn et Rsa, qui représentent différentes propriétés du certificat.</span><span class="sxs-lookup"><span data-stu-id="8cda3-130">Additional PossessProperty claims of various types, including X500DistinguishedName, Dns, Name, Upn, and Rsa, represent various properties of the certificate.</span></span> <span data-ttu-id="8cda3-131">La ressource de la revendication RSA est la clé publique associée au certificat. **Remarque** Lorsque le type d’informations d’identification du client est un certificat que le service mappe à un compte Windows, deux `ClaimSet` objets sont générés.</span><span class="sxs-lookup"><span data-stu-id="8cda3-131">The resource for the Rsa claim is the public key associated with the certificate.**Note** Where the client credential type is a certificate that the service maps to a Windows account, two `ClaimSet` objects are generated.</span></span> <span data-ttu-id="8cda3-132">Le premier contient toutes les revendications relatives au compte Windows et le second contient toutes les revendications en rapport avec le certificat.</span><span class="sxs-lookup"><span data-stu-id="8cda3-132">The first contains all the claims related to the Windows account and the second contains all the claims related to the certificate.</span></span>

## <a name="user-namepassword"></a><span data-ttu-id="8cda3-133">Nom d'utilisateur/mot de passe</span><span class="sxs-lookup"><span data-stu-id="8cda3-133">User Name/Password</span></span>

<span data-ttu-id="8cda3-134">Si les informations d'identification du client sont un nom d'utilisateur/mot de passe (ou équivalent) qui ne correspondent pas à un compte Windows, le `ClaimSet` qui en résulte est émis par la propriété <xref:System.IdentityModel.Claims.ClaimSet.System%2A> statique de la classe `ClaimSet`.</span><span class="sxs-lookup"><span data-stu-id="8cda3-134">Where the client credential is a user name/password (or equivalent) that does not map to a Windows account, the resulting `ClaimSet` is issued by the static <xref:System.IdentityModel.Claims.ClaimSet.System%2A> property of the `ClaimSet` class.</span></span> <span data-ttu-id="8cda3-135">`ClaimSet`Contient une `Identity` revendication de type <xref:System.IdentityModel.Claims.ClaimTypes.Name%2A> dont la ressource est le nom d’utilisateur fourni par le client.</span><span class="sxs-lookup"><span data-stu-id="8cda3-135">The `ClaimSet` contains an `Identity` claim of type <xref:System.IdentityModel.Claims.ClaimTypes.Name%2A> whose resource is the user name the client provides.</span></span> <span data-ttu-id="8cda3-136">Une revendication correspondante a un `Right` de `PossessProperty`.</span><span class="sxs-lookup"><span data-stu-id="8cda3-136">A corresponding claim has a `Right` of `PossessProperty`.</span></span>

## <a name="rsa-keys"></a><span data-ttu-id="8cda3-137">Clés RSA</span><span class="sxs-lookup"><span data-stu-id="8cda3-137">RSA Keys</span></span>

<span data-ttu-id="8cda3-138">Lorsqu’une clé RSA non associée à un certificat est utilisée, le qui en résulte `ClaimSet` est auto-émis et contient une `Identity` revendication de type <xref:System.IdentityModel.Claims.ClaimTypes.Rsa%2A> dont la ressource est la clé RSA.</span><span class="sxs-lookup"><span data-stu-id="8cda3-138">Where an RSA key not associated with a certificate is used, the resulting `ClaimSet` is self-issued and contains an `Identity` claim of type <xref:System.IdentityModel.Claims.ClaimTypes.Rsa%2A> whose resource is the RSA key.</span></span> <span data-ttu-id="8cda3-139">Une revendication correspondante a un `Right` de `PossessProperty`.</span><span class="sxs-lookup"><span data-stu-id="8cda3-139">A corresponding claim has a `Right` of `PossessProperty`.</span></span>

## <a name="saml"></a><span data-ttu-id="8cda3-140">SAML</span><span class="sxs-lookup"><span data-stu-id="8cda3-140">SAML</span></span>

<span data-ttu-id="8cda3-141">Si le client s'authentifie avec un jeton SAML (Security Assertions Markup Language), le `ClaimSet` qui en résulte est émis par l'entité qui a signé le jeton SAML, souvent le certificat du service STS (Security Token Service) qui a émis le jeton SAML.</span><span class="sxs-lookup"><span data-stu-id="8cda3-141">Where the client authenticates with a Security Assertions Markup Language (SAML) token, the resulting `ClaimSet` is issued by the entity that signed the SAML token, often the certificate of the security token service (STS) that issued the SAML token.</span></span> <span data-ttu-id="8cda3-142">Le `ClaimSet` contient différentes revendications présentes dans le jeton SAML.</span><span class="sxs-lookup"><span data-stu-id="8cda3-142">The `ClaimSet` contains various claims as found in the SAML token.</span></span> <span data-ttu-id="8cda3-143">Si le jeton SAML contient un `SamlSubject` avec un nom non `null`, une revendication `Identity` de type <xref:System.IdentityModel.Claims.ClaimTypes.NameIdentifier%2A> et une ressource de type <xref:System.IdentityModel.Tokens.SamlNameIdentifierClaimResource> sont alors créées.</span><span class="sxs-lookup"><span data-stu-id="8cda3-143">If the SAML token contains a `SamlSubject` with a non-`null` name, then an `Identity` claim with a type of <xref:System.IdentityModel.Claims.ClaimTypes.NameIdentifier%2A> and a resource type of <xref:System.IdentityModel.Tokens.SamlNameIdentifierClaimResource> are created.</span></span>

## <a name="identity-claims-and-servicesecuritycontextisanonymous"></a><span data-ttu-id="8cda3-144">Revendications d'identité et ServiceSecurityContext.IsAnonymous</span><span class="sxs-lookup"><span data-stu-id="8cda3-144">Identity Claims and ServiceSecurityContext.IsAnonymous</span></span>

<span data-ttu-id="8cda3-145">Si aucun des `ClaimSet` objets résultant des informations d’identification du client ne contient une revendication avec un `Right` de `Identity,` , la <xref:System.ServiceModel.ServiceSecurityContext.IsAnonymous%2A> propriété retourne `true` .</span><span class="sxs-lookup"><span data-stu-id="8cda3-145">If none of the `ClaimSet` objects resulting from the client credentials contain a claim with a `Right` of `Identity,` then the <xref:System.ServiceModel.ServiceSecurityContext.IsAnonymous%2A> property returns `true`.</span></span> <span data-ttu-id="8cda3-146">En présence d'une ou plusieurs revendications de ce type, la propriété `IsAnonymous` retourne `false`.</span><span class="sxs-lookup"><span data-stu-id="8cda3-146">If one or more such claims are present, the `IsAnonymous` property returns `false`.</span></span>

## <a name="see-also"></a><span data-ttu-id="8cda3-147">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="8cda3-147">See also</span></span>

- <xref:System.IdentityModel.Claims.ClaimSet>
- <xref:System.IdentityModel.Claims.Claim>
- <xref:System.IdentityModel.Claims.Rights>
- <xref:System.IdentityModel.Claims.ClaimTypes>
- [<span data-ttu-id="8cda3-148">Gestion des revendications et autorisation avec le modèle d'identité</span><span class="sxs-lookup"><span data-stu-id="8cda3-148">Managing Claims and Authorization with the Identity Model</span></span>](managing-claims-and-authorization-with-the-identity-model.md)
