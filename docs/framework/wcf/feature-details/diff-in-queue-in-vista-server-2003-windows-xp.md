---
title: Différences entre les fonctionnalités de mise en file d’attente dans Windows Vista, Windows Server 2003 et Windows XP
ms.date: 03/30/2017
helpviewer_keywords:
- queues [WCF], differences in operating systems
ms.assetid: aa809d93-d0a3-4ae6-a726-d015cca37c04
ms.openlocfilehash: 694d7af8e6e869a7a21a3414be6c69cf9f5e7c8f
ms.sourcegitcommit: 2701302a99cafbe0d86d53d540eb0fa7e9b46b36
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 04/28/2019
ms.locfileid: "64626993"
---
# <a name="differences-in-queuing-features-in-windows-vista-windows-server-2003-and-windows-xp"></a><span data-ttu-id="93047-102">Différences entre les fonctionnalités de mise en file d’attente dans Windows Vista, Windows Server 2003 et Windows XP</span><span class="sxs-lookup"><span data-stu-id="93047-102">Differences in Queuing Features in Windows Vista, Windows Server 2003, and Windows XP</span></span>
<span data-ttu-id="93047-103">Cette rubrique résume les différences dans la fonctionnalité de files d’attente de Windows Communication Foundation (WCF) entre [!INCLUDE[wv](../../../../includes/wv-md.md)], [!INCLUDE[ws2003](../../../../includes/ws2003-md.md)], et [!INCLUDE[wxp](../../../../includes/wxp-md.md)].</span><span class="sxs-lookup"><span data-stu-id="93047-103">This topic summarizes the differences in the Windows Communication Foundation (WCF) queues feature between [!INCLUDE[wv](../../../../includes/wv-md.md)], [!INCLUDE[ws2003](../../../../includes/ws2003-md.md)], and [!INCLUDE[wxp](../../../../includes/wxp-md.md)].</span></span>  
  
## <a name="application-specific-dead-letter-queue"></a><span data-ttu-id="93047-104">File d'attente de lettres mortes spécifique à l'application</span><span class="sxs-lookup"><span data-stu-id="93047-104">Application-Specific Dead-Letter Queue</span></span>  
 <span data-ttu-id="93047-105">Les messages mis en file d'attente peuvent rester indéfiniment dans la file d'attente si l'application réceptrice ne les lit pas en temps voulu.</span><span class="sxs-lookup"><span data-stu-id="93047-105">Queued messages can remain in the queue indefinitely if the receiving application does not read them in a timely fashion.</span></span> <span data-ttu-id="93047-106">Ce comportement n'est pas recommandé si les messages sont dépendants de l'heure.</span><span class="sxs-lookup"><span data-stu-id="93047-106">This behavior is not advisable if the messages are time-sensitive.</span></span> <span data-ttu-id="93047-107">Les messages dépendants de l’heure ont une propriété `TimeToLive` affectée dans la liaison mise en file d’attente.</span><span class="sxs-lookup"><span data-stu-id="93047-107">Time-sensitive messages have a `TimeToLive` property set in the queued binding.</span></span> <span data-ttu-id="93047-108">Cette propriété indique la durée de vie possible des messages dans la file d'attente avant qu'ils n'expirent.</span><span class="sxs-lookup"><span data-stu-id="93047-108">This property indicates how long the messages can be in the queue before they expire.</span></span> <span data-ttu-id="93047-109">Les messages ayant expiré sont envoyés dans une file d'attente spéciale appelée file d'attente de lettres mortes.</span><span class="sxs-lookup"><span data-stu-id="93047-109">Expired messages are sent to a special queue called the dead-letter queue.</span></span> <span data-ttu-id="93047-110">Un message peut également finir dans une file d'attente de lettres mortes pour d'autres raisons, telles que le dépassement d'un quota de file d'attente ou un échec d'authentification.</span><span class="sxs-lookup"><span data-stu-id="93047-110">A message can also end up in a dead-letter queue for other reasons, such as exceeding a queue quota or experiencing an authentication failure.</span></span>  
  
 <span data-ttu-id="93047-111">En général, il existe une seule file d'attente de lettres mortes à l'échelle du système pour toutes les applications mises en file d'attente qui partagent un gestionnaire de files d'attente.</span><span class="sxs-lookup"><span data-stu-id="93047-111">Typically, a single system-wide dead-letter queue exists for all queued applications that share a queue manager.</span></span> <span data-ttu-id="93047-112">Une file d'attente de lettres mortes pour chaque application permet une meilleure isolation entre les applications mises en file d'attente qui partagent un gestionnaire de files d'attente en laissant à ces applications le soin de spécifier leur propre file d'attente de lettres mortes.</span><span class="sxs-lookup"><span data-stu-id="93047-112">A dead-letter queue for each application enables better isolation between queued applications that share a queue manager by allowing these applications to specify their own application-specific dead-letter queue.</span></span> <span data-ttu-id="93047-113">Une application qui partage une file d'attente de lettres mortes avec d'autres applications doit parcourir la file d'attente pour rechercher les messages qui lui sont applicables.</span><span class="sxs-lookup"><span data-stu-id="93047-113">An application that shares a dead-letter queue with other applications has to browse the queue to find messages that are applicable to it.</span></span> <span data-ttu-id="93047-114">Avec une file d'attente de lettres mortes qui lui est spécifique, l'application peut être assurée que tous les messages figurant dans sa file d'attente de lettres mortes lui sont applicables.</span><span class="sxs-lookup"><span data-stu-id="93047-114">With an application-specific dead-letter queue, the application can be assured that all messages in its dead-letter queue are applicable to it.</span></span>  
  
 [!INCLUDE[wv](../../../../includes/wv-md.md)] <span data-ttu-id="93047-115">fournit des files d'attente de lettres mortes spécifiques aux applications.</span><span class="sxs-lookup"><span data-stu-id="93047-115">provides for application-specific dead-letter queues.</span></span> <span data-ttu-id="93047-116">Les files d'attente de lettres mortes spécifiques aux applications ne sont pas disponibles dans [!INCLUDE[ws2003](../../../../includes/ws2003-md.md)] ni dans [!INCLUDE[wxp](../../../../includes/wxp-md.md)] et les applications doivent utiliser la file d'attente de lettres mortes à l'échelle du système.</span><span class="sxs-lookup"><span data-stu-id="93047-116">Application-specific dead-letter queues are not available in [!INCLUDE[ws2003](../../../../includes/ws2003-md.md)] and [!INCLUDE[wxp](../../../../includes/wxp-md.md)], and applications must use the system-wide dead-letter queue.</span></span>  
  
## <a name="poison-message-handling"></a><span data-ttu-id="93047-117">Gestion des messages incohérents</span><span class="sxs-lookup"><span data-stu-id="93047-117">Poison-Message Handling</span></span>  
 <span data-ttu-id="93047-118">Un message incohérent est un message qui a dépassé le nombre maximal de tentatives de remise à l'application réceptrice.</span><span class="sxs-lookup"><span data-stu-id="93047-118">A poison message is a message that has exceeded the maximum number of delivery attempts to the receiving application.</span></span> <span data-ttu-id="93047-119">Cette situation peut survenir lorsqu’une application qui lit un message d’une file d’attente transactionnelle ne peut pas traiter immédiatement le message en raison d’erreurs.</span><span class="sxs-lookup"><span data-stu-id="93047-119">This situation can arise when an application that reads a message from a transactional queue cannot process the message immediately because of errors.</span></span> <span data-ttu-id="93047-120">Si l'application abandonne la transaction dans laquelle le message mis en file d'attente a été reçu, elle renvoie le message à la file d'attente.</span><span class="sxs-lookup"><span data-stu-id="93047-120">If the application aborts the transaction in which the queued message was received, it returns the message to the queue.</span></span> <span data-ttu-id="93047-121">L’application essaie ensuite de récupérer le message dans une nouvelle transaction.</span><span class="sxs-lookup"><span data-stu-id="93047-121">The application then tries to retrieve the message again in a new transaction.</span></span> <span data-ttu-id="93047-122">Si le problème qui provoque l'erreur n'est pas résolu, l'application réceptrice peut être bloquée dans une réception et un abandon en boucle du même message jusqu'à ce que le nombre maximal de tentatives de remise soit dépassé et qu'un message incohérent soit généré.</span><span class="sxs-lookup"><span data-stu-id="93047-122">If the problem that causes the error is not corrected, the receiving application can get stuck in a loop receiving and aborting the same message until it exceeds the maximum number of delivery attempts, and a poison message results.</span></span>  
  
 <span data-ttu-id="93047-123">Les différences clés de Message Queuing (MSMQ) sur [!INCLUDE[wv](../../../../includes/wv-md.md)], [!INCLUDE[ws2003](../../../../includes/ws2003-md.md)] et sur [!INCLUDE[wxp](../../../../includes/wxp-md.md)] relatives à la gestion des messages incohérents sont les suivantes :</span><span class="sxs-lookup"><span data-stu-id="93047-123">The key differences between Message Queuing (MSMQ) on [!INCLUDE[wv](../../../../includes/wv-md.md)], [!INCLUDE[ws2003](../../../../includes/ws2003-md.md)], and [!INCLUDE[wxp](../../../../includes/wxp-md.md)] that are relevant to poison handling include the following:</span></span>  
  
- <span data-ttu-id="93047-124">MSMQ prend en charge les sous-files d'attente dans [!INCLUDE[wv](../../../../includes/wv-md.md)] alors que [!INCLUDE[ws2003](../../../../includes/ws2003-md.md)] et [!INCLUDE[wxp](../../../../includes/wxp-md.md)] ne les prennent pas en charge.</span><span class="sxs-lookup"><span data-stu-id="93047-124">MSMQ in [!INCLUDE[wv](../../../../includes/wv-md.md)] supports subqueues, while [!INCLUDE[ws2003](../../../../includes/ws2003-md.md)] and [!INCLUDE[wxp](../../../../includes/wxp-md.md)] do not support subqueues.</span></span> <span data-ttu-id="93047-125">Les sous-files d'attente sont utilisées dans la gestion des messages incohérents.</span><span class="sxs-lookup"><span data-stu-id="93047-125">Subqueues are used in poison-message handling.</span></span> <span data-ttu-id="93047-126">Les files d'attente de nouvel essai et la file d'attente de messages incohérents sont des sous-files d'attente de la file d'attente de l'application créée en fonction des paramètres de gestion des messages incohérents.</span><span class="sxs-lookup"><span data-stu-id="93047-126">The retry queues and the poison queue are subqueues to the application queue that is created based on the poison-message handling settings.</span></span> <span data-ttu-id="93047-127">`MaxRetryCycles` définit le nombre de sous-files de nouvel essai à créer.</span><span class="sxs-lookup"><span data-stu-id="93047-127">The `MaxRetryCycles` dictates how many retry subqueues to create.</span></span> <span data-ttu-id="93047-128">Par conséquent, lors de l'exécution sur [!INCLUDE[ws2003](../../../../includes/ws2003-md.md)] ou [!INCLUDE[wxp](../../../../includes/wxp-md.md)], `MaxRetryCycles` est ignoré et `ReceiveErrorHandling.Move` n'est pas autorisé.</span><span class="sxs-lookup"><span data-stu-id="93047-128">Therefore, when running on [!INCLUDE[ws2003](../../../../includes/ws2003-md.md)] or [!INCLUDE[wxp](../../../../includes/wxp-md.md)], `MaxRetryCycles` are ignored and `ReceiveErrorHandling.Move` is not allowed.</span></span>  
  
- <span data-ttu-id="93047-129">MSMQ prend en charge l'accusé de réception négatif dans [!INCLUDE[wv](../../../../includes/wv-md.md)], alors que [!INCLUDE[ws2003](../../../../includes/ws2003-md.md)] et [!INCLUDE[wxp](../../../../includes/wxp-md.md)] ne le prenne pas en charge.</span><span class="sxs-lookup"><span data-stu-id="93047-129">MSMQ in [!INCLUDE[wv](../../../../includes/wv-md.md)] supports negative acknowledgment, while [!INCLUDE[ws2003](../../../../includes/ws2003-md.md)] and [!INCLUDE[wxp](../../../../includes/wxp-md.md)] do not.</span></span> <span data-ttu-id="93047-130">Un accusé de réception négatif provenant du gestionnaire de files d'attente de destination provoque le placement du message rejeté dans la file d'attente de lettres mortes par le gestionnaire de files d'attente source.</span><span class="sxs-lookup"><span data-stu-id="93047-130">A negative acknowledgment from the receiving queue manager causes the sending queue manager to place the rejected message in the dead-letter queue.</span></span> <span data-ttu-id="93047-131">Ainsi, `ReceiveErrorHandling.Reject` n'est pas autorisé avec [!INCLUDE[ws2003](../../../../includes/ws2003-md.md)] et [!INCLUDE[wxp](../../../../includes/wxp-md.md)].</span><span class="sxs-lookup"><span data-stu-id="93047-131">As such, `ReceiveErrorHandling.Reject` is not allowed with [!INCLUDE[ws2003](../../../../includes/ws2003-md.md)] and [!INCLUDE[wxp](../../../../includes/wxp-md.md)].</span></span>  
  
- <span data-ttu-id="93047-132">Dans [!INCLUDE[wv](../../../../includes/wv-md.md)], MSMQ prend en charge la propriété d'un message qui compte le nombre de tentatives de remise du message.</span><span class="sxs-lookup"><span data-stu-id="93047-132">MSMQ in [!INCLUDE[wv](../../../../includes/wv-md.md)] supports a message property that keeps count of the number of times message delivery is attempted.</span></span> <span data-ttu-id="93047-133">Cette propriété du nombre d'abandons n'est pas disponible sur [!INCLUDE[ws2003](../../../../includes/ws2003-md.md)] ni sur [!INCLUDE[wxp](../../../../includes/wxp-md.md)].</span><span class="sxs-lookup"><span data-stu-id="93047-133">This abort count property is not available on [!INCLUDE[ws2003](../../../../includes/ws2003-md.md)] and [!INCLUDE[wxp](../../../../includes/wxp-md.md)].</span></span> <span data-ttu-id="93047-134">WCF gère le nombre d’abandons en mémoire, il est donc possible que cette propriété ne peut pas contenir une valeur exacte lorsque le même message est lu par plus d’un service WCF dans une batterie de serveurs Web.</span><span class="sxs-lookup"><span data-stu-id="93047-134">WCF maintains the abort count in memory, so it is possible that this property may not contain an accurate value when the same message is read by more than one WCF service in a Web farm.</span></span>  
  
## <a name="remote-transactional-read"></a><span data-ttu-id="93047-135">Lecture transactionnelle distante</span><span class="sxs-lookup"><span data-stu-id="93047-135">Remote Transactional Read</span></span>  
 <span data-ttu-id="93047-136">MSMQ sur [!INCLUDE[wv](../../../../includes/wv-md.md)] prend en charge les lectures transactionnelles distantes.</span><span class="sxs-lookup"><span data-stu-id="93047-136">MSMQ on [!INCLUDE[wv](../../../../includes/wv-md.md)] supports remote transactional reads.</span></span> <span data-ttu-id="93047-137">Cette prise en charge permet à une application qui lit à partir d'une file d'attente d'être hébergée sur un ordinateur différent de l'ordinateur sur lequel la file d'attente est hébergée.</span><span class="sxs-lookup"><span data-stu-id="93047-137">This allows an application that is reading from a queue to be hosted on a computer that is different from the computer on which the queue is hosted.</span></span> <span data-ttu-id="93047-138">Cela garantit la possibilité d'avoir une batterie de services qui lit à partir d'une file d'attente centrale, ce qui augmente le débit total du système.</span><span class="sxs-lookup"><span data-stu-id="93047-138">This ensures the ability to have a farm of services reading from a central queue, which increases the overall throughput of the system.</span></span> <span data-ttu-id="93047-139">Cela garantit également que, si une défaillance se produit lors de la lecture et du traitement du message, la transaction est restaurée et le message est conservé dans la file d'attente afin d'y être traité ultérieurement.</span><span class="sxs-lookup"><span data-stu-id="93047-139">It also ensures that if a failure occurs when reading and processing the message, the transaction rolls back and the message remains in the queue for later processing.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="93047-140">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="93047-140">See also</span></span>

- [<span data-ttu-id="93047-141">Utilisation de files d’attente de lettres mortes pour gérer des défaillances de transfert de messages</span><span class="sxs-lookup"><span data-stu-id="93047-141">Using Dead-Letter Queues to Handle Message Transfer Failures</span></span>](../../../../docs/framework/wcf/feature-details/using-dead-letter-queues-to-handle-message-transfer-failures.md)
- [<span data-ttu-id="93047-142">Gestion des messages incohérents</span><span class="sxs-lookup"><span data-stu-id="93047-142">Poison Message Handling</span></span>](../../../../docs/framework/wcf/feature-details/poison-message-handling.md)
