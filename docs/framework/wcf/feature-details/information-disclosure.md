---
title: Divulgation d'informations
ms.date: 03/30/2017
ms.assetid: 4064c89f-afa6-444a-aa7e-807ef072131c
ms.openlocfilehash: 0e45a71855ecb172f36aae8139f89d4b8c8ffd0d
ms.sourcegitcommit: 9b1ac36b6c80176fd4e20eb5bfcbd9d56c3264cf
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 06/28/2019
ms.locfileid: "67425306"
---
# <a name="information-disclosure"></a><span data-ttu-id="495d2-102">Divulgation d'informations</span><span class="sxs-lookup"><span data-stu-id="495d2-102">Information Disclosure</span></span>

<span data-ttu-id="495d2-103">La divulgation d'informations permet à un intrus d'obtenir des informations précieuses à propos d'un système.</span><span class="sxs-lookup"><span data-stu-id="495d2-103">Information disclosure enables an attacker to gain valuable information about a system.</span></span> <span data-ttu-id="495d2-104">Par conséquent, examinez toujours les informations que vous révélez et demandez-vous si elles peuvent être utilisées par un utilisateur malveillant.</span><span class="sxs-lookup"><span data-stu-id="495d2-104">Therefore, always consider what information you are revealing and whether it can be used by a malicious user.</span></span> <span data-ttu-id="495d2-105">Vous trouverez ci-dessous la liste des attaques par divulgation d’informations possibles et les moyens d’atténuation pour chacune d’elles.</span><span class="sxs-lookup"><span data-stu-id="495d2-105">The following lists possible information disclosure attacks and provides mitigations for each.</span></span>

## <a name="message-security-and-http"></a><span data-ttu-id="495d2-106">Sécurité des messages et HTTP</span><span class="sxs-lookup"><span data-stu-id="495d2-106">Message Security and HTTP</span></span>

<span data-ttu-id="495d2-107">Si vous utilisez la sécurité au niveau du message sur une couche transport HTTP, sachez que la sécurité au niveau du message ne protège pas les en-têtes HTTP.</span><span class="sxs-lookup"><span data-stu-id="495d2-107">If you are using message-level security over an HTTP transport layer, be aware that message-level security does not protect HTTP headers.</span></span> <span data-ttu-id="495d2-108">La seule manière de protéger les en-têtes HTTP est d'utiliser le transport HTTPS au lieu du HTTP.</span><span class="sxs-lookup"><span data-stu-id="495d2-108">The only way to protect HTTP headers is to use HTTPS transport instead of HTTP.</span></span> <span data-ttu-id="495d2-109">Le transport HTTPS entraîne le chiffrement du message entier, y compris les en-têtes HTTP, à l'aide du protocole SSL (Secure Sockets Layer).</span><span class="sxs-lookup"><span data-stu-id="495d2-109">HTTPS transport causes the entire message, including the HTTP headers, to be encrypted using the Secure Sockets Layer (SSL) protocol.</span></span>

## <a name="policy-information"></a><span data-ttu-id="495d2-110">Informations de stratégie</span><span class="sxs-lookup"><span data-stu-id="495d2-110">Policy Information</span></span>

<span data-ttu-id="495d2-111">Il est important de sécuriser la stratégie, surtout dans les scénarios de fédération dans lesquels les spécifications sensibles des jetons émis ou les informations de l'émetteur de jetons sont exposées dans la stratégie.</span><span class="sxs-lookup"><span data-stu-id="495d2-111">Keeping policy secure is important, especially in federation scenarios where sensitive issued-token requirements or token-issuer information is exposed in policy.</span></span> <span data-ttu-id="495d2-112">Dans ces cas, il est recommandé de sécuriser le point de terminaison de stratégie du service fédéré pour empêcher les intrus d'obtenir des informations à propos du service, tel que le type de revendications à placer dans le jeton émis, ou de rediriger les clients vers des émetteurs de jetons malveillants.</span><span class="sxs-lookup"><span data-stu-id="495d2-112">In these cases, the recommendation is to secure the federated service's policy endpoint to prevent attackers from obtaining information about the service, such as the type of claims to put in the issued token, or redirecting clients to malicious token issuers.</span></span> <span data-ttu-id="495d2-113">Par exemple, un intrus pourrait découvrir des paires de nom d'utilisateur/mot de passe en reconfigurant la chaîne de confiance fédérée afin qu'elle se termine dans un émetteur qui exécute une attaque de « l'homme du milieu » (« man-in-the-middle »).</span><span class="sxs-lookup"><span data-stu-id="495d2-113">For example, an attacker could discover user name/password pairs by reconfiguring the federated trust chain to terminate in an issuer that executed a man-in-the-middle attack.</span></span> <span data-ttu-id="495d2-114">Il est également recommandé que les clients fédérés qui obtiennent leurs liaisons grâce à la récupération de la stratégie vérifient qu’ils approuvent les émetteurs de la chaîne de confiance fédérée obtenue.</span><span class="sxs-lookup"><span data-stu-id="495d2-114">It is also recommended that federated clients who obtain their bindings through policy retrieval verify that they trust the issuers in the obtained federated trust chain.</span></span> <span data-ttu-id="495d2-115">Pour plus d’informations sur les scénarios de fédération, consultez [fédération](../../../../docs/framework/wcf/feature-details/federation.md).</span><span class="sxs-lookup"><span data-stu-id="495d2-115">For more information about federation scenarios, see [Federation](../../../../docs/framework/wcf/feature-details/federation.md).</span></span>

## <a name="memory-dumps-can-reveal-claim-information"></a><span data-ttu-id="495d2-116">Les images mémoire peuvent révéler des informations de revendication</span><span class="sxs-lookup"><span data-stu-id="495d2-116">Memory Dumps Can Reveal Claim Information</span></span>

<span data-ttu-id="495d2-117">Lorsqu'une application échoue, des fichiers journaux, tels que ceux générés par Dr. Watson, peut contenir des informations de revendication.</span><span class="sxs-lookup"><span data-stu-id="495d2-117">When an application fails, log files, such as those produced by Dr. Watson, can contain the claim information.</span></span> <span data-ttu-id="495d2-118">Ces informations ne doivent pas être exportées à d’autres entités, telles que les équipes de support ; sinon, les informations de revendication qui contiennent des données privées sont également exportées.</span><span class="sxs-lookup"><span data-stu-id="495d2-118">This information should not be exported to other entities, such as support teams; otherwise, the claim information that contains private data is also exported.</span></span> <span data-ttu-id="495d2-119">Vous pouvez atténuer cet aspect en n'envoyant pas les fichiers journaux à des entités inconnues.</span><span class="sxs-lookup"><span data-stu-id="495d2-119">You can mitigate this by not sending the log files to unknown entities.</span></span> <span data-ttu-id="495d2-120">Pour plus d’informations, consultez [Windows Server 2003](https://go.microsoft.com/fwlink/?LinkId=89160).</span><span class="sxs-lookup"><span data-stu-id="495d2-120">For more information, see [Windows Server 2003](https://go.microsoft.com/fwlink/?LinkId=89160).</span></span>

## <a name="endpoint-addresses"></a><span data-ttu-id="495d2-121">Adresses de point de terminaison</span><span class="sxs-lookup"><span data-stu-id="495d2-121">Endpoint Addresses</span></span>

<span data-ttu-id="495d2-122">Une adresse de point de terminaison contient les informations nécessaires pour communiquer avec un point de terminaison.</span><span class="sxs-lookup"><span data-stu-id="495d2-122">An endpoint address contains the information needed to communicate with an endpoint.</span></span> <span data-ttu-id="495d2-123">La sécurité SOAP doit inclure l'adresse complète dans les messages de négociation de la sécurité qui sont échangés afin de négocier une clé symétrique entre un client et un serveur.</span><span class="sxs-lookup"><span data-stu-id="495d2-123">SOAP security must include the address in full in the security negotiation messages that are exchanged in order to negotiate a symmetric key between a client and a server.</span></span> <span data-ttu-id="495d2-124">Vu que la négociation de sécurité est un processus d'amorçage, les en-têtes d'adresse ne peuvent pas être chiffrés pendant ce processus.</span><span class="sxs-lookup"><span data-stu-id="495d2-124">Because security negotiation is a bootstrap process, the address headers cannot be encrypted during this process.</span></span> <span data-ttu-id="495d2-125">Par conséquent, l'adresse ne doit pas contenir de données confidentielles ; sinon, il existe un risque d'attaque par divulgation d'informations.</span><span class="sxs-lookup"><span data-stu-id="495d2-125">Therefore, the address should not contain any confidential data; otherwise, it leads to information disclosure attacks.</span></span>

## <a name="certificates-transferred-unencrypted"></a><span data-ttu-id="495d2-126">Certificats transférés non chiffrés</span><span class="sxs-lookup"><span data-stu-id="495d2-126">Certificates Transferred Unencrypted</span></span>

<span data-ttu-id="495d2-127">Lorsque vous utilisez un certificat X.509 pour authentifier un client, le certificat est transféré en clair, à l'intérieur de l'en-tête SOAP.</span><span class="sxs-lookup"><span data-stu-id="495d2-127">When you use an X.509 certificate to authenticate a client, the certificate is transferred in the clear, inside the SOAP header.</span></span> <span data-ttu-id="495d2-128">Sachez que cela peut constituer une divulgation d'informations d'identification personnelle (PII).</span><span class="sxs-lookup"><span data-stu-id="495d2-128">Be aware of this as a potential personally identifiable information (PII) disclosure.</span></span> <span data-ttu-id="495d2-129">Ce problème ne se pose pas pour le mode `TransportWithMessageCredential`, dans lequel le message entier est chiffré avec la sécurité au niveau du transport.</span><span class="sxs-lookup"><span data-stu-id="495d2-129">This is not an issue for `TransportWithMessageCredential` mode, where the entire message is encrypted with transport-level security.</span></span>

## <a name="service-references"></a><span data-ttu-id="495d2-130">Références de service</span><span class="sxs-lookup"><span data-stu-id="495d2-130">Service References</span></span>

<span data-ttu-id="495d2-131">Une référence de service est une référence à un autre service.</span><span class="sxs-lookup"><span data-stu-id="495d2-131">A service reference is a reference to another service.</span></span> <span data-ttu-id="495d2-132">Par exemple, un service peut passer une référence de service à un client au cours d'une opération.</span><span class="sxs-lookup"><span data-stu-id="495d2-132">For example, a service may pass a service reference to a client in the course of an operation.</span></span> <span data-ttu-id="495d2-133">La référence de service est également utilisée avec un *vérificateur d’identité de confiance*, un composant interne qui garantit l’identité du principal cible avant de divulguer des informations telles que les données d’application ou les informations d’identification à la cible.</span><span class="sxs-lookup"><span data-stu-id="495d2-133">The service reference is also used with a *trust identity verifier*, an internal component that ensures the identity of the target principal before disclosing information such as application data or credentials to the target.</span></span> <span data-ttu-id="495d2-134">Si l'identité de la confiance distante ne peut pas être vérifiée ou est incorrecte, l'expéditeur doit s'assurer qu'aucune donnée n'a été divulguée qui pourrait le compromettre, compromettre l'application ou l'utilisateur.</span><span class="sxs-lookup"><span data-stu-id="495d2-134">If the remote trust identity cannot be verified or is incorrect, the sender should ensure that no data was disclosed that could compromise itself, the application, or the user.</span></span>

<span data-ttu-id="495d2-135">Les mesures d'atténuation des risques sont les suivantes :</span><span class="sxs-lookup"><span data-stu-id="495d2-135">Mitigations include the following:</span></span>

- <span data-ttu-id="495d2-136">Les références de service sont supposées dignes de confiance.</span><span class="sxs-lookup"><span data-stu-id="495d2-136">Service references are assumed to be trustworthy.</span></span> <span data-ttu-id="495d2-137">Prenez soin, chaque fois que vous transférez des instances de références de service, de vérifier qu'elles n'ont pas fait l'objet d'une falsification.</span><span class="sxs-lookup"><span data-stu-id="495d2-137">Take care whenever transferring service reference instances to ensure that they have not been tampered with.</span></span>

- <span data-ttu-id="495d2-138">Certaines applications peuvent présenter une expérience utilisateur qui autorise l'établissement interactif de la confiance selon les données de la référence de service et les données de confiance prouvées par l'hôte distant.</span><span class="sxs-lookup"><span data-stu-id="495d2-138">Some applications can present a user experience that allows interactive establishment of trust based on data in the service reference and trust data proven by the remote host.</span></span> <span data-ttu-id="495d2-139">WCF fournit des points d’extensibilité pour une telle fonctionnalité, mais l’utilisateur doit les implémenter.</span><span class="sxs-lookup"><span data-stu-id="495d2-139">WCF provides extensibility points for such a facility, but the user must implemented them.</span></span>

## <a name="ntlm"></a><span data-ttu-id="495d2-140">NTLM</span><span class="sxs-lookup"><span data-stu-id="495d2-140">NTLM</span></span>

<span data-ttu-id="495d2-141">Par défaut, dans l'environnement de domaine Windows, l'authentification Windows utilise le protocole Kerberos pour authentifier et autoriser des utilisateurs.</span><span class="sxs-lookup"><span data-stu-id="495d2-141">By default, in the Windows domain environment, Windows authentication uses the Kerberos protocol to authenticate and authorize users.</span></span> <span data-ttu-id="495d2-142">Si le protocole Kerberos ne peut pas être utilisé pour quelque raison que ce soit, l'authentification NTLM (NT LAN Manager) est utilisée en guise de secours.</span><span class="sxs-lookup"><span data-stu-id="495d2-142">If the Kerberos protocol cannot be used for some reason, NT LAN Manager (NTLM) is used as a fallback.</span></span> <span data-ttu-id="495d2-143">Vous pouvez désactiver ce comportement en attribuant à la propriété <xref:System.ServiceModel.Security.WindowsClientCredential.AllowNtlm%2A> la valeur `false`.</span><span class="sxs-lookup"><span data-stu-id="495d2-143">You can disable this behavior by setting the <xref:System.ServiceModel.Security.WindowsClientCredential.AllowNtlm%2A> property to `false`.</span></span> <span data-ttu-id="495d2-144">Sachez que l'activation de NTLM entraîne les problèmes suivants :</span><span class="sxs-lookup"><span data-stu-id="495d2-144">Issues to be aware of when allowing NTLM include:</span></span>

- <span data-ttu-id="495d2-145">NTLM expose le nom d'utilisateur du client.</span><span class="sxs-lookup"><span data-stu-id="495d2-145">NTLM exposes the client user name.</span></span> <span data-ttu-id="495d2-146">Si le nom d’utilisateur doit rester confidentiel, affectez `AllowNTLM` à la propriété `false` sur la liaison.</span><span class="sxs-lookup"><span data-stu-id="495d2-146">If the user name needs to be kept confidential, then set the `AllowNTLM` property on the binding to `false`.</span></span>

- <span data-ttu-id="495d2-147">NTLM n'assure pas l'authentification du serveur.</span><span class="sxs-lookup"><span data-stu-id="495d2-147">NTLM does not provide server authentication.</span></span> <span data-ttu-id="495d2-148">Par conséquent, le client ne peut pas vérifier qu'il communique avec le bon service lorsque vous utilisez le protocole d'authentification NTLM.</span><span class="sxs-lookup"><span data-stu-id="495d2-148">Therefore, the client cannot ensure that it is communicating with the right service when you use NTLM as an authentication protocol.</span></span>

### <a name="specifying-client-credentials-or-invalid-identity-forces-ntlm-usage"></a><span data-ttu-id="495d2-149">Spécification des informations d'identification du client ou utilisation forcée de NTLM sur une identité non valide</span><span class="sxs-lookup"><span data-stu-id="495d2-149">Specifying Client Credentials or Invalid Identity Forces NTLM Usage</span></span>

<span data-ttu-id="495d2-150">Lorsque vous créez un client, le fait de spécifier des informations d'identification du client sans un nom de domaine ou de spécifier une identité de serveur non valide provoque l'utilisation de NTLM au lieu du protocole Kerberos (si la propriété `AllowNtlm` a la valeur `true`).</span><span class="sxs-lookup"><span data-stu-id="495d2-150">When creating a client, specifying client credentials without a domain name, or specifying an invalid server identity, causes NTLM to be used instead of the Kerberos protocol (if the `AllowNtlm` property is set to `true`).</span></span> <span data-ttu-id="495d2-151">Vu que NTLM ne procède pas à l'authentification du serveur, les informations peuvent potentiellement être divulguées.</span><span class="sxs-lookup"><span data-stu-id="495d2-151">Because  NTLM does not do server authentication, information can potentially be disclosed.</span></span>

<span data-ttu-id="495d2-152">Par exemple, il est possible de spécifier des informations d’identification du client Windows sans un nom de domaine, comme indiqué dans le code Visual c# suivant.</span><span class="sxs-lookup"><span data-stu-id="495d2-152">For example, it is possible to specify Windows client credentials without a domain name, as shown in the following Visual C# code.</span></span>

```csharp
MyChannelFactory.Credentials.Windows.ClientCredential = new System.Net.NetworkCredential("username", "password");
```

<span data-ttu-id="495d2-153">Le code ne spécifie pas de nom de domaine, et par conséquent, NTLM sera utilisé.</span><span class="sxs-lookup"><span data-stu-id="495d2-153">The code does not specify a domain name, and therefore NTLM will be used.</span></span>

<span data-ttu-id="495d2-154">Si le domaine est spécifié, mais qu’un nom de principal du service non valide est spécifié à l’aide de la fonctionnalité d’identité du point de terminaison, alors NTLM est utilisé.</span><span class="sxs-lookup"><span data-stu-id="495d2-154">If the domain is specified, but an invalid service principal name is specified using the endpoint identity feature, then NTLM is used.</span></span> <span data-ttu-id="495d2-155">Pour plus d’informations sur la façon dont l’identité du point de terminaison est spécifiée, consultez [identité de Service et d’authentification](../../../../docs/framework/wcf/feature-details/service-identity-and-authentication.md).</span><span class="sxs-lookup"><span data-stu-id="495d2-155">For more information about how endpoint identity is specified, see [Service Identity and Authentication](../../../../docs/framework/wcf/feature-details/service-identity-and-authentication.md).</span></span>

## <a name="see-also"></a><span data-ttu-id="495d2-156">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="495d2-156">See also</span></span>

- [<span data-ttu-id="495d2-157">Considérations relatives à la sécurité</span><span class="sxs-lookup"><span data-stu-id="495d2-157">Security Considerations</span></span>](../../../../docs/framework/wcf/feature-details/security-considerations-in-wcf.md)
- [<span data-ttu-id="495d2-158">Élévation de privilèges</span><span class="sxs-lookup"><span data-stu-id="495d2-158">Elevation of Privilege</span></span>](../../../../docs/framework/wcf/feature-details/elevation-of-privilege.md)
- [<span data-ttu-id="495d2-159">Déni de service</span><span class="sxs-lookup"><span data-stu-id="495d2-159">Denial of Service</span></span>](../../../../docs/framework/wcf/feature-details/denial-of-service.md)
- [<span data-ttu-id="495d2-160">Falsification</span><span class="sxs-lookup"><span data-stu-id="495d2-160">Tampering</span></span>](../../../../docs/framework/wcf/feature-details/tampering.md)
- [<span data-ttu-id="495d2-161">Scénarios non pris en charge</span><span class="sxs-lookup"><span data-stu-id="495d2-161">Unsupported Scenarios</span></span>](../../../../docs/framework/wcf/feature-details/unsupported-scenarios.md)
- [<span data-ttu-id="495d2-162">Attaques par relecture</span><span class="sxs-lookup"><span data-stu-id="495d2-162">Replay Attacks</span></span>](../../../../docs/framework/wcf/feature-details/replay-attacks.md)
