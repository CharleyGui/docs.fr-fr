---
title: Fonctionnalités fournies par System.Transactions
description: Passez en revue les fonctionnalités fournies par l’espace de noms System. transactions dans .NET pour écrire votre propre application de transaction et Resource Manager.
ms.date: 03/30/2017
ms.assetid: e458cef9-63b5-4401-b448-1536dcd9d9e5
ms.openlocfilehash: 0278e9248305572c6156c6500f1fe51a8b3f3338
ms.sourcegitcommit: 6219b1e1feccb16d88656444210fed3297f5611e
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 06/22/2020
ms.locfileid: "85141860"
---
# <a name="features-provided-by-systemtransactions"></a><span data-ttu-id="ac0d7-103">Fonctionnalités fournies par System.Transactions</span><span class="sxs-lookup"><span data-stu-id="ac0d7-103">Features Provided by System.Transactions</span></span>
<span data-ttu-id="ac0d7-104">Cette section explique comment utiliser les fonctions fournies par l'espace de noms <xref:System.Transactions> pour écrire votre propre application transactionnelle et votre gestionnaire de ressources.</span><span class="sxs-lookup"><span data-stu-id="ac0d7-104">This section describes how you can use the features provided by the <xref:System.Transactions> namespace to write your own transactional application and resource manager.</span></span> <span data-ttu-id="ac0d7-105">Plus précisément, cette section explique comment créer et participer à une transaction (locale ou distribuée) avec un ou plusieurs participants.</span><span class="sxs-lookup"><span data-stu-id="ac0d7-105">Specifically, this section covers how to create and participate in a transaction (local or distributed) with one or multiple participants.</span></span>  
  
## <a name="overview-of-systemtransactions"></a><span data-ttu-id="ac0d7-106">Vue d'ensemble de System.Transactions</span><span class="sxs-lookup"><span data-stu-id="ac0d7-106">Overview of System.Transactions</span></span>  
 <span data-ttu-id="ac0d7-107">L'infrastructure fournie par les classes de l'espace de noms <xref:System.Transactions> rend la programmation transactionnelle simple et efficace, grâce à la prise en charge des transactions initiées dans SQL Server, ADO.NET, Message Queuing (MSMQ) et MSDTC (Microsoft Distributed Transaction Coordinator).</span><span class="sxs-lookup"><span data-stu-id="ac0d7-107">The infrastructure provided by the classes in the <xref:System.Transactions> namespace makes transactional programming simple and efficient by supporting transactions initiated in SQL Server, ADO.NET, Message Queuing (MSMQ), and the Microsoft Distributed Transaction Coordinator (MSDTC).</span></span> <span data-ttu-id="ac0d7-108">L’espace de noms <xref:System.Transactions> fournit à la fois un modèle de programmation explicite basé sur la classe <xref:System.Transactions.Transaction> et un modèle de programmation implicite utilisant la classe <xref:System.Transactions.TransactionScope>, dans lequel les transactions sont gérées automatiquement par l’infrastructure.</span><span class="sxs-lookup"><span data-stu-id="ac0d7-108">The <xref:System.Transactions> namespace provides both an explicit programming model based on the <xref:System.Transactions.Transaction> class, as well as an implicit programming model using the <xref:System.Transactions.TransactionScope> class, in which transactions are automatically managed by the infrastructure.</span></span> <span data-ttu-id="ac0d7-109">Pour plus d’informations sur la création d’une application transactionnelle à l’aide de ces deux modèles, consultez [écriture d’une application transactionnelle](writing-a-transactional-application.md).</span><span class="sxs-lookup"><span data-stu-id="ac0d7-109">For more information on how to create a transactional application using these two models, see [Writing a Transactional Application](writing-a-transactional-application.md).</span></span>  
  
 <span data-ttu-id="ac0d7-110">L'espace de noms <xref:System.Transactions> fournit également des types vous permettant d'implémenter un gestionnaire de ressources.</span><span class="sxs-lookup"><span data-stu-id="ac0d7-110">The <xref:System.Transactions> namespace also provides types for you to implement a resource manager.</span></span> <span data-ttu-id="ac0d7-111">Un gestionnaire de ressources gère les données durables ou volatiles utilisées dans une transaction et travaille en collaboration avec le gestionnaire de transactions pour garantir l'atomicité et l'isolation de l'application.</span><span class="sxs-lookup"><span data-stu-id="ac0d7-111">A resource manager manages durable or volatile data used in a transaction, and work in cooperation with the transaction manager to provide the application with a guarantee of atomicity and isolation.</span></span> <span data-ttu-id="ac0d7-112">Le gestionnaire de transactions fourni par l'infrastructure <xref:System.Transactions> prend en charge les transactions impliquant plusieurs ressources volatiles ou une ressource durable unique.</span><span class="sxs-lookup"><span data-stu-id="ac0d7-112">The transaction manager that is provided by the <xref:System.Transactions> infrastructure supports transactions involving multiple volatile resources or a single durable resource.</span></span> <span data-ttu-id="ac0d7-113">Pour plus d’informations sur l’implémentation d’un gestionnaire de ressources, consultez [implémentation d’un gestionnaire des ressources](implementing-a-resource-manager.md).</span><span class="sxs-lookup"><span data-stu-id="ac0d7-113">For more information on implementing a resource manager, see [Implementing a Resource Manager](implementing-a-resource-manager.md).</span></span>  
  
 <span data-ttu-id="ac0d7-114">Le gestionnaire de transactions fait également remonter de façon transparente les transactions locales vers les transactions distribuées en s'associant avec un gestionnaire de transactions basé sur un disque, tel que le DTC, lorsqu'un gestionnaire de ressources durables supplémentaire s'inscrit à une transaction.</span><span class="sxs-lookup"><span data-stu-id="ac0d7-114">The transaction manager also transparently escalates local transactions to distributed transactions by coordinating with a disk-based transaction manager like the DTC, when an additional durable resource manager enlists itself with a transaction.</span></span> <span data-ttu-id="ac0d7-115">L'infrastructure <xref:System.Transactions> offre deux façons principales d'obtenir des performances améliorées.</span><span class="sxs-lookup"><span data-stu-id="ac0d7-115">There are two key ways that the <xref:System.Transactions> infrastructure provides enhanced performance.</span></span>  
  
- <span data-ttu-id="ac0d7-116">La remontée dynamique, qui garantit que l'infrastructure <xref:System.Transactions> n'engage le MSDTC que lorsqu'une transaction s'étend sur plusieurs ressources distribuées.</span><span class="sxs-lookup"><span data-stu-id="ac0d7-116">Dynamic Escalation, which ensures that the <xref:System.Transactions> infrastructure only engages the MSDTC when a transaction spans across multiple distributed resources.</span></span> <span data-ttu-id="ac0d7-117">Pour plus d'informations sur la remontée dynamique.</span><span class="sxs-lookup"><span data-stu-id="ac0d7-117">For more information about dynamic escalation.</span></span> <span data-ttu-id="ac0d7-118">consultez la rubrique [remontée](transaction-management-escalation.md) de la gestion des transactions.</span><span class="sxs-lookup"><span data-stu-id="ac0d7-118">see [Transaction Management Escalation](transaction-management-escalation.md) topic.</span></span>  
  
- <span data-ttu-id="ac0d7-119">Les inscriptions pouvant être promues, qui permettent à une ressource, telle qu’une base de données, de prendre possession de la transaction, s’il s’agit de la seule entité participant à la transaction.</span><span class="sxs-lookup"><span data-stu-id="ac0d7-119">Promotable Enlistments, which allows a resource, such as a database, to take ownership of the transaction if it is the only entity participating in the transaction.</span></span> <span data-ttu-id="ac0d7-120">Ensuite, si nécessaire, l'infrastructure <xref:System.Transactions> peut remonter la gestion de la transaction vers le MSDTC.</span><span class="sxs-lookup"><span data-stu-id="ac0d7-120">Later, if needed, the <xref:System.Transactions> infrastructure can still escalate the management of the transaction to the MSDTC.</span></span> <span data-ttu-id="ac0d7-121">Cela réduit encore la nécessité d'utiliser le MSDTC.</span><span class="sxs-lookup"><span data-stu-id="ac0d7-121">This further reduces the chance of using the MSDTC.</span></span> <span data-ttu-id="ac0d7-122">Les inscriptions pouvant être promues sont traitées en détail dans la rubrique[optimisation à l’aide de la validation à phase unique et de la notification de phase unique pouvant être promue](optimization-spc-and-promotable-spn.md).</span><span class="sxs-lookup"><span data-stu-id="ac0d7-122">Promotable Enlistments are covered in depth in the topic[Optimization using Single Phase Commit and Promotable Single Phase Notification](optimization-spc-and-promotable-spn.md).</span></span>  
  
 <span data-ttu-id="ac0d7-123">L'espace de noms <xref:System.Transactions> définit trois niveaux de confiance (AllowPartiallyTrustedCallers (APTCA), DistributedTransactionPermission (DTP) et confiance totale) qui permettent de restreindre l'accès aux types de ressources qu'il expose.</span><span class="sxs-lookup"><span data-stu-id="ac0d7-123">The <xref:System.Transactions> namespace defines three levels of trust - AllowPartiallyTrustedCallers (APTCA), DistributedTransactionPermission(DTP) and full trust - that restrict access to the types of resources it exposes.</span></span> <span data-ttu-id="ac0d7-124">Pour plus d’informations sur les différents niveaux de confiance, consultez [niveaux de confiance de sécurité dans accès aux ressources](security-trust-levels-in-accessing-resources.md).</span><span class="sxs-lookup"><span data-stu-id="ac0d7-124">For more information on the various trust levels, see [Security Trust Levels in Accessing Resources](security-trust-levels-in-accessing-resources.md).</span></span>  
  
## <a name="in-this-section"></a><span data-ttu-id="ac0d7-125">Dans cette section</span><span class="sxs-lookup"><span data-stu-id="ac0d7-125">In this section</span></span>  
  
### <a name="writing-a-transactional-application"></a><span data-ttu-id="ac0d7-126">Écriture d'une application transactionnelle</span><span class="sxs-lookup"><span data-stu-id="ac0d7-126">Writing A Transactional Application</span></span>  
 <span data-ttu-id="ac0d7-127">L'espace de noms <xref:System.Transactions> fournit deux modèles de création d'applications transactionnelles.</span><span class="sxs-lookup"><span data-stu-id="ac0d7-127">The <xref:System.Transactions> namespace provides two models for creating transactional applications.</span></span> <span data-ttu-id="ac0d7-128">L' [implémentation d’une transaction implicite à l’aide de la portée transaction](implementing-an-implicit-transaction-using-transaction-scope.md) décrit comment l' <xref:System.Transactions> espace de noms prend en charge la création de transactions implicites à l’aide de <xref:System.Transactions.TransactionScope></span><span class="sxs-lookup"><span data-stu-id="ac0d7-128">[Implementing an Implicit Transaction using Transaction Scope](implementing-an-implicit-transaction-using-transaction-scope.md) describes how the <xref:System.Transactions> namespace supports creating implicit transactions using the <xref:System.Transactions.TransactionScope> class.</span></span>  
  
 <span data-ttu-id="ac0d7-129">L' [implémentation d’une transaction explicite avec CommittableTransaction](implementing-an-explicit-transaction-using-committabletransaction.md) décrit comment l' <xref:System.Transactions> espace de noms prend en charge la création de transactions explicites à l’aide de la <xref:System.Transactions.CommittableTransaction> classe.</span><span class="sxs-lookup"><span data-stu-id="ac0d7-129">[Implementing an Explicit Transaction using CommittableTransaction](implementing-an-explicit-transaction-using-committabletransaction.md) describes how the <xref:System.Transactions> namespace supports creating explicit transactions using the <xref:System.Transactions.CommittableTransaction> class.</span></span>  
  
 <span data-ttu-id="ac0d7-130">Pour obtenir des rubriques supplémentaires couvrant l’écriture d’une application transactionnelle, consultez [écriture d’une application transactionnelle](writing-a-transactional-application.md).</span><span class="sxs-lookup"><span data-stu-id="ac0d7-130">For additional topics covering writing a transactional application, see [Writing a Transactional Application](writing-a-transactional-application.md).</span></span>  
  
### <a name="implementing-a-resource-manager"></a><span data-ttu-id="ac0d7-131">Implémentation d'un gestionnaire des ressources</span><span class="sxs-lookup"><span data-stu-id="ac0d7-131">Implementing A Resource Manager</span></span>  
 <span data-ttu-id="ac0d7-132">Pour implémenter un gestionnaire de ressources qui peut participer à une transaction, consultez [implémentation d’un gestionnaire des ressources](implementing-a-resource-manager.md).</span><span class="sxs-lookup"><span data-stu-id="ac0d7-132">To implement a resource manager that can participate in a transaction, see [Implementing a Resource Manager](implementing-a-resource-manager.md).</span></span> <span data-ttu-id="ac0d7-133">Cette section traite de l'inscription d'une ressource, de la validation d'une transaction, de la récupération après défaillance et des meilleures pratiques d'optimisation.</span><span class="sxs-lookup"><span data-stu-id="ac0d7-133">This section covers the enlistment of a resource, committing a transaction, recovery after failure, and optimization best practices.</span></span>
