---
title: 'Comment : personnaliser les flux avec le fournisseur Entity Framework (services de données WCF)'
ms.date: 03/30/2017
helpviewer_keywords:
- WCF Data Services, customizing
- WCF Data Services, customizing feeds
ms.assetid: fd16272e-36f2-415e-850e-8a81f2b17525
ms.openlocfilehash: 76cc8da052ee51157857418cd81088a523f95ea2
ms.sourcegitcommit: 5b475c1855b32cf78d2d1bbb4295e4c236f39464
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 09/24/2020
ms.locfileid: "91186589"
---
# <a name="how-to-customize-feeds-with-the-entity-framework-provider-wcf-data-services"></a><span data-ttu-id="27fa7-102">Comment : personnaliser les flux avec le fournisseur Entity Framework (services de données WCF)</span><span class="sxs-lookup"><span data-stu-id="27fa7-102">How to: Customize Feeds with the Entity Framework Provider (WCF Data Services)</span></span>

<span data-ttu-id="27fa7-103">WCF Data Services vous permet de personnaliser la sérialisation Atom dans une réponse du service de données afin que les propriétés d’une entité puissent être mappées aux éléments inutilisés définis dans le protocole AtomPub.</span><span class="sxs-lookup"><span data-stu-id="27fa7-103">WCF Data Services enables you to customize the Atom serialization in a data service response so that properties of an entity may be mapped to unused elements that are defined in the AtomPub protocol.</span></span> <span data-ttu-id="27fa7-104">Cette rubrique montre comment définir des attributs de mappage pour les types d’entité dans un modèle de données défini dans un fichier .edmx à l’aide du fournisseur Entity Framework.</span><span class="sxs-lookup"><span data-stu-id="27fa7-104">This topic shows how to define mapping attributes for the entity types in a data model that is defined in an .edmx file by using the Entity Framework provider.</span></span> <span data-ttu-id="27fa7-105">Pour plus d’informations, consultez [Personnalisation des flux](feed-customization-wcf-data-services.md).</span><span class="sxs-lookup"><span data-stu-id="27fa7-105">For more information, see [Feed Customization](feed-customization-wcf-data-services.md).</span></span>  
  
 <span data-ttu-id="27fa7-106">Dans cette rubrique vous modifierez manuellement le fichier .edmx généré par un outil qui contient le modèle de données.</span><span class="sxs-lookup"><span data-stu-id="27fa7-106">In this topic you will manually modify the tool-generated .edmx file that contains the data model.</span></span> <span data-ttu-id="27fa7-107">Vous devez modifier manuellement le fichier car les extensions vers le modèle de données ne sont pas prises en charge par le Concepteur d'entités.</span><span class="sxs-lookup"><span data-stu-id="27fa7-107">You must manually modify the file because extensions to the data model are not supported by the Entity Designer.</span></span> <span data-ttu-id="27fa7-108">Pour plus d’informations sur le fichier. edmx généré par les outils de Entity Data Model, consultez [vue d’ensemble du fichier. edmx (Entity Framework)](/previous-versions/dotnet/netframework-4.0/cc982042(v=vs.100)).</span><span class="sxs-lookup"><span data-stu-id="27fa7-108">For more information about the .edmx file that the Entity Data Model tools generate, see [.edmx File Overview (Entity Framework)](/previous-versions/dotnet/netframework-4.0/cc982042(v=vs.100)).</span></span> <span data-ttu-id="27fa7-109">L'exemple dans cette rubrique utilise l'exemple de service de données Northwind et des classes de service de données clientes générées automatiquement.</span><span class="sxs-lookup"><span data-stu-id="27fa7-109">The example in this topic uses the Northwind sample data service and autogenerated client data service classes.</span></span> <span data-ttu-id="27fa7-110">Ce service et les classes de données clientes sont créés lorsque vous terminez le [démarrage rapide WCF Data Services](quickstart-wcf-data-services.md).</span><span class="sxs-lookup"><span data-stu-id="27fa7-110">This service and the client data classes are created when you complete the [WCF Data Services quickstart](quickstart-wcf-data-services.md).</span></span>  
  
### <a name="to-manually-modify-the-northwindedmx-file-to-add-feed-customization-attributes"></a><span data-ttu-id="27fa7-111">Pour modifier manuellement le fichier Northwind.edmx pour ajouter des attributs de personnalisation de flux</span><span class="sxs-lookup"><span data-stu-id="27fa7-111">To manually modify the Northwind.edmx file to add feed customization attributes</span></span>  
  
1. <span data-ttu-id="27fa7-112">Dans **Explorateur de solutions**, cliquez avec le bouton droit sur le `Northwind.edmx` fichier, puis cliquez sur **Ouvrir avec**.</span><span class="sxs-lookup"><span data-stu-id="27fa7-112">In **Solution Explorer**, right-click the `Northwind.edmx` file, and then click **Open with**.</span></span>  
  
2. <span data-ttu-id="27fa7-113">Dans la boîte de dialogue **Ouvrir avec-Northwind. edmx** , sélectionnez **éditeur XML**, puis cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="27fa7-113">In the **Open With - Northwind.edmx** dialog box, select **XML Editor**, and then click **OK**.</span></span>  
  
3. <span data-ttu-id="27fa7-114">Localisez l'élément `ConceptualModels` et remplacez le type d'entité `Customers` existant par l'élément suivant qui contient des attributs de mappage de personnalisation de flux :</span><span class="sxs-lookup"><span data-stu-id="27fa7-114">Locate the `ConceptualModels` element and replace the existing `Customers` entity type with the following element that contains feed customization mapping attributes:</span></span>  
  
     [!code-xml[Astoria Custom Feeds#EdmFeedCustomers](../../../../samples/snippets/xml/VS_Snippets_Misc/astoria_custom_feeds/xml/northwind.csdl#edmfeedcustomers)]  
  
4. <span data-ttu-id="27fa7-115">Enregistrez les modifications et fermez le fichier Northwind.edmx.</span><span class="sxs-lookup"><span data-stu-id="27fa7-115">Save changes and close the Northwind.edmx file.</span></span>  
  
5. <span data-ttu-id="27fa7-116">Facultatif Cliquez avec le bouton droit sur le fichier Northwind. edmx, puis cliquez sur **exécuter un outil personnalisé**.</span><span class="sxs-lookup"><span data-stu-id="27fa7-116">(Optional) Right-click the Northwind.edmx file and then click **Run Custom Tool**.</span></span>  
  
     <span data-ttu-id="27fa7-117">Cette opération régénère le fichier de couche objet qui peut être obligatoire.</span><span class="sxs-lookup"><span data-stu-id="27fa7-117">This regenerates the object layer file, which may be required.</span></span>  
  
6. <span data-ttu-id="27fa7-118">Recompilez le projet.</span><span class="sxs-lookup"><span data-stu-id="27fa7-118">Recompile the project.</span></span>  
  
## <a name="example"></a><span data-ttu-id="27fa7-119">Exemple</span><span class="sxs-lookup"><span data-stu-id="27fa7-119">Example</span></span>  

 <span data-ttu-id="27fa7-120">L'exemple précédent retourne le résultat suivant pour l'URI `http://myservice/Northwind.svc/Customers('ALFKI')`.</span><span class="sxs-lookup"><span data-stu-id="27fa7-120">The previous example returns the following result for the URI `http://myservice/Northwind.svc/Customers('ALFKI')`.</span></span>  
  
 [!code-xml[Astoria Custom Feeds#EdmFeedResult](../../../../samples/snippets/xml/VS_Snippets_Misc/astoria_custom_feeds/xml/edmfeedresult.xml#edmfeedresult)]  
  
## <a name="see-also"></a><span data-ttu-id="27fa7-121">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="27fa7-121">See also</span></span>

- [<span data-ttu-id="27fa7-122">Fournisseur Entity Framework</span><span class="sxs-lookup"><span data-stu-id="27fa7-122">Entity Framework Provider</span></span>](entity-framework-provider-wcf-data-services.md)
