---
title: Contrôle de version d'un service de données (WCF Data Services)
ms.date: 03/30/2017
helpviewer_keywords:
- versioning, WCF Data Services
- versioning [WCF Data Services]
- WCF Data Services, versioning
ms.assetid: e3e899cc-7f25-4f67-958f-063f01f79766
ms.openlocfilehash: 341cd8e21b84b220236947bca50311e5a1a75c72
ms.sourcegitcommit: 30a558d23e3ac5a52071121a52c305c85fe15726
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 12/25/2019
ms.locfileid: "75346125"
---
# <a name="data-service-versioning-wcf-data-services"></a><span data-ttu-id="c7828-102">Contrôle de version d'un service de données (WCF Data Services)</span><span class="sxs-lookup"><span data-stu-id="c7828-102">Data Service Versioning (WCF Data Services)</span></span>
<span data-ttu-id="c7828-103">Le Open Data Protocol (OData) vous permet de créer des services de données afin que les clients puissent accéder aux données en tant que ressources à l’aide d’URI basés sur un modèle de données.</span><span class="sxs-lookup"><span data-stu-id="c7828-103">The Open Data Protocol (OData) enables you to create data services so that clients can access data as resources using URIs that are based on a data model.</span></span> <span data-ttu-id="c7828-104">OData prend également en charge la définition d’opérations de service.</span><span class="sxs-lookup"><span data-stu-id="c7828-104">OData also supports the definition of service operations.</span></span> <span data-ttu-id="c7828-105">Après leur déploiement initial, et potentiellement plusieurs fois pendant leur durée de vie, il peut s’avérer nécessaire de modifier ces services de données pour diverses raisons, telles que l’évolution des besoins de l’entreprise, des exigences informatiques, ou pour résoudre d’autres problèmes.</span><span class="sxs-lookup"><span data-stu-id="c7828-105">After initial deployment, and potentially several times during their lifetime, these data services may need to be changed for a variety of reasons, such as changing business needs, information technology requirements, or to address other issues.</span></span> <span data-ttu-id="c7828-106">Lorsque vous apportez des modifications à un service de données existant, vous devez choisir de définir une nouvelle version de votre service de données et comment mieux réduire l'impact sur les applications clientes existantes.</span><span class="sxs-lookup"><span data-stu-id="c7828-106">When you make changes to an existing data service, you must consider whether to define a new version of your data service and how best to minimize the impact on existing client applications.</span></span> <span data-ttu-id="c7828-107">Cette rubrique fournit des conseils sur le moment et la façon de créer une nouvelle version d'un service de données.</span><span class="sxs-lookup"><span data-stu-id="c7828-107">This topic provides guidance on when and how to create a new version of a data service.</span></span> <span data-ttu-id="c7828-108">Elle explique également comment WCF Data Services gère un échange entre les clients et les services de données qui prennent en charge différentes versions du protocole OData.</span><span class="sxs-lookup"><span data-stu-id="c7828-108">It also describes how WCF Data Services handles an exchange between clients and data services that support different versions of the OData protocol.</span></span>

## <a name="versioning-a-wcf-data-service"></a><span data-ttu-id="c7828-109">Contrôle de version d'un service de données WCF</span><span class="sxs-lookup"><span data-stu-id="c7828-109">Versioning a WCF Data Service</span></span>
 <span data-ttu-id="c7828-110">Lorsqu'un service de données est déployé et que les données sont en cours de consommation, le service de données peut provoquer des problèmes de compatibilité avec les applications clientes existantes.</span><span class="sxs-lookup"><span data-stu-id="c7828-110">Once a data service is deployed and the data is being consumed, changes to the data service have the potential to cause compatibility issues with existing client applications.</span></span> <span data-ttu-id="c7828-111">Toutefois, étant donné que les modifications sont souvent requises par les exigences opérationnelles globales du service, vous devez déterminer quand et comment créer une nouvelle version de votre service de données avec le moins d'impact possible sur les applications clientes.</span><span class="sxs-lookup"><span data-stu-id="c7828-111">However, because changes are often required by the overall business needs of the service, you must consider when and how to create a new version of your data service with the least impact on client applications.</span></span>

### <a name="data-model-changes-that-recommend-a-new-data-service-version"></a><span data-ttu-id="c7828-112">Modifications du modèle de données qui recommandent une nouvelle version de service de données</span><span class="sxs-lookup"><span data-stu-id="c7828-112">Data Model Changes that Recommend a New Data Service Version</span></span>
 <span data-ttu-id="c7828-113">Au moment de choisir de publier ou non une nouvelle version d'un service de données, il est important de comprendre comment les différents types de modifications peuvent affecter les applications clientes.</span><span class="sxs-lookup"><span data-stu-id="c7828-113">When considering whether to publish a new version of a data service, it is important to understand how the different kinds of changes may affect client applications.</span></span> <span data-ttu-id="c7828-114">Les modifications apportées à un service de données pouvant nécessiter la création d'une nouvelle version de service de données, appartiennent aux deux catégories suivantes :</span><span class="sxs-lookup"><span data-stu-id="c7828-114">Changes to a data service that might require you to create a new version of a data service can be divided into the following two categories:</span></span>

- <span data-ttu-id="c7828-115">Modifications apportées au contrat de service, incluant les mises à jour des opérations de service, les modifications de l'accessibilité des jeux d'entités (flux), les modifications de version et d'autres modifications apportées aux comportements de service.</span><span class="sxs-lookup"><span data-stu-id="c7828-115">Changes to the service contract—which include updates to service operations, changes to the accessibility of entity sets (feeds), version changes, and other changes to service behaviors.</span></span>

- <span data-ttu-id="c7828-116">Modifications apportées au contrat de données, incluant les modifications apportées au modèle de données, aux formats de flux ou aux personnalisations de flux.</span><span class="sxs-lookup"><span data-stu-id="c7828-116">Changes to the data contract—which include changes to the data model, feed formats, or feed customizations.</span></span>

 <span data-ttu-id="c7828-117">Le tableau suivant contient les types de modifications pour lesquelles vous devez envisager de publier une nouvelle version du service de données :</span><span class="sxs-lookup"><span data-stu-id="c7828-117">The following table details for which kinds of changes you should consider publishing a new version of the data service:</span></span>

|<span data-ttu-id="c7828-118">Type de modification</span><span class="sxs-lookup"><span data-stu-id="c7828-118">Type of Change</span></span>|<span data-ttu-id="c7828-119">Requiert une nouvelle version</span><span class="sxs-lookup"><span data-stu-id="c7828-119">Requires a new version</span></span>|<span data-ttu-id="c7828-120">Nouvelle version inutile</span><span class="sxs-lookup"><span data-stu-id="c7828-120">New version not needed</span></span>|
|--------------------|----------------------------|----------------------------|
|<span data-ttu-id="c7828-121">Opérations de service</span><span class="sxs-lookup"><span data-stu-id="c7828-121">Service operations</span></span>|<span data-ttu-id="c7828-122">-Ajouter un nouveau paramètre</span><span class="sxs-lookup"><span data-stu-id="c7828-122">-   Add new parameter</span></span><br /><span data-ttu-id="c7828-123">-Modifier le type de retour</span><span class="sxs-lookup"><span data-stu-id="c7828-123">-   Change return type</span></span><br /><span data-ttu-id="c7828-124">-Supprimer l’opération de service</span><span class="sxs-lookup"><span data-stu-id="c7828-124">-   Remove service operation</span></span>|<span data-ttu-id="c7828-125">-Supprimer un paramètre existant</span><span class="sxs-lookup"><span data-stu-id="c7828-125">-   Delete existing parameter</span></span><br /><span data-ttu-id="c7828-126">-Ajouter une nouvelle opération de service</span><span class="sxs-lookup"><span data-stu-id="c7828-126">-   Add new service operation</span></span>|
|<span data-ttu-id="c7828-127">Comportements de service</span><span class="sxs-lookup"><span data-stu-id="c7828-127">Service behaviors</span></span>|<span data-ttu-id="c7828-128">-Désactiver les demandes de nombre</span><span class="sxs-lookup"><span data-stu-id="c7828-128">-   Disable count requests</span></span><br /><span data-ttu-id="c7828-129">-Désactiver la prise en charge de la projection</span><span class="sxs-lookup"><span data-stu-id="c7828-129">-   Disable projection support</span></span><br /><span data-ttu-id="c7828-130">-Augmenter la version du service de données requis</span><span class="sxs-lookup"><span data-stu-id="c7828-130">-   Increase the required data service version</span></span>|<span data-ttu-id="c7828-131">-Activer les demandes de nombre</span><span class="sxs-lookup"><span data-stu-id="c7828-131">-   Enable count requests</span></span><br /><span data-ttu-id="c7828-132">-Activer la prise en charge de la projection</span><span class="sxs-lookup"><span data-stu-id="c7828-132">-   Enable projection support</span></span><br /><span data-ttu-id="c7828-133">-Diminuer la version du service de données requise</span><span class="sxs-lookup"><span data-stu-id="c7828-133">-   Decrease the required data service version</span></span>|
|<span data-ttu-id="c7828-134">Autorisations du jeu d'entités</span><span class="sxs-lookup"><span data-stu-id="c7828-134">Entity set permissions</span></span>|<span data-ttu-id="c7828-135">-Restreindre les autorisations du jeu d’entités</span><span class="sxs-lookup"><span data-stu-id="c7828-135">-   Restrict entity set permissions</span></span><br /><span data-ttu-id="c7828-136">-Modifier le code de réponse (nouvelle valeur du premier chiffre) <sup>1</sup></span><span class="sxs-lookup"><span data-stu-id="c7828-136">-   Change response code (new first digit value) <sup>1</sup></span></span>|<span data-ttu-id="c7828-137">-Assouplir les autorisations du jeu d’entités</span><span class="sxs-lookup"><span data-stu-id="c7828-137">-   Relax entity set permissions</span></span><br /><span data-ttu-id="c7828-138">-Modifier le code de réponse (même première valeur de chiffre)</span><span class="sxs-lookup"><span data-stu-id="c7828-138">-   Change response code (same first digit value)</span></span>|
|<span data-ttu-id="c7828-139">Propriétés d'entité</span><span class="sxs-lookup"><span data-stu-id="c7828-139">Entity properties</span></span>|<span data-ttu-id="c7828-140">-Supprimer la propriété ou la relation existante</span><span class="sxs-lookup"><span data-stu-id="c7828-140">-   Remove existing property or relationship</span></span><br /><span data-ttu-id="c7828-141">-Ajouter une propriété qui n’accepte pas les valeurs null</span><span class="sxs-lookup"><span data-stu-id="c7828-141">-   Add non-nullable property</span></span><br /><span data-ttu-id="c7828-142">-Modifier la propriété existante</span><span class="sxs-lookup"><span data-stu-id="c7828-142">-   Change existing property</span></span>|<span data-ttu-id="c7828-143">-Ajouter la propriété Nullable<sup>2</sup></span><span class="sxs-lookup"><span data-stu-id="c7828-143">-   Add nullable property<sup>2</sup></span></span>|
|<span data-ttu-id="c7828-144">Jeux d'entités</span><span class="sxs-lookup"><span data-stu-id="c7828-144">Entity sets</span></span>|<span data-ttu-id="c7828-145">-Supprimer le jeu d’entités</span><span class="sxs-lookup"><span data-stu-id="c7828-145">-   Remove entity set</span></span>|<span data-ttu-id="c7828-146">-Ajouter un type dérivé</span><span class="sxs-lookup"><span data-stu-id="c7828-146">-   Add derived type</span></span><br /><span data-ttu-id="c7828-147">-Modifier le type de base</span><span class="sxs-lookup"><span data-stu-id="c7828-147">-   Change base type</span></span><br /><span data-ttu-id="c7828-148">-Ajouter un jeu d’entités</span><span class="sxs-lookup"><span data-stu-id="c7828-148">-   Add entity set</span></span>|
|<span data-ttu-id="c7828-149">Personnalisation de flux</span><span class="sxs-lookup"><span data-stu-id="c7828-149">Feed customization</span></span>|<span data-ttu-id="c7828-150">-Modifier le mappage d’entité-propriété</span><span class="sxs-lookup"><span data-stu-id="c7828-150">-   Change entity-property mapping</span></span>||

 <span data-ttu-id="c7828-151"><sup>1</sup> cela peut dépendre de la façon dont une application cliente s’appuie sur la réception d’un code d’erreur spécifique.</span><span class="sxs-lookup"><span data-stu-id="c7828-151"><sup>1</sup> This may depend on how strictly a client application relies on receiving a specific error code.</span></span>

 <span data-ttu-id="c7828-152"><sup>2</sup> vous pouvez définir la propriété <xref:System.Data.Services.Client.DataServiceContext.IgnoreMissingProperties%2A> sur `true` pour que le client ignore toutes les nouvelles propriétés envoyées par le service de données qui ne sont pas définies sur le client.</span><span class="sxs-lookup"><span data-stu-id="c7828-152"><sup>2</sup> You can set the <xref:System.Data.Services.Client.DataServiceContext.IgnoreMissingProperties%2A> property to `true` to have the client ignore any new properties sent by the data service that are not defined on the client.</span></span> <span data-ttu-id="c7828-153">Toutefois, lorsque des insertions sont réalisées, les propriétés non incluses par le client dans la demande POST sont définies sur leurs valeurs par défaut.</span><span class="sxs-lookup"><span data-stu-id="c7828-153">However, when inserts are made, the properties not included by the client in the POST request are set to their default values.</span></span> <span data-ttu-id="c7828-154">Pour les mises à jour, toutes les données existantes dans une propriété inconnue du client peuvent être remplacées par les valeurs par défaut.</span><span class="sxs-lookup"><span data-stu-id="c7828-154">For updates, any existing data in a property unknown to the client might be overwritten with default values.</span></span> <span data-ttu-id="c7828-155">Dans ce cas, vous devez envoyer la mise à jour sous la forme d’une demande MERGE, qui est la valeur par défaut.</span><span class="sxs-lookup"><span data-stu-id="c7828-155">In this case, you should send the update as a MERGE request, which is the default.</span></span> <span data-ttu-id="c7828-156">Pour plus d’informations, consultez [gestion du contexte du service de données](managing-the-data-service-context-wcf-data-services.md).</span><span class="sxs-lookup"><span data-stu-id="c7828-156">For more information, see [Managing the Data Service Context](managing-the-data-service-context-wcf-data-services.md).</span></span>

### <a name="how-to-version-a-data-service"></a><span data-ttu-id="c7828-157">Procédure de versionnage d'un service de données</span><span class="sxs-lookup"><span data-stu-id="c7828-157">How to Version a Data Service</span></span>
 <span data-ttu-id="c7828-158">Si nécessaire, une nouvelle version de service de données est définie en créant une nouvelle instance du service avec un contrat de service ou un modèle de données mis à jour.</span><span class="sxs-lookup"><span data-stu-id="c7828-158">When required, a new data service version is defined by creating a new instance of the service with an updated service contract or data model.</span></span> <span data-ttu-id="c7828-159">Ce nouveau service est alors exposé à l'aide d'un nouveau point de terminaison d'URI, qui le distingue de la version antérieure.</span><span class="sxs-lookup"><span data-stu-id="c7828-159">This new service is then exposed by using a new URI endpoint, which differentiates it from the previous version.</span></span> <span data-ttu-id="c7828-160">Par exemple :</span><span class="sxs-lookup"><span data-stu-id="c7828-160">For example:</span></span>

- <span data-ttu-id="c7828-161">Ancienne version : `http://services.odata.org/Northwind/v1/Northwind.svc/`</span><span class="sxs-lookup"><span data-stu-id="c7828-161">Old version: `http://services.odata.org/Northwind/v1/Northwind.svc/`</span></span>

- <span data-ttu-id="c7828-162">Nouvelle version : `http://services.odata.org/Northwind/v2/Northwind.svc/`</span><span class="sxs-lookup"><span data-stu-id="c7828-162">New version: `http://services.odata.org/Northwind/v2/Northwind.svc/`</span></span>

 <span data-ttu-id="c7828-163">Lors de la mise à niveau d'un service de données, les clients doivent également être mis à jour en fonction des nouvelles métadonnées de service de données et utiliser le nouveau URI racine.</span><span class="sxs-lookup"><span data-stu-id="c7828-163">When upgrading a data service, clients will need to also be updated based on the new data service metadata and to use the new root URI.</span></span> <span data-ttu-id="c7828-164">Si possible, vous devez maintenir la version antérieure du service de données pour prendre en charge les clients qui n'ont pas encore été mis à niveau pour utiliser la nouvelle version.</span><span class="sxs-lookup"><span data-stu-id="c7828-164">When possible, you should maintain the previous version of the data service to support clients that have not yet been upgraded to use the new version.</span></span> <span data-ttu-id="c7828-165">Les versions antérieures d'un service de données peuvent être supprimées lorsqu'elles sont devenues inutiles.</span><span class="sxs-lookup"><span data-stu-id="c7828-165">Older versions of a data service can be removed when they are no longer needed.</span></span> <span data-ttu-id="c7828-166">Vous devez envisager de conserver l'URI de point de terminaison de service de données dans un fichier de configuration externe.</span><span class="sxs-lookup"><span data-stu-id="c7828-166">You should consider maintaining the data service endpoint URI in an external configuration file.</span></span>

## <a name="odata-protocol-versions"></a><span data-ttu-id="c7828-167">Versions du protocole OData</span><span class="sxs-lookup"><span data-stu-id="c7828-167">OData Protocol Versions</span></span>
 <span data-ttu-id="c7828-168">À mesure que de nouvelles versions d’OData sont publiées, les applications clientes peuvent ne pas utiliser la même version du protocole OData prise en charge par le service de données.</span><span class="sxs-lookup"><span data-stu-id="c7828-168">As new versions of OData are released, client applications may not be using the same version of the OData protocol that is supported by the data service.</span></span> <span data-ttu-id="c7828-169">Une application cliente plus ancienne peut accéder à un service de données qui prend en charge une version plus récente d’OData.</span><span class="sxs-lookup"><span data-stu-id="c7828-169">An older client application may access a data service that supports a newer version of OData.</span></span> <span data-ttu-id="c7828-170">Une application cliente peut également utiliser une version plus récente de la bibliothèque cliente WCF Data Services, qui prend en charge une version plus récente d’OData que le service de données qui fait l’objet d’un accès.</span><span class="sxs-lookup"><span data-stu-id="c7828-170">A client application may also be using a newer version of the WCF Data Services client library, which supports a newer version of OData than does the data service that is being accessed.</span></span>

 <span data-ttu-id="c7828-171">WCF Data Services tire parti de la prise en charge fournie par OData pour gérer de tels scénarios de contrôle de version.</span><span class="sxs-lookup"><span data-stu-id="c7828-171">WCF Data Services leverages the support provided by OData to handle such versioning scenarios.</span></span> <span data-ttu-id="c7828-172">Il existe également une prise en charge de la génération et de l’utilisation des métadonnées du modèle de données pour créer des classes de service de données client lorsque le client utilise une autre version d’OData que celle utilisée par le service de données.</span><span class="sxs-lookup"><span data-stu-id="c7828-172">There is also support for generating and using data model metadata to create client data service classes when the client uses a different version of OData than the data service uses.</span></span> <span data-ttu-id="c7828-173">Pour plus d’informations, consultez la section Protocol Versioning dans l’article [OData : Overview](https://www.odata.org/documentation/odata-version-2-0/overview/) .</span><span class="sxs-lookup"><span data-stu-id="c7828-173">For more information, see the Protocol Versioning section in the [OData: Overview](https://www.odata.org/documentation/odata-version-2-0/overview/) article.</span></span>

### <a name="version-negotiation"></a><span data-ttu-id="c7828-174">Négociation de version</span><span class="sxs-lookup"><span data-stu-id="c7828-174">Version Negotiation</span></span>
 <span data-ttu-id="c7828-175">Le service de données peut être configuré pour définir la version la plus récente du protocole OData qui sera utilisée par le service, quelle que soit la version demandée par le client.</span><span class="sxs-lookup"><span data-stu-id="c7828-175">The data service can be configured to define the highest version of the OData protocol that will be used by the service, regardless of the version requested by the client.</span></span> <span data-ttu-id="c7828-176">Pour ce faire, vous pouvez spécifier une valeur <xref:System.Data.Services.Common.DataServiceProtocolVersion> pour la propriété <xref:System.Data.Services.DataServiceBehavior.MaxProtocolVersion%2A> de la <xref:System.Data.Services.DataServiceBehavior> utilisée par le service de données.</span><span class="sxs-lookup"><span data-stu-id="c7828-176">You can do this by specifying a <xref:System.Data.Services.Common.DataServiceProtocolVersion> value for the <xref:System.Data.Services.DataServiceBehavior.MaxProtocolVersion%2A> property of the <xref:System.Data.Services.DataServiceBehavior> used by the data service.</span></span> <span data-ttu-id="c7828-177">Pour plus d’informations, consultez [configuration du service de données](configuring-the-data-service-wcf-data-services.md).</span><span class="sxs-lookup"><span data-stu-id="c7828-177">For more information, see [Configuring the Data Service](configuring-the-data-service-wcf-data-services.md).</span></span>

 <span data-ttu-id="c7828-178">Lorsqu’une application utilise les bibliothèques clientes WCF Data Services pour accéder à un service de données, les bibliothèques définissent automatiquement ces en-têtes sur les valeurs correctes, en fonction de la version d’OData et des fonctionnalités utilisées dans votre application.</span><span class="sxs-lookup"><span data-stu-id="c7828-178">When an application uses the WCF Data Services client libraries to access a data service, the libraries automatically set these headers to the correct values, depending on the version of OData and the features that are used in your application.</span></span> <span data-ttu-id="c7828-179">Par défaut, WCF Data Services utilise la version de protocole la plus basse qui prend en charge l’opération demandée.</span><span class="sxs-lookup"><span data-stu-id="c7828-179">By default, WCF Data Services uses the lowest protocol version that supports the requested operation.</span></span>

 <span data-ttu-id="c7828-180">Le tableau suivant détaille les versions de .NET Framework et Silverlight qui incluent la prise en charge WCF Data Services pour des versions spécifiques du protocole OData.</span><span class="sxs-lookup"><span data-stu-id="c7828-180">The following table details the versions of .NET Framework and Silverlight that include WCF Data Services support for specific versions of the OData protocol.</span></span>

|<span data-ttu-id="c7828-181">Version du protocole OData</span><span class="sxs-lookup"><span data-stu-id="c7828-181">OData Protocol Version</span></span>|<span data-ttu-id="c7828-182">Prise en charge depuis...</span><span class="sxs-lookup"><span data-stu-id="c7828-182">Support introduced in…</span></span>|
|-----------------------------------------------------------------------------------|----------------------------|
|<span data-ttu-id="c7828-183">Version 1</span><span class="sxs-lookup"><span data-stu-id="c7828-183">Version 1</span></span>|<span data-ttu-id="c7828-184">-.NET Framework 3,5 Service Pack 1 (SP1)</span><span class="sxs-lookup"><span data-stu-id="c7828-184">-   .NET Framework 3.5 Service Pack 1 (SP1)</span></span><br /><span data-ttu-id="c7828-185">-Silverlight version 3</span><span class="sxs-lookup"><span data-stu-id="c7828-185">-   Silverlight version 3</span></span>|
|<span data-ttu-id="c7828-186">Version 2</span><span class="sxs-lookup"><span data-stu-id="c7828-186">Version 2</span></span>|<span data-ttu-id="c7828-187">-.NET Framework 4</span><span class="sxs-lookup"><span data-stu-id="c7828-187">-   .NET Framework 4</span></span><br /><span data-ttu-id="c7828-188">-Mise à jour de .NET Framework 3,5 SP1.</span><span class="sxs-lookup"><span data-stu-id="c7828-188">-   An update to .NET Framework 3.5 SP1.</span></span> <span data-ttu-id="c7828-189">Vous pouvez télécharger et installer la mise à jour à partir du [Centre de téléchargement Microsoft](https://go.microsoft.com/fwlink/?LinkId=158125).</span><span class="sxs-lookup"><span data-stu-id="c7828-189">You can download and install the update from the [Microsoft Download Center](https://go.microsoft.com/fwlink/?LinkId=158125).</span></span><br /><span data-ttu-id="c7828-190">-Silverlight version 4</span><span class="sxs-lookup"><span data-stu-id="c7828-190">-   Silverlight version 4</span></span>|
|<span data-ttu-id="c7828-191">Version 3</span><span class="sxs-lookup"><span data-stu-id="c7828-191">Version 3</span></span>|<span data-ttu-id="c7828-192">-Vous pouvez télécharger et installer une version préliminaire qui prend en charge OData version 3 à partir du [Centre de téléchargement Microsoft](https://go.microsoft.com/fwlink/?LinkId=203885).</span><span class="sxs-lookup"><span data-stu-id="c7828-192">-   You can download and install a pre-release version that supports OData version 3 from the [Microsoft Download Center](https://go.microsoft.com/fwlink/?LinkId=203885).</span></span>|

### <a name="metadata-versions"></a><span data-ttu-id="c7828-193">Versions de métadonnées</span><span class="sxs-lookup"><span data-stu-id="c7828-193">Metadata Versions</span></span>
 <span data-ttu-id="c7828-194">Par défaut, WCF Data Services utilise la version 1,1 de CSDL pour représenter un modèle de données.</span><span class="sxs-lookup"><span data-stu-id="c7828-194">By default, WCF Data Services uses version 1.1 of CSDL to represent a data model.</span></span> <span data-ttu-id="c7828-195">C'est toujours le cas pour les modèles de données basés sur un fournisseur de réflexion ou un fournisseur de services de données personnalisé.</span><span class="sxs-lookup"><span data-stu-id="c7828-195">This is always the case for data models that are based on either a reflection provider or a custom data service provider.</span></span> <span data-ttu-id="c7828-196">Toutefois, lorsque le modèle de données est défini à l'aide d'Entity Framework, la version de CSDL retournée est la même que celle utilisée par Entity Framework.</span><span class="sxs-lookup"><span data-stu-id="c7828-196">However, when the data model is defined by using the Entity Framework, the version of CSDL returned is the same as the version that is used by the Entity Framework.</span></span> <span data-ttu-id="c7828-197">La version du langage CSDL est déterminée par l’espace de noms de l' [élément de schéma (CSDL)](/ef/ef6/modeling/designer/advanced/edmx/csdl-spec#schema-element-csdl).</span><span class="sxs-lookup"><span data-stu-id="c7828-197">The version of the CSDL is determined by the namespace of the [Schema element (CSDL)](/ef/ef6/modeling/designer/advanced/edmx/csdl-spec#schema-element-csdl).</span></span>

 <span data-ttu-id="c7828-198">L'élément `DataServices` des métadonnées retournées contient également un attribut `DataServiceVersion`, qui est la même valeur que l'en-tête `DataServiceVersion` du message de réponse.</span><span class="sxs-lookup"><span data-stu-id="c7828-198">The `DataServices` element of the returned metadata also contains a `DataServiceVersion` attribute, which is the same value as the `DataServiceVersion` header in the response message.</span></span> <span data-ttu-id="c7828-199">Les applications clientes, telles que la boîte de dialogue **Ajouter une référence de service** dans Visual Studio, utilisent ces informations pour générer des classes de service de données client qui fonctionnent correctement avec la version de WCF Data Services qui hébergent le service de données.</span><span class="sxs-lookup"><span data-stu-id="c7828-199">Client applications, such as the **Add Service Reference** dialog box in Visual Studio, use this information to generate client data service classes that work correctly with the version of WCF Data Services that host the data service.</span></span> <span data-ttu-id="c7828-200">Pour plus d’informations, consultez la section Protocol Versioning dans l’article [OData : Overview](https://www.odata.org/documentation/odata-version-2-0/overview/) .</span><span class="sxs-lookup"><span data-stu-id="c7828-200">For more information, see the Protocol Versioning section in the [OData: Overview](https://www.odata.org/documentation/odata-version-2-0/overview/) article.</span></span>

## <a name="see-also"></a><span data-ttu-id="c7828-201">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="c7828-201">See also</span></span>

- [<span data-ttu-id="c7828-202">Fournisseurs de services de données</span><span class="sxs-lookup"><span data-stu-id="c7828-202">Data Services Providers</span></span>](data-services-providers-wcf-data-services.md)
- [<span data-ttu-id="c7828-203">Définition de WCF Data Services</span><span class="sxs-lookup"><span data-stu-id="c7828-203">Defining WCF Data Services</span></span>](defining-wcf-data-services.md)
