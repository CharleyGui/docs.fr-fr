---
title: Utilisation d'un service de données dans une application cliente (services de données WCF)
ms.date: 03/30/2017
helpviewer_keywords:
- WCF Data Services, client library
- WCF Data Services, getting started
ms.assetid: 90872d0c-e989-4490-b3e9-54afb10d33d4
ms.openlocfilehash: b921e78c1b3d3d90d9ac8b4a459df496cf6d14dd
ms.sourcegitcommit: 5b475c1855b32cf78d2d1bbb4295e4c236f39464
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 09/24/2020
ms.locfileid: "91180580"
---
# <a name="using-a-data-service-in-a-client-application-wcf-data-services"></a><span data-ttu-id="2f6c6-102">Utilisation d'un service de données dans une application cliente (services de données WCF)</span><span class="sxs-lookup"><span data-stu-id="2f6c6-102">Using a Data Service in a Client Application (WCF Data Services)</span></span>

<span data-ttu-id="2f6c6-103">Vous pouvez accéder à un service qui expose un flux OData (Open Data Protocol) en fournissant un URI à un navigateur Web.</span><span class="sxs-lookup"><span data-stu-id="2f6c6-103">You can access a service that exposes an Open Data Protocol (OData) feed by supplying a URI to a Web browser.</span></span> <span data-ttu-id="2f6c6-104">L'URI fournit l'adresse d'une ressource, et les messages de demande sont envoyés à ces adresses pour accéder ou modifier les données sous-jacentes que représente la ressource.</span><span class="sxs-lookup"><span data-stu-id="2f6c6-104">The URI provides the address of a resource, and request messages are sent to these addresses to access or change the underlying data that the resource represents.</span></span> <span data-ttu-id="2f6c6-105">Le navigateur émet une commande HTTP obten et retourne la ressource demandée sous forme de flux OData.</span><span class="sxs-lookup"><span data-stu-id="2f6c6-105">The browser issues an HTTP GET command and returns the requested resource as an OData feed.</span></span> <span data-ttu-id="2f6c6-106">Pour plus d’informations, consultez [accès au service à partir d’un navigateur Web](accessing-the-service-from-a-web-browser-wcf-data-services-quickstart.md).</span><span class="sxs-lookup"><span data-stu-id="2f6c6-106">For more information, see [Accessing the Service from a Web Browser](accessing-the-service-from-a-web-browser-wcf-data-services-quickstart.md).</span></span>  
  
 <span data-ttu-id="2f6c6-107">Même si un navigateur Web peut être utile pour vérifier qu’un service OData retourne les données attendues, les services OData de production qui vous permettent également de créer, mettre à jour et supprimer des données sont généralement accessibles par le code d’application ou les langages de script d’une page Web.</span><span class="sxs-lookup"><span data-stu-id="2f6c6-107">Although a Web browser may be useful for testing that an OData service returns the expected data, production OData services that enable you to also create, update, and delete data are generally accessed by application code or scripting languages in a Web page.</span></span> <span data-ttu-id="2f6c6-108">Cette rubrique fournit une vue d’ensemble de l’accès aux flux OData à partir d’une application cliente.</span><span class="sxs-lookup"><span data-stu-id="2f6c6-108">This topic provides an overview of how to access OData feeds from a client application.</span></span>  
  
## <a name="accessing-and-changing-data-using-rest-semantics"></a><span data-ttu-id="2f6c6-109">Accès et modification des données à l'aide de la sémantique REST</span><span class="sxs-lookup"><span data-stu-id="2f6c6-109">Accessing and Changing Data Using REST Semantics</span></span>  

 <span data-ttu-id="2f6c6-110">OData permet de garantir l’interopérabilité entre les services qui exposent les flux OData et les applications qui consomment des flux OData.</span><span class="sxs-lookup"><span data-stu-id="2f6c6-110">OData helps guarantee interoperability between services that expose OData feeds and applications that consume OData feeds.</span></span> <span data-ttu-id="2f6c6-111">Les applications accèdent aux données et les modifient dans un service OData en envoyant des messages de demande d’une action HTTP spécifique et avec un URI qui adresse une ressource d’entité par rapport à laquelle l’action doit être effectuée.</span><span class="sxs-lookup"><span data-stu-id="2f6c6-111">Applications access and change data in an OData-based service by sending request messages of a specific HTTP action and with a URI that addresses an entity resource against which the action should be performed.</span></span> <span data-ttu-id="2f6c6-112">Lorsque les données d'entité doivent être fournies, elles le sont comme une charge utile spécifiquement encodée dans le corps du message.</span><span class="sxs-lookup"><span data-stu-id="2f6c6-112">When entity data must be supplied, it is supplied as a specifically encoded payload in the body of the message.</span></span>  
  
### <a name="http-actions"></a><span data-ttu-id="2f6c6-113">Actions HTTP</span><span class="sxs-lookup"><span data-stu-id="2f6c6-113">HTTP Actions</span></span>  

 <span data-ttu-id="2f6c6-114">OData prend en charge les actions HTTP suivantes pour effectuer des opérations de création, lecture, mise à jour et suppression sur les données d’entité que la ressource adressée représente :</span><span class="sxs-lookup"><span data-stu-id="2f6c6-114">OData supports the following HTTP actions to perform create, read, update, and delete operations on the entity data that the addressed resource represents:</span></span>  
  
- <span data-ttu-id="2f6c6-115">**Http obtient** : il s’agit de l’action par défaut lorsqu’un utilisateur accède à une ressource à partir d’un navigateur.</span><span class="sxs-lookup"><span data-stu-id="2f6c6-115">**HTTP GET** - This is the default action when a resource is accessed from a browser.</span></span> <span data-ttu-id="2f6c6-116">Aucune charge utile n'est fournie dans le message de demande, et une méthode de réponse avec une charge utile qui contient les données demandées est retournée.</span><span class="sxs-lookup"><span data-stu-id="2f6c6-116">No payload is supplied in the request message, and a response method with a payload that contains the requested data is returned.</span></span>  
  
- <span data-ttu-id="2f6c6-117">**Http postérieur** -insère les nouvelles données d’entité dans la ressource fournie.</span><span class="sxs-lookup"><span data-stu-id="2f6c6-117">**HTTP POST** - Inserts new entity data into the supplied resource.</span></span> <span data-ttu-id="2f6c6-118">Les données à insérer sont fournies dans la charge utile du message de demande.</span><span class="sxs-lookup"><span data-stu-id="2f6c6-118">Data to be inserted is supplied in the payload of the request message.</span></span> <span data-ttu-id="2f6c6-119">La charge utile du message de réponse contient les données de l'entité créée récemment.</span><span class="sxs-lookup"><span data-stu-id="2f6c6-119">The payload of the response message contains the data for the newly created entity.</span></span> <span data-ttu-id="2f6c6-120">Cela inclut les valeurs de clés créées automatiquement.</span><span class="sxs-lookup"><span data-stu-id="2f6c6-120">This includes any autogenerated key values.</span></span> <span data-ttu-id="2f6c6-121">L'en-tête contient également l'URI qui adresse la nouvelle ressource d'entité.</span><span class="sxs-lookup"><span data-stu-id="2f6c6-121">The header also contains the URI that addresses the new entity resource.</span></span>  
  
- <span data-ttu-id="2f6c6-122">**Http Delete** -supprime les données d’entité que la ressource spécifiée représente.</span><span class="sxs-lookup"><span data-stu-id="2f6c6-122">**HTTP DELETE** - Deletes the entity data that the specified resource represents.</span></span> <span data-ttu-id="2f6c6-123">Une charge utile n'est pas présente dans les messages de demande ou de réponse.</span><span class="sxs-lookup"><span data-stu-id="2f6c6-123">A payload is not present in the request or response messages.</span></span>  
  
- <span data-ttu-id="2f6c6-124">**Http put** -remplace les données d’entité existantes au niveau de la ressource demandée par les nouvelles données fournies dans la charge utile du message de demande.</span><span class="sxs-lookup"><span data-stu-id="2f6c6-124">**HTTP PUT** - Replaces existing entity data at the requested resource with new data that is supplied in the payload of the request message.</span></span>  
  
- <span data-ttu-id="2f6c6-125">**Http Merge** -en raison de l’efficacité de l’exécution d’une suppression suivie d’une insertion dans la source de données uniquement pour modifier les données d’entité, OData introduit une nouvelle action de fusion http.</span><span class="sxs-lookup"><span data-stu-id="2f6c6-125">**HTTP MERGE** - Because of inefficiencies in executing a delete followed by an insert in the data source just to change entity data, OData introduces a new HTTP MERGE action.</span></span> <span data-ttu-id="2f6c6-126">La charge utile du message de demande contient les propriétés qui doivent être changées sur la ressource d'entité adressée.</span><span class="sxs-lookup"><span data-stu-id="2f6c6-126">The payload of the request message contains the properties that must be changed on the addressed entity resource.</span></span> <span data-ttu-id="2f6c6-127">Étant donné que la fusion HTTP n’est pas définie dans la spécification HTTP, elle peut nécessiter un traitement supplémentaire pour acheminer une demande de fusion HTTP via des serveurs non compatibles OData.</span><span class="sxs-lookup"><span data-stu-id="2f6c6-127">Because HTTP MERGE is not defined in the HTTP specification, it may require additional processing to route a HTTP MERGE request through non-OData aware servers.</span></span>  
  
 <span data-ttu-id="2f6c6-128">Pour plus d’informations, consultez [OData : Operations](https://www.odata.org/documentation/odata-version-2-0/operations/).</span><span class="sxs-lookup"><span data-stu-id="2f6c6-128">For more information, see [OData: Operations](https://www.odata.org/documentation/odata-version-2-0/operations/).</span></span>
  
### <a name="payload-formats"></a><span data-ttu-id="2f6c6-129">Formats de charge utile</span><span class="sxs-lookup"><span data-stu-id="2f6c6-129">Payload Formats</span></span>  

 <span data-ttu-id="2f6c6-130">Pour une demande HTTP PUT, HTTP POST ou HTTP MERGE, la charge utile d’un message de demande contient les données d’entité que vous envoyez au service de données.</span><span class="sxs-lookup"><span data-stu-id="2f6c6-130">For an HTTP PUT, HTTP POST, or HTTP MERGE request, the payload of a request message contains the entity data that you send to the data service.</span></span> <span data-ttu-id="2f6c6-131">Le contenu de la charge utile dépend du format de données du message.</span><span class="sxs-lookup"><span data-stu-id="2f6c6-131">The contents of the payload depend on the data format of the message.</span></span> <span data-ttu-id="2f6c6-132">Les réponses HTTP à toutes les actions sauf DELETE contiennent également une charge utile.</span><span class="sxs-lookup"><span data-stu-id="2f6c6-132">The HTTP responses to all actions except DELETE also contain such a payload.</span></span> <span data-ttu-id="2f6c6-133">OData prend en charge les formats de charge utile suivants pour l’accès et la modification des données avec le service :</span><span class="sxs-lookup"><span data-stu-id="2f6c6-133">OData supports the following payload formats for accessing and changing data with the service:</span></span>  
  
- <span data-ttu-id="2f6c6-134">**Atom** : encodage de message XML défini par OData en tant qu’extension du protocole de publication Atom (AtomPub) pour permettre l’échange de données sur http pour les flux Web, les podcasts, les wikis et les fonctionnalités Internet basées sur XML.</span><span class="sxs-lookup"><span data-stu-id="2f6c6-134">**Atom** - An XML-based message encoding that is defined by OData as an extension to the Atom Publishing Protocol (AtomPub) to enable data exchange over HTTP for Web feeds, podcasts, wikis, and XML-based Internet functionality.</span></span> <span data-ttu-id="2f6c6-135">Pour plus d’informations, consultez [OData : format Atom](https://www.odata.org/documentation/odata-version-2-0/atom-format/).</span><span class="sxs-lookup"><span data-stu-id="2f6c6-135">For more information, see [OData: Atom Format](https://www.odata.org/documentation/odata-version-2-0/atom-format/).</span></span>
  
- <span data-ttu-id="2f6c6-136">**JSON-JavaScript Object Notation** (JSON) est un format d’échange de données léger basé sur un sous-ensemble du langage de programmation JavaScript.</span><span class="sxs-lookup"><span data-stu-id="2f6c6-136">**JSON** - JavaScript Object Notation (JSON) is a lightweight data interchange format that is based on a subset of the JavaScript Programming Language.</span></span> <span data-ttu-id="2f6c6-137">Pour plus d’informations, consultez [OData : format JSON](https://www.odata.org/documentation/odata-version-2-0/json-format/).</span><span class="sxs-lookup"><span data-stu-id="2f6c6-137">For more information, see [OData: JSON Format](https://www.odata.org/documentation/odata-version-2-0/json-format/).</span></span>
  
 <span data-ttu-id="2f6c6-138">Le format du message de la charge utile est demandé dans l'en-tête du message de requête HTTP.</span><span class="sxs-lookup"><span data-stu-id="2f6c6-138">The message format of the payload is requested in the header of the HTTP request message.</span></span> <span data-ttu-id="2f6c6-139">Pour plus d’informations, consultez [OData : Operations](https://www.odata.org/documentation/odata-version-2-0/operations/).</span><span class="sxs-lookup"><span data-stu-id="2f6c6-139">For more information, see [OData: Operations](https://www.odata.org/documentation/odata-version-2-0/operations/).</span></span>
  
## <a name="accessing-and-changing-data-using-client-libraries"></a><span data-ttu-id="2f6c6-140">Accès et modification des données à l'aide des bibliothèques clientes</span><span class="sxs-lookup"><span data-stu-id="2f6c6-140">Accessing and Changing Data Using Client Libraries</span></span>  

 <span data-ttu-id="2f6c6-141">WCF Data Services comprend des bibliothèques clientes qui vous permettent de consommer plus facilement un flux OData à partir d' .NET Framework et d’applications clientes basées sur Silverlight.</span><span class="sxs-lookup"><span data-stu-id="2f6c6-141">WCF Data Services includes client libraries that enable you to more easily consume an OData feed from .NET Framework and Silverlight-based client applications.</span></span> <span data-ttu-id="2f6c6-142">Ces bibliothèques simplifient l'envoi et la réception des messages HTTP.</span><span class="sxs-lookup"><span data-stu-id="2f6c6-142">These libraries simplify sending and receiving HTTP messages.</span></span> <span data-ttu-id="2f6c6-143">Elles traduisent également la charge utile de message dans les objets CLR qui représentent des données d'entité.</span><span class="sxs-lookup"><span data-stu-id="2f6c6-143">They also translate the message payload into CLR objects that represent entity data.</span></span> <span data-ttu-id="2f6c6-144">Les bibliothèques clientes comprennent les deux classes principales <xref:System.Data.Services.Client.DataServiceContext> et <xref:System.Data.Services.Client.DataServiceQuery%601>.</span><span class="sxs-lookup"><span data-stu-id="2f6c6-144">The client libraries feature the two core classes <xref:System.Data.Services.Client.DataServiceContext> and <xref:System.Data.Services.Client.DataServiceQuery%601>.</span></span> <span data-ttu-id="2f6c6-145">Ces classes vous permettent d'interroger un service de données, puis d'utiliser les données d'entité retournées sous forme d'objets CLR.</span><span class="sxs-lookup"><span data-stu-id="2f6c6-145">These classes enable you to query a data service and then work with the returned entity data as CLR objects.</span></span> <span data-ttu-id="2f6c6-146">Pour plus d’informations, consultez [WCF Data Services bibliothèque cliente](wcf-data-services-client-library.md) et [WCF Data Services (Silverlight)](/previous-versions/windows/silverlight/dotnet-windows-silverlight/cc838234(v=vs.95)).</span><span class="sxs-lookup"><span data-stu-id="2f6c6-146">For more information, see [WCF Data Services Client Library](wcf-data-services-client-library.md) and [WCF Data Services (Silverlight)](/previous-versions/windows/silverlight/dotnet-windows-silverlight/cc838234(v=vs.95)).</span></span>  
  
 <span data-ttu-id="2f6c6-147">Vous pouvez utiliser la boîte de dialogue **Ajouter une référence de service** dans Visual Studio pour ajouter une référence à un service de données.</span><span class="sxs-lookup"><span data-stu-id="2f6c6-147">You can use the **Add Service Reference** dialog in Visual Studio to add a reference to a data service.</span></span> <span data-ttu-id="2f6c6-148">Cet outil demande les métadonnées de service à un service de données référencé et génère le <xref:System.Data.Services.Client.DataServiceContext> qui représente un service de données, ainsi que les classes de service de données client qui représentent des entités.</span><span class="sxs-lookup"><span data-stu-id="2f6c6-148">This tool requests the service metadata from a referenced data service and generates the <xref:System.Data.Services.Client.DataServiceContext> that represents a data service, as well as generates the client data service classes that represent entities.</span></span> <span data-ttu-id="2f6c6-149">Pour plus d’informations, consultez [génération de la bibliothèque cliente du service de données](generating-the-data-service-client-library-wcf-data-services.md).</span><span class="sxs-lookup"><span data-stu-id="2f6c6-149">For more information, see [Generating the Data Service Client Library](generating-the-data-service-client-library-wcf-data-services.md).</span></span>  
  
 <span data-ttu-id="2f6c6-150">Des bibliothèques de programmation peuvent être utilisées pour consommer un flux OData dans d’autres types d’applications clientes.</span><span class="sxs-lookup"><span data-stu-id="2f6c6-150">There are programming libraries available that you can use to consume an OData feed in other kinds of client applications.</span></span> <span data-ttu-id="2f6c6-151">Pour plus d’informations sur le kit de développement logiciel (SDK) OData, consultez [exemple de code ODATA SDK](https://www.odata.org/ecosystem/#sdk).</span><span class="sxs-lookup"><span data-stu-id="2f6c6-151">For more information on OData SDK, see [OData SDK - Sample Code](https://www.odata.org/ecosystem/#sdk).</span></span>
  
## <a name="see-also"></a><span data-ttu-id="2f6c6-152">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="2f6c6-152">See also</span></span>

- [<span data-ttu-id="2f6c6-153">Accès aux ressources d’un service de données</span><span class="sxs-lookup"><span data-stu-id="2f6c6-153">Accessing Data Service Resources</span></span>](accessing-data-service-resources-wcf-data-services.md)
- [<span data-ttu-id="2f6c6-154">Démarrage rapide</span><span class="sxs-lookup"><span data-stu-id="2f6c6-154">Quickstart</span></span>](quickstart-wcf-data-services.md)
