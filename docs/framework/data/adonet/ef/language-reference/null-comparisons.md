---
title: Comparaisons null
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
ms.assetid: ef88af8c-8dfe-4556-8b56-81df960a900b
ms.openlocfilehash: 6aa0af812d44f5c63758dd47ea4271bb2d689837
ms.sourcegitcommit: 4e2d355baba82814fa53efd6b8bbb45bfe054d11
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 09/04/2019
ms.locfileid: "70249834"
---
# <a name="null-comparisons"></a><span data-ttu-id="c81c1-102">Comparaisons null</span><span class="sxs-lookup"><span data-stu-id="c81c1-102">Null Comparisons</span></span>
<span data-ttu-id="c81c1-103">Une valeur `null` dans la source de données indique que la valeur est inconnue.</span><span class="sxs-lookup"><span data-stu-id="c81c1-103">A `null` value in the data source indicates that the value is unknown.</span></span> <span data-ttu-id="c81c1-104">Dans LINQ to Entities requêtes, vous pouvez rechercher les valeurs NULL afin que certains calculs ou comparaisons soient effectués uniquement sur les lignes qui contiennent des données valides ou non nulles.</span><span class="sxs-lookup"><span data-stu-id="c81c1-104">In LINQ to Entities queries, you can check for null values so that certain calculations or comparisons are only performed on rows that have valid, or non-null, data.</span></span> <span data-ttu-id="c81c1-105">Toutefois, la sémantique Null CLR peut différer par rapport à la sémantique Null de la source de données.</span><span class="sxs-lookup"><span data-stu-id="c81c1-105">CLR null semantics, however, may differ from the null semantics of the data source.</span></span> <span data-ttu-id="c81c1-106">La plupart des bases de données utilisent une version de logique à trois valeurs pour gérer les comparaisons de valeurs Null.</span><span class="sxs-lookup"><span data-stu-id="c81c1-106">Most databases use a version of three-valued logic to handle null comparisons.</span></span> <span data-ttu-id="c81c1-107">Autrement dit, une comparaison avec une valeur NULL n’est pas évaluée `false`à `true` ou `unknown`, elle prend la valeur.</span><span class="sxs-lookup"><span data-stu-id="c81c1-107">That is, a comparison against a null value does not evaluate to `true` or `false`, it evaluates to `unknown`.</span></span> <span data-ttu-id="c81c1-108">Il s'agit souvent d'une implémentation de valeurs ANSI Null, mais ce n'est pas toujours le cas.</span><span class="sxs-lookup"><span data-stu-id="c81c1-108">Often this is an implementation of ANSI nulls, but this is not always the case.</span></span>  
  
 <span data-ttu-id="c81c1-109">Par défaut dans SQL Server, la comparaison Null-égale-Null retourne une valeur Null.</span><span class="sxs-lookup"><span data-stu-id="c81c1-109">By default in SQL Server, the null-equals-null comparison returns a null value.</span></span> <span data-ttu-id="c81c1-110">Dans l’exemple suivant, les lignes où `ShipDate` a la valeur NULL sont exclues du jeu de résultats, et l’instruction Transact-SQL retourne 0 ligne.</span><span class="sxs-lookup"><span data-stu-id="c81c1-110">In the following example, the rows where `ShipDate` is null are excluded from the result set, and the Transact-SQL statement would return 0 rows.</span></span>  
  
```  
-- Find order details and orders with no ship date.  
SELECT h.SalesOrderID  
FROM Sales.SalesOrderHeader h  
JOIN Sales.SalesOrderDetail o ON o.SalesOrderID = h.SalesOrderID  
WHERE h.ShipDate IS Null  
```  
  
 <span data-ttu-id="c81c1-111">C'est très différent de la sémantique Null CLR, où la comparaison Null-égale-Null retourne true.</span><span class="sxs-lookup"><span data-stu-id="c81c1-111">This is very different from the CLR null semantics, where the null-equals-null comparison returns true.</span></span>  
  
 <span data-ttu-id="c81c1-112">La requête LINQ suivante est exprimée dans le CLR, mais elle est exécutée dans la source de données.</span><span class="sxs-lookup"><span data-stu-id="c81c1-112">The following LINQ query is expressed in the CLR, but it is executed in the data source.</span></span> <span data-ttu-id="c81c1-113">Étant donné que rien ne garantit que la sémantique CLR sera respectée au niveau de la source de données, le comportement attendu est indéterminé.</span><span class="sxs-lookup"><span data-stu-id="c81c1-113">Because there is no guarantee that CLR semantics will be honored at the data source, the expected behavior is indeterminate.</span></span>  
  
 [!code-csharp[DP L2E Conceptual Examples#JoinOnNull](../../../../../../samples/snippets/csharp/VS_Snippets_Data/DP L2E Conceptual Examples/CS/Program.cs#joinonnull)]
 [!code-vb[DP L2E Conceptual Examples#JoinOnNull](../../../../../../samples/snippets/visualbasic/VS_Snippets_Data/DP L2E Conceptual Examples/VB/Module1.vb#joinonnull)]  
  
## <a name="key-selectors"></a><span data-ttu-id="c81c1-114">Sélecteurs de clé</span><span class="sxs-lookup"><span data-stu-id="c81c1-114">Key Selectors</span></span>  
 <span data-ttu-id="c81c1-115">Un *Sélecteur de clé* est une fonction utilisée dans les opérateurs de requête standard pour extraire une clé d’un élément.</span><span class="sxs-lookup"><span data-stu-id="c81c1-115">A *key selector* is a function used in the standard query operators to extract a key from an element.</span></span> <span data-ttu-id="c81c1-116">Dans la fonction du sélecteur de clé, une expression peut être comparée avec une constante.</span><span class="sxs-lookup"><span data-stu-id="c81c1-116">In the key selector function, an expression can be compared with a constant.</span></span> <span data-ttu-id="c81c1-117">La sémantique Null CLR est exposée si une expression est comparée à une constante Null ou si deux constantes Null sont comparées.</span><span class="sxs-lookup"><span data-stu-id="c81c1-117">CLR null semantics are exhibited if an expression is compared to a null constant or if two null constants are compared.</span></span> <span data-ttu-id="c81c1-118">La sémantique Null du magasin est exposée si deux colonnes contenant des valeurs Null dans la source de données sont comparées.</span><span class="sxs-lookup"><span data-stu-id="c81c1-118">Store null semantics are exhibited if two columns with null values in the data source are compared.</span></span> <span data-ttu-id="c81c1-119">Les sélecteurs de clé, qui se trouvent dans un grand nombre des opérateurs de requête standard de classement et de regroupement, tels que <xref:System.Linq.Queryable.GroupBy%2A>, sont utilisés pour sélectionner les clés sur lesquelles trier ou regrouper les résultats de la requête.</span><span class="sxs-lookup"><span data-stu-id="c81c1-119">Key selectors are found in many of the grouping and ordering standard query operators, such as <xref:System.Linq.Queryable.GroupBy%2A>, and are used to select keys by which to order or group the query results.</span></span>  
  
## <a name="null-property-on-a-null-object"></a><span data-ttu-id="c81c1-120">Propriété Null sur un objet Null</span><span class="sxs-lookup"><span data-stu-id="c81c1-120">Null Property on a Null Object</span></span>  
 <span data-ttu-id="c81c1-121">Dans [!INCLUDE[adonet_ef](../../../../../../includes/adonet-ef-md.md)], les propriétés d'un objet Null sont Null.</span><span class="sxs-lookup"><span data-stu-id="c81c1-121">In the [!INCLUDE[adonet_ef](../../../../../../includes/adonet-ef-md.md)], the properties of a null object are null.</span></span> <span data-ttu-id="c81c1-122">Lorsque vous essayez de référencer une propriété d'un objet Null dans le CLR, vous recevez un objet <xref:System.NullReferenceException>.</span><span class="sxs-lookup"><span data-stu-id="c81c1-122">When you attempt to reference a property of a null object in the CLR, you will receive a <xref:System.NullReferenceException>.</span></span> <span data-ttu-id="c81c1-123">Lorsqu'une requête LINQ implique une propriété d'un objet Null, cela peut provoquer un comportement incohérent.</span><span class="sxs-lookup"><span data-stu-id="c81c1-123">When a LINQ query involves a property of a null object, this can result in inconsistent behavior.</span></span>  
  
 <span data-ttu-id="c81c1-124">Par exemple, dans la requête suivante, le cast en `NewProduct` est effectué dans la couche de l’arborescence de commandes, ce qui peut rendre Null la propriété `Introduced`.</span><span class="sxs-lookup"><span data-stu-id="c81c1-124">For example, in the following query, the cast to `NewProduct` is done in the command tree layer, which might result in the `Introduced` property being null.</span></span> <span data-ttu-id="c81c1-125">Si la base de données a défini des comparaisons de valeurs Null telles que la comparaison <xref:System.DateTime> ait la valeur true, la ligne sera incluse.</span><span class="sxs-lookup"><span data-stu-id="c81c1-125">If the database defined null comparisons such that the <xref:System.DateTime> comparison evaluates to true, the row will be included.</span></span>  
  
 [!code-csharp[DP L2E Conceptual Examples#CastResultsIsNull](../../../../../../samples/snippets/csharp/VS_Snippets_Data/DP L2E Conceptual Examples/CS/Program.cs#castresultsisnull)]
 [!code-vb[DP L2E Conceptual Examples#CastResultsIsNull](../../../../../../samples/snippets/visualbasic/VS_Snippets_Data/DP L2E Conceptual Examples/VB/Module1.vb#castresultsisnull)]  
  
## <a name="passing-null-collections-to-aggregate-functions"></a><span data-ttu-id="c81c1-126">Transmission de collections de valeurs Null aux fonctions d’agrégation</span><span class="sxs-lookup"><span data-stu-id="c81c1-126">Passing Null Collections to Aggregate Functions</span></span>  
 <span data-ttu-id="c81c1-127">Dans LINQ to Entities, lorsque vous transmettez une collection qui `IQueryable` prend en charge à une fonction d’agrégation, les opérations d’agrégation sont effectuées au niveau de la base de données.</span><span class="sxs-lookup"><span data-stu-id="c81c1-127">In LINQ to Entities, when you pass a collection that supports `IQueryable` to an aggregate function, aggregate operations are performed at the database.</span></span> <span data-ttu-id="c81c1-128">Il peut y avoir des différences dans les résultats d’une requête qui a été exécutée en mémoire et une requête effectuée au niveau de la base de données.</span><span class="sxs-lookup"><span data-stu-id="c81c1-128">There might be differences in the results of a query that was performed in-memory and a query that was performed at the database.</span></span> <span data-ttu-id="c81c1-129">Avec une requête en mémoire, s’il n’y a aucune correspondance, la requête retourne la valeur zéro.</span><span class="sxs-lookup"><span data-stu-id="c81c1-129">With an in-memory query, if there are no matches, the query returns zero.</span></span> <span data-ttu-id="c81c1-130">Dans la base de données, la même requête retourne la valeur `null`.</span><span class="sxs-lookup"><span data-stu-id="c81c1-130">At the database, the same query returns `null`.</span></span> <span data-ttu-id="c81c1-131">Si une `null` valeur est passée à une fonction d’agrégation LINQ, une exception est levée.</span><span class="sxs-lookup"><span data-stu-id="c81c1-131">If a `null` value is passed to a LINQ aggregate function, an exception will be thrown.</span></span> <span data-ttu-id="c81c1-132">Pour accepter les `null` valeurs possibles, effectuez un cast des types et des propriétés des types qui reçoivent les résultats de la requête en types Nullable.</span><span class="sxs-lookup"><span data-stu-id="c81c1-132">To accept possible `null` values, cast the types and the properties of the types that receive query results to nullable types.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="c81c1-133">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="c81c1-133">See also</span></span>

- [<span data-ttu-id="c81c1-134">Expressions dans les requêtes LINQ to Entities</span><span class="sxs-lookup"><span data-stu-id="c81c1-134">Expressions in LINQ to Entities Queries</span></span>](expressions-in-linq-to-entities-queries.md)
