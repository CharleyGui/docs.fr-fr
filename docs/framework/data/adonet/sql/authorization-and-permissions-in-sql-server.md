---
title: Autorisation et permissions dans SQL Server
description: Apprenez à accorder explicitement des autorisations pour rendre les objets de base de données que vous créez accessibles aux utilisateurs dans SQL Server avec ADO.NET.
ms.date: 03/30/2017
ms.assetid: d340405c-91f4-4837-a3cc-a238ee89888a
ms.openlocfilehash: eb01e29b36da5e1793b9176301a968a42115d19c
ms.sourcegitcommit: 33deec3e814238fb18a49b2a7e89278e27888291
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 06/02/2020
ms.locfileid: "84286531"
---
# <a name="authorization-and-permissions-in-sql-server"></a><span data-ttu-id="abd0c-103">Autorisation et permissions dans SQL Server</span><span class="sxs-lookup"><span data-stu-id="abd0c-103">Authorization and Permissions in SQL Server</span></span>
<span data-ttu-id="abd0c-104">Lorsque vous créez des objets de base de données, vous devez accorder explicitement des autorisations de manière à les rendre accessibles aux utilisateurs.</span><span class="sxs-lookup"><span data-stu-id="abd0c-104">When you create database objects, you must explicitly grant permissions to make them accessible to users.</span></span> <span data-ttu-id="abd0c-105">Chaque objet sécurisable possède des autorisations qui peuvent être accordées à une principal de sécurité à l'aide d'instructions d'autorisation.</span><span class="sxs-lookup"><span data-stu-id="abd0c-105">Every securable object has permissions that can be granted to a principal using permission statements.</span></span>  
  
## <a name="the-principle-of-least-privilege"></a><span data-ttu-id="abd0c-106">Principe des privilèges minimum</span><span class="sxs-lookup"><span data-stu-id="abd0c-106">The Principle of Least Privilege</span></span>  
 <span data-ttu-id="abd0c-107">Le développement d'une application selon l'approche du compte d'utilisateur disposant de privilèges minimum (LUA, Least-privileged User Account) est un élément important de la stratégie de défense en profondeur visant à contrer les menaces de sécurité.</span><span class="sxs-lookup"><span data-stu-id="abd0c-107">Developing an application using a least-privileged user account (LUA) approach is an important part of a defensive, in-depth strategy for countering security threats.</span></span> <span data-ttu-id="abd0c-108">L'approche LUA garantit que les utilisateurs suivent le principe des privilèges minimum et ouvrent toujours leur session avec des comptes d'utilisateurs limités.</span><span class="sxs-lookup"><span data-stu-id="abd0c-108">The LUA approach ensures that users follow the principle of least privilege and always log on with limited user accounts.</span></span> <span data-ttu-id="abd0c-109">Les tâches administratives sont classées par rôle serveur fixe. L'utilisation du rôle serveur fixe `sysadmin` est extrêmement limitée.</span><span class="sxs-lookup"><span data-stu-id="abd0c-109">Administrative tasks are broken out using fixed server roles, and the use of the `sysadmin` fixed server role is severely restricted.</span></span>  
  
 <span data-ttu-id="abd0c-110">Suivez toujours le principe des privilèges minimum lorsque vous accordez des autorisations aux utilisateurs de base de données.</span><span class="sxs-lookup"><span data-stu-id="abd0c-110">Always follow the principle of least privilege when granting permissions to database users.</span></span> <span data-ttu-id="abd0c-111">Accordez les autorisations minimales nécessaires à un utilisateur ou à un rôle pour accomplir une tâche donnée.</span><span class="sxs-lookup"><span data-stu-id="abd0c-111">Grant the minimum permissions necessary to a user or role to accomplish a given task.</span></span>  
  
> [!IMPORTANT]
> <span data-ttu-id="abd0c-112">Le développement et le test d'une application selon l'approche LUA compliquent quelque peu le processus.</span><span class="sxs-lookup"><span data-stu-id="abd0c-112">Developing and testing an application using the LUA approach adds a degree of difficulty to the development process.</span></span> <span data-ttu-id="abd0c-113">Il est plus simple de créer des objets et d'écrire du code tout en étant connecté en tant qu'administrateur système ou propriétaire de base de données qu'en utilisant un compte LUA.</span><span class="sxs-lookup"><span data-stu-id="abd0c-113">It is easier to create objects and write code while logged on as a system administrator or database owner than it is using a LUA account.</span></span> <span data-ttu-id="abd0c-114">Cependant, le fait de développer des applications en utilisant un compte disposant de privilèges élevés peut masquer l'impact de fonctionnalités réduites lorsque des utilisateurs disposant de privilèges minimum essaient d'exécuter une application qui requiert des autorisations élevées pour fonctionner correctement.</span><span class="sxs-lookup"><span data-stu-id="abd0c-114">However, developing applications using a highly privileged account can obfuscate the impact of reduced functionality when least privileged users attempt to run an application that requires elevated permissions in order to function correctly.</span></span> <span data-ttu-id="abd0c-115">Par ailleurs, le fait d'accorder des autorisations excessives aux utilisateurs afin qu'ils puissent réacquérir une fonctionnalité perdue peut rendre votre application vulnérable aux attaques.</span><span class="sxs-lookup"><span data-stu-id="abd0c-115">Granting excessive permissions to users in order to reacquire lost functionality can leave your application vulnerable to attack.</span></span> <span data-ttu-id="abd0c-116">La conception, le développement et le test de votre application alors que vous êtes connecté avec un compte LUA appliquent une approche disciplinée qui évite toute mauvaise surprise et empêche de céder à la facilité en accordant des privilèges élevés.</span><span class="sxs-lookup"><span data-stu-id="abd0c-116">Designing, developing and testing your application logged on with a LUA account enforces a disciplined approach to security planning that eliminates unpleasant surprises and the temptation to grant elevated privileges as a quick fix.</span></span> <span data-ttu-id="abd0c-117">Vous pouvez utiliser une connexion SQL Server pour le test même si votre application doit être déployée à l'aide de l'authentification Windows.</span><span class="sxs-lookup"><span data-stu-id="abd0c-117">You can use a SQL Server login for testing even if your application is intended to deploy using Windows authentication.</span></span>  
  
## <a name="role-based-permissions"></a><span data-ttu-id="abd0c-118">Autorisations basées sur les rôles</span><span class="sxs-lookup"><span data-stu-id="abd0c-118">Role-Based Permissions</span></span>  
 <span data-ttu-id="abd0c-119">L'octroi d'autorisations aux rôles plutôt qu'aux utilisateurs simplifie l'administration de la sécurité.</span><span class="sxs-lookup"><span data-stu-id="abd0c-119">Granting permissions to roles rather than to users simplifies security administration.</span></span> <span data-ttu-id="abd0c-120">Les jeux d'autorisations qui sont assignés aux rôles sont hérités par tous les membres du rôle.</span><span class="sxs-lookup"><span data-stu-id="abd0c-120">Permission sets that are assigned to roles are inherited by all members of the role.</span></span> <span data-ttu-id="abd0c-121">Il est plus facile d'ajouter des utilisateurs à un rôle ou d'en supprimer que de recréer des jeux d'autorisations distincts individuellement pour chaque utilisateur.</span><span class="sxs-lookup"><span data-stu-id="abd0c-121">It is easier to add or remove users from a role than it is to recreate separate permission sets for individual users.</span></span> <span data-ttu-id="abd0c-122">Les rôles peuvent être imbriqués ; toutefois, des niveaux d'imbrication trop nombreux peuvent dégrader les performances.</span><span class="sxs-lookup"><span data-stu-id="abd0c-122">Roles can be nested; however, too many levels of nesting can degrade performance.</span></span> <span data-ttu-id="abd0c-123">Vous pouvez également ajouter des utilisateurs aux rôles de base de données fixes pour simplifier l'assignation d'autorisations.</span><span class="sxs-lookup"><span data-stu-id="abd0c-123">You can also add users to fixed database roles to simplify assigning permissions.</span></span>  
  
 <span data-ttu-id="abd0c-124">Vous pouvez accorder des autorisations au niveau du schéma.</span><span class="sxs-lookup"><span data-stu-id="abd0c-124">You can grant permissions at the schema level.</span></span> <span data-ttu-id="abd0c-125">Les utilisateurs héritent automatiquement des autorisations sur tous les nouveaux objets créés dans le schéma. Il n'est alors pas nécessaire d'accorder des autorisations dès que de nouveaux objets sont créés.</span><span class="sxs-lookup"><span data-stu-id="abd0c-125">Users automatically inherit permissions on all new objects created in the schema; you do not need to grant permissions as new objects are created.</span></span>  
  
## <a name="permissions-through-procedural-code"></a><span data-ttu-id="abd0c-126">Autorisations par le biais du code de procédure</span><span class="sxs-lookup"><span data-stu-id="abd0c-126">Permissions Through Procedural Code</span></span>  
 <span data-ttu-id="abd0c-127">L'encapsulation de l'accès aux données par le biais de modules, comme des procédures stockées et des fonctions définies par l'utilisateur, offre une couche supplémentaire de protection autour de votre application.</span><span class="sxs-lookup"><span data-stu-id="abd0c-127">Encapsulating data access through modules such as stored procedures and user-defined functions provides an additional layer of protection around your application.</span></span> <span data-ttu-id="abd0c-128">Vous pouvez empêcher un utilisateur d'interagir directement avec les objets de base de données en accordant des autorisations uniquement aux procédures stockées et aux fonctions tout en refusant les autorisations sur les objets sous-jacents comme les tables.</span><span class="sxs-lookup"><span data-stu-id="abd0c-128">You can prevent users from directly interacting with database objects by granting permissions only to stored procedures or functions while denying permissions to underlying objects such as tables.</span></span> <span data-ttu-id="abd0c-129">Pour cela, SQL Server effectue un chaînage de propriétés.</span><span class="sxs-lookup"><span data-stu-id="abd0c-129">SQL Server achieves this by ownership chaining.</span></span>  
  
## <a name="permission-statements"></a><span data-ttu-id="abd0c-130">Instructions d'autorisation</span><span class="sxs-lookup"><span data-stu-id="abd0c-130">Permission Statements</span></span>  
 <span data-ttu-id="abd0c-131">Les trois instructions d'autorisation Transact-SQL sont décrites dans le tableau suivant.</span><span class="sxs-lookup"><span data-stu-id="abd0c-131">The three Transact-SQL permission statements are described in the following table.</span></span>  
  
|<span data-ttu-id="abd0c-132">Instruction d'autorisation</span><span class="sxs-lookup"><span data-stu-id="abd0c-132">Permission Statement</span></span>|<span data-ttu-id="abd0c-133">Description</span><span class="sxs-lookup"><span data-stu-id="abd0c-133">Description</span></span>|  
|--------------------------|-----------------|  
|<span data-ttu-id="abd0c-134">GRANT</span><span class="sxs-lookup"><span data-stu-id="abd0c-134">GRANT</span></span>|<span data-ttu-id="abd0c-135">Accorde une autorisation.</span><span class="sxs-lookup"><span data-stu-id="abd0c-135">Grants a permission.</span></span>|  
|<span data-ttu-id="abd0c-136">REVOKE</span><span class="sxs-lookup"><span data-stu-id="abd0c-136">REVOKE</span></span>|<span data-ttu-id="abd0c-137">Révoque une autorisation.</span><span class="sxs-lookup"><span data-stu-id="abd0c-137">Revokes a permission.</span></span> <span data-ttu-id="abd0c-138">Il s'agit de l'état par défaut d'un nouvel objet.</span><span class="sxs-lookup"><span data-stu-id="abd0c-138">This is the default state of a new object.</span></span> <span data-ttu-id="abd0c-139">Une autorisation révoquée pour un utilisateur ou un rôle peut être héritée d'autres groupes ou rôles auxquels la principal de sécurité est assignée.</span><span class="sxs-lookup"><span data-stu-id="abd0c-139">A permission revoked from a user or role can still be inherited from other groups or roles to which the principal is assigned.</span></span>|  
|<span data-ttu-id="abd0c-140">DENY</span><span class="sxs-lookup"><span data-stu-id="abd0c-140">DENY</span></span>|<span data-ttu-id="abd0c-141">DENY révoque une autorisation afin qu'elle ne puisse plus être héritée.</span><span class="sxs-lookup"><span data-stu-id="abd0c-141">DENY revokes a permission so that it cannot be inherited.</span></span> <span data-ttu-id="abd0c-142">DENY a priorité sur toutes les autorisations, mais ne s'applique pas aux propriétaires d'objets ni aux membres de `sysadmin`.</span><span class="sxs-lookup"><span data-stu-id="abd0c-142">DENY takes precedence over all permissions, except DENY does not apply to object owners or members of `sysadmin`.</span></span> <span data-ttu-id="abd0c-143">Si vous refusez des autorisations sur un objet au rôle `public`, elles sont refusées à tous les utilisateurs et rôles, à l'exception des propriétaires d'objets et des membres `sysadmin`.</span><span class="sxs-lookup"><span data-stu-id="abd0c-143">If you DENY permissions on an object to the `public` role it is denied to all users and roles except for object owners and `sysadmin` members.</span></span>|  
  
- <span data-ttu-id="abd0c-144">L'instruction GRANT peut assigner des autorisations à un groupe ou un rôle qui peuvent être héritées par les utilisateurs de base de données.</span><span class="sxs-lookup"><span data-stu-id="abd0c-144">The GRANT statement can assign permissions to a group or role that can be inherited by database users.</span></span> <span data-ttu-id="abd0c-145">Toutefois, l'instruction DENY a priorité sur toutes les autres instructions d'autorisation.</span><span class="sxs-lookup"><span data-stu-id="abd0c-145">However, the DENY statement takes precedence over all other permission statements.</span></span> <span data-ttu-id="abd0c-146">Par conséquent, un utilisateur à qui une autorisation a été refusée ne peut pas en hériter d'un autre rôle.</span><span class="sxs-lookup"><span data-stu-id="abd0c-146">Therefore, a user who has been denied a permission cannot inherit it from another role.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="abd0c-147">Les membres du rôle serveur fixe `sysadmin` et des propriétaires d'objets ne peuvent pas se voir refuser des autorisations.</span><span class="sxs-lookup"><span data-stu-id="abd0c-147">Members of the `sysadmin` fixed server role and object owners cannot be denied permissions.</span></span>  
  
## <a name="ownership-chains"></a><span data-ttu-id="abd0c-148">Chaînes de propriétés</span><span class="sxs-lookup"><span data-stu-id="abd0c-148">Ownership Chains</span></span>  
 <span data-ttu-id="abd0c-149">SQL Server garantit que seules les entités de sécurité qui en ont reçu l'autorisation peuvent accéder aux objets.</span><span class="sxs-lookup"><span data-stu-id="abd0c-149">SQL Server ensures that only principals that have been granted permission can access objects.</span></span> <span data-ttu-id="abd0c-150">Lorsque plusieurs objets de base de données accèdent les uns aux autres, la séquence est qualifiée de chaîne.</span><span class="sxs-lookup"><span data-stu-id="abd0c-150">When multiple database objects access each other, the sequence is known as a chain.</span></span> <span data-ttu-id="abd0c-151">Lorsque SQL Server traverse les liens de la chaîne, il évalue les autorisations différemment que s'il accédait séparément à chaque élément.</span><span class="sxs-lookup"><span data-stu-id="abd0c-151">When SQL Server is traversing the links in the chain, it evaluates permissions differently than it would if it were accessing each item separately.</span></span> <span data-ttu-id="abd0c-152">Lors de l'accès à un objet par le biais d'une chaîne, SQL Server commence par comparer le propriétaire de l'objet au propriétaire de l'objet appelant (le lien précédent de la chaîne).</span><span class="sxs-lookup"><span data-stu-id="abd0c-152">When an object is accessed through a chain, SQL Server first compares the object's owner to the owner of the calling object (the previous link in the chain).</span></span> <span data-ttu-id="abd0c-153">Si les deux objets ont le même propriétaire, les autorisations de l'objet référencé ne sont pas vérifiées.</span><span class="sxs-lookup"><span data-stu-id="abd0c-153">If both objects have the same owner, permissions on the referenced object are not checked.</span></span> <span data-ttu-id="abd0c-154">Si les propriétaires sont différents, la chaîne de propriétés est rompue et SQL Server doit vérifier le contexte de sécurité de l'appelant.</span><span class="sxs-lookup"><span data-stu-id="abd0c-154">Whenever an object accesses another object that has a different owner, the ownership chain is broken and SQL Server must check the caller's security context.</span></span>  
  
## <a name="procedural-code-and-ownership-chaining"></a><span data-ttu-id="abd0c-155">Code de procédure et chaînage de propriétés</span><span class="sxs-lookup"><span data-stu-id="abd0c-155">Procedural Code and Ownership Chaining</span></span>  
 <span data-ttu-id="abd0c-156">Supposons qu'un utilisateur bénéficie des autorisations d'exécution sur une procédure stockée qui sélectionne des données dans une table.</span><span class="sxs-lookup"><span data-stu-id="abd0c-156">Suppose that a user is granted execute permissions on a stored procedure that selects data from a table.</span></span> <span data-ttu-id="abd0c-157">Si la procédure stockée et la table ont le même propriétaire, il n'est pas nécessaire que l'utilisateur bénéficie d'autorisations quelles qu'elles soient ; il peut même s'en voir refuser.</span><span class="sxs-lookup"><span data-stu-id="abd0c-157">If the stored procedure and the table have the same owner, the user doesn't need to be granted any permissions on the table and can even be denied permissions.</span></span> <span data-ttu-id="abd0c-158">Cependant, si la procédure stockée et la table ont des propriétaires différents, SQL Server doit vérifier les autorisations de l'utilisateur sur la table avant d'autoriser l'accès aux données.</span><span class="sxs-lookup"><span data-stu-id="abd0c-158">However, if the stored procedure and the table have different owners, SQL Server must check the user's permissions on the table before allowing access to the data.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="abd0c-159">Le chaînage des propriétés ne s'applique pas aux instructions SQL dynamiques.</span><span class="sxs-lookup"><span data-stu-id="abd0c-159">Ownership chaining does not apply in the case of dynamic SQL statements.</span></span> <span data-ttu-id="abd0c-160">Pour appeler une procédure qui exécute une instruction SQL, l'appelant doit bénéficier d'autorisations sur les tables sous-jacentes, ce qui rend votre application vulnérable aux attaques par injection de code SQL.</span><span class="sxs-lookup"><span data-stu-id="abd0c-160">To call a procedure that executes an SQL statement, the caller must be granted permissions on the underlying tables, leaving your application vulnerable to SQL Injection attack.</span></span> <span data-ttu-id="abd0c-161">SQL Server fournit de nouveaux mécanismes, comme l'emprunt d'identité et la signature de modules à l'aide de certificats, qui ne requièrent pas l'octroi d'autorisations sur les tables sous-jacentes.</span><span class="sxs-lookup"><span data-stu-id="abd0c-161">SQL Server provides new mechanisms, such as impersonation and signing modules with certificates, that do not require granting permissions on the underlying tables.</span></span> <span data-ttu-id="abd0c-162">Ils peuvent également être utilisés avec les procédures stockées CLR.</span><span class="sxs-lookup"><span data-stu-id="abd0c-162">These can also be used with CLR stored procedures.</span></span>  
  
## <a name="external-resources"></a><span data-ttu-id="abd0c-163">Ressources externes</span><span class="sxs-lookup"><span data-stu-id="abd0c-163">External Resources</span></span>  
 <span data-ttu-id="abd0c-164">Pour plus d'informations, consultez les ressources ci-dessous.</span><span class="sxs-lookup"><span data-stu-id="abd0c-164">For more information, see the following resources.</span></span>  
  
|<span data-ttu-id="abd0c-165">Ressource</span><span class="sxs-lookup"><span data-stu-id="abd0c-165">Resource</span></span>|<span data-ttu-id="abd0c-166">Description</span><span class="sxs-lookup"><span data-stu-id="abd0c-166">Description</span></span>|  
|--------------|-----------------|  
|[<span data-ttu-id="abd0c-167">autorisations</span><span class="sxs-lookup"><span data-stu-id="abd0c-167">Permissions</span></span>](/sql/relational-databases/security/permissions-database-engine)|<span data-ttu-id="abd0c-168">Contient des rubriques qui décrivent la hiérarchie des autorisations, les affichages catalogue et les autorisations des rôles serveur et de base de données fixes.</span><span class="sxs-lookup"><span data-stu-id="abd0c-168">Contains topics describing permissions hierarchy, catalog views, and permissions of fixed server and database roles.</span></span>|
  
## <a name="see-also"></a><span data-ttu-id="abd0c-169">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="abd0c-169">See also</span></span>

- [<span data-ttu-id="abd0c-170">Sécurisation des applications ADO.NET</span><span class="sxs-lookup"><span data-stu-id="abd0c-170">Securing ADO.NET Applications</span></span>](../securing-ado-net-applications.md)
- [<span data-ttu-id="abd0c-171">Scénarios de sécurité des applications dans SQL Server</span><span class="sxs-lookup"><span data-stu-id="abd0c-171">Application Security Scenarios in SQL Server</span></span>](application-security-scenarios-in-sql-server.md)
- [<span data-ttu-id="abd0c-172">Authentification dans SQL Server</span><span class="sxs-lookup"><span data-stu-id="abd0c-172">Authentication in SQL Server</span></span>](authentication-in-sql-server.md)
- [<span data-ttu-id="abd0c-173">Serveur et rôles de base de données dans SQL Server</span><span class="sxs-lookup"><span data-stu-id="abd0c-173">Server and Database Roles in SQL Server</span></span>](server-and-database-roles-in-sql-server.md)
- [<span data-ttu-id="abd0c-174">Propriété et séparation des schémas utilisateur dans SQL Server</span><span class="sxs-lookup"><span data-stu-id="abd0c-174">Ownership and User-Schema Separation in SQL Server</span></span>](ownership-and-user-schema-separation-in-sql-server.md)
- [<span data-ttu-id="abd0c-175">Vue d'ensemble d’ADO.NET</span><span class="sxs-lookup"><span data-stu-id="abd0c-175">ADO.NET Overview</span></span>](../ado-net-overview.md)
