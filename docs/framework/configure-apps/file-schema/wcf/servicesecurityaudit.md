---
title: <serviceSecurityAudit>
ms.date: 03/30/2017
ms.assetid: ba517369-a034-4f8e-a2c4-66517716062b
ms.openlocfilehash: 10888f26053014ffb1fec49d1dfe87c7fd09ab54
ms.sourcegitcommit: b16c00371ea06398859ecd157defc81301c9070f
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 06/06/2020
ms.locfileid: "70399576"
---
# \<serviceSecurityAudit>
<span data-ttu-id="b8e6a-101">Spécifie des paramètres qui activent l'audit d'événements de sécurité pendant des opérations de service.</span><span class="sxs-lookup"><span data-stu-id="b8e6a-101">Specifies settings that enable auditing of security events during service operations.</span></span>  
  
[**\<configuration>**](../configuration-element.md)\
&nbsp;&nbsp;[**\<system.serviceModel>**](system-servicemodel.md)\
&nbsp;&nbsp;&nbsp;&nbsp;[**\<behaviors>**](behaviors.md)\
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[**\<serviceBehaviors>**](servicebehaviors.md)\
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[**\<behavior>**](behavior-of-servicebehaviors.md)\
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;**\<serviceSecurityAudit>**  
  
## <a name="syntax"></a><span data-ttu-id="b8e6a-102">Syntaxe</span><span class="sxs-lookup"><span data-stu-id="b8e6a-102">Syntax</span></span>  
  
```xml  
<serviceSecurityAudit auditLogLocation="Default/Application/Security"
                      messageAuthenticationAuditLevel="None/Success/Failure/SuccessOrFailure"
                      serviceAuthorizationAuditLevel="None/Success/Failure/SuccessOrFailure"
                      suppressAuditFailure="Boolean" />
```  
  
## <a name="attributes-and-elements"></a><span data-ttu-id="b8e6a-103">Attributs et éléments</span><span class="sxs-lookup"><span data-stu-id="b8e6a-103">Attributes and Elements</span></span>  
 <span data-ttu-id="b8e6a-104">Les sections suivantes décrivent des attributs, des éléments enfants et des éléments parents.</span><span class="sxs-lookup"><span data-stu-id="b8e6a-104">The following sections describe attributes, child elements, and parent elements.</span></span>  
  
### <a name="attributes"></a><span data-ttu-id="b8e6a-105">Attributs</span><span class="sxs-lookup"><span data-stu-id="b8e6a-105">Attributes</span></span>  
  
|<span data-ttu-id="b8e6a-106">Attribut</span><span class="sxs-lookup"><span data-stu-id="b8e6a-106">Attribute</span></span>|<span data-ttu-id="b8e6a-107">Description</span><span class="sxs-lookup"><span data-stu-id="b8e6a-107">Description</span></span>|  
|---------------|-----------------|  
|<span data-ttu-id="b8e6a-108">auditLogLocation</span><span class="sxs-lookup"><span data-stu-id="b8e6a-108">auditLogLocation</span></span>|<span data-ttu-id="b8e6a-109">Spécifie l'emplacement du journal d'audit.</span><span class="sxs-lookup"><span data-stu-id="b8e6a-109">Specifies the location of the audit log.</span></span> <span data-ttu-id="b8e6a-110">Les valeurs valides sont les suivantes :</span><span class="sxs-lookup"><span data-stu-id="b8e6a-110">Valid values include the following:</span></span><br /><br /> <span data-ttu-id="b8e6a-111">-Default : les événements de sécurité sont écrits dans le journal des applications sur Windows XP et dans le journal des événements sur Windows Server 2003 et Windows Vista.</span><span class="sxs-lookup"><span data-stu-id="b8e6a-111">-   Default: Security events are written to the application log on Windows XP, and to the Event Log on Windows Server 2003 and Windows Vista.</span></span><br /><span data-ttu-id="b8e6a-112">-Application : les événements d’audit sont écrits dans le journal des événements de l’application.</span><span class="sxs-lookup"><span data-stu-id="b8e6a-112">-   Application: Audit events are written to the Application Event Log.</span></span><br /><span data-ttu-id="b8e6a-113">-Security : les événements d’audit sont écrits dans le journal des événements de sécurité.</span><span class="sxs-lookup"><span data-stu-id="b8e6a-113">-   Security: Audit events are written to the Security Event Log.</span></span><br /><br /> <span data-ttu-id="b8e6a-114">La valeur par défaut est Default.</span><span class="sxs-lookup"><span data-stu-id="b8e6a-114">The default value is Default.</span></span> <span data-ttu-id="b8e6a-115">Pour plus d’informations, consultez <xref:System.ServiceModel.AuditLogLocation>.</span><span class="sxs-lookup"><span data-stu-id="b8e6a-115">For more information, see <xref:System.ServiceModel.AuditLogLocation>.</span></span>|  
|<span data-ttu-id="b8e6a-116">suppressAuditFailure</span><span class="sxs-lookup"><span data-stu-id="b8e6a-116">suppressAuditFailure</span></span>|<span data-ttu-id="b8e6a-117">Valeur booléenne qui spécifie le comportement permettant de supprimer les erreurs d'écriture dans le journal d'audit.</span><span class="sxs-lookup"><span data-stu-id="b8e6a-117">A Boolean value that specifies the behavior for suppressing failures of writing to the audit log.</span></span><br /><br /> <span data-ttu-id="b8e6a-118">Les applications doivent être averties des erreurs d'écriture dans le journal d'audit.</span><span class="sxs-lookup"><span data-stu-id="b8e6a-118">Applications should be notified for failures of writing to the audit log.</span></span> <span data-ttu-id="b8e6a-119">Si votre application n'est pas conçue pour gérer les erreurs d'audit, vous devez utiliser cet attribut pour supprimer les erreurs d'écriture dans le journal d'audit.</span><span class="sxs-lookup"><span data-stu-id="b8e6a-119">If your application is not designed to handle audit failures, you should use this attribute to suppress failures in writing to the audit log.</span></span><br /><br /> <span data-ttu-id="b8e6a-120">Si cet attribut a pour valeur `true`, les exceptions autres qu'OutOfMemoryException, StackOverFlowException, ThreadAbortException et ArgumentException qui résultent de tentatives d'écriture d'événements d'audit sont contrôlées par le système et ne sont pas propagées dans l'application.</span><span class="sxs-lookup"><span data-stu-id="b8e6a-120">If this attribute is `true`, exceptions other than OutOfMemoryException, StackOverFlowException, ThreadAbortException, and ArgumentException that result from attempts to write audit events are handled by the system, and are not propagated to the application.</span></span> <span data-ttu-id="b8e6a-121">Si cet attribut a pour valeur `false`, toutes les exceptions qui résultent de tentatives d'écriture d'événements d'audit sont passées à l'application.</span><span class="sxs-lookup"><span data-stu-id="b8e6a-121">If this attribute is `false`, all exceptions that result from attempts to write audit events are passed up to the application.</span></span><br /><br /> <span data-ttu-id="b8e6a-122">Par défaut, il s’agit de `true`.</span><span class="sxs-lookup"><span data-stu-id="b8e6a-122">The default is `true`.</span></span>|  
|<span data-ttu-id="b8e6a-123">serviceAuthorizationAuditLevel</span><span class="sxs-lookup"><span data-stu-id="b8e6a-123">serviceAuthorizationAuditLevel</span></span>|<span data-ttu-id="b8e6a-124">Spécifie les types d'événements d'autorisation enregistrés dans le journal d'audit.</span><span class="sxs-lookup"><span data-stu-id="b8e6a-124">Specifies the types of authorization events that are recorded in the audit log.</span></span> <span data-ttu-id="b8e6a-125">Les valeurs valides sont les suivantes :</span><span class="sxs-lookup"><span data-stu-id="b8e6a-125">Valid values include the following:</span></span><br /><br /> <span data-ttu-id="b8e6a-126">-None : aucun audit des événements d’autorisation de service n’est effectué.</span><span class="sxs-lookup"><span data-stu-id="b8e6a-126">-   None: No auditing of service authorization events is performed.</span></span><br /><span data-ttu-id="b8e6a-127">-Success : seuls les événements d’autorisation de service réussis sont audités.</span><span class="sxs-lookup"><span data-stu-id="b8e6a-127">-   Success: Only successful service authorization events are audited.</span></span><br /><span data-ttu-id="b8e6a-128">-Failure : seuls les événements d’autorisation de service d’échec sont audités.</span><span class="sxs-lookup"><span data-stu-id="b8e6a-128">-   Failure: Only failure service authorization events are audited.</span></span><br /><span data-ttu-id="b8e6a-129">-SuccessOrFailure : les événements d’autorisation de service de succès et d’échec sont audités.</span><span class="sxs-lookup"><span data-stu-id="b8e6a-129">-   SuccessOrFailure: Both success and failure service authorization events are audited.</span></span><br /><br /> <span data-ttu-id="b8e6a-130">La valeur par défaut est Aucun.</span><span class="sxs-lookup"><span data-stu-id="b8e6a-130">The default value is None.</span></span> <span data-ttu-id="b8e6a-131">Pour plus d’informations, consultez <xref:System.ServiceModel.AuditLevel>.</span><span class="sxs-lookup"><span data-stu-id="b8e6a-131">For more information, see <xref:System.ServiceModel.AuditLevel>.</span></span>|  
|<span data-ttu-id="b8e6a-132">messageAuthenticationAuditLevel</span><span class="sxs-lookup"><span data-stu-id="b8e6a-132">messageAuthenticationAuditLevel</span></span>|<span data-ttu-id="b8e6a-133">Spécifie le type d'événements d'audit d'authentification de message enregistrés.</span><span class="sxs-lookup"><span data-stu-id="b8e6a-133">Specifies the type of message authentication audit events logged.</span></span> <span data-ttu-id="b8e6a-134">Les valeurs valides sont les suivantes :</span><span class="sxs-lookup"><span data-stu-id="b8e6a-134">Valid values include the following:</span></span><br /><br /> <span data-ttu-id="b8e6a-135">-None : aucun événement d’audit n’est généré.</span><span class="sxs-lookup"><span data-stu-id="b8e6a-135">-   None: No audit events are generated.</span></span><br /><span data-ttu-id="b8e6a-136">-Réussite : seules les événements de sécurité réussie (validation complète, y compris la validation de signature de message, le chiffrement et la validation de jeton) sont journalisés.</span><span class="sxs-lookup"><span data-stu-id="b8e6a-136">-   Success: Only successful security (full validation including message signature validation, cipher, and token validation) events are logged.</span></span><br /><span data-ttu-id="b8e6a-137">-Failure : seuls les événements d’échec sont journalisés.</span><span class="sxs-lookup"><span data-stu-id="b8e6a-137">-   Failure: Only failure events are logged.</span></span><br /><span data-ttu-id="b8e6a-138">-SuccessOrFailure : les événements de réussite et d’échec sont journalisés.</span><span class="sxs-lookup"><span data-stu-id="b8e6a-138">-   SuccessOrFailure: Both success and failure events are logged.</span></span><br /><br /> <span data-ttu-id="b8e6a-139">La valeur par défaut est Aucun.</span><span class="sxs-lookup"><span data-stu-id="b8e6a-139">The default value is None.</span></span> <span data-ttu-id="b8e6a-140">Pour plus d’informations, consultez <xref:System.ServiceModel.AuditLevel>.</span><span class="sxs-lookup"><span data-stu-id="b8e6a-140">For more information, see <xref:System.ServiceModel.AuditLevel>.</span></span>|  
  
### <a name="child-elements"></a><span data-ttu-id="b8e6a-141">Éléments enfants</span><span class="sxs-lookup"><span data-stu-id="b8e6a-141">Child Elements</span></span>  
 <span data-ttu-id="b8e6a-142">Aucun.</span><span class="sxs-lookup"><span data-stu-id="b8e6a-142">None.</span></span>  
  
### <a name="parent-elements"></a><span data-ttu-id="b8e6a-143">Éléments parents</span><span class="sxs-lookup"><span data-stu-id="b8e6a-143">Parent Elements</span></span>  
  
|<span data-ttu-id="b8e6a-144">Élément</span><span class="sxs-lookup"><span data-stu-id="b8e6a-144">Element</span></span>|<span data-ttu-id="b8e6a-145">Description</span><span class="sxs-lookup"><span data-stu-id="b8e6a-145">Description</span></span>|  
|-------------|-----------------|  
|[\<behavior>](behavior-of-endpointbehaviors.md)|<span data-ttu-id="b8e6a-146">Spécifie un élément de comportement.</span><span class="sxs-lookup"><span data-stu-id="b8e6a-146">Specifies a behavior element.</span></span>|  
  
## <a name="remarks"></a><span data-ttu-id="b8e6a-147">Remarques</span><span class="sxs-lookup"><span data-stu-id="b8e6a-147">Remarks</span></span>  
 <span data-ttu-id="b8e6a-148">Cet élément de configuration est utilisé pour auditer les événements d’authentification Windows Communication Foundation (WCF).</span><span class="sxs-lookup"><span data-stu-id="b8e6a-148">This configuration element is used to audit Windows Communication Foundation (WCF) authentication events.</span></span> <span data-ttu-id="b8e6a-149">Lorsque l'audit est activé, il est possible de réaliser l'audit des tentatives d'authentification réussies ou échouées (ou les deux).</span><span class="sxs-lookup"><span data-stu-id="b8e6a-149">When auditing is enabled, either successful or failed authentication attempts (or both) can be audited.</span></span> <span data-ttu-id="b8e6a-150">Les événements sont écrits dans l'un des trois journaux des événements : application, sécurité ou journal par défaut de la version du système d'exploitation.</span><span class="sxs-lookup"><span data-stu-id="b8e6a-150">The events are written to one of three event logs: application, security, or the default log for the operating system version.</span></span> <span data-ttu-id="b8e6a-151">Les journaux des événements peuvent être consultés à l'aide de l'Observateur d'événements Windows.</span><span class="sxs-lookup"><span data-stu-id="b8e6a-151">The event logs can all be viewed using the Windows Event viewer.</span></span>  
  
 <span data-ttu-id="b8e6a-152">Pour obtenir un exemple détaillé de l’utilisation de cet élément de configuration, consultez [comportement de l’audit de service](../../../wcf/samples/service-auditing-behavior.md).</span><span class="sxs-lookup"><span data-stu-id="b8e6a-152">For a detailed example of using this configuration element, see [Service Auditing Behavior](../../../wcf/samples/service-auditing-behavior.md).</span></span>  
  
 <span data-ttu-id="b8e6a-153">Par défaut, sur Windows XP, les événements d’audit peuvent être consultés dans le journal des applications, tandis que sur Windows Server 2003 et Windows Vista, ils peuvent être consultés dans le journal de sécurité.</span><span class="sxs-lookup"><span data-stu-id="b8e6a-153">By default, on Windows XP the audit events can be seen in the Application Log; while on Windows Server 2003 and Windows Vista, the audit events can be seen in the Security Log.</span></span> <span data-ttu-id="b8e6a-154">L'emplacement des événements d'audit peut être spécifié en affectant la valeur 'Application' ou 'Security' à l'attribut `auditLogLocation`.</span><span class="sxs-lookup"><span data-stu-id="b8e6a-154">The location of audit events can be specified by setting the `auditLogLocation` attribute to 'Application' or 'Security'.</span></span> <span data-ttu-id="b8e6a-155">Pour plus d’informations, consultez [Comment : auditer des événements de sécurité](../../../wcf/feature-details/how-to-audit-wcf-security-events.md).</span><span class="sxs-lookup"><span data-stu-id="b8e6a-155">For more information, see [How to: Audit Security Events](../../../wcf/feature-details/how-to-audit-wcf-security-events.md).</span></span> <span data-ttu-id="b8e6a-156">Si les événements sont écrits dans le journal de sécurité, LocalSecurityPolicy-> activer l’accès aux objets doit être défini sur « Success » et « Failure ».</span><span class="sxs-lookup"><span data-stu-id="b8e6a-156">If the events are written in the Security Log, the LocalSecurityPolicy-> Enable Object Access should be set for "Success" and "Failure".</span></span>  
  
 <span data-ttu-id="b8e6a-157">Lors de la consultation du journal des événements, la source des événements d'audit est « ServiceModel Audit 3.0.0.0 ».</span><span class="sxs-lookup"><span data-stu-id="b8e6a-157">When looking at the event log, the source of the audit events is "ServiceModel Audit 3.0.0.0".</span></span> <span data-ttu-id="b8e6a-158">Les enregistrements de l'audit d'authentification du message portent la catégorie « MessageAuthentication », tandis que les enregistrements de l'audit d'autorisation du service portent la catégorie « ServiceAuthorization ».</span><span class="sxs-lookup"><span data-stu-id="b8e6a-158">Message authentication audit records have a category of "MessageAuthentication" while service authorization audit records have a category of 'ServiceAuthorization'.</span></span>  
  
 <span data-ttu-id="b8e6a-159">Les événements de l'audit d'authentification du message permettent de savoir si le message a été falsifié, s'il a expiré et si le client peut s'authentifier auprès du service.</span><span class="sxs-lookup"><span data-stu-id="b8e6a-159">Message authentication audit events cover whether the message was tampered with, whether the message has expired and whether the client can authenticate to the service.</span></span> <span data-ttu-id="b8e6a-160">Ils fournissent des informations sur la réussite ou l'échec de l'authentification, l'identité du client, le point de terminaison auquel le message a été envoyé et l'action associée au message.</span><span class="sxs-lookup"><span data-stu-id="b8e6a-160">They provide information about whether the authentication succeeded or failed along with the identity of the client and the endpoint the message was sent to along with the action associated with the message.</span></span>  
  
 <span data-ttu-id="b8e6a-161">Les événements de l'audit d'autorisation du service permettent de connaître la décision d'autorisation prise par un gestionnaire d'autorisation du service.</span><span class="sxs-lookup"><span data-stu-id="b8e6a-161">Service authorization audit events cover the authorization decision made by a service authorization manager.</span></span> <span data-ttu-id="b8e6a-162">Ils fournissent des informations sur la réussite ou l’échec de l’autorisation, ainsi que sur l’identité du client, le point de terminaison auquel le message a été envoyé, l’action associée au message, l’identificateur du contexte d’autorisation qui a été généré à partir du message entrant et le type du gestionnaire d’autorisations qui a pris la décision d’accès.</span><span class="sxs-lookup"><span data-stu-id="b8e6a-162">They provide information about whether authorization succeeded or failed along with the identity of the client, the endpoint the message was sent to, the action associated with the message, the identifier of the authorization context that was generated from the incoming message and the type of the authorization manager that made the access decision.</span></span>  
  
## <a name="example"></a><span data-ttu-id="b8e6a-163">Exemple</span><span class="sxs-lookup"><span data-stu-id="b8e6a-163">Example</span></span>  
  
```xml  
<system.serviceModel>
  <behaviors>
    <serviceBehaviors>
      <behavior name="NewBehavior">
        <serviceSecurityAudit auditLogLocation="Application"
                              suppressAuditFailure="true"
                              serviceAuthorizationAuditLevel="Success"
                              messageAuthenticationAuditLevel="Success" />
      </behavior>
    </serviceBehaviors>
  </behaviors>
</system.serviceModel>
```  
  
## <a name="see-also"></a><span data-ttu-id="b8e6a-164">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="b8e6a-164">See also</span></span>

- <xref:System.ServiceModel.Configuration.ServiceSecurityAuditElement>
- <xref:System.ServiceModel.Description.ServiceSecurityAuditBehavior>
- [<span data-ttu-id="b8e6a-165">Comportements de sécurité</span><span class="sxs-lookup"><span data-stu-id="b8e6a-165">Security Behaviors</span></span>](../../../wcf/feature-details/security-behaviors-in-wcf.md)
- [<span data-ttu-id="b8e6a-166">Audit</span><span class="sxs-lookup"><span data-stu-id="b8e6a-166">Auditing</span></span>](../../../wcf/feature-details/auditing-security-events.md)
- [<span data-ttu-id="b8e6a-167">Comment : auditer des événements de sécurité</span><span class="sxs-lookup"><span data-stu-id="b8e6a-167">How to: Audit Security Events</span></span>](../../../wcf/feature-details/how-to-audit-wcf-security-events.md)
- [<span data-ttu-id="b8e6a-168">Service Auditing Behavior</span><span class="sxs-lookup"><span data-stu-id="b8e6a-168">Service Auditing Behavior</span></span>](../../../wcf/samples/service-auditing-behavior.md)
