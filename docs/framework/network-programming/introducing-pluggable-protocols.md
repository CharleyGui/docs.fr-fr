---
title: Introduction aux protocoles enfichables
ms.date: 03/30/2017
helpviewer_keywords:
- data requests, pluggable protocols
- WebRequest class, pluggable protocols
- response to Internet request, pluggable protocols
- URI
- Windows Sockets
- request/response model
- sending data, pluggable protocols
- pluggable protocols
- WebClient class, about WebClient class
- pluggable protocols, about pluggable protocols
- Internet, pluggable protocols
- path identifiers
- Uniform Resource Identifier
- application development [.NET Framework], pluggable protocols
- requesting data from Internet, pluggable protocols
- receiving data, pluggable protocols
- protocols, pluggable
- server identifiers
- scheme identifiers
ms.assetid: 4b48e22d-e4e5-48f0-be80-d549bda97415
ms.openlocfilehash: 72b47b8159f9f6f0dc3a19c5cbf94335507d9e7d
ms.sourcegitcommit: 289e06e904b72f34ac717dbcc5074239b977e707
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 09/17/2019
ms.locfileid: "71047862"
---
# <a name="introducing-pluggable-protocols"></a><span data-ttu-id="8996f-102">Introduction aux protocoles enfichables</span><span class="sxs-lookup"><span data-stu-id="8996f-102">Introducing Pluggable Protocols</span></span>
<span data-ttu-id="8996f-103">Microsoft .NET Framework fournit une implémentation en couche, extensible et managée de services Internet que vous pouvez intégrer rapidement et facilement à vos applications.</span><span class="sxs-lookup"><span data-stu-id="8996f-103">The Microsoft .NET Framework provides a layered, extensible, and managed implementation of Internet services that can be integrated quickly and easily into your applications.</span></span> <span data-ttu-id="8996f-104">Les classes d’accès à Internet disponibles dans les espaces de noms <xref:System.Net> et <xref:System.Net.Sockets> permettent d’implémenter des applications Internet et web.</span><span class="sxs-lookup"><span data-stu-id="8996f-104">The Internet access classes in the <xref:System.Net> and <xref:System.Net.Sockets> namespaces can be used to implement both Web-based and Internet-based applications.</span></span>  
  
## <a name="internet-applications"></a><span data-ttu-id="8996f-105">Applications Internet</span><span class="sxs-lookup"><span data-stu-id="8996f-105">Internet Applications</span></span>  
 <span data-ttu-id="8996f-106">Les applications Internet se répartissent globalement en deux catégories : les applications clientes qui demandent des informations et les applications serveur qui répondent aux demandes d’informations effectuées par les clients.</span><span class="sxs-lookup"><span data-stu-id="8996f-106">Internet applications can be classified broadly into two kinds: client applications that request information and server applications that respond to information requests from clients.</span></span> <span data-ttu-id="8996f-107">L’application client-serveur Internet connue est le World Wide Web, où les internautes utilisent des navigateurs pour accéder aux documents et autres données qui sont stockés sur des serveurs web dans le monde entier.</span><span class="sxs-lookup"><span data-stu-id="8996f-107">The classic Internet client-server application is the World Wide Web, where people use browsers to access documents and other data stored on Web servers worldwide.</span></span>  
  
 <span data-ttu-id="8996f-108">Les applications ne se limitent pas à un seul de ces rôles. Par exemple, un serveur d’applications de niveau intermédiaire standard répond aux demandes des clients en demandant lui-aussi des données à un autre serveur. Dans ce cas, ce serveur agit à la fois comme serveur et comme client.</span><span class="sxs-lookup"><span data-stu-id="8996f-108">Applications are not limited to just one of these roles; for instance, the familiar middle-tier application server responds to requests from clients by requesting data from another server, in which case it is acting as both a server and a client.</span></span>  
  
 <span data-ttu-id="8996f-109">L’application cliente effectue une demande en identifiant la ressource Internet demandée ainsi que le protocole de communication à utiliser pour la demande et la réponse.</span><span class="sxs-lookup"><span data-stu-id="8996f-109">The client application makes a request by identifying the requested Internet resource and the communication protocol to use for the request and response.</span></span> <span data-ttu-id="8996f-110">Si nécessaire, le client fournit aussi les données supplémentaires requises pour effectuer la demande, telles que les informations sur l’emplacement du proxy ou les informations d’authentification (nom d’utilisateur, mot de passe, etc.).</span><span class="sxs-lookup"><span data-stu-id="8996f-110">If necessary, the client also provides any additional data required to complete the request, such as proxy location or authentication information (user name, password, and so on).</span></span> <span data-ttu-id="8996f-111">Une fois que la demande est prête, elle est envoyée au serveur.</span><span class="sxs-lookup"><span data-stu-id="8996f-111">Once the request is formed, the request can be sent to the server.</span></span>  
  
## <a name="identifying-resources"></a><span data-ttu-id="8996f-112">Identification des ressources</span><span class="sxs-lookup"><span data-stu-id="8996f-112">Identifying Resources</span></span>  
 <span data-ttu-id="8996f-113">.NET Framework utilise un URI (Uniform Resource Identifier) pour identifier la ressource Internet demandée et le protocole de communication utilisé.</span><span class="sxs-lookup"><span data-stu-id="8996f-113">The .NET Framework uses a Uniform Resource Identifier (URI) to identify the requested Internet resource and communication protocol.</span></span> <span data-ttu-id="8996f-114">L’URI se compose de trois ou quatre parties : l’identificateur de schéma, qui identifie le protocole de communication utilisé pour la demande et la réponse ; l’identificateur de serveur, constitué d’un nom d’hôte DNS ou d’une adresse TCP qui identifie de façon unique le serveur sur Internet ; l’identificateur de chemin d’accès, qui indique l’emplacement des informations demandées sur le serveur ; et une chaîne de requête facultative, qui passe les informations du client au serveur.</span><span class="sxs-lookup"><span data-stu-id="8996f-114">The URI consists of at least three, and possibly four, fragments: the scheme identifier, which identifies the communications protocol for the request and response; the server identifier, which consists of either a Domain Name System (DNS) host name or a TCP address that uniquely identifies the server on the Internet; the path identifier, which locates the requested information on the server; and an optional query string, which passes information from the client to the server.</span></span> <span data-ttu-id="8996f-115">Par exemple, l’URI `http://www.contoso.com/whatsnew.aspx?date=today` est formé de l’identificateur de schéma `http`, de l’identificateur de serveur `www.contoso.com`, du chemin d’accès `/whatsnew.aspx` et de la chaîne de requête `?date=today`.</span><span class="sxs-lookup"><span data-stu-id="8996f-115">For example, the URI `http://www.contoso.com/whatsnew.aspx?date=today` consists of the scheme identifier `http`, the server identifier `www.contoso.com`, the path `/whatsnew.aspx`, and the query string `?date=today`.</span></span>  
  
 <span data-ttu-id="8996f-116">Une fois que le serveur a reçu la demande et traité la réponse, il retourne la réponse à l’application cliente.</span><span class="sxs-lookup"><span data-stu-id="8996f-116">After the server has received the request and processed the response, it returns the response to the client application.</span></span> <span data-ttu-id="8996f-117">La réponse inclut des informations supplémentaires, telles que le type du contenu (texte brut ou données XML, par exemple).</span><span class="sxs-lookup"><span data-stu-id="8996f-117">The response includes supplemental information, such as the type of the content (raw text or XML data, for example).</span></span>  
  
## <a name="requests-and-responses-in-the-net-framework"></a><span data-ttu-id="8996f-118">Demandes et réponses dans .NET Framework</span><span class="sxs-lookup"><span data-stu-id="8996f-118">Requests and Responses in the .NET Framework</span></span>  
 <span data-ttu-id="8996f-119">.NET Framework utilise des classes spécifiques pour fournir les trois éléments d’informations nécessaires pour accéder à des ressources Internet selon un modèle de type demande-réponse : la classe <xref:System.Uri>, qui contient l’URI de la ressource Internet recherchée ; la classe <xref:System.Net.WebRequest>, qui contient une demande pour la ressource ; et la classe <xref:System.Net.WebResponse>, qui fournit un conteneur pour la réponse entrante.</span><span class="sxs-lookup"><span data-stu-id="8996f-119">The .NET Framework uses specific classes to provide the three pieces of information required to access Internet resources through a request/response model: the <xref:System.Uri> class, which contains the URI of the Internet resource you are seeking; the <xref:System.Net.WebRequest> class, which contains a request for the resource; and the <xref:System.Net.WebResponse> class, which provides a container for the incoming response.</span></span>  
  
 <span data-ttu-id="8996f-120">Les applications clientes créent des instances `WebRequest` en passant l’URI de la ressource réseau à la méthode <xref:System.Net.WebRequest.Create%2A>.</span><span class="sxs-lookup"><span data-stu-id="8996f-120">Client applications create `WebRequest` instances by passing the URI of the network resource to the <xref:System.Net.WebRequest.Create%2A> method.</span></span> <span data-ttu-id="8996f-121">Cette méthode statique crée une instance `WebRequest` pour un protocole spécifique (HTTP, par exemple).</span><span class="sxs-lookup"><span data-stu-id="8996f-121">This static method creates a `WebRequest` for a specific protocol, such as HTTP.</span></span> <span data-ttu-id="8996f-122">L’instance `WebRequest` retournée fournit l’accès aux propriétés qui contrôlent à la fois la demande envoyée au serveur et l’accès au flux de données qui est transmis quand la demande est effectuée.</span><span class="sxs-lookup"><span data-stu-id="8996f-122">The `WebRequest` that is returned provides access to properties that control both the request to the server and access to the data stream that is sent when the request is made.</span></span> <span data-ttu-id="8996f-123">La méthode <xref:System.Net.WebRequest.GetResponse%2A> sur `WebRequest` envoie la demande de l’application cliente au serveur identifié dans l’URI.</span><span class="sxs-lookup"><span data-stu-id="8996f-123">The <xref:System.Net.WebRequest.GetResponse%2A> method on the `WebRequest` sends the request from the client application to the server identified in the URI.</span></span> <span data-ttu-id="8996f-124">Si la réponse risque d’être différée, la demande peut être effectuée de façon asynchrone sur **WebRequest**, à l’aide de la méthode <xref:System.Net.WebRequest.BeginGetResponse%2A>, et la réponse peut être retournée ultérieurement avec la méthode <xref:System.Net.WebRequest.EndGetResponse%2A>.</span><span class="sxs-lookup"><span data-stu-id="8996f-124">In cases in which the response might be delayed, the request can be made asynchronously using the <xref:System.Net.WebRequest.BeginGetResponse%2A> method on the **WebRequest**, and the response can be returned at a later time using the <xref:System.Net.WebRequest.EndGetResponse%2A> method.</span></span>  
  
 <span data-ttu-id="8996f-125">Les méthodes **GetResponse** et **EndGetResponse** retournent un **WebResponse** qui fournit l’accès aux données retournées par le serveur.</span><span class="sxs-lookup"><span data-stu-id="8996f-125">The **GetResponse** and **EndGetResponse** methods return a **WebResponse** that provides access to the data returned by the server.</span></span> <span data-ttu-id="8996f-126">Comme ces données sont retournées à l’application sous forme de flux par la méthode <xref:System.Net.WebResponse.GetResponseStream%2A>, elles peuvent être utilisées n’importe où dans l’application où des flux de données sont utilisés.</span><span class="sxs-lookup"><span data-stu-id="8996f-126">Because this data is provided to the requesting application as a stream by the <xref:System.Net.WebResponse.GetResponseStream%2A> method, it can be used in an application anywhere data streams are used.</span></span>  
  
 <span data-ttu-id="8996f-127">Les classes **WebRequest** et **WebResponse** constituent la base des protocoles enfichables, une implémentation de services réseau qui vous permet de développer des applications faisant appel à des ressources Internet, sans vous soucier des informations spécifiques au protocole utilisé par chaque ressource.</span><span class="sxs-lookup"><span data-stu-id="8996f-127">The **WebRequest** and **WebResponse** classes are the basis of pluggable protocols — an implementation of network services that enables you to develop applications that use Internet resources without worrying about the specific details of the protocol that each resource uses.</span></span> <span data-ttu-id="8996f-128">Les classes descendantes de **WebRequest** sont inscrites avec la classe **WebRequest** pour gérer les informations utilisées pour établir les connexions aux ressources Internet.</span><span class="sxs-lookup"><span data-stu-id="8996f-128">Descendant classes of **WebRequest** are registered with the **WebRequest** class to manage the details of making the actual connections to Internet resources.</span></span>  
  
 <span data-ttu-id="8996f-129">Par exemple, la classe <xref:System.Net.HttpWebRequest> gère les informations de connexion à une ressource Internet à l’aide du protocole HTTP.</span><span class="sxs-lookup"><span data-stu-id="8996f-129">As an example, the <xref:System.Net.HttpWebRequest> class manages the details of connecting to an Internet resource using HTTP.</span></span> <span data-ttu-id="8996f-130">Par défaut, quand la méthode **WebRequest.Create** détecte un URI qui commence par « http: » ou « https: » (les identificateurs des protocoles HTTP et HTTPS), le **WebRequest** retourné peut être utilisé en l’état, ou son type peut être converti en **HttpWebRequest** pour accéder aux propriétés spécifiques au protocole.</span><span class="sxs-lookup"><span data-stu-id="8996f-130">By default, when the **WebRequest.Create** method encounters a URI that begins with "http:" or "https:" (the protocol identifiers for HTTP and secure HTTP), the **WebRequest** that is returned can be used as is, or it can be typecast to **HttpWebRequest** to access protocol-specific properties.</span></span> <span data-ttu-id="8996f-131">Dans la plupart des cas, le **WebRequest** fournit toutes les informations nécessaires pour effectuer une demande.</span><span class="sxs-lookup"><span data-stu-id="8996f-131">In most cases, the **WebRequest** provides all the necessary information for making a request.</span></span>  
  
 <span data-ttu-id="8996f-132">Tous les protocoles pouvant être représentés sous forme de transaction de type demande-réponse peuvent être utilisés dans un **WebRequest**.</span><span class="sxs-lookup"><span data-stu-id="8996f-132">Any protocol that can be represented as a request/response transaction can be used in a **WebRequest**.</span></span> <span data-ttu-id="8996f-133">Vous pouvez dériver des classes spécifiques au protocole à partir de **WebRequest** et **WebResponse** et inscrire ensuite les classes dérivées pour une utilisation par l’application à l’aide de la méthode <xref:System.Net.WebRequest.RegisterPrefix%2A?displayProperty=nameWithType> statique.</span><span class="sxs-lookup"><span data-stu-id="8996f-133">You can derive protocol-specific classes from **WebRequest** and **WebResponse** and then register them for use by the application with the static <xref:System.Net.WebRequest.RegisterPrefix%2A?displayProperty=nameWithType> method.</span></span>  
  
 <span data-ttu-id="8996f-134">Quand une autorisation du client est requise pour les demandes Internet, la propriété <xref:System.Net.WebRequest.Credentials%2A> de **WebRequest** fournit les informations d’identification nécessaires.</span><span class="sxs-lookup"><span data-stu-id="8996f-134">When client authorization for Internet requests is required, the <xref:System.Net.WebRequest.Credentials%2A> property of the **WebRequest** supplies the necessary credentials.</span></span> <span data-ttu-id="8996f-135">Ces informations d’identification se composent simplement de la paire nom/mot de passe pour l’authentification HTTP de base ou Digest, ou de l’ensemble nom/mot de passe/domaine pour l’authentification NTLM ou Kerberos.</span><span class="sxs-lookup"><span data-stu-id="8996f-135">These credentials can be a simple name/password pair for basic HTTP or digest authentication, or a name/password/domain set for NTLM or Kerberos authentication.</span></span> <span data-ttu-id="8996f-136">Une instance <xref:System.Net.NetworkCredential> peut stocker un seul ensemble d’informations d’identification, alors qu’une instance <xref:System.Net.CredentialCache> peut en stocker plusieurs simultanément.</span><span class="sxs-lookup"><span data-stu-id="8996f-136">One set of credentials can be stored in a <xref:System.Net.NetworkCredential> instance, or multiple sets can be stored simultaneously in a <xref:System.Net.CredentialCache> instance.</span></span> <span data-ttu-id="8996f-137">**CredentialCache** utilise l’URI de la demande ainsi que le schéma d’authentification que le serveur prend en charge pour déterminer quelles informations d’identification envoyer au serveur.</span><span class="sxs-lookup"><span data-stu-id="8996f-137">The **CredentialCache** uses the URI of the request and the authentication scheme that the server supports to determine which credentials to send to the server.</span></span>  
  
## <a name="simple-requests-with-webclient"></a><span data-ttu-id="8996f-138">Demandes simples avec WebClient</span><span class="sxs-lookup"><span data-stu-id="8996f-138">Simple Requests with WebClient</span></span>  
 <span data-ttu-id="8996f-139">Pour les applications se limitant à effectuer des demandes simples de ressources Internet, la classe <xref:System.Net.WebClient> fournit les méthodes standard permettant d’échanger des données avec un serveur Internet.</span><span class="sxs-lookup"><span data-stu-id="8996f-139">For applications that need to make simple requests for Internet resources, the <xref:System.Net.WebClient> class provides common methods for uploading data to or downloading data from an Internet server.</span></span> <span data-ttu-id="8996f-140">Comme la classe **WebClient** repose sur la classe **WebRequest** pour fournir l’accès aux ressources Internet, la classe **WebClient** peut utiliser n’importe quel protocole enfichable inscrit.</span><span class="sxs-lookup"><span data-stu-id="8996f-140">**WebClient** relies on the **WebRequest** class to provide access to Internet resources; therefore, the **WebClient** class can use any registered pluggable protocol.</span></span>  
  
 <span data-ttu-id="8996f-141">Pour les applications qui ne peuvent pas utiliser le modèle de type demande-réponse, ou pour celles devant écouter le réseau et envoyer des demandes, l’espace de noms **System.Net.Sockets** fournit les classes <xref:System.Net.Sockets.TcpClient>, <xref:System.Net.Sockets.TcpListener> et <xref:System.Net.Sockets.UdpClient>.</span><span class="sxs-lookup"><span data-stu-id="8996f-141">For applications that cannot use the request/response model, or for applications that need to listen on the network as well as send requests, the **System.Net.Sockets** namespace provides the <xref:System.Net.Sockets.TcpClient>, <xref:System.Net.Sockets.TcpListener>, and <xref:System.Net.Sockets.UdpClient> classes.</span></span> <span data-ttu-id="8996f-142">Ces classes gèrent les informations utilisées pour établir des connexions à l’aide de différents protocoles de transport et exposent les connexions réseau à l’application sous forme de flux.</span><span class="sxs-lookup"><span data-stu-id="8996f-142">These classes handle the details of making connections using different transport protocols and expose the network connection to the application as a stream.</span></span>  
  
 <span data-ttu-id="8996f-143">Les classes **System.Net.Sockets** seront utiles aux développeurs qui sont familiarisés avec l’interface Windows Sockets ou à ceux qui recherchent le contrôle offert par la programmation au niveau du socket.</span><span class="sxs-lookup"><span data-stu-id="8996f-143">Developers familiar with the Windows Sockets interface or those who need the control provided by programming at the socket level will find that the **System.Net.Sockets** classes meet their needs.</span></span> <span data-ttu-id="8996f-144">Les classes **System.Net.Sockets** constituent un point de transition entre le code managé et le code natif dans les classes **System.Net**.</span><span class="sxs-lookup"><span data-stu-id="8996f-144">The **System.Net.Sockets** classes are a transition point from managed to native code within the **System.Net** classes.</span></span> <span data-ttu-id="8996f-145">Dans la plupart des cas, les classes **System.Net.Sockets** marshalent les données dans les classes équivalentes Windows 32 bits, et gèrent toutes les vérifications de sécurité nécessaires.</span><span class="sxs-lookup"><span data-stu-id="8996f-145">In most cases, **System.Net.Sockets** classes marshal data into their Windows 32-bit counterparts, as well as handling any necessary security checks.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="8996f-146">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="8996f-146">See also</span></span>

- [<span data-ttu-id="8996f-147">Programmation de protocoles enfichables</span><span class="sxs-lookup"><span data-stu-id="8996f-147">Programming Pluggable Protocols</span></span>](programming-pluggable-protocols.md)
- [<span data-ttu-id="8996f-148">Programmation réseau dans le .NET Framework</span><span class="sxs-lookup"><span data-stu-id="8996f-148">Network Programming in the .NET Framework</span></span>](index.md)
- [<span data-ttu-id="8996f-149">Exemples de programmation réseau</span><span class="sxs-lookup"><span data-stu-id="8996f-149">Network Programming Samples</span></span>](network-programming-samples.md)
