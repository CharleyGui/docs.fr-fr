---
title: Dérivation à partir de WebResponse
ms.date: 03/30/2017
helpviewer_keywords:
- Deriving from WebResponse
ms.assetid: f11d4866-a199-4087-9306-a5a4c18b13db
ms.openlocfilehash: 793533b632952df3f0866bb6377efd0e313cd007
ms.sourcegitcommit: bc293b14af795e0e999e3304dd40c0222cf2ffe4
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 11/26/2020
ms.locfileid: "96287525"
---
# <a name="deriving-from-webresponse"></a><span data-ttu-id="18ef1-102">Dérivation à partir de WebResponse</span><span class="sxs-lookup"><span data-stu-id="18ef1-102">Deriving from WebResponse</span></span>

<span data-ttu-id="18ef1-103">La classe <xref:System.Net.WebResponse> est une classe de base abstraite qui fournit les méthodes et les propriétés de base pour la création d’une réponse propre au protocole qui correspond au modèle de protocole enfichable .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="18ef1-103">The <xref:System.Net.WebResponse> class is an abstract base class that provides the basic methods and properties for creating a protocol-specific response that fits the .NET Framework pluggable protocol model.</span></span> <span data-ttu-id="18ef1-104">Les applications qui utilisent la classe <xref:System.Net.WebRequest> pour demander des données à des ressources reçoivent les réponses dans un **WebResponse**.</span><span class="sxs-lookup"><span data-stu-id="18ef1-104">Applications that use the <xref:System.Net.WebRequest> class to request data from resources receive the responses in a **WebResponse**.</span></span> <span data-ttu-id="18ef1-105">Les descendants **WebResponse** propres au protocole doivent implémenter les membres abstraits de la classe **WebResponse**.</span><span class="sxs-lookup"><span data-stu-id="18ef1-105">Protocol-specific **WebResponse** descendants must implement the abstract members of the **WebResponse** class.</span></span>  
  
 <span data-ttu-id="18ef1-106">La classe **WebRequest** associée doit créer des descendants **WebResponse**.</span><span class="sxs-lookup"><span data-stu-id="18ef1-106">The associated **WebRequest** class must create **WebResponse** descendants.</span></span> <span data-ttu-id="18ef1-107">Par exemple, les instances de <xref:System.Net.HttpWebResponse> sont créées uniquement suite à l’appel de <xref:System.Net.HttpWebRequest.GetResponse%2A?displayProperty=nameWithType> ou <xref:System.Net.HttpWebRequest.EndGetResponse%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="18ef1-107">For example, <xref:System.Net.HttpWebResponse> instances are created only as the result of calling <xref:System.Net.HttpWebRequest.GetResponse%2A?displayProperty=nameWithType> or <xref:System.Net.HttpWebRequest.EndGetResponse%2A?displayProperty=nameWithType>.</span></span> <span data-ttu-id="18ef1-108">Chaque **WebResponse** contient le résultat d’une requête envoyée à une ressource et n’est pas destiné à être réutilisé.</span><span class="sxs-lookup"><span data-stu-id="18ef1-108">Each **WebResponse** contains the result of a request to a resource and is not intended to be reused.</span></span>  
  
## <a name="contentlength-property"></a><span data-ttu-id="18ef1-109">Propriété ContentLength</span><span class="sxs-lookup"><span data-stu-id="18ef1-109">ContentLength Property</span></span>  

 <span data-ttu-id="18ef1-110">La propriété <xref:System.Net.WebResponse.ContentLength%2A> indique le nombre d’octets de données qui sont disponibles dans le flux retourné par la méthode <xref:System.Net.WebResponse.GetResponseStream%2A>.</span><span class="sxs-lookup"><span data-stu-id="18ef1-110">The <xref:System.Net.WebResponse.ContentLength%2A> property indicates the number of bytes of data that are available from the stream returned by the <xref:System.Net.WebResponse.GetResponseStream%2A> method.</span></span> <span data-ttu-id="18ef1-111">La propriété **ContentLength** n’indique pas le nombre d’octets d’informations d’en-tête ou de métadonnées retournés par le serveur ; elle n’indique que le nombre d’octets de données dans la ressource demandée proprement dite.</span><span class="sxs-lookup"><span data-stu-id="18ef1-111">The **ContentLength** property does not indicate the number of bytes of header or metadata information returned by the server; it indicates only the number of bytes of data in the requested resource itself.</span></span>  
  
## <a name="contenttype-property"></a><span data-ttu-id="18ef1-112">Propriété ContentType</span><span class="sxs-lookup"><span data-stu-id="18ef1-112">ContentType Property</span></span>  

 <span data-ttu-id="18ef1-113">La propriété <xref:System.Net.WebResponse.ContentType%2A> fournit toutes les informations spéciales que votre protocole vous oblige à envoyer au client pour identifier le type de contenu envoyé par le serveur.</span><span class="sxs-lookup"><span data-stu-id="18ef1-113">The <xref:System.Net.WebResponse.ContentType%2A> property provides any special information that your protocol requires you to send to the client to identify the type of content being sent by the server.</span></span> <span data-ttu-id="18ef1-114">Il s’agit généralement du type de contenu MIME des données retournées.</span><span class="sxs-lookup"><span data-stu-id="18ef1-114">Typically this is the MIME content type of any data returned.</span></span>  
  
## <a name="headers-property"></a><span data-ttu-id="18ef1-115">Propriété Headers</span><span class="sxs-lookup"><span data-stu-id="18ef1-115">Headers Property</span></span>  

 <span data-ttu-id="18ef1-116">La propriété <xref:System.Net.WebResponse.Headers%2A> contient une collection arbitraire de paires nom/valeur de métadonnées associées à la réponse.</span><span class="sxs-lookup"><span data-stu-id="18ef1-116">The <xref:System.Net.WebResponse.Headers%2A> property contains an arbitrary collection of name/value pairs of metadata associated with the response.</span></span> <span data-ttu-id="18ef1-117">Toutes les métadonnées nécessaires au protocole qui peuvent être exprimées sous forme de paire nom/valeur peuvent être incluses dans la propriété **Headers**.</span><span class="sxs-lookup"><span data-stu-id="18ef1-117">Any metadata needed by the protocol that can be expressed as a name/value pair can be included in the **Headers** property.</span></span>  
  
 <span data-ttu-id="18ef1-118">Vous n’êtes pas obligé d’utiliser la propriété **Headers** pour utiliser des métadonnées d’en-tête.</span><span class="sxs-lookup"><span data-stu-id="18ef1-118">You are not required to use the **Headers** property to use header metadata.</span></span> <span data-ttu-id="18ef1-119">Les métadonnées propres au protocole peuvent être exposées en tant que propriétés ; par exemple, la propriété <xref:System.Net.HttpWebResponse.LastModified%2A?displayProperty=nameWithType> expose l’en-tête HTTP **Last-Modified**.</span><span class="sxs-lookup"><span data-stu-id="18ef1-119">Protocol-specific metadata can be exposed as properties; for example, the <xref:System.Net.HttpWebResponse.LastModified%2A?displayProperty=nameWithType> property exposes the **Last-Modified** HTTP header.</span></span> <span data-ttu-id="18ef1-120">Quand vous exposez des métadonnées d’en-tête en tant que propriété, vous ne devez pas autoriser la définition de la même propriété à l’aide de la propriété **Headers**.</span><span class="sxs-lookup"><span data-stu-id="18ef1-120">When you expose header metadata as a property, you should not allow the same property to be set using the **Headers** property.</span></span>  
  
## <a name="responseuri-property"></a><span data-ttu-id="18ef1-121">Propriété ResponseUri</span><span class="sxs-lookup"><span data-stu-id="18ef1-121">ResponseUri Property</span></span>  

 <span data-ttu-id="18ef1-122">La propriété <xref:System.Net.WebResponse.ResponseUri%2A> contient l’URI de la ressource qui a réellement fourni la réponse.</span><span class="sxs-lookup"><span data-stu-id="18ef1-122">The <xref:System.Net.WebResponse.ResponseUri%2A> property contains the URI of the resource that actually provided the response.</span></span> <span data-ttu-id="18ef1-123">Pour les protocoles qui ne prennent pas en charge la redirection, **ResponseUri** est identique à la propriété <xref:System.Net.WebRequest.RequestUri%2A> de la **WebRequest** qui a créé la réponse.</span><span class="sxs-lookup"><span data-stu-id="18ef1-123">For protocols that do not support redirection, **ResponseUri** will be the same as the <xref:System.Net.WebRequest.RequestUri%2A> property of the **WebRequest** that created the response.</span></span> <span data-ttu-id="18ef1-124">Si le protocole prend en charge la redirection de la requête, **ResponseUri** contient l’URI de la réponse.</span><span class="sxs-lookup"><span data-stu-id="18ef1-124">If the protocol supports redirecting the request, **ResponseUri** will contain the URI of the response.</span></span>  
  
## <a name="close-method"></a><span data-ttu-id="18ef1-125">Close, méthode</span><span class="sxs-lookup"><span data-stu-id="18ef1-125">Close Method</span></span>  

 <span data-ttu-id="18ef1-126">La méthode <xref:System.Net.WebResponse.Close%2A> ferme toutes les connexions établies par la requête et la réponse, et nettoie les ressources utilisées par la réponse.</span><span class="sxs-lookup"><span data-stu-id="18ef1-126">The <xref:System.Net.WebResponse.Close%2A> method closes any connections made by the request and response and cleans up resources used by the response.</span></span> <span data-ttu-id="18ef1-127">La méthode **Close** ferme toutes les instances de flux utilisées par la réponse, mais elle ne lève pas d’exception si le flux de réponse a été fermé précédemment par un appel à la méthode <xref:System.IO.Stream.Close%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="18ef1-127">The **Close** method closes any stream instances used by the response, but it does not throw an exception if the response stream was previously closed by a call to the <xref:System.IO.Stream.Close%2A?displayProperty=nameWithType> method.</span></span>  
  
## <a name="getresponsestream-method"></a><span data-ttu-id="18ef1-128">Méthode GetResponseStream</span><span class="sxs-lookup"><span data-stu-id="18ef1-128">GetResponseStream Method</span></span>  

 <span data-ttu-id="18ef1-129">La méthode <xref:System.Net.WebResponse.GetResponseStream%2A> retourne un flux contenant la réponse retournée par la ressource demandée.</span><span class="sxs-lookup"><span data-stu-id="18ef1-129">The <xref:System.Net.WebResponse.GetResponseStream%2A> method returns a stream containing the response from the requested resource.</span></span> <span data-ttu-id="18ef1-130">Le flux de réponse contient uniquement les données retournées par la ressource ; les en-têtes ou les métadonnées incluses dans la réponse doivent être supprimée de la réponse et exposées à l’application par le biais de propriétés propres au protocole ou de la propriété **Headers**.</span><span class="sxs-lookup"><span data-stu-id="18ef1-130">The response stream contains only the data returned by the resource; any header or metadata included in the response should be stripped from the response and exposed to the application through protocol-specific properties or the **Headers** property.</span></span>  
  
 <span data-ttu-id="18ef1-131">L’instance de flux retournée par la méthode **GetResponseStream** appartient à l’application et peut être fermée sans fermer le **WebResponse**.</span><span class="sxs-lookup"><span data-stu-id="18ef1-131">The stream instance returned by the **GetResponseStream** method is owned by the application and can be closed without closing the **WebResponse**.</span></span> <span data-ttu-id="18ef1-132">Par convention, l’appel de la méthode **WebResponse.Close** ferme également le flux retourné par **GetResponse**.</span><span class="sxs-lookup"><span data-stu-id="18ef1-132">By convention, calling the **WebResponse.Close** method also closes the stream returned by **GetResponse**.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="18ef1-133">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="18ef1-133">See also</span></span>

- <xref:System.Net.WebResponse>
- <xref:System.Net.HttpWebResponse>
- <xref:System.Net.FileWebResponse>
- [<span data-ttu-id="18ef1-134">programmation de protocoles enfichables</span><span class="sxs-lookup"><span data-stu-id="18ef1-134">Programming Pluggable Protocols</span></span>](programming-pluggable-protocols.md)
- [<span data-ttu-id="18ef1-135">dérivation de WebRequest</span><span class="sxs-lookup"><span data-stu-id="18ef1-135">Deriving from WebRequest</span></span>](deriving-from-webrequest.md)
