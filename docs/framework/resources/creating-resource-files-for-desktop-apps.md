---
title: Créer des fichiers de ressources pour les applications .NET
description: Créer des fichiers de ressources pour les applications .NET. Créez des fichiers texte avec des ressources de type chaîne, des fichiers XML ou binaires par programme, ou des fichiers XML avec des données de type chaîne, image ou objet.
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- resource files, .resources files
- .resources files
- application resources, creating files
- resource files, creating
ms.assetid: 6c5ad891-66a0-4e7a-adcf-f41863ba6d8d
ms.openlocfilehash: 2e71dc177a0358370c7eecde03d9388cced60b75
ms.sourcegitcommit: 60dc0a11ebdd77f969f41891d5cca06335cda6a7
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/27/2020
ms.locfileid: "88957435"
---
# <a name="create-resource-files-for-net-apps"></a><span data-ttu-id="862a8-104">Créer des fichiers de ressources pour les applications .NET</span><span class="sxs-lookup"><span data-stu-id="862a8-104">Create resource files for .NET apps</span></span>

<span data-ttu-id="862a8-105">Vous pouvez inclure des ressources, telles que des chaînes, des images ou des données d’objet, dans les fichiers de ressources pour les rendre facilement accessibles à votre application.</span><span class="sxs-lookup"><span data-stu-id="862a8-105">You can include resources, such as strings, images, or object data, in resources files to make them easily available to your application.</span></span> <span data-ttu-id="862a8-106">Le .NET Framework propose cinq façons de créer des fichiers de ressources :</span><span class="sxs-lookup"><span data-stu-id="862a8-106">The .NET Framework offers five ways to create resources files:</span></span>

- <span data-ttu-id="862a8-107">Créez un fichier texte qui contient des ressources de type chaîne.</span><span class="sxs-lookup"><span data-stu-id="862a8-107">Create a text file that contains string resources.</span></span> <span data-ttu-id="862a8-108">Vous pouvez utiliser le [Générateur de fichiers de ressources (Resgen.exe)](../tools/resgen-exe-resource-file-generator.md) pour convertir le fichier texte en un fichier de ressources binaire (.resources).</span><span class="sxs-lookup"><span data-stu-id="862a8-108">You can use [Resource File Generator (Resgen.exe)](../tools/resgen-exe-resource-file-generator.md) to convert the text file into a binary resource (.resources) file.</span></span> <span data-ttu-id="862a8-109">Vous pouvez ensuite incorporer le fichier de ressources binaire dans un exécutable d’application ou une bibliothèque d’application à l’aide d’un compilateur de langage, ou l’incorporer dans un assembly satellite à l’aide d' [Assembly Linker (Al.exe)](../tools/al-exe-assembly-linker.md).</span><span class="sxs-lookup"><span data-stu-id="862a8-109">You can then embed the binary resource file  in an application executable or an application library by using a language compiler, or you can embed it in a satellite assembly by using [Assembly Linker (Al.exe)](../tools/al-exe-assembly-linker.md).</span></span> <span data-ttu-id="862a8-110">Pour plus d’informations, consultez la section [Ressources dans les fichiers texte](creating-resource-files-for-desktop-apps.md#TextFiles).</span><span class="sxs-lookup"><span data-stu-id="862a8-110">For more information, see the [Resources in Text Files](creating-resource-files-for-desktop-apps.md#TextFiles) section.</span></span>

- <span data-ttu-id="862a8-111">Créez un fichier de ressources XML (.resx) qui contient des données de chaîne, d’image ou d’objet.</span><span class="sxs-lookup"><span data-stu-id="862a8-111">Create an XML resource (.resx) file that contains string, image, or object data.</span></span> <span data-ttu-id="862a8-112">Vous pouvez utiliser le [Générateur de fichiers de ressources (Resgen.exe)](../tools/resgen-exe-resource-file-generator.md) pour convertir le fichier .resx en un fichier de ressources binaire (.resources).</span><span class="sxs-lookup"><span data-stu-id="862a8-112">You can use [Resource File Generator (Resgen.exe)](../tools/resgen-exe-resource-file-generator.md) to convert the .resx file into a binary resource (.resources) file.</span></span> <span data-ttu-id="862a8-113">Vous pouvez ensuite incorporer le fichier de ressources binaire dans un exécutable d’application ou une bibliothèque d’applications en utilisant un compilateur de langage, ou l’incorporer dans un assembly satellite avec [Assembly Linker (Al.exe)](../tools/al-exe-assembly-linker.md).</span><span class="sxs-lookup"><span data-stu-id="862a8-113">You can then embed the binary resource file in an application executable or an application library by using a language compiler, or you can embed it in a satellite assembly by using [Assembly Linker (Al.exe)](../tools/al-exe-assembly-linker.md).</span></span> <span data-ttu-id="862a8-114">Pour plus d’informations, consultez la section [Ressources dans les fichiers .resx](creating-resource-files-for-desktop-apps.md#ResxFiles).</span><span class="sxs-lookup"><span data-stu-id="862a8-114">For more information, see the [Resources in .resx Files](creating-resource-files-for-desktop-apps.md#ResxFiles) section.</span></span>

- <span data-ttu-id="862a8-115">Créez un fichier de ressources XML (.resx) par programmation en utilisant des types dans l’espace de noms <xref:System.Resources>.</span><span class="sxs-lookup"><span data-stu-id="862a8-115">Create an XML resource (.resx) file programmatically by using types in the <xref:System.Resources> namespace.</span></span> <span data-ttu-id="862a8-116">Vous pouvez créer un fichier .resx, énumérer ses ressources et récupérer des ressources spécifiques par nom.</span><span class="sxs-lookup"><span data-stu-id="862a8-116">You can create a .resx file, enumerate its resources, and retrieve specific resources by name.</span></span> <span data-ttu-id="862a8-117">Pour plus d’informations, consultez [Utilisation des fichiers .resx par programmation](working-with-resx-files-programmatically.md).</span><span class="sxs-lookup"><span data-stu-id="862a8-117">For more information, see [Working with .resx Files Programmatically](working-with-resx-files-programmatically.md).</span></span>

- <span data-ttu-id="862a8-118">Créez un fichier de ressources binaire (.resources) par programmation.</span><span class="sxs-lookup"><span data-stu-id="862a8-118">Create a binary resource (.resources) file programmatically.</span></span> <span data-ttu-id="862a8-119">Vous pouvez ensuite incorporer le fichier dans un exécutable d’application ou une bibliothèque d’applications en utilisant un compilateur de langage, ou l’incorporer dans un assembly satellite avec [Assembly Linker (Al.exe)](../tools/al-exe-assembly-linker.md).</span><span class="sxs-lookup"><span data-stu-id="862a8-119">You can then embed the file in an application executable or an application library by using a language compiler, or you can embed it in a satellite assembly by using [Assembly Linker (Al.exe)](../tools/al-exe-assembly-linker.md).</span></span> <span data-ttu-id="862a8-120">Pour plus d’informations, consultez la section [Ressources dans les fichiers .resources](creating-resource-files-for-desktop-apps.md#ResourcesFiles).</span><span class="sxs-lookup"><span data-stu-id="862a8-120">For more information, see the [Resources in .resources Files](creating-resource-files-for-desktop-apps.md#ResourcesFiles) section.</span></span>

- <span data-ttu-id="862a8-121">Utilisez [Visual Studio](https://visualstudio.microsoft.com/vs/?utm_medium=microsoft&utm_source=docs.microsoft.com&utm_campaign=inline+link) pour créer un fichier de ressources et l’inclure dans votre projet.</span><span class="sxs-lookup"><span data-stu-id="862a8-121">Use [Visual Studio](https://visualstudio.microsoft.com/vs/?utm_medium=microsoft&utm_source=docs.microsoft.com&utm_campaign=inline+link) to create a resource file and include it in your project.</span></span> <span data-ttu-id="862a8-122">Visual Studio fournit un éditeur de ressources qui vous permet d’ajouter, de supprimer et de modifier des ressources.</span><span class="sxs-lookup"><span data-stu-id="862a8-122">Visual Studio provides a resource editor that lets you add, delete, and modify resources.</span></span> <span data-ttu-id="862a8-123">Au moment de la compilation, le fichier de ressources est automatiquement converti en un fichier .resources binaire et incorporé dans un assembly d’application ou un assembly satellite.</span><span class="sxs-lookup"><span data-stu-id="862a8-123">At compile time, the resource file is automatically converted to a binary .resources file and embedded in an application assembly or satellite assembly.</span></span> <span data-ttu-id="862a8-124">Pour plus d’informations, consultez la section [Fichiers de ressources dans Visual Studio](creating-resource-files-for-desktop-apps.md#VSResFiles).</span><span class="sxs-lookup"><span data-stu-id="862a8-124">For more information, see the [Resource Files in Visual Studio](creating-resource-files-for-desktop-apps.md#VSResFiles) section.</span></span>

<a name="TextFiles"></a>
## <a name="resources-in-text-files"></a><span data-ttu-id="862a8-125">Ressources dans les fichiers texte</span><span class="sxs-lookup"><span data-stu-id="862a8-125">Resources in text files</span></span>

<span data-ttu-id="862a8-126">Vous pouvez utiliser des fichiers texte (.txt ou .restext) pour stocker uniquement les ressources de chaîne.</span><span class="sxs-lookup"><span data-stu-id="862a8-126">You can use text (.txt or .restext) files to store string resources only.</span></span> <span data-ttu-id="862a8-127">Pour les ressources autres que les ressources de chaîne, utilisez des fichiers .resx ou créez-les programmatiquement.</span><span class="sxs-lookup"><span data-stu-id="862a8-127">For non-string resources, use .resx files or create them programmatically.</span></span> <span data-ttu-id="862a8-128">Les fichiers texte qui contiennent des ressources de type chaîne ont le format suivant :</span><span class="sxs-lookup"><span data-stu-id="862a8-128">Text files that contain string resources have the following format:</span></span>

```text
# This is an optional comment.
name = value

; This is another optional comment.
name = value

; The following supports conditional compilation if X is defined.
#ifdef X
name1=value1
name2=value2
#endif

# The following supports conditional compilation if Y is undefined.
#if !Y
name1=value1
name2=value2
#endif
```

 <span data-ttu-id="862a8-129">Le format de fichier de ressources des fichiers .txt et .restext est identique.</span><span class="sxs-lookup"><span data-stu-id="862a8-129">The resource file format of .txt and .restext files is identical.</span></span> <span data-ttu-id="862a8-130">L’extension de fichier .restext sert uniquement à rendre des fichiers texte immédiatement identifiables comme fichiers de ressources textuelles.</span><span class="sxs-lookup"><span data-stu-id="862a8-130">The .restext file extension merely serves to make text files immediately identifiable as text-based resource files.</span></span>

 <span data-ttu-id="862a8-131">Les ressources de type chaîne s’affichent sous forme de paires *nom/valeur*, où *nom* est une chaîne qui identifie la ressource, et *valeur* est la chaîne de ressource retournée quand vous passez *nom* à une méthode de récupération de la ressource telle que <xref:System.Resources.ResourceManager.GetString%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="862a8-131">String resources appear as *name/value* pairs, where *name* is a string that identifies the resource, and *value* is the resource string that is returned when you pass *name* to a resource retrieval method such as <xref:System.Resources.ResourceManager.GetString%2A?displayProperty=nameWithType>.</span></span> <span data-ttu-id="862a8-132">*nom* et *valeur* doivent être séparés par un signe égal (=).</span><span class="sxs-lookup"><span data-stu-id="862a8-132">*name* and *value* must be separated by an equal sign (=).</span></span> <span data-ttu-id="862a8-133">Par exemple :</span><span class="sxs-lookup"><span data-stu-id="862a8-133">For example:</span></span>

```text
FileMenuName=File
EditMenuName=Edit
ViewMenuName=View
HelpMenuName=Help
```

> [!CAUTION]
> <span data-ttu-id="862a8-134">N’utilisez pas de fichier de ressources pour stocker des mots de passe, des informations sensibles ou des données privées.</span><span class="sxs-lookup"><span data-stu-id="862a8-134">Do not use resource files to store passwords, security-sensitive information, or private data.</span></span>

 <span data-ttu-id="862a8-135">Les chaînes vides (autrement dit, une ressource dont la valeur est <xref:System.String.Empty?displayProperty=nameWithType>) sont autorisées dans les fichiers texte.</span><span class="sxs-lookup"><span data-stu-id="862a8-135">Empty strings (that is, a resource whose value is <xref:System.String.Empty?displayProperty=nameWithType>) are permitted in text files.</span></span> <span data-ttu-id="862a8-136">Par exemple :</span><span class="sxs-lookup"><span data-stu-id="862a8-136">For example:</span></span>

```text
EmptyString=
```

 <span data-ttu-id="862a8-137">À compter de .NET Framework 4,5 et dans toutes les versions de .NET Core, les fichiers texte prennent en charge la compilation conditionnelle avec les `#ifdef` constructions *symbol*... `#endif` et `#if !` *symbol*... `#endif` .</span><span class="sxs-lookup"><span data-stu-id="862a8-137">Starting with .NET Framework 4.5 and in all versions of .NET Core, text files support conditional compilation with the `#ifdef`*symbol*... `#endif` and `#if !`*symbol*... `#endif` constructs.</span></span> <span data-ttu-id="862a8-138">Vous pouvez ensuite utiliser le commutateur `/define` avec le [Générateur de fichiers de ressources (Resgen.exe)](../tools/resgen-exe-resource-file-generator.md) pour définir les symboles.</span><span class="sxs-lookup"><span data-stu-id="862a8-138">You can then use the `/define` switch with [Resource File Generator (Resgen.exe)](../tools/resgen-exe-resource-file-generator.md) to define symbols.</span></span> <span data-ttu-id="862a8-139">Chaque ressource requiert sa propre `#ifdef` *construction Symbol*... `#endif` ou `#if !` *symbol*... `#endif` .</span><span class="sxs-lookup"><span data-stu-id="862a8-139">Each resource requires its own `#ifdef`*symbol*... `#endif` or `#if !`*symbol*... `#endif` construct.</span></span> <span data-ttu-id="862a8-140">Si vous utilisez une instruction `#ifdef` et que *symbole* est défini, la ressource associée est incluse dans le fichier .resources ; sinon, elle n’est pas incluse.</span><span class="sxs-lookup"><span data-stu-id="862a8-140">If you use an `#ifdef` statement and *symbol* is defined, the associated resource is included in the .resources file; otherwise, it is not included.</span></span> <span data-ttu-id="862a8-141">Si vous utilisez une instruction `#if !` et que *symbole* n’est pas défini, la ressource associée est incluse dans le fichier .resources ; sinon, elle n’est pas incluse.</span><span class="sxs-lookup"><span data-stu-id="862a8-141">If you use an `#if !` statement and *symbol* is not defined, the associated resource is included in the .resources file; otherwise, it is not included.</span></span>

 <span data-ttu-id="862a8-142">Les commentaires sont facultatifs dans les fichiers texte et sont précédés d’un point-virgule (;) ou d’un signe dièse (#) au début d’une ligne.</span><span class="sxs-lookup"><span data-stu-id="862a8-142">Comments are optional in text files and are preceded either by a semicolon (;) or by a pound sign (#) at the beginning of a line.</span></span> <span data-ttu-id="862a8-143">Les lignes qui contiennent des commentaires peuvent être placées n’importe où dans le fichier.</span><span class="sxs-lookup"><span data-stu-id="862a8-143">Lines that contain comments can be placed anywhere in the file.</span></span> <span data-ttu-id="862a8-144">Les commentaires ne sont pas inclus dans un fichier .resources compilé créé avec le [Générateur de fichiers de ressources (Resgen.exe)](../tools/resgen-exe-resource-file-generator.md).</span><span class="sxs-lookup"><span data-stu-id="862a8-144">Comments are not included in a compiled .resources file that is created by using [Resource File Generator (Resgen.exe)](../tools/resgen-exe-resource-file-generator.md).</span></span>

 <span data-ttu-id="862a8-145">Les lignes vides dans les fichiers texte sont considérées comme des espaces blancs et sont ignorées.</span><span class="sxs-lookup"><span data-stu-id="862a8-145">Any blank lines in the text files are considered to be white space and are ignored.</span></span>

 <span data-ttu-id="862a8-146">L’exemple suivant définit deux ressources de type chaîne nommées `OKButton` et `CancelButton`.</span><span class="sxs-lookup"><span data-stu-id="862a8-146">The following example defines two string resources named `OKButton` and `CancelButton`.</span></span>

```text
#Define resources for buttons in the user interface.
OKButton=OK
CancelButton=Cancel
```

 <span data-ttu-id="862a8-147">Si le fichier texte contient des occurrences en double de *nom*, le [Générateur de fichiers de ressources (Resgen.exe)](../tools/resgen-exe-resource-file-generator.md) affiche un avertissement et ignore le deuxième nom.</span><span class="sxs-lookup"><span data-stu-id="862a8-147">If the text file contains duplicate occurrences of *name*, [Resource File Generator (Resgen.exe)](../tools/resgen-exe-resource-file-generator.md) displays a warning and ignores the second name.</span></span>

 <span data-ttu-id="862a8-148">la *valeur* ne peut pas contenir de caractères de nouvelle ligne, mais vous pouvez utiliser des caractères d’échappement de style langage C tels que `\n` pour représenter une nouvelle ligne et `\t` représenter une tabulation. Vous pouvez également inclure une barre oblique inverse si elle est placée dans une séquence d’échappement (par exemple, « \\ \\ »).</span><span class="sxs-lookup"><span data-stu-id="862a8-148">*value* cannot contain new line characters, but you can use C language-style escape characters such as `\n` to represent a new line and `\t` to represent a tab. You can also include a backslash character if it is escaped (for example, "\\\\").</span></span> <span data-ttu-id="862a8-149">En outre, une chaîne vide est autorisée.</span><span class="sxs-lookup"><span data-stu-id="862a8-149">In addition, an empty string is permitted.</span></span>

 <span data-ttu-id="862a8-150">Enregistrez les ressources au format de fichier texte en utilisant l’encodage UTF-8 ou l’encodage UTF-16 dans l’ordre de primauté des octets de poids faible ou de poids fort (Big-endian).</span><span class="sxs-lookup"><span data-stu-id="862a8-150">Save resources in text file format by using UTF-8 encoding or UTF-16 encoding in either little-endian or big-endian byte order.</span></span> <span data-ttu-id="862a8-151">Toutefois, le [Générateur de fichiers de ressources (Resgen.exe)](../tools/resgen-exe-resource-file-generator.md), qui convertit un fichier .txt en fichier .resources, traite les fichiers au format UTF-8 par défaut.</span><span class="sxs-lookup"><span data-stu-id="862a8-151">However, [Resource File Generator (Resgen.exe)](../tools/resgen-exe-resource-file-generator.md), which converts a .txt file to a .resources file, treats files as UTF-8 by default.</span></span> <span data-ttu-id="862a8-152">Si vous souhaitez que Resgen.exe reconnaisse un fichier encodé à l’aide d’UTF-16, vous devez inclure une marque d’ordre d’octet Unicode (U+FEFF) au début du fichier.</span><span class="sxs-lookup"><span data-stu-id="862a8-152">If you want Resgen.exe to recognize a file that was encoded using UTF-16, you must include a Unicode byte order mark (U+FEFF) at the beginning of the file.</span></span>

 <span data-ttu-id="862a8-153">Pour incorporer un fichier de ressources au format de fichier texte dans un assembly .NET, vous devez convertir le fichier en un fichier de ressources binaire (.resources) à l’aide du [Générateur de fichiers de ressources (Resgen.exe)](../tools/resgen-exe-resource-file-generator.md).</span><span class="sxs-lookup"><span data-stu-id="862a8-153">To embed a resource file in text format into a .NET assembly, you must convert the file to a binary resource (.resources) file by using [Resource File Generator (Resgen.exe)](../tools/resgen-exe-resource-file-generator.md).</span></span> <span data-ttu-id="862a8-154">Vous pouvez ensuite incorporer le fichier .resources dans un assembly .NET en utilisant un compilateur de langage, ou l’incorporer dans un assembly satellite avec [Assembly Linker (Al.exe)](../tools/al-exe-assembly-linker.md).</span><span class="sxs-lookup"><span data-stu-id="862a8-154">You can then embed the .resources file in a .NET assembly by using a language compiler or embed it in a satellite assembly by using [Assembly Linker (Al.exe)](../tools/al-exe-assembly-linker.md).</span></span>

 <span data-ttu-id="862a8-155">L’exemple suivant utilise un fichier de ressources au format texte nommé GreetingResources.txt pour une application console « Hello World » simple.</span><span class="sxs-lookup"><span data-stu-id="862a8-155">The following example uses a resource file in text format named GreetingResources.txt for a simple "Hello World" console application.</span></span> <span data-ttu-id="862a8-156">Le fichier texte définit deux chaînes, `prompt` et `greeting` , qui invitent l’utilisateur à entrer son nom et à afficher un message d’accueil.</span><span class="sxs-lookup"><span data-stu-id="862a8-156">The text file defines two strings, `prompt` and `greeting`, that prompt the user to enter their name and display a greeting.</span></span>

```text
# GreetingResources.txt
# A resource file in text format for a "Hello World" application.
#
# Initial prompt to the user.
prompt=Enter your name:
# Format string to display the result.
greeting=Hello, {0}!
```

<span data-ttu-id="862a8-157">Le fichier texte est converti en un fichier .resources à l’aide de la commande suivante :</span><span class="sxs-lookup"><span data-stu-id="862a8-157">The text file is converted to a .resources file by using the following command:</span></span>

```console
resgen GreetingResources.txt
```

 <span data-ttu-id="862a8-158">L’exemple suivant affiche le code source pour une application console qui utilise le fichier .resources pour afficher des messages à l’intention de l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="862a8-158">The following example shows the source code for a console application that uses the .resources file to display messages to the user.</span></span>

 [!code-csharp[Conceptual.Resources.TextFiles#1](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.resources.textfiles/cs/greeting.cs#1)]
 [!code-vb[Conceptual.Resources.TextFiles#1](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.resources.textfiles/vb/greeting.vb#1)]

 <span data-ttu-id="862a8-159">Si vous utilisez Visual Basic et que le fichier de code source est nommé Greeting.vb, la commande suivante crée un fichier exécutable qui inclut le fichier .resources incorporé :</span><span class="sxs-lookup"><span data-stu-id="862a8-159">If you are using Visual Basic, and the source code file is named Greeting.vb, the following command creates an executable file that includes the embedded .resources file:</span></span>

```console
vbc greeting.vb -resource:GreetingResources.resources
```

 <span data-ttu-id="862a8-160">Si vous utilisez C# et que le fichier de code source est nommé Greeting.cs, la commande suivante crée un fichier exécutable qui inclut le fichier .resources incorporé :</span><span class="sxs-lookup"><span data-stu-id="862a8-160">If you are using C#, and the source code file is named Greeting.cs, the following command creates an executable file that includes the embedded .resources file:</span></span>

```console
csc greeting.cs -resource:GreetingResources.resources
```

<a name="ResxFiles"></a>
## <a name="resources-in-resx-files"></a><span data-ttu-id="862a8-161">Ressources dans les fichiers .resx</span><span class="sxs-lookup"><span data-stu-id="862a8-161">Resources in .resx files</span></span>
 <span data-ttu-id="862a8-162">Contrairement aux fichiers texte, qui peuvent stocker des ressources de type chaîne uniquement, les fichiers de ressources XML (.resx) peuvent stocker des chaînes, des données binaires telles que les images, les icônes et les clips audio, et des objets de programmation.</span><span class="sxs-lookup"><span data-stu-id="862a8-162">Unlike text files, which can only store string resources, XML resource (.resx) files can store strings, binary data such as images, icons, and audio clips, and programmatic objects.</span></span> <span data-ttu-id="862a8-163">Un fichier .resx contient un en-tête standard, qui décrit le format des entrées de ressources et spécifie les informations de contrôle de version pour le XML utilisé pour analyser les données.</span><span class="sxs-lookup"><span data-stu-id="862a8-163">A .resx file contains a standard header, which describes the format of the resource entries and specifies the versioning information for the XML that is used to parse the data.</span></span> <span data-ttu-id="862a8-164">Les données de fichier de ressources suivent l’en-tête XML.</span><span class="sxs-lookup"><span data-stu-id="862a8-164">The resource file data follows the XML header.</span></span> <span data-ttu-id="862a8-165">Chaque élément de données se compose d’une paire nom/valeur contenue dans une balise `data`.</span><span class="sxs-lookup"><span data-stu-id="862a8-165">Each data item consists of a name/value pair that is contained in a `data` tag.</span></span> <span data-ttu-id="862a8-166">Son attribut `name` définit le nom de ressource et la balise `value` imbriquée contient la valeur de ressource.</span><span class="sxs-lookup"><span data-stu-id="862a8-166">Its `name` attribute defines the resource name, and the nested `value` tag contains the resource value.</span></span> <span data-ttu-id="862a8-167">Pour les données de type chaîne, la balise `value` contient la chaîne.</span><span class="sxs-lookup"><span data-stu-id="862a8-167">For string data, the `value` tag contains the string.</span></span>

 <span data-ttu-id="862a8-168">Par exemple, la balise `data` suivante définit une ressource de type chaîne nommée `prompt` dont la valeur est « Entrez votre nom : ».</span><span class="sxs-lookup"><span data-stu-id="862a8-168">For example, the following `data` tag defines a string resource named `prompt` whose value is "Enter your name:".</span></span>

```xml
<data name="prompt" xml:space="preserve">
  <value>Enter your name:</value>
</data>
```

> [!WARNING]
> <span data-ttu-id="862a8-169">N’utilisez pas de fichier de ressources pour stocker des mots de passe, des informations sensibles ou des données privées.</span><span class="sxs-lookup"><span data-stu-id="862a8-169">Do not use resource files to store passwords, security-sensitive information, or private data.</span></span>

 <span data-ttu-id="862a8-170">Pour les objets de ressource, la balise **data** inclut un attribut `type` qui indique le type de données de la ressource.</span><span class="sxs-lookup"><span data-stu-id="862a8-170">For resource objects, the **data** tag includes a `type` attribute that indicates the data type of the resource.</span></span> <span data-ttu-id="862a8-171">Pour les objets qui se composent de données binaires, la balise `data` inclut également un attribut `mimetype` qui indique le type `base64` des données binaires.</span><span class="sxs-lookup"><span data-stu-id="862a8-171">For objects that consist of binary data, the `data` tag also includes a `mimetype` attribute, which indicates the `base64` type of the binary data.</span></span>

> [!NOTE]
> <span data-ttu-id="862a8-172">Tous les fichiers .resx utilisent un formateur de sérialisation binaire pour générer et analyser les données binaires d’un type spécifié.</span><span class="sxs-lookup"><span data-stu-id="862a8-172">All .resx files use a binary serialization formatter to generate and parse the binary data for a specified type.</span></span> <span data-ttu-id="862a8-173">Par conséquent, un fichier .resx peut devenir non valide si le format de sérialisation binaire d’un objet change de manière incompatible.</span><span class="sxs-lookup"><span data-stu-id="862a8-173">As a result, a .resx file can become invalid if the binary serialization format for an object changes in an incompatible way.</span></span>

 <span data-ttu-id="862a8-174">L’exemple suivant affiche une partie d’un fichier .resx qui inclut une ressource <xref:System.Int32> et une image bitmap.</span><span class="sxs-lookup"><span data-stu-id="862a8-174">The following example shows a portion of a .resx file that includes an <xref:System.Int32> resource and a bitmap image.</span></span>

```xml
<data name="i1" type="System.Int32, mscorlib">
  <value>20</value>
</data>

<data name="flag" type="System.Drawing.Bitmap, System.Drawing,
    Version=1.0.5000.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a"
    mimetype="application/x-microsoft.net.object.bytearray.base64">
  <value>
    AAEAAAD/////AQAAAAAAAAAMAgAAADtTeX…
  </value>
</data>
```

> [!IMPORTANT]
> <span data-ttu-id="862a8-175">Comme les fichiers .resx doivent se composer de code XML bien formé dans un format prédéfini, nous déconseillons d’utiliser des fichiers .resx manuellement, en particulier quand les fichiers .resx contiennent des ressources autres que des chaînes.</span><span class="sxs-lookup"><span data-stu-id="862a8-175">Because .resx files must consist of well-formed XML in a predefined format, we do not recommend working with .resx files manually, particularly when the .resx files contain resources other than strings.</span></span> <span data-ttu-id="862a8-176">Au lieu de cela, [Visual Studio](https://visualstudio.microsoft.com/vs/?utm_medium=microsoft&utm_source=docs.microsoft.com&utm_campaign=inline+link) fournit une interface transparente pour créer et manipuler les fichiers .resx.</span><span class="sxs-lookup"><span data-stu-id="862a8-176">Instead, [Visual Studio](https://visualstudio.microsoft.com/vs/?utm_medium=microsoft&utm_source=docs.microsoft.com&utm_campaign=inline+link) provides a transparent interface for creating and manipulating .resx files.</span></span> <span data-ttu-id="862a8-177">Pour plus d’informations, consultez la section [Fichiers de ressources dans Visual Studio](creating-resource-files-for-desktop-apps.md#VSResFiles).</span><span class="sxs-lookup"><span data-stu-id="862a8-177">For more information, see the [Resource Files in Visual Studio](creating-resource-files-for-desktop-apps.md#VSResFiles) section.</span></span> <span data-ttu-id="862a8-178">Vous pouvez également créer et manipuler des fichiers .resx par programmation.</span><span class="sxs-lookup"><span data-stu-id="862a8-178">You can also create and manipulate .resx files programmatically.</span></span> <span data-ttu-id="862a8-179">Pour plus d’informations, consultez [Utilisation des fichiers .resx par programmation](working-with-resx-files-programmatically.md).</span><span class="sxs-lookup"><span data-stu-id="862a8-179">For more information, see [Working with .resx Files Programmatically](working-with-resx-files-programmatically.md).</span></span>

<a name="ResourcesFiles"></a>
## <a name="resources-in-resources-files"></a><span data-ttu-id="862a8-180">Ressources dans les fichiers .resources</span><span class="sxs-lookup"><span data-stu-id="862a8-180">Resources in .resources files</span></span>

<span data-ttu-id="862a8-181">Vous pouvez utiliser la classe <xref:System.Resources.ResourceWriter?displayProperty=nameWithType> pour créer par programmation un fichier de ressources binaire (.resources) directement à partir du code.</span><span class="sxs-lookup"><span data-stu-id="862a8-181">You can use the <xref:System.Resources.ResourceWriter?displayProperty=nameWithType> class to programmatically create a binary resource (.resources) file directly from code.</span></span> <span data-ttu-id="862a8-182">Vous pouvez également utiliser le [Générateur de fichiers de ressources (Resgen.exe)](../tools/resgen-exe-resource-file-generator.md) pour créer un fichier .resources à partir d’un fichier texte ou d’un fichier .resx.</span><span class="sxs-lookup"><span data-stu-id="862a8-182">You can also use [Resource File Generator (Resgen.exe)](../tools/resgen-exe-resource-file-generator.md) to create a .resources file from a text file or a .resx file.</span></span> <span data-ttu-id="862a8-183">Le fichier .resources peut contenir des données binaires (tableaux d’octets) et des données d’objet en plus des données de type chaîne.</span><span class="sxs-lookup"><span data-stu-id="862a8-183">The .resources file can contain binary data (byte arrays) and object data in addition to string data.</span></span> <span data-ttu-id="862a8-184">La création d’un fichier .resources par programmation nécessite les étapes suivantes :</span><span class="sxs-lookup"><span data-stu-id="862a8-184">Programmatically creating a .resources file requires the following steps:</span></span>

1. <span data-ttu-id="862a8-185">Créez un objet <xref:System.Resources.ResourceWriter> avec un nom de fichier unique.</span><span class="sxs-lookup"><span data-stu-id="862a8-185">Create a <xref:System.Resources.ResourceWriter> object with a unique file name.</span></span> <span data-ttu-id="862a8-186">Vous pouvez le faire en spécifiant un nom de fichier ou un flux de fichiers pour un constructeur de classe <xref:System.Resources.ResourceWriter>.</span><span class="sxs-lookup"><span data-stu-id="862a8-186">You can do this by specifying either a file name or a file stream to a <xref:System.Resources.ResourceWriter> class constructor.</span></span>

2. <span data-ttu-id="862a8-187">Appelez une des surcharges de la méthode <xref:System.Resources.ResourceWriter.AddResource%2A?displayProperty=nameWithType> pour chaque ressource nommée à ajouter au fichier.</span><span class="sxs-lookup"><span data-stu-id="862a8-187">Call one of the overloads of the <xref:System.Resources.ResourceWriter.AddResource%2A?displayProperty=nameWithType> method for each named resource to add to the file.</span></span> <span data-ttu-id="862a8-188">La ressource peut être une chaîne, un objet ou une collection de données binaires (tableau d’octets).</span><span class="sxs-lookup"><span data-stu-id="862a8-188">The resource can be a string, an object, or a collection of binary data (a byte array).</span></span>

3. <span data-ttu-id="862a8-189">Appelez la méthode <xref:System.Resources.ResourceWriter.Close%2A?displayProperty=nameWithType> pour écrire les ressources dans le fichier et fermer l’objet <xref:System.Resources.ResourceWriter>.</span><span class="sxs-lookup"><span data-stu-id="862a8-189">Call the <xref:System.Resources.ResourceWriter.Close%2A?displayProperty=nameWithType> method to write the resources to the file and to close the <xref:System.Resources.ResourceWriter> object.</span></span>

> [!NOTE]
> <span data-ttu-id="862a8-190">N’utilisez pas de fichier de ressources pour stocker des mots de passe, des informations sensibles ou des données privées.</span><span class="sxs-lookup"><span data-stu-id="862a8-190">Do not use resource files to store passwords, security-sensitive information, or private data.</span></span>

 <span data-ttu-id="862a8-191">L’exemple suivant crée par programmation un fichier .resources nommé CarResources.resources qui stocke six chaînes, une icône et deux objets définis par l’application (deux objets `Automobile`).</span><span class="sxs-lookup"><span data-stu-id="862a8-191">The following example programmatically creates a .resources file named CarResources.resources that stores six strings, an icon, and two application-defined objects (two `Automobile` objects).</span></span> <span data-ttu-id="862a8-192">La `Automobile` classe, qui est définie et instanciée dans l’exemple, est marquée avec l' <xref:System.SerializableAttribute> attribut, ce qui lui permet d’être rendu persistant par le formateur de sérialisation binaire.</span><span class="sxs-lookup"><span data-stu-id="862a8-192">The `Automobile` class, which is defined and instantiated in the example, is tagged with the <xref:System.SerializableAttribute> attribute, which allows it to be persisted by the binary serialization formatter.</span></span>

 [!code-csharp[Conceptual.Resources.Resources#1](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.resources.resources/cs/resources1.cs#1)]
 [!code-vb[Conceptual.Resources.Resources#1](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.resources.resources/vb/resources1.vb#1)]

 <span data-ttu-id="862a8-193">Une fois que vous avez créé le fichier .resources, vous pouvez l’incorporer dans un fichier exécutable à l’exécution ou une bibliothèque en incluant le commutateur `/resource` du compilateur de langage, ou l’incorporer dans un assembly satellite avec [Assembly Linker (Al.exe)](../tools/al-exe-assembly-linker.md).</span><span class="sxs-lookup"><span data-stu-id="862a8-193">After you create the .resources file, you can embed it in a run-time executable or library by including the language compiler's `/resource` switch, or embed it in a satellite assembly by using [Assembly Linker (Al.exe)](../tools/al-exe-assembly-linker.md).</span></span>

<a name="VSResFiles"></a>
## <a name="resource-files-in-visual-studio"></a><span data-ttu-id="862a8-194">Fichiers de ressources dans Visual Studio</span><span class="sxs-lookup"><span data-stu-id="862a8-194">Resource files in Visual Studio</span></span>

<span data-ttu-id="862a8-195">Quand vous ajoutez un fichier de ressources à votre projet [Visual Studio](https://visualstudio.microsoft.com/vs/?utm_medium=microsoft&utm_source=docs.microsoft.com&utm_campaign=inline+link), Visual Studio crée un fichier .resx dans le répertoire de projet.</span><span class="sxs-lookup"><span data-stu-id="862a8-195">When you add a resource file to your [Visual Studio](https://visualstudio.microsoft.com/vs/?utm_medium=microsoft&utm_source=docs.microsoft.com&utm_campaign=inline+link) project, Visual Studio creates a .resx file in the project directory.</span></span> <span data-ttu-id="862a8-196">Visual Studio fournit des éditeurs de ressources qui vous permettent d’ajouter des chaînes, des images et des objets binaires.</span><span class="sxs-lookup"><span data-stu-id="862a8-196">Visual Studio provides resource editors that enable you to add strings, images, and binary objects.</span></span> <span data-ttu-id="862a8-197">Comme les éditeurs sont conçus pour gérer des données statiques uniquement, ils ne peuvent pas être utilisés pour stocker des objets de programmation. Vous devez écrire par programmation les données d’objet dans un fichier .resx ou .resources.</span><span class="sxs-lookup"><span data-stu-id="862a8-197">Because the editors are designed to handle static data only, they cannot be used to store programmatic objects; you must write object data to either a .resx file or to a .resources file programmatically.</span></span> <span data-ttu-id="862a8-198">Consultez [Utilisation des fichiers .resx par programmation](working-with-resx-files-programmatically.md) et la section [Ressources dans les fichiers .resources](creating-resource-files-for-desktop-apps.md#ResourcesFiles) pour plus d’informations.</span><span class="sxs-lookup"><span data-stu-id="862a8-198">For more information, see [Working with .resx Files Programmatically](working-with-resx-files-programmatically.md) and the [Resources in .resources Files](creating-resource-files-for-desktop-apps.md#ResourcesFiles) section.</span></span>

<span data-ttu-id="862a8-199">Si vous ajoutez des ressources localisées, donnez-leur le même nom de fichier racine que le fichier de ressources principal.</span><span class="sxs-lookup"><span data-stu-id="862a8-199">If you're adding localized resources, give them the same root file name as the main resource file.</span></span> <span data-ttu-id="862a8-200">Vous devez également désigner leur culture dans le nom de fichier.</span><span class="sxs-lookup"><span data-stu-id="862a8-200">You should also designate their culture in the file name.</span></span> <span data-ttu-id="862a8-201">Par exemple, si vous ajoutez un fichier de ressources nommé Resources.resx, vous pouvez également créer les fichiers de ressources nommés Resources.en-US.resx et Resources.fr-FR.resx pour y stocker des ressources localisées pour les cultures Anglais (États-Unis) et Français (France), respectivement.</span><span class="sxs-lookup"><span data-stu-id="862a8-201">For example, if you add a resource file named Resources.resx, you might also create resource files named Resources.en-US.resx and Resources.fr-FR.resx to hold localized resources for the English (United States) and French (France) cultures, respectively.</span></span> <span data-ttu-id="862a8-202">Vous devez également désigner la culture par défaut de votre application.</span><span class="sxs-lookup"><span data-stu-id="862a8-202">You should also designate your application's default culture.</span></span> <span data-ttu-id="862a8-203">Il s’agit de la culture dont les ressources sont utilisées si aucune ressource localisée pour une culture particulière ne peut être trouvée.</span><span class="sxs-lookup"><span data-stu-id="862a8-203">This is the culture whose resources are used if no localized resources for a particular culture can be found.</span></span> <span data-ttu-id="862a8-204">Pour spécifier la culture par défaut, dans l’Explorateur de solutions dans Visual Studio, cliquez avec le bouton droit sur le nom du projet, pointez sur l’application, cliquez sur **Informations sur l’assembly**, puis sélectionnez la langue/culture appropriée dans la liste **Neutral language** (Langue neutre).</span><span class="sxs-lookup"><span data-stu-id="862a8-204">To specify the default culture, in Solution Explorer in Visual Studio, right-click the project name, point to Application, click **Assembly Information**, and select the appropriate language/culture in the **Neutral language** list.</span></span>

<span data-ttu-id="862a8-205">Au moment de la compilation, Visual Studio convertit en premier les fichiers .resx dans un projet en fichiers de ressources binaires (.resources) et les stocke dans un sous-répertoire du répertoire *obj* du projet.</span><span class="sxs-lookup"><span data-stu-id="862a8-205">At compile time, Visual Studio first converts the .resx files in a project to binary resource (.resources) files and stores them in a subdirectory of the project's *obj* directory.</span></span> <span data-ttu-id="862a8-206">Visual Studio incorpore tous les fichiers de ressources qui ne contiennent pas de ressources localisées dans l’assembly principal qui est généré par le projet.</span><span class="sxs-lookup"><span data-stu-id="862a8-206">Visual Studio embeds any resource files that do not contain localized resources in the main assembly that is generated by the project.</span></span> <span data-ttu-id="862a8-207">Si des fichiers de ressources contiennent des ressources localisées, Visual Studio les incorpore dans des assemblys satellites séparés pour chaque culture localisée.</span><span class="sxs-lookup"><span data-stu-id="862a8-207">If any resource files contain localized resources, Visual Studio embeds them in separate satellite assemblies for each localized culture.</span></span> <span data-ttu-id="862a8-208">Il stocke ensuite chaque assembly satellite dans un répertoire dont le nom correspond à la culture localisée.</span><span class="sxs-lookup"><span data-stu-id="862a8-208">It then stores each satellite assembly in a directory whose name corresponds to the localized culture.</span></span> <span data-ttu-id="862a8-209">Par exemple, les ressources Anglais (États-Unis) localisées sont stockées dans un assembly satellite dans le sous-répertoire en-US.</span><span class="sxs-lookup"><span data-stu-id="862a8-209">For example, localized English (United States) resources are stored in a satellite assembly in the en-US subdirectory.</span></span>

## <a name="see-also"></a><span data-ttu-id="862a8-210">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="862a8-210">See also</span></span>

- <xref:System.Resources>
- [<span data-ttu-id="862a8-211">Ressources dans les applications .NET</span><span class="sxs-lookup"><span data-stu-id="862a8-211">Resources in .NET Apps</span></span>](index.md)
- [<span data-ttu-id="862a8-212">Packaging and Deploying Resources</span><span class="sxs-lookup"><span data-stu-id="862a8-212">Packaging and Deploying Resources</span></span>](packaging-and-deploying-resources-in-desktop-apps.md)
