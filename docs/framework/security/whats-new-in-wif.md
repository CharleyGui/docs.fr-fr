---
title: Nouveautés de Windows Identity Foundation 4.5
ms.date: 03/30/2017
ms.assetid: 3b381f04-593b-471f-bd33-0362be1aade5
author: BrucePerlerMS
ms.openlocfilehash: 93631c1171f81ec8b8d94b56a56012343f6c3220
ms.sourcegitcommit: 289e06e904b72f34ac717dbcc5074239b977e707
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 09/17/2019
ms.locfileid: "71045280"
---
# <a name="whats-new-in-windows-identity-foundation-45"></a><span data-ttu-id="0a5d2-102">Nouveautés de Windows Identity Foundation 4.5</span><span class="sxs-lookup"><span data-stu-id="0a5d2-102">What's New in Windows Identity Foundation 4.5</span></span>
<span data-ttu-id="0a5d2-103">La première version de Windows Identity Foundation (WIF) était fournie sous forme de téléchargement autonome et s'appelait WIF 3.5 car elle a été introduite dans le calendrier SP1 de .NET 3.5.</span><span class="sxs-lookup"><span data-stu-id="0a5d2-103">The first version of Windows Identity Foundation (WIF) shipped as a standalone download and is known as WIF 3.5 because it was introduced in the .NET 3.5 SP1 timeframe.</span></span> <span data-ttu-id="0a5d2-104">Depuis la version .NET 4.5, WIF fait partie de .NET framework.</span><span class="sxs-lookup"><span data-stu-id="0a5d2-104">Starting with .NET 4.5, WIF is part of the .NET framework.</span></span> <span data-ttu-id="0a5d2-105">Le fait d’avoir les classes WIF directement disponibles dans l’infrastructure permet une meilleure intégration de l’identité basée sur les revendications dans .NET, facilitant ainsi l’utilisation des revendications.</span><span class="sxs-lookup"><span data-stu-id="0a5d2-105">Having the WIF classes directly available in the framework allows for a much deeper integration of claims-based identity in .NET, making it easier to use claims.</span></span> <span data-ttu-id="0a5d2-106">Les applications écrites pour WIF 3.5 doivent être modifiées pour tirer parti du nouveau modèle. Pour plus d’informations, consultez [Instructions pour migrer une application WIF 3.5 en application WIF 4.5](guidelines-for-migrating-an-application-built-using-wif-3-5-to-wif-4-5.md).</span><span class="sxs-lookup"><span data-stu-id="0a5d2-106">Applications written for WIF 3.5 will need to be modified in order to take advantage of the new model; for information, see [Guidelines for Migrating an Application Built Using WIF 3.5 to WIF 4.5](guidelines-for-migrating-an-application-built-using-wif-3-5-to-wif-4-5.md).</span></span>  
  
 <span data-ttu-id="0a5d2-107">Vous trouverez ci-dessous certaines indications sur les principales modifications.</span><span class="sxs-lookup"><span data-stu-id="0a5d2-107">Below you can find some highlights of the main changes.</span></span>  
  
## <a name="wif-is-now-part-of-the-net-framework"></a><span data-ttu-id="0a5d2-108">WIF fait désormais partie de .NET Framework</span><span class="sxs-lookup"><span data-stu-id="0a5d2-108">WIF Is Now Part of the .NET Framework</span></span>  
 <span data-ttu-id="0a5d2-109">Les classes WIF sont désormais réparties sur plusieurs assemblys, les principales étant `mscorlib`, `System.IdentityModel`, `System.IdentityModel.Services`, et `System.ServiceModel`.</span><span class="sxs-lookup"><span data-stu-id="0a5d2-109">WIF classes are now spread across several assemblies, the main ones being `mscorlib`, `System.IdentityModel`, `System.IdentityModel.Services`, and `System.ServiceModel`.</span></span> <span data-ttu-id="0a5d2-110">De même, les classes WIF sont réparties dans plusieurs espaces de noms : <xref:System.Security.Claims?displayProperty=nameWithType>, certains espaces de noms [System.IdentityModel](https://go.microsoft.com/fwlink/?LinkId=272004), et <xref:System.ServiceModel.Security?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="0a5d2-110">Likewise, the WIF classes are spread across several namespaces: <xref:System.Security.Claims?displayProperty=nameWithType>, several [System.IdentityModel](https://go.microsoft.com/fwlink/?LinkId=272004) namespaces, and <xref:System.ServiceModel.Security?displayProperty=nameWithType>.</span></span> <span data-ttu-id="0a5d2-111">L'espace de noms <xref:System.Security.Claims?displayProperty=nameWithType> contient les nouvelles classes <xref:System.Security.Claims.ClaimsPrincipal> et <xref:System.Security.Claims.ClaimsIdentity> (voir ci-dessous).</span><span class="sxs-lookup"><span data-stu-id="0a5d2-111">The <xref:System.Security.Claims?displayProperty=nameWithType> namespace contains the new <xref:System.Security.Claims.ClaimsPrincipal> and <xref:System.Security.Claims.ClaimsIdentity> classes (see below).</span></span> <span data-ttu-id="0a5d2-112">Toutes les entités du .NET dérivent maintenant de <xref:System.Security.Claims.ClaimsPrincipal>.</span><span class="sxs-lookup"><span data-stu-id="0a5d2-112">All principals in .NET now derive from <xref:System.Security.Claims.ClaimsPrincipal>.</span></span> <span data-ttu-id="0a5d2-113">Pour plus d’informations sur les espaces de noms WIF et les types de classes qu’ils contiennent, consultez [Informations de référence sur l’API WIF](wif-api-reference.md).</span><span class="sxs-lookup"><span data-stu-id="0a5d2-113">For more detailed information about the WIF namespaces and the kinds of classes that they contain, see [WIF API Reference](wif-api-reference.md).</span></span> <span data-ttu-id="0a5d2-114">Pour plus d’informations sur la façon dont les espaces de noms WIF 3.5 et WIF 4.5 sont mappés, consultez [Mappage des espaces de noms entre WIF 3.5 et WIF 4.5](namespace-mapping-between-wif-3-5-and-wif-4-5.md).</span><span class="sxs-lookup"><span data-stu-id="0a5d2-114">For information about how namespaces map between WIF 3.5 and WIF 4.5, see [Namespace Mapping between WIF 3.5 and WIF 4.5](namespace-mapping-between-wif-3-5-and-wif-4-5.md).</span></span>  
  
## <a name="new-claims-model-and-principal-object"></a><span data-ttu-id="0a5d2-115">Nouveaux modèles de revendication et Objet principal</span><span class="sxs-lookup"><span data-stu-id="0a5d2-115">New Claims Model and Principal Object</span></span>  
 <span data-ttu-id="0a5d2-116">Les revendications représentent la caractéristique principale de .NET Framework 4.5.</span><span class="sxs-lookup"><span data-stu-id="0a5d2-116">Claims are at the very core of the .NET Framework 4.5.</span></span> <span data-ttu-id="0a5d2-117">Toutes les classes de revendication de base (<xref:System.Security.Claims.Claim>, <xref:System.Security.Claims.ClaimsIdentity>, <xref:System.Security.Claims.ClaimsPrincipal>, <xref:System.Security.Claims.ClaimTypes>, et <xref:System.Security.Claims.ClaimValueTypes>) sont directement actives dans `mscorlib` et dans l'espace de noms <xref:System.Security.Claims?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="0a5d2-117">The base claim classes (<xref:System.Security.Claims.Claim>, <xref:System.Security.Claims.ClaimsIdentity>, <xref:System.Security.Claims.ClaimsPrincipal>, <xref:System.Security.Claims.ClaimTypes>, and <xref:System.Security.Claims.ClaimValueTypes>) all live directly in `mscorlib` in the <xref:System.Security.Claims?displayProperty=nameWithType> namespace.</span></span> <span data-ttu-id="0a5d2-118">Il n'est plus nécessaire d'utiliser des interfaces pour insérer des revendications dans le système d'identité .NET : <xref:System.Security.Principal.WindowsPrincipal>, <xref:System.Security.Principal.GenericPrincipal>, et <xref:System.Web.Security.RolePrincipal> héritent maintenant de <xref:System.Security.Claims.ClaimsPrincipal>; et <xref:System.Security.Principal.WindowsIdentity>, <xref:System.Security.Principal.GenericIdentity>, et <xref:System.Web.Security.FormsIdentity> héritent maintenant de <xref:System.Security.Claims.ClaimsIdentity>.</span><span class="sxs-lookup"><span data-stu-id="0a5d2-118">It is no longer necessary to use interfaces in order to plug claims into the .NET identity system: <xref:System.Security.Principal.WindowsPrincipal>, <xref:System.Security.Principal.GenericPrincipal>, and <xref:System.Web.Security.RolePrincipal> now inherit from <xref:System.Security.Claims.ClaimsPrincipal>; and <xref:System.Security.Principal.WindowsIdentity>, <xref:System.Security.Principal.GenericIdentity>, and <xref:System.Web.Security.FormsIdentity> now inherit from <xref:System.Security.Claims.ClaimsIdentity>.</span></span> <span data-ttu-id="0a5d2-119">En bref, chaque classe principale servira à présent les revendications.</span><span class="sxs-lookup"><span data-stu-id="0a5d2-119">In short, every principal class will now serve claims.</span></span> <span data-ttu-id="0a5d2-120">Les classes d'intégration et les interfaces WIF 3.5 (`WindowsClaimsIdentity`, `WindowsClaimsPrincipal`, `IClaimsPrincipal`, `IClaimsIdentity`) et ont été supprimées.</span><span class="sxs-lookup"><span data-stu-id="0a5d2-120">The WIF 3.5 integration classes and interfaces (`WindowsClaimsIdentity`, `WindowsClaimsPrincipal`, `IClaimsPrincipal`, `IClaimsIdentity`) have thus been removed.</span></span> <span data-ttu-id="0a5d2-121">En outre, la classe <xref:System.Security.Claims.ClaimsIdentity> expose maintenant des méthodes qui facilitent l’interrogation de la collection des revendications d’identité.</span><span class="sxs-lookup"><span data-stu-id="0a5d2-121">In addition, the <xref:System.Security.Claims.ClaimsIdentity> class now exposes methods which make it easier to query the identity’s claims collection.</span></span>  
  
## <a name="changes-to-the-wif-45-visual-studio-experience"></a><span data-ttu-id="0a5d2-122">Modifications apportées à l'expérience WIF Visual Studio 4.5</span><span class="sxs-lookup"><span data-stu-id="0a5d2-122">Changes to the WIF 4.5 Visual Studio Experience</span></span>  
  
- <span data-ttu-id="0a5d2-123">La fonctionnalité **Ajouter référence STS…**</span><span class="sxs-lookup"><span data-stu-id="0a5d2-123">The **Add STS Reference …**</span></span> <span data-ttu-id="0a5d2-124">(utilitaire cmdline FedUtil) de Visual Studio n’existe plus. À la place, utilisez la nouvelle extension **Identity and Access Tool pour Visual Studio 2012** disponible dans Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="0a5d2-124">Visual Studio functionality (cmdline utility FedUtil) no longer exists; instead you can use the new Visual Studio extension **Identity and Access Tool for Visual Studio 2012**.</span></span> <span data-ttu-id="0a5d2-125">Cela vous permet de vous fédérer avec un STS existant ou d'utiliser LocalSTS pour tester vos solutions.</span><span class="sxs-lookup"><span data-stu-id="0a5d2-125">This allows you to federate with an existing STS or use LocalSTS to test your solutions.</span></span> <span data-ttu-id="0a5d2-126">Après avoir installé l’extension, cliquez avec le bouton droit sur votre projet et recherchez **Identity and Access** dans le menu contextuel.</span><span class="sxs-lookup"><span data-stu-id="0a5d2-126">After installing the extension you can right-click on your project and look for **Identity and Access** in the context menu.</span></span>  
  
- <span data-ttu-id="0a5d2-127">Les modèles ASP.NET et STS ne sont plus fournis car les revendications peuvent être utilisées directement dans les modèles de projet existants pour ASP.Net, les sites Web, et WCF.</span><span class="sxs-lookup"><span data-stu-id="0a5d2-127">The ASP.NET and STS templates are no longer provided as claims can be used directly in existing project templates for ASP.Net, web sites, and WCF.</span></span>  
  
- <span data-ttu-id="0a5d2-128">Les contrôles de l'espace de noms `Microsoft.IdentityModel.Web.Controls` (`SignInControl`, `FederatedPassiveSignInControl`, et `FederatedPassiveSignInStatus`) ne sont pas retenus dans WIF 4.5.</span><span class="sxs-lookup"><span data-stu-id="0a5d2-128">The controls in the `Microsoft.IdentityModel.Web.Controls` namespace (`SignInControl`, `FederatedPassiveSignInControl`, and `FederatedPassiveSignInStatus`) are not carried over into WIF 4.5.</span></span>  
  
## <a name="changes-to-the-wif-45-api"></a><span data-ttu-id="0a5d2-129">Modifications apportées à l'API WIF 4.5</span><span class="sxs-lookup"><span data-stu-id="0a5d2-129">Changes to the WIF 4.5 API</span></span>  
  
- <span data-ttu-id="0a5d2-130">En général, les classes associées aux revendications se trouvent dans l’espace de noms <xref:System.Security.Claims?displayProperty=nameWithType> ; les classes associées à WCF (contrats de service, canaux, fabriques de canaux et hôtes de service utilisés dans des scénarios WS-Trust) se trouvent dans les espaces de noms <xref:System.ServiceModel.Security?displayProperty=nameWithType> ; et toutes les autres classes WIF sont réparties dans différents espaces de noms [System.IdentityModel](https://go.microsoft.com/fwlink/?LinkId=272004) (il s’agit notamment des classes représentant des artefacts WS-\* et SAML, des gestionnaires de jetons et les classes associées, ainsi que des classes utilisées dans les scénarios WS-Federation).</span><span class="sxs-lookup"><span data-stu-id="0a5d2-130">In general, claims related classes are in the <xref:System.Security.Claims?displayProperty=nameWithType> namespace; WCF related classes –- service contracts, channels, channel factories, and service hosts that are used for WS-Trust scenarios -- are in <xref:System.ServiceModel.Security?displayProperty=nameWithType>; and all other WIF classes are spread across various [System.IdentityModel](https://go.microsoft.com/fwlink/?LinkId=272004) namespaces – these include, for example, classes that represent WS-\* and SAML artifacts, token handlers and related classes, and classes used in WS-Federation scenarios.</span></span> <span data-ttu-id="0a5d2-131">Pour plus d’informations, consultez [Mappage des espaces de noms entre WIF 3.5 et WIF 4.5](namespace-mapping-between-wif-3-5-and-wif-4-5.md) et [Informations de référence sur l’API WIF](wif-api-reference.md).</span><span class="sxs-lookup"><span data-stu-id="0a5d2-131">For more information, see [Namespace Mapping between WIF 3.5 and WIF 4.5](namespace-mapping-between-wif-3-5-and-wif-4-5.md) and [WIF API Reference](wif-api-reference.md).</span></span>  
  
- <span data-ttu-id="0a5d2-132">La clé de l'ordinateur a été activée pour une utilisation dans des cookies de session pour les scénarios de batterie de serveurs Web.</span><span class="sxs-lookup"><span data-stu-id="0a5d2-132">Machine key has been enabled for use in session cookies for web farm scenarios.</span></span> <span data-ttu-id="0a5d2-133">Pour plus d’informations, consultez [WIF et batteries de serveurs Web](wif-and-web-farms.md).</span><span class="sxs-lookup"><span data-stu-id="0a5d2-133">For more information, see [WIF and Web Farms](wif-and-web-farms.md).</span></span>  
  
- <span data-ttu-id="0a5d2-134">Vous configurez maintenant WIF de manière déclarative sous les éléments [\<system.identityModel>](../configure-apps/file-schema/windows-identity-foundation/system-identitymodel.md) et [\<system.identityModel.services>](../configure-apps/file-schema/windows-identity-foundation/system-identitymodel-services.md).</span><span class="sxs-lookup"><span data-stu-id="0a5d2-134">You now declaratively configure WIF under the [\<system.identityModel>](../configure-apps/file-schema/windows-identity-foundation/system-identitymodel.md) and [\<system.identityModel.services>](../configure-apps/file-schema/windows-identity-foundation/system-identitymodel-services.md) elements.</span></span> <span data-ttu-id="0a5d2-135">Pour plus d’informations sur la configuration de WIF, consultez [Informations de référence sur la configuration de WIF](wif-configuration-reference.md).</span><span class="sxs-lookup"><span data-stu-id="0a5d2-135">For more information about WIF configuration, see [WIF Configuration Reference](wif-configuration-reference.md).</span></span>  
  
## <a name="other-notable-net-changes-or-features-that-are-caused-by-the-integration-of-wif-into-net"></a><span data-ttu-id="0a5d2-136">Autres modifications notables .NET ou fonctionnalités causées par l'intégration de WIF dans .NET</span><span class="sxs-lookup"><span data-stu-id="0a5d2-136">Other notable .NET changes or features that are caused by the integration of WIF into .NET</span></span>  
  
- <span data-ttu-id="0a5d2-137">La possibilité d'effectuer des autorisations basées sur les revendications est maintenant intégrée dans .NET framework.</span><span class="sxs-lookup"><span data-stu-id="0a5d2-137">The potential for performing claims-based authorization (CBAC) is now integral to the .NET framework.</span></span> <span data-ttu-id="0a5d2-138">Vous pouvez configurer un objet <xref:System.Security.Claims.ClaimsAuthorizationManager>, puis utiliser les classes <xref:System.IdentityModel.Services.ClaimsPrincipalPermission> et <xref:System.IdentityModel.Services.ClaimsPrincipalPermissionAttribute> pour effectuer les vérifications d'accès impératives et déclaratives dans votre code.</span><span class="sxs-lookup"><span data-stu-id="0a5d2-138">You can configure a <xref:System.Security.Claims.ClaimsAuthorizationManager> object and then use the <xref:System.IdentityModel.Services.ClaimsPrincipalPermission> and <xref:System.IdentityModel.Services.ClaimsPrincipalPermissionAttribute> classes to perform imperative and declarative access checks in your code.</span></span> <span data-ttu-id="0a5d2-139">CBAC offre plus de souplesse et de granularité que les vérifications requises en matière d'accès basée sur des rôles.</span><span class="sxs-lookup"><span data-stu-id="0a5d2-139">CBAC provides more flexibility and greater granularity than traditional role-based access checks (RBAC).</span></span> <span data-ttu-id="0a5d2-140">Il permet également une séparation plus nette entre la stratégie d’autorisation et la logique métier. En effet, la logique métier peut être basée sur la vérification de l’accès sur une revendication spécifique ou un ensemble de revendications, et la stratégie d’autorisation pour ces revendications peut être configurée de façon déclarative dans l’élément [\<claimsAuthorizationManager>](../configure-apps/file-schema/windows-identity-foundation/claimsauthorizationmanager.md).</span><span class="sxs-lookup"><span data-stu-id="0a5d2-140">It also allows greater separation of authorization policy from business logic because the business logic can base the access check on a specific claim or set of claims and the authorization policy for those claims can be configured declaratively under the [\<claimsAuthorizationManager>](../configure-apps/file-schema/windows-identity-foundation/claimsauthorizationmanager.md) element.</span></span>  
  
## <a name="wcf-changes-as-a-result-of-wif-integration"></a><span data-ttu-id="0a5d2-141">Modifications apportées à WCF suite à l'intégration de WIF :</span><span class="sxs-lookup"><span data-stu-id="0a5d2-141">WCF changes as a result of WIF integration:</span></span>  
  
- <span data-ttu-id="0a5d2-142">Le modèle d'identité basé sur des revendications WCF est remplacé par WIF.</span><span class="sxs-lookup"><span data-stu-id="0a5d2-142">The WCF claims-based identity model is superseded by WIF.</span></span> <span data-ttu-id="0a5d2-143">Cela signifie que les classes de <xref:System.IdentityModel.Claims?displayProperty=nameWithType>, <xref:System.IdentityModel.Policy?displayProperty=nameWithType> et les espaces de noms <xref:System.IdentityModel.Selectors?displayProperty=nameWithType> doivent être supprimés et remplacés afin d’utiliser des classes de WIF.</span><span class="sxs-lookup"><span data-stu-id="0a5d2-143">This means that classes in the <xref:System.IdentityModel.Claims?displayProperty=nameWithType>, <xref:System.IdentityModel.Policy?displayProperty=nameWithType>, and <xref:System.IdentityModel.Selectors?displayProperty=nameWithType> namespaces should be dropped in favor of using WIF classes.</span></span>  
  
- <span data-ttu-id="0a5d2-144">Vous activez maintenant WIF sur un service WCF en spécifiant l’attribut `useIdentityConfiguration` sur l’élément `<system.serviceModel>`/`<behaviors>`/`<serviceBehaviors>`/`<serviceCredentials>` comme dans le code XML suivant :</span><span class="sxs-lookup"><span data-stu-id="0a5d2-144">WIF is now enabled on a WCF service by specifying the `useIdentityConfiguration` attribute on the `<system.serviceModel>`/`<behaviors>`/`<serviceBehaviors>`/`<serviceCredentials>` element as in the following XML:</span></span>  
  
    ```xml  
    <serviceCredentials useIdentityConfiguration="true">  
        <!--Certificate added by Identity And Access VS Package.  Subject='CN=localhost', Issuer='CN=localhost'. Make sure you have this certificate installed. The Identity and Access tool does not install this certificate.-->  
        <serviceCertificate findValue="CN=localhost" storeLocation="LocalMachine" storeName="My" x509FindType="FindBySubjectDistinguishedName" />  
    </serviceCredentials>  
    ```  
  
     <span data-ttu-id="0a5d2-145">Si vous utilisez **Identity and Access Tool pour Visual Studio 2012** (consultez **Modifications apportées à l’expérience Visual Studio** ci-dessus), l’outil ajoute un élément `<serviceCredentials>` avec l’attribut `useIdentityConfiguration` automatiquement défini sur le fichier de configuration.</span><span class="sxs-lookup"><span data-stu-id="0a5d2-145">When you use the **Identity and Access Tool for Visual Studio 2012** (see **Changes to the Visual Studio Experience** above), the tool adds a `<serviceCredentials>` element with the `useIdentityConfiguration` attribute set to the configuration file for you.</span></span> <span data-ttu-id="0a5d2-146">Il ajoute également un élément [\<system.identityModel>](../configure-apps/file-schema/windows-identity-foundation/system-identitymodel.md) correspondant qui contient les paramètres de configuration WI, ainsi qu’une liaison et d’autres paramètres nécessaires pour externaliser l’authentification au STS choisi.</span><span class="sxs-lookup"><span data-stu-id="0a5d2-146">It also adds a corresponding [\<system.identityModel>](../configure-apps/file-schema/windows-identity-foundation/system-identitymodel.md) element that contains the WIF configuration settings and adds a binding and other settings necessary to outsource authentication to your chosen STS.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="0a5d2-147">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="0a5d2-147">See also</span></span>

- [<span data-ttu-id="0a5d2-148">Recommandations sur la migration d’une application générée à l’aide de WIF 3.5 à WIF 4.5</span><span class="sxs-lookup"><span data-stu-id="0a5d2-148">Guidelines for Migrating an Application Built Using WIF 3.5 to WIF 4.5</span></span>](guidelines-for-migrating-an-application-built-using-wif-3-5-to-wif-4-5.md)
- [<span data-ttu-id="0a5d2-149">Mappage des espaces de noms entre WIF 3.5 et WIF 4.5</span><span class="sxs-lookup"><span data-stu-id="0a5d2-149">Namespace Mapping between WIF 3.5 and WIF 4.5</span></span>](namespace-mapping-between-wif-3-5-and-wif-4-5.md)
- [<span data-ttu-id="0a5d2-150">Référence de l’API WIF</span><span class="sxs-lookup"><span data-stu-id="0a5d2-150">WIF API Reference</span></span>](wif-api-reference.md)
- [<span data-ttu-id="0a5d2-151">Référence de configuration de WIF</span><span class="sxs-lookup"><span data-stu-id="0a5d2-151">WIF Configuration Reference</span></span>](wif-configuration-reference.md)
