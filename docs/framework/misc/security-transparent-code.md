---
title: Code transparent de sécurité (security-transparent)
ms.date: 03/30/2017
helpviewer_keywords:
- transparent code
- security-transparent code
ms.assetid: 4f3dd841-82f7-4659-aab0-6d2db2166c65
author: mairaw
ms.author: mairaw
ms.openlocfilehash: 4e4e472185b3b2ba39393c029bca3966fb5ec4b3
ms.sourcegitcommit: 2d792961ed48f235cf413d6031576373c3050918
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/31/2019
ms.locfileid: "70206054"
---
# <a name="security-transparent-code"></a><span data-ttu-id="1a190-102">Code transparent de sécurité (security-transparent)</span><span class="sxs-lookup"><span data-stu-id="1a190-102">Security-Transparent Code</span></span>

<a name="top"></a>

[!INCLUDE[net_security_note](../../../includes/net-security-note-md.md)]

<span data-ttu-id="1a190-103">La sécurité fait intervenir trois éléments interactifs : le sandboxing, les autorisations et la mise en application.</span><span class="sxs-lookup"><span data-stu-id="1a190-103">Security involves three interacting pieces: sandboxing, permissions, and enforcement.</span></span> <span data-ttu-id="1a190-104">Le sandboxing renvoie à la pratique qui consiste à créer des domaines isolés où une partie du code est considérée comme de niveau de confiance totale et l'autre partie du code se limite au jeu d'autorisations accordées au bac à sable (sandbox).</span><span class="sxs-lookup"><span data-stu-id="1a190-104">Sandboxing refers to the practice of creating isolated domains where some code is treated as fully trusted and other code is restricted to the permissions in the grant set for the sandbox.</span></span> <span data-ttu-id="1a190-105">Le code d'application qui s'exécute dans le jeu d'autorisations du bac à sable est considéré comme étant transparent. Autrement dit, il ne peut effectuer aucune opération qui puisse nuire à la sécurité.</span><span class="sxs-lookup"><span data-stu-id="1a190-105">The application code that runs within the grant set of the sandbox is considered to be transparent; that is, it cannot perform any operations that can affect security.</span></span> <span data-ttu-id="1a190-106">Le jeu d'autorisations octroyé au bac à sable est déterminé par la preuve (classe <xref:System.Security.Policy.Evidence>).</span><span class="sxs-lookup"><span data-stu-id="1a190-106">The grant set for the sandbox is determined by evidence (<xref:System.Security.Policy.Evidence> class).</span></span> <span data-ttu-id="1a190-107">La preuve identifie les autorisations spécifiques dont ont besoin les bacs à sable et les types de bac à sable qui peuvent être créés.</span><span class="sxs-lookup"><span data-stu-id="1a190-107">Evidence identifies what specific permissions are required by sandboxes, and what kinds of sandboxes can be created.</span></span> <span data-ttu-id="1a190-108">La mise en application consiste à autoriser le code transparent à s'exécuter uniquement dans le cadre de son jeu d'autorisations.</span><span class="sxs-lookup"><span data-stu-id="1a190-108">Enforcement refers to allowing transparent code to execute only within its grant set.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="1a190-109">La stratégie de sécurité était un élément clé dans les versions précédentes du .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="1a190-109">Security policy was a key element in previous versions of the .NET Framework.</span></span> <span data-ttu-id="1a190-110">À partir du .NET Framework 4, la stratégie de sécurité est obsolète.</span><span class="sxs-lookup"><span data-stu-id="1a190-110">Starting with the .NET Framework 4, security policy is obsolete.</span></span> <span data-ttu-id="1a190-111">L'élimination de la stratégie de sécurité est indépendante de la transparence de la sécurité.</span><span class="sxs-lookup"><span data-stu-id="1a190-111">The elimination of security policy is separate from security transparency.</span></span> <span data-ttu-id="1a190-112">Pour plus d’informations sur les effets de cette modification, consultez [compatibilité et migration de la stratégie de sécurité d’accès du code](code-access-security-policy-compatibility-and-migration.md).</span><span class="sxs-lookup"><span data-stu-id="1a190-112">For information about the effects of this change, see [Code Access Security Policy Compatibility and Migration](code-access-security-policy-compatibility-and-migration.md).</span></span>

<span data-ttu-id="1a190-113">Cette rubrique décrit plus en détail le modèle de transparence.</span><span class="sxs-lookup"><span data-stu-id="1a190-113">This topic describes the transparency model in more detail.</span></span> <span data-ttu-id="1a190-114">Elle contient les sections suivantes :</span><span class="sxs-lookup"><span data-stu-id="1a190-114">It contains the following sections:</span></span>

- [<span data-ttu-id="1a190-115">Objectif du modèle de transparence</span><span class="sxs-lookup"><span data-stu-id="1a190-115">Purpose of the Transparency Model</span></span>](#purpose)

- [<span data-ttu-id="1a190-116">Spécification du niveau de transparence</span><span class="sxs-lookup"><span data-stu-id="1a190-116">Specifying the Transparency Level</span></span>](#level)

- [<span data-ttu-id="1a190-117">Mise en application de la transparence</span><span class="sxs-lookup"><span data-stu-id="1a190-117">Transparency Enforcement</span></span>](#enforcement)

<a name="purpose"></a>

## <a name="purpose-of-the-transparency-model"></a><span data-ttu-id="1a190-118">Objectif du modèle de transparence</span><span class="sxs-lookup"><span data-stu-id="1a190-118">Purpose of the Transparency Model</span></span>

<span data-ttu-id="1a190-119">La transparence est un mécanisme de mise en application qui fait une distinction entre le code qui s'exécute dans le cadre de l'application et le code qui s'exécute dans le cadre de l'infrastructure.</span><span class="sxs-lookup"><span data-stu-id="1a190-119">Transparency is an enforcement mechanism that separates code that runs as part of the application from code that runs as part of the infrastructure.</span></span> <span data-ttu-id="1a190-120">La transparence établit une distinction entre le code qui peut effectuer des actions privilégiées (code critique), notamment appeler le code natif, et le code qui ne le peut pas (code transparent).</span><span class="sxs-lookup"><span data-stu-id="1a190-120">Transparency draws a barrier between code that can do privileged things (critical code), such as calling native code, and code that cannot (transparent code).</span></span> <span data-ttu-id="1a190-121">Le code transparent peut exécuter des commandes dans les limites du jeu d'autorisations dont il dépend, mais ne peut pas exécuter ou contenir de code critique ni en dériver.</span><span class="sxs-lookup"><span data-stu-id="1a190-121">Transparent code can execute commands within the bounds of the permission set it is operating in, but cannot execute, derive from, or contain critical code.</span></span>

<span data-ttu-id="1a190-122">L'objectif principal de la mise en application de la transparence est de fournir un mécanisme simple et efficace qui permette d'isoler les différents groupes de code en fonction des privilèges.</span><span class="sxs-lookup"><span data-stu-id="1a190-122">The primary goal of transparency enforcement is to provide a simple, effective mechanism for isolating different groups of code based on privilege.</span></span> <span data-ttu-id="1a190-123">Dans le contexte du modèle de sandboxing, ces groupes de privilèges ont soit un niveau de confiance totale (c'est-à-dire, sans aucune restriction), soit un niveau de confiance partielle (c'est-à-dire, limité au jeu d'autorisations octroyé au bac à sable).</span><span class="sxs-lookup"><span data-stu-id="1a190-123">Within the context of the sandboxing model, these privilege groups are either fully trusted (that is, not restricted) or partially trusted (that is, restricted to the permission set granted to the sandbox).</span></span>

> [!IMPORTANT]
> <span data-ttu-id="1a190-124">Le modèle de transparence surpasse la sécurité d'accès du code.</span><span class="sxs-lookup"><span data-stu-id="1a190-124">The transparency model transcends code access security.</span></span> <span data-ttu-id="1a190-125">La transparence est mise en application par le compilateur juste-à-temps et reste en vigueur quel que soit le jeu d'autorisations octroyé à un assembly, y compris le niveau de confiance totale.</span><span class="sxs-lookup"><span data-stu-id="1a190-125">Transparency is enforced by the just-in-time compiler and remains in effect regardless of the grant set for an assembly, including full trust.</span></span>

<span data-ttu-id="1a190-126">La transparence a été introduite dans le .NET Framework version 2.0 pour simplifier le modèle de sécurité et faciliter l'écriture et le déploiement de bibliothèques et d'applications sécurisées.</span><span class="sxs-lookup"><span data-stu-id="1a190-126">Transparency was introduced in the .NET Framework version 2.0 to simplify the security model, and to make it easier to write and deploy secure libraries and applications.</span></span> <span data-ttu-id="1a190-127">Le code transparent est aussi utilisé dans Microsoft Silverlight pour simplifier le développement d'applications de niveau de confiance partielle.</span><span class="sxs-lookup"><span data-stu-id="1a190-127">Transparent code is also used in Microsoft Silverlight, to simplify the development of partially trusted applications.</span></span>

> [!NOTE]
> <span data-ttu-id="1a190-128">Quand vous développez une application de niveau de confiance partielle, vous devez connaître les exigences d'autorisation pour vos hôtes cibles.</span><span class="sxs-lookup"><span data-stu-id="1a190-128">When you develop a partially trusted application, you have to be aware of the permission requirements for your target hosts.</span></span> <span data-ttu-id="1a190-129">Vous pouvez développer une application qui fasse appel à des ressources non autorisées par certains hôtes.</span><span class="sxs-lookup"><span data-stu-id="1a190-129">You can develop an application that uses resources that are not allowed by some hosts.</span></span> <span data-ttu-id="1a190-130">Cette application se compilera sans erreur, mais son chargement dans l'environnement hébergé échouera.</span><span class="sxs-lookup"><span data-stu-id="1a190-130">This application will compile without error, but will fail when it is loaded into the hosted environment.</span></span> <span data-ttu-id="1a190-131">Si vous avez développé votre application l'aide de Visual Studio, vous pouvez activer le débogage en mode confiance partielle ou dans un jeu d'autorisations restreint à partir de l'environnement de développement.</span><span class="sxs-lookup"><span data-stu-id="1a190-131">If you have developed your application using Visual Studio, you can enable debugging in partial trust or in a restricted permission set from the development environment.</span></span> <span data-ttu-id="1a190-132">Pour plus d'informations, voir [Procédure : Déboguer une application ClickOnce avec des autorisations restreintes](/visualstudio/deployment/how-to-debug-a-clickonce-application-with-restricted-permissions).</span><span class="sxs-lookup"><span data-stu-id="1a190-132">For more information, see [How to: Debug a ClickOnce Application with Restricted Permissions](/visualstudio/deployment/how-to-debug-a-clickonce-application-with-restricted-permissions).</span></span> <span data-ttu-id="1a190-133">La fonctionnalité de calcul des autorisations fournie pour les applications ClickOnce est aussi accessible à n'importe quelle application de niveau de confiance partielle.</span><span class="sxs-lookup"><span data-stu-id="1a190-133">The Calculate Permissions feature provided for ClickOnce applications is also available for any partially trusted application.</span></span>

[<span data-ttu-id="1a190-134">Revenir en haut</span><span class="sxs-lookup"><span data-stu-id="1a190-134">Back to top</span></span>](#top)

<a name="level"></a>

## <a name="specifying-the-transparency-level"></a><span data-ttu-id="1a190-135">Spécification du niveau de transparence</span><span class="sxs-lookup"><span data-stu-id="1a190-135">Specifying the Transparency Level</span></span>

<span data-ttu-id="1a190-136">L'attribut <xref:System.Security.SecurityRulesAttribute> au niveau niveau de l'assembly sélectionne explicitement les règles <xref:System.Security.SecurityRuleSet> que suivra l'assembly.</span><span class="sxs-lookup"><span data-stu-id="1a190-136">The assembly-level <xref:System.Security.SecurityRulesAttribute> attribute explicitly selects the <xref:System.Security.SecurityRuleSet> rules that the assembly will follow.</span></span> <span data-ttu-id="1a190-137">Les règles sont organisées selon un système de niveaux numériques où les niveaux supérieurs représentent une mise en application plus stricte des règles de sécurité.</span><span class="sxs-lookup"><span data-stu-id="1a190-137">The rules are organized under a numeric level system, where higher levels mean tighter enforcement of security rules.</span></span>

<span data-ttu-id="1a190-138">Voici les différents niveaux :</span><span class="sxs-lookup"><span data-stu-id="1a190-138">The levels are as follows:</span></span>

- <span data-ttu-id="1a190-139">Niveau 2 (<xref:System.Security.SecurityRuleSet.Level2>): règles de transparence du .NET Framework 4.</span><span class="sxs-lookup"><span data-stu-id="1a190-139">Level 2 (<xref:System.Security.SecurityRuleSet.Level2>) – the .NET Framework 4 transparency rules.</span></span>

- <span data-ttu-id="1a190-140">niveau 1 (<xref:System.Security.SecurityRuleSet.Level1>) : règles de transparence du .NET Framework 2.0.</span><span class="sxs-lookup"><span data-stu-id="1a190-140">Level 1 (<xref:System.Security.SecurityRuleSet.Level1>) – the .NET Framework 2.0 transparency rules.</span></span>

<span data-ttu-id="1a190-141">La principale différence entre les deux niveaux de transparence est que le niveau 1 n'applique pas les règles de transparence aux appels en provenance de l'extérieur de l'assembly et vise uniquement la compatibilité.</span><span class="sxs-lookup"><span data-stu-id="1a190-141">The primary difference between the two transparency levels is that level 1 does not enforce transparency rules for calls from outside the assembly and is intended only for compatibility.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="1a190-142">Vous ne devez spécifier une transparence de niveau 1 qu'à des fins de compatibilité. Autrement dit, ne spécifiez le niveau 1 que pour du code développé avec le .NET Framework version 3.5 ou antérieure qui utilise l'attribut <xref:System.Security.AllowPartiallyTrustedCallersAttribute> ou qui n'utilise pas le modèle de transparence.</span><span class="sxs-lookup"><span data-stu-id="1a190-142">You should specify level 1 transparency for compatibility only; that is, specify level 1 only for code that was developed with the .NET Framework 3.5 or earlier that uses the <xref:System.Security.AllowPartiallyTrustedCallersAttribute> attribute or does not use the transparency model.</span></span> <span data-ttu-id="1a190-143">Par exemple, utilisez la transparence de niveau 1 pour les assemblys du .NET Framework 2.0 qui autorisent les appels des appelants ayant un niveau de confiance partielle (APTCA).</span><span class="sxs-lookup"><span data-stu-id="1a190-143">For example, use level 1 transparency for .NET Framework 2.0 assemblies that allow calls from partially trusted callers (APTCA).</span></span> <span data-ttu-id="1a190-144">Pour le code développé pour le .NET Framework 4, utilisez toujours la transparence de niveau 2.</span><span class="sxs-lookup"><span data-stu-id="1a190-144">For code that is developed for the .NET Framework 4, always use level 2 transparency.</span></span>

### <a name="level-2-transparency"></a><span data-ttu-id="1a190-145">Transparence de niveau 2</span><span class="sxs-lookup"><span data-stu-id="1a190-145">Level 2 Transparency</span></span>

<span data-ttu-id="1a190-146">La transparence de niveau 2 a été introduite dans le .NET Framework 4.</span><span class="sxs-lookup"><span data-stu-id="1a190-146">Level 2 transparency was introduced in the .NET Framework 4.</span></span> <span data-ttu-id="1a190-147">Les trois principes de ce modèle sont le code transparent, le code critique sécurisé et le code critique de sécurité.</span><span class="sxs-lookup"><span data-stu-id="1a190-147">The three tenets of this model are transparent code, security-safe-critical code, and security-critical code.</span></span>

- <span data-ttu-id="1a190-148">Le code transparent, quelles que soient les autorisations qui lui sont octroyées (y compris le niveau de confiance totale), ne peut appeler qu'un autre code transparent ou du code critique sécurisé.</span><span class="sxs-lookup"><span data-stu-id="1a190-148">Transparent code, regardless of the permissions it is granted (including full trust), can call only other transparent code or security-safe-critical code.</span></span> <span data-ttu-id="1a190-149">Si le code bénéficie d'un niveau de confiance partielle, il ne peut effectuer que les actions autorisées par le jeu d'autorisations du domaine.</span><span class="sxs-lookup"><span data-stu-id="1a190-149">If the code is partially trusted, it can only perform actions that are allowed by the domain’s permission set.</span></span> <span data-ttu-id="1a190-150">Voici ce que le code transparent ne peut pas faire :</span><span class="sxs-lookup"><span data-stu-id="1a190-150">Transparent code cannot do the following:</span></span>

  - <span data-ttu-id="1a190-151">effectuer une opération <xref:System.Security.CodeAccessPermission.Assert%2A> ou une élévation de privilèges ;</span><span class="sxs-lookup"><span data-stu-id="1a190-151">Perform an <xref:System.Security.CodeAccessPermission.Assert%2A> operation or elevation of privilege.</span></span>

  - <span data-ttu-id="1a190-152">contenir du code non sécurisé ou non vérifiable ;</span><span class="sxs-lookup"><span data-stu-id="1a190-152">Contain unsafe or unverifiable code.</span></span>

  - <span data-ttu-id="1a190-153">appeler directement du code critique ;</span><span class="sxs-lookup"><span data-stu-id="1a190-153">Directly call critical code.</span></span>

  - <span data-ttu-id="1a190-154">appeler du code natif ou du code possédant l'attribut <xref:System.Security.SuppressUnmanagedCodeSecurityAttribute> ;</span><span class="sxs-lookup"><span data-stu-id="1a190-154">Call native code or code that has the <xref:System.Security.SuppressUnmanagedCodeSecurityAttribute> attribute.</span></span>

  - <span data-ttu-id="1a190-155">appeler un membre protégé par un <xref:System.Security.Permissions.SecurityAction.LinkDemand> ;</span><span class="sxs-lookup"><span data-stu-id="1a190-155">Call a member that is protected by a <xref:System.Security.Permissions.SecurityAction.LinkDemand>.</span></span>

  - <span data-ttu-id="1a190-156">hériter de types critiques.</span><span class="sxs-lookup"><span data-stu-id="1a190-156">Inherit from critical types.</span></span>

    <span data-ttu-id="1a190-157">Par ailleurs, les méthodes transparentes ne peuvent pas substituer des méthodes virtuelles critiques ni implémenter des méthodes d'interface critiques.</span><span class="sxs-lookup"><span data-stu-id="1a190-157">In addition, transparent methods cannot override critical virtual methods or implement critical interface methods.</span></span>

- <span data-ttu-id="1a190-158">Le code critique sécurisé est entièrement fiable, mais peut être appelé par du code transparent.</span><span class="sxs-lookup"><span data-stu-id="1a190-158">Security-safe-critical code is fully trusted but is callable by transparent code.</span></span> <span data-ttu-id="1a190-159">Il expose une surface limitée de code de niveau de confiance totale.</span><span class="sxs-lookup"><span data-stu-id="1a190-159">It exposes a limited surface area of full-trust code.</span></span> <span data-ttu-id="1a190-160">Des vérifications d'exactitude et de sécurité s'opèrent dans le code critique sécurisé.</span><span class="sxs-lookup"><span data-stu-id="1a190-160">Correctness and security verifications happen in safe-critical code.</span></span>

- <span data-ttu-id="1a190-161">Le code critique de sécurité peut appeler n'importe quel code et bénéficie d'un niveau de confiance totale, mais il ne peut pas être appelé par du code transparent.</span><span class="sxs-lookup"><span data-stu-id="1a190-161">Security-critical code can call any code and is fully trusted, but it cannot be called by transparent code.</span></span>

### <a name="level-1-transparency"></a><span data-ttu-id="1a190-162">Transparence de niveau 1</span><span class="sxs-lookup"><span data-stu-id="1a190-162">Level 1 Transparency</span></span>

<span data-ttu-id="1a190-163">Le modèle de transparence de niveau 1 a été introduit dans le .NET Framework version 2.0 pour permettre aux développeurs de réduire la quantité de code soumise à un audit de sécurité.</span><span class="sxs-lookup"><span data-stu-id="1a190-163">The level 1 transparency model was introduced in the .NET Framework version 2.0 to enable developers to reduce the amount of code that is subject to a security audit.</span></span> <span data-ttu-id="1a190-164">Bien que la transparence de niveau 1 ait été mise à la disposition du public dans la version 2.0, elle a été essentiellement utilisée en interne par Microsoft à des fins d'audit de sécurité.</span><span class="sxs-lookup"><span data-stu-id="1a190-164">Although level 1 transparency was publicly available in version 2.0, it was primarily used only within Microsoft for security auditing purposes.</span></span> <span data-ttu-id="1a190-165">Grâce aux annotations, les développeurs peuvent déclarer les types et les membres qui peuvent exécuter des élévations de sécurité et d'autres actions approuvées (critiques de sécurité), et ceux qui ne le peuvent pas (transparents de sécurité).</span><span class="sxs-lookup"><span data-stu-id="1a190-165">Through annotations, developers are able to declare which types and members can perform security elevations and other trusted actions (security-critical) and which cannot (security-transparent).</span></span> <span data-ttu-id="1a190-166">Le code identifié comme étant transparent ne nécessite pas un niveau d'audit de sécurité élevé.</span><span class="sxs-lookup"><span data-stu-id="1a190-166">Code that is identified as transparent does not require a high degree of security auditing.</span></span> <span data-ttu-id="1a190-167">La transparence de niveau 1 indique que la mise en application de la transparence est limitée à l'assembly.</span><span class="sxs-lookup"><span data-stu-id="1a190-167">Level 1 transparency states that the transparency enforcement is limited to within the assembly.</span></span> <span data-ttu-id="1a190-168">En d'autres termes, les types ou membres publics identifiés comme étant critiques de sécurité ne le sont qu'à l'intérieur de l'assembly.</span><span class="sxs-lookup"><span data-stu-id="1a190-168">In other words, any public types or members that are identified as security-critical are security-critical only within the assembly.</span></span> <span data-ttu-id="1a190-169">Si vous voulez assurer la sécurité de ces types et membres quand ils sont appelées en dehors de l'assembly, vous devez utiliser des demandes de liaison pour le niveau de confiance totale.</span><span class="sxs-lookup"><span data-stu-id="1a190-169">If you want to enforce security for those types and members when they are called from outside the assembly, you must use link demands for full trust.</span></span> <span data-ttu-id="1a190-170">Si vous ne le faites pas, les types et membres critiques de sécurité visibles publiquement sont traités comme étant critiques sécurisés et peuvent être appelés par du code de niveau de confiance partielle en dehors de l'assembly.</span><span class="sxs-lookup"><span data-stu-id="1a190-170">If you do not, publicly visible security-critical types and members are treated as security-safe-critical and can be called by partially trusted code outside the assembly.</span></span>

<span data-ttu-id="1a190-171">Le modèle de transparence de niveau 1 présente les limitations suivantes :</span><span class="sxs-lookup"><span data-stu-id="1a190-171">The level 1 transparency model has the following limitations:</span></span>

- <span data-ttu-id="1a190-172">Les types et membres critiques de sécurité publics sont accessibles à partir de code transparent de sécurité.</span><span class="sxs-lookup"><span data-stu-id="1a190-172">Security-critical types and members that are public are accessible from security-transparent code.</span></span>

- <span data-ttu-id="1a190-173">Les annotations de transparence ne sont appliquées qu'au sein d'un assembly.</span><span class="sxs-lookup"><span data-stu-id="1a190-173">The transparency annotations are enforced only within an assembly.</span></span>

- <span data-ttu-id="1a190-174">Les types et membres critiques de sécurité doivent utiliser des demandes de liaison pour assurer la sécurité des appels émis en dehors de l'assembly.</span><span class="sxs-lookup"><span data-stu-id="1a190-174">Security-critical types and members must use link demands to enforce security for calls from outside the assembly.</span></span>

- <span data-ttu-id="1a190-175">Les règles d'héritage ne sont pas appliquées.</span><span class="sxs-lookup"><span data-stu-id="1a190-175">Inheritance rules are not enforced.</span></span>

- <span data-ttu-id="1a190-176">Le potentiel de nuisance du code transparent est bien réel quand il est exécuté en mode confiance totale.</span><span class="sxs-lookup"><span data-stu-id="1a190-176">The potential exists for transparent code to do harmful things when run in full trust.</span></span>

[<span data-ttu-id="1a190-177">Revenir en haut</span><span class="sxs-lookup"><span data-stu-id="1a190-177">Back to top</span></span>](#top)

<a name="enforcement"></a>

## <a name="transparency-enforcement"></a><span data-ttu-id="1a190-178">Mise en application de la transparence</span><span class="sxs-lookup"><span data-stu-id="1a190-178">Transparency Enforcement</span></span>

<span data-ttu-id="1a190-179">Les règles de transparence ne sont pas appliquées tant que la transparence n'est pas calculée.</span><span class="sxs-lookup"><span data-stu-id="1a190-179">Transparency rules are not enforced until transparency is calculated.</span></span> <span data-ttu-id="1a190-180">Dès lors, une exception <xref:System.InvalidOperationException> est levée en cas de violation d'une règle de transparence.</span><span class="sxs-lookup"><span data-stu-id="1a190-180">At that time, an <xref:System.InvalidOperationException> is thrown if a transparency rule is violated.</span></span> <span data-ttu-id="1a190-181">Le moment où la transparence est calculée dépend de plusieurs facteurs et ne peut pas être prédite.</span><span class="sxs-lookup"><span data-stu-id="1a190-181">The time that transparency is calculated depends on multiple factors and cannot be predicted.</span></span> <span data-ttu-id="1a190-182">Elle est calculée le plus tard possible.</span><span class="sxs-lookup"><span data-stu-id="1a190-182">It is calculated as late as possible.</span></span> <span data-ttu-id="1a190-183">Dans le .NET Framework 4, le calcul de la transparence au niveau de l’assembly se produit plus tôt que dans le .NET Framework 2,0.</span><span class="sxs-lookup"><span data-stu-id="1a190-183">In the .NET Framework 4, assembly-level transparency calculation occurs sooner than it does in the .NET Framework 2.0.</span></span> <span data-ttu-id="1a190-184">La seule garantie est que le calcul de la transparence se produit dès que cela est nécessaire.</span><span class="sxs-lookup"><span data-stu-id="1a190-184">The only guarantee is that transparency calculation will occur by the time it is needed.</span></span> <span data-ttu-id="1a190-185">Cela est comparable à la façon dont le compilateur juste-à-temps (JIT) peut modifier le point au moment où une méthode est compilée et que des erreurs sont détectées dans cette méthode.</span><span class="sxs-lookup"><span data-stu-id="1a190-185">This is similar to how the just-in-time (JIT) compiler can change the point when a method is compiled and any errors in that method are detected.</span></span> <span data-ttu-id="1a190-186">Le calcul de la transparence n'est pas perceptible si votre code ne présente aucune erreur de transparence.</span><span class="sxs-lookup"><span data-stu-id="1a190-186">Transparency calculation is invisible if your code does not have any transparency errors.</span></span>

## <a name="see-also"></a><span data-ttu-id="1a190-187">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="1a190-187">See also</span></span>

- [<span data-ttu-id="1a190-188">Code transparent de sécurité, niveau 1</span><span class="sxs-lookup"><span data-stu-id="1a190-188">Security-Transparent Code, Level 1</span></span>](security-transparent-code-level-1.md)
- [<span data-ttu-id="1a190-189">Code transparent de sécurité, niveau 2</span><span class="sxs-lookup"><span data-stu-id="1a190-189">Security-Transparent Code, Level 2</span></span>](security-transparent-code-level-2.md)
