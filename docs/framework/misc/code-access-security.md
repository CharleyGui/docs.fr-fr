---
title: Sécurité d'accès du code
description: En savoir plus sur le mécanisme de sécurité d’accès du code dans .NET, qui permet de protéger les systèmes informatiques contre le code mobile malveillant.
ms.date: 03/30/2017
helpviewer_keywords:
- named permission sets, code access security
- call stacks
- malicious code
- stack walk
- security [.NET Framework], code access security
- permissions [.NET Framework], code access security
- trusted code
- mobile code security
- unmanaged code, code access security
- granting permissions, code access security
- user authentication, code access security
- code access security
ms.assetid: 859af632-c80d-4736-8d6f-1e01b09ce127
ms.openlocfilehash: 49d55ffde3dcb88720f47af6f9702013d8a7f1ee
ms.sourcegitcommit: c37e8d4642fef647ebab0e1c618ecc29ddfe2a0f
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/06/2020
ms.locfileid: "87855866"
---
# <a name="code-access-security"></a><span data-ttu-id="7a0d8-103">Sécurité d'accès du code</span><span class="sxs-lookup"><span data-stu-id="7a0d8-103">Code Access Security</span></span>

[!INCLUDE[net_security_note](../../../includes/net-security-note-md.md)]  
  
 <span data-ttu-id="7a0d8-104">De nos jours, du fait d'une interconnexion extrême, les systèmes informatiques sont fréquemment exposés à du code provenant de diverses sources parfois inconnues.</span><span class="sxs-lookup"><span data-stu-id="7a0d8-104">Today's highly connected computer systems are frequently exposed to code originating from various, possibly unknown sources.</span></span> <span data-ttu-id="7a0d8-105">Le code peut être joint à un courrier électronique, contenu dans des documents ou téléchargé via Internet.</span><span class="sxs-lookup"><span data-stu-id="7a0d8-105">Code can be attached to email, contained in documents, or downloaded over the Internet.</span></span> <span data-ttu-id="7a0d8-106">Malheureusement, de nombreux utilisateurs d’ordinateurs ont personnellement fait l’expérience de code mobile malveillant, y compris de virus et de vers, qui peuvent endommager ou détruire des données et coûter du temps et de l’argent.</span><span class="sxs-lookup"><span data-stu-id="7a0d8-106">Unfortunately, many computer users have experienced firsthand the effects of malicious mobile code, including viruses and worms, which can damage or destroy data and cost time and money.</span></span>  
  
 <span data-ttu-id="7a0d8-107">La plupart des mécanismes de sécurité courants accordent des droits aux utilisateurs en fonction de leurs informations d’identification (généralement un mot de passe) et restreignent les ressources (souvent des répertoires et des fichiers) auxquelles l’utilisateur est autorisé à accéder.</span><span class="sxs-lookup"><span data-stu-id="7a0d8-107">Most common security mechanisms give rights to users based on their credentials (usually a password) and restrict resources (often directories and files) that the user is allowed to access.</span></span> <span data-ttu-id="7a0d8-108">Cependant, cette approche ne parvient pas à répondre à plusieurs situations : les utilisateurs peuvent obtenir du code provenant de nombreuses sources dont certaines peuvent ne pas être fiables, le code peut contenir des bogues ou des vulnérabilités qui permettent à du code nuisible de l'exploiter et le code fait parfois des choses dont l'utilisateur n'a pas conscience.</span><span class="sxs-lookup"><span data-stu-id="7a0d8-108">However, this approach fails to address several issues: users obtain code from many sources, some of which might be unreliable; code can contain bugs or vulnerabilities that enable it to be exploited by malicious code; and code sometimes does things that the user does not know it will do.</span></span> <span data-ttu-id="7a0d8-109">Les systèmes informatiques peuvent donc être endommagés et des données confidentielles peuvent être divulguées si des utilisateurs prudents et dignes de confiance exécutent un logiciel malveillant ou rempli d'erreurs.</span><span class="sxs-lookup"><span data-stu-id="7a0d8-109">As a result, computer systems can be damaged and private data can be leaked when cautious and trustworthy users run malicious or error-filled software.</span></span> <span data-ttu-id="7a0d8-110">La plupart des mécanismes de sécurité du système d’exploitation nécessitent que chaque partie du code soit approuvée pour s’exécuter, sauf peut-être pour les scripts d’une page Web.</span><span class="sxs-lookup"><span data-stu-id="7a0d8-110">Most operating system security mechanisms require that every piece of code must be trusted in order to run, except perhaps for scripts on a Web page.</span></span> <span data-ttu-id="7a0d8-111">Un mécanisme de sécurité largement applicable qui permette à du code provenant d'un système informatique de s'exécuter en toute sécurité sur un autre système est donc nécessaire, même s'il n'existe pas de relations de confiance entre les systèmes.</span><span class="sxs-lookup"><span data-stu-id="7a0d8-111">Therefore, there is still a need for a widely applicable security mechanism that allows code originating from one computer system to execute with protection on another system, even when there is no trust relationship between the systems.</span></span>  
  
 <span data-ttu-id="7a0d8-112">Le .NET Framework fournit un mécanisme de sécurité appelé sécurité d'accès du code, qui aide à protéger les systèmes informatiques contre du code mobile malveillant, pour permettre à du code d'origine inconnue de s'exécuter en toute sécurité et pour éviter que du code de confiance ne compromette la sécurité de manière intentionnelle ou accidentelle.</span><span class="sxs-lookup"><span data-stu-id="7a0d8-112">The .NET Framework provides a security mechanism called code access security to help protect computer systems from malicious mobile code, to allow code from unknown origins to run with protection, and to help prevent trusted code from intentionally or accidentally compromising security.</span></span> <span data-ttu-id="7a0d8-113">La sécurité d'accès du code permet au code d'avoir un niveau de confiance à différents degrés, en fonction de son origine et d'autres aspects de son identité.</span><span class="sxs-lookup"><span data-stu-id="7a0d8-113">Code access security enables code to be trusted to varying degrees depending on where the code originates and on other aspects of the code's identity.</span></span> <span data-ttu-id="7a0d8-114">La sécurité d'accès du code applique aussi différents niveaux de confiance au code, ce qui réduit la quantité de code dont le niveau de confiance doit être suffisant pour s'exécuter.</span><span class="sxs-lookup"><span data-stu-id="7a0d8-114">Code access security also enforces the varying levels of trust on code, which minimizes the amount of code that must be fully trusted in order to run.</span></span> <span data-ttu-id="7a0d8-115">L'utilisation de la sécurité d'accès du code peut diminuer la probabilité que votre code soit utilisé de manière abusive par du code malveillant ou rempli d'erreurs.</span><span class="sxs-lookup"><span data-stu-id="7a0d8-115">Using code access security can reduce the likelihood that your code will be misused by malicious or error-filled code.</span></span> <span data-ttu-id="7a0d8-116">Elle peut réduire votre responsabilité, car vous pouvez spécifier l'ensemble des opérations que votre code est autorisé à exécuter.</span><span class="sxs-lookup"><span data-stu-id="7a0d8-116">It can reduce your liability, because you can specify the set of operations your code should be allowed to perform.</span></span> <span data-ttu-id="7a0d8-117">La sécurité d'accès du code peut aussi aider à réduire les dommages qui peuvent résulter de la mise en danger de la sécurité dans votre code.</span><span class="sxs-lookup"><span data-stu-id="7a0d8-117">Code access security can also help minimize the damage that can result from security vulnerabilities in your code.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="7a0d8-118">Des modifications majeures ont été apportées à la sécurité d’accès du code dans le .NET Framework 4.</span><span class="sxs-lookup"><span data-stu-id="7a0d8-118">Major changes have been made to code access security in the .NET Framework 4.</span></span> <span data-ttu-id="7a0d8-119">La modification la plus notable a été la transparence de la [sécurité](security-transparent-code.md), mais il existe également d’autres modifications significatives qui affectent la sécurité d’accès du code.</span><span class="sxs-lookup"><span data-stu-id="7a0d8-119">The most notable change has been [security transparency](security-transparent-code.md), but there are also other significant changes that affect code access security.</span></span> <span data-ttu-id="7a0d8-120">Pour plus d’informations sur ces modifications, consultez [modifications de sécurité](https://docs.microsoft.com/previous-versions/dotnet/framework/security/security-changes).</span><span class="sxs-lookup"><span data-stu-id="7a0d8-120">For information about these changes, see [Security Changes](https://docs.microsoft.com/previous-versions/dotnet/framework/security/security-changes).</span></span>  
  
 <span data-ttu-id="7a0d8-121">La sécurité d'accès du code affecte principalement le code de bibliothèque et les applications partiellement fiables.</span><span class="sxs-lookup"><span data-stu-id="7a0d8-121">Code access security primarily affects library code and partially trusted applications.</span></span> <span data-ttu-id="7a0d8-122">Les développeurs de bibliothèques doivent protéger leur code contre l'accès non autorisé d'applications partiellement fiables,</span><span class="sxs-lookup"><span data-stu-id="7a0d8-122">Library developers must protect their code from unauthorized access from partially trusted applications.</span></span> <span data-ttu-id="7a0d8-123">qui sont des applications chargées à partir de sources externes telles qu'Internet.</span><span class="sxs-lookup"><span data-stu-id="7a0d8-123">Partially trusted applications are applications that are loaded from external sources such as the Internet.</span></span> <span data-ttu-id="7a0d8-124">Les applications installées sur votre poste de travail ou sur l'intranet local sont exécutées avec une confiance totale.</span><span class="sxs-lookup"><span data-stu-id="7a0d8-124">Applications that are installed on your desktop or on the local intranet run in full trust.</span></span> <span data-ttu-id="7a0d8-125">Les applications de confiance totale ne sont pas affectées par la sécurité d’accès du code, sauf si elles sont marquées comme étant [transparentes de sécurité](security-transparent-code.md), car elles sont entièrement fiables.</span><span class="sxs-lookup"><span data-stu-id="7a0d8-125">Full-trust applications are not affected by code access security unless they are marked as [security-transparent](security-transparent-code.md), because they are fully trusted.</span></span> <span data-ttu-id="7a0d8-126">Leur seule limitation est que les applications marquées avec l'attribut <xref:System.Security.SecurityTransparentAttribute> ne peuvent pas appeler du code marqué avec l'attribut <xref:System.Security.SecurityCriticalAttribute>.</span><span class="sxs-lookup"><span data-stu-id="7a0d8-126">The only limitation for full-trust applications is that applications that are marked with the <xref:System.Security.SecurityTransparentAttribute> attribute cannot call code that is marked with the <xref:System.Security.SecurityCriticalAttribute> attribute.</span></span> <span data-ttu-id="7a0d8-127">Les applications partiellement fiables doivent être exécutées dans un bac à sable (sandbox) (par exemple, dans Internet Explorer) pour que la sécurité d'accès du code puisse être appliquée.</span><span class="sxs-lookup"><span data-stu-id="7a0d8-127">Partially trusted applications must be run in a sandbox (for example, in Internet Explorer) so that code access security can be applied.</span></span> <span data-ttu-id="7a0d8-128">Si vous téléchargez une application à partir d’Internet et que vous tentez de l’exécuter à partir de votre bureau, vous obtiendrez un <xref:System.NotSupportedException> message contenant le message suivant : «tentative de chargement d’un assembly à partir d’un emplacement réseau, ce qui aurait entraîné le sandbox de l’assembly dans les versions précédentes du .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="7a0d8-128">If you download an application from the Internet and try to run it from your desktop, you will get a <xref:System.NotSupportedException> with the message: "An attempt was made to load an assembly from a network location, which would have caused the assembly to be sandboxed in previous versions of the .NET Framework.</span></span> <span data-ttu-id="7a0d8-129">Cette version du .NET Framework n'activant pas la stratégie CAS par défaut, ce chargement peut être dangereux. »</span><span class="sxs-lookup"><span data-stu-id="7a0d8-129">This release of the .NET Framework does not enable CAS policy by default, so this load may be dangerous."</span></span> <span data-ttu-id="7a0d8-130">Si vous êtes sûr que l’application peut être approuvée, vous pouvez l’activer pour qu’elle soit exécutée avec un niveau de confiance totale à l’aide de l' [ \<loadFromRemoteSources> élément](../configure-apps/file-schema/runtime/loadfromremotesources-element.md).</span><span class="sxs-lookup"><span data-stu-id="7a0d8-130">If you are sure that the application can be trusted, you can enable it to be run as full trust by using the [\<loadFromRemoteSources> element](../configure-apps/file-schema/runtime/loadfromremotesources-element.md).</span></span> <span data-ttu-id="7a0d8-131">Pour plus d’informations sur l’exécution d’une application dans un bac à sable (sandbox), consultez [Comment : exécuter du code partiellement fiable dans un bac à sable (sandbox)](how-to-run-partially-trusted-code-in-a-sandbox.md).</span><span class="sxs-lookup"><span data-stu-id="7a0d8-131">For information about running an application in a sandbox, see [How to: Run Partially Trusted Code in a Sandbox](how-to-run-partially-trusted-code-in-a-sandbox.md).</span></span>  
  
 <span data-ttu-id="7a0d8-132">Tout le code managé qui cible le Common Language Runtime bénéficie de la sécurité d'accès du code, même si ce code ne fait aucun appel de sécurité d'accès du code.</span><span class="sxs-lookup"><span data-stu-id="7a0d8-132">All managed code that targets the common language runtime receives the benefits of code access security, even if that code does not make a single code access security call.</span></span> <span data-ttu-id="7a0d8-133">Pour plus d’informations, consultez [Notions fondamentales de la sécurité d’accès du code](code-access-security-basics.md).</span><span class="sxs-lookup"><span data-stu-id="7a0d8-133">For more information, see [Code Access Security Basics](code-access-security-basics.md).</span></span>  
  
<a name="key_functions"></a>
## <a name="key-functions-of-code-access-security"></a><span data-ttu-id="7a0d8-134">Fonctions clés de la sécurité d'accès du code</span><span class="sxs-lookup"><span data-stu-id="7a0d8-134">Key Functions of Code Access Security</span></span>  
 <span data-ttu-id="7a0d8-135">La sécurité d'accès du code permet de limiter l'accès du code aux ressources et opérations protégées.</span><span class="sxs-lookup"><span data-stu-id="7a0d8-135">Code access security helps limit the access that code has to protected resources and operations.</span></span> <span data-ttu-id="7a0d8-136">Dans le .NET Framework, la sécurité d'accès du code exécute les fonctions suivantes :</span><span class="sxs-lookup"><span data-stu-id="7a0d8-136">In the .NET Framework, code access security performs the following functions:</span></span>  
  
- <span data-ttu-id="7a0d8-137">Définit les autorisations et les jeux d'autorisations qui représentent le droit d'accéder à diverses ressources système.</span><span class="sxs-lookup"><span data-stu-id="7a0d8-137">Defines permissions and permission sets that represent the right to access various system resources.</span></span>  
  
- <span data-ttu-id="7a0d8-138">Permet au code de demander que ses appelants possèdent des autorisations spécifiques.</span><span class="sxs-lookup"><span data-stu-id="7a0d8-138">Enables code to demand that its callers have specific permissions.</span></span>  
  
- <span data-ttu-id="7a0d8-139">Permet au code de demander que ses appelants possèdent une signature numérique, ce qui permet ainsi que l'appel du code protégé soit uniquement effectué par des appelants d'une organisation ou d'un site spécifique.</span><span class="sxs-lookup"><span data-stu-id="7a0d8-139">Enables code to demand that its callers possess a digital signature, thus allowing only callers from a particular organization or site to call the protected code.</span></span>  
  
- <span data-ttu-id="7a0d8-140">Applique des restrictions sur le code au moment de l'exécution en comparant les autorisations accordées de chaque appelant sur la pile d'appels avec les autorisations que les appelants doivent posséder.</span><span class="sxs-lookup"><span data-stu-id="7a0d8-140">Enforces restrictions on code at run time by comparing the granted permissions of every caller on the call stack to the permissions that callers must have.</span></span>  
  
<a name="walking_the_call_stack"></a>
## <a name="walking-the-call-stack"></a><span data-ttu-id="7a0d8-141">Parcours de la pile des appels</span><span class="sxs-lookup"><span data-stu-id="7a0d8-141">Walking the Call Stack</span></span>  
 <span data-ttu-id="7a0d8-142">Pour déterminer si le code est autorisé à accéder à une ressource ou à exécuter une opération, le système de sécurité du runtime parcourt la pile des appels, en comparant les autorisations accordées de chaque appelant à l'autorisation demandée.</span><span class="sxs-lookup"><span data-stu-id="7a0d8-142">To determine whether code is authorized to access a resource or perform an operation, the runtime's security system walks the call stack, comparing the granted permissions of each caller to the permission being demanded.</span></span> <span data-ttu-id="7a0d8-143">Si un appelant dans la pile des appels n'a pas l'autorisation demandée, une exception de sécurité est levée et l'accès est refusé.</span><span class="sxs-lookup"><span data-stu-id="7a0d8-143">If any caller in the call stack does not have the demanded permission, a security exception is thrown and access is refused.</span></span> <span data-ttu-id="7a0d8-144">Le parcours de la pile est conçu pour éviter les attaques malveillantes au cours desquelles du code ayant un niveau de confiance plus faible appelle du code ayant un niveau de confiance élevé et l'utilise pour exécuter des actions non autorisées.</span><span class="sxs-lookup"><span data-stu-id="7a0d8-144">The stack walk is designed to help prevent luring attacks, in which less-trusted code calls highly trusted code and uses it to perform unauthorized actions.</span></span> <span data-ttu-id="7a0d8-145">Demander les autorisations de tous les appelants au moment de l'exécution affecte les performances, mais est essentiel pour protéger le code contre les attaques malveillantes de code ayant un niveau de confiance plus faible.</span><span class="sxs-lookup"><span data-stu-id="7a0d8-145">Demanding permissions of all callers at run time affects performance, but it is essential to help protect code from luring attacks by less-trusted code.</span></span> <span data-ttu-id="7a0d8-146">Pour optimiser les performances, vous pouvez faire en sorte que votre code effectue moins de parcours de pile.</span><span class="sxs-lookup"><span data-stu-id="7a0d8-146">To optimize performance, you can have your code perform fewer stack walks.</span></span> <span data-ttu-id="7a0d8-147">Toutefois, veillez à ne pas exposer de faille de sécurité à chaque fois que vous faites cela.</span><span class="sxs-lookup"><span data-stu-id="7a0d8-147">However, be sure that you don't expose a security weakness whenever you do this.</span></span>  
  
 <span data-ttu-id="7a0d8-148">L'illustration suivante présente le parcours de la pile obtenu quand une méthode dans l'assembly A4 réclame que ses appelants bénéficient de l'autorisation P.</span><span class="sxs-lookup"><span data-stu-id="7a0d8-148">The following illustration shows the stack walk that results when a method in Assembly A4 demands that its callers have permission P.</span></span>  
  
 <span data-ttu-id="7a0d8-149">![Parcours de pile de la sécurité d’accès du code](media/slide-10a.gif "slide_10a")</span><span class="sxs-lookup"><span data-stu-id="7a0d8-149">![Code access security stack walk](media/slide-10a.gif "slide_10a")</span></span>
  
<a name="related_topics"></a>
## <a name="related-articles"></a><span data-ttu-id="7a0d8-150">Articles connexes</span><span class="sxs-lookup"><span data-stu-id="7a0d8-150">Related articles</span></span>
  
|<span data-ttu-id="7a0d8-151">Intitulé</span><span class="sxs-lookup"><span data-stu-id="7a0d8-151">Title</span></span>|<span data-ttu-id="7a0d8-152">Description</span><span class="sxs-lookup"><span data-stu-id="7a0d8-152">Description</span></span>|  
|-----------|-----------------|  
|[<span data-ttu-id="7a0d8-153">Notions fondamentales de la sécurité d'accès du code</span><span class="sxs-lookup"><span data-stu-id="7a0d8-153">Code Access Security Basics</span></span>](code-access-security-basics.md)|<span data-ttu-id="7a0d8-154">Décrit la sécurité d'accès du code et ses principales utilisations.</span><span class="sxs-lookup"><span data-stu-id="7a0d8-154">Describes code access security and its most common uses.</span></span>|  
|[<span data-ttu-id="7a0d8-155">Code transparent de sécurité, niveau 2</span><span class="sxs-lookup"><span data-stu-id="7a0d8-155">Security-Transparent Code, Level 2</span></span>](security-transparent-code-level-2.md)|<span data-ttu-id="7a0d8-156">Décrit le modèle de transparence de la sécurité dans le .NET Framework 4.</span><span class="sxs-lookup"><span data-stu-id="7a0d8-156">Describes the security transparency model in the .NET Framework 4.</span></span>|  
|[<span data-ttu-id="7a0d8-157">Utilisation de bibliothèques à partir de code d'un niveau de confiance partiel</span><span class="sxs-lookup"><span data-stu-id="7a0d8-157">Using Libraries from Partially Trusted Code</span></span>](using-libraries-from-partially-trusted-code.md)|<span data-ttu-id="7a0d8-158">Décrit comment activer des bibliothèques en vue d'une utilisation avec du code non managé et comment utiliser des bibliothèques à partir d'un code non managé.</span><span class="sxs-lookup"><span data-stu-id="7a0d8-158">Describes how to enable libraries for use with unmanaged code and how to use libraries from unmanaged code.</span></span>|  
|[<span data-ttu-id="7a0d8-159">Concepts fondamentaux sur la sécurité</span><span class="sxs-lookup"><span data-stu-id="7a0d8-159">Key Security Concepts</span></span>](../../standard/security/key-security-concepts.md)|<span data-ttu-id="7a0d8-160">Offre une vue d'ensemble de nombreux termes et concepts clés utilisés dans le système de sécurité .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="7a0d8-160">Provides an overview of many of the key terms and concepts used in the .NET Framework security system.</span></span>|  
|[<span data-ttu-id="7a0d8-161">Sécurité basée sur les rôles</span><span class="sxs-lookup"><span data-stu-id="7a0d8-161">Role-Based Security</span></span>](../../standard/security/role-based-security.md)|<span data-ttu-id="7a0d8-162">Décrit comment incorporer la sécurité basée sur les rôles.</span><span class="sxs-lookup"><span data-stu-id="7a0d8-162">Describes how to incorporate security based on roles.</span></span>|  
|[<span data-ttu-id="7a0d8-163">services de chiffrement</span><span class="sxs-lookup"><span data-stu-id="7a0d8-163">Cryptographic Services</span></span>](../../standard/security/cryptographic-services.md)|<span data-ttu-id="7a0d8-164">Décrit comment incorporer le chiffrement dans vos applications.</span><span class="sxs-lookup"><span data-stu-id="7a0d8-164">Describes how to incorporate cryptography into your applications.</span></span>|
