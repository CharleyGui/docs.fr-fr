---
title: Caspol.exe (outil Stratégie de sécurité d'accès du code)
ms.date: 03/30/2017
helpviewer_keywords:
- permission sets, modifying security policy
- security policy [.NET Framework], Code Access Security Policy tool
- enterprise security policy
- referencing code groups and permission sets
- user security policy
- Caspol.exe
- Code Access Security Policy tool
- code groups, modifying security policy
- application development [.NET Framework], security
- machine security policy
- security policy [.NET Framework], modifying
- manually editing security configuration files
ms.assetid: d2bf6123-7b0c-4e60-87ad-a39a1c3eb2e0
author: rpetrusha
ms.author: ronpet
ms.openlocfilehash: ccb1d78f939d2faf90013392fc60d5597bc3922e
ms.sourcegitcommit: 155012a8a826ee8ab6aa49b1b3a3b532e7b7d9bd
ms.translationtype: HT
ms.contentlocale: fr-FR
ms.lasthandoff: 06/04/2019
ms.locfileid: "66489677"
---
# <a name="caspolexe-code-access-security-policy-tool"></a><span data-ttu-id="f7927-102">Caspol.exe (outil Stratégie de sécurité d'accès du code)</span><span class="sxs-lookup"><span data-stu-id="f7927-102">Caspol.exe (Code Access Security Policy Tool)</span></span>
<span data-ttu-id="f7927-103">L'outil Stratégie de sécurité d'accès du code (CAS) (Caspol.exe) permet aux utilisateurs et aux administrateurs de modifier la stratégie de sécurité au niveau de l'ordinateur, de l'utilisateur et de l'entreprise.</span><span class="sxs-lookup"><span data-stu-id="f7927-103">The Code Access Security (CAS) Policy tool (Caspol.exe) enables users and administrators to modify security policy for the machine policy level, the user policy level, and the enterprise policy level.</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="f7927-104">À compter de .NET Framework 4, Caspol.exe n’affecte pas la stratégie CAS, sauf si l’[élément \<legacyCasPolicy>](../../../docs/framework/configure-apps/file-schema/runtime/netfx40-legacysecuritypolicy-element.md) a la valeur `true`.</span><span class="sxs-lookup"><span data-stu-id="f7927-104">Starting with the .NET Framework 4, Caspol.exe does not affect CAS policy unless the [\<legacyCasPolicy> element](../../../docs/framework/configure-apps/file-schema/runtime/netfx40-legacysecuritypolicy-element.md) is set to `true`.</span></span> <span data-ttu-id="f7927-105">Tous les paramètres affichés ou modifiés par CasPol.exe affectent uniquement les applications qui choisissent d'utiliser la stratégie CAS.</span><span class="sxs-lookup"><span data-stu-id="f7927-105">Any settings shown or modified by CasPol.exe will only affect applications that opt into using CAS policy.</span></span> <span data-ttu-id="f7927-106">Pour plus d’informations, consultez [Changements en matière de sécurité](../../../docs/framework/security/security-changes.md).</span><span class="sxs-lookup"><span data-stu-id="f7927-106">For more information, see [Security Changes](../../../docs/framework/security/security-changes.md).</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="f7927-107">Les ordinateurs 64 bits comprennent des versions 64 bits et 32 bits de stratégie de sécurité.</span><span class="sxs-lookup"><span data-stu-id="f7927-107">64-bit computers include both 64-bit and 32-bit versions of security policy.</span></span> <span data-ttu-id="f7927-108">Pour garantir que vos modifications de stratégie s'appliquent aux applications 32 bits et 64 bits, exécutez les versions 32 bits et 64 bits de Caspol.exe.</span><span class="sxs-lookup"><span data-stu-id="f7927-108">To ensure that your policy changes apply to both 32-bit and 64-bit applications, run both the 32-bit and 64-bit versions of Caspol.exe.</span></span>  
  
 <span data-ttu-id="f7927-109">Cet outil est automatiquement installé avec le .NET Framework et Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="f7927-109">The Code Access Security Policy tool is automatically installed with the .NET Framework and with Visual Studio.</span></span> <span data-ttu-id="f7927-110">Vous trouverez Caspol.exe dans le répertoire %windir%\Microsoft.NET\Framework\\*version* sur les systèmes 32 bits ou %windir%\Microsoft.NET\Framework64\\*version* sur les systèmes 64 bits.</span><span class="sxs-lookup"><span data-stu-id="f7927-110">You can find Caspol.exe in %windir%\Microsoft.NET\Framework\\*version* on 32-bit systems or %windir%\Microsoft.NET\Framework64\\*version* on 64-bit systems.</span></span> <span data-ttu-id="f7927-111">(Par exemple, l'emplacement est %windir%\Microsoft.NET\Framework64\v4.030319\caspol.exe pour .NET Framework 4 sur un système 64 bits.) Si l'ordinateur exécute plusieurs versions du .NET Framework côte-à-côte, plusieurs versions de l'outil peuvent être installées.</span><span class="sxs-lookup"><span data-stu-id="f7927-111">(For example, the location is %windir%\Microsoft.NET\Framework64\v4.030319\caspol.exe for the .NET Framework 4 on a 64-bit system.) Multiple versions of the tool might be installed if your computer is running multiple versions of the .NET Framework side by side.</span></span> <span data-ttu-id="f7927-112">Vous pouvez exécuter l'outil depuis le répertoire d'installation.</span><span class="sxs-lookup"><span data-stu-id="f7927-112">You can run the tool from the installation directory.</span></span> <span data-ttu-id="f7927-113">Toutefois, nous vous recommandons d'utiliser les [Invites de commandes](../../../docs/framework/tools/developer-command-prompt-for-vs.md), qui vous évitent de devoir accéder au dossier d’installation.</span><span class="sxs-lookup"><span data-stu-id="f7927-113">However, we recommend that you use the [Command Prompts](../../../docs/framework/tools/developer-command-prompt-for-vs.md), which does not require you to navigate to the installation folder.</span></span>  
  
 <span data-ttu-id="f7927-114">À l'invite de commandes, tapez le texte suivant :</span><span class="sxs-lookup"><span data-stu-id="f7927-114">At the command prompt, type the following:</span></span>  
  
## <a name="syntax"></a><span data-ttu-id="f7927-115">Syntaxe</span><span class="sxs-lookup"><span data-stu-id="f7927-115">Syntax</span></span>  
  
```  
caspol [options]  
```  
  
## <a name="parameters"></a><span data-ttu-id="f7927-116">Paramètres</span><span class="sxs-lookup"><span data-stu-id="f7927-116">Parameters</span></span>  
  
|<span data-ttu-id="f7927-117">Option</span><span class="sxs-lookup"><span data-stu-id="f7927-117">Option</span></span>|<span data-ttu-id="f7927-118">Description</span><span class="sxs-lookup"><span data-stu-id="f7927-118">Description</span></span>|  
|------------|-----------------|  
|<span data-ttu-id="f7927-119">**-addfulltrust** *assembly_file*</span><span class="sxs-lookup"><span data-stu-id="f7927-119">**-addfulltrust** *assembly_file*</span></span><br /><br /> <span data-ttu-id="f7927-120">ou</span><span class="sxs-lookup"><span data-stu-id="f7927-120">or</span></span><br /><br /> <span data-ttu-id="f7927-121">**-af** *assembly_file*</span><span class="sxs-lookup"><span data-stu-id="f7927-121">**-af** *assembly_file*</span></span>|<span data-ttu-id="f7927-122">Ajoute un assembly qui implémente un objet de sécurité personnalisé (autorisation personnalisée ou condition d'appartenance personnalisée) à la liste des assemblys de confiance pour un niveau de stratégie précis.</span><span class="sxs-lookup"><span data-stu-id="f7927-122">Adds an assembly that implements a custom security object (such as a custom permission or a custom membership condition) to the full trust assembly list for a specific policy level.</span></span> <span data-ttu-id="f7927-123">L’argument *assembly_file* spécifie l’assembly à ajouter.</span><span class="sxs-lookup"><span data-stu-id="f7927-123">The *assembly_file* argument specifies the assembly to add.</span></span> <span data-ttu-id="f7927-124">Ce fichier doit être signé avec un [nom fort](../../../docs/framework/app-domains/strong-named-assemblies.md).</span><span class="sxs-lookup"><span data-stu-id="f7927-124">This file must be signed with a [strong name](../../../docs/framework/app-domains/strong-named-assemblies.md).</span></span> <span data-ttu-id="f7927-125">Vous pouvez signer un assembly avec un nom fort à l'aide de l’[outil Strong Name (Sn.exe)](../../../docs/framework/tools/sn-exe-strong-name-tool.md).</span><span class="sxs-lookup"><span data-stu-id="f7927-125">You can sign an assembly with a strong name using the [Strong Name Tool (Sn.exe)](../../../docs/framework/tools/sn-exe-strong-name-tool.md).</span></span><br /><br /> <span data-ttu-id="f7927-126">Lorsqu'un jeu d'autorisations contenant une autorisation personnalisée est ajouté à la stratégie, l'assembly implémentant cette autorisation personnalisée doit être ajouté à la liste des assemblys de confiance totale pour le niveau de stratégie considéré.</span><span class="sxs-lookup"><span data-stu-id="f7927-126">Whenever a permission set containing a custom permission is added to policy, the assembly implementing the custom permission must be added to the full trust list for that policy level.</span></span> <span data-ttu-id="f7927-127">Les assemblys qui implémentent des objets de sécurité personnalisés (groupes de codes ou conditions d'appartenance personnalisés) et utilisés dans une stratégie de sécurité (stratégie de l'ordinateur notamment) doivent toujours être ajoutés à la liste des assemblys de confiance totale.</span><span class="sxs-lookup"><span data-stu-id="f7927-127">Assemblies that implement custom security objects (such as custom code groups or membership conditions) used in a security policy (such as the machine policy) should always be added to the full trust assembly list.</span></span> <span data-ttu-id="f7927-128">**Attention :**  si l’assembly qui implémente l’objet de sécurité personnalisé fait référence à d’autres assemblys, vous devez d’abord ajouter ces derniers à la liste des assemblys de confiance totale.</span><span class="sxs-lookup"><span data-stu-id="f7927-128">**Caution:**  If the assembly implementing the custom security object references other assemblies, you must first add the referenced assemblies to the full trust assembly list.</span></span> <span data-ttu-id="f7927-129">Les objets de sécurité personnalisés créés à l'aide de Visual Basic, C++ et JScript référencent Microsoft.VisualBasic.dll, Microsoft.VisualC.dll ou Microsoft.JScript.dll, respectivement.</span><span class="sxs-lookup"><span data-stu-id="f7927-129">Custom security objects created using Visual Basic, C++, and JScript reference either Microsoft.VisualBasic.dll, Microsoft.VisualC.dll, or Microsoft.JScript.dll, respectively.</span></span> <span data-ttu-id="f7927-130">Ces assemblys ne sont pas par défaut dans la liste des assemblys de confiance totale.</span><span class="sxs-lookup"><span data-stu-id="f7927-130">These assemblies are not in the full trust assembly list by default.</span></span> <span data-ttu-id="f7927-131">Vous devez ajouter l'assembly approprié à la liste de confiance totale avant d'ajouter un objet de sécurité personnalisé.</span><span class="sxs-lookup"><span data-stu-id="f7927-131">You must add the appropriate assembly to the full trust list before you add a custom security object.</span></span> <span data-ttu-id="f7927-132">Dans le cas contraire, vous risquez de perturber le système de sécurité et de provoquer l'échec du chargement de tous les assemblys.</span><span class="sxs-lookup"><span data-stu-id="f7927-132">Failure to do so will break the security system, causing all assemblies to fail to load.</span></span> <span data-ttu-id="f7927-133">Dans ce cas, l'option **-all -reset** de Caspol.exe ne répare pas la sécurité.</span><span class="sxs-lookup"><span data-stu-id="f7927-133">In this situation, the Caspol.exe **-all -reset** option will not repair security.</span></span> <span data-ttu-id="f7927-134">Pour corriger la sécurité, vous devez manuellement modifier les fichiers de sécurité pour supprimer l'objet de sécurité personnalisé.</span><span class="sxs-lookup"><span data-stu-id="f7927-134">To repair security, you must manually edit the security files to remove the custom security object.</span></span>|  
|<span data-ttu-id="f7927-135">**-addgroup** {*parent_label &#124; parent_name*} *mship pset_name* [*flags*]</span><span class="sxs-lookup"><span data-stu-id="f7927-135">**-addgroup** {*parent_label &#124; parent_name*} *mship pset_name* [*flags*]</span></span><br /><br /> <span data-ttu-id="f7927-136">ou</span><span class="sxs-lookup"><span data-stu-id="f7927-136">or</span></span><br /><br /> <span data-ttu-id="f7927-137">**-ag** {*parent_label &#124; parent_name*} *mship pset_name* [*flags*]</span><span class="sxs-lookup"><span data-stu-id="f7927-137">**-ag** {*parent_label &#124; parent_name*} *mship pset_name* [*flags*]</span></span>|<span data-ttu-id="f7927-138">Ajoute un nouveau groupe de codes à la hiérarchie des groupes de codes.</span><span class="sxs-lookup"><span data-stu-id="f7927-138">Adds a new code group to the code group hierarchy.</span></span> <span data-ttu-id="f7927-139">Vous pouvez spécifier l'argument *parent_label* ou *parent_name*.</span><span class="sxs-lookup"><span data-stu-id="f7927-139">You can specify either the *parent_label* or *parent_name*.</span></span> <span data-ttu-id="f7927-140">L'argument *parent_label* indique l'étiquette (par ex., 1.</span><span class="sxs-lookup"><span data-stu-id="f7927-140">The *parent_label* argument specifies the label (such as 1.</span></span> <span data-ttu-id="f7927-141">ou 1.1.) du groupe de codes parent du groupe de codes ajouté.</span><span class="sxs-lookup"><span data-stu-id="f7927-141">or 1.1.) of the code group that is the parent of the code group being added.</span></span> <span data-ttu-id="f7927-142">L'argument *parent_name* indique le nom du groupe de codes parent du groupe de codes ajouté.</span><span class="sxs-lookup"><span data-stu-id="f7927-142">The *parent_name* argument specifies the name of the code group that is the parent of the code group being added.</span></span> <span data-ttu-id="f7927-143">Comme *parent_label* et *parent_name* peuvent être utilisés indifféremment, Caspol.exe doit être capable de faire la distinction entre les deux.</span><span class="sxs-lookup"><span data-stu-id="f7927-143">Because *parent_label* and *parent_name* can be used interchangeably, Caspol.exe must be able to distinguish between them.</span></span> <span data-ttu-id="f7927-144">Par conséquent, *parent_name* ne peut pas commencer par un chiffre.</span><span class="sxs-lookup"><span data-stu-id="f7927-144">Therefore, *parent_name* cannot begin with a number.</span></span> <span data-ttu-id="f7927-145">Par ailleurs, *parent_name* ne peut contenir que les lettres de A à Z, les chiffres de 0 à 9 et le caractère de soulignement.</span><span class="sxs-lookup"><span data-stu-id="f7927-145">Additionally, *parent_name* can only contain A-Z, 0-9 and the underscore character.</span></span><br /><br /> <span data-ttu-id="f7927-146">L'argument *mship* spécifie la condition d'appartenance au nouveau groupe de codes.</span><span class="sxs-lookup"><span data-stu-id="f7927-146">The *mship* argument specifies the membership condition for the new code group.</span></span> <span data-ttu-id="f7927-147">Pour plus d’informations, consultez le tableau des arguments *mship*, plus loin dans cette section.</span><span class="sxs-lookup"><span data-stu-id="f7927-147">For more information, see the table of *mship* arguments later in this section.</span></span><br /><br /> <span data-ttu-id="f7927-148">L’argument *pset_name* est le nom du jeu d’autorisations associé au nouveau groupe de codes.</span><span class="sxs-lookup"><span data-stu-id="f7927-148">The *pset_name* argument is the name of the permission set that will be associated with the new code group.</span></span> <span data-ttu-id="f7927-149">Vous pouvez également définir un ou plusieurs *flags* pour le nouveau groupe.</span><span class="sxs-lookup"><span data-stu-id="f7927-149">You can also set one or more *flags* for the new group.</span></span> <span data-ttu-id="f7927-150">Pour plus d’informations, consultez le tableau des arguments *flags*, plus loin dans cette section.</span><span class="sxs-lookup"><span data-stu-id="f7927-150">For more information, see the table of *flags* arguments later in this section.</span></span>|  
|<span data-ttu-id="f7927-151">**-addpset** {*psfile* &#124; *psfile* p*set_name*}</span><span class="sxs-lookup"><span data-stu-id="f7927-151">**-addpset** {*psfile* &#124; *psfile* p*set_name*}</span></span><br /><br /> <span data-ttu-id="f7927-152">ou</span><span class="sxs-lookup"><span data-stu-id="f7927-152">or</span></span><br /><br /> <span data-ttu-id="f7927-153">**-ap** {*named*_*psfile* &#124; *psfile* *pset_name*}</span><span class="sxs-lookup"><span data-stu-id="f7927-153">**-ap** {*named*_*psfile* &#124; *psfile* *pset_name*}</span></span>|<span data-ttu-id="f7927-154">Ajoute un nouveau jeu d'autorisations nommé à la stratégie.</span><span class="sxs-lookup"><span data-stu-id="f7927-154">Adds a new named permission set to policy.</span></span> <span data-ttu-id="f7927-155">Ce jeu d'autorisations doit être créé au format XML et stocké dans un fichier .xml.</span><span class="sxs-lookup"><span data-stu-id="f7927-155">The permission set must be authored in XML and stored in an .xml file.</span></span> <span data-ttu-id="f7927-156">Si le fichier XML contient le nom du jeu d'autorisations, seul ce fichier (*psfile*) est spécifié.</span><span class="sxs-lookup"><span data-stu-id="f7927-156">If the XML file contains the name of the permission set, only that file (*psfile*) is specified.</span></span> <span data-ttu-id="f7927-157">Si le fichier XML ne contient pas le nom du jeu d'autorisations, vous devez spécifier à la fois le nom du fichier XML (*psfile*) et le nom du jeu d'autorisations (*pset_name*).</span><span class="sxs-lookup"><span data-stu-id="f7927-157">If the XML file does not contain the permission set name, you must specify both the XML file name (*psfile*) and the permission set name (*pset_name*).</span></span><br /><br /> <span data-ttu-id="f7927-158">Notez que toutes les autorisations utilisées dans un jeu d'autorisations doivent être définies dans les assemblys contenus dans le Global Assembly Cache.</span><span class="sxs-lookup"><span data-stu-id="f7927-158">Note that all permissions used in a permission set must be defined in assemblies contained in the global assembly cache.</span></span>|  
|<span data-ttu-id="f7927-159">**-a**[**ll**]</span><span class="sxs-lookup"><span data-stu-id="f7927-159">**-a**[**ll**]</span></span>|<span data-ttu-id="f7927-160">Indique que toutes les options qui suivent celle-ci s'appliquent aux stratégies de l'ordinateur, de l'utilisateur et de l'entreprise.</span><span class="sxs-lookup"><span data-stu-id="f7927-160">Indicates that all options following this one apply to the machine, user, and enterprise policies.</span></span> <span data-ttu-id="f7927-161">L'option **-all** fait toujours référence à la stratégie de l'utilisateur actuellement connecté.</span><span class="sxs-lookup"><span data-stu-id="f7927-161">The **-all** option always refers to the policy of the currently logged-on user.</span></span> <span data-ttu-id="f7927-162">Pour faire référence à la stratégie d'un autre utilisateur que l'utilisateur actuel, utilisez l'option **-customall**.</span><span class="sxs-lookup"><span data-stu-id="f7927-162">See the **-customall** option to refer to the user policy of a user other than the current user.</span></span>|  
|<span data-ttu-id="f7927-163">**-chggroup** {*label &#124;name*} {*mship* &#124; *pset_name* &#124;</span><span class="sxs-lookup"><span data-stu-id="f7927-163">**-chggroup** {*label &#124;name*} {*mship* &#124; *pset_name* &#124;</span></span><br /><br /> <span data-ttu-id="f7927-164">*flags* `}`</span><span class="sxs-lookup"><span data-stu-id="f7927-164">*flags* `}`</span></span><br /><br /> <span data-ttu-id="f7927-165">ou</span><span class="sxs-lookup"><span data-stu-id="f7927-165">or</span></span><br /><br /> <span data-ttu-id="f7927-166">**-cg** {*label &#124;name*} {*mship* &#124; *pset_name* &#124;</span><span class="sxs-lookup"><span data-stu-id="f7927-166">**-cg** {*label &#124;name*} {*mship* &#124; *pset_name* &#124;</span></span><br /><br /> <span data-ttu-id="f7927-167">*flags* `}`</span><span class="sxs-lookup"><span data-stu-id="f7927-167">*flags* `}`</span></span>|<span data-ttu-id="f7927-168">Change la condition d'appartenance ou le jeu d'autorisations d'un groupe de codes ou change les paramètres des indicateurs **exclusive**, **levelfinal**, **name** et **description**.</span><span class="sxs-lookup"><span data-stu-id="f7927-168">Changes a code group's membership condition, permission set, or the settings of the **exclusive**, **levelfinal**, **name**, or **description** flags.</span></span> <span data-ttu-id="f7927-169">Vous pouvez spécifier l'argument *label* ou l'argument *name*.</span><span class="sxs-lookup"><span data-stu-id="f7927-169">You can specify either the *label* or *name*.</span></span> <span data-ttu-id="f7927-170">L'argument *label* indique l'étiquette (par ex., 1.</span><span class="sxs-lookup"><span data-stu-id="f7927-170">The *label* argument specifies the label (such as 1.</span></span> <span data-ttu-id="f7927-171">ou 1.1.) du groupe de codes.</span><span class="sxs-lookup"><span data-stu-id="f7927-171">or 1.1.) of the code group.</span></span> <span data-ttu-id="f7927-172">L'argument *name* indique le nom du groupe de codes à modifier.</span><span class="sxs-lookup"><span data-stu-id="f7927-172">The *name* argument specifies the name of the code group to change.</span></span> <span data-ttu-id="f7927-173">Comme *label* et *name* peuvent être utilisés indifféremment, Caspol.exe doit être capable de faire la distinction entre les deux.</span><span class="sxs-lookup"><span data-stu-id="f7927-173">Because *label* and *name* can be used interchangeably, Caspol.exe must be able to distinguish between them.</span></span> <span data-ttu-id="f7927-174">Par conséquent, *name* ne peut pas commencer par un chiffre.</span><span class="sxs-lookup"><span data-stu-id="f7927-174">Therefore, *name* cannot begin with a number.</span></span> <span data-ttu-id="f7927-175">Par ailleurs, *name* ne peut contenir que les lettres de A à Z, les chiffres de 0 à 9 et le caractère de soulignement.</span><span class="sxs-lookup"><span data-stu-id="f7927-175">Additionally, *name* can only contain A-Z, 0-9 and the underscore character.</span></span><br /><br /> <span data-ttu-id="f7927-176">L’argument *pset_name* indique le nom du jeu d’autorisations à associer au groupe de codes.</span><span class="sxs-lookup"><span data-stu-id="f7927-176">The *pset_name* argument specifies the name of the permission set to associate with the code group.</span></span> <span data-ttu-id="f7927-177">Consultez les tableaux fournis plus loin dans cette section pour plus d’informations sur les arguments *mship* et *flags*.</span><span class="sxs-lookup"><span data-stu-id="f7927-177">See the tables later in this section for information on the *mship* and *flags* arguments.</span></span>|  
|<span data-ttu-id="f7927-178">**-chgpset**  *psfile pset_name*</span><span class="sxs-lookup"><span data-stu-id="f7927-178">**-chgpset**  *psfile pset_name*</span></span><br /><br /> <span data-ttu-id="f7927-179">ou</span><span class="sxs-lookup"><span data-stu-id="f7927-179">or</span></span><br /><br /> <span data-ttu-id="f7927-180">**-cp** *psfile pset_name*</span><span class="sxs-lookup"><span data-stu-id="f7927-180">**-cp** *psfile pset_name*</span></span>|<span data-ttu-id="f7927-181">Change le jeu d'autorisations nommé.</span><span class="sxs-lookup"><span data-stu-id="f7927-181">Changes a named permission set.</span></span> <span data-ttu-id="f7927-182">L’argument *psfile* fournit la nouvelle définition du jeu d’autorisations ; il s’agit d’un fichier de jeu d’autorisations sérialisé au format XML.</span><span class="sxs-lookup"><span data-stu-id="f7927-182">The *psfile* argument supplies the new definition for the permission set; it is a serialized permission set file in XML format.</span></span> <span data-ttu-id="f7927-183">L’argument *pset_name* spécifie le nom du jeu d’autorisations que vous souhaitez remplacer.</span><span class="sxs-lookup"><span data-stu-id="f7927-183">The *pset_name* argument specifies the name of the permission set you want to change.</span></span>|  
|<span data-ttu-id="f7927-184">**-customall**  *path*</span><span class="sxs-lookup"><span data-stu-id="f7927-184">**-customall**  *path*</span></span><br /><br /> <span data-ttu-id="f7927-185">ou</span><span class="sxs-lookup"><span data-stu-id="f7927-185">or</span></span><br /><br /> <span data-ttu-id="f7927-186">**-ca**  *path*</span><span class="sxs-lookup"><span data-stu-id="f7927-186">**-ca**  *path*</span></span>|<span data-ttu-id="f7927-187">Indique que toutes les options qui suivent celle-ci s'appliquent aux stratégies de l'ordinateur, de l'entreprise et de l'utilisateur personnalisé spécifié.</span><span class="sxs-lookup"><span data-stu-id="f7927-187">Indicates that all options following this one apply to the machine, enterprise, and the specified custom user policies.</span></span> <span data-ttu-id="f7927-188">Vous devez spécifier l’emplacement du fichier de configuration de sécurité associé à l’utilisateur personnalisé dans l’argument *path*.</span><span class="sxs-lookup"><span data-stu-id="f7927-188">You must specify the location of the custom user's security configuration file with the *path* argument.</span></span>|  
|<span data-ttu-id="f7927-189">**-cu**[**stomuser**] *path*</span><span class="sxs-lookup"><span data-stu-id="f7927-189">**-cu**[**stomuser**] *path*</span></span>|<span data-ttu-id="f7927-190">Permet d'administrer une stratégie d'utilisateur personnalisée qui n'appartient pas à l'utilisateur pour lequel Caspol.exe s'exécute.</span><span class="sxs-lookup"><span data-stu-id="f7927-190">Allows the administration of a custom user policy that does not belong to the user on whose behalf Caspol.exe is currently running.</span></span> <span data-ttu-id="f7927-191">Vous devez spécifier l’emplacement du fichier de configuration de sécurité associé à l’utilisateur personnalisé dans l’argument *path*.</span><span class="sxs-lookup"><span data-stu-id="f7927-191">You must specify the location of the custom user's security configuration file with the *path* argument.</span></span>|  
|<span data-ttu-id="f7927-192">**-enterprise**</span><span class="sxs-lookup"><span data-stu-id="f7927-192">**-enterprise**</span></span><br /><br /> <span data-ttu-id="f7927-193">ou</span><span class="sxs-lookup"><span data-stu-id="f7927-193">or</span></span><br /><br /> <span data-ttu-id="f7927-194">**-en**</span><span class="sxs-lookup"><span data-stu-id="f7927-194">**-en**</span></span>|<span data-ttu-id="f7927-195">Indique que toutes les options qui suivent celle-ci s'appliquent à la stratégie de niveau entreprise.</span><span class="sxs-lookup"><span data-stu-id="f7927-195">Indicates that all options following this one apply to the enterprise level policy.</span></span> <span data-ttu-id="f7927-196">Les utilisateurs qui ne sont pas des administrateurs de l'entreprise ne bénéficient pas d'autorisations suffisantes pour modifier la stratégie de l'entreprise, même s'ils peuvent l'afficher.</span><span class="sxs-lookup"><span data-stu-id="f7927-196">Users who are not enterprise administrators do not have sufficient rights to modify the enterprise policy, although they can view it.</span></span> <span data-ttu-id="f7927-197">Dans les scénarios qui ne se situent pas au niveau de l'entreprise, cette stratégie n'a, par défaut, aucune incidence sur les stratégies de niveau ordinateur et utilisateur.</span><span class="sxs-lookup"><span data-stu-id="f7927-197">In nonenterprise scenarios, this policy, by default, does not interfere with machine and user policy.</span></span>|  
|<span data-ttu-id="f7927-198">**-e**[**xecution**] {**on** &#124; **off**}</span><span class="sxs-lookup"><span data-stu-id="f7927-198">**-e**[**xecution**] {**on** &#124; **off**}</span></span>|<span data-ttu-id="f7927-199">Active ou désactive le mécanisme qui vérifie l'autorisation à mettre en œuvre avant que le code ne commence à s'exécuter.</span><span class="sxs-lookup"><span data-stu-id="f7927-199">Turns on or off the mechanism that checks for the permission to run before code starts to execute.</span></span> <span data-ttu-id="f7927-200">**Remarque :**  Ce commutateur est supprimé dans .NET Framework 4 et versions ultérieures.</span><span class="sxs-lookup"><span data-stu-id="f7927-200">**Note:**  This switch is removed in the .NET Framework 4 and later versions.</span></span> <span data-ttu-id="f7927-201">Pour plus d’informations, consultez [Changements en matière de sécurité](../../../docs/framework/security/security-changes.md).</span><span class="sxs-lookup"><span data-stu-id="f7927-201">For more information, see [Security Changes](../../../docs/framework/security/security-changes.md).</span></span>|  
|<span data-ttu-id="f7927-202">**-f**[**orce**]</span><span class="sxs-lookup"><span data-stu-id="f7927-202">**-f**[**orce**]</span></span>|<span data-ttu-id="f7927-203">Supprime le test d'autodestruction de l'outil et modifie la stratégie selon les instructions de l'utilisateur.</span><span class="sxs-lookup"><span data-stu-id="f7927-203">Suppresses the tool's self-destruct test and changes the policy as specified by the user.</span></span> <span data-ttu-id="f7927-204">Normalement, Caspol.exe vérifie si les changements de stratégie sont susceptibles de nuire à son exécution correcte. Le cas échéant, Caspol.exe n'enregistre pas la modification et imprime un message d'erreur.</span><span class="sxs-lookup"><span data-stu-id="f7927-204">Normally, Caspol.exe checks whether any policy changes would prevent Caspol.exe itself from running properly; if so, Caspol.exe does not save the policy change and prints an error message.</span></span> <span data-ttu-id="f7927-205">Pour obliger Caspol.exe à modifier la stratégie même si cela l'empêche de s'exécuter, utilisez l'option **–force**.</span><span class="sxs-lookup"><span data-stu-id="f7927-205">To force Caspol.exe to change policy even if this prevents Caspol.exe itself from running, use the **–force** option.</span></span>|  
|<span data-ttu-id="f7927-206">**-h**[**elp**]</span><span class="sxs-lookup"><span data-stu-id="f7927-206">**-h**[**elp**]</span></span>|<span data-ttu-id="f7927-207">Affiche la syntaxe de commande et les options de Caspol.exe.</span><span class="sxs-lookup"><span data-stu-id="f7927-207">Displays command syntax and options for Caspol.exe.</span></span>|  
|<span data-ttu-id="f7927-208">**-l**[**ist**]</span><span class="sxs-lookup"><span data-stu-id="f7927-208">**-l**[**ist**]</span></span>|<span data-ttu-id="f7927-209">Affiche la hiérarchie des groupes de codes et les jeux d'autorisations définis pour l'ordinateur, l'utilisateur ou l'entreprise spécifiés ou pour tous les niveaux de stratégie.</span><span class="sxs-lookup"><span data-stu-id="f7927-209">Lists the code group hierarchy and the permission sets for the specified machine, user, enterprise, or all policy levels.</span></span> <span data-ttu-id="f7927-210">Caspol.exe affiche d'abord l'étiquette du groupe de codes, puis son nom s'il n'est pas nul.</span><span class="sxs-lookup"><span data-stu-id="f7927-210">Caspol.exe displays the code group's label first, followed by the name, if it is not null.</span></span>|  
|<span data-ttu-id="f7927-211">**-listdescription**</span><span class="sxs-lookup"><span data-stu-id="f7927-211">**-listdescription**</span></span><br /><br /> <span data-ttu-id="f7927-212">ou</span><span class="sxs-lookup"><span data-stu-id="f7927-212">or</span></span><br /><br /> <span data-ttu-id="f7927-213">**-ld**</span><span class="sxs-lookup"><span data-stu-id="f7927-213">**-ld**</span></span>|<span data-ttu-id="f7927-214">Affiche les descriptions de tous les groupes de codes définis pour le niveau de stratégie spécifié.</span><span class="sxs-lookup"><span data-stu-id="f7927-214">Lists all code group descriptions for the specified policy level.</span></span>|  
|<span data-ttu-id="f7927-215">**-listfulltrust**</span><span class="sxs-lookup"><span data-stu-id="f7927-215">**-listfulltrust**</span></span><br /><br /> <span data-ttu-id="f7927-216">ou</span><span class="sxs-lookup"><span data-stu-id="f7927-216">or</span></span><br /><br /> <span data-ttu-id="f7927-217">**-lf**</span><span class="sxs-lookup"><span data-stu-id="f7927-217">**-lf**</span></span>|<span data-ttu-id="f7927-218">Affiche le contenu de la liste des assemblys de confiance totale pour le niveau de stratégie spécifié.</span><span class="sxs-lookup"><span data-stu-id="f7927-218">Lists the contents of the full trust assembly list for the specified policy level.</span></span>|  
|<span data-ttu-id="f7927-219">**-listgroups**</span><span class="sxs-lookup"><span data-stu-id="f7927-219">**-listgroups**</span></span><br /><br /> <span data-ttu-id="f7927-220">ou</span><span class="sxs-lookup"><span data-stu-id="f7927-220">or</span></span><br /><br /> <span data-ttu-id="f7927-221">**-lg**</span><span class="sxs-lookup"><span data-stu-id="f7927-221">**-lg**</span></span>|<span data-ttu-id="f7927-222">Affiche les groupes de codes du niveau de stratégie spécifié ou de tous les niveaux de stratégie.</span><span class="sxs-lookup"><span data-stu-id="f7927-222">Displays the code groups of the specified policy level or all policy levels.</span></span> <span data-ttu-id="f7927-223">Caspol.exe affiche d'abord l'étiquette du groupe de codes, puis son nom s'il n'est pas nul.</span><span class="sxs-lookup"><span data-stu-id="f7927-223">Caspol.exe displays the code group's label first, followed by the name, if it is not null.</span></span>|  
|<span data-ttu-id="f7927-224">**-listpset** ou **-lp**</span><span class="sxs-lookup"><span data-stu-id="f7927-224">**-listpset** or **-lp**</span></span>|<span data-ttu-id="f7927-225">Affiche les jeux d'autorisations associés au niveau de stratégie spécifié ou à tous les niveaux de stratégie.</span><span class="sxs-lookup"><span data-stu-id="f7927-225">Displays the permission sets for the specified policy level or all policy levels.</span></span>|  
|<span data-ttu-id="f7927-226">**-m**[**achine**]</span><span class="sxs-lookup"><span data-stu-id="f7927-226">**-m**[**achine**]</span></span>|<span data-ttu-id="f7927-227">Indique que toutes les options qui suivent celle-ci s'appliquent à la stratégie de niveau ordinateur.</span><span class="sxs-lookup"><span data-stu-id="f7927-227">Indicates that all options following this one apply to the machine level policy.</span></span> <span data-ttu-id="f7927-228">Les utilisateurs qui ne sont pas des administrateurs ne bénéficient pas d'autorisations suffisantes pour modifier la stratégie de l'ordinateur, même s'ils peuvent l'afficher.</span><span class="sxs-lookup"><span data-stu-id="f7927-228">Users who are not administrators do not have sufficient rights to modify the machine policy, although they can view it.</span></span> <span data-ttu-id="f7927-229">Pour les administrateurs, **-machine** est l'option par défaut.</span><span class="sxs-lookup"><span data-stu-id="f7927-229">For administrators, **-machine** is the default.</span></span>|  
|<span data-ttu-id="f7927-230">**-polchgprompt** {**on** &#124; **off**}</span><span class="sxs-lookup"><span data-stu-id="f7927-230">**-polchgprompt** {**on** &#124; **off**}</span></span><br /><br /> <span data-ttu-id="f7927-231">ou</span><span class="sxs-lookup"><span data-stu-id="f7927-231">or</span></span><br /><br /> <span data-ttu-id="f7927-232">**-pp** {**on** &#124; **off**}</span><span class="sxs-lookup"><span data-stu-id="f7927-232">**-pp** {**on** &#124; **off**}</span></span>|<span data-ttu-id="f7927-233">Active ou désactive l'invite de commandes qui s'affiche lorsque Caspol.exe est exécuté avec une option susceptible d'entraîner des changements de stratégie.</span><span class="sxs-lookup"><span data-stu-id="f7927-233">Enables or disables the prompt that is displayed whenever Caspol.exe is run using an option that would cause policy changes.</span></span>|  
|<span data-ttu-id="f7927-234">**-quiet**</span><span class="sxs-lookup"><span data-stu-id="f7927-234">**-quiet**</span></span><br /><br /> <span data-ttu-id="f7927-235">ou</span><span class="sxs-lookup"><span data-stu-id="f7927-235">or</span></span><br /><br /> <span data-ttu-id="f7927-236">**-q**</span><span class="sxs-lookup"><span data-stu-id="f7927-236">**-q**</span></span>|<span data-ttu-id="f7927-237">Désactive temporairement l'invite normalement affichée pour une option entraînant des changements de stratégie.</span><span class="sxs-lookup"><span data-stu-id="f7927-237">Temporarily disables the prompt that is normally displayed for an option that causes policy changes.</span></span> <span data-ttu-id="f7927-238">Le paramètre de l'invite de modification globale ne change pas.</span><span class="sxs-lookup"><span data-stu-id="f7927-238">The global change prompt setting does not change.</span></span> <span data-ttu-id="f7927-239">Utilisez l'option pour une seule commande à la fois afin d'éviter de désactiver l'invite pour toutes les commandes Caspol.exe.</span><span class="sxs-lookup"><span data-stu-id="f7927-239">Use the option only on a single command basis to avoid disabling the prompt for all Caspol.exe commands.</span></span>|  
|<span data-ttu-id="f7927-240">**-r**[**ecover**]</span><span class="sxs-lookup"><span data-stu-id="f7927-240">**-r**[**ecover**]</span></span>|<span data-ttu-id="f7927-241">Restaure une stratégie à partir d'un fichier de sauvegarde.</span><span class="sxs-lookup"><span data-stu-id="f7927-241">Recovers policy from a backup file.</span></span> <span data-ttu-id="f7927-242">Dès qu'une stratégie est modifiée, Caspol.exe stocke l'ancienne stratégie dans un fichier de sauvegarde.</span><span class="sxs-lookup"><span data-stu-id="f7927-242">Whenever a policy change is made, Caspol.exe stores the old policy in a backup file.</span></span>|  
|<span data-ttu-id="f7927-243">**-remfulltrust** *assembly_file*</span><span class="sxs-lookup"><span data-stu-id="f7927-243">**-remfulltrust** *assembly_file*</span></span><br /><br /> <span data-ttu-id="f7927-244">ou</span><span class="sxs-lookup"><span data-stu-id="f7927-244">or</span></span><br /><br /> <span data-ttu-id="f7927-245">**-rf**  *assembly_file*</span><span class="sxs-lookup"><span data-stu-id="f7927-245">**-rf**  *assembly_file*</span></span>|<span data-ttu-id="f7927-246">Supprime un assembly de la liste des assemblys de confiance totale associée à un niveau de stratégie donné.</span><span class="sxs-lookup"><span data-stu-id="f7927-246">Removes an assembly from the full trust list of a policy level.</span></span> <span data-ttu-id="f7927-247">Cette opération s'impose lorsqu'un jeu d'autorisations contenant une autorisation personnalisée n'est plus utilisé par la stratégie.</span><span class="sxs-lookup"><span data-stu-id="f7927-247">This operation should be performed if a permission set that contains a custom permission is no longer used by policy.</span></span> <span data-ttu-id="f7927-248">Toutefois, vous ne devez supprimer un assembly qui implémente une autorisation personnalisée de la liste des assemblys de confiance totale que si cet assembly n'implémente aucune autre autorisation personnalisée en cours d'utilisation.</span><span class="sxs-lookup"><span data-stu-id="f7927-248">However, you should remove an assembly that implements a custom permission from the full trust list only if the assembly does not implement any other custom permissions that are still being used.</span></span> <span data-ttu-id="f7927-249">Lorsque vous supprimez un assembly de la liste, vous devez également supprimer les assemblys dont il dépend.</span><span class="sxs-lookup"><span data-stu-id="f7927-249">When you remove an assembly from the list, you should also remove any other assemblies that it depends on.</span></span>|  
|<span data-ttu-id="f7927-250">**-remgroup** {*label &#124;name*}</span><span class="sxs-lookup"><span data-stu-id="f7927-250">**-remgroup** {*label &#124;name*}</span></span><br /><br /> <span data-ttu-id="f7927-251">ou</span><span class="sxs-lookup"><span data-stu-id="f7927-251">or</span></span><br /><br /> <span data-ttu-id="f7927-252">**-rg** {l*abel &#124; name*}</span><span class="sxs-lookup"><span data-stu-id="f7927-252">**-rg** {l*abel &#124; name*}</span></span>|<span data-ttu-id="f7927-253">Supprime le groupe de codes spécifié par son étiquette ou son nom.</span><span class="sxs-lookup"><span data-stu-id="f7927-253">Removes the code group specified by either its label or name.</span></span> <span data-ttu-id="f7927-254">Si le groupe de codes spécifié comprend des groupes de codes enfants, Caspol.exe supprime également ces groupes enfants.</span><span class="sxs-lookup"><span data-stu-id="f7927-254">If the specified code group has child code groups, Caspol.exe also removes all the child code groups.</span></span>|  
|<span data-ttu-id="f7927-255">**-rempset** *pset_name*</span><span class="sxs-lookup"><span data-stu-id="f7927-255">**-rempset** *pset_name*</span></span><br /><br /> <span data-ttu-id="f7927-256">ou</span><span class="sxs-lookup"><span data-stu-id="f7927-256">or</span></span><br /><br /> <span data-ttu-id="f7927-257">**-rp** *pset_name*</span><span class="sxs-lookup"><span data-stu-id="f7927-257">**-rp** *pset_name*</span></span>|<span data-ttu-id="f7927-258">Supprime de la stratégie le jeu d'autorisations spécifié.</span><span class="sxs-lookup"><span data-stu-id="f7927-258">Removes the specified permission set from policy.</span></span> <span data-ttu-id="f7927-259">L'argument *pset_name* indique le jeu d'autorisations à supprimer.</span><span class="sxs-lookup"><span data-stu-id="f7927-259">The *pset_name* argument indicates which permission set to remove.</span></span> <span data-ttu-id="f7927-260">Caspol.exe ne supprime le jeu d'autorisations que s'il n'est pas associé à un groupe de codes.</span><span class="sxs-lookup"><span data-stu-id="f7927-260">Caspol.exe removes the permission set only if it is not associated with any code group.</span></span> <span data-ttu-id="f7927-261">Il n'est pas possible de supprimer les jeux d'autorisations par défaut (intégrés).</span><span class="sxs-lookup"><span data-stu-id="f7927-261">The default (built-in) permission sets cannot be removed.</span></span>|  
|<span data-ttu-id="f7927-262">**-reset**</span><span class="sxs-lookup"><span data-stu-id="f7927-262">**-reset**</span></span><br /><br /> <span data-ttu-id="f7927-263">ou</span><span class="sxs-lookup"><span data-stu-id="f7927-263">or</span></span><br /><br /> <span data-ttu-id="f7927-264">**-rs**</span><span class="sxs-lookup"><span data-stu-id="f7927-264">**-rs**</span></span>|<span data-ttu-id="f7927-265">Retourne l'état par défaut de la stratégie et l'enregistre sur le disque.</span><span class="sxs-lookup"><span data-stu-id="f7927-265">Returns policy to its default state and persists it to disk.</span></span> <span data-ttu-id="f7927-266">Cette option est utile lorsqu'une stratégie modifiée semble irréparable et que vous souhaitez recommencer avec les paramètres d'installation par défaut.</span><span class="sxs-lookup"><span data-stu-id="f7927-266">This is useful whenever a changed policy seems to be beyond repair and you want to start over with the installation defaults.</span></span> <span data-ttu-id="f7927-267">Il peut également être commode de procéder à une réinitialisation pour utiliser la stratégie par défaut comme point de départ et apporter ensuite des modifications à des fichiers de configuration de sécurité spécifiques.</span><span class="sxs-lookup"><span data-stu-id="f7927-267">Resetting can also be convenient when you want to use the default policy as a starting point for modifications to specific security configuration files.</span></span> <span data-ttu-id="f7927-268">Pour plus d'informations, consultez [Modification manuelle des fichiers de configuration de sécurité](#cpgrfcodeaccesssecuritypolicyutilitycaspolexeanchor1).</span><span class="sxs-lookup"><span data-stu-id="f7927-268">For more information, see [Manually Editing the Security Configuration Files](#cpgrfcodeaccesssecuritypolicyutilitycaspolexeanchor1).</span></span>|  
|<span data-ttu-id="f7927-269">**-resetlockdown**</span><span class="sxs-lookup"><span data-stu-id="f7927-269">**-resetlockdown**</span></span><br /><br /> <span data-ttu-id="f7927-270">ou</span><span class="sxs-lookup"><span data-stu-id="f7927-270">or</span></span><br /><br /> <span data-ttu-id="f7927-271">**-rsld**</span><span class="sxs-lookup"><span data-stu-id="f7927-271">**-rsld**</span></span>|<span data-ttu-id="f7927-272">Retourne la version plus restrictive de l'état par défaut de la stratégie et l'enregistre sur le disque ; crée une sauvegarde de la stratégie antérieure de l'ordinateur et l'enregistre sur un fichier `security.config.bac`.</span><span class="sxs-lookup"><span data-stu-id="f7927-272">Returns policy to a more restrictive version of the default state and persists it to disk; creates a backup of the previous machine policy and persists it to a file called `security.config.bac`.</span></span>  <span data-ttu-id="f7927-273">La stratégie verrouillée est similaire à la stratégie par défaut, mais elle n'accorde aucune autorisation pour coder à partir des zones `Local Intranet`, `Trusted Sites` et `Internet` et les groupes de codes correspondants n'ont pas de groupes de codes enfants.</span><span class="sxs-lookup"><span data-stu-id="f7927-273">The locked down policy is similar to the default policy, except that the policy grants no permission to code from the `Local Intranet`, `Trusted Sites`, and `Internet` zones and the corresponding code groups have no child code groups.</span></span>|  
|<span data-ttu-id="f7927-274">**-resolvegroup** *assembly_file*</span><span class="sxs-lookup"><span data-stu-id="f7927-274">**-resolvegroup** *assembly_file*</span></span><br /><br /> <span data-ttu-id="f7927-275">ou</span><span class="sxs-lookup"><span data-stu-id="f7927-275">or</span></span><br /><br /> <span data-ttu-id="f7927-276">**-rsg**  *assembly_file*</span><span class="sxs-lookup"><span data-stu-id="f7927-276">**-rsg**  *assembly_file*</span></span>|<span data-ttu-id="f7927-277">Affiche les groupes de codes auxquels appartient un assembly particulier (*assembly_file*).</span><span class="sxs-lookup"><span data-stu-id="f7927-277">Shows the code groups that a specific assembly (*assembly_file*) belongs to.</span></span> <span data-ttu-id="f7927-278">Par défaut, cette option affiche la stratégie de niveau ordinateur, utilisateur et entreprise auxquels appartient l'assembly.</span><span class="sxs-lookup"><span data-stu-id="f7927-278">By default, this option displays the machine, user, and enterprise policy levels to which the assembly belongs.</span></span> <span data-ttu-id="f7927-279">Pour afficher un seul niveau de stratégie, utilisez cette option avec l'option **-machine**, **-user** ou **-enterprise**.</span><span class="sxs-lookup"><span data-stu-id="f7927-279">To view only one policy level, use this option with either the **-machine**, **-user**, or **-enterprise** option.</span></span>|  
|<span data-ttu-id="f7927-280">**-resolveperm** *assembly_file*</span><span class="sxs-lookup"><span data-stu-id="f7927-280">**-resolveperm** *assembly_file*</span></span><br /><br /> <span data-ttu-id="f7927-281">ou</span><span class="sxs-lookup"><span data-stu-id="f7927-281">or</span></span><br /><br /> <span data-ttu-id="f7927-282">**-rsp** *assembly_file*</span><span class="sxs-lookup"><span data-stu-id="f7927-282">**-rsp** *assembly_file*</span></span>|<span data-ttu-id="f7927-283">Affiche toutes les autorisations que le niveau de stratégie de sécurité spécifié (ou par défaut) accorderait à l'assembly si ce dernier avait la possibilité de s'exécuter.</span><span class="sxs-lookup"><span data-stu-id="f7927-283">Displays all permissions that the specified (or default) level of security policy would grant the assembly if the assembly were allowed to run.</span></span> <span data-ttu-id="f7927-284">L’argument *assembly_file* spécifie l’assembly.</span><span class="sxs-lookup"><span data-stu-id="f7927-284">The *assembly_file* argument specifies the assembly.</span></span> <span data-ttu-id="f7927-285">Si vous spécifiez l'option **-all**, Caspol.exe calcule les autorisations de l'assembly sur la base de la stratégie de l'utilisateur, de l'ordinateur et de l'entreprise ; sinon, les règles de comportement par défaut s'appliquent.</span><span class="sxs-lookup"><span data-stu-id="f7927-285">If you specify the **-all** option, Caspol.exe calculates the permissions for the assembly based on user, machine, and enterprise policy; otherwise, default behavior rules apply.</span></span>|  
|<span data-ttu-id="f7927-286">**-s**[**ecurity**] {**on** &#124; **off**}</span><span class="sxs-lookup"><span data-stu-id="f7927-286">**-s**[**ecurity**] {**on** &#124; **off**}</span></span>|<span data-ttu-id="f7927-287">Active ou désactive la sécurité d'accès du code.</span><span class="sxs-lookup"><span data-stu-id="f7927-287">Turns code access security on or off.</span></span> <span data-ttu-id="f7927-288">L'option **-s off** ne désactive pas la sécurité basée sur les rôles.</span><span class="sxs-lookup"><span data-stu-id="f7927-288">Specifying the **-s off** option does not disable role-based security.</span></span> <span data-ttu-id="f7927-289">**Remarque :**  Ce commutateur est supprimé dans .NET Framework 4 et versions ultérieures.</span><span class="sxs-lookup"><span data-stu-id="f7927-289">**Note:**  This switch is removed in the .NET Framework 4 and later versions.</span></span> <span data-ttu-id="f7927-290">Pour plus d’informations, consultez [Changements en matière de sécurité](../../../docs/framework/security/security-changes.md).</span><span class="sxs-lookup"><span data-stu-id="f7927-290">For more information, see [Security Changes](../../../docs/framework/security/security-changes.md).</span></span> <span data-ttu-id="f7927-291">**Attention :**  lorsque la sécurité d’accès du code est désactivée, toutes les demandes d’accès au code aboutissent.</span><span class="sxs-lookup"><span data-stu-id="f7927-291">**Caution:**  When code access security is disabled, all code access demands succeed.</span></span> <span data-ttu-id="f7927-292">La désactivation de la sécurité expose le système aux attaques de code nuisible tel que les virus et les vers.</span><span class="sxs-lookup"><span data-stu-id="f7927-292">Disabling code access security makes the system vulnerable to attacks by malicious code such as viruses and worms.</span></span> <span data-ttu-id="f7927-293">La désactivation de la sécurité permet d'améliorer les performances, mais ne doit être utilisée que lorsque d'autres mesures de sécurité ont été prises pour permettre de s'assurer que la sécurité globale du système ne sera pas compromise.</span><span class="sxs-lookup"><span data-stu-id="f7927-293">Turning off security gains some extra performance but should only be done when other security measures have been taken to help make sure overall system security is not breached.</span></span> <span data-ttu-id="f7927-294">Ces autres mesures de sécurité consistent notamment à déconnecter les réseaux publics, à sécuriser physiquement les ordinateurs, etc.</span><span class="sxs-lookup"><span data-stu-id="f7927-294">Examples of other security precautions include disconnecting from public networks, physically securing computers, and so on.</span></span>|  
|<span data-ttu-id="f7927-295">**-u**[**ser**]</span><span class="sxs-lookup"><span data-stu-id="f7927-295">**-u**[**ser**]</span></span>|<span data-ttu-id="f7927-296">Indique que toutes les options qui suivent celle-ci s'appliquent à la stratégie de niveau utilisateur associée à l'utilisateur pour le compte duquel Caspol.exe est exécuté.</span><span class="sxs-lookup"><span data-stu-id="f7927-296">Indicates that all options following this one apply to the user level policy for the user on whose behalf Caspol.exe is running.</span></span> <span data-ttu-id="f7927-297">Pour les utilisateurs qui ne sont pas des administrateurs, **-user** est l'option par défaut.</span><span class="sxs-lookup"><span data-stu-id="f7927-297">For nonadministrative users, **-user** is the default.</span></span>|  
|<span data-ttu-id="f7927-298">**-?**</span><span class="sxs-lookup"><span data-stu-id="f7927-298">**-?**</span></span>|<span data-ttu-id="f7927-299">Affiche la syntaxe de commande et les options de Caspol.exe.</span><span class="sxs-lookup"><span data-stu-id="f7927-299">Displays command syntax and options for Caspol.exe.</span></span>|  
  
 <span data-ttu-id="f7927-300">L'argument *mship* qui spécifie la condition d'appartenance d’un groupe de codes peut être utilisé avec les options **-addgroup** et **-chggroup**.</span><span class="sxs-lookup"><span data-stu-id="f7927-300">The *mship* argument, which specifies the membership condition for a code group, can be used with the **-addgroup** and **-chggroup** options.</span></span> <span data-ttu-id="f7927-301">Chaque argument *mship* est implémenté comme classe .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="f7927-301">Each *mship* argument is implemented as a .NET Framework class.</span></span> <span data-ttu-id="f7927-302">Pour spécifier *mship*, utilisez l’une des solutions suivantes.</span><span class="sxs-lookup"><span data-stu-id="f7927-302">To specify *mship,* use one of the following.</span></span>  
  
|<span data-ttu-id="f7927-303">Argument</span><span class="sxs-lookup"><span data-stu-id="f7927-303">Argument</span></span>|<span data-ttu-id="f7927-304">Description</span><span class="sxs-lookup"><span data-stu-id="f7927-304">Description</span></span>|  
|--------------|-----------------|  
|<span data-ttu-id="f7927-305">**-allcode**</span><span class="sxs-lookup"><span data-stu-id="f7927-305">**-allcode**</span></span>|<span data-ttu-id="f7927-306">Spécifie l'ensemble du code.</span><span class="sxs-lookup"><span data-stu-id="f7927-306">Specifies all code.</span></span> <span data-ttu-id="f7927-307">Pour plus d’informations sur cette condition d’appartenance, consultez <xref:System.Security.Policy.AllMembershipCondition?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="f7927-307">For more information about this membership condition, see <xref:System.Security.Policy.AllMembershipCondition?displayProperty=nameWithType>.</span></span>|  
|<span data-ttu-id="f7927-308">**-appdir**</span><span class="sxs-lookup"><span data-stu-id="f7927-308">**-appdir**</span></span>|<span data-ttu-id="f7927-309">Spécifie le répertoire de l'application.</span><span class="sxs-lookup"><span data-stu-id="f7927-309">Specifies the application directory.</span></span> <span data-ttu-id="f7927-310">Si vous spécifiez **–appdir** comme condition d'appartenance, la preuve fournie par l'URL du code est comparée à la preuve fournie par le répertoire d'application du même code.</span><span class="sxs-lookup"><span data-stu-id="f7927-310">If you specify **–appdir** as the membership condition, the URL evidence of code is compared with the application directory evidence of that code.</span></span> <span data-ttu-id="f7927-311">Si les deux preuves sont identiques, la condition d'appartenance est satisfaite.</span><span class="sxs-lookup"><span data-stu-id="f7927-311">If both evidence values are the same, this membership condition is satisfied.</span></span> <span data-ttu-id="f7927-312">Pour plus d’informations sur cette condition d’appartenance, consultez <xref:System.Security.Policy.ApplicationDirectoryMembershipCondition?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="f7927-312">For more information about this membership condition, see <xref:System.Security.Policy.ApplicationDirectoryMembershipCondition?displayProperty=nameWithType>.</span></span>|  
|<span data-ttu-id="f7927-313">**-custom**  *xmlfile*</span><span class="sxs-lookup"><span data-stu-id="f7927-313">**-custom**  *xmlfile*</span></span>|<span data-ttu-id="f7927-314">Ajoute une condition d'appartenance personnalisée.</span><span class="sxs-lookup"><span data-stu-id="f7927-314">Adds a custom membership condition.</span></span> <span data-ttu-id="f7927-315">L’argument obligatoire *xmlfile* spécifie le fichier .xml qui contient la sérialisation XML de la condition d’appartenance personnalisée.</span><span class="sxs-lookup"><span data-stu-id="f7927-315">The mandatory *xmlfile* argument specifies the .xml file that contains XML serialization of the custom membership condition.</span></span>|  
|<span data-ttu-id="f7927-316">**-hash** *hashAlg* {**-hex** *hashValue* &#124; **-file** *assembly_file* }</span><span class="sxs-lookup"><span data-stu-id="f7927-316">**-hash** *hashAlg* {**-hex** *hashValue* &#124; **-file** *assembly_file* }</span></span>|<span data-ttu-id="f7927-317">Spécifie un code qui contient la valeur de hachage de l'assembly donné.</span><span class="sxs-lookup"><span data-stu-id="f7927-317">Specifies code that has the given assembly hash.</span></span> <span data-ttu-id="f7927-318">Pour utiliser une valeur de hachage comme condition d'appartenance à un groupe de codes, vous devez spécifier la valeur de hachage ou le fichier d'assembly.</span><span class="sxs-lookup"><span data-stu-id="f7927-318">To use a hash as a code group membership condition, you must specify either the hash value or the assembly file.</span></span> <span data-ttu-id="f7927-319">Pour plus d’informations sur cette condition d’appartenance, consultez <xref:System.Security.Policy.HashMembershipCondition?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="f7927-319">For more information about this membership condition, see <xref:System.Security.Policy.HashMembershipCondition?displayProperty=nameWithType>.</span></span>|  
|<span data-ttu-id="f7927-320">**-pub** { **-cert** *cert_file_name* &#124;</span><span class="sxs-lookup"><span data-stu-id="f7927-320">**-pub** { **-cert** *cert_file_name* &#124;</span></span><br /><br /> <span data-ttu-id="f7927-321">**-file** *signed_file_name* &#124; **-hex**  *hex_string* }</span><span class="sxs-lookup"><span data-stu-id="f7927-321">**-file** *signed_file_name* &#124; **-hex**  *hex_string* }</span></span>|<span data-ttu-id="f7927-322">Spécifie un code qui présente l'éditeur de logiciel indiqué par un fichier de certificat, une signature sur un fichier ou la représentation hexadécimale d'un certificat X509.</span><span class="sxs-lookup"><span data-stu-id="f7927-322">Specifies code that has the given software publisher, as denoted by a certificate file, a signature on a file, or the hexadecimal representation of an X509 certificate.</span></span> <span data-ttu-id="f7927-323">Pour plus d’informations sur cette condition d’appartenance, consultez <xref:System.Security.Policy.PublisherMembershipCondition?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="f7927-323">For more information about this membership condition, see <xref:System.Security.Policy.PublisherMembershipCondition?displayProperty=nameWithType>.</span></span>|  
|<span data-ttu-id="f7927-324">**-site** *website*</span><span class="sxs-lookup"><span data-stu-id="f7927-324">**-site** *website*</span></span>|<span data-ttu-id="f7927-325">Spécifie un code qui présente le site d'origine donné.</span><span class="sxs-lookup"><span data-stu-id="f7927-325">Specifies code that has the given site of origin.</span></span> <span data-ttu-id="f7927-326">Par exemple :</span><span class="sxs-lookup"><span data-stu-id="f7927-326">For example:</span></span><br /><br /> `-site** www.proseware.com`<br /><br /> <span data-ttu-id="f7927-327">Pour plus d’informations sur cette condition d’appartenance, consultez <xref:System.Security.Policy.SiteMembershipCondition?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="f7927-327">For more information about this membership condition, see <xref:System.Security.Policy.SiteMembershipCondition?displayProperty=nameWithType>.</span></span>|  
|<span data-ttu-id="f7927-328">**-strong -file** *file_name* {*name* &#124; **-noname**} {*version* &#124; **-noversion**}</span><span class="sxs-lookup"><span data-stu-id="f7927-328">**-strong -file** *file_name* {*name* &#124; **-noname**} {*version* &#124; **-noversion**}</span></span>|<span data-ttu-id="f7927-329">Spécifie un code avec un nom fort spécifique désigné par son nom de fichier, le nom de l'assembly (chaîne) et la version de l'assembly au format *major*.*minor*.*build*.*revision*.</span><span class="sxs-lookup"><span data-stu-id="f7927-329">Specifies code that has a specific strong name, as designated by the file name, the assembly name as a string, and the assembly version in the format *major*.*minor*.*build*.*revision*.</span></span> <span data-ttu-id="f7927-330">Par exemple :</span><span class="sxs-lookup"><span data-stu-id="f7927-330">For example:</span></span><br /><br /> <span data-ttu-id="f7927-331">**-strong -file** myAssembly.exe myAssembly 1.2.3.4</span><span class="sxs-lookup"><span data-stu-id="f7927-331">**-strong -file** myAssembly.exe myAssembly 1.2.3.4</span></span><br /><br /> <span data-ttu-id="f7927-332">Pour plus d’informations sur cette condition d’appartenance, consultez <xref:System.Security.Policy.StrongNameMembershipCondition?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="f7927-332">For more information about this membership condition, see <xref:System.Security.Policy.StrongNameMembershipCondition?displayProperty=nameWithType>.</span></span>|  
|<span data-ttu-id="f7927-333">**-url** *URL*</span><span class="sxs-lookup"><span data-stu-id="f7927-333">**-url** *URL*</span></span>|<span data-ttu-id="f7927-334">Spécifie un code qui provient de l'URL donnée.</span><span class="sxs-lookup"><span data-stu-id="f7927-334">Specifies code that originates from the given URL.</span></span> <span data-ttu-id="f7927-335">L'URL doit contenir un protocole, tel que `http://` ou `ftp://`.</span><span class="sxs-lookup"><span data-stu-id="f7927-335">The URL must include a protocol, such as `http://` or `ftp://`.</span></span> <span data-ttu-id="f7927-336">Par ailleurs, un caractère générique (\*) peut être utilisé pour spécifier plusieurs assemblys pour une même URL.</span><span class="sxs-lookup"><span data-stu-id="f7927-336">Additionally, a wildcard character (\*) can be used to specify multiple assemblies from a particular URL.</span></span> <span data-ttu-id="f7927-337">**Remarque :**  dans la mesure où une URL est identifiable sous plusieurs noms, le fait d’utiliser une URL comme condition d’appartenance n’est pas un moyen sûr d’établir l’identité du code.</span><span class="sxs-lookup"><span data-stu-id="f7927-337">**Note:**  Because a URL can be identified using multiple names, using a URL as a membership condition is not a safe way to ascertain the identity of code.</span></span> <span data-ttu-id="f7927-338">Lorsque cela est possible, utilisez une condition d'appartenance à nom fort, une condition d'appartenance d'un éditeur ou la condition d'appartenance de hachage.</span><span class="sxs-lookup"><span data-stu-id="f7927-338">Where possible, use a strong name membership condition, a publisher membership condition, or the hash membership condition.</span></span> <br /><br /> <span data-ttu-id="f7927-339">Pour plus d’informations sur cette condition d’appartenance, consultez <xref:System.Security.Policy.UrlMembershipCondition?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="f7927-339">For more information about this membership condition, see <xref:System.Security.Policy.UrlMembershipCondition?displayProperty=nameWithType>.</span></span>|  
|<span data-ttu-id="f7927-340">**-zone** *zonename*</span><span class="sxs-lookup"><span data-stu-id="f7927-340">**-zone** *zonename*</span></span>|<span data-ttu-id="f7927-341">Spécifie un code qui présente la zone d'origine donnée.</span><span class="sxs-lookup"><span data-stu-id="f7927-341">Specifies code with the given zone of origin.</span></span> <span data-ttu-id="f7927-342">L’argument *zonename* peut avoir l’une des valeurs suivantes : **MyComputer**, **Intranet**, **Trusted**, **Internet** ou **Untrusted**.</span><span class="sxs-lookup"><span data-stu-id="f7927-342">The *zonename* argument can be one of the following values: **MyComputer**, **Intranet**, **Trusted**, **Internet**, or **Untrusted**.</span></span> <span data-ttu-id="f7927-343">Pour plus d'informations sur cette condition d'appartenance, reportez-vous à la classe <xref:System.Security.Policy.ZoneMembershipCondition>.</span><span class="sxs-lookup"><span data-stu-id="f7927-343">For more information about this membership condition, see the <xref:System.Security.Policy.ZoneMembershipCondition> Class.</span></span>|  
  
 <span data-ttu-id="f7927-344">L’argument *flags* qui peut être utilisé avec les options **–addgroup** et **–chggroup** est spécifié de la façon suivante.</span><span class="sxs-lookup"><span data-stu-id="f7927-344">The *flags* argument, which can be used with the **–addgroup** and **–chggroup** options, is specified using one of the following.</span></span>  
  
|<span data-ttu-id="f7927-345">Argument</span><span class="sxs-lookup"><span data-stu-id="f7927-345">Argument</span></span>|<span data-ttu-id="f7927-346">Description</span><span class="sxs-lookup"><span data-stu-id="f7927-346">Description</span></span>|  
|--------------|-----------------|  
|<span data-ttu-id="f7927-347">**-description** "*description*"</span><span class="sxs-lookup"><span data-stu-id="f7927-347">**-description** "*description*"</span></span>|<span data-ttu-id="f7927-348">S’il est utilisé avec l'option **–addgroup**, spécifie la description d'un groupe de codes à ajouter.</span><span class="sxs-lookup"><span data-stu-id="f7927-348">If used with the **–addgroup** option, specifies the description for a code group to add.</span></span> <span data-ttu-id="f7927-349">S’il est utilisé avec l'option **–chggroup**, spécifie la description d'un groupe de codes à modifier.</span><span class="sxs-lookup"><span data-stu-id="f7927-349">If used with the **–chggroup** option, specifies the description for a code group to edit.</span></span> <span data-ttu-id="f7927-350">L’argument *description* doit être entouré de guillemets doubles.</span><span class="sxs-lookup"><span data-stu-id="f7927-350">The *description* argument must be enclosed in double quotes.</span></span>|  
|<span data-ttu-id="f7927-351">**-exclusive** {**on**&#124;**off**}</span><span class="sxs-lookup"><span data-stu-id="f7927-351">**-exclusive** {**on**&#124;**off**}</span></span>|<span data-ttu-id="f7927-352">Quand cette option est définie sur **on**, indique que seul le jeu d'autorisations associé au groupe de codes que vous ajoutez ou modifiez est pris en compte quand un code satisfait la condition d'appartenance du groupe de codes.</span><span class="sxs-lookup"><span data-stu-id="f7927-352">When set to **on**, indicates that only the permission set associated with the code group you are adding or modifying is considered when some code fits the membership condition of the code group.</span></span> <span data-ttu-id="f7927-353">Quand cette option est définie sur **off**, Caspol.exe tient compte des jeux d'autorisations de tous les groupes de codes correspondants du niveau de stratégie.</span><span class="sxs-lookup"><span data-stu-id="f7927-353">When this option is set to **off**, Caspol.exe considers the permission sets of all matching code groups in the policy level.</span></span>|  
|<span data-ttu-id="f7927-354">**-levelfinal** {**on**&#124;**off**}</span><span class="sxs-lookup"><span data-stu-id="f7927-354">**-levelfinal** {**on**&#124;**off**}</span></span>|<span data-ttu-id="f7927-355">Quand cette option est définie sur **on**, cela indique qu’aucun des niveaux de stratégie inférieurs au niveau du groupe de codes ajouté ou modifié n'est pris en compte.</span><span class="sxs-lookup"><span data-stu-id="f7927-355">When set to **on**, indicates that no policy level below the level in which the added or modified code group occurs is considered.</span></span> <span data-ttu-id="f7927-356">Cette option est généralement utilisée au niveau de la stratégie de l'ordinateur.</span><span class="sxs-lookup"><span data-stu-id="f7927-356">This option is typically used at the machine policy level.</span></span> <span data-ttu-id="f7927-357">Par exemple, si vous définissez cet indicateur pour un groupe de codes au niveau de l'ordinateur et qu'il existe un code satisfaisant à la condition d'appartenance de ce groupe de codes, Caspol.exe ne calcule pas (ni n'applique) la stratégie de niveau utilisateur pour ce code.</span><span class="sxs-lookup"><span data-stu-id="f7927-357">For example, if you set this flag for a code group at the machine level and some code matches this code group's membership condition, Caspol.exe does not calculate or apply the user level policy for this code.</span></span>|  
|<span data-ttu-id="f7927-358">**-name** "*nom*"</span><span class="sxs-lookup"><span data-stu-id="f7927-358">**-name** "*name*"</span></span>|<span data-ttu-id="f7927-359">S’il est utilisé avec l'option **–addgroup**, spécifie le nom de script d'un groupe de codes à ajouter.</span><span class="sxs-lookup"><span data-stu-id="f7927-359">If used with the **–addgroup** option, specifies the scripting name for a code group to add.</span></span> <span data-ttu-id="f7927-360">S’il est utilisé avec l'option **–chggroup**, spécifie le nom de script d'un groupe de codes à modifier.</span><span class="sxs-lookup"><span data-stu-id="f7927-360">If used with the **-chggroup** option, specifies the scripting name for a code group to edit.</span></span> <span data-ttu-id="f7927-361">L’argument *name* doit être entouré de guillemets doubles.</span><span class="sxs-lookup"><span data-stu-id="f7927-361">The *name* argument must be enclosed in double quotes.</span></span> <span data-ttu-id="f7927-362">L’argument *name* ne doit pas commencer par un chiffre et ne peut contenir que les lettres de A à Z, les chiffres de 0 à 9 et le caractère de soulignement.</span><span class="sxs-lookup"><span data-stu-id="f7927-362">The *name* argument cannot begin with a number, and can only contain A-Z, 0-9, and the underscore character.</span></span> <span data-ttu-id="f7927-363">Vous pouvez faire référence aux groupes de codes par cet argument *name* au lieu d'utiliser leur étiquette numérique.</span><span class="sxs-lookup"><span data-stu-id="f7927-363">Code groups can be referred to by this *name* instead of by their numeric label.</span></span> <span data-ttu-id="f7927-364">L'argument *name* est également très utile dans les scripts.</span><span class="sxs-lookup"><span data-stu-id="f7927-364">The *name* is also highly useful for scripting purposes.</span></span>|  
  
## <a name="remarks"></a><span data-ttu-id="f7927-365">Remarques</span><span class="sxs-lookup"><span data-stu-id="f7927-365">Remarks</span></span>  
 <span data-ttu-id="f7927-366">La stratégie de sécurité se définit sur trois niveaux : ordinateur, utilisateur et entreprise.</span><span class="sxs-lookup"><span data-stu-id="f7927-366">Security policy is expressed using three policy levels: machine policy, user policy, and enterprise policy.</span></span> <span data-ttu-id="f7927-367">Le jeu d'autorisations dont bénéficie un assembly est déterminé par l'intersection entre les jeux d'autorisations accordés par ces trois niveaux de stratégie.</span><span class="sxs-lookup"><span data-stu-id="f7927-367">The set of permissions that an assembly receives is determined by the intersection of the permission sets allowed by these three policy levels.</span></span> <span data-ttu-id="f7927-368">Chaque niveau de stratégie est représenté par une structure hiérarchique de groupes de codes.</span><span class="sxs-lookup"><span data-stu-id="f7927-368">Each policy level is represented by a hierarchical structure of code groups.</span></span> <span data-ttu-id="f7927-369">Chaque groupe de codes possède une condition d'appartenance qui détermine quel code est membre de ce groupe.</span><span class="sxs-lookup"><span data-stu-id="f7927-369">Every code group has a membership condition that determines which code is a member of that group.</span></span> <span data-ttu-id="f7927-370">Un jeu d'autorisations nommé est également associé à chaque groupe de codes.</span><span class="sxs-lookup"><span data-stu-id="f7927-370">A named permission set is also associated with each code group.</span></span> <span data-ttu-id="f7927-371">Ce jeu d'autorisations spécifie les autorisations que peut accorder le runtime au code qui satisfait à la condition d'appartenance.</span><span class="sxs-lookup"><span data-stu-id="f7927-371">This permission set specifies the permissions the runtime allows code that satisfies the membership condition to have.</span></span> <span data-ttu-id="f7927-372">Une hiérarchie de groupes de codes et les jeux d'autorisations nommés associés définissent et gèrent chaque niveau de la stratégie de sécurité.</span><span class="sxs-lookup"><span data-stu-id="f7927-372">A code group hierarchy, along with its associated named permission sets, defines and maintains each level of security policy.</span></span> <span data-ttu-id="f7927-373">Vous pouvez utiliser les options **–user**, **-customuser**, **–machine** et **-enterprise** pour définir le niveau de stratégie de sécurité.</span><span class="sxs-lookup"><span data-stu-id="f7927-373">You can use the **–user**, **-customuser**, **–machine** and **-enterprise** options to set the level of security policy.</span></span>  
  
 <span data-ttu-id="f7927-374">Pour plus d'informations sur les stratégies de sécurité et sur la manière dont le runtime détermine les autorisations à accorder au code, consultez [Gestion de la stratégie de sécurité](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/c1k0eed6(v=vs.100)).</span><span class="sxs-lookup"><span data-stu-id="f7927-374">For more information about security policy and how the runtime determines which permissions to grant to code, see [Security Policy Management](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/c1k0eed6(v=vs.100)).</span></span>  
  
## <a name="referencing-code-groups-and-permission-sets"></a><span data-ttu-id="f7927-375">Références aux groupes de codes et aux jeux d'autorisations</span><span class="sxs-lookup"><span data-stu-id="f7927-375">Referencing Code Groups and Permission Sets</span></span>  
 <span data-ttu-id="f7927-376">Pour faciliter les références aux groupes de codes d'une hiérarchie, l'option **-list** affiche une liste des groupes de codes avec des retraits et les étiquettes numériques correspondantes (1, 1.1, 1.1.1, etc.).</span><span class="sxs-lookup"><span data-stu-id="f7927-376">To facilitate references to code groups in a hierarchy, the **-list** option displays an indented list of code groups along with their numerical labels (1, 1.1, 1.1.1, and so on).</span></span> <span data-ttu-id="f7927-377">Les autres opérations effectuées depuis la ligne de commande qui ciblent les groupes de codes utilisent également les étiquettes numériques pour faire référence à des groupes de codes particuliers.</span><span class="sxs-lookup"><span data-stu-id="f7927-377">The other command-line operations that target code groups also use the numerical labels to refer to specific code groups.</span></span>  
  
 <span data-ttu-id="f7927-378">Les jeux d'autorisations nommés sont référencés par leurs noms.</span><span class="sxs-lookup"><span data-stu-id="f7927-378">Named permission sets are referenced by their names.</span></span> <span data-ttu-id="f7927-379">L'option **–list** affiche la liste des groupes de codes suivie d'une liste des jeux d'autorisations nommés disponibles dans cette stratégie.</span><span class="sxs-lookup"><span data-stu-id="f7927-379">The **–list** option displays the list of code groups followed by a list of named permission sets available in that policy.</span></span>  
  
## <a name="caspolexe-behavior"></a><span data-ttu-id="f7927-380">Comportement de Caspol.exe</span><span class="sxs-lookup"><span data-stu-id="f7927-380">Caspol.exe Behavior</span></span>  
 <span data-ttu-id="f7927-381">Toutes les options sauf **-s**[**ecurity**] {**on** &#124; **off**} utilisent la version du .NET Framework avec laquelle Caspol.exe a été installé.</span><span class="sxs-lookup"><span data-stu-id="f7927-381">All options except **-s**[**ecurity**] {**on** &#124; **off**} use the version of the .NET Framework that Caspol.exe was installed with.</span></span> <span data-ttu-id="f7927-382">Si vous exécutez Caspol.exe installé avec la version *X* du runtime, les modifications s'appliquent uniquement à cette version.</span><span class="sxs-lookup"><span data-stu-id="f7927-382">If you run the Caspol.exe that was installed with version *X* of the runtime, the changes apply only to that version.</span></span> <span data-ttu-id="f7927-383">Les autres installations côte-à-côte du runtime, si elles existent, ne sont pas affectées.</span><span class="sxs-lookup"><span data-stu-id="f7927-383">Other side-by-side installations of the runtime, if any, are not affected.</span></span> <span data-ttu-id="f7927-384">Si vous exécutez Caspol.exe à partir de la ligne de commande sans être dans un répertoire d’une version spécifique du runtime, l’outil est exécuté à partir du premier répertoire de version du runtime du chemin (généralement la version la plus récente du runtime installée).</span><span class="sxs-lookup"><span data-stu-id="f7927-384">If you run Caspol.exe from the command line without being in a directory for a specific runtime version, the tool is executed from the first runtime version directory in the path (usually the most recent runtime version installed).</span></span>  
  
 <span data-ttu-id="f7927-385">L’option **-s**[**ecurity**] {**on** &#124; **off**} est une opération à l'échelle de l'ordinateur.</span><span class="sxs-lookup"><span data-stu-id="f7927-385">The **-s**[**ecurity**] {**on** &#124; **off**} option is a computer-wide operation.</span></span> <span data-ttu-id="f7927-386">La désactivation de la sécurité d'accès du code met fin aux contrôles de sécurité pour tout le code managé et tous les utilisateurs sur l'ordinateur.</span><span class="sxs-lookup"><span data-stu-id="f7927-386">Turning off code access security terminates security checks for all managed code and for all users on the computer.</span></span> <span data-ttu-id="f7927-387">Si des versions côte-à-côte de .NET Framework sont installées, cette commande désactive la sécurité pour chaque version installée sur l'ordinateur.</span><span class="sxs-lookup"><span data-stu-id="f7927-387">If side-by-side versions of the .NET Framework are installed, this command turns off security for every version installed on the computer.</span></span> <span data-ttu-id="f7927-388">Bien que l'option **-list** indique que la sécurité est désactivée, rien d'autre ne l'indique clairement aux autres utilisateurs.</span><span class="sxs-lookup"><span data-stu-id="f7927-388">Although the **-list** option shows that security is turned off, nothing else clearly indicates for other users that security has been turned off.</span></span>  
  
 <span data-ttu-id="f7927-389">Quand un utilisateur sans droit d'administration exécute Caspol.exe, toutes les options concernent la stratégie de niveau utilisateur, sauf si l'option **–machine** est spécifiée.</span><span class="sxs-lookup"><span data-stu-id="f7927-389">When a user without administrative rights runs Caspol.exe, all options refer to the user level policy unless the **–machine** option is specified.</span></span> <span data-ttu-id="f7927-390">Quand un administrateur exécute Caspol.exe, toutes les options concernent la stratégie de niveau ordinateur, sauf si l'option **–user** est spécifiée.</span><span class="sxs-lookup"><span data-stu-id="f7927-390">When an administrator runs Caspol.exe, all options refer to the machine policy unless the **–user** option is specified.</span></span>  
  
 <span data-ttu-id="f7927-391">Pour fonctionner, Caspol.exe doit bénéficier d'une autorisation équivalente à **Everything**.</span><span class="sxs-lookup"><span data-stu-id="f7927-391">Caspol.exe must be granted the equivalent of the **Everything** permission set to function.</span></span> <span data-ttu-id="f7927-392">Cet outil est muni d'un mécanisme de protection qui interdit toute modification de stratégie susceptible d'empêcher l'octroi des autorisations indispensables à l'exécution de Caspol.exe.</span><span class="sxs-lookup"><span data-stu-id="f7927-392">The tool has a protective mechanism that prevents policy from being modified in ways that would prevent Caspol.exe from being granted the permissions it needs to run.</span></span> <span data-ttu-id="f7927-393">Si vous essayez d'effectuer de telles modifications, Caspol.exe vous envoie une notification indiquant que la modification de stratégie demandée détruit l'objet et qu'elle est par conséquent refusée.</span><span class="sxs-lookup"><span data-stu-id="f7927-393">If you try to make such changes, Caspol.exe notifies you that the requested policy change will break the tool, and the policy change is rejected.</span></span> <span data-ttu-id="f7927-394">Vous pouvez désactiver ce mécanisme de protection pour une commande donnée à l'aide de l'option **–force**.</span><span class="sxs-lookup"><span data-stu-id="f7927-394">You can turn this protective mechanism off for a given command by using the **–force** option.</span></span>  
  
<a name="cpgrfcodeaccesssecuritypolicyutilitycaspolexeanchor1"></a>   
## <a name="manually-editing-the-security-configuration-files"></a><span data-ttu-id="f7927-395">Modification manuelle des fichiers de configuration de sécurité</span><span class="sxs-lookup"><span data-stu-id="f7927-395">Manually Editing the Security Configuration Files</span></span>  
 <span data-ttu-id="f7927-396">Il existe trois fichiers de configuration de sécurité qui correspondent aux trois niveaux de sécurité pris en charge par Caspol.exe : ordinateur, utilisateur et entreprise.</span><span class="sxs-lookup"><span data-stu-id="f7927-396">Three security configuration files correspond to the three policy levels supported by Caspol.exe: one for the machine policy, one for a given user's policy, and one for the enterprise policy.</span></span> <span data-ttu-id="f7927-397">Ces fichiers sont créés uniquement sur le disque lorsque la stratégie de l'ordinateur, de l'utilisateur ou de l'entreprise est modifiée à l'aide de Caspol.exe.</span><span class="sxs-lookup"><span data-stu-id="f7927-397">These files are created on disk only when machine, user, or enterprise policy is changed using Caspol.exe.</span></span> <span data-ttu-id="f7927-398">Vous pouvez utiliser l'option **–reset** de Caspol.exe pour enregistrer la stratégie de sécurité par défaut sur le disque, si nécessaire.</span><span class="sxs-lookup"><span data-stu-id="f7927-398">You can use the **–reset** option in Caspol.exe to save the default security policy to disk, if needed.</span></span>  
  
 <span data-ttu-id="f7927-399">Dans la plupart des cas, il n'est pas recommandé de modifier manuellement les fichiers de configuration de sécurité.</span><span class="sxs-lookup"><span data-stu-id="f7927-399">In most cases, manually editing the security configuration files is not recommended.</span></span> <span data-ttu-id="f7927-400">Il existe cependant des situations où ces modifications sont indispensables, par exemple lorsqu'un administrateur veut modifier la configuration de sécurité d'un utilisateur particulier.</span><span class="sxs-lookup"><span data-stu-id="f7927-400">But there might be scenarios in which modifying these files becomes necessary, such as when an administrator wants to edit the security configuration for a particular user.</span></span>  
  
## <a name="examples"></a><span data-ttu-id="f7927-401">Exemples</span><span class="sxs-lookup"><span data-stu-id="f7927-401">Examples</span></span>  
 <span data-ttu-id="f7927-402">**-addfulltrust**</span><span class="sxs-lookup"><span data-stu-id="f7927-402">**-addfulltrust**</span></span>  
  
 <span data-ttu-id="f7927-403">Supposez qu'un jeu d'autorisations contenant une autorisation personnalisée a été ajouté à la stratégie de l'ordinateur.</span><span class="sxs-lookup"><span data-stu-id="f7927-403">Assume that a permission set containing a custom permission has been added to machine policy.</span></span> <span data-ttu-id="f7927-404">Cette autorisation personnalisée est implémentée dans `MyPerm.exe`, et `MyPerm.exe` fait référence aux classes de `MyOther.exe`.</span><span class="sxs-lookup"><span data-stu-id="f7927-404">This custom permission is implemented in `MyPerm.exe`, and `MyPerm.exe` references classes in `MyOther.exe`.</span></span> <span data-ttu-id="f7927-405">Les deux assemblys doivent être ajoutés à la liste des assemblys de confiance totale.</span><span class="sxs-lookup"><span data-stu-id="f7927-405">Both assemblies must be added to the full trust assembly list.</span></span> <span data-ttu-id="f7927-406">La commande suivante ajoute l'assembly `MyPerm.exe` à la liste des assemblys de confiance totale pour la stratégie de l'ordinateur.</span><span class="sxs-lookup"><span data-stu-id="f7927-406">The following command adds the `MyPerm.exe` assembly to the full trust list for the machine policy.</span></span>  
  
```console  
caspol -machine -addfulltrust MyPerm.exe  
```  
  
 <span data-ttu-id="f7927-407">La commande suivante ajoute l'assembly `MyOther.exe` à la liste des assemblys de confiance totale pour la stratégie de l'ordinateur.</span><span class="sxs-lookup"><span data-stu-id="f7927-407">The following command adds the `MyOther.exe` assembly to the full trust list for the machine policy.</span></span>  
  
```console  
caspol -machine -addfulltrust MyOther.exe  
```  
  
 <span data-ttu-id="f7927-408">**-addgroup**</span><span class="sxs-lookup"><span data-stu-id="f7927-408">**-addgroup**</span></span>  
  
 <span data-ttu-id="f7927-409">La commande suivante ajoute un groupe de codes enfant à la racine de la hiérarchie des groupes de codes de la stratégie de l'ordinateur.</span><span class="sxs-lookup"><span data-stu-id="f7927-409">The following command adds a child code group to the root of the machine policy code group hierarchy.</span></span> <span data-ttu-id="f7927-410">Le nouveau groupe de codes est membre de la zone **Internet** et il est associé au jeu d'autorisations **Execution**.</span><span class="sxs-lookup"><span data-stu-id="f7927-410">The new code group is a member of the **Internet** zone and is associated with the **Execution** permission set.</span></span>  
  
```console  
caspol -machine -addgroup 1.  -zone Internet Execution  
```  
  
 <span data-ttu-id="f7927-411">La commande suivante ajoute un groupe de codes enfant qui donne des autorisations sur l’intranet local au partage \\\netserver\netshare.</span><span class="sxs-lookup"><span data-stu-id="f7927-411">The following command adds a child code group that gives the share \\\netserver\netshare local intranet permissions.</span></span>  
  
```console  
caspol -machine -addgroup 1. -url \\netserver\netshare\* LocalIntranet  
```  
  
 <span data-ttu-id="f7927-412">**-addpset**</span><span class="sxs-lookup"><span data-stu-id="f7927-412">**-addpset**</span></span>  
  
 <span data-ttu-id="f7927-413">La commande suivante ajoute le jeu d'autorisations `Mypset` à la stratégie de l'utilisateur.</span><span class="sxs-lookup"><span data-stu-id="f7927-413">The following command adds the `Mypset` permission set to the user policy.</span></span>  
  
```console  
caspol -user -addpset Mypset.xml Mypset  
```  
  
 <span data-ttu-id="f7927-414">**-chggroup**</span><span class="sxs-lookup"><span data-stu-id="f7927-414">**-chggroup**</span></span>  
  
 <span data-ttu-id="f7927-415">La commande suivante change le jeu d'autorisations défini dans la stratégie d'utilisateur du groupe de codes étiqueté 1.2.</span><span class="sxs-lookup"><span data-stu-id="f7927-415">The following command changes the permission set in the user policy of the code group labeled 1.2.</span></span> <span data-ttu-id="f7927-416">en jeu d’autorisations **Execution**.</span><span class="sxs-lookup"><span data-stu-id="f7927-416">to the **Execution** permission set.</span></span>  
  
```console  
caspol -user -chggroup 1.2. Execution  
```  
  
 <span data-ttu-id="f7927-417">La commande suivante change la condition d'appartenance dans la stratégie par défaut du groupe de codes étiqueté 1.2.1.</span><span class="sxs-lookup"><span data-stu-id="f7927-417">The following command changes the membership condition in the default policy of the code group labeled 1.2.1.</span></span> <span data-ttu-id="f7927-418">et change le paramètre de l’indicateur **exclusive**.</span><span class="sxs-lookup"><span data-stu-id="f7927-418">and changes the setting of the **exclusive** flag.</span></span> <span data-ttu-id="f7927-419">La condition d'appartenance est définie comme un code qui provient de la zone **Internet** avec l'indicateur **exclusive** activé.</span><span class="sxs-lookup"><span data-stu-id="f7927-419">The membership condition is defined to be code that originates from the **Internet** zone and the **exclusive** flag is switched on.</span></span>  
  
```console  
caspol -chggroup 1.2.1. -zone Internet -exclusive on  
```  
  
 <span data-ttu-id="f7927-420">**-chgpset**</span><span class="sxs-lookup"><span data-stu-id="f7927-420">**-chgpset**</span></span>  
  
 <span data-ttu-id="f7927-421">La commande suivante substitue au jeu d'autorisations `Mypset` le jeu d'autorisations contenu dans `newpset.xml`.</span><span class="sxs-lookup"><span data-stu-id="f7927-421">The following command changes the permission set with name `Mypset` to the permission set contained in `newpset.xml`.</span></span> <span data-ttu-id="f7927-422">Notez que la version actuelle ne prend pas en charge la modification des jeux d’autorisations utilisés par la hiérarchie des groupes de codes.</span><span class="sxs-lookup"><span data-stu-id="f7927-422">Note that the current release does not support changing permission sets that are being used by the code group hierarchy.</span></span>  
  
```console  
caspol -chgpset Mypset newpset.xml  
```  
  
 <span data-ttu-id="f7927-423">**-force**</span><span class="sxs-lookup"><span data-stu-id="f7927-423">**-force**</span></span>  
  
 <span data-ttu-id="f7927-424">La commande suivante entraîne l'association du groupe de codes racine de la stratégie d'utilisateur (étiqueté 1) au jeu d'autorisations nommé **Nothing**.</span><span class="sxs-lookup"><span data-stu-id="f7927-424">The following command causes the user policy's root code group (labeled 1) to be associated with the **Nothing** named permission set.</span></span> <span data-ttu-id="f7927-425">Cela empêche l'exécution de Caspol.exe.</span><span class="sxs-lookup"><span data-stu-id="f7927-425">This prevents Caspol.exe from running.</span></span>  
  
```console  
caspol -force -user -chggroup 1 Nothing  
```  
  
 <span data-ttu-id="f7927-426">**-recover**</span><span class="sxs-lookup"><span data-stu-id="f7927-426">**-recover**</span></span>  
  
 <span data-ttu-id="f7927-427">La commande suivante récupère la stratégie d'ordinateur enregistrée le plus récemment.</span><span class="sxs-lookup"><span data-stu-id="f7927-427">The following command recovers the most recently saved machine policy.</span></span>  
  
```console  
caspol -machine -recover  
```  
  
 <span data-ttu-id="f7927-428">**-remgroup**</span><span class="sxs-lookup"><span data-stu-id="f7927-428">**-remgroup**</span></span>  
  
 <span data-ttu-id="f7927-429">La commande suivante supprime le groupe de codes étiqueté 1.1.</span><span class="sxs-lookup"><span data-stu-id="f7927-429">The following command removes the code group labeled 1.1.</span></span> <span data-ttu-id="f7927-430">Si ce groupe de codes comprend des groupes de codes enfants, ces derniers sont également supprimés.</span><span class="sxs-lookup"><span data-stu-id="f7927-430">If this code group has any child code groups, those groups are also deleted.</span></span>  
  
```console  
caspol -remgroup 1.1.  
```  
  
 <span data-ttu-id="f7927-431">**-rempset**</span><span class="sxs-lookup"><span data-stu-id="f7927-431">**-rempset**</span></span>  
  
 <span data-ttu-id="f7927-432">La commande suivante supprime le jeu d'autorisations **Execution** de la stratégie d'utilisateur.</span><span class="sxs-lookup"><span data-stu-id="f7927-432">The following command removes the **Execution** permission set from the user policy.</span></span>  
  
```console  
caspol -user -rempset Execution  
```  
  
 <span data-ttu-id="f7927-433">La commande suivante supprime `Mypset` du niveau de stratégie de l'utilisateur.</span><span class="sxs-lookup"><span data-stu-id="f7927-433">The following command removes `Mypset` from the user policy level.</span></span>  
  
```console  
caspol -rempset MyPset  
```  
  
 <span data-ttu-id="f7927-434">**-resolvegroup**</span><span class="sxs-lookup"><span data-stu-id="f7927-434">**-resolvegroup**</span></span>  
  
 <span data-ttu-id="f7927-435">La commande suivante affiche tous les groupes de codes de la stratégie d'ordinateur à laquelle appartient `myassembly`.</span><span class="sxs-lookup"><span data-stu-id="f7927-435">The following command shows all code groups of the machine policy that `myassembly` belongs to.</span></span>  
  
```console  
caspol -machine -resolvegroup myassembly  
```  
  
 <span data-ttu-id="f7927-436">La commande suivante affiche tous les groupes de codes de la stratégie d'ordinateur, d'entreprise et d'utilisateur personnalisé à laquelle appartient `myassembly`.</span><span class="sxs-lookup"><span data-stu-id="f7927-436">The following command shows all code groups of the machine, enterprise, and specified custom user policy that `myassembly` belongs to.</span></span>  
  
```console  
caspol -customall "c:\config_test\security.config" -resolvegroup myassembly  
```  
  
 <span data-ttu-id="f7927-437">**-resolveperm**</span><span class="sxs-lookup"><span data-stu-id="f7927-437">**-resolveperm**</span></span>  
  
 <span data-ttu-id="f7927-438">La commande suivante calcule les autorisations de `testassembly` en fonction des niveaux de stratégie d'ordinateur et d'utilisateur.</span><span class="sxs-lookup"><span data-stu-id="f7927-438">The following command calculates the permissions for `testassembly` based on the machine and user policy levels.</span></span>  
  
```console  
caspol -all -resolveperm testassembly  
```  
  
## <a name="see-also"></a><span data-ttu-id="f7927-439">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="f7927-439">See also</span></span>

- [<span data-ttu-id="f7927-440">Outils</span><span class="sxs-lookup"><span data-stu-id="f7927-440">Tools</span></span>](index.md)
- [<span data-ttu-id="f7927-441">Invites de commandes</span><span class="sxs-lookup"><span data-stu-id="f7927-441">Command Prompts</span></span>](developer-command-prompt-for-vs.md)
