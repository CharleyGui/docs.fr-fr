---
title: Mage.exe (outil Manifest Generation and Editing)
ms.date: 12/06/2018
helpviewer_keywords:
- Manifest Generation and Editing tool
- Mage.exe
ms.assetid: 77dfe576-2962-407e-af13-82255df725a1
ms.openlocfilehash: aa2ad9222460f8732397f8b1c72e36085bbe4a21
ms.sourcegitcommit: 9a39f2a06f110c9c7ca54ba216900d038aa14ef3
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 11/23/2019
ms.locfileid: "74449420"
---
# <a name="mageexe-manifest-generation-and-editing-tool"></a><span data-ttu-id="c45e4-102">Mage.exe (outil Manifest Generation and Editing)</span><span class="sxs-lookup"><span data-stu-id="c45e4-102">Mage.exe (Manifest Generation and Editing Tool)</span></span>

<span data-ttu-id="c45e4-103">L’outil Manifest Generation and Editing (*Mage.exe*) est un outil en ligne de commande qui prend en charge la création et la modification de manifestes de déploiement et d’application.</span><span class="sxs-lookup"><span data-stu-id="c45e4-103">The Manifest Generation and Editing Tool (*Mage.exe*) is a command-line tool that supports the creation and editing of application and deployment manifests.</span></span> <span data-ttu-id="c45e4-104">En tant qu’outil en ligne de commande, *Mage.exe* peut être exécuté à partir de scripts de commandes par lot et d’autres applications Windows, notamment les applications ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="c45e4-104">As a command-line tool, *Mage.exe* can be run from both batch scripts and other Windows-based applications, including ASP.NET applications.</span></span>

<span data-ttu-id="c45e4-105">Vous pouvez également utiliser *MageUI.exe*, une application graphique, à la place de *Mage.exe*.</span><span class="sxs-lookup"><span data-stu-id="c45e4-105">You can also use *MageUI.exe*, a graphical application, instead of *Mage.exe*.</span></span> <span data-ttu-id="c45e4-106">Pour plus d'informations, consultez [MageUI.exe (Manifest Generation and Editing Tool, Graphical Client)](mageui-exe-manifest-generation-and-editing-tool-graphical-client.md).</span><span class="sxs-lookup"><span data-stu-id="c45e4-106">For more information, see [MageUI.exe (Manifest Generation and Editing Tool, Graphical Client)](mageui-exe-manifest-generation-and-editing-tool-graphical-client.md).</span></span>

<span data-ttu-id="c45e4-107">Cet outil est installé automatiquement avec Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="c45e4-107">This tool is automatically installed with Visual Studio.</span></span> <span data-ttu-id="c45e4-108">Pour exécuter l’outil, utilisez l’Invite de commandes développeur pour Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="c45e4-108">To run the tool, use Developer Command Prompt for Visual Studio.</span></span> <span data-ttu-id="c45e4-109">Pour plus d’informations, consultez [Invites de commandes](developer-command-prompt-for-vs.md).</span><span class="sxs-lookup"><span data-stu-id="c45e4-109">For more information, see [Command Prompts](developer-command-prompt-for-vs.md).</span></span>

<span data-ttu-id="c45e4-110">Deux versions de *Mage.exe* et *MageUI.exe* sont founies avec Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="c45e4-110">Two versions of *Mage.exe* and *MageUI.exe* are included with Visual Studio.</span></span> <span data-ttu-id="c45e4-111">Pour afficher les informations de version, exécutez *MageUI.exe* et sélectionnez **Aide / ?** , puis **À propos de**.</span><span class="sxs-lookup"><span data-stu-id="c45e4-111">To see version information, run *MageUI.exe*, select **Help**, and select **About**.</span></span> <span data-ttu-id="c45e4-112">Cette documentation décrit la version 4.0.x.x de *Mage.exe* et *MageUI.exe*.</span><span class="sxs-lookup"><span data-stu-id="c45e4-112">This documentation describes version 4.0.x.x of *Mage.exe* and *MageUI.exe*.</span></span>

## <a name="syntax"></a><span data-ttu-id="c45e4-113">Syntaxe</span><span class="sxs-lookup"><span data-stu-id="c45e4-113">Syntax</span></span>

```console
Mage [commands] [commandOptions]
```

## <a name="parameters"></a><span data-ttu-id="c45e4-114">Paramètres</span><span class="sxs-lookup"><span data-stu-id="c45e4-114">Parameters</span></span>

<span data-ttu-id="c45e4-115">Le tableau ci-dessous répertorie les commandes prises en charge par *Mage.exe*.</span><span class="sxs-lookup"><span data-stu-id="c45e4-115">The following table shows the commands supported by *Mage.exe*.</span></span> <span data-ttu-id="c45e4-116">Pour plus d'informations sur les options prises en charge par ces commandes, consultez [Options des commandes New et Update](#new-and-update-command-options) et [Options de la commande Sign](#sign-command-options).</span><span class="sxs-lookup"><span data-stu-id="c45e4-116">For more information about the options supported by these commands, see [New and Update command options](#new-and-update-command-options) and [Sign command options](#sign-command-options).</span></span>

|<span data-ttu-id="c45e4-117">Commande</span><span class="sxs-lookup"><span data-stu-id="c45e4-117">Command</span></span>|<span data-ttu-id="c45e4-118">Description</span><span class="sxs-lookup"><span data-stu-id="c45e4-118">Description</span></span>|
|-------------|-----------------|
|<span data-ttu-id="c45e4-119">**-cc, ClearApplicationCache**</span><span class="sxs-lookup"><span data-stu-id="c45e4-119">**-cc, ClearApplicationCache**</span></span>|<span data-ttu-id="c45e4-120">Efface le cache d'application téléchargé de toutes les applications en ligne uniquement.</span><span class="sxs-lookup"><span data-stu-id="c45e4-120">Clears the downloaded application cache of all online-only applications.</span></span>|
|<span data-ttu-id="c45e4-121">**-n, -New** *fileType [newOptions]*</span><span class="sxs-lookup"><span data-stu-id="c45e4-121">**-n, -New** *fileType [newOptions]*</span></span>|<span data-ttu-id="c45e4-122">Crée un nouveau fichier du type donné.</span><span class="sxs-lookup"><span data-stu-id="c45e4-122">Creates a new file of the given type.</span></span> <span data-ttu-id="c45e4-123">Les types valides sont :</span><span class="sxs-lookup"><span data-stu-id="c45e4-123">Valid types are:</span></span><br /><br /> <span data-ttu-id="c45e4-124">-   `Deployment`: crée un manifeste de déploiement.</span><span class="sxs-lookup"><span data-stu-id="c45e4-124">-   `Deployment`: Creates a new deployment manifest.</span></span><br /><span data-ttu-id="c45e4-125">-   `Application`: crée un manifeste de l'application.</span><span class="sxs-lookup"><span data-stu-id="c45e4-125">-   `Application`: Creates a new application manifest.</span></span><br /><br /> <span data-ttu-id="c45e4-126">Si vous ne spécifiez pas de paramètres supplémentaires avec cette commande, elle crée un fichier du type approprié, avec les valeurs d’attributs et étiquettes par défaut adéquates.</span><span class="sxs-lookup"><span data-stu-id="c45e4-126">If you do not specify any additional parameters with this command, it will create a file of the appropriate type, with appropriate default tags and attribute values.</span></span><br /><br /> <span data-ttu-id="c45e4-127">Utilisez l’option **-ToFile** (voir le tableau ci-dessous) pour spécifier le nom de fichier et le chemin du nouveau fichier.</span><span class="sxs-lookup"><span data-stu-id="c45e4-127">Use the **-ToFile** option (see in the following table) to specify the file name and path of the new file.</span></span><br /><br /> <span data-ttu-id="c45e4-128">Utilisez l’option **-FromDirectory** (voir le tableau ci-dessous) pour créer un manifeste d’application avec tous les assemblys d’une application ajoutés à la section \<dependency> du manifeste.</span><span class="sxs-lookup"><span data-stu-id="c45e4-128">Use the **-FromDirectory** option (see in the following table) to create an application manifest with all of the assemblies for an application added to the \<dependency> section of the manifest.</span></span>|
|<span data-ttu-id="c45e4-129">**-u, -Update** *[filePath] [updateOptions]*</span><span class="sxs-lookup"><span data-stu-id="c45e4-129">**-u, -Update** *[filePath] [updateOptions]*</span></span>|<span data-ttu-id="c45e4-130">Apporte une ou plusieurs modifications à un fichier manifeste.</span><span class="sxs-lookup"><span data-stu-id="c45e4-130">Makes one or more changes to a manifest file.</span></span> <span data-ttu-id="c45e4-131">Vous n'avez pas à spécifier le type de fichier que vous modifiez.</span><span class="sxs-lookup"><span data-stu-id="c45e4-131">You do not have to specify the type of file that you are editing.</span></span> <span data-ttu-id="c45e4-132">Mage.exe examinera le fichier en utilisant un jeu de paramètres heuristiques et déterminera s'il s'agit d'un manifeste de déploiement ou d'un manifeste d'application.</span><span class="sxs-lookup"><span data-stu-id="c45e4-132">Mage.exe will examine the file by using a set of heuristics and determine whether it is a deployment manifest or an application manifest.</span></span><br /><br /> <span data-ttu-id="c45e4-133">Si vous avez déjà signé un fichier avec un certificat, **-Update** supprime le bloc de signature de clé.</span><span class="sxs-lookup"><span data-stu-id="c45e4-133">If you have already signed a file with a certificate, **-Update** will remove the key signature block.</span></span> <span data-ttu-id="c45e4-134">En effet, la signature de clé contient un hachage du fichier, et la modification du fichier rend le hachage non valide.</span><span class="sxs-lookup"><span data-stu-id="c45e4-134">This is because the key signature contains a hash of the file, and modifying the file renders the hash invalid.</span></span><br /><br /> <span data-ttu-id="c45e4-135">Utilisez l’option **-ToFile** (voir le tableau ci-dessous) pour spécifier un nouveau nom et chemin de fichier au lieu de remplacer le fichier existant.</span><span class="sxs-lookup"><span data-stu-id="c45e4-135">Use the **-ToFile** option (see in the following table) to specify a new file name and path instead of overwriting the existing file.</span></span>|
|<span data-ttu-id="c45e4-136">**-s, -Sign** `[signOptions]`</span><span class="sxs-lookup"><span data-stu-id="c45e4-136">**-s, -Sign** `[signOptions]`</span></span>|<span data-ttu-id="c45e4-137">Utilise une paire de clés ou un certificat X509 pour signer un fichier.</span><span class="sxs-lookup"><span data-stu-id="c45e4-137">Uses a key pair or X509 certificate to sign a file.</span></span> <span data-ttu-id="c45e4-138">Les signatures sont insérées en tant qu'éléments XML dans les fichiers.</span><span class="sxs-lookup"><span data-stu-id="c45e4-138">Signatures are inserted as XML elements inside of the files.</span></span><br /><br /> <span data-ttu-id="c45e4-139">Vous devez être connecté à Internet lors de la signature d’un manifeste qui spécifie une valeur **-TimestampUri** .</span><span class="sxs-lookup"><span data-stu-id="c45e4-139">You must be connected to the Internet when signing a manifest that specifies a **-TimestampUri** value.</span></span>|
|<span data-ttu-id="c45e4-140">**-ver, -Verify** *[nom-fichier-manifeste]*</span><span class="sxs-lookup"><span data-stu-id="c45e4-140">**-ver, -Verify** *[manifest-filename]*</span></span>|<span data-ttu-id="c45e4-141">Vérifie que le manifeste est correctement signé.</span><span class="sxs-lookup"><span data-stu-id="c45e4-141">Verifies that the manifest is signed correctly.</span></span> <span data-ttu-id="c45e4-142">Non combinable avec d’autres commandes.</span><span class="sxs-lookup"><span data-stu-id="c45e4-142">Cannot be combined with other commands.</span></span> <br/><br/><span data-ttu-id="c45e4-143">**Disponible dans .NET Framework 4.7 (et versions ultérieures).**</span><span class="sxs-lookup"><span data-stu-id="c45e4-143">**Available in .NET Framework 4.7 and later versions.**</span></span>|
|<span data-ttu-id="c45e4-144">**-h, -?, -Help** *[verbose]*</span><span class="sxs-lookup"><span data-stu-id="c45e4-144">**-h, -?, -Help** *[verbose]*</span></span>|<span data-ttu-id="c45e4-145">Décrit toutes les commandes disponibles et leurs options.</span><span class="sxs-lookup"><span data-stu-id="c45e4-145">Describes all of the available commands and their options.</span></span> <span data-ttu-id="c45e4-146">Spécifiez `verbose` pour obtenir une aide détaillée.</span><span class="sxs-lookup"><span data-stu-id="c45e4-146">Specify `verbose` to get detailed help.</span></span>|

## <a name="new-and-update-command-options"></a><span data-ttu-id="c45e4-147">Options des commandes New et Update</span><span class="sxs-lookup"><span data-stu-id="c45e4-147">New and Update command options</span></span>

<span data-ttu-id="c45e4-148">Le tableau suivant affiche les options prises en charge par les commandes `-New` et `-Update` :</span><span class="sxs-lookup"><span data-stu-id="c45e4-148">The following table shows the options supported by the `-New` and `-Update` commands:</span></span>

|<span data-ttu-id="c45e4-149">Options</span><span class="sxs-lookup"><span data-stu-id="c45e4-149">Options</span></span>|<span data-ttu-id="c45e4-150">Valeur par défaut</span><span class="sxs-lookup"><span data-stu-id="c45e4-150">Default Value</span></span>|<span data-ttu-id="c45e4-151">S'applique à</span><span class="sxs-lookup"><span data-stu-id="c45e4-151">Applies To</span></span>|<span data-ttu-id="c45e4-152">Description</span><span class="sxs-lookup"><span data-stu-id="c45e4-152">Description</span></span>|
|-------------|-------------------|----------------|-----------------|
|<span data-ttu-id="c45e4-153">**-a, -Algorithm**</span><span class="sxs-lookup"><span data-stu-id="c45e4-153">**-a, -Algorithm**</span></span>|<span data-ttu-id="c45e4-154">sha1RSA</span><span class="sxs-lookup"><span data-stu-id="c45e4-154">sha1RSA</span></span>|<span data-ttu-id="c45e4-155">Manifestes d'application.</span><span class="sxs-lookup"><span data-stu-id="c45e4-155">Application manifests.</span></span><br /><br /> <span data-ttu-id="c45e4-156">Manifestes de déploiement.</span><span class="sxs-lookup"><span data-stu-id="c45e4-156">Deployment manifests.</span></span>|<span data-ttu-id="c45e4-157">Définit l'algorithme avec lequel générer des compactés de dépendance.</span><span class="sxs-lookup"><span data-stu-id="c45e4-157">Specifies the algorithm to generate dependency digests with.</span></span> <span data-ttu-id="c45e4-158">La valeur doit être "sha256RSA" ou "sha1RSA".</span><span class="sxs-lookup"><span data-stu-id="c45e4-158">Value must be "sha256RSA" or "sha1RSA.</span></span><br /><br /> <span data-ttu-id="c45e4-159">N'utilisez pas avec l'option "-Update".</span><span class="sxs-lookup"><span data-stu-id="c45e4-159">Use with the "-Update" option.</span></span> <span data-ttu-id="c45e4-160">Cette option est ignorée avec l'utilisation de l'option "-Sign".</span><span class="sxs-lookup"><span data-stu-id="c45e4-160">This option is ignored when using the "-Sign" option</span></span>|
|<span data-ttu-id="c45e4-161">**-appc, -AppCodeBase** `manifestReference`</span><span class="sxs-lookup"><span data-stu-id="c45e4-161">**-appc, -AppCodeBase** `manifestReference`</span></span>||<span data-ttu-id="c45e4-162">Manifestes de déploiement.</span><span class="sxs-lookup"><span data-stu-id="c45e4-162">Deployment manifests.</span></span>|<span data-ttu-id="c45e4-163">Insère une référence d'URL ou de chemin d'accès au fichier manifeste d'application.</span><span class="sxs-lookup"><span data-stu-id="c45e4-163">Inserts a URL or file path reference to the application manifest file.</span></span> <span data-ttu-id="c45e4-164">Cette valeur doit représenter le chemin d’accès complet au manifeste d’application.</span><span class="sxs-lookup"><span data-stu-id="c45e4-164">This value must be the full path to the application manifest.</span></span>|
|<span data-ttu-id="c45e4-165">**-appm, -AppManifest** `manifestPath`</span><span class="sxs-lookup"><span data-stu-id="c45e4-165">**-appm, -AppManifest** `manifestPath`</span></span>||<span data-ttu-id="c45e4-166">Manifestes de déploiement.</span><span class="sxs-lookup"><span data-stu-id="c45e4-166">Deployment manifests.</span></span>|<span data-ttu-id="c45e4-167">Insère une référence au manifeste d'application d'un déploiement dans son manifeste de déploiement.</span><span class="sxs-lookup"><span data-stu-id="c45e4-167">Inserts a reference to a deployment's application manifest into its deployment manifest.</span></span><br /><br /> <span data-ttu-id="c45e4-168">Le fichier indiqué par `manifestPath` doit exister, sans quoi *Mage.exe* génère une erreur.</span><span class="sxs-lookup"><span data-stu-id="c45e4-168">The file indicated by `manifestPath` must exist, or *Mage.exe* will issue an error.</span></span> <span data-ttu-id="c45e4-169">Si le fichier référencé par `manifestPath` n’est pas un manifeste d’application, *Mage.exe* génère une erreur.</span><span class="sxs-lookup"><span data-stu-id="c45e4-169">If the file referenced by `manifestPath` is not an application manifest, *Mage.exe* will issue an error.</span></span>|
|<span data-ttu-id="c45e4-170">**-cf, -CertFile** `filePath`</span><span class="sxs-lookup"><span data-stu-id="c45e4-170">**-cf, -CertFile** `filePath`</span></span>||<span data-ttu-id="c45e4-171">Tous les types de fichiers.</span><span class="sxs-lookup"><span data-stu-id="c45e4-171">All file types.</span></span>|<span data-ttu-id="c45e4-172">Spécifie l'emplacement d'un certificat numérique X509 permettant de signer un manifeste ou un fichier de licence.</span><span class="sxs-lookup"><span data-stu-id="c45e4-172">Specifies the location of an X509 digital certificate for signing a manifest or license file.</span></span> <span data-ttu-id="c45e4-173">Vous pouvez utiliser cette option avec l’option **-Password** si le certificat exige un mot de passe pour les fichiers PFX (Personal Information Exchange).</span><span class="sxs-lookup"><span data-stu-id="c45e4-173">This option can be used in conjunction with the **-Password** option if the certificate requires a password for Personal Information Exchange (PFX) files.</span></span> <span data-ttu-id="c45e4-174">À partir de .NET Framework 4.7, si le fichier ne contient pas de clé privée, l’association des options **- CryptoProvider** et **- KeyContainer** est obligatoire.</span><span class="sxs-lookup"><span data-stu-id="c45e4-174">Starting with .NET Framework 4.7, if the file does not contain a private key, a combination of the **-CryptoProvider** and **-KeyContainer** options is required.</span></span><br/><br/><span data-ttu-id="c45e4-175">À partir de .NET Framework 4.6.2, *Mage.exe* signes les manifestes avec des certificats CNG et CAPI.</span><span class="sxs-lookup"><span data-stu-id="c45e4-175">Starting with .NET Framework 4.6.2, *Mage.exe* signs manifests with CNG as well as CAPI certificates.</span></span>|
|<span data-ttu-id="c45e4-176">**-ch, -CertHash** `hashSignature`</span><span class="sxs-lookup"><span data-stu-id="c45e4-176">**-ch, -CertHash** `hashSignature`</span></span>||<span data-ttu-id="c45e4-177">Tous les types de fichiers.</span><span class="sxs-lookup"><span data-stu-id="c45e4-177">All file types.</span></span>|<span data-ttu-id="c45e4-178">Hachage d'un certificat numérique stocké dans le magasin de certificats personnel de l'ordinateur client.</span><span class="sxs-lookup"><span data-stu-id="c45e4-178">The hash of a digital certificate stored in the personal certificate store of the client computer.</span></span> <span data-ttu-id="c45e4-179">Il correspond à la chaîne d'empreinte numérique d'un certificat numérique affiché dans la console Certificats Windows.</span><span class="sxs-lookup"><span data-stu-id="c45e4-179">This corresponds to the Thumbprint string of a digital certificate viewed in the Windows Certificates Console.</span></span><br /><br /> <span data-ttu-id="c45e4-180">`hashSignature` peut être en majuscules ou en minuscules et fourni en tant que chaîne unique ou avec chaque octet de l'empreinte numérique séparé par des espaces et l'empreinte numérique complète entre guillemets.</span><span class="sxs-lookup"><span data-stu-id="c45e4-180">`hashSignature` can be either uppercase or lowercase, and can be supplied either as a single string, or with each octet of the Thumbprint separated by spaces and the entire Thumbprint enclosed in quotation marks.</span></span>|
|<span data-ttu-id="c45e4-181">**-csp, -CryptoProvider** `provider-name`</span><span class="sxs-lookup"><span data-stu-id="c45e4-181">**-csp, -CryptoProvider** `provider-name`</span></span>||<span data-ttu-id="c45e4-182">Tous les types de fichiers.</span><span class="sxs-lookup"><span data-stu-id="c45e4-182">All file types.</span></span>|<span data-ttu-id="c45e4-183">Spécifie le nom d’un fournisseur de services de chiffrement (CSP) contenant le conteneur de clés privées.</span><span class="sxs-lookup"><span data-stu-id="c45e4-183">Specifies the name of a cryptographic service provider (CSP) that contains the private key container.</span></span> <span data-ttu-id="c45e4-184">L’option **- KeyContainer** est requise.</span><span class="sxs-lookup"><span data-stu-id="c45e4-184">This option requires the **-KeyContainer** option.</span></span><br/><br/><span data-ttu-id="c45e4-185">Disponible à partir de .NET Framework 4.7.</span><span class="sxs-lookup"><span data-stu-id="c45e4-185">This option is available starting with .NET Framework 4.7.</span></span>|
|<span data-ttu-id="c45e4-186">**-fd, -FromDirectory** `directoryPath`</span><span class="sxs-lookup"><span data-stu-id="c45e4-186">**-fd, -FromDirectory** `directoryPath`</span></span>||<span data-ttu-id="c45e4-187">Manifestes d'application.</span><span class="sxs-lookup"><span data-stu-id="c45e4-187">Application manifests.</span></span>|<span data-ttu-id="c45e4-188">Remplit le manifeste d'application avec les descriptions de tous les assemblys et fichiers trouvés dans `directoryPath`, y compris tous les sous-répertoires, `directoryPath` étant le répertoire qui contient l'application à déployer.</span><span class="sxs-lookup"><span data-stu-id="c45e4-188">Populates the application manifest with descriptions of all assemblies and files found in `directoryPath`, including all subdirectories, where `directoryPath` is the directory that contains the application that you want to deploy.</span></span> <span data-ttu-id="c45e4-189">Pour chaque fichier du répertoire, *Mage.exe* détermine s’il s’agit d’un assembly ou d’un fichier statique.</span><span class="sxs-lookup"><span data-stu-id="c45e4-189">For each file in the directory, *Mage.exe* decides whether the file is an assembly or a static file.</span></span> <span data-ttu-id="c45e4-190">Si c'est un assembly, il ajoute une balise `<dependency>` et un attribut `installFrom` à l'application avec le nom de l'assembly, la base de code et la version.</span><span class="sxs-lookup"><span data-stu-id="c45e4-190">If it is an assembly, it adds a `<dependency>` tag and `installFrom` attribute to the application with the assembly's name, code base, and version.</span></span> <span data-ttu-id="c45e4-191">S'il s'agit d'un fichier statique, il ajoute une balise `<file>` .</span><span class="sxs-lookup"><span data-stu-id="c45e4-191">If it is a static file, it adds a `<file>` tag.</span></span> <span data-ttu-id="c45e4-192">*Mage.exe* utilise également un ensemble de paramètres heuristiques simple pour détecter le fichier exécutable principal de l’application, et le marque comme point d’entrée de l’application ClickOnce dans le manifeste.</span><span class="sxs-lookup"><span data-stu-id="c45e4-192">*Mage.exe* will also use a simple set of heuristics to detect the main executable for the application, and will mark it as the ClickOnce application's entry point in the manifest.</span></span><br /><br /> <span data-ttu-id="c45e4-193">*Mage.exe* ne marquera jamais automatiquement un fichier en tant que fichier de « données ».</span><span class="sxs-lookup"><span data-stu-id="c45e4-193">*Mage.exe* will never automatically mark a file as a "data" file.</span></span> <span data-ttu-id="c45e4-194">Vous devez faire cela manuellement.</span><span class="sxs-lookup"><span data-stu-id="c45e4-194">You must do this manually.</span></span> <span data-ttu-id="c45e4-195">Pour plus d'informations, consultez [How to: Include a Data File in a ClickOnce Application](/visualstudio/deployment/how-to-include-a-data-file-in-a-clickonce-application).</span><span class="sxs-lookup"><span data-stu-id="c45e4-195">For more information, see [How to: Include a Data File in a ClickOnce Application](/visualstudio/deployment/how-to-include-a-data-file-in-a-clickonce-application).</span></span><br /><br /> <span data-ttu-id="c45e4-196">*Mage.exe* génère également un hachage pour chaque fichier en fonction de sa taille.</span><span class="sxs-lookup"><span data-stu-id="c45e4-196">*Mage.exe* also generates a hash for each file based on its size.</span></span> <span data-ttu-id="c45e4-197">ClickOnce utilise ces hachages pour éviter toute falsification des fichiers du déploiement après la création du manifeste.</span><span class="sxs-lookup"><span data-stu-id="c45e4-197">ClickOnce uses these hashes to ensure that no one has tampered with the deployment's files since the manifest was created.</span></span> <span data-ttu-id="c45e4-198">Si l’un des fichiers de votre déploiement change, vous pouvez exécuter *Mage.exe* avec la commande **-Update** et l’option **-FromDirectory**. Cela mettra à jour les hachages et les versions des assemblys de tous les fichiers référencés.</span><span class="sxs-lookup"><span data-stu-id="c45e4-198">If any of the files in your deployment change, you can run *Mage.exe* with the **-Update** command and the **-FromDirectory** option, and it will update the hashes and assembly versions of all referenced files.</span></span><br /><br /> <span data-ttu-id="c45e4-199">**-FromDirectory** inclut tous les fichiers de tous les sous-répertoires trouvés dans `directoryPath`.</span><span class="sxs-lookup"><span data-stu-id="c45e4-199">**-FromDirectory** will include all files in all subdirectories found within `directoryPath`.</span></span><br /><br /> <span data-ttu-id="c45e4-200">Si vous utilisez **-FromDirectory** avec la commande **-Update**, *Mage.exe* supprime tous les fichiers du manifeste d’application qui n’existent plus dans le répertoire.</span><span class="sxs-lookup"><span data-stu-id="c45e4-200">If you use **-FromDirectory** with the **-Update** command, *Mage.exe* will remove any files in the application manifest that no longer exist in the directory.</span></span>|
|<span data-ttu-id="c45e4-201">**-if, -IconFile**  `filePath`</span><span class="sxs-lookup"><span data-stu-id="c45e4-201">**-if, -IconFile**  `filePath`</span></span>||<span data-ttu-id="c45e4-202">Manifestes d'application.</span><span class="sxs-lookup"><span data-stu-id="c45e4-202">Application manifests.</span></span>|<span data-ttu-id="c45e4-203">Spécifie le chemin d'accès complet à un fichier icône .ICO.</span><span class="sxs-lookup"><span data-stu-id="c45e4-203">Specifies the full path to an .ICO icon file.</span></span> <span data-ttu-id="c45e4-204">Cette icône s'affiche à côté du nom de votre application dans le menu Démarrage et dans son entrée Ajout/Suppression de programmes.</span><span class="sxs-lookup"><span data-stu-id="c45e4-204">This icon appears beside your application name in the start menu, and in its Add-or-Remove Programs entry.</span></span> <span data-ttu-id="c45e4-205">Si aucune icône n'est fournie, une icône par défaut est utilisée.</span><span class="sxs-lookup"><span data-stu-id="c45e4-205">If no icon is provided, a default icon is used.</span></span>|
|<span data-ttu-id="c45e4-206">**-ip, -IncludeProviderURL**  `url`</span><span class="sxs-lookup"><span data-stu-id="c45e4-206">**-ip, -IncludeProviderURL**  `url`</span></span>|<span data-ttu-id="c45e4-207">true</span><span class="sxs-lookup"><span data-stu-id="c45e4-207">true</span></span>|<span data-ttu-id="c45e4-208">Manifestes de déploiement.</span><span class="sxs-lookup"><span data-stu-id="c45e4-208">Deployment manifests.</span></span>|<span data-ttu-id="c45e4-209">Indique si le manifeste du déploiement inclut la valeur de l’emplacement de la mise à jour définie par **-ProviderURL**.</span><span class="sxs-lookup"><span data-stu-id="c45e4-209">Indicates whether the deployment manifest includes the update location value set by **-ProviderURL**.</span></span>|
|<span data-ttu-id="c45e4-210">**-i, -Install** `willInstall`</span><span class="sxs-lookup"><span data-stu-id="c45e4-210">**-i, -Install** `willInstall`</span></span>|<span data-ttu-id="c45e4-211">true</span><span class="sxs-lookup"><span data-stu-id="c45e4-211">true</span></span>|<span data-ttu-id="c45e4-212">Manifestes de déploiement.</span><span class="sxs-lookup"><span data-stu-id="c45e4-212">Deployment manifests.</span></span>|<span data-ttu-id="c45e4-213">Indique si l'application ClickOnce doit être installée ou non sur l'ordinateur local ou si elle doit s'exécuter à partir du Web.</span><span class="sxs-lookup"><span data-stu-id="c45e4-213">Indicates whether or not the ClickOnce application should install onto the local computer, or whether it should run from the Web.</span></span> <span data-ttu-id="c45e4-214">Lorsqu'une application est installée, elle figure dans le menu **Démarrer** de Windows.</span><span class="sxs-lookup"><span data-stu-id="c45e4-214">Installing an application gives that application a presence in the Windows **Start** menu.</span></span> <span data-ttu-id="c45e4-215">Les valeurs valides sont "true" ou "t", et "false" ou "f".</span><span class="sxs-lookup"><span data-stu-id="c45e4-215">Valid values are "true" or "t", and "false" or "f".</span></span><br /><br /> <span data-ttu-id="c45e4-216">Si vous spécifiez l’option **-MinVersion** et qu’un utilisateur dispose d’une version antérieure à la version **-MinVersion** installée, ceci force l’installation de l’application, indépendamment de la valeur passée à **-Install**.</span><span class="sxs-lookup"><span data-stu-id="c45e4-216">If you specify the **-MinVersion** option, and a user has a version less than **-MinVersion** installed, it will force the application to install, regardless of the value that you pass to **-Install**.</span></span><br /><br /> <span data-ttu-id="c45e4-217">Cette option ne peut pas être utilisée avec l’option **-BrowserHosted** .</span><span class="sxs-lookup"><span data-stu-id="c45e4-217">This option cannot be used with the **-BrowserHosted** option.</span></span> <span data-ttu-id="c45e4-218">Toute tentative de spécifier ces deux options pour le même manifeste générera une erreur.</span><span class="sxs-lookup"><span data-stu-id="c45e4-218">Attempting to specify both for the same manifest will result in an error.</span></span>|
|<span data-ttu-id="c45e4-219">**-kc, -KeyContainer** `name`</span><span class="sxs-lookup"><span data-stu-id="c45e4-219">**-kc, -KeyContainer** `name`</span></span>||<span data-ttu-id="c45e4-220">Tous les types de fichiers.</span><span class="sxs-lookup"><span data-stu-id="c45e4-220">All file types.</span></span>|<span data-ttu-id="c45e4-221">Spécifie le conteneur de clés contenant le nom de la clé privée.</span><span class="sxs-lookup"><span data-stu-id="c45e4-221">Specifies the key container that contains the name of the private key.</span></span> <span data-ttu-id="c45e4-222">L’option **CryptoProvider** est nécessaire.</span><span class="sxs-lookup"><span data-stu-id="c45e4-222">This option requires the **CryptoProvider** option.</span></span><br/><br/><span data-ttu-id="c45e4-223">Disponible à partir de .NET Framework 4.7.</span><span class="sxs-lookup"><span data-stu-id="c45e4-223">This option is available starting with .NET Framework 4.7.</span></span>|
|<span data-ttu-id="c45e4-224">**-mv, -MinVersion**  `[version]`</span><span class="sxs-lookup"><span data-stu-id="c45e4-224">**-mv, -MinVersion**  `[version]`</span></span>|<span data-ttu-id="c45e4-225">Version répertoriée dans le manifeste de déploiement ClickOnce telle que spécifiée par l’indicateur **-Version** .</span><span class="sxs-lookup"><span data-stu-id="c45e4-225">The version listed in the ClickOnce deployment manifest as specified by the **-Version** flag.</span></span>|<span data-ttu-id="c45e4-226">Manifestes de déploiement.</span><span class="sxs-lookup"><span data-stu-id="c45e4-226">Deployment manifests.</span></span>|<span data-ttu-id="c45e4-227">Version minimale de cette application qu'un utilisateur peut exécuter.</span><span class="sxs-lookup"><span data-stu-id="c45e4-227">The minimum version of this application a user can run.</span></span> <span data-ttu-id="c45e4-228">Cet indicateur rend obligatoire la mise à jour avec la version nommée de votre application.</span><span class="sxs-lookup"><span data-stu-id="c45e4-228">This flag makes the named version of your application a required update.</span></span> <span data-ttu-id="c45e4-229">Si vous publiez une version de votre produit avec une mise à jour corrigeant une rupture ou une vulnérabilité de sécurité critique, vous pouvez utiliser cet indicateur pour spécifier que cette mise à jour doit être installée et que l’utilisateur ne peut pas continuer à exécuter des versions antérieures.</span><span class="sxs-lookup"><span data-stu-id="c45e4-229">If you release a version of your product with an update to a breaking change or a critical security flaw, you can use this flag to specify that this update must be installed, and that the user cannot continue to run earlier versions.</span></span><br /><br /> <span data-ttu-id="c45e4-230">`version` a la même sémantique que l’argument pour l’indicateur **-Version** .</span><span class="sxs-lookup"><span data-stu-id="c45e4-230">`version` has the same semantics as the argument to the **-Version** flag.</span></span>|
|<span data-ttu-id="c45e4-231">**-n, -Name** `nameString`</span><span class="sxs-lookup"><span data-stu-id="c45e4-231">**-n, -Name** `nameString`</span></span>|<span data-ttu-id="c45e4-232">Déployer</span><span class="sxs-lookup"><span data-stu-id="c45e4-232">Deploy</span></span>|<span data-ttu-id="c45e4-233">Tous les types de fichiers.</span><span class="sxs-lookup"><span data-stu-id="c45e4-233">All file types.</span></span>|<span data-ttu-id="c45e4-234">Nom utilisé pour identifier l'application.</span><span class="sxs-lookup"><span data-stu-id="c45e4-234">The name that is used to identify the application.</span></span> <span data-ttu-id="c45e4-235">ClickOnce utilise ce nom pour identifier l'application dans le menu **Démarrer** (si l'application est configurée pour s'installer elle-même) et dans les boîtes de dialogue Permission Elevation.</span><span class="sxs-lookup"><span data-stu-id="c45e4-235">ClickOnce will use this name to identify the application in the **Start** menu (if the application is configured to install itself) and in Permission Elevation dialog boxes.</span></span> <span data-ttu-id="c45e4-236">**Remarque :** Si vous mettez à jour un manifeste existant et que vous ne spécifiez pas de nom d’éditeur avec cette option, *Mage.exe* met à jour le manifeste avec le nom de l’organisation défini sur l’ordinateur.</span><span class="sxs-lookup"><span data-stu-id="c45e4-236">**Note:**  If you are updating an existing manifest and you do not specify a publisher name with this option, *Mage.exe* updates the manifest with the organization name defined on the computer.</span></span> <span data-ttu-id="c45e4-237">Pour utiliser un nom différent, veillez à utiliser cette option et spécifiez le nom voulu pour l'éditeur.</span><span class="sxs-lookup"><span data-stu-id="c45e4-237">To use a different name, make sure to use this option and specify the desired publisher name.</span></span>|
|<span data-ttu-id="c45e4-238">**-pwd, -Password** `passwd`</span><span class="sxs-lookup"><span data-stu-id="c45e4-238">**-pwd, -Password** `passwd`</span></span>||<span data-ttu-id="c45e4-239">Tous les types de fichiers.</span><span class="sxs-lookup"><span data-stu-id="c45e4-239">All file types.</span></span>|<span data-ttu-id="c45e4-240">Mot de passe utilisé pour signer un manifeste avec un certificat numérique.</span><span class="sxs-lookup"><span data-stu-id="c45e4-240">The password that is used for signing a manifest with a digital certificate.</span></span> <span data-ttu-id="c45e4-241">Cette option doit être utilisée conjointement avec l’option **-CertFile** .</span><span class="sxs-lookup"><span data-stu-id="c45e4-241">Must be used in conjunction with the **-CertFile** option.</span></span>|
|<span data-ttu-id="c45e4-242">**-p, Processor** `processorValue`</span><span class="sxs-lookup"><span data-stu-id="c45e4-242">**-p, Processor** `processorValue`</span></span>|<span data-ttu-id="c45e4-243">Msil</span><span class="sxs-lookup"><span data-stu-id="c45e4-243">Msil</span></span>|<span data-ttu-id="c45e4-244">Manifestes d'application.</span><span class="sxs-lookup"><span data-stu-id="c45e4-244">Application manifests.</span></span><br /><br /> <span data-ttu-id="c45e4-245">Manifestes de déploiement.</span><span class="sxs-lookup"><span data-stu-id="c45e4-245">Deployment manifests.</span></span>|<span data-ttu-id="c45e4-246">Architecture de microprocesseur sur laquelle cette distribution s'exécutera.</span><span class="sxs-lookup"><span data-stu-id="c45e4-246">The microprocessor architecture on which this distribution will run.</span></span> <span data-ttu-id="c45e4-247">Cette valeur est obligatoire si vous préparez une ou plusieurs installations dont les assemblys ont été précompilés pour un microprocesseur spécifique.</span><span class="sxs-lookup"><span data-stu-id="c45e4-247">This value is required if you are preparing one or more installations whose assemblies have been precompiled for a specific microprocessor.</span></span> <span data-ttu-id="c45e4-248">Les valeurs valides sont `msil`, `x86`, `ia64`et `amd64`.</span><span class="sxs-lookup"><span data-stu-id="c45e4-248">Valid values include `msil`, `x86`, `ia64`, and `amd64`.</span></span> <span data-ttu-id="c45e4-249">`msil` est le langage intermédiaire Microsoft, ce qui signifie que tous vos assemblys sont indépendants des plateformes et que le Common Language Runtime (CLR) les compile juste-à-temps quand votre application est exécutée pour la première fois.</span><span class="sxs-lookup"><span data-stu-id="c45e4-249">`msil` is Microsoft intermediate language, which means all of your assemblies are platform-independent, and the common language runtime (CLR) will just-in-time compile them when your application is first run.</span></span>|
|<span data-ttu-id="c45e4-250">**-pu,** **-ProviderURL** `url`</span><span class="sxs-lookup"><span data-stu-id="c45e4-250">**-pu,** **-ProviderURL** `url`</span></span>||<span data-ttu-id="c45e4-251">Manifestes de déploiement.</span><span class="sxs-lookup"><span data-stu-id="c45e4-251">Deployment manifests.</span></span>|<span data-ttu-id="c45e4-252">Spécifie l'URL vérifiée par ClickOnce pour les mises à jour d'application.</span><span class="sxs-lookup"><span data-stu-id="c45e4-252">Specifies the URL which ClickOnce will examine for application updates.</span></span>|
|<span data-ttu-id="c45e4-253">**-pub, -Publisher** `publisherName`</span><span class="sxs-lookup"><span data-stu-id="c45e4-253">**-pub, -Publisher** `publisherName`</span></span>||<span data-ttu-id="c45e4-254">Manifestes d'application.</span><span class="sxs-lookup"><span data-stu-id="c45e4-254">Application manifests.</span></span><br /><br /> <span data-ttu-id="c45e4-255">Manifestes de déploiement.</span><span class="sxs-lookup"><span data-stu-id="c45e4-255">Deployment manifests.</span></span>|<span data-ttu-id="c45e4-256">Ajoute le nom de l'éditeur à l'élément de description du manifeste de déploiement ou d'application.</span><span class="sxs-lookup"><span data-stu-id="c45e4-256">Adds the publisher name to the description element of either the deployment or application manifest.</span></span> <span data-ttu-id="c45e4-257">Quand il est utilisé sur un manifeste d’application, **-UseManifestForTrust** doit également être spécifié avec la valeur « true » ou « t » ; sinon, ce paramètre génère une erreur.</span><span class="sxs-lookup"><span data-stu-id="c45e4-257">When used on an application manifest, **-UseManifestForTrust** must also be specified with a value of "true" or "t"; otherwise, this parameter will raise an error.</span></span>|
|<span data-ttu-id="c45e4-258">**-s, -SupportURL**  `url`</span><span class="sxs-lookup"><span data-stu-id="c45e4-258">**-s, -SupportURL**  `url`</span></span>||<span data-ttu-id="c45e4-259">Manifestes d'application.</span><span class="sxs-lookup"><span data-stu-id="c45e4-259">Application manifests.</span></span><br /><br /> <span data-ttu-id="c45e4-260">Manifestes de déploiement.</span><span class="sxs-lookup"><span data-stu-id="c45e4-260">Deployment manifests.</span></span>|<span data-ttu-id="c45e4-261">Spécifie le lien dans lequel s'affiche Ajout/Suppression de programmes pour l'application ClickOnce.</span><span class="sxs-lookup"><span data-stu-id="c45e4-261">Specifies the link that appears in Add or Remove Programs for the ClickOnce application.</span></span>|
|<span data-ttu-id="c45e4-262">**-ti, -TimestampUri** `uri`</span><span class="sxs-lookup"><span data-stu-id="c45e4-262">**-ti, -TimestampUri** `uri`</span></span>||<span data-ttu-id="c45e4-263">Manifestes d'application.</span><span class="sxs-lookup"><span data-stu-id="c45e4-263">Application manifests.</span></span><br /><br /> <span data-ttu-id="c45e4-264">Manifestes de déploiement.</span><span class="sxs-lookup"><span data-stu-id="c45e4-264">Deployment manifests.</span></span>|<span data-ttu-id="c45e4-265">L'URL d'un service d'horodatage numérique.</span><span class="sxs-lookup"><span data-stu-id="c45e4-265">The URL of a digital timestamping service.</span></span> <span data-ttu-id="c45e4-266">Horodater les manifestes vous évite d'avoir à signer de nouveau les manifestes si votre certificat numérique expire avant le déploiement de la version suivante de votre application.</span><span class="sxs-lookup"><span data-stu-id="c45e4-266">Timestamping the manifests prevents you from having to re-sign the manifests should your digital certificate expire before you deploy the next version of your application.</span></span> <span data-ttu-id="c45e4-267">Pour plus d’informations, consultez [Configurer des racines de confiance et des certificats non autorisés](https://docs.microsoft.com/previous-versions/windows/it-pro/windows-server-2012-R2-and-2012/dn265983(v=ws.11)).</span><span class="sxs-lookup"><span data-stu-id="c45e4-267">For more information, see [Windows root certificate program members](https://docs.microsoft.com/previous-versions/windows/it-pro/windows-server-2012-R2-and-2012/dn265983(v=ws.11)).</span></span>|
|<span data-ttu-id="c45e4-268">**-t, -ToFile** `filePath`</span><span class="sxs-lookup"><span data-stu-id="c45e4-268">**-t, -ToFile** `filePath`</span></span>|<span data-ttu-id="c45e4-269">-   New :</span><span class="sxs-lookup"><span data-stu-id="c45e4-269">-   New:</span></span><br /><span data-ttu-id="c45e4-270">-   Déploiement : deploy.application</span><span class="sxs-lookup"><span data-stu-id="c45e4-270">-   Deployment: deploy.application</span></span><br /><span data-ttu-id="c45e4-271">-   Application : application.exe.manifest</span><span class="sxs-lookup"><span data-stu-id="c45e4-271">-   Application: application.exe.manifest</span></span><br /><span data-ttu-id="c45e4-272">-   Update :</span><span class="sxs-lookup"><span data-stu-id="c45e4-272">-   Update:</span></span><br /><span data-ttu-id="c45e4-273">-   Fichier d'entrée.</span><span class="sxs-lookup"><span data-stu-id="c45e4-273">-   The input file.</span></span>|<span data-ttu-id="c45e4-274">Tous les types de fichiers.</span><span class="sxs-lookup"><span data-stu-id="c45e4-274">All file types.</span></span>|<span data-ttu-id="c45e4-275">Spécifie le chemin de sortie du fichier créé ou modifié.</span><span class="sxs-lookup"><span data-stu-id="c45e4-275">Specifies the output path of the file that has been created or modified.</span></span><br /><br /> <span data-ttu-id="c45e4-276">Si **-ToFile** n’est pas fourni quand vous utilisez **-New**, la sortie est écrite dans le répertoire de travail actuel.</span><span class="sxs-lookup"><span data-stu-id="c45e4-276">If **-ToFile** is not supplied when you use **-New**, the output is written to the current working directory.</span></span> <span data-ttu-id="c45e4-277">Si **-ToFile** n’est pas fourni quand vous utilisez **-Update**, *Mage.exe* réécrit le fichier dans le fichier d’entrée.</span><span class="sxs-lookup"><span data-stu-id="c45e4-277">If **-ToFile** is not supplied when you use **-Update**, *Mage.exe* will write the file back to the input file.</span></span>|
|<span data-ttu-id="c45e4-278">**-tr, -TrustLevel** `level`</span><span class="sxs-lookup"><span data-stu-id="c45e4-278">**-tr, -TrustLevel** `level`</span></span>|<span data-ttu-id="c45e4-279">Selon la zone dans laquelle réside l'URL de l'application.</span><span class="sxs-lookup"><span data-stu-id="c45e4-279">Based on the zone in which the application URL resides.</span></span>|<span data-ttu-id="c45e4-280">Manifestes d'application.</span><span class="sxs-lookup"><span data-stu-id="c45e4-280">Application manifests.</span></span>|<span data-ttu-id="c45e4-281">Niveau de confiance à accorder à l'application sur les ordinateurs clients.</span><span class="sxs-lookup"><span data-stu-id="c45e4-281">The level of trust to grant the application on client computers.</span></span> <span data-ttu-id="c45e4-282">Les valeurs possibles sont "Internet", "Intranet" et "FullTrust".</span><span class="sxs-lookup"><span data-stu-id="c45e4-282">Values include "Internet", "Intranet", and "FullTrust".</span></span>|
|<span data-ttu-id="c45e4-283">**-um, -UseManifestForTrust** `willUseForTrust`</span><span class="sxs-lookup"><span data-stu-id="c45e4-283">**-um, -UseManifestForTrust** `willUseForTrust`</span></span>|<span data-ttu-id="c45e4-284">False</span><span class="sxs-lookup"><span data-stu-id="c45e4-284">False</span></span>|<span data-ttu-id="c45e4-285">Manifestes d'application.</span><span class="sxs-lookup"><span data-stu-id="c45e4-285">Application manifests.</span></span>|<span data-ttu-id="c45e4-286">Spécifie si la signature numérique du manifeste d'application sera utilisée pour prendre des décisions d'approbation lorsque l'application s'exécute sur le client.</span><span class="sxs-lookup"><span data-stu-id="c45e4-286">Specifies whether the digital signature of the application manifest will be used for making trust decisions when the application runs on the client.</span></span> <span data-ttu-id="c45e4-287">Spécifier "true" ou "t" indique que le manifeste d'application sera utilisé pour les décisions d'approbation.</span><span class="sxs-lookup"><span data-stu-id="c45e4-287">Specifying "true" or "t" indicates that the application manifest will be used for trust decisions.</span></span> <span data-ttu-id="c45e4-288">Spécifier "false" ou "f" indique que la signature du manifeste de déploiement sera utilisée.</span><span class="sxs-lookup"><span data-stu-id="c45e4-288">Specifying "false" or "f" indicates that the signature of the deployment manifest will be used.</span></span>|
|<span data-ttu-id="c45e4-289">**-v, -Version** `versionNumber`</span><span class="sxs-lookup"><span data-stu-id="c45e4-289">**-v, -Version** `versionNumber`</span></span>|<span data-ttu-id="c45e4-290">1.0.0.0</span><span class="sxs-lookup"><span data-stu-id="c45e4-290">1.0.0.0</span></span>|<span data-ttu-id="c45e4-291">Manifestes d'application.</span><span class="sxs-lookup"><span data-stu-id="c45e4-291">Application manifests.</span></span><br /><br /> <span data-ttu-id="c45e4-292">Manifestes de déploiement.</span><span class="sxs-lookup"><span data-stu-id="c45e4-292">Deployment manifests.</span></span>|<span data-ttu-id="c45e4-293">Version du déploiement.</span><span class="sxs-lookup"><span data-stu-id="c45e4-293">The version of the deployment.</span></span> <span data-ttu-id="c45e4-294">L’argument doit être une chaîne de version valide au format «*N.N.N.N*», où «*N*» est un entier 32 bits non signé.</span><span class="sxs-lookup"><span data-stu-id="c45e4-294">The argument must be a valid version string of the format "*N.N.N.N*", where "*N*" is an unsigned 32-bit integer.</span></span>|
|<span data-ttu-id="c45e4-295">**-wpf, -WPFBrowserApp**  `isWPFApp`</span><span class="sxs-lookup"><span data-stu-id="c45e4-295">**-wpf, -WPFBrowserApp**  `isWPFApp`</span></span>|<span data-ttu-id="c45e4-296">false</span><span class="sxs-lookup"><span data-stu-id="c45e4-296">false</span></span>|<span data-ttu-id="c45e4-297">Manifestes d'application.</span><span class="sxs-lookup"><span data-stu-id="c45e4-297">Application manifests.</span></span><br /><br /> <span data-ttu-id="c45e4-298">Manifestes de déploiement.</span><span class="sxs-lookup"><span data-stu-id="c45e4-298">Deployment manifests.</span></span>|<span data-ttu-id="c45e4-299">Utilisez cet indicateur uniquement si l'application est une application Windows Presentation Foundation (WPF) qui sera hébergée dans Internet Explorer et n'est pas un exécutable autonome.</span><span class="sxs-lookup"><span data-stu-id="c45e4-299">Use this flag only if the application is a Windows Presentation Foundation (WPF) application that will be hosted inside of Internet Explorer, and is not a stand-alone executable.</span></span> <span data-ttu-id="c45e4-300">Les valeurs valides sont "true" ou "t", et "false" ou "f".</span><span class="sxs-lookup"><span data-stu-id="c45e4-300">Valid values are "true" or "t", and "false" or "f".</span></span><br /><br /> <span data-ttu-id="c45e4-301">Pour les manifestes d'application, insère l'attribut `hostInBrowser` sous l'élément `entryPoint` du manifeste d'application.</span><span class="sxs-lookup"><span data-stu-id="c45e4-301">For application manifests, inserts the `hostInBrowser` attribute under the `entryPoint` element of the application manifest.</span></span><br /><br /> <span data-ttu-id="c45e4-302">Pour les manifestes de déploiement, affecte la valeur false à l'attribut `install` sur l'élément `deployment` et enregistre le manifeste de déploiement avec une extension .xbap.</span><span class="sxs-lookup"><span data-stu-id="c45e4-302">For deployment manifests, sets the `install` attribute on the `deployment` element to false, and saves the deployment manifest with a .xbap extension.</span></span> <span data-ttu-id="c45e4-303">La spécification de cet argument avec l’argument **-Install** génère une erreur car une application hébergée par le navigateur ne peut pas être une application hors ligne installée.</span><span class="sxs-lookup"><span data-stu-id="c45e4-303">Specifying this argument along with the **-Install** argument produces an error, because a browser-hosted application cannot be an installed, offline application.</span></span>|

## <a name="sign-command-options"></a><span data-ttu-id="c45e4-304">Options de la commande Sign</span><span class="sxs-lookup"><span data-stu-id="c45e4-304">Sign command options</span></span>

<span data-ttu-id="c45e4-305">Le tableau suivant affiche les options prises en charge par la commande `-Sign` applicables à tous les types de fichiers.</span><span class="sxs-lookup"><span data-stu-id="c45e4-305">The following table shows the options supported by the `-Sign` command, which apply to all types of files.</span></span>

|<span data-ttu-id="c45e4-306">Options</span><span class="sxs-lookup"><span data-stu-id="c45e4-306">Options</span></span>|<span data-ttu-id="c45e4-307">Description</span><span class="sxs-lookup"><span data-stu-id="c45e4-307">Description</span></span>|
|-------------|-----------------|
|<span data-ttu-id="c45e4-308">**-cf, -CertFile** `filePath`</span><span class="sxs-lookup"><span data-stu-id="c45e4-308">**-cf, -CertFile** `filePath`</span></span>|<span data-ttu-id="c45e4-309">Spécifie l'emplacement d'un certificat numérique servant à signer un manifeste.</span><span class="sxs-lookup"><span data-stu-id="c45e4-309">Specifies The location of a digital certificate for signing a manifest.</span></span> <span data-ttu-id="c45e4-310">Vous pouvez utiliser cette option avec l’option **-Password** si le certificat exige un mot de passe pour les fichiers PFX (Personal Information Exchange).</span><span class="sxs-lookup"><span data-stu-id="c45e4-310">This option can be used in conjunction with the **-Password** option if the certificate requires a password for Personal Information Exchange (PFX) files.</span></span> <span data-ttu-id="c45e4-311">À partir de .NET Framework 4.7, si le fichier ne contient pas de clé privée, l’association des options **- CryptoProvider** et **- KeyContainer** est obligatoire.</span><span class="sxs-lookup"><span data-stu-id="c45e4-311">Starting with .NET Framework 4.7, if the file does not contain a private key, a combination of the **-CryptoProvider** and **-KeyContainer** options is required.</span></span><br/><br/><span data-ttu-id="c45e4-312">À partir de .NET Framework 4.6.2, *Mage.exe* signes les manifestes avec des certificats CNG et CAPI.</span><span class="sxs-lookup"><span data-stu-id="c45e4-312">Starting with .NET Framework 4.6.2, *Mage.exe* signs manifests with CNG as well as CAPI certificates.</span></span>|
|<span data-ttu-id="c45e4-313">**-ch, -CertHash** `hashSignature`</span><span class="sxs-lookup"><span data-stu-id="c45e4-313">**-ch, -CertHash** `hashSignature`</span></span>|<span data-ttu-id="c45e4-314">Hachage d'un certificat numérique stocké dans le magasin de certificats personnel de l'ordinateur client.</span><span class="sxs-lookup"><span data-stu-id="c45e4-314">The hash of a digital certificate stored in the personal certificate store of the client computer.</span></span> <span data-ttu-id="c45e4-315">Il correspond à la propriété d'empreinte numérique d'un certificat numérique affiché dans la console Certificats Windows.</span><span class="sxs-lookup"><span data-stu-id="c45e4-315">This corresponds to the Thumbprint property of a digital certificate viewed in the Windows Certificates Console.</span></span><br /><br /> <span data-ttu-id="c45e4-316">`hashSignature` peut être en majuscules ou en minuscules et fourni en tant que chaîne unique ou avec chaque octet de l'empreinte numérique séparé par des espaces et l'empreinte numérique complète entre guillemets.</span><span class="sxs-lookup"><span data-stu-id="c45e4-316">`hashSignature` can be either uppercase or lowercase, and can be supplied either as a single string or with each octet of the Thumbprint separated by spaces and the entire Thumbprint enclosed in quotation marks.</span></span>|
<span data-ttu-id="c45e4-317">**-csp, -CryptoProvider** `provider-name`</span><span class="sxs-lookup"><span data-stu-id="c45e4-317">**-csp, -CryptoProvider** `provider-name`</span></span>|<span data-ttu-id="c45e4-318">Spécifie le nom d’un fournisseur de services de chiffrement (CSP) contenant le conteneur de clés privées.</span><span class="sxs-lookup"><span data-stu-id="c45e4-318">Specifies the name of a cryptographic service provider (CSP) that contains the private key container.</span></span> <span data-ttu-id="c45e4-319">L’option **- KeyContainer** est requise.</span><span class="sxs-lookup"><span data-stu-id="c45e4-319">This option requires the **-KeyContainer** option.</span></span><br/><br/><span data-ttu-id="c45e4-320">Disponible à partir de .NET Framework 4.7.</span><span class="sxs-lookup"><span data-stu-id="c45e4-320">This option is available starting with .NET Framework 4.7.</span></span>|
|<span data-ttu-id="c45e4-321">**-kc, -KeyContainer** `name`</span><span class="sxs-lookup"><span data-stu-id="c45e4-321">**-kc, -KeyContainer** `name`</span></span>|<span data-ttu-id="c45e4-322">Spécifie le conteneur de clés contenant le nom de la clé privée.</span><span class="sxs-lookup"><span data-stu-id="c45e4-322">Specifies the key container that contains the name of the private key.</span></span> <span data-ttu-id="c45e4-323">L’option **CryptoProvider** est nécessaire.</span><span class="sxs-lookup"><span data-stu-id="c45e4-323">This option requires the **CryptoProvider** option.</span></span><br/><br/><span data-ttu-id="c45e4-324">Disponible à partir de .NET Framework 4.7.</span><span class="sxs-lookup"><span data-stu-id="c45e4-324">This option is available starting with .NET Framework 4.7.</span></span>|
|<span data-ttu-id="c45e4-325">**-pwd, -Password** `passwd`</span><span class="sxs-lookup"><span data-stu-id="c45e4-325">**-pwd, -Password** `passwd`</span></span>|<span data-ttu-id="c45e4-326">Mot de passe utilisé pour signer un manifeste avec un certificat numérique.</span><span class="sxs-lookup"><span data-stu-id="c45e4-326">The password that is used for signing a manifest with a digital certificate.</span></span> <span data-ttu-id="c45e4-327">Cette option doit être utilisée conjointement avec l’option **-CertFile** .</span><span class="sxs-lookup"><span data-stu-id="c45e4-327">Must be used in conjunction with the **-CertFile** option.</span></span>|
|<span data-ttu-id="c45e4-328">**-t, -ToFile** `filePath`</span><span class="sxs-lookup"><span data-stu-id="c45e4-328">**-t, -ToFile** `filePath`</span></span>|<span data-ttu-id="c45e4-329">Spécifie le chemin de sortie du fichier créé ou modifié.</span><span class="sxs-lookup"><span data-stu-id="c45e4-329">Specifies the output path of the file that has been created or modified.</span></span>|

## <a name="remarks"></a><span data-ttu-id="c45e4-330">Notes</span><span class="sxs-lookup"><span data-stu-id="c45e4-330">Remarks</span></span>

<span data-ttu-id="c45e4-331">Tous les arguments passés à *Mage.exe* ne respectent pas la casse.</span><span class="sxs-lookup"><span data-stu-id="c45e4-331">All arguments to *Mage.exe* are case-insensitive.</span></span> <span data-ttu-id="c45e4-332">Les commandes et options peuvent être précédées d'un tiret (-) ou d'une barre oblique (/).</span><span class="sxs-lookup"><span data-stu-id="c45e4-332">Commands and options can be prefixed with a dash (-) or a forward slash (/).</span></span>

<span data-ttu-id="c45e4-333">Tous les arguments utilisés avec la commande **-Sign** peuvent être toujours utilisés avec les commandes **-New** ou **-Update** .</span><span class="sxs-lookup"><span data-stu-id="c45e4-333">All of the arguments used with the **-Sign** command can be used at any time with the **-New** or **-Update** commands as well.</span></span> <span data-ttu-id="c45e4-334">Les commandes suivantes sont équivalentes.</span><span class="sxs-lookup"><span data-stu-id="c45e4-334">The following commands are equivalent.</span></span>

```console
mage -Sign c:\HelloWorldDeployment\HelloWorld.deploy -CertFile cert.pfx
mage -Update c:\HelloWorldDeployment\HelloWorld.deploy -CertFile cert.pfx
```

> [!NOTE]
> <span data-ttu-id="c45e4-335">À compter de la version 4.6.2 du .NET Framework, les certificats CNG sont également pris en charge.</span><span class="sxs-lookup"><span data-stu-id="c45e4-335">Beginning with .NET Framework version 4.6.2, CNG certificates are also supported.</span></span>

 <span data-ttu-id="c45e4-336">La signature est la dernière tâche à effectuer, car un document signé utilise un hachage du fichier afin de vérifier la validité de la signature pour le document.</span><span class="sxs-lookup"><span data-stu-id="c45e4-336">Signing is the last task you should perform, because a signed document uses a hash of the file to verify that the signature is valid for the document.</span></span> <span data-ttu-id="c45e4-337">Si vous modifiez d'une quelconque façon un fichier signé, vous devez le signer de nouveau.</span><span class="sxs-lookup"><span data-stu-id="c45e4-337">If you make any changes to a signed file, you must sign it again.</span></span> <span data-ttu-id="c45e4-338">Si vous signez un document déjà signé, *Mage.exe* remplace la signature précédente par la nouvelle.</span><span class="sxs-lookup"><span data-stu-id="c45e4-338">If you sign a document that was previously signed, *Mage.exe* will replace the old signature with the new.</span></span>

 <span data-ttu-id="c45e4-339">Quand vous utilisez l’option **-AppManifest** pour remplir un manifeste de déploiement, *Mage.exe* part du principe que votre manifeste d’application va se trouver dans le même répertoire que le manifeste de déploiement, dans un sous-répertoire nommé d’après la version du déploiement actuel, et il configure votre manifeste de déploiement de façon appropriée.</span><span class="sxs-lookup"><span data-stu-id="c45e4-339">When you use the **-AppManifest** option to populate a deployment manifest, *Mage.exe* will assume that your application manifest will reside in the same directory as the deployment manifest within a subdirectory named after the current deployment version, and will configure your deployment manifest appropriately.</span></span> <span data-ttu-id="c45e4-340">Si votre manifeste d’application doit se trouver ailleurs, utilisez l’option **-AppCodeBase** pour définir l’autre emplacement.</span><span class="sxs-lookup"><span data-stu-id="c45e4-340">If your application manifest will reside elsewhere, use the **-AppCodeBase** option to set the alternate location.</span></span>

 <span data-ttu-id="c45e4-341">Vos manifestes de déploiement et de l'application doivent être signés avant de déployer votre application.</span><span class="sxs-lookup"><span data-stu-id="c45e4-341">Your deployment and application manifest must be signed before you deploy your application.</span></span> <span data-ttu-id="c45e4-342">Pour obtenir des instructions sur la signature des manifestes, consultez [Trusted Application Deployment Overview](/visualstudio/deployment/trusted-application-deployment-overview).</span><span class="sxs-lookup"><span data-stu-id="c45e4-342">For guidance about signing manifests, see [Trusted Application Deployment Overview](/visualstudio/deployment/trusted-application-deployment-overview).</span></span>

 <span data-ttu-id="c45e4-343">L’option **-TrustLevel** pour les manifestes d’application décrit le jeu d’autorisations dont une application a besoin pour s’exécuter sur l’ordinateur client.</span><span class="sxs-lookup"><span data-stu-id="c45e4-343">The **-TrustLevel** option for application manifests describes the permission set an application requires to run on the client computer.</span></span> <span data-ttu-id="c45e4-344">Par défaut, un niveau de confiance basé sur la *zone* dans laquelle leur URL réside est assigné aux applications.</span><span class="sxs-lookup"><span data-stu-id="c45e4-344">By default, applications are assigned a trust level based on the *zone* in which their URL resides.</span></span> <span data-ttu-id="c45e4-345">Les applications déployées sur un réseau d'entreprise sont généralement placées dans la zone Intranet tandis que celles déployées sur Internet sont placées dans la zone Internet.</span><span class="sxs-lookup"><span data-stu-id="c45e4-345">Applications deployed over a corporate network are generally placed in the Intranet zone, while those deployed over the Internet are placed in the Internet zone.</span></span> <span data-ttu-id="c45e4-346">Les deux zones de sécurité placent des restrictions sur l'accès de l'application aux ressources locales, la zone Intranet étant un peu moins stricte que la zone Internet.</span><span class="sxs-lookup"><span data-stu-id="c45e4-346">Both security zones place restrictions on the application's access to local resources, with the Intranet zone slightly more permissive than the Internet zone.</span></span> <span data-ttu-id="c45e4-347">La zone FullTrust donne aux applications l'accès complet aux ressources locales d'un ordinateur.</span><span class="sxs-lookup"><span data-stu-id="c45e4-347">The FullTrust zone gives applications complete access to a computer's local resources.</span></span> <span data-ttu-id="c45e4-348">Si vous utilisez l’option **-TrustLevel** pour placer une application dans cette zone, le composant Gestionnaire de confiance du CLR demande à l’utilisateur s’il veut accorder ce niveau de confiance plus élevé.</span><span class="sxs-lookup"><span data-stu-id="c45e4-348">If you use the **-TrustLevel** option to place an application in this zone, the Trust Manager component of the CLR will prompt the user to decide whether he or she wants to grant this higher level of trust.</span></span> <span data-ttu-id="c45e4-349">Si vous déployez votre application sur un réseau d'entreprise, vous pouvez utiliser le déploiement d'applications approuvées pour élever le niveau de confiance de l'application sans affichage d'une invite utilisateur.</span><span class="sxs-lookup"><span data-stu-id="c45e4-349">If you are deploying your application over a corporate network, you can use Trusted Application Deployment to raise the trust level of the application without prompting the user.</span></span>

 <span data-ttu-id="c45e4-350">Les manifestes d'application prennent également en charge des sections Trust personnalisées.</span><span class="sxs-lookup"><span data-stu-id="c45e4-350">Application manifests also support custom trust sections.</span></span> <span data-ttu-id="c45e4-351">Cela permet à votre application de respecter le principe de sécurité qui consiste à accorder des autorisations minimales. Vous pouvez ainsi configurer le manifeste pour demander uniquement les autorisations nécessaires à l'exécution de l'application.</span><span class="sxs-lookup"><span data-stu-id="c45e4-351">This helps your application obey the security principle of requesting least permission, as you can configure the manifest to demand only those specific permissions that the application requires in order to execute.</span></span> <span data-ttu-id="c45e4-352">*Mage.exe* ne prend pas directement en charge l’ajout d’une section Trust personnalisée.</span><span class="sxs-lookup"><span data-stu-id="c45e4-352">*Mage.exe* does not directly support adding a custom trust section.</span></span> <span data-ttu-id="c45e4-353">Vous pouvez en ajouter une à l’aide d’un éditeur de texte, d’un analyseur XML ou de l’outil graphique *MageUI.exe*.</span><span class="sxs-lookup"><span data-stu-id="c45e4-353">You can add one using a text editor, an XML parser, or the graphical tool *MageUI.exe*.</span></span> <span data-ttu-id="c45e4-354">Pour plus d’informations sur l’utilisation de *MageUI.exe* pour ajouter des sections Trust personnalisées, consultez [MageUI.exe (Manifest Generation and Editing Tool, Graphical Client)](mageui-exe-manifest-generation-and-editing-tool-graphical-client.md).</span><span class="sxs-lookup"><span data-stu-id="c45e4-354">For more information about how to use *MageUI.exe* to add custom trust sections, see [MageUI.exe (Manifest Generation and Editing Tool, Graphical Client)](mageui-exe-manifest-generation-and-editing-tool-graphical-client.md).</span></span>

<span data-ttu-id="c45e4-355">Visual Studio 2017 inclut la version 4.6.1 de *Mage.exe*.</span><span class="sxs-lookup"><span data-stu-id="c45e4-355">Visual Studio 2017 includes version 4.6.1 of *Mage.exe*.</span></span> <span data-ttu-id="c45e4-356">Les manifestes créés avec cette version de *Mage.exe* ciblent .NET Framework 4.</span><span class="sxs-lookup"><span data-stu-id="c45e4-356">Manifests created with this version of *Mage.exe* target .NET Framework 4.</span></span> <span data-ttu-id="c45e4-357">Pour cibler des versions antérieures du .NET Framework, utilisez une version antérieure de *Mage.exe*.</span><span class="sxs-lookup"><span data-stu-id="c45e4-357">To target older versions of the .NET Framework, use an earlier version of *Mage.exe*.</span></span>

<span data-ttu-id="c45e4-358">Lors de l’ajout ou de la suppression d’assemblys dans un manifeste existant, ou lors de la nouvelle signature d’un manifeste existant, *Mage.exe* ne met pas à jour le manifeste pour cibler .NET Framework 4.</span><span class="sxs-lookup"><span data-stu-id="c45e4-358">When you add or remove assemblies from an existing manifest, or re-sign an existing manifest, *Mage.exe* does not update the manifest to target .NET Framework 4.</span></span>

<span data-ttu-id="c45e4-359">Les tableaux suivants contiennent ces fonctionnalités et restrictions :</span><span class="sxs-lookup"><span data-stu-id="c45e4-359">The following tables show these features and restrictions:</span></span>

|<span data-ttu-id="c45e4-360">Version du manifeste</span><span class="sxs-lookup"><span data-stu-id="c45e4-360">Manifest version</span></span>|<span data-ttu-id="c45e4-361">Opération</span><span class="sxs-lookup"><span data-stu-id="c45e4-361">Operation</span></span>|<span data-ttu-id="c45e4-362">Mage v2.0</span><span class="sxs-lookup"><span data-stu-id="c45e4-362">Mage v2.0</span></span>|<span data-ttu-id="c45e4-363">Mage v4.0</span><span class="sxs-lookup"><span data-stu-id="c45e4-363">Mage v4.0</span></span>|
|----------------------|---------------|---------------|---------------|
|<span data-ttu-id="c45e4-364">Manifeste pour les applications qui ciblent la version 2.0 ou 3.x du .NET Framework</span><span class="sxs-lookup"><span data-stu-id="c45e4-364">Manifest for applications targeting version 2.0 or 3.x of the .NET Framework</span></span>|<span data-ttu-id="c45e4-365">Ouvrir</span><span class="sxs-lookup"><span data-stu-id="c45e4-365">Open</span></span>|<span data-ttu-id="c45e4-366">OK</span><span class="sxs-lookup"><span data-stu-id="c45e4-366">OK</span></span>|<span data-ttu-id="c45e4-367">OK</span><span class="sxs-lookup"><span data-stu-id="c45e4-367">OK</span></span>|
||<span data-ttu-id="c45e4-368">Fermer</span><span class="sxs-lookup"><span data-stu-id="c45e4-368">Close</span></span>|<span data-ttu-id="c45e4-369">OK</span><span class="sxs-lookup"><span data-stu-id="c45e4-369">OK</span></span>|<span data-ttu-id="c45e4-370">OK</span><span class="sxs-lookup"><span data-stu-id="c45e4-370">OK</span></span>|
||<span data-ttu-id="c45e4-371">Enregistrer</span><span class="sxs-lookup"><span data-stu-id="c45e4-371">Save</span></span>|<span data-ttu-id="c45e4-372">OK</span><span class="sxs-lookup"><span data-stu-id="c45e4-372">OK</span></span>|<span data-ttu-id="c45e4-373">OK</span><span class="sxs-lookup"><span data-stu-id="c45e4-373">OK</span></span>|
||<span data-ttu-id="c45e4-374">Nouvelle signature</span><span class="sxs-lookup"><span data-stu-id="c45e4-374">Re-sign</span></span>|<span data-ttu-id="c45e4-375">OK</span><span class="sxs-lookup"><span data-stu-id="c45e4-375">OK</span></span>|<span data-ttu-id="c45e4-376">OK</span><span class="sxs-lookup"><span data-stu-id="c45e4-376">OK</span></span>|
||<span data-ttu-id="c45e4-377">Nouveau</span><span class="sxs-lookup"><span data-stu-id="c45e4-377">New</span></span>|<span data-ttu-id="c45e4-378">OK</span><span class="sxs-lookup"><span data-stu-id="c45e4-378">OK</span></span>|<span data-ttu-id="c45e4-379">Non pris en charge</span><span class="sxs-lookup"><span data-stu-id="c45e4-379">Not supported</span></span>|
||<span data-ttu-id="c45e4-380">Mise à jour (voir ci-dessous)</span><span class="sxs-lookup"><span data-stu-id="c45e4-380">Update (see below)</span></span>|<span data-ttu-id="c45e4-381">OK</span><span class="sxs-lookup"><span data-stu-id="c45e4-381">OK</span></span>|<span data-ttu-id="c45e4-382">OK</span><span class="sxs-lookup"><span data-stu-id="c45e4-382">OK</span></span>|
|<span data-ttu-id="c45e4-383">Manifeste pour les applications qui ciblent la version 4 du .NET Framework</span><span class="sxs-lookup"><span data-stu-id="c45e4-383">Manifest for applications targeting version 4 of the .NET Framework</span></span>|<span data-ttu-id="c45e4-384">Ouvrir</span><span class="sxs-lookup"><span data-stu-id="c45e4-384">Open</span></span>|<span data-ttu-id="c45e4-385">OK</span><span class="sxs-lookup"><span data-stu-id="c45e4-385">OK</span></span>|<span data-ttu-id="c45e4-386">OK</span><span class="sxs-lookup"><span data-stu-id="c45e4-386">OK</span></span>|
||<span data-ttu-id="c45e4-387">Fermer</span><span class="sxs-lookup"><span data-stu-id="c45e4-387">Close</span></span>|<span data-ttu-id="c45e4-388">OK</span><span class="sxs-lookup"><span data-stu-id="c45e4-388">OK</span></span>|<span data-ttu-id="c45e4-389">OK</span><span class="sxs-lookup"><span data-stu-id="c45e4-389">OK</span></span>|
||<span data-ttu-id="c45e4-390">Enregistrer</span><span class="sxs-lookup"><span data-stu-id="c45e4-390">Save</span></span>|<span data-ttu-id="c45e4-391">OK</span><span class="sxs-lookup"><span data-stu-id="c45e4-391">OK</span></span>|<span data-ttu-id="c45e4-392">OK</span><span class="sxs-lookup"><span data-stu-id="c45e4-392">OK</span></span>|
||<span data-ttu-id="c45e4-393">Nouvelle signature</span><span class="sxs-lookup"><span data-stu-id="c45e4-393">Re-sign</span></span>|<span data-ttu-id="c45e4-394">OK</span><span class="sxs-lookup"><span data-stu-id="c45e4-394">OK</span></span>|<span data-ttu-id="c45e4-395">OK</span><span class="sxs-lookup"><span data-stu-id="c45e4-395">OK</span></span>|
||<span data-ttu-id="c45e4-396">Nouveau</span><span class="sxs-lookup"><span data-stu-id="c45e4-396">New</span></span>|<span data-ttu-id="c45e4-397">Non pris en charge</span><span class="sxs-lookup"><span data-stu-id="c45e4-397">Not supported</span></span>|<span data-ttu-id="c45e4-398">OK</span><span class="sxs-lookup"><span data-stu-id="c45e4-398">OK</span></span>|
||<span data-ttu-id="c45e4-399">Mise à jour (voir ci-dessous)</span><span class="sxs-lookup"><span data-stu-id="c45e4-399">Update (see below)</span></span>|<span data-ttu-id="c45e4-400">Non pris en charge</span><span class="sxs-lookup"><span data-stu-id="c45e4-400">Not supported</span></span>|<span data-ttu-id="c45e4-401">OK</span><span class="sxs-lookup"><span data-stu-id="c45e4-401">OK</span></span>|

|<span data-ttu-id="c45e4-402">Version du manifeste</span><span class="sxs-lookup"><span data-stu-id="c45e4-402">Manifest version</span></span>|<span data-ttu-id="c45e4-403">Détails de l'opération de mise à jour</span><span class="sxs-lookup"><span data-stu-id="c45e4-403">Update Operation Details</span></span>|<span data-ttu-id="c45e4-404">Mage v2.0</span><span class="sxs-lookup"><span data-stu-id="c45e4-404">Mage v2.0</span></span>|<span data-ttu-id="c45e4-405">Mage v4.0</span><span class="sxs-lookup"><span data-stu-id="c45e4-405">Mage v4.0</span></span>|
|----------------------|------------------------------|---------------|---------------|
|<span data-ttu-id="c45e4-406">Manifeste pour les applications qui ciblent la version 2.0 ou 3.x du .NET Framework</span><span class="sxs-lookup"><span data-stu-id="c45e4-406">Manifest for applications targeting version 2.0 or 3.x of the .NET Framework</span></span>|<span data-ttu-id="c45e4-407">Modifier un assembly</span><span class="sxs-lookup"><span data-stu-id="c45e4-407">Modify an assembly</span></span>|<span data-ttu-id="c45e4-408">OK</span><span class="sxs-lookup"><span data-stu-id="c45e4-408">OK</span></span>|<span data-ttu-id="c45e4-409">OK</span><span class="sxs-lookup"><span data-stu-id="c45e4-409">OK</span></span>|
||<span data-ttu-id="c45e4-410">Ajouter un assembly</span><span class="sxs-lookup"><span data-stu-id="c45e4-410">Add an assembly</span></span>|<span data-ttu-id="c45e4-411">OK</span><span class="sxs-lookup"><span data-stu-id="c45e4-411">OK</span></span>|<span data-ttu-id="c45e4-412">OK</span><span class="sxs-lookup"><span data-stu-id="c45e4-412">OK</span></span>|
||<span data-ttu-id="c45e4-413">Supprimer un assembly</span><span class="sxs-lookup"><span data-stu-id="c45e4-413">Remove an assembly</span></span>|<span data-ttu-id="c45e4-414">OK</span><span class="sxs-lookup"><span data-stu-id="c45e4-414">OK</span></span>|<span data-ttu-id="c45e4-415">OK</span><span class="sxs-lookup"><span data-stu-id="c45e4-415">OK</span></span>|
|<span data-ttu-id="c45e4-416">Manifeste pour les applications qui ciblent la version 4 du .NET Framework</span><span class="sxs-lookup"><span data-stu-id="c45e4-416">Manifest for applications targeting version 4 of the .NET Framework</span></span>|<span data-ttu-id="c45e4-417">Modifier un assembly</span><span class="sxs-lookup"><span data-stu-id="c45e4-417">Modify an assembly</span></span>|<span data-ttu-id="c45e4-418">Non pris en charge</span><span class="sxs-lookup"><span data-stu-id="c45e4-418">Not supported</span></span>|<span data-ttu-id="c45e4-419">OK</span><span class="sxs-lookup"><span data-stu-id="c45e4-419">OK</span></span>|
||<span data-ttu-id="c45e4-420">Ajouter un assembly</span><span class="sxs-lookup"><span data-stu-id="c45e4-420">Add an assembly</span></span>|<span data-ttu-id="c45e4-421">Non pris en charge</span><span class="sxs-lookup"><span data-stu-id="c45e4-421">Not supported</span></span>|<span data-ttu-id="c45e4-422">OK</span><span class="sxs-lookup"><span data-stu-id="c45e4-422">OK</span></span>|
||<span data-ttu-id="c45e4-423">Supprimer un assembly</span><span class="sxs-lookup"><span data-stu-id="c45e4-423">Remove an assembly</span></span>|<span data-ttu-id="c45e4-424">Non pris en charge</span><span class="sxs-lookup"><span data-stu-id="c45e4-424">Not supported</span></span>|<span data-ttu-id="c45e4-425">OK</span><span class="sxs-lookup"><span data-stu-id="c45e4-425">OK</span></span>|

 <span data-ttu-id="c45e4-426">Mage.exe crée des nouveaux manifestes qui ciblent le [!INCLUDE[net_client_v40_long](../../../includes/net-client-v40-long-md.md)].</span><span class="sxs-lookup"><span data-stu-id="c45e4-426">Mage.exe creates new manifests that target the [!INCLUDE[net_client_v40_long](../../../includes/net-client-v40-long-md.md)].</span></span> <span data-ttu-id="c45e4-427">Les applications ClickOnce qui ciblent le [!INCLUDE[net_client_v40_long](../../../includes/net-client-v40-long-md.md)] peuvent s'exécuter à la fois sur le [!INCLUDE[net_client_v40_long](../../../includes/net-client-v40-long-md.md)] et sur la version complète du .NET Framework 4.</span><span class="sxs-lookup"><span data-stu-id="c45e4-427">ClickOnce applications that target the [!INCLUDE[net_client_v40_long](../../../includes/net-client-v40-long-md.md)] can run on both the [!INCLUDE[net_client_v40_long](../../../includes/net-client-v40-long-md.md)] and the full version of the .NET Framework 4.</span></span> <span data-ttu-id="c45e4-428">Si votre application vise la version complète du .NET Framework 4 et ne peut pas fonctionner sur le [!INCLUDE[net_client_v40_long](../../../includes/net-client-v40-long-md.md)], supprimez l'élément client `<framework>` à l'aide d'un éditeur de texte et signez de nouveau le manifeste.</span><span class="sxs-lookup"><span data-stu-id="c45e4-428">If your application targets the full version of the .NET Framework 4 and cannot run on the [!INCLUDE[net_client_v40_long](../../../includes/net-client-v40-long-md.md)], remove the client `<framework>` element by using a text editor and re-sign the manifest.</span></span>

<span data-ttu-id="c45e4-429">Voici un exemple d’élément `<framework>` qui cible le [!INCLUDE[net_client_v40_long](../../../includes/net-client-v40-long-md.md)] :</span><span class="sxs-lookup"><span data-stu-id="c45e4-429">The following is a sample `<framework>` element that targets the [!INCLUDE[net_client_v40_long](../../../includes/net-client-v40-long-md.md)]:</span></span>

```xml
<framework targetVersion="4.0" profile="client" supportedRuntime="4.0.20506" />
```

## <a name="examples"></a><span data-ttu-id="c45e4-430">Exemples</span><span class="sxs-lookup"><span data-stu-id="c45e4-430">Examples</span></span>

<span data-ttu-id="c45e4-431">L’exemple suivant ouvre l’interface utilisateur de Mage (*MageUI.exe*).</span><span class="sxs-lookup"><span data-stu-id="c45e4-431">The following example opens the user interface for Mage (*MageUI.exe*).</span></span>

```console
mage
```

<span data-ttu-id="c45e4-432">Les exemples suivants créent un manifeste de déploiement et un manifeste d'application par défaut.</span><span class="sxs-lookup"><span data-stu-id="c45e4-432">The following examples create a default deployment manifest and application manifest.</span></span> <span data-ttu-id="c45e4-433">Ces fichiers sont tous créés dans le répertoire de travail en cours et ils sont nommés respectivement deploy.application et application.exe.manifest.</span><span class="sxs-lookup"><span data-stu-id="c45e4-433">These files are all created in the current working directory and are named deploy.application and application.exe.manifest, respectively.</span></span>

```console
mage -New Deployment
mage -New Application
```

<span data-ttu-id="c45e4-434">L’exemple suivant crée un manifeste d’application contenant tous les assemblys et fichiers de ressources du répertoire actif.</span><span class="sxs-lookup"><span data-stu-id="c45e4-434">The following example creates an application manifest populated with all of the assemblies and resource files from the current directory.</span></span>

```console
mage -New Application -FromDirectory . -Version 1.0.0.0
```

<span data-ttu-id="c45e4-435">L'exemple suivant prend la suite de l'exemple précédent en spécifiant le nom du déploiement et le microprocesseur cible.</span><span class="sxs-lookup"><span data-stu-id="c45e4-435">The following example continues the previous example by specifying the deployment name and target microprocessor.</span></span> <span data-ttu-id="c45e4-436">Il spécifie également une URL en fonction de laquelle ClickOnce doit rechercher des mises à jour.</span><span class="sxs-lookup"><span data-stu-id="c45e4-436">It also specifies a URL against which ClickOnce should check for updates.</span></span>

```console
mage -New Application -FromDirectory . -Name "Hello, World! Application" -Version 1.0.0.0 -Processor "x86" -ProviderUrl http://internalserver/HelloWorld/
```

<span data-ttu-id="c45e4-437">L'exemple suivant montre comment créer une paire de manifestes pour déployer une application WPF qui sera hébergée dans Internet Explorer.</span><span class="sxs-lookup"><span data-stu-id="c45e4-437">The following example demonstrates how to create a pair of manifests for deploying a WPF application that will be hosted in Internet Explorer.</span></span>

```console
mage -New Application -FromDirectory . -Version 1.0.0.0 -WPFBrowserApp true
mage -New Deployment -AppManifest 1.0.0.0\application.manifest -WPFBrowserApp true
```

<span data-ttu-id="c45e4-438">L’exemple suivant crée un manifeste d’application contenant tous les assemblys et fichiers de ressources du répertoire actif et signe.</span><span class="sxs-lookup"><span data-stu-id="c45e4-438">The following example creates an application manifest populated with all of the assemblies and resource files from the current directory and signs.</span></span>

```console
mage -New Application -FromDirectory . -Version 1.0.0.0 -KeyContainer keypair.snk -CryptoProvider "Microsoft Enhanced Cryptographic Provider v1.0"
```

<span data-ttu-id="c45e4-439">L'exemple suivant met à jour un manifeste de déploiement avec les informations d'un manifeste d'application et définit la base de code pour l'emplacement du manifeste d'application.</span><span class="sxs-lookup"><span data-stu-id="c45e4-439">The following example updates a deployment manifest with information from an application manifest, and sets the code base for the location of the application manifest.</span></span>

```console
mage -Update HelloWorld.deploy -AppManifest 1.0.0.0\application.manifest -AppCodeBase http://internalserver/HelloWorld.deploy
```

<span data-ttu-id="c45e4-440">L'exemple suivant modifie le manifeste de déploiement pour forcer une mise à jour de la version installée de l'utilisateur.</span><span class="sxs-lookup"><span data-stu-id="c45e4-440">The following example edits the deployment manifest to force an update of the user's installed version.</span></span>

```console
mage -Update c:\HelloWorldDeployment\HelloWorld.deploy -MinVersion 1.1.0.0
```

<span data-ttu-id="c45e4-441">L'exemple suivant indique au manifeste de déploiement de récupérer le manifeste d'application d'un autre répertoire.</span><span class="sxs-lookup"><span data-stu-id="c45e4-441">The following example tells the deployment manifest to retrieve the application manifest from another directory.</span></span>

```console
mage -Update HelloWorld.deploy -AppCodeBase http://anotherserver/HelloWorld/1.1.0.0/
```

<span data-ttu-id="c45e4-442">L'exemple suivant signe un manifeste de déploiement existant à l'aide d'un certificat numérique dans le répertoire de travail actif.</span><span class="sxs-lookup"><span data-stu-id="c45e4-442">The following example signs an existing deployment manifest using a digital certificate in the current working directory.</span></span>

```console
mage -Sign deploy.application -CertFile cert.pfx -Password <passwd>
```

<span data-ttu-id="c45e4-443">L'exemple suivant signe un manifeste de déploiement existant à l'aide d'un certificat numérique et d’une clé privée dans le répertoire de travail actif.</span><span class="sxs-lookup"><span data-stu-id="c45e4-443">The following example signs an existing deployment manifest using a digital certificate and private key in the current working directory.</span></span>

```console
mage -Sign deploy.application -CertFile cert.pfx -KeyContainer keyfile.snk -CryptoProvider "Microsoft Enhanced Cryptographic Provider v1.0"
```

## <a name="see-also"></a><span data-ttu-id="c45e4-444">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="c45e4-444">See also</span></span>

- [<span data-ttu-id="c45e4-445">Sécurité et déploiement ClickOnce</span><span class="sxs-lookup"><span data-stu-id="c45e4-445">ClickOnce Security and Deployment</span></span>](/visualstudio/deployment/clickonce-security-and-deployment)
- [<span data-ttu-id="c45e4-446">Procédure pas à pas : déploiement manuel d’une application ClickOnce</span><span class="sxs-lookup"><span data-stu-id="c45e4-446">Walkthrough: Manually Deploying a ClickOnce Application</span></span>](/visualstudio/deployment/walkthrough-manually-deploying-a-clickonce-application)
- [<span data-ttu-id="c45e4-447">Vue d’ensemble du déploiement d’applications approuvées</span><span class="sxs-lookup"><span data-stu-id="c45e4-447">Trusted Application Deployment Overview</span></span>](/visualstudio/deployment/trusted-application-deployment-overview)
- [<span data-ttu-id="c45e4-448">MageUI.exe (outil Manifest Generation and Editing, client graphique)</span><span class="sxs-lookup"><span data-stu-id="c45e4-448">MageUI.exe (Manifest Generation and Editing Tool, Graphical Client)</span></span>](mageui-exe-manifest-generation-and-editing-tool-graphical-client.md)
- [<span data-ttu-id="c45e4-449">Invites de commandes</span><span class="sxs-lookup"><span data-stu-id="c45e4-449">Command Prompts</span></span>](developer-command-prompt-for-vs.md)
