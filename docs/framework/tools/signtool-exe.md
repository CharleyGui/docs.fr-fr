---
title: SignTool.exe (outil Sign Tool)
description: En savoir plus sur SignTool.exe, l’outil Sign. Cet outil de ligne de commande signe numériquement les fichiers, vérifie les signatures dans les fichiers et applique les horodateurs aux fichiers.
ms.date: 03/30/2017
helpviewer_keywords:
- Sign tool
- SignTool.exe
ms.assetid: 0c25ff6c-bff3-422e-b017-146a3ee86cb9
ms.openlocfilehash: ff330691483b56740ee72e280c1471af4282c638
ms.sourcegitcommit: 74d05613d6c57106f83f82ce8ee71176874ea3f0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 11/03/2020
ms.locfileid: "93282242"
---
# <a name="signtoolexe-sign-tool"></a><span data-ttu-id="977d7-104">SignTool.exe (outil Sign Tool)</span><span class="sxs-lookup"><span data-stu-id="977d7-104">SignTool.exe (Sign Tool)</span></span>
<span data-ttu-id="977d7-105">L'outil Signature est un outil en ligne de commande qui signe numériquement les fichiers, vérifie les signatures dans les fichiers et horodate les fichiers.</span><span class="sxs-lookup"><span data-stu-id="977d7-105">Sign Tool is a command-line tool that digitally signs files, verifies signatures in files, and time-stamps files.</span></span>  
  
 <span data-ttu-id="977d7-106">Cet outil est installé automatiquement avec Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="977d7-106">This tool is automatically installed with Visual Studio.</span></span> <span data-ttu-id="977d7-107">Pour exécuter l’outil, utilisez l’invite de commandes développeur pour Visual Studio (ou l’invite de commandes Visual Studio dans Windows 7).</span><span class="sxs-lookup"><span data-stu-id="977d7-107">To run the tool, use the Developer Command Prompt for Visual Studio (or the Visual Studio Command Prompt in Windows 7).</span></span> <span data-ttu-id="977d7-108">Pour plus d'informations, consultez [Invites de commandes](developer-command-prompt-for-vs.md).</span><span class="sxs-lookup"><span data-stu-id="977d7-108">For more information, see [Command Prompts](developer-command-prompt-for-vs.md).</span></span>

> [!Note]  
> <span data-ttu-id="977d7-109">Le kit de développement logiciel (SDK) Windows 10, Windows 10 HLK, Windows 10 WDK et Windows 10 ADK **builds 20236 et versions ultérieures** requièrent la spécification de l’algorithme Digest.</span><span class="sxs-lookup"><span data-stu-id="977d7-109">The Windows 10 SDK, Windows 10 HLK, Windows 10 WDK and Windows 10 ADK **builds 20236 and later** require specifying the digest algorithm.</span></span> <span data-ttu-id="977d7-110">La `sign` commande SignTool requiert la spécification de l' `/fd` **algorithme de synthèse de fichiers** et de l' `/td` option d' **algorithme de synthèse d’horodatage** au moment de la signature et de l’horodatage, respectivement.</span><span class="sxs-lookup"><span data-stu-id="977d7-110">The SignTool `sign` command requires the `/fd` **file digest algorithm** and the `/td` **timestamp digest algorithm** option to be specified during signing and timestamping, respectively.</span></span> <span data-ttu-id="977d7-111">Un avertissement (code d’erreur 0, initialement) est levé si `/fd` n’est pas spécifié lors de la signature et si `/td` n’est pas spécifié lors de l’horodatage.</span><span class="sxs-lookup"><span data-stu-id="977d7-111">A warning (error code 0, initially) will be thrown if `/fd` is not specified during signing and if `/td` is not specified during timestamping.</span></span> <span data-ttu-id="977d7-112">Dans les versions ultérieures de SignTool, l’avertissement devient une erreur.</span><span class="sxs-lookup"><span data-stu-id="977d7-112">In later versions of SignTool, the warning will become an error.</span></span> <span data-ttu-id="977d7-113">SHA256 est recommandé et est considéré comme plus sûr que SHA1 par le secteur.</span><span class="sxs-lookup"><span data-stu-id="977d7-113">SHA256 is recommended and considered to be more secure than SHA1 by the industry.</span></span>  
  
 <span data-ttu-id="977d7-114">À l'invite de commandes, tapez :</span><span class="sxs-lookup"><span data-stu-id="977d7-114">At the command prompt, type the following:</span></span>  
  
## <a name="syntax"></a><span data-ttu-id="977d7-115">Syntaxe</span><span class="sxs-lookup"><span data-stu-id="977d7-115">Syntax</span></span>  
  
```console  
signtool [command] [options] [file_name | ...]  
```  
  
## <a name="parameters"></a><span data-ttu-id="977d7-116">Paramètres</span><span class="sxs-lookup"><span data-stu-id="977d7-116">Parameters</span></span>  
  
|<span data-ttu-id="977d7-117">Argument</span><span class="sxs-lookup"><span data-stu-id="977d7-117">Argument</span></span>|<span data-ttu-id="977d7-118">Description</span><span class="sxs-lookup"><span data-stu-id="977d7-118">Description</span></span>|  
|--------------|-----------------|  
|`command`|<span data-ttu-id="977d7-119">L'une des quatre commandes (`catdb`, `sign`, `Timestamp` ou `Verify`) qui spécifie une opération à exécuter sur un fichier.</span><span class="sxs-lookup"><span data-stu-id="977d7-119">One of four commands (`catdb`, `sign`, `Timestamp`, or `Verify`) that specifies an operation to perform on a file.</span></span> <span data-ttu-id="977d7-120">Pour obtenir une description de chaque commande, consultez le tableau suivant.</span><span class="sxs-lookup"><span data-stu-id="977d7-120">For a description of each command, see the next table.</span></span>|  
|`options`|<span data-ttu-id="977d7-121">Une option qui modifie une commande.</span><span class="sxs-lookup"><span data-stu-id="977d7-121">An option that modifies a command.</span></span> <span data-ttu-id="977d7-122">En plus des options globales `/q` et `/v`, chaque commande prend en charge un seul ensemble d'options.</span><span class="sxs-lookup"><span data-stu-id="977d7-122">In addition to the global `/q` and `/v` options, each command supports a unique set of options.</span></span>|  
|`file_name`|<span data-ttu-id="977d7-123">Le chemin d’accès à un fichier à signer.</span><span class="sxs-lookup"><span data-stu-id="977d7-123">The path to a file to sign.</span></span>|  
  
 <span data-ttu-id="977d7-124">Les commandes suivantes sont prises en charge par l'outil Signature.</span><span class="sxs-lookup"><span data-stu-id="977d7-124">The following commands are supported by Sign Tool.</span></span> <span data-ttu-id="977d7-125">Chaque commande est utilisée avec un ensemble distinct d'options, qui sont affichées dans leurs sections respectives.</span><span class="sxs-lookup"><span data-stu-id="977d7-125">Each command is used with distinct sets of options, which are listed in their respective sections.</span></span>  
  
|<span data-ttu-id="977d7-126">Commande</span><span class="sxs-lookup"><span data-stu-id="977d7-126">Command</span></span>|<span data-ttu-id="977d7-127">Description</span><span class="sxs-lookup"><span data-stu-id="977d7-127">Description</span></span>|  
|-------------|-----------------|  
|`catdb`|<span data-ttu-id="977d7-128">Ajoute ou supprime un fichier catalogue dans une base de données de catalogue.</span><span class="sxs-lookup"><span data-stu-id="977d7-128">Adds a catalog file to, or removes it from, a catalog database.</span></span> <span data-ttu-id="977d7-129">Les bases de données de catalogue sont utilisées pour la récupération automatique des fichiers catalogue et sont identifiées par un GUID.</span><span class="sxs-lookup"><span data-stu-id="977d7-129">Catalog databases are used for automatic lookup of catalog files and are identified by GUID.</span></span> <span data-ttu-id="977d7-130">Pour obtenir la liste des options prises en charge par la commande `catdb`, consultez [Options de commande catdb](signtool-exe.md#catdb).</span><span class="sxs-lookup"><span data-stu-id="977d7-130">For a list of the options supported by the `catdb` command, see [catdb Command Options](signtool-exe.md#catdb).</span></span>|  
|`sign`|<span data-ttu-id="977d7-131">Signe numériquement les fichiers.</span><span class="sxs-lookup"><span data-stu-id="977d7-131">Digitally signs files.</span></span> <span data-ttu-id="977d7-132">Les signatures numériques protègent les fichiers contre la falsification et permettent aux utilisateurs de vérifier le signataire selon un certificat de signature.</span><span class="sxs-lookup"><span data-stu-id="977d7-132">Digital signatures protect files from tampering, and enable users to verify the signer based on a signing certificate.</span></span> <span data-ttu-id="977d7-133">Pour obtenir la liste des options prises en charge par la commande `sign`, consultez [Options de commande sign](signtool-exe.md#sign).</span><span class="sxs-lookup"><span data-stu-id="977d7-133">For a list of the options supported by the `sign` command, see [sign Command Options](signtool-exe.md#sign).</span></span>|  
|`Timestamp`|<span data-ttu-id="977d7-134">Horodate les fichiers.</span><span class="sxs-lookup"><span data-stu-id="977d7-134">Time-stamps files.</span></span> <span data-ttu-id="977d7-135">Pour obtenir la liste des options prises en charge par la commande `TimeStamp`, consultez [Options de commande TimeStamp](signtool-exe.md#TimeStamp).</span><span class="sxs-lookup"><span data-stu-id="977d7-135">For a list of the options supported by the `TimeStamp` command, see [TimeStamp Command Options](signtool-exe.md#TimeStamp).</span></span>|  
|`Verify`|<span data-ttu-id="977d7-136">Vérifie la signature numérique des fichiers en déterminant si le certificat de signature a été publié par une autorité de confiance, si le certificat de signature a été révoqué et, éventuellement, si le certificat de signature est valide pour une stratégie spécifique.</span><span class="sxs-lookup"><span data-stu-id="977d7-136">Verifies the digital signature of files by determining whether the signing certificate was issued by a trusted authority, whether the signing certificate has been revoked, and, optionally, whether the signing certificate is valid for a specific policy.</span></span> <span data-ttu-id="977d7-137">Pour obtenir la liste des options prises en charge par la commande `Verify`, consultez [Options de commande Verify](signtool-exe.md#Verify).</span><span class="sxs-lookup"><span data-stu-id="977d7-137">For a list of the options supported by the `Verify` command, see [Verify Command Options](signtool-exe.md#Verify).</span></span>|  
  
 <span data-ttu-id="977d7-138">Les options suivantes s'appliquent à toutes les commandes de l'outil Signature.</span><span class="sxs-lookup"><span data-stu-id="977d7-138">The following options apply to all Sign Tool commands.</span></span>  
  
|<span data-ttu-id="977d7-139">Option globale</span><span class="sxs-lookup"><span data-stu-id="977d7-139">Global option</span></span>|<span data-ttu-id="977d7-140">Description</span><span class="sxs-lookup"><span data-stu-id="977d7-140">Description</span></span>|  
|-------------------|-----------------|  
|<span data-ttu-id="977d7-141">**/q**</span><span class="sxs-lookup"><span data-stu-id="977d7-141">**/q**</span></span>|<span data-ttu-id="977d7-142">N'affiche aucune sortie si la commande fonctionne correctement, et affiche la sortie minimale si la commande échoue.</span><span class="sxs-lookup"><span data-stu-id="977d7-142">Displays no output if the command runs successfully, and displays minimal output if the command fails.</span></span>|  
|<span data-ttu-id="977d7-143">**/v**</span><span class="sxs-lookup"><span data-stu-id="977d7-143">**/v**</span></span>|<span data-ttu-id="977d7-144">Affiche la sortie des commentaires que la commande s'exécute correctement ou échoue, et affiche des messages d'avertissement.</span><span class="sxs-lookup"><span data-stu-id="977d7-144">Displays verbose output regardless of whether the command runs successfully or fails, and displays warning messages.</span></span>|  
|<span data-ttu-id="977d7-145">**/Debug**</span><span class="sxs-lookup"><span data-stu-id="977d7-145">**/debug**</span></span>|<span data-ttu-id="977d7-146">Affiche les informations de débogage.</span><span class="sxs-lookup"><span data-stu-id="977d7-146">Displays debugging information.</span></span>|  
  
<a name="catdb"></a>
## <a name="catdb-command-options"></a><span data-ttu-id="977d7-147">Options de commande catdb</span><span class="sxs-lookup"><span data-stu-id="977d7-147">catdb Command Options</span></span>  
 <span data-ttu-id="977d7-148">Le tableau suivant répertorie les options qui peuvent être utilisées avec la commande `catdb`.</span><span class="sxs-lookup"><span data-stu-id="977d7-148">The following table lists the options that can be used with the `catdb` command.</span></span>  
  
|<span data-ttu-id="977d7-149">Option Catdb</span><span class="sxs-lookup"><span data-stu-id="977d7-149">Catdb option</span></span>|<span data-ttu-id="977d7-150">Description</span><span class="sxs-lookup"><span data-stu-id="977d7-150">Description</span></span>|  
|------------------|-----------------|  
|`/d`|<span data-ttu-id="977d7-151">Spécifie que la base de données de catalogue par défaut est mise à jour.</span><span class="sxs-lookup"><span data-stu-id="977d7-151">Specifies that the default catalog database is updated.</span></span> <span data-ttu-id="977d7-152">Si les options `/d` et `/g` ne sont pas utilisées, l'outil Signature met à jour le composant système et la base de données des pilotes.</span><span class="sxs-lookup"><span data-stu-id="977d7-152">If neither the `/d` nor the `/g` option is used, Sign Tool updates the system component and driver database.</span></span>|  
|<span data-ttu-id="977d7-153">`/g` *GUID*</span><span class="sxs-lookup"><span data-stu-id="977d7-153">`/g` *GUID*</span></span>|<span data-ttu-id="977d7-154">Spécifie que la base de données de catalogue identifiée par l’identificateur global unique *GUID* est mise à jour.</span><span class="sxs-lookup"><span data-stu-id="977d7-154">Specifies that the catalog database identified by the globally unique identifier *GUID* is updated.</span></span>|  
|`/r`|<span data-ttu-id="977d7-155">Supprime les catalogues spécifiés de la base de données de catalogue.</span><span class="sxs-lookup"><span data-stu-id="977d7-155">Removes the specified catalogs from the catalog database.</span></span> <span data-ttu-id="977d7-156">Si cette option n'est pas spécifiée, l'outil Signature ajoute les catalogues spécifiés à la base de données de catalogue.</span><span class="sxs-lookup"><span data-stu-id="977d7-156">If this option is not specified, Sign Tool adds the specified catalogs to the catalog database.</span></span>|  
|`/u`|<span data-ttu-id="977d7-157">Spécifie qu'un nom unique est généré automatiquement pour les fichiers catalogue ajoutés.</span><span class="sxs-lookup"><span data-stu-id="977d7-157">Specifies that a unique name is automatically generated for the added catalog files.</span></span> <span data-ttu-id="977d7-158">Si nécessaire, les fichiers catalogue seront renommés pour empêcher des conflits entre les noms des fichiers catalogue existants.</span><span class="sxs-lookup"><span data-stu-id="977d7-158">If necessary, the catalog files are renamed to prevent name conflicts with existing catalog files.</span></span> <span data-ttu-id="977d7-159">Si cette option n'est pas spécifiée, l'outil Signature remplace tout catalogue existant dont le nom est le même que celui du catalogue ajouté.</span><span class="sxs-lookup"><span data-stu-id="977d7-159">If this option is not specified, Sign Tool overwrites any existing catalog that has the same name as the catalog being added.</span></span>|  
  
<a name="sign"></a>
## <a name="sign-command-options"></a><span data-ttu-id="977d7-160">Options de la commande sign</span><span class="sxs-lookup"><span data-stu-id="977d7-160">sign Command Options</span></span>  
 <span data-ttu-id="977d7-161">Le tableau suivant répertorie les options qui peuvent être utilisées avec la commande `sign`.</span><span class="sxs-lookup"><span data-stu-id="977d7-161">The following table lists the options that can be used with the `sign` command.</span></span>  
  
|<span data-ttu-id="977d7-162">Options de la commande Sign</span><span class="sxs-lookup"><span data-stu-id="977d7-162">Sign command option</span></span>|<span data-ttu-id="977d7-163">Description</span><span class="sxs-lookup"><span data-stu-id="977d7-163">Description</span></span>|  
|-------------------------|-----------------|  
|`/a`|<span data-ttu-id="977d7-164">Sélectionne automatiquement le meilleur certificat de signature.</span><span class="sxs-lookup"><span data-stu-id="977d7-164">Automatically selects the best signing certificate.</span></span> <span data-ttu-id="977d7-165">L'outil Signature recherche tous les certificats valides qui répondent à toutes les conditions spécifiées et sélectionne celui qui est valide le plus longtemps.</span><span class="sxs-lookup"><span data-stu-id="977d7-165">Sign Tool will find all valid certificates that satisfy all specified conditions and select the one that is valid for the longest time.</span></span> <span data-ttu-id="977d7-166">Si cette option n'est pas présente, l'outil Signature pense trouver un seul certificat de signature valide.</span><span class="sxs-lookup"><span data-stu-id="977d7-166">If this option is not present, Sign Tool expects to find only one valid signing certificate.</span></span>|  
|<span data-ttu-id="977d7-167">`/ac`  *txt*</span><span class="sxs-lookup"><span data-stu-id="977d7-167">`/ac`  *file*</span></span>|<span data-ttu-id="977d7-168">Ajoute un certificat supplémentaire à partir de *file* au bloc de signature.</span><span class="sxs-lookup"><span data-stu-id="977d7-168">Adds an additional certificate from *file* to the signature block.</span></span>|  
|`/as`|<span data-ttu-id="977d7-169">Ajoute cette signature.</span><span class="sxs-lookup"><span data-stu-id="977d7-169">Appends this signature.</span></span> <span data-ttu-id="977d7-170">Si aucune signature principale n'est présente, cette signature est effectuée à la signature principale à la place.</span><span class="sxs-lookup"><span data-stu-id="977d7-170">If no primary signature is present, this signature is made the primary signature instead.</span></span>|  
|<span data-ttu-id="977d7-171">`/c`  *CertTemplateName*</span><span class="sxs-lookup"><span data-stu-id="977d7-171">`/c`  *CertTemplateName*</span></span>|<span data-ttu-id="977d7-172">Spécifie le nom du modèle de certificat (une extension Microsoft) pour le certificat de signature.</span><span class="sxs-lookup"><span data-stu-id="977d7-172">Specifies the Certificate Template Name (a Microsoft extension) for the signing certificate.</span></span>|  
|<span data-ttu-id="977d7-173">`/csp`  *CSPName*</span><span class="sxs-lookup"><span data-stu-id="977d7-173">`/csp`  *CSPName*</span></span>|<span data-ttu-id="977d7-174">Spécifie le fournisseur de services de chiffrement (CSP) qui contient le conteneur de clés privées.</span><span class="sxs-lookup"><span data-stu-id="977d7-174">Specifies the cryptographic service provider (CSP) that contains the private key container.</span></span>|  
|<span data-ttu-id="977d7-175">`/d`  *DESC*</span><span class="sxs-lookup"><span data-stu-id="977d7-175">`/d`  *Desc*</span></span>|<span data-ttu-id="977d7-176">Spécifie une description du contenu signé.</span><span class="sxs-lookup"><span data-stu-id="977d7-176">Specifies a description of the signed content.</span></span>|  
|<span data-ttu-id="977d7-177">`/du`  *URL*</span><span class="sxs-lookup"><span data-stu-id="977d7-177">`/du`  *URL*</span></span>|<span data-ttu-id="977d7-178">Spécifie une URL pour la description développée du contenu signé.</span><span class="sxs-lookup"><span data-stu-id="977d7-178">Specifies a Uniform Resource Locator (URL) for the expanded description of the signed content.</span></span>|  
|<span data-ttu-id="977d7-179">`/f`  *SignCertFile*</span><span class="sxs-lookup"><span data-stu-id="977d7-179">`/f`  *SignCertFile*</span></span>|<span data-ttu-id="977d7-180">Spécifie le certificat de signature dans un fichier.</span><span class="sxs-lookup"><span data-stu-id="977d7-180">Specifies the signing certificate in a file.</span></span> <span data-ttu-id="977d7-181">Si le fichier est au format PFX (Personal Information Exchange) et protégé par un mot de passe, utilisez l'option `/p` pour spécifier le mot de passe.</span><span class="sxs-lookup"><span data-stu-id="977d7-181">If the file is in Personal Information Exchange (PFX) format and protected by a password, use the `/p` option to specify the password.</span></span> <span data-ttu-id="977d7-182">Si le fichier ne contient aucune clé privée, utilisez les options `/csp` et `/kc` pour spécifier le nom du conteneur CSP et de clés privées.</span><span class="sxs-lookup"><span data-stu-id="977d7-182">If the file does not contain private keys, use the `/csp` and `/kc` options to specify the CSP and private key container name.</span></span>|  
|`/fd`|<span data-ttu-id="977d7-183">Spécifie l’algorithme de condensat de fichiers à utiliser pour créer des signatures de fichiers.</span><span class="sxs-lookup"><span data-stu-id="977d7-183">Specifies the file digest algorithm to use for creating file signatures.</span></span> </br> <span data-ttu-id="977d7-184">**Remarque :** Un avertissement est généré si le `/fd` commutateur n’est pas fourni lors de la signature.</span><span class="sxs-lookup"><span data-stu-id="977d7-184">**Note:** A warning is generated if the`/fd` switch is not provided while signing.</span></span> <span data-ttu-id="977d7-185">L’algorithme par défaut est SHA1 mais SHA256 est recommandé.</span><span class="sxs-lookup"><span data-stu-id="977d7-185">The default algorithm is SHA1 but SHA256 is recommended.</span></span>|
|<span data-ttu-id="977d7-186">`/fd`  *certHash*</span><span class="sxs-lookup"><span data-stu-id="977d7-186">`/fd`  *certHash*</span></span>|<span data-ttu-id="977d7-187">La spécification de la chaîne *certHash* aura comme valeur par défaut l’algorithme utilisé sur le certificat de signature.</span><span class="sxs-lookup"><span data-stu-id="977d7-187">Specifying the string *certHash* will default to the algorithm used on the signing certificate.</span></span> </br> <span data-ttu-id="977d7-188">**Remarque :** Disponible uniquement dans les versions 20236 et ultérieures du Kit Windows 10.</span><span class="sxs-lookup"><span data-stu-id="977d7-188">**Note:** Only available in Windows 10 kit builds 20236 and later.</span></span>|  
|<span data-ttu-id="977d7-189">`/i`  *IssuerName*</span><span class="sxs-lookup"><span data-stu-id="977d7-189">`/i`  *IssuerName*</span></span>|<span data-ttu-id="977d7-190">Spécifie le nom de l'émetteur du certificat de signature.</span><span class="sxs-lookup"><span data-stu-id="977d7-190">Specifies the name of the issuer of the signing certificate.</span></span> <span data-ttu-id="977d7-191">Cette valeur peut être une sous-chaîne du nom d'émetteur entier.</span><span class="sxs-lookup"><span data-stu-id="977d7-191">This value can be a substring of the entire issuer name.</span></span>|  
|<span data-ttu-id="977d7-192">`/kc`  *PrivKeyContainerName*</span><span class="sxs-lookup"><span data-stu-id="977d7-192">`/kc`  *PrivKeyContainerName*</span></span>|<span data-ttu-id="977d7-193">Spécifie le nom du conteneur de clés privées.</span><span class="sxs-lookup"><span data-stu-id="977d7-193">Specifies the private key container name.</span></span>|  
|<span data-ttu-id="977d7-194">`/n`  *SubjectName*</span><span class="sxs-lookup"><span data-stu-id="977d7-194">`/n`  *SubjectName*</span></span>|<span data-ttu-id="977d7-195">Spécifie le nom de l'objet du certificat de signature.</span><span class="sxs-lookup"><span data-stu-id="977d7-195">Specifies the name of the subject of the signing certificate.</span></span> <span data-ttu-id="977d7-196">Cette valeur peut être une sous-chaîne du nom de l'objet entier.</span><span class="sxs-lookup"><span data-stu-id="977d7-196">This value can be a substring of the entire subject name.</span></span>|  
|`/nph`|<span data-ttu-id="977d7-197">En cas de prise en charge, supprime les hachages de pages pour les fichiers exécutables.</span><span class="sxs-lookup"><span data-stu-id="977d7-197">If supported, suppresses page hashes for executable files.</span></span> <span data-ttu-id="977d7-198">La valeur par défaut est déterminée par la variable d'environnement SIGNTOOL_PAGE_HASHES et par la version de wintrust.dll.</span><span class="sxs-lookup"><span data-stu-id="977d7-198">The default is determined by the SIGNTOOL_PAGE_HASHES environment variable and by the wintrust.dll version.</span></span> <span data-ttu-id="977d7-199">Cette option est ignorée pour les fichiers non PE.</span><span class="sxs-lookup"><span data-stu-id="977d7-199">This option is ignored for non-PE files.</span></span>|  
|<span data-ttu-id="977d7-200">`/p`  *Mot de passe*</span><span class="sxs-lookup"><span data-stu-id="977d7-200">`/p`  *Password*</span></span>|<span data-ttu-id="977d7-201">Spécifie le mot de passe à utiliser lors de l'ouverture d'un fichier PFX.</span><span class="sxs-lookup"><span data-stu-id="977d7-201">Specifies the password to use when opening a PFX file.</span></span> <span data-ttu-id="977d7-202">(Utilisez l'option `/f` pour spécifier un fichier PFX.)</span><span class="sxs-lookup"><span data-stu-id="977d7-202">(Use the `/f` option to specify a PFX file.)</span></span>|  
|<span data-ttu-id="977d7-203">`/p7` *Chemin*</span><span class="sxs-lookup"><span data-stu-id="977d7-203">`/p7` *Path*</span></span>|<span data-ttu-id="977d7-204">Spécifie qu'un fichier PKCS (Public Key Cryptography Standards) #7 est produit pour chaque fichier de contenu spécifié.</span><span class="sxs-lookup"><span data-stu-id="977d7-204">Specifies that a Public Key Cryptography Standards (PKCS) #7 file is produced for each specified content file.</span></span> <span data-ttu-id="977d7-205">Les fichiers de #7 PKCS sont nommés *chemin* \\ *nom_de_fichier*. P7.</span><span class="sxs-lookup"><span data-stu-id="977d7-205">PKCS #7 files are named *path*\\*filename*.p7.</span></span>|  
|<span data-ttu-id="977d7-206">`/p7ce` *Valeur*</span><span class="sxs-lookup"><span data-stu-id="977d7-206">`/p7ce` *Value*</span></span>|<span data-ttu-id="977d7-207">Spécifie des options pour le contenu PKCS #7 signé.</span><span class="sxs-lookup"><span data-stu-id="977d7-207">Specifies options for the signed PKCS #7 content.</span></span> <span data-ttu-id="977d7-208">Remplacez *Value* par « Embedded » pour incorporer le contenu signé dans le fichier PKCS #7 ou par « DetachedSignedData » pour produire la partie signée des données d’un fichier PKCS #7 détaché.</span><span class="sxs-lookup"><span data-stu-id="977d7-208">Set *Value* to "Embedded" to embed the signed content in the PKCS #7 file, or to "DetachedSignedData" to produce the signed data portion of a detached PKCS #7 file.</span></span> <span data-ttu-id="977d7-209">Si l'option `/p7ce` n'est pas utilisée, le contenu signé est incorporé par défaut.</span><span class="sxs-lookup"><span data-stu-id="977d7-209">If the `/p7ce` option is not used, the signed content is embedded by default.</span></span>|  
|<span data-ttu-id="977d7-210">`/p7co` *\<OID>*</span><span class="sxs-lookup"><span data-stu-id="977d7-210">`/p7co` *\<OID>*</span></span>|<span data-ttu-id="977d7-211">Spécifie l'identificateur d'objet (OID) qui identifie le contenu PKCS #7 signé.</span><span class="sxs-lookup"><span data-stu-id="977d7-211">Specifies the object identifier (OID) that identifies the signed PKCS #7 content.</span></span>|  
|`/ph`|<span data-ttu-id="977d7-212">En cas de prise en charge, génère les hachages de pages pour les fichiers exécutables.</span><span class="sxs-lookup"><span data-stu-id="977d7-212">If supported, generates page hashes for executable files.</span></span>|  
|<span data-ttu-id="977d7-213">`/r`  *RootSubjectName*</span><span class="sxs-lookup"><span data-stu-id="977d7-213">`/r`  *RootSubjectName*</span></span>|<span data-ttu-id="977d7-214">Spécifie le nom de l'objet du certificat racine auquel le certificat de signature doit être lié.</span><span class="sxs-lookup"><span data-stu-id="977d7-214">Specifies the name of the subject of the root certificate that the signing certificate must chain to.</span></span> <span data-ttu-id="977d7-215">Cette valeur peut être une sous-chaîne du nom de l'objet entier du certificat racine.</span><span class="sxs-lookup"><span data-stu-id="977d7-215">This value may be a substring of the entire subject name of the root certificate.</span></span>|  
|<span data-ttu-id="977d7-216">`/s`  *StoreName*</span><span class="sxs-lookup"><span data-stu-id="977d7-216">`/s`  *StoreName*</span></span>|<span data-ttu-id="977d7-217">Spécifie le magasin à ouvrir lors de la recherche du certificat.</span><span class="sxs-lookup"><span data-stu-id="977d7-217">Specifies the store to open when searching for the certificate.</span></span> <span data-ttu-id="977d7-218">Si cette option n'est pas spécifiée, le magasin `My` est ouvert.</span><span class="sxs-lookup"><span data-stu-id="977d7-218">If this option is not specified, the `My` store is opened.</span></span>|  
|<span data-ttu-id="977d7-219">`/sha1`  *Hachage*</span><span class="sxs-lookup"><span data-stu-id="977d7-219">`/sha1`  *Hash*</span></span>|<span data-ttu-id="977d7-220">Spécifie le hachage SHA1 du certificat de signature.</span><span class="sxs-lookup"><span data-stu-id="977d7-220">Specifies the SHA1 hash of the signing certificate.</span></span> <span data-ttu-id="977d7-221">Le hachage SHA1 est souvent spécifié lorsque plusieurs certificats répondent aux critères spécifiés par les commutateurs restants.</span><span class="sxs-lookup"><span data-stu-id="977d7-221">The SHA1 hash is commonly specified when multiple certificates satisfy the criteria specified by the remaining switches.</span></span>|  
|`/sm`|<span data-ttu-id="977d7-222">Spécifie qu'un magasin d'ordinateur, au lieu d'un magasin d'utilisateur, est utilisé.</span><span class="sxs-lookup"><span data-stu-id="977d7-222">Specifies that a machine store, instead of a user store, is used.</span></span>|  
|<span data-ttu-id="977d7-223">`/t`  *URL*</span><span class="sxs-lookup"><span data-stu-id="977d7-223">`/t`  *URL*</span></span>|<span data-ttu-id="977d7-224">Spécifie l'URL du serveur d'horodatage.</span><span class="sxs-lookup"><span data-stu-id="977d7-224">Specifies the URL of the time stamp server.</span></span> <span data-ttu-id="977d7-225">Si cette option (ou `/tr`) n'est pas présente, le fichier signé ne sera pas horodaté.</span><span class="sxs-lookup"><span data-stu-id="977d7-225">If this option (or `/tr`) is not present, the signed file will not be time stamped.</span></span> <span data-ttu-id="977d7-226">Un avertissement est généré si l'horodatage échoue.</span><span class="sxs-lookup"><span data-stu-id="977d7-226">A warning is generated if time stamping fails.</span></span> <span data-ttu-id="977d7-227">Cette option ne peut pas être utilisée avec l'option `/tr`.</span><span class="sxs-lookup"><span data-stu-id="977d7-227">This option cannot be used with the `/tr` option.</span></span>|  
|<span data-ttu-id="977d7-228">`/td`  *ALG*</span><span class="sxs-lookup"><span data-stu-id="977d7-228">`/td`  *alg*</span></span>|<span data-ttu-id="977d7-229">Utilisé avec l'option `/tr` pour demander un algorithme Digest utilisé par le serveur d'horodatage RFC 3161.</span><span class="sxs-lookup"><span data-stu-id="977d7-229">Used with the `/tr` option to request a digest algorithm used by the RFC 3161 time stamp server.</span></span> </br> <span data-ttu-id="977d7-230">**Remarque :** Un avertissement est généré si le `/td` commutateur n’est pas fourni lors de l’horodatage.</span><span class="sxs-lookup"><span data-stu-id="977d7-230">**Note:** A warning is generated if the `/td` switch is not provided while timestamping.</span></span> <span data-ttu-id="977d7-231">L’algorithme par défaut est SHA1, mais SHA256 est recommandé.</span><span class="sxs-lookup"><span data-stu-id="977d7-231">The default algorithm is SHA1, but SHA256 is recommended.</span></span> <br/> <span data-ttu-id="977d7-232">Le `/td` commutateur doit être déclaré après le `/tr` commutateur, et non avant.</span><span class="sxs-lookup"><span data-stu-id="977d7-232">The `/td` switch must be declared after the `/tr` switch, not before.</span></span> <span data-ttu-id="977d7-233">Si le `/td` commutateur est déclaré avant le `/tr` commutateur, l’horodateur retourné est de l’algorithme SHA1 au lieu de l’algorithme SHA256 prévu.</span><span class="sxs-lookup"><span data-stu-id="977d7-233">If the `/td` switch is declared before the `/tr` switch, the timestamp that is returned is from the SHA1 algorithm instead of the intended SHA256 algorithm.</span></span> |
|<span data-ttu-id="977d7-234">`/tr`  *URL*</span><span class="sxs-lookup"><span data-stu-id="977d7-234">`/tr`  *URL*</span></span>|<span data-ttu-id="977d7-235">Spécifie l'URL du serveur d'horodatage RFC 3161.</span><span class="sxs-lookup"><span data-stu-id="977d7-235">Specifies the URL of the RFC 3161 time stamp server.</span></span> <span data-ttu-id="977d7-236">Si cette option (ou `/t`) n'est pas présente, le fichier signé ne sera pas horodaté.</span><span class="sxs-lookup"><span data-stu-id="977d7-236">If this option (or `/t`) is not present, the signed file will not be time stamped.</span></span> <span data-ttu-id="977d7-237">Un avertissement est généré si l'horodatage échoue.</span><span class="sxs-lookup"><span data-stu-id="977d7-237">A warning is generated if time stamping fails.</span></span> <span data-ttu-id="977d7-238">Cette option ne peut pas être utilisée avec l'option `/t`.</span><span class="sxs-lookup"><span data-stu-id="977d7-238">This option cannot be used with the `/t` option.</span></span>|
|<span data-ttu-id="977d7-239">`/u`  *Usage*</span><span class="sxs-lookup"><span data-stu-id="977d7-239">`/u`  *Usage*</span></span>|<span data-ttu-id="977d7-240">Spécifie l'utilisation améliorée de la clé (EKU) qui doit être présente dans le certificat de signature.</span><span class="sxs-lookup"><span data-stu-id="977d7-240">Specifies the enhanced key usage (EKU) that must be present in the signing certificate.</span></span> <span data-ttu-id="977d7-241">La valeur de l'utilisation peut être spécifiée par un OID ou une chaîne.</span><span class="sxs-lookup"><span data-stu-id="977d7-241">The usage value can be specified by OID or string.</span></span> <span data-ttu-id="977d7-242">L'utilisation par défaut est « Signature du code » (1.3.6.1.5.5.7.3.3).</span><span class="sxs-lookup"><span data-stu-id="977d7-242">The default usage is "Code Signing" (1.3.6.1.5.5.7.3.3).</span></span>|  
|`/uw`|<span data-ttu-id="977d7-243">Spécifie l'utilisation « Windows System Component Verification » (1.3.6.1.4.1.311.10.3.6).</span><span class="sxs-lookup"><span data-stu-id="977d7-243">Specifies usage of "Windows System Component Verification" (1.3.6.1.4.1.311.10.3.6).</span></span>|  
  
 <span data-ttu-id="977d7-244">Pour obtenir des exemples, consultez [Utilisation de SignTool pour signer un fichier](/windows/desktop/SecCrypto/using-signtool-to-sign-a-file).</span><span class="sxs-lookup"><span data-stu-id="977d7-244">For usage examples, see [Using SignTool to Sign a File](/windows/desktop/SecCrypto/using-signtool-to-sign-a-file).</span></span>  
  
<a name="TimeStamp"></a>
## <a name="timestamp-command-options"></a><span data-ttu-id="977d7-245">Options de commande TimeStamp</span><span class="sxs-lookup"><span data-stu-id="977d7-245">TimeStamp Command Options</span></span>  
 <span data-ttu-id="977d7-246">Le tableau suivant répertorie les options qui peuvent être utilisées avec la commande `TimeStamp`.</span><span class="sxs-lookup"><span data-stu-id="977d7-246">The following table lists the options that can be used with the `TimeStamp` command.</span></span>  
  
|<span data-ttu-id="977d7-247">Option TimeStamp</span><span class="sxs-lookup"><span data-stu-id="977d7-247">TimeStamp option</span></span>|<span data-ttu-id="977d7-248">Description</span><span class="sxs-lookup"><span data-stu-id="977d7-248">Description</span></span>|  
|----------------------|-----------------|  
|`/p7`|<span data-ttu-id="977d7-249">Horodate les fichiers PKCS #7.</span><span class="sxs-lookup"><span data-stu-id="977d7-249">Time stamps PKCS #7 files.</span></span>|  
|<span data-ttu-id="977d7-250">`/t`  *URL*</span><span class="sxs-lookup"><span data-stu-id="977d7-250">`/t`  *URL*</span></span>|<span data-ttu-id="977d7-251">Spécifie l'URL du serveur d'horodatage.</span><span class="sxs-lookup"><span data-stu-id="977d7-251">Specifies the URL of the time stamp server.</span></span> <span data-ttu-id="977d7-252">Le fichier en cours d'horodatage doit avoir été signé au préalable.</span><span class="sxs-lookup"><span data-stu-id="977d7-252">The file being time stamped must have previously been signed.</span></span> <span data-ttu-id="977d7-253">L'option `/t` ou `/tr` est obligatoire.</span><span class="sxs-lookup"><span data-stu-id="977d7-253">Either the `/t` or the `/tr` option is required.</span></span>|  
|<span data-ttu-id="977d7-254">`/td`  *ALG*</span><span class="sxs-lookup"><span data-stu-id="977d7-254">`/td`  *alg*</span></span>|<span data-ttu-id="977d7-255">Utilisé avec l'option `/tr` pour demander un algorithme Digest utilisé par le serveur d'horodatage RFC 3161.</span><span class="sxs-lookup"><span data-stu-id="977d7-255">Used with the `/tr` option to request a digest algorithm used by the RFC 3161 time stamp server.</span></span> </br> <span data-ttu-id="977d7-256">**Remarque :** Un avertissement est généré si le `/td` commutateur n’est pas fourni lors de l’horodatage.</span><span class="sxs-lookup"><span data-stu-id="977d7-256">**Note:** A warning is generated if the `/td` switch is not provided while timestamping.</span></span> <span data-ttu-id="977d7-257">L’algorithme par défaut est SHA1, mais SHA256 est recommandé.</span><span class="sxs-lookup"><span data-stu-id="977d7-257">The default algorithm is SHA1, but SHA256 is recommended.</span></span> <br/> <span data-ttu-id="977d7-258">Le `/td` commutateur doit être déclaré après le `/tr` commutateur, et non avant.</span><span class="sxs-lookup"><span data-stu-id="977d7-258">The `/td` switch must be declared after the `/tr` switch, not before.</span></span> <span data-ttu-id="977d7-259">Si le `/td` commutateur est déclaré avant le `/tr` commutateur, l’horodateur retourné est de l’algorithme SHA1 au lieu de l’algorithme SHA256 prévu.</span><span class="sxs-lookup"><span data-stu-id="977d7-259">If the `/td` switch is declared before the `/tr` switch, the timestamp that is returned is from the SHA1 algorithm instead of the intended SHA256 algorithm.</span></span> |
|<span data-ttu-id="977d7-260">`/tp`*index*</span><span class="sxs-lookup"><span data-stu-id="977d7-260">`/tp` *index*</span></span>|<span data-ttu-id="977d7-261">Horodate la signature à l’ *index*.</span><span class="sxs-lookup"><span data-stu-id="977d7-261">Time stamps the signature at *index*.</span></span>|  
|<span data-ttu-id="977d7-262">`/tr`  *URL*</span><span class="sxs-lookup"><span data-stu-id="977d7-262">`/tr`  *URL*</span></span>|<span data-ttu-id="977d7-263">Spécifie l'URL du serveur d'horodatage RFC 3161.</span><span class="sxs-lookup"><span data-stu-id="977d7-263">Specifies the URL of the RFC 3161 time stamp server.</span></span> <span data-ttu-id="977d7-264">Le fichier en cours d'horodatage doit avoir été signé au préalable.</span><span class="sxs-lookup"><span data-stu-id="977d7-264">The file being time stamped must have previously been signed.</span></span> <span data-ttu-id="977d7-265">L'option `/tr` ou `/t` est obligatoire.</span><span class="sxs-lookup"><span data-stu-id="977d7-265">Either the `/tr` or the `/t` option is required.</span></span>|  
  
 <span data-ttu-id="977d7-266">Pour obtenir un exemple, consultez [Ajout d’horodatages à des fichiers précédemment signés](/windows/desktop/SecCrypto/adding-time-stamps-to-previously-signed-files).</span><span class="sxs-lookup"><span data-stu-id="977d7-266">For a usage example, see [Adding Time Stamps to Previously Signed Files](/windows/desktop/SecCrypto/adding-time-stamps-to-previously-signed-files).</span></span>  
  
<a name="Verify"></a>
## <a name="verify-command-options"></a><span data-ttu-id="977d7-267">Options de commande Verify</span><span class="sxs-lookup"><span data-stu-id="977d7-267">Verify Command Options</span></span>  
  
|<span data-ttu-id="977d7-268">Option Verify</span><span class="sxs-lookup"><span data-stu-id="977d7-268">Verify option</span></span>|<span data-ttu-id="977d7-269">Description</span><span class="sxs-lookup"><span data-stu-id="977d7-269">Description</span></span>|  
|-------------------|-----------------|  
|`/a`|<span data-ttu-id="977d7-270">Spécifie que toutes les méthodes peuvent être utilisées pour vérifier le fichier.</span><span class="sxs-lookup"><span data-stu-id="977d7-270">Specifies that all methods can be used to verify the file.</span></span> <span data-ttu-id="977d7-271">En premier lieu, une recherche est effectuée dans les bases de données de catalogue pour déterminer si le fichier est signé dans un catalogue.</span><span class="sxs-lookup"><span data-stu-id="977d7-271">First, the catalog databases are searched to determine whether the file is signed in a catalog.</span></span> <span data-ttu-id="977d7-272">Si le fichier n'est signé dans aucun catalogue, l'outil Signature tente de vérifier la signature incorporée du fichier.</span><span class="sxs-lookup"><span data-stu-id="977d7-272">If the file is not signed in any catalog, Sign Tool attempts to verify the file's embedded signature.</span></span> <span data-ttu-id="977d7-273">Cette option est recommandée lors de la vérification de fichiers qui peuvent être ou non signés dans un catalogue.</span><span class="sxs-lookup"><span data-stu-id="977d7-273">This option is recommended when verifying files that may or may not be signed in a catalog.</span></span> <span data-ttu-id="977d7-274">Les exemples de ces fichiers incluent des fichiers ou des pilotes Windows.</span><span class="sxs-lookup"><span data-stu-id="977d7-274">Examples of these files include Windows files or drivers.</span></span>|  
|`/ad`|<span data-ttu-id="977d7-275">Recherche le catalogue à l'aide de la base de données de catalogue par défaut.</span><span class="sxs-lookup"><span data-stu-id="977d7-275">Finds the catalog by using the default catalog database.</span></span>|  
|<span data-ttu-id="977d7-276">`/ag` *CatDBGUID*</span><span class="sxs-lookup"><span data-stu-id="977d7-276">`/ag` *CatDBGUID*</span></span>|<span data-ttu-id="977d7-277">Recherche le catalogue dans la base de données de catalogue qui est identifiée par *CatDBGUID*.</span><span class="sxs-lookup"><span data-stu-id="977d7-277">Finds the catalog in the catalog database that is identified by the *CatDBGUID*.</span></span>|  
|`/all`|<span data-ttu-id="977d7-278">Vérifie toutes les signatures dans un fichier contenant plusieurs signatures.</span><span class="sxs-lookup"><span data-stu-id="977d7-278">Verifies all signatures in a file that includes multiple signatures.</span></span>|  
|`/as`|<span data-ttu-id="977d7-279">Recherche le catalogue à l'aide de la base de données de catalogue du composant système (pilote).</span><span class="sxs-lookup"><span data-stu-id="977d7-279">Finds the catalog by using the system component (driver) catalog database.</span></span>|  
|<span data-ttu-id="977d7-280">`/c` *CatFile*</span><span class="sxs-lookup"><span data-stu-id="977d7-280">`/c` *CatFile*</span></span>|<span data-ttu-id="977d7-281">Spécifie le fichier catalogue par nom.</span><span class="sxs-lookup"><span data-stu-id="977d7-281">Specifies the catalog file by name.</span></span>|  
|`/d`|<span data-ttu-id="977d7-282">Spécifie que l'outil Signature doit imprimer la description et l'URL de description.</span><span class="sxs-lookup"><span data-stu-id="977d7-282">Specifies that Sign Tool should print the description and the description URL.</span></span>|  
|<span data-ttu-id="977d7-283">`/ds`  *Index*</span><span class="sxs-lookup"><span data-stu-id="977d7-283">`/ds`  *Index*</span></span>|<span data-ttu-id="977d7-284">Vérifie la signature à un emplacement spécifié.</span><span class="sxs-lookup"><span data-stu-id="977d7-284">Verifies the signature at a specified position.</span></span>|  
|<span data-ttu-id="977d7-285">`/hash` (`SHA1`&#124;`SHA256`)</span><span class="sxs-lookup"><span data-stu-id="977d7-285">`/hash` (`SHA1`&#124;`SHA256`)</span></span>|<span data-ttu-id="977d7-286">Spécifie un algorithme de hachage facultatif à utiliser lors de la recherche d'un fichier dans un catalogue.</span><span class="sxs-lookup"><span data-stu-id="977d7-286">Specifies an optional hash algorithm to use when searching for a file in a catalog.</span></span>|  
|`/kp`|<span data-ttu-id="977d7-287">Spécifie que la vérification doit être effectuée avec la stratégie de signature de pilotes en mode noyau.</span><span class="sxs-lookup"><span data-stu-id="977d7-287">Specifies that verification should be performed with the kernel-mode driver signing policy.</span></span>|  
|`/ms`|<span data-ttu-id="977d7-288">Utilise plusieurs sémantiques de vérification.</span><span class="sxs-lookup"><span data-stu-id="977d7-288">Uses multiple verification semantics.</span></span> <span data-ttu-id="977d7-289">Il s’agit du comportement par défaut d’un appel [WinVerifyTrust](/windows/desktop/api/wintrust/nf-wintrust-winverifytrust) sur Windows 8 et versions ultérieures.</span><span class="sxs-lookup"><span data-stu-id="977d7-289">This is the default behavior of a [WinVerifyTrust](/windows/desktop/api/wintrust/nf-wintrust-winverifytrust) call on Windows 8 and above.</span></span>|  
|<span data-ttu-id="977d7-290">`/o` *Version*</span><span class="sxs-lookup"><span data-stu-id="977d7-290">`/o` *Version*</span></span>|<span data-ttu-id="977d7-291">Vérifie le fichier par version du système d'exploitation.</span><span class="sxs-lookup"><span data-stu-id="977d7-291">Verifies the file by operating system version.</span></span> <span data-ttu-id="977d7-292">*Version* a le format suivant : *PlatformID* : *VerMajor*. *VerMinor*. *BuildNumber*.</span><span class="sxs-lookup"><span data-stu-id="977d7-292">*Version* has the following form: *PlatformID* : *VerMajor*. *VerMinor*. *BuildNumber*.</span></span> <span data-ttu-id="977d7-293">*PlatformID* représente la valeur sous-jacente d’un membre de l’énumération <xref:System.PlatformID>.</span><span class="sxs-lookup"><span data-stu-id="977d7-293">*PlatformID* represents the underlying value of a <xref:System.PlatformID> enumeration member.</span></span> <span data-ttu-id="977d7-294">**Important :** L’utilisation du commutateur `/o` est recommandée.</span><span class="sxs-lookup"><span data-stu-id="977d7-294">**Important:**  The use of the `/o` switch is recommended.</span></span> <span data-ttu-id="977d7-295">Si `/o` n'est pas spécifié, SignTool.exe peut retourner des résultats inattendus.</span><span class="sxs-lookup"><span data-stu-id="977d7-295">If `/o` is not specified, SignTool.exe may return unexpected results.</span></span> <span data-ttu-id="977d7-296">Par exemple, si vous n'incluez pas le commutateur `/o`, les catalogues système qui valident correctement sur un système d'exploitation plus ancien peuvent ne pas valider correctement sur un système d'exploitation plus récent.</span><span class="sxs-lookup"><span data-stu-id="977d7-296">For example, if you do not include the `/o` switch, system catalogs that validate correctly on an older operating system may not validate correctly on a newer operating system.</span></span>|  
|`/p7`|<span data-ttu-id="977d7-297">Vérifie les fichiers PKCS #7.</span><span class="sxs-lookup"><span data-stu-id="977d7-297">Verifies PKCS #7 files.</span></span> <span data-ttu-id="977d7-298">Aucune stratégie existante n'est utilisée pour la validation PKCS #7.</span><span class="sxs-lookup"><span data-stu-id="977d7-298">No existing policies are used for PKCS #7 validation.</span></span> <span data-ttu-id="977d7-299">La signature est vérifiée et une chaîne est générée pour le certificat de signature.</span><span class="sxs-lookup"><span data-stu-id="977d7-299">The signature is checked and a chain is built for the signing certificate.</span></span>|  
|`/pa`|<span data-ttu-id="977d7-300">Spécifie que la stratégie de vérification Authenticode par défaut doit être utilisée.</span><span class="sxs-lookup"><span data-stu-id="977d7-300">Specifies that the Default Authenticode Verification Policy should be used.</span></span> <span data-ttu-id="977d7-301">Si l'option `/pa` n'est pas spécifiée, l'outil Signature utilise la stratégie de vérification des pilotes Windows.</span><span class="sxs-lookup"><span data-stu-id="977d7-301">If the `/pa` option is not specified, Sign Tool uses the Windows Driver Verification Policy.</span></span> <span data-ttu-id="977d7-302">Cette option ne peut pas être utilisée avec les options `catdb`.</span><span class="sxs-lookup"><span data-stu-id="977d7-302">This option cannot be used with the `catdb` options.</span></span>|  
|<span data-ttu-id="977d7-303">`/pg` *PolicyGUID*</span><span class="sxs-lookup"><span data-stu-id="977d7-303">`/pg` *PolicyGUID*</span></span>|<span data-ttu-id="977d7-304">Spécifie une stratégie de vérification par GUID.</span><span class="sxs-lookup"><span data-stu-id="977d7-304">Specifies a verification policy by GUID.</span></span> <span data-ttu-id="977d7-305">*PolicyGUID* correspond à la valeur ActionID de la stratégie de vérification.</span><span class="sxs-lookup"><span data-stu-id="977d7-305">The *PolicyGUID* corresponds to the ActionID of the verification policy.</span></span> <span data-ttu-id="977d7-306">Cette option ne peut pas être utilisée avec les options `catdb`.</span><span class="sxs-lookup"><span data-stu-id="977d7-306">This option cannot be used with the `catdb` options.</span></span>|  
|`/ph`|<span data-ttu-id="977d7-307">Spécifie que l'outil Signature doit imprimer et vérifier les valeurs de hachage des pages.</span><span class="sxs-lookup"><span data-stu-id="977d7-307">Specifies that Sign Tool should print and verify page hash values.</span></span>|  
|<span data-ttu-id="977d7-308">`/r` *RootSubjectName*</span><span class="sxs-lookup"><span data-stu-id="977d7-308">`/r` *RootSubjectName*</span></span>|<span data-ttu-id="977d7-309">Spécifie le nom de l'objet du certificat racine auquel le certificat de signature doit être lié.</span><span class="sxs-lookup"><span data-stu-id="977d7-309">Specifies the name of the subject of the root certificate that the signing certificate must chain to.</span></span> <span data-ttu-id="977d7-310">Cette valeur peut être une sous-chaîne du nom de l'objet entier du certificat racine.</span><span class="sxs-lookup"><span data-stu-id="977d7-310">This value can be a substring of the entire subject name of the root certificate.</span></span>|  
|`/tw`|<span data-ttu-id="977d7-311">Spécifie qu'un avertissement doit être généré si la signature n'est pas horodatée.</span><span class="sxs-lookup"><span data-stu-id="977d7-311">Specifies that a warning should be generated if the signature is not time stamped.</span></span>|  
  
 <span data-ttu-id="977d7-312">Pour obtenir des exemples, consultez [Utilisation de SignTool pour vérifier la signature d’un fichier](/windows/desktop/SecCrypto/using-signtool-to-verify-a-file-signature).</span><span class="sxs-lookup"><span data-stu-id="977d7-312">For usage examples, see [Using SignTool to Verify a File Signature](/windows/desktop/SecCrypto/using-signtool-to-verify-a-file-signature).</span></span>  
  
## <a name="return-value"></a><span data-ttu-id="977d7-313">Valeur renvoyée</span><span class="sxs-lookup"><span data-stu-id="977d7-313">Return Value</span></span>  
 <span data-ttu-id="977d7-314">L'outil Signature retourne l'un des codes de sortie suivants lorsqu'il se termine.</span><span class="sxs-lookup"><span data-stu-id="977d7-314">Sign Tool returns one of the following exit codes when it terminates.</span></span>  
  
|<span data-ttu-id="977d7-315">Code de sortie</span><span class="sxs-lookup"><span data-stu-id="977d7-315">Exit code</span></span>|<span data-ttu-id="977d7-316">Description</span><span class="sxs-lookup"><span data-stu-id="977d7-316">Description</span></span>|  
|---------------|-----------------|  
|<span data-ttu-id="977d7-317">0</span><span class="sxs-lookup"><span data-stu-id="977d7-317">0</span></span>|<span data-ttu-id="977d7-318">L'exécution a été correctement effectuée.</span><span class="sxs-lookup"><span data-stu-id="977d7-318">Execution was successful.</span></span>|  
|<span data-ttu-id="977d7-319">1</span><span class="sxs-lookup"><span data-stu-id="977d7-319">1</span></span>|<span data-ttu-id="977d7-320">L'exécution a échoué.</span><span class="sxs-lookup"><span data-stu-id="977d7-320">Execution has failed.</span></span>|  
|<span data-ttu-id="977d7-321">2</span><span class="sxs-lookup"><span data-stu-id="977d7-321">2</span></span>|<span data-ttu-id="977d7-322">L'exécution a été effectuée avec des avertissements.</span><span class="sxs-lookup"><span data-stu-id="977d7-322">Execution has completed with warnings.</span></span>|  

## <a name="examples"></a><span data-ttu-id="977d7-323">Exemples</span><span class="sxs-lookup"><span data-stu-id="977d7-323">Examples</span></span>  
 <span data-ttu-id="977d7-324">La commande suivante ajoute le fichier catalogue MyCatalogFileName.cat au composant système et à la base de données de pilotes.</span><span class="sxs-lookup"><span data-stu-id="977d7-324">The following command adds the catalog file MyCatalogFileName.cat to the system component and driver database.</span></span> <span data-ttu-id="977d7-325">L'option `/u` génère un nom unique si nécessaire pour éviter de remplacer un fichier catalogue existant nommé `MyCatalogFileName.cat`.</span><span class="sxs-lookup"><span data-stu-id="977d7-325">The `/u` option generates a unique name if necessary to prevent replacing an existing catalog file named `MyCatalogFileName.cat`.</span></span>  
  
```console  
signtool catdb /v /u MyCatalogFileName.cat  
```  
  
 <span data-ttu-id="977d7-326">La commande suivante signe un fichier automatiquement à l'aide du meilleur certificat.</span><span class="sxs-lookup"><span data-stu-id="977d7-326">The following command signs a file automatically by using the best certificate.</span></span>  
  
```console
signtool sign /a /fd SHA256 MyFile.exe
```

 <span data-ttu-id="977d7-327">La commande suivante signe numériquement un fichier à l'aide d'un certificat stocké dans un fichier PFX protégé par un mot de passe.</span><span class="sxs-lookup"><span data-stu-id="977d7-327">The following command digitally signs a file by using a certificate stored in a password-protected PFX file.</span></span>  
  
```console  
signtool sign /f MyCert.pfx /p MyPassword /fd SHA256 MyFile.exe
```  
  
 <span data-ttu-id="977d7-328">La commande suivante signe numériquement et horodate un fichier.</span><span class="sxs-lookup"><span data-stu-id="977d7-328">The following command digitally signs and time-stamps a file.</span></span> <span data-ttu-id="977d7-329">Le certificat utilisé pour signer le fichier est stocké dans un fichier PFX.</span><span class="sxs-lookup"><span data-stu-id="977d7-329">The certificate used to sign the file is stored in a PFX file.</span></span>  
  
```console  
signtool sign /f MyCert.pfx /t http://timestamp.digicert.com /fd SHA256 MyFile.exe
```  
  
 <span data-ttu-id="977d7-330">La commande suivante signe un fichier à l'aide d'un certificat situé dans le magasin `My` qui a un nom d'objet `My Company Certificate`.</span><span class="sxs-lookup"><span data-stu-id="977d7-330">The following command signs a file by using a certificate located in the `My` store that has a subject name of `My Company Certificate`.</span></span>  
  
```console  
signtool sign /n "My Company Certificate" /fd SHA256 MyFile.exe
```  
  
 <span data-ttu-id="977d7-331">La commande suivante signe un contrôle ActiveX et fournit des informations qui sont affichées par Internet Explorer lorsque l'utilisateur est invité à installer le contrôle.</span><span class="sxs-lookup"><span data-stu-id="977d7-331">The following command signs an ActiveX control and provides information that is displayed by Internet Explorer when the user is prompted to install the control.</span></span>  
  
```console  
Signtool sign /f MyCert.pfx /d: "MyControl" /du http://www.example.com/MyControl/info.html /fd SHA256 MyControl.exe
```  
  
 <span data-ttu-id="977d7-332">La commande suivante horodate à un fichier qui a déjà été signé numériquement.</span><span class="sxs-lookup"><span data-stu-id="977d7-332">The following command time-stamps a file that has already been digitally signed.</span></span>  
  
```console  
signtool timestamp /t http://timestamp.digicert.com MyFile.exe
```  

<span data-ttu-id="977d7-333">L’heure de commande suivante horodate un fichier à l’aide d’un serveur d’horodatage RFC 3161.</span><span class="sxs-lookup"><span data-stu-id="977d7-333">The following command time-stamps a file using an RFC 3161 timestamp server.</span></span>  
  
```console  
signtool timestamp /tr http://timestamp.digicert.com /td SHA256 MyFile.exe
```  
  
 <span data-ttu-id="977d7-334">La commande suivante vérifie qu'un fichier a été signé.</span><span class="sxs-lookup"><span data-stu-id="977d7-334">The following command verifies that a file has been signed.</span></span>  
  
```console  
signtool verify MyFile.exe  
```  
  
 <span data-ttu-id="977d7-335">La commande suivante vérifie un fichier système qui a peut-être été signé dans un catalogue.</span><span class="sxs-lookup"><span data-stu-id="977d7-335">The following command verifies a system file that may be signed in a catalog.</span></span>  
  
```console  
signtool verify /a SystemFile.dll  
```  
  
 <span data-ttu-id="977d7-336">La commande suivante vérifie un fichier système qui est signé dans un catalogue nommé `MyCatalog.cat`.</span><span class="sxs-lookup"><span data-stu-id="977d7-336">The following command verifies a system file that is signed in a catalog named `MyCatalog.cat`.</span></span>  
  
```console  
signtool verify /c MyCatalog.cat SystemFile.dll  
```  
  
## <a name="see-also"></a><span data-ttu-id="977d7-337">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="977d7-337">See also</span></span>

- [<span data-ttu-id="977d7-338">outils</span><span class="sxs-lookup"><span data-stu-id="977d7-338">Tools</span></span>](index.md)
- [<span data-ttu-id="977d7-339">Invites de commandes</span><span class="sxs-lookup"><span data-stu-id="977d7-339">Command Prompts</span></span>](developer-command-prompt-for-vs.md)
