---
title: Mise en cache dans les applications .NET Framework
description: Utilisez la mise en cache dans les applications .NET. En savoir plus sur la mise en cache des données, la mise en cache dans les applications ASP.NET ou les services WCF REST et l’extension de Caching dans .NET.
ms.date: 03/30/2017
helpviewer_keywords:
- ASP.NET caching
- caching [.NET Framework]
- caching [ASP.NET]
ms.assetid: c4b47ee0-4b82-4124-9bce-818088385e34
ms.openlocfilehash: 5518151c26c528095ec91116b53e82e22e23d25f
ms.sourcegitcommit: bc293b14af795e0e999e3304dd40c0222cf2ffe4
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 11/26/2020
ms.locfileid: "96235206"
---
# <a name="caching-in-net-framework-applications"></a><span data-ttu-id="8aa72-104">Mise en cache dans les applications .NET Framework</span><span class="sxs-lookup"><span data-stu-id="8aa72-104">Caching in .NET Framework Applications</span></span>

<span data-ttu-id="8aa72-105">La mise en cache vous permet de stocker des données en mémoire pour y accéder rapidement.</span><span class="sxs-lookup"><span data-stu-id="8aa72-105">Caching enables you to store data in memory for rapid access.</span></span> <span data-ttu-id="8aa72-106">Quand vous accédez à nouveau aux données, les applications peuvent obtenir les données à partir du cache au lieu de devoir les récupérer à partir de la source d’origine.</span><span class="sxs-lookup"><span data-stu-id="8aa72-106">When the data is accessed again, applications can get the data from the cache instead of retrieving it from the original source.</span></span> <span data-ttu-id="8aa72-107">Cela peut améliorer les performances et la scalabilité.</span><span class="sxs-lookup"><span data-stu-id="8aa72-107">This can improve performance and scalability.</span></span> <span data-ttu-id="8aa72-108">La mise en cache rend également les données disponibles quand la source de données est temporairement indisponible.</span><span class="sxs-lookup"><span data-stu-id="8aa72-108">In addition, caching makes data available when the data source is temporarily unavailable.</span></span>

 <span data-ttu-id="8aa72-109">Le .NET Framework fournit des fonctionnalités de mise en cache que vous pouvez utiliser pour améliorer les performances et la scalabilité des applications clientes et de serveur Windows, notamment ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="8aa72-109">The .NET Framework provides caching functionality that you can use to improve the performance and scalability of both Windows client and server applications, including ASP.NET.</span></span>

> [!NOTE]
> <span data-ttu-id="8aa72-110">Dans les versions .NET Framework 3,5 et antérieures, ASP.NET a fourni une implémentation de cache en mémoire dans l' <xref:System.Web.Caching> espace de noms.</span><span class="sxs-lookup"><span data-stu-id="8aa72-110">In the .NET Framework 3.5 and earlier versions, ASP.NET provided an in-memory cache implementation in the <xref:System.Web.Caching> namespace.</span></span> <span data-ttu-id="8aa72-111">Dans les versions précédentes de la .NET Framework, la mise en cache était uniquement disponible dans l' <xref:System.Web> espace de noms et nécessitait donc une dépendance sur les classes ASP.net.</span><span class="sxs-lookup"><span data-stu-id="8aa72-111">In previous versions of the .NET Framework, caching was available only in the <xref:System.Web> namespace and therefore required a dependency on ASP.NET classes.</span></span> <span data-ttu-id="8aa72-112">Dans le .NET Framework 4, l’espace de noms <xref:System.Runtime.Caching> contient des API conçues pour les applications web et non-web.</span><span class="sxs-lookup"><span data-stu-id="8aa72-112">In the .NET Framework 4, the <xref:System.Runtime.Caching> namespace contains APIs that are designed for both Web and non-Web applications.</span></span>

## <a name="caching-data"></a><span data-ttu-id="8aa72-113">Mise en cache des données</span><span class="sxs-lookup"><span data-stu-id="8aa72-113">Caching Data</span></span>

 <span data-ttu-id="8aa72-114">Vous pouvez mettre en cache des informations à l’aide des classes de l’espace de noms <xref:System.Runtime.Caching>.</span><span class="sxs-lookup"><span data-stu-id="8aa72-114">You can cache information by using classes in the <xref:System.Runtime.Caching> namespace.</span></span> <span data-ttu-id="8aa72-115">Les classes de mise en cache dans cet espace de noms fournissent les fonctionnalités suivantes :</span><span class="sxs-lookup"><span data-stu-id="8aa72-115">The caching classes in this namespace provide the following features:</span></span>

- <span data-ttu-id="8aa72-116">Des types abstraits qui fournissent la base pour la création d’implémentations de cache personnalisées</span><span class="sxs-lookup"><span data-stu-id="8aa72-116">Abstract types that provide the foundation for creating custom cache implementations.</span></span>

- <span data-ttu-id="8aa72-117">Une implémentation de cache d’objets en mémoire concrète</span><span class="sxs-lookup"><span data-stu-id="8aa72-117">A concrete in-memory object cache implementation.</span></span>

 <span data-ttu-id="8aa72-118">La classe de mise en cache de base abstraite (<xref:System.Runtime.Caching.ObjectCache>) définit les tâches de mise en cache suivantes :</span><span class="sxs-lookup"><span data-stu-id="8aa72-118">The abstract base caching class (<xref:System.Runtime.Caching.ObjectCache>) defines the following caching tasks:</span></span>

- <span data-ttu-id="8aa72-119">Création et gestion des entrées de cache</span><span class="sxs-lookup"><span data-stu-id="8aa72-119">Creating and managing cache entries.</span></span>

- <span data-ttu-id="8aa72-120">Spécification des informations d’expiration et d’éviction</span><span class="sxs-lookup"><span data-stu-id="8aa72-120">Specifying expiration and eviction information.</span></span>

- <span data-ttu-id="8aa72-121">Événements déclenchés en réponse aux modifications apportées aux entrées de cache</span><span class="sxs-lookup"><span data-stu-id="8aa72-121">Triggering events that are raised in response to changes in cache entries.</span></span>

 <span data-ttu-id="8aa72-122">La classe <xref:System.Runtime.Caching.MemoryCache> est une implémentation de cache d’objets en mémoire de la classe <xref:System.Runtime.Caching.ObjectCache>.</span><span class="sxs-lookup"><span data-stu-id="8aa72-122">The <xref:System.Runtime.Caching.MemoryCache> class is an in-memory object cache implementation of the <xref:System.Runtime.Caching.ObjectCache> class.</span></span> <span data-ttu-id="8aa72-123">Vous pouvez utiliser la classe <xref:System.Runtime.Caching.MemoryCache> pour la plupart des tâches de mise en cache.</span><span class="sxs-lookup"><span data-stu-id="8aa72-123">You can use the <xref:System.Runtime.Caching.MemoryCache> class for most caching tasks.</span></span>

> [!NOTE]
> <span data-ttu-id="8aa72-124">La classe <xref:System.Runtime.Caching.MemoryCache> est modélisée sur l’objet de cache ASP.NET qui est défini dans l’espace de noms <xref:System.Web.Caching>.</span><span class="sxs-lookup"><span data-stu-id="8aa72-124">The <xref:System.Runtime.Caching.MemoryCache> class is modeled on the ASP.NET cache object that is defined in the <xref:System.Web.Caching> namespace.</span></span> <span data-ttu-id="8aa72-125">Par conséquent, la logique de mise en cache interne est similaire à la logique fournie dans les versions antérieures d’ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="8aa72-125">Therefore, the internal caching logic similar to the logic that was provided in earlier versions of ASP.NET.</span></span>

 <span data-ttu-id="8aa72-126">Pour obtenir un exemple qui illustre comment utiliser la mise en cache dans une application WPF, consultez [Procédure pas à pas : mise en cache de données d’application dans une application WPF](/dotnet/desktop/wpf/advanced/walkthrough-caching-application-data-in-a-wpf-application).</span><span class="sxs-lookup"><span data-stu-id="8aa72-126">For an example of how to use to caching in a WPF application, see [Walkthrough: Caching Application Data in a WPF Application](/dotnet/desktop/wpf/advanced/walkthrough-caching-application-data-in-a-wpf-application).</span></span>

## <a name="caching-in-aspnet-applications"></a><span data-ttu-id="8aa72-127">Mise en cache dans les applications ASP.NET</span><span class="sxs-lookup"><span data-stu-id="8aa72-127">Caching in ASP.NET Applications</span></span>

 <span data-ttu-id="8aa72-128">Les classes de mise en cache dans l’espace de noms <xref:System.Runtime.Caching> fournissent la fonctionnalité de mise en cache des données dans ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="8aa72-128">The caching classes in the <xref:System.Runtime.Caching> namespace provide functionality for caching data in ASP.NET.</span></span>

> [!NOTE]
> <span data-ttu-id="8aa72-129">Si votre application cible le .NET Framework 3,5 ou version antérieure, vous devez utiliser les classes de mise en cache qui sont définies dans l' <xref:System.Web.Caching> espace de noms.</span><span class="sxs-lookup"><span data-stu-id="8aa72-129">If your application targets the .NET Framework 3.5 or earlier, you must use the caching classes that are defined in the <xref:System.Web.Caching> namespace.</span></span> <span data-ttu-id="8aa72-130">Pour plus d’informations, consultez [Vue d’ensemble de la mise en cache ASP.NET](/previous-versions/aspnet/ms178597(v=vs.100)).</span><span class="sxs-lookup"><span data-stu-id="8aa72-130">For more information, see [ASP.NET Caching Overview](/previous-versions/aspnet/ms178597(v=vs.100)).</span></span>

> [!NOTE]
> <span data-ttu-id="8aa72-131">Quand vous développez de nouvelles applications, nous vous recommandons d’utiliser la classe <xref:System.Runtime.Caching.MemoryCache>.</span><span class="sxs-lookup"><span data-stu-id="8aa72-131">When you develop new applications, we recommend that you use the <xref:System.Runtime.Caching.MemoryCache> class.</span></span> <span data-ttu-id="8aa72-132">L’API fournie dans l’espace de noms <xref:System.Runtime.Caching> est semblable à celle fournie dans l’espace de noms <xref:System.Web.Caching.Cache>.</span><span class="sxs-lookup"><span data-stu-id="8aa72-132">The API that is provided in the <xref:System.Runtime.Caching> namespace is like the API that is provided in the <xref:System.Web.Caching.Cache> namespace.</span></span> <span data-ttu-id="8aa72-133">Ainsi, elle vous sera familière si vous utilisiez la mise en cache dans les versions antérieures d’ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="8aa72-133">Therefore, the API will be familiar if you used caching in earlier versions of ASP.NET.</span></span> <span data-ttu-id="8aa72-134">Pour obtenir un exemple qui illustre comment utiliser la mise en cache dans les application ASP.NET, consultez [Procédure pas à pas : mise en cache de données d’application dans ASP.NET](/previous-versions/ff477235(v=vs.100)).</span><span class="sxs-lookup"><span data-stu-id="8aa72-134">For an example of how to use caching in ASP.NET applications, see [Walkthrough: Caching Application Data in ASP.NET](/previous-versions/ff477235(v=vs.100)).</span></span>

### <a name="output-caching"></a><span data-ttu-id="8aa72-135">Mise en cache de sortie</span><span class="sxs-lookup"><span data-stu-id="8aa72-135">Output Caching</span></span>

 <span data-ttu-id="8aa72-136">Pour mettre manuellement en cache les données d’application, vous pouvez utiliser la classe <xref:System.Runtime.Caching.MemoryCache> dans ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="8aa72-136">To manually cache application data, you can use the <xref:System.Runtime.Caching.MemoryCache> class in ASP.NET.</span></span> <span data-ttu-id="8aa72-137">ASP.NET prend également en charge la mise en cache de sortie, qui stocke la sortie générée des pages, des contrôles et des réponses HTTP en mémoire.</span><span class="sxs-lookup"><span data-stu-id="8aa72-137">ASP.NET also supports output caching, which stores the generated output of pages, controls, and HTTP responses in memory.</span></span> <span data-ttu-id="8aa72-138">Vous pouvez configurer la mise en cache de sortie de façon déclarative dans une page web ASP.NET ou à l’aide de paramètres dans le fichier Web.config.</span><span class="sxs-lookup"><span data-stu-id="8aa72-138">You can configure output caching declaratively in an ASP.NET Web page or by using settings in the Web.config file.</span></span> <span data-ttu-id="8aa72-139">Pour plus d’informations, consultez [outputCache, élément de caching (Schéma des paramètres ASP.NET)](/previous-versions/dotnet/netframework-4.0/ms228124(v=vs.100)).</span><span class="sxs-lookup"><span data-stu-id="8aa72-139">For more information, see [outputCache Element for caching (ASP.NET Settings Schema)](/previous-versions/dotnet/netframework-4.0/ms228124(v=vs.100)).</span></span>

 <span data-ttu-id="8aa72-140">ASP.NET vous permet d’étendre la mise en cache de sortie en créant des fournisseurs de cache de sortie personnalisés.</span><span class="sxs-lookup"><span data-stu-id="8aa72-140">ASP.NET lets you extend output caching by creating custom output-cache providers.</span></span> <span data-ttu-id="8aa72-141">Grâce aux fournisseurs personnalisés, vous pouvez stocker le contenu mis en cache à l’aide d’autres dispositifs de stockage tels que des disques, le stockage cloud et des moteurs de cache distribué.</span><span class="sxs-lookup"><span data-stu-id="8aa72-141">By using custom providers, you can store cached content using other storage devices such as disks, cloud storage, and distributed cache engines.</span></span> <span data-ttu-id="8aa72-142">Pour créer un fournisseur de cache de sortie personnalisé, vous devez créer une classe qui dérive de la classe <xref:System.Web.Caching.OutputCacheProvider> et configurer l’application pour qu’elle utilise le fournisseur de cache de sortie personnalisé.</span><span class="sxs-lookup"><span data-stu-id="8aa72-142">To create a custom output cache provider, you create a class that derives from the <xref:System.Web.Caching.OutputCacheProvider> class and configure the application to use the custom output cache provider.</span></span>

## <a name="caching-in-wcf-rest-services"></a><span data-ttu-id="8aa72-143">Mise en cache dans les services REST WCF</span><span class="sxs-lookup"><span data-stu-id="8aa72-143">Caching in WCF REST Services</span></span>

 <span data-ttu-id="8aa72-144">Pour les services REST WCF, le .NET Framework vous permet de tirer parti de la mise en cache de sortie déclarative disponible dans ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="8aa72-144">For WCF REST services, the .NET Framework enables you to take advantage of the declarative output caching that is available in ASP.NET.</span></span> <span data-ttu-id="8aa72-145">Cela vous permet de mettre en cache les réponses provenant de vos opérations de service REST WCF.</span><span class="sxs-lookup"><span data-stu-id="8aa72-145">This enables you to cache responses from your WCF REST service operations.</span></span> <span data-ttu-id="8aa72-146">Quand un utilisateur envoie une requête HTTP GET à un service configuré pour la mise en cache, ASP.NET renvoie la réponse mise en cache et la méthode de service n’est pas appelée.</span><span class="sxs-lookup"><span data-stu-id="8aa72-146">When a user sends an HTTP GET request to a service that is configured for caching, ASP.NET sends back the cached response, and the service method is not called.</span></span> <span data-ttu-id="8aa72-147">Une fois le cache expiré, au prochain envoi d’une requête HTTP GET par un utilisateur, votre méthode de service est appelée et la réponse est à nouveau mise en cache.</span><span class="sxs-lookup"><span data-stu-id="8aa72-147">After the cache expires, the next time that a user sends an HTTP GET request, your service method is called and the response is again cached.</span></span>

 <span data-ttu-id="8aa72-148">Le .NET Framework vous permet également d’implémenter une mise en cache HTTP GET conditionnelle.</span><span class="sxs-lookup"><span data-stu-id="8aa72-148">The .NET Framework also enables you to implement conditional HTTP GET caching.</span></span> <span data-ttu-id="8aa72-149">Dans les scénarios REST, une requête HTTP GET conditionnelle est souvent utilisée par les services pour implémenter une mise en cache HTTP intelligente, comme décrit dans [HTTP Specification](https://www.w3.org/Protocols/rfc2616/rfc2616.html).</span><span class="sxs-lookup"><span data-stu-id="8aa72-149">In REST scenarios, a conditional HTTP GET request is often used by services to implement intelligent HTTP caching as described in the [HTTP Specification](https://www.w3.org/Protocols/rfc2616/rfc2616.html).</span></span> <span data-ttu-id="8aa72-150">Pour plus d’informations, consultez [Prise en charge de la mise en cache pour les services HTTP Web WCF](../wcf/feature-details/caching-support-for-wcf-web-http-services.md).</span><span class="sxs-lookup"><span data-stu-id="8aa72-150">For more information, see [Caching Support for WCF Web HTTP Services](../wcf/feature-details/caching-support-for-wcf-web-http-services.md).</span></span>

## <a name="extending-caching-in-the-net-framework"></a><span data-ttu-id="8aa72-151">Extension de la mise en cache dans le .NET Framework</span><span class="sxs-lookup"><span data-stu-id="8aa72-151">Extending Caching in the .NET Framework</span></span>

 <span data-ttu-id="8aa72-152">La mise en cache dans le .NET Framework est conçue pour être extensible.</span><span class="sxs-lookup"><span data-stu-id="8aa72-152">Caching in the .NET Framework is designed to be extensible.</span></span> <span data-ttu-id="8aa72-153">La classe <xref:System.Runtime.Caching.ObjectCache> vous permet de créer une implémentation de cache personnalisée.</span><span class="sxs-lookup"><span data-stu-id="8aa72-153">The <xref:System.Runtime.Caching.ObjectCache> class enables you to create a custom cache implementation.</span></span> <span data-ttu-id="8aa72-154">Cette classe fournit des membres accessibles à toutes les applications managées, notamment Windows Forms, Windows Presentation Foundation (WPF) et Windows Communication Foundation (WCF).</span><span class="sxs-lookup"><span data-stu-id="8aa72-154">This class provides members that are available to all managed applications, including Windows Forms, Windows Presentation Foundation (WPF), and Windows Communications Foundation (WCF).</span></span> <span data-ttu-id="8aa72-155">Vous pouvez ainsi créer une classe de cache qui utilise un mécanisme de stockage différent, ou obtenir un contrôle précis des opérations de cache.</span><span class="sxs-lookup"><span data-stu-id="8aa72-155">You might do this in order to create a cache class that uses a different storage mechanism, or if you want granular control over cache operations.</span></span>

 <span data-ttu-id="8aa72-156">Pour étendre la mise en cache, vous pouvez effectuer les étapes ci-dessous :</span><span class="sxs-lookup"><span data-stu-id="8aa72-156">To extend caching you can do the following:</span></span>

- <span data-ttu-id="8aa72-157">Créer une classe personnalisée qui dérive de la classe <xref:System.Runtime.Caching.ObjectCache>, puis fournir une implémentation de cache personnalisée dans la classe dérivée.</span><span class="sxs-lookup"><span data-stu-id="8aa72-157">Create a custom class that derives from the <xref:System.Runtime.Caching.ObjectCache> class and then provide a custom cache implementation in the derived class.</span></span>

- <span data-ttu-id="8aa72-158">Créer une classe qui dérive de la classe <xref:System.Runtime.Caching.MemoryCache> et personnaliser et étendre la classe dérivée.</span><span class="sxs-lookup"><span data-stu-id="8aa72-158">Create a class that derives from <xref:System.Runtime.Caching.MemoryCache> class and customize or extend the derived class.</span></span> <span data-ttu-id="8aa72-159">Pour obtenir un exemple illustrant comment procéder, consultez [Caching Application Data by Using Multiple Cache Objects in an ASP.NET Application](/archive/blogs/aspnetue/caching-application-data-by-using-multiple-cache-objects-in-an-asp-net-application).</span><span class="sxs-lookup"><span data-stu-id="8aa72-159">For an example of how to do this, see [Caching Application Data by Using Multiple Cache Objects in an ASP.NET Application](/archive/blogs/aspnetue/caching-application-data-by-using-multiple-cache-objects-in-an-asp-net-application).</span></span>

- <span data-ttu-id="8aa72-160">Créer une classe qui dérive de la classe <xref:System.Web.Caching.OutputCacheProvider> et configurer l’application pour qu’elle utilise le fournisseur de cache de sortie personnalisé.</span><span class="sxs-lookup"><span data-stu-id="8aa72-160">Create a class that derives from the <xref:System.Web.Caching.OutputCacheProvider> class and configure the application to use the custom output cache provider.</span></span>

 <span data-ttu-id="8aa72-161">Pour plus d’informations, consultez l’entrée [mise en cache de sortie extensible avec ASP.net 4 (série VS 2010 et .NET Framework 4,0)](https://weblogs.asp.net/scottgu/extensible-output-caching-with-asp-net-4-vs-2010-and-net-4-0-series) sur le blog de Scott Guthrie.</span><span class="sxs-lookup"><span data-stu-id="8aa72-161">For more information, see the entry [Extensible Output Caching with ASP.NET 4 (VS 2010 and .NET Framework 4.0 Series)](https://weblogs.asp.net/scottgu/extensible-output-caching-with-asp-net-4-vs-2010-and-net-4-0-series) on Scott Guthrie's blog.</span></span>

## <a name="see-also"></a><span data-ttu-id="8aa72-162">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="8aa72-162">See also</span></span>

- <xref:System.Runtime.Caching.ObjectCache>
- <xref:System.Runtime.Caching.MemoryCache>
- [<span data-ttu-id="8aa72-163">Procédure pas à pas : mise en cache des données d’application dans une application WPF</span><span class="sxs-lookup"><span data-stu-id="8aa72-163">Walkthrough: Caching Application Data in a WPF Application</span></span>](/dotnet/desktop/wpf/advanced/walkthrough-caching-application-data-in-a-wpf-application)
- <span data-ttu-id="8aa72-164">[Procédure pas à pas : mise en cache de données d’application dans ASP.NET](/previous-versions/ff477235(v=vs.100))</span><span class="sxs-lookup"><span data-stu-id="8aa72-164">[Walkthrough: Caching Application Data in ASP.NET](/previous-versions/ff477235(v=vs.100))</span></span>
