---
title: Construire une solution complète .NET Core à l’aide de Visual Studio pour Mac
description: Cet article vous guide à travers la construction d’une solution .NET Core qui comprend une bibliothèque réutilisable et des tests unitaires.
ms.date: 12/19/2019
ms.openlocfilehash: 8c9fcca404a3875b6bb7f9cf20551a017ff553c5
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 03/14/2020
ms.locfileid: "78239961"
---
# <a name="build-a-complete-net-core-solution-on-macos-using-visual-studio-for-mac"></a><span data-ttu-id="991ec-103">Construire une solution complète .NET Core sur macOS à l’aide de Visual Studio pour Mac</span><span class="sxs-lookup"><span data-stu-id="991ec-103">Build a complete .NET Core solution on macOS using Visual Studio for Mac</span></span>

<span data-ttu-id="991ec-104">Visual Studio pour Mac fournit un environnement de développement intégré (IDE) complet pour le développement d’applications .NET Core.</span><span class="sxs-lookup"><span data-stu-id="991ec-104">Visual Studio for Mac provides a full-featured Integrated Development Environment (IDE) for developing .NET Core applications.</span></span> <span data-ttu-id="991ec-105">Cet article vous guide à travers la construction d’une solution .NET Core qui comprend une bibliothèque réutilisable et des tests unitaires.</span><span class="sxs-lookup"><span data-stu-id="991ec-105">This article walks you through building a .NET Core solution that includes a reusable library and unit testing.</span></span>

<span data-ttu-id="991ec-106">Ce didacticiel vous montre comment créer une application qui accepte un terme de recherche et une chaîne de texte saisis par l’utilisateur, compte le nombre de fois où le terme de recherche apparaît dans la chaîne à l’aide d’une méthode dans une bibliothèque de classes puis retourne le résultat à l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="991ec-106">This tutorial shows you how to create an application that accepts a search word and a string of text from the user, counts the number of times the search word appears in the string using a method in a class library, and returns the result to the user.</span></span> <span data-ttu-id="991ec-107">La solution inclut également des tests unitaires pour la bibliothèque de classes servant d’introduction aux concepts des tests unitaires.</span><span class="sxs-lookup"><span data-stu-id="991ec-107">The solution also includes unit testing for the class library as an introduction to unit testing concepts.</span></span> <span data-ttu-id="991ec-108">Si vous préférez poursuivre le didacticiel avec un exemple complet, téléchargez l’[exemple de solution](https://github.com/dotnet/samples/blob/master/core/tutorials/using-on-mac-vs-full-solution/WordCounter).</span><span class="sxs-lookup"><span data-stu-id="991ec-108">If you prefer to proceed through the tutorial with a complete sample, download the [sample solution](https://github.com/dotnet/samples/blob/master/core/tutorials/using-on-mac-vs-full-solution/WordCounter).</span></span> <span data-ttu-id="991ec-109">Pour obtenir des instructions de téléchargement, consultez [Exemples et didacticiels](../../samples-and-tutorials/index.md#viewing-and-downloading-samples).</span><span class="sxs-lookup"><span data-stu-id="991ec-109">For download instructions, see [Samples and Tutorials](../../samples-and-tutorials/index.md#viewing-and-downloading-samples).</span></span>

> [!NOTE]
> <span data-ttu-id="991ec-110">Vos commentaires sont extrêmement précieux.</span><span class="sxs-lookup"><span data-stu-id="991ec-110">Your feedback is highly valued.</span></span> <span data-ttu-id="991ec-111">Il existe deux moyens de transmettre vos commentaires à l’équipe de développement sur Visual Studio pour Mac :</span><span class="sxs-lookup"><span data-stu-id="991ec-111">There are two ways you can provide feedback to the development team on Visual Studio for Mac:</span></span>
>
> - <span data-ttu-id="991ec-112">Dans Visual Studio for Mac, sélectionnez **Help** > **Report a Problem** du menu ou **signalez un problème** à partir de l’écran De bienvenue, qui ouvre une fenêtre pour le dépôt d’un rapport de bogue.</span><span class="sxs-lookup"><span data-stu-id="991ec-112">In Visual Studio for Mac, select **Help** > **Report a Problem** from the menu or **Report a Problem** from the Welcome screen, which opens a window for filing a bug report.</span></span> <span data-ttu-id="991ec-113">Vous pouvez effectuer le suivi de vos commentaires dans le portail de la [communauté des développeurs](https://developercommunity.visualstudio.com/spaces/41/index.html).</span><span class="sxs-lookup"><span data-stu-id="991ec-113">You can track your feedback in the [Developer Community](https://developercommunity.visualstudio.com/spaces/41/index.html) portal.</span></span>
> - <span data-ttu-id="991ec-114">Pour faire une suggestion, sélectionnez **Aide** > **Fournir une suggestion** dans le menu ou fournir une **suggestion** à partir de l’écran de bienvenue, qui vous emmène au studio visuel pour Mac Developer Community [page Web](https://developercommunity.visualstudio.com/content/idea/post.html?space=41).</span><span class="sxs-lookup"><span data-stu-id="991ec-114">To make a suggestion, select **Help** > **Provide a Suggestion** from the menu or **Provide a Suggestion** from the Welcome screen, which takes you to the [Visual Studio for Mac Developer Community webpage](https://developercommunity.visualstudio.com/content/idea/post.html?space=41).</span></span>

## <a name="prerequisites"></a><span data-ttu-id="991ec-115">Conditions préalables requises</span><span class="sxs-lookup"><span data-stu-id="991ec-115">Prerequisites</span></span>

- [<span data-ttu-id="991ec-116">.NET Core SDK 3.1 ou plus tard</span><span class="sxs-lookup"><span data-stu-id="991ec-116">.NET Core SDK 3.1 or later</span></span>](https://dotnet.microsoft.com/download)
- [<span data-ttu-id="991ec-117">Visual Studio 2019 pour Mac</span><span class="sxs-lookup"><span data-stu-id="991ec-117">Visual Studio 2019 for Mac</span></span>](https://visualstudio.microsoft.com/vs/mac/?utm_medium=microsoft&utm_source=docs.microsoft.com&utm_campaign=inline+link)

<span data-ttu-id="991ec-118">Pour plus d’informations sur les conditions préalables, voir les [dépendances et les exigences .NET Core](../install/dependencies.md?pivots=os-macos).</span><span class="sxs-lookup"><span data-stu-id="991ec-118">For more information on prerequisites, see the [.NET Core dependencies and requirements](../install/dependencies.md?pivots=os-macos).</span></span> <span data-ttu-id="991ec-119">Pour les exigences système complète de Visual Studio 2019 pour Mac, voir [Visual Studio 2019 pour Mac Product Family System Requirements](/visualstudio/productinfo/vs2019-system-requirements-mac).</span><span class="sxs-lookup"><span data-stu-id="991ec-119">For the full system requirements of Visual Studio 2019 for Mac, see [Visual Studio 2019 for Mac Product Family System Requirements](/visualstudio/productinfo/vs2019-system-requirements-mac).</span></span>

## <a name="building-a-library"></a><span data-ttu-id="991ec-120">Génération d'une bibliothèque</span><span class="sxs-lookup"><span data-stu-id="991ec-120">Building a library</span></span>

1. <span data-ttu-id="991ec-121">Sur la fenêtre de départ, sélectionnez **New Project**.</span><span class="sxs-lookup"><span data-stu-id="991ec-121">On the start window, select **New Project**.</span></span> <span data-ttu-id="991ec-122">Dans la boîte de dialogue **Nouveau projet**, sous le nœud **.NET Core**, sélectionnez le modèle **Bibliothèque standard .NET**.</span><span class="sxs-lookup"><span data-stu-id="991ec-122">In the **New Project** dialog under the **.NET Core** node, select the **.NET Standard Library** template.</span></span> <span data-ttu-id="991ec-123">Cette commande crée une bibliothèque .NET Standard qui cible .NET Core ainsi que toute autre implémentation .NET qui prend en charge la version 2.1 de la [norme .NET](../../standard/net-standard.md).</span><span class="sxs-lookup"><span data-stu-id="991ec-123">This command creates a .NET Standard library that targets .NET Core as well as any other .NET implementation that supports version 2.1 of the [.NET Standard](../../standard/net-standard.md).</span></span> <span data-ttu-id="991ec-124">Si vous avez plusieurs versions du .NET Core SDK installé, vous pouvez choisir différentes versions de .NET Standard pour votre bibliothèque.</span><span class="sxs-lookup"><span data-stu-id="991ec-124">If you have multiple versions of the .NET Core SDK installed, you can choose different versions of .NET Standard for your library.</span></span> <span data-ttu-id="991ec-125">Choisissez ".NET Standard 2.1" et sélectionnez **Next**.</span><span class="sxs-lookup"><span data-stu-id="991ec-125">Choose ".NET Standard 2.1" and select **Next**.</span></span>

   > [!div class="mx-imgBorder"]
   > <span data-ttu-id="991ec-126">![Boîte de dialogue Nouveau projet Mac dans Visual Studio](./media/using-on-mac-vs-full-solution/visual-studio-mac-new-project.png)</span><span class="sxs-lookup"><span data-stu-id="991ec-126">![Visual Studio for Mac New project dialog](./media/using-on-mac-vs-full-solution/visual-studio-mac-new-project.png)</span></span>

1. <span data-ttu-id="991ec-127">Nommez le projet « TextUtils » (un nom court pour « Utilitaires texte ») et la solution « WordCounter ».</span><span class="sxs-lookup"><span data-stu-id="991ec-127">Name the project "TextUtils" (a short name for "Text Utilities") and the solution "WordCounter".</span></span> <span data-ttu-id="991ec-128">Laissez la case **Créez un répertoire de projet dans le répertoire de la solution** cochée.</span><span class="sxs-lookup"><span data-stu-id="991ec-128">Leave **Create a project directory within the solution directory** checked.</span></span> <span data-ttu-id="991ec-129">Sélectionnez **Créer**.</span><span class="sxs-lookup"><span data-stu-id="991ec-129">Select **Create**.</span></span>

   > [!div class="mx-imgBorder"]
   > <span data-ttu-id="991ec-130">![Options de la boîte de dialogue Nouveau projet dans Visual Studio pour Mac](./media/using-on-mac-vs-full-solution/visual-studio-mac-new-project-options.png)</span><span class="sxs-lookup"><span data-stu-id="991ec-130">![Visual Studio for Mac New project dialog options](./media/using-on-mac-vs-full-solution/visual-studio-mac-new-project-options.png)</span></span>

1. <span data-ttu-id="991ec-131">Dans le bloc **solution,** étendre le `TextUtils` nœud pour révéler le fichier de classe fourni par le modèle, *Class1.cs*.</span><span class="sxs-lookup"><span data-stu-id="991ec-131">In the **Solution** pad, expand the `TextUtils` node to reveal the class file provided by the template, *Class1.cs*.</span></span> <span data-ttu-id="991ec-132">Ctrl-cliquez sur le fichier, **sélectionnez Renommer** dans le menu contextuelle, et renommer le fichier à *WordCount.cs*.</span><span class="sxs-lookup"><span data-stu-id="991ec-132">Ctrl-click the file, select **Rename** from the context menu, and rename the file to *WordCount.cs*.</span></span> <span data-ttu-id="991ec-133">Ouvrez le fichier et remplacez le contenu par le code suivant :</span><span class="sxs-lookup"><span data-stu-id="991ec-133">Open the file and replace the contents with the following code:</span></span>

   [!code-csharp[Main](../../../samples/snippets/core/tutorials/using-on-mac-vs-full-solution/csharp/TextUtils/WordCount.cs)]

1. <span data-ttu-id="991ec-134">Enregistrez le fichier en utilisant l’une des trois méthodes différentes : utilisez le raccourci clavier <kbd>&#8984;</kbd> + <kbd>s,</kbd>sélectionnez **Fichier** > **Enregistrer** dans le menu, ou cliquez sur l’onglet du fichier et sélectionnez **Enregistrer** dans le menu contextuel.</span><span class="sxs-lookup"><span data-stu-id="991ec-134">Save the file by using any of three different methods: use the keyboard shortcut <kbd>&#8984;</kbd>+<kbd>s</kbd>, select **File** > **Save** from the menu, or ctrl-click on the file's tab and select **Save** from the contextual menu.</span></span> <span data-ttu-id="991ec-135">L’image suivante présente la fenêtre de l’IDE :</span><span class="sxs-lookup"><span data-stu-id="991ec-135">The following image shows the IDE window:</span></span>

   > [!div class="mx-imgBorder"]
   > <span data-ttu-id="991ec-136">![Fenêtre de l’IDE Visual Studio pour Mac avec fichier de bibliothèque de classes et méthode](./media/using-on-mac-vs-full-solution/visual-studio-mac-editor.png)</span><span class="sxs-lookup"><span data-stu-id="991ec-136">![Visual Studio for Mac IDE window with class library file and method](./media/using-on-mac-vs-full-solution/visual-studio-mac-editor.png)</span></span>

1. <span data-ttu-id="991ec-137">Sélectionnez **Erreurs** dans la marge en bas de la fenêtre de l’IDE pour ouvrir le panneau **Erreurs**.</span><span class="sxs-lookup"><span data-stu-id="991ec-137">Select **Errors** in the margin at the bottom of the IDE window to open the **Errors** panel.</span></span> <span data-ttu-id="991ec-138">Sélectionnez le bouton **Sortie de la build**.</span><span class="sxs-lookup"><span data-stu-id="991ec-138">Select the **Build Output** button.</span></span>

   > [!div class="mx-imgBorder"]
   > <span data-ttu-id="991ec-139">![Marge inférieure de l’IDE Visual Studio pour Mac montrant le bouton Erreurs](./media/using-on-mac-vs-full-solution/visual-studio-mac-error-button.png)</span><span class="sxs-lookup"><span data-stu-id="991ec-139">![Bottom margin of the Visual Studio Mac IDE showing the Errors button](./media/using-on-mac-vs-full-solution/visual-studio-mac-error-button.png)</span></span>

1. <span data-ttu-id="991ec-140">Sélectionnez **Build** > **Build All** dans le menu.</span><span class="sxs-lookup"><span data-stu-id="991ec-140">Select **Build** > **Build All** from the menu.</span></span>

   <span data-ttu-id="991ec-141">La solution se génère.</span><span class="sxs-lookup"><span data-stu-id="991ec-141">The solution builds.</span></span> <span data-ttu-id="991ec-142">Le panneau de sortie de la build indique que la build a réussi.</span><span class="sxs-lookup"><span data-stu-id="991ec-142">The build output panel shows that the build is successful.</span></span>

   > [!div class="mx-imgBorder"]
   > <span data-ttu-id="991ec-143">![Volet Sortie de la build Visual Studio pour Mac du panneau Erreurs avec le message de réussite de la build](./media/using-on-mac-vs-full-solution/visual-studio-mac-build-panel.png)</span><span class="sxs-lookup"><span data-stu-id="991ec-143">![Visual Studio Mac Build output pane of the Errors panel with Build successful message](./media/using-on-mac-vs-full-solution/visual-studio-mac-build-panel.png)</span></span>

## <a name="creating-a-test-project"></a><span data-ttu-id="991ec-144">Création d'un projet de test</span><span class="sxs-lookup"><span data-stu-id="991ec-144">Creating a test project</span></span>

<span data-ttu-id="991ec-145">Les tests unitaires effectuent des tests logiciels automatisés pendant le développement et la publication.</span><span class="sxs-lookup"><span data-stu-id="991ec-145">Unit tests provide automated software testing during your development and publishing.</span></span> <span data-ttu-id="991ec-146">Le cadre de test que vous utilisez dans ce tutoriel est [xUnit (version 2.4.0 ou plus tard)](https://xunit.github.io/), qui est installé automatiquement lorsque le projet de test xUnit est ajouté à la solution dans les étapes suivantes:</span><span class="sxs-lookup"><span data-stu-id="991ec-146">The testing framework that you use in this tutorial is [xUnit (version 2.4.0 or later)](https://xunit.github.io/), which is installed automatically when the xUnit test project is added to the solution in the following steps:</span></span>

1. <span data-ttu-id="991ec-147">Dans la barre latérale **Solution,** cliquez `WordCounter` sur la solution et **sélectionnez Ajouter** > **nouveau projet**.</span><span class="sxs-lookup"><span data-stu-id="991ec-147">In the **Solution** sidebar, ctrl-click the `WordCounter` solution and select **Add** > **Add New Project**.</span></span>

1. <span data-ttu-id="991ec-148">Dans la boîte de dialogue **Nouveau projet**, sélectionnez **Tests** dans le nœud **.NET Core**.</span><span class="sxs-lookup"><span data-stu-id="991ec-148">In the **New Project** dialog, select **Tests** from the **.NET Core** node.</span></span> <span data-ttu-id="991ec-149">Sélectionnez le **projet de test xUnit** puis **suivant**.</span><span class="sxs-lookup"><span data-stu-id="991ec-149">Select the **xUnit Test Project** followed by **Next**.</span></span>

   > [!div class="mx-imgBorder"]
   > <span data-ttu-id="991ec-150">![Boîte de dialogue Nouveau projet dans Visual Studio pour Mac afin de créer le projet de test xUnit](./media/using-on-mac-vs-full-solution/visual-studio-mac-unit-test-project.png)</span><span class="sxs-lookup"><span data-stu-id="991ec-150">![Visual Studio Mac New Project dialog creating xUnit test project](./media/using-on-mac-vs-full-solution/visual-studio-mac-unit-test-project.png)</span></span>

1. <span data-ttu-id="991ec-151">Si vous avez plusieurs versions du .NET Core SDK, vous devrez sélectionner la version pour ce projet.</span><span class="sxs-lookup"><span data-stu-id="991ec-151">If you have multiple versions of the .NET Core SDK, you'll need to select the version for this project.</span></span> <span data-ttu-id="991ec-152">Sélectionnez **.NET Core 3.1**.</span><span class="sxs-lookup"><span data-stu-id="991ec-152">Select **.NET Core 3.1**.</span></span> <span data-ttu-id="991ec-153">Nommez le nouveau projet « TestLibrary » et sélectionnez **Créer**.</span><span class="sxs-lookup"><span data-stu-id="991ec-153">Name the new project "TestLibrary" and select **Create**.</span></span>

   > [!div class="mx-imgBorder"]
   > <span data-ttu-id="991ec-154">![Boîte de dialogue Nouveau projet dans Visual Studio pour Mac indiquant le nom du projet](./media/using-on-mac-vs-full-solution/visual-studio-mac-new-project-name.png)</span><span class="sxs-lookup"><span data-stu-id="991ec-154">![Visual Studio Mac New Project dialog providing project name](./media/using-on-mac-vs-full-solution/visual-studio-mac-new-project-name.png)</span></span>

1. <span data-ttu-id="991ec-155">Pour que la bibliothèque de test fonctionne avec la classe `WordCount`, ajoutez une référence au projet `TextUtils`.</span><span class="sxs-lookup"><span data-stu-id="991ec-155">In order for the test library to work with the `WordCount` class, add a reference to the `TextUtils` project.</span></span> <span data-ttu-id="991ec-156">Dans la barre latérale **Solution,** ctrl-click **Dépendances** sous **TestLibrary**.</span><span class="sxs-lookup"><span data-stu-id="991ec-156">In the **Solution** sidebar, ctrl-click **Dependencies** under **TestLibrary**.</span></span> <span data-ttu-id="991ec-157">Sélectionnez **Modifier les références** dans le menu contextuel.</span><span class="sxs-lookup"><span data-stu-id="991ec-157">Select **Edit References** from the context menu.</span></span>

1. <span data-ttu-id="991ec-158">Dans le dialogue **Edit References,** sélectionnez le projet **TextUtils** sur l’onglet **Projets.** Sélectionnez **OK**.</span><span class="sxs-lookup"><span data-stu-id="991ec-158">In the **Edit References** dialog, select the **TextUtils** project on the **Projects** tab. Select **OK**.</span></span>

   > [!div class="mx-imgBorder"]
   > <span data-ttu-id="991ec-159">![Boîte de dialogue Modifier les références dans Visual Studio pour Mac](./media/using-on-mac-vs-full-solution/visual-studio-mac-edit-references.png)</span><span class="sxs-lookup"><span data-stu-id="991ec-159">![Visual Studio Mac Edit References dialog](./media/using-on-mac-vs-full-solution/visual-studio-mac-edit-references.png)</span></span>

1. <span data-ttu-id="991ec-160">Dans le projet **TestLibrary**, renommez le fichier *UnitTest1.cs\*\*TextUtilsTests.cs*.</span><span class="sxs-lookup"><span data-stu-id="991ec-160">In the **TestLibrary** project, rename the *UnitTest1.cs* file to *TextUtilsTests.cs*.</span></span>

1. <span data-ttu-id="991ec-161">Ouvrez le fichier et remplacez le code par le code suivant :</span><span class="sxs-lookup"><span data-stu-id="991ec-161">Open the file and replace the code with the following code:</span></span>

   ```csharp
   using Xunit;
   using TextUtils;
   using System.Diagnostics;

   namespace TestLibrary
   {
       public class TextUtils_GetWordCountShould
       {
           [Fact]
           public void IgnoreCasing()
           {
               var wordCount = WordCount.GetWordCount("Jack", "Jack jack");

               Assert.NotEqual(2, wordCount);
           }
       }
   }
   ```

   <span data-ttu-id="991ec-162">L’image suivante montre l’IDE avec le code de test unitaire en place.</span><span class="sxs-lookup"><span data-stu-id="991ec-162">The following image shows the IDE with the unit test code in place.</span></span> <span data-ttu-id="991ec-163">Faites attention à l’instruction `Assert.NotEqual`.</span><span class="sxs-lookup"><span data-stu-id="991ec-163">Pay attention to the `Assert.NotEqual` statement.</span></span>

   > [!div class="mx-imgBorder"]
   > <span data-ttu-id="991ec-164">![Test unitaire initial dans Visual Studio pour Mac dans la fenêtre principale de l’IDE](./media/using-on-mac-vs-full-solution/visual-studio-mac-assert-test.png)</span><span class="sxs-lookup"><span data-stu-id="991ec-164">![Visual Studio for Mac Initial unit test in the IDE main window](./media/using-on-mac-vs-full-solution/visual-studio-mac-assert-test.png)</span></span>

   <span data-ttu-id="991ec-165">Il est important de faire échouer un nouveau test une fois, afin de vérifier que sa logique de test est correcte.</span><span class="sxs-lookup"><span data-stu-id="991ec-165">It's important to make a new test fail once to confirm its testing logic is correct.</span></span> <span data-ttu-id="991ec-166">La méthode passe le nom « Jack » (majuscule) et une chaîne avec « Jack » et « jack » (majuscules et minuscules).</span><span class="sxs-lookup"><span data-stu-id="991ec-166">The method passes in the name "Jack" (uppercase) and a string with "Jack" and "jack" (uppercase and lowercase).</span></span> <span data-ttu-id="991ec-167">Si la méthode `GetWordCount` fonctionne correctement, elle retourne deux instances du mot recherché.</span><span class="sxs-lookup"><span data-stu-id="991ec-167">If the `GetWordCount` method is working properly, it returns a count of two instances of the search word.</span></span> <span data-ttu-id="991ec-168">Pour faire échouer ce test intentionnellement, vous implémentez d’abord le test en déclarant que deux instances du mot recherché « Jack » ne sont pas retournées par la méthode `GetWordCount`.</span><span class="sxs-lookup"><span data-stu-id="991ec-168">In order to fail this test on purpose, you first implement the test asserting that two instances of the search word "Jack" aren't returned by the `GetWordCount` method.</span></span> <span data-ttu-id="991ec-169">Passez à l’étape suivante pour faire échouer le test intentionnellement.</span><span class="sxs-lookup"><span data-stu-id="991ec-169">Continue to the next step to fail the test on purpose.</span></span>

1. <span data-ttu-id="991ec-170">Ouvrez le panneau **Tests unitaires** sur le côté droit de l’écran.</span><span class="sxs-lookup"><span data-stu-id="991ec-170">Open the **Unit Tests** panel on the right side of the screen.</span></span> <span data-ttu-id="991ec-171">Sélectionnez **Voir** > **les tests** dans le menu.</span><span class="sxs-lookup"><span data-stu-id="991ec-171">Select **View** > **Tests** from the menu.</span></span>

   > [!div class="mx-imgBorder"]
   > <span data-ttu-id="991ec-172">![Panneau Tests unitaires Visual Studio pour Mac](./media/using-on-mac-vs-full-solution/visual-studio-mac-unit-test-panel.png)</span><span class="sxs-lookup"><span data-stu-id="991ec-172">![Visual Studio for Mac Unit Tests panel](./media/using-on-mac-vs-full-solution/visual-studio-mac-unit-test-panel.png)</span></span>

1. <span data-ttu-id="991ec-173">Cliquez sur l’icône **Ancrer** pour garder le panneau ouvert.</span><span class="sxs-lookup"><span data-stu-id="991ec-173">Click the **Dock** icon to keep the panel open.</span></span> <span data-ttu-id="991ec-174">(Surlignée dans l’image suivante.)</span><span class="sxs-lookup"><span data-stu-id="991ec-174">(Highlighted in the following image.)</span></span>

   > [!div class="mx-imgBorder"]
   > <span data-ttu-id="991ec-175">![Icône Ancrer du panneau Tests unitaires Visual Studio pour Mac](./media/using-on-mac-vs-full-solution/visual-studio-mac-unit-test-dock-icon.png)</span><span class="sxs-lookup"><span data-stu-id="991ec-175">![Visual Studio for Mac Unit Tests panel dock icon](./media/using-on-mac-vs-full-solution/visual-studio-mac-unit-test-dock-icon.png)</span></span>

1. <span data-ttu-id="991ec-176">Cliquez sur le bouton **Tout exécuter**.</span><span class="sxs-lookup"><span data-stu-id="991ec-176">Click the **Run All** button.</span></span>

   <span data-ttu-id="991ec-177">Le test échoue, ce qui est le résultat correct.</span><span class="sxs-lookup"><span data-stu-id="991ec-177">The test fails, which is the correct result.</span></span> <span data-ttu-id="991ec-178">La méthode de test déclare que deux instances de `inputString`, « Jack », ne sont pas retournées par la chaîne « Jack jack » fournie à la méthode `GetWordCount`.</span><span class="sxs-lookup"><span data-stu-id="991ec-178">The test method asserts that two instances of the `inputString`, "Jack," aren't returned from the string "Jack jack" provided to the `GetWordCount` method.</span></span> <span data-ttu-id="991ec-179">Étant donné que la méthode `GetWordCount` respecte la casse, les deux instances sont retournées.</span><span class="sxs-lookup"><span data-stu-id="991ec-179">Since word casing was factored out in the `GetWordCount` method, two instances are returned.</span></span> <span data-ttu-id="991ec-180">L’assertion que 2 *n’est pas égal à* 2 échoue.</span><span class="sxs-lookup"><span data-stu-id="991ec-180">The assertion that 2 *is not equal to* 2 fails.</span></span> <span data-ttu-id="991ec-181">Ce résultat est le bon résultat, et la logique de notre test est bonne.</span><span class="sxs-lookup"><span data-stu-id="991ec-181">This result is the correct outcome, and the logic of our test is good.</span></span>

   > [!div class="mx-imgBorder"]
   > <span data-ttu-id="991ec-182">![Affichage de l’échec du test dans Visual Studio pour Mac](./media/using-on-mac-vs-full-solution/visual-studio-for-mac-unit-test-failure.png)</span><span class="sxs-lookup"><span data-stu-id="991ec-182">![Visual Studio for Mac test failure display](./media/using-on-mac-vs-full-solution/visual-studio-for-mac-unit-test-failure.png)</span></span>

1. <span data-ttu-id="991ec-183">Modifiez la méthode de test `IgnoreCasing` en remplaçant `Assert.NotEqual` par `Assert.Equal`.</span><span class="sxs-lookup"><span data-stu-id="991ec-183">Modify the `IgnoreCasing` test method by changing `Assert.NotEqual` to `Assert.Equal`.</span></span> <span data-ttu-id="991ec-184">Enregistrez le fichier en utilisant le raccourci clavier <kbd>Ctrl</kbd>+<kbd>s</kbd>, **File** > **Save** du menu, ou ctrl-clicking sur l’onglet du fichier et la sélection **Enregistrer** à partir du menu contextuelle.</span><span class="sxs-lookup"><span data-stu-id="991ec-184">Save the file by using the keyboard shortcut <kbd>Ctrl</kbd>+<kbd>s</kbd>, **File** > **Save** from the menu, or ctrl-clicking on the file's tab and selecting **Save** from the context menu.</span></span>

   <span data-ttu-id="991ec-185">Vous vous attendez à ce que `searchWord` « Jack » retourne deux instances avec `inputString` « Jack jack » passé dans `GetWordCount`.</span><span class="sxs-lookup"><span data-stu-id="991ec-185">You expect that the `searchWord` "Jack" returns two instances with `inputString` "Jack jack" passed into `GetWordCount`.</span></span> <span data-ttu-id="991ec-186">Réexécutez le test en cliquant sur le bouton **Exécuter les tests** du panneau **Tests unitaires** ou sur le bouton **Réexécuter les tests** du panneau **Résultats des tests** en bas de l’écran.</span><span class="sxs-lookup"><span data-stu-id="991ec-186">Run the test again by clicking the **Run Tests** button in the **Unit Tests** panel or the **Rerun Tests** button in the **Test Results** panel at the bottom of the screen.</span></span> <span data-ttu-id="991ec-187">Le test réussit.</span><span class="sxs-lookup"><span data-stu-id="991ec-187">The test passes.</span></span> <span data-ttu-id="991ec-188">Il existe deux instances de « Jack » dans la chaîne « Jack jack » (casse ignorée) et l’assertion de test est `true`.</span><span class="sxs-lookup"><span data-stu-id="991ec-188">There are two instances of "Jack" in the string "Jack jack" (ignoring casing), and the test assertion is `true`.</span></span>

   > [!div class="mx-imgBorder"]
   > <span data-ttu-id="991ec-189">![Visual Studio pour les tests Mac passer affichage](./media/using-on-mac-vs-full-solution/visual-studio-mac-unit-test-pass.png)</span><span class="sxs-lookup"><span data-stu-id="991ec-189">![Visual Studio for Mac tests pass display](./media/using-on-mac-vs-full-solution/visual-studio-mac-unit-test-pass.png)</span></span>

1. <span data-ttu-id="991ec-190">Le test des valeurs individuelles retournées avec un `Fact` n'est que le début de ce que vous pouvez faire avec les tests unitaires.</span><span class="sxs-lookup"><span data-stu-id="991ec-190">Testing individual return values with a `Fact` is only the beginning of what you can do with unit testing.</span></span> <span data-ttu-id="991ec-191">Une autre technique puissante vous permet de tester plusieurs valeurs à l’aide d’une `Theory`.</span><span class="sxs-lookup"><span data-stu-id="991ec-191">Another powerful technique allows you to test several values at once using a `Theory`.</span></span> <span data-ttu-id="991ec-192">Ajoutez la méthode suivante à votre classe `TextUtils_GetWordCountShould`.</span><span class="sxs-lookup"><span data-stu-id="991ec-192">Add the following method to your `TextUtils_GetWordCountShould` class.</span></span> <span data-ttu-id="991ec-193">Vous disposez de deux méthodes dans la classe après avoir ajouté cette méthode :</span><span class="sxs-lookup"><span data-stu-id="991ec-193">You have two methods in the class after you add this method:</span></span>

   ```csharp
   [Theory]
   [InlineData(0, "Ting", "Does not appear in the string.")]
   [InlineData(1, "Ting", "Ting appears once.")]
   [InlineData(2, "Ting", "Ting appears twice with Ting.")]
   public void CountInstancesCorrectly(int count,
                                       string searchWord,
                                       string inputString)
   {
       Assert.NotEqual(count, WordCount.GetWordCount(searchWord,
                                                  inputString));
   }
   ```

   <span data-ttu-id="991ec-194">`CountInstancesCorrectly` vérifie que la méthode `GetWordCount` compte correctement.</span><span class="sxs-lookup"><span data-stu-id="991ec-194">The `CountInstancesCorrectly` checks that the `GetWordCount` method counts correctly.</span></span> <span data-ttu-id="991ec-195">`InlineData` fournit un nombre, un terme de recherche et une chaîne d’entrée à vérifier.</span><span class="sxs-lookup"><span data-stu-id="991ec-195">The `InlineData` provides a count, a search word, and an input string to check.</span></span> <span data-ttu-id="991ec-196">La méthode de test s’exécute une fois pour chaque ligne de données.</span><span class="sxs-lookup"><span data-stu-id="991ec-196">The test method runs once for each line of data.</span></span> <span data-ttu-id="991ec-197">Notez que, là encore, vous déclarez tout d’abord un échec en utilisant `Assert.NotEqual`, même si vous savez que les nombres contenus dans les données sont corrects et que les valeurs correspondent aux nombres retournés par la méthode `GetWordCount`.</span><span class="sxs-lookup"><span data-stu-id="991ec-197">Note once again that you're asserting a failure first by using `Assert.NotEqual`, even when you know that the counts in the data are correct and that the values match the counts returned by the `GetWordCount` method.</span></span> <span data-ttu-id="991ec-198">L’exécution de l’étape d’échec intentionnel du test peut sembler a priori une perte de temps, mais la vérification de la logique de test en la faisant échouer est une étape importante pour valider la logique de vos tests.</span><span class="sxs-lookup"><span data-stu-id="991ec-198">Performing the step of failing the test on purpose might seem like a waste of time at first, but checking the logic of the test by failing it first is an important check on the logic of your tests.</span></span> <span data-ttu-id="991ec-199">Lorsqu’une méthode de test réussit alors que vous pensiez qu’elle échouerait, c’est que vous avez trouvé un bogue dans la logique du test.</span><span class="sxs-lookup"><span data-stu-id="991ec-199">When you come across a test method that passes when you expect it to fail, you've found a bug in the logic of the test.</span></span> <span data-ttu-id="991ec-200">Il est recommandé de suivre cette procédure chaque fois que vous créez une méthode de test.</span><span class="sxs-lookup"><span data-stu-id="991ec-200">It's worth the effort to take this step every time you create a test method.</span></span>

1. <span data-ttu-id="991ec-201">Enregistrez le fichier et réexécutez les tests.</span><span class="sxs-lookup"><span data-stu-id="991ec-201">Save the file and run the tests again.</span></span> <span data-ttu-id="991ec-202">Le test de la casse réussit, mais les trois tests d’énumération échouent.</span><span class="sxs-lookup"><span data-stu-id="991ec-202">The casing test passes but the three count tests fail.</span></span> <span data-ttu-id="991ec-203">Ce résultat est exactement ce que vous attendez de se produire.</span><span class="sxs-lookup"><span data-stu-id="991ec-203">This outcome is exactly what you expect to happen.</span></span>

   > [!div class="mx-imgBorder"]
   > <span data-ttu-id="991ec-204">![Échec du test attendu dans Visual Studio pour Mac](./media/using-on-mac-vs-full-solution/visual-studio-mac-unit-test-failure.png)</span><span class="sxs-lookup"><span data-stu-id="991ec-204">![Visual Studio for Mac expected test failure](./media/using-on-mac-vs-full-solution/visual-studio-mac-unit-test-failure.png)</span></span>

1. <span data-ttu-id="991ec-205">Modifiez la méthode de test `CountInstancesCorrectly` en remplaçant `Assert.NotEqual` par `Assert.Equal`.</span><span class="sxs-lookup"><span data-stu-id="991ec-205">Modify the `CountInstancesCorrectly` test method by changing `Assert.NotEqual` to `Assert.Equal`.</span></span> <span data-ttu-id="991ec-206">Enregistrez le fichier .</span><span class="sxs-lookup"><span data-stu-id="991ec-206">Save the file.</span></span> <span data-ttu-id="991ec-207">Réexécutez les tests.</span><span class="sxs-lookup"><span data-stu-id="991ec-207">Run the tests again.</span></span> <span data-ttu-id="991ec-208">Tous les tests sont concluants.</span><span class="sxs-lookup"><span data-stu-id="991ec-208">All tests pass.</span></span>

   > [!div class="mx-imgBorder"]
   > <span data-ttu-id="991ec-209">![Visual Studio pour Mac passe d’essai prévu](./media/using-on-mac-vs-full-solution/visual-studio-mac-unit-test-pass.png)</span><span class="sxs-lookup"><span data-stu-id="991ec-209">![Visual Studio for Mac expected test passes](./media/using-on-mac-vs-full-solution/visual-studio-mac-unit-test-pass.png)</span></span>

## <a name="adding-a-console-app"></a><span data-ttu-id="991ec-210">Ajout d’une application console</span><span class="sxs-lookup"><span data-stu-id="991ec-210">Adding a console app</span></span>

1. <span data-ttu-id="991ec-211">Dans la barre latérale **Solution,** cliquez `WordCounter` sur la solution.</span><span class="sxs-lookup"><span data-stu-id="991ec-211">In the **Solution** sidebar, ctrl-click the `WordCounter` solution.</span></span> <span data-ttu-id="991ec-212">Ajoutez un nouveau projet **Application console** en sélectionnant le modèle parmi les modèles **.NET Core** > **Application**.</span><span class="sxs-lookup"><span data-stu-id="991ec-212">Add a new **Console Application** project by selecting the template from the **.NET Core** > **App** templates.</span></span> <span data-ttu-id="991ec-213">Sélectionnez **Suivant**.</span><span class="sxs-lookup"><span data-stu-id="991ec-213">Select **Next**.</span></span> <span data-ttu-id="991ec-214">Nommez le projet **WordCounterApp**.</span><span class="sxs-lookup"><span data-stu-id="991ec-214">Name the project **WordCounterApp**.</span></span> <span data-ttu-id="991ec-215">Sélectionnez **Créer** pour créer le projet dans la solution.</span><span class="sxs-lookup"><span data-stu-id="991ec-215">Select **Create** to create the project in the solution.</span></span>

1. <span data-ttu-id="991ec-216">Dans la barre latérale **Solutions,** cliquez sur le nœud **dépendances** du nouveau projet **WordCounterApp.**</span><span class="sxs-lookup"><span data-stu-id="991ec-216">In the **Solutions** sidebar, ctrl-click the **Dependencies** node of the new **WordCounterApp** project.</span></span> <span data-ttu-id="991ec-217">Dans la boîte de dialogue **Modifier les références**, cochez la case **TextUtils** puis sélectionnez **OK**.</span><span class="sxs-lookup"><span data-stu-id="991ec-217">In the **Edit References** dialog, check **TextUtils** and select **OK**.</span></span>

1. <span data-ttu-id="991ec-218">Ouvrez le *fichier Program.cs.*</span><span class="sxs-lookup"><span data-stu-id="991ec-218">Open the *Program.cs* file.</span></span> <span data-ttu-id="991ec-219">Remplacer le code par le code suivant :</span><span class="sxs-lookup"><span data-stu-id="991ec-219">Replace the code with the following code:</span></span>

   [!code-csharp[Main](../../../samples/snippets/core/tutorials/using-on-mac-vs-full-solution/csharp/WordCounterApp/Program.cs)]

1. <span data-ttu-id="991ec-220">Cliquez sur le projet `WordCounterApp` et sélectionnez le **projet Run** dans le menu contextuelle.</span><span class="sxs-lookup"><span data-stu-id="991ec-220">Ctrl-click on the `WordCounterApp` project and select **Run project** from the context menu.</span></span> <span data-ttu-id="991ec-221">Lorsque vous exécutez l’application, indiquez les valeurs du mot de recherche et la chaîne d’entrée à l’invite dans la fenêtre de console.</span><span class="sxs-lookup"><span data-stu-id="991ec-221">When you run the app, provide values for the search word and input string at the prompts in the console window.</span></span> <span data-ttu-id="991ec-222">L’application indique le nombre de fois où le terme de recherche apparaît dans la chaîne.</span><span class="sxs-lookup"><span data-stu-id="991ec-222">The app indicates the number of times the search word appears in the string.</span></span>

   > [!div class="mx-imgBorder"]
   > <span data-ttu-id="991ec-223">![Fenêtre de console Visual Studio pour Mac montrant votre application en cours d’exécution](./media/using-on-mac-vs-full-solution/visual-studio-mac-console-window.png)</span><span class="sxs-lookup"><span data-stu-id="991ec-223">![Visual Studio for Mac console window showing your app running](./media/using-on-mac-vs-full-solution/visual-studio-mac-console-window.png)</span></span>

1. <span data-ttu-id="991ec-224">La dernière fonctionnalité à explorer est le débogage avec Visual Studio pour Mac.</span><span class="sxs-lookup"><span data-stu-id="991ec-224">The last feature to explore is debugging with Visual Studio for Mac.</span></span> <span data-ttu-id="991ec-225">Définissez un point d’arrêt sur l’instruction `Console.WriteLine`. Sélectionnez dans la marge gauche de la ligne 23 : un cercle rouge apparaît en regard de la ligne de code.</span><span class="sxs-lookup"><span data-stu-id="991ec-225">Set a breakpoint on the `Console.WriteLine` statement: Select in the left margin of line 23, and you see a red circle appear next to the line of code.</span></span> <span data-ttu-id="991ec-226">Vous pouvez également sélectionner n’importe où sur la ligne de code et sélectionnez **Run** > **Toggle Breakpoint** dans le menu.</span><span class="sxs-lookup"><span data-stu-id="991ec-226">Alternatively, select anywhere on the line of code and select **Run** > **Toggle Breakpoint** from the menu.</span></span>

   > [!div class="mx-imgBorder"]
   > <span data-ttu-id="991ec-227">![Point d'arrêt défini dans Visual Studio pour Mac](./media/using-on-mac-vs-full-solution/visual-studio-mac-breakpoint.png)</span><span class="sxs-lookup"><span data-stu-id="991ec-227">![Visual Studio for Mac breakpoint set](./media/using-on-mac-vs-full-solution/visual-studio-mac-breakpoint.png)</span></span>

1. <span data-ttu-id="991ec-228">ctrl-cliquez `WordCounterApp` sur le projet.</span><span class="sxs-lookup"><span data-stu-id="991ec-228">ctrl-click the `WordCounterApp` project.</span></span> <span data-ttu-id="991ec-229">Sélectionnez **Start Debugging Project** dans le menu contextuelle.</span><span class="sxs-lookup"><span data-stu-id="991ec-229">Select **Start Debugging Project** from the context menu.</span></span> <span data-ttu-id="991ec-230">Lorsque l’application s’exécute, entrez le terme de recherche « cat » et « The dog chased the cat, but the cat escaped. »</span><span class="sxs-lookup"><span data-stu-id="991ec-230">When the app runs, enter the search word "cat" and "The dog chased the cat, but the cat escaped."</span></span> <span data-ttu-id="991ec-231">pour la chaîne à rechercher.</span><span class="sxs-lookup"><span data-stu-id="991ec-231">for the string to search.</span></span> <span data-ttu-id="991ec-232">Lorsque l’instruction `Console.WriteLine` est atteinte, l’exécution du programme s’arrête avant l’exécution de l’instruction.</span><span class="sxs-lookup"><span data-stu-id="991ec-232">When the `Console.WriteLine` statement is reached, program execution halts before the statement is executed.</span></span> <span data-ttu-id="991ec-233">Dans l’onglet **Locals,** `searchWord`vous `inputString` `wordCount`pouvez `pluralChar` voir le , , , et les valeurs.</span><span class="sxs-lookup"><span data-stu-id="991ec-233">In the **Locals** tab, you can see the `searchWord`, `inputString`, `wordCount`, and `pluralChar` values.</span></span>

   > [!div class="mx-imgBorder"]
   > <span data-ttu-id="991ec-234">![Arrêt de l’exécution du programme débogueur dans Visual Studio pour Mac](./media/using-on-mac-vs-full-solution/visual-studio-mac-debugger.png)</span><span class="sxs-lookup"><span data-stu-id="991ec-234">![Visual Studio for Mac debugger program execution stopped](./media/using-on-mac-vs-full-solution/visual-studio-mac-debugger.png)</span></span>

1. <span data-ttu-id="991ec-235">Dans le volet **Immédiat**, tapez « wordCount = 999. » et appuyez sur Entrée.</span><span class="sxs-lookup"><span data-stu-id="991ec-235">In the **Immediate** pane, type "wordCount = 999;" and press Enter.</span></span> <span data-ttu-id="991ec-236">Cette commande attribue une valeur absurde de `wordCount` 999 à la variable montrant que vous pouvez remplacer les valeurs variables tout en débogage.</span><span class="sxs-lookup"><span data-stu-id="991ec-236">This command assigns a nonsense value of 999 to the `wordCount` variable showing that you can replace variable values while debugging.</span></span>

   > [!div class="mx-imgBorder"]
   > <span data-ttu-id="991ec-237">![Modification des valeurs de la fenêtre Exécution dans Visual Studio pour Mac](./media/using-on-mac-vs-full-solution/visual-studio-mac-immediate-window.png)</span><span class="sxs-lookup"><span data-stu-id="991ec-237">![Visual Studio for Mac changing values in the immediate window](./media/using-on-mac-vs-full-solution/visual-studio-mac-immediate-window.png)</span></span>

1. <span data-ttu-id="991ec-238">Dans la barre d’outils, cliquez sur la flèche *Continuer*.</span><span class="sxs-lookup"><span data-stu-id="991ec-238">In the toolbar, click the *continue* arrow.</span></span> <span data-ttu-id="991ec-239">Regardez le résultat dans la fenêtre de console.</span><span class="sxs-lookup"><span data-stu-id="991ec-239">Look at the output in the console window.</span></span> <span data-ttu-id="991ec-240">Elle affiche la valeur incorrecte de 999 que vous définissez lorsque vous déboguez l’application.</span><span class="sxs-lookup"><span data-stu-id="991ec-240">It reports the incorrect value of 999 that you set when you were debugging the app.</span></span>

   > [!div class="mx-imgBorder"]
   > <span data-ttu-id="991ec-241">![Bouton Continuer de la barre d’outils dans Visual Studio pour Mac](./media/using-on-mac-vs-full-solution/visual-studio-mac-toolbar.png)</span><span class="sxs-lookup"><span data-stu-id="991ec-241">![Visual Studio for Mac continue button in the toolbar](./media/using-on-mac-vs-full-solution/visual-studio-mac-toolbar.png)</span></span>

   > [!div class="mx-imgBorder"]
   > <span data-ttu-id="991ec-242">![Sortie de la fenêtre de console Visual Studio pour Mac](./media/using-on-mac-vs-full-solution/visual-studio-mac-output.png)</span><span class="sxs-lookup"><span data-stu-id="991ec-242">![Visual Studio for Mac console window output](./media/using-on-mac-vs-full-solution/visual-studio-mac-output.png)</span></span>

<span data-ttu-id="991ec-243">Vous pouvez utiliser le même processus pour déboiffer le code à l’aide de votre projet de test unitaire.</span><span class="sxs-lookup"><span data-stu-id="991ec-243">You can use the same process to debug code using your unit test project.</span></span> <span data-ttu-id="991ec-244">Au lieu de lancer le projet d’application WordCount, cliquez sur le projet **Test Library** et **sélectionnez Start Debugging Project** dans le menu context.</span><span class="sxs-lookup"><span data-stu-id="991ec-244">Instead of starting the WordCount app project, ctrl-click the **Test Library** project, and select **Start Debugging Project** from the context menu.</span></span> <span data-ttu-id="991ec-245">Visual Studio pour Mac démarre votre projet de test avec le débbuggeur attaché.</span><span class="sxs-lookup"><span data-stu-id="991ec-245">Visual Studio for Mac starts your test project with the debugger attached.</span></span> <span data-ttu-id="991ec-246">L’exécution s’arrêtera à n’importe quel point d’arrêt que vous avez ajouté au projet de test, ou au code de bibliothèque sous-jacent.</span><span class="sxs-lookup"><span data-stu-id="991ec-246">Execution will stop at any breakpoint you've added to the test project, or the underlying library code.</span></span>

## <a name="see-also"></a><span data-ttu-id="991ec-247">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="991ec-247">See also</span></span>

- [<span data-ttu-id="991ec-248">Notes de publication de Visual Studio 2019 pour Mac</span><span class="sxs-lookup"><span data-stu-id="991ec-248">Visual Studio 2019 for Mac Release Notes</span></span>](/visualstudio/releasenotes/vs2019-mac-relnotes)
