---
title: Portage de code de .NET Framework vers .NET Core
description: Présentation du processus de portage et d’outils qui peuvent s’avérer utiles lors du portage d’un projet .NET Framework vers .NET Core.
author: cartermp
ms.date: 09/13/2019
ms.custom: seodec18
ms.openlocfilehash: b6c02932b5d9c7ccc2743dd38dddf2904f9c24e4
ms.sourcegitcommit: 289e06e904b72f34ac717dbcc5074239b977e707
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 09/17/2019
ms.locfileid: "71039664"
---
# <a name="port-your-code-from-net-framework-to-net-core"></a><span data-ttu-id="0e566-103">Portage de votre code de .NET Framework vers .NET Core</span><span class="sxs-lookup"><span data-stu-id="0e566-103">Port your code from .NET Framework to .NET Core</span></span>

<span data-ttu-id="0e566-104">Si vous avez du code qui s’exécute sur le .NET Framework, vous pouvez également être intéressé par l’exécution de votre code sur .NET Core.</span><span class="sxs-lookup"><span data-stu-id="0e566-104">If you've got code that runs on the .NET Framework, you may be interested in running your code on .NET Core, too.</span></span> <span data-ttu-id="0e566-105">Voici une vue d’ensemble du processus de portage et une liste des outils qui peuvent s’avérer utiles lors du portage de votre vers .NET Core.</span><span class="sxs-lookup"><span data-stu-id="0e566-105">Here's an overview of the porting process and a list of the tools you may find helpful when porting your code to .NET Core.</span></span>

## <a name="overview-of-the-porting-process"></a><span data-ttu-id="0e566-106">Vue d’ensemble du processus de portage</span><span class="sxs-lookup"><span data-stu-id="0e566-106">Overview of the porting process</span></span>

<span data-ttu-id="0e566-107">Il s’agit du processus que nous vous recommandons d’effectuer lors du portage de votre projet vers .NET Core.</span><span class="sxs-lookup"><span data-stu-id="0e566-107">This is the process we recommend you take when porting your project to .NET Core.</span></span> <span data-ttu-id="0e566-108">Chacune de ces étapes du processus est traitée plus en détail dans d’autres articles.</span><span class="sxs-lookup"><span data-stu-id="0e566-108">Each step of the process is covered in more detail in further articles.</span></span>

1. <span data-ttu-id="0e566-109">Identifiez et considérez vos dépendances tierces.</span><span class="sxs-lookup"><span data-stu-id="0e566-109">Identify and account for your third-party dependencies.</span></span>

   <span data-ttu-id="0e566-110">Cette étape implique de comprendre ce que sont vos dépendances tierces, comment vous en dépendez, comment faire pour vérifier si elles s’exécutent aussi sur .NET Core, ainsi que les étapes à réaliser si ce n’est pas le cas.</span><span class="sxs-lookup"><span data-stu-id="0e566-110">This step involves understanding what your third-party dependencies are, how you depend on them, how to check if they also run on .NET Core, and steps you can take if they don't.</span></span> <span data-ttu-id="0e566-111">Elle explique également comment vous migrer vos dépendances vers le format [PackageReference](/nuget/consume-packages/package-references-in-project-files) utilisé dans .NET Core.</span><span class="sxs-lookup"><span data-stu-id="0e566-111">It also covers how you can migrate your dependencies over to the [PackageReference](/nuget/consume-packages/package-references-in-project-files) format that is used in .NET Core.</span></span>

2. <span data-ttu-id="0e566-112">Reciblez tous les projets que vous voulez porter pour cibler le .NET Framework 4.7.2 ou version ultérieure.</span><span class="sxs-lookup"><span data-stu-id="0e566-112">Retarget all projects you wish to port to target the .NET Framework 4.7.2 or higher.</span></span>

   <span data-ttu-id="0e566-113">Cette étape garantit que vous pouvez utiliser des API alternatives pour des cibles spécifiques au .NET Framework si .NET Core ne prend en charge une API particulière.</span><span class="sxs-lookup"><span data-stu-id="0e566-113">This step ensures that you can use API alternatives for .NET Framework-specific targets when .NET Core doesn't support a particular API.</span></span>

3. <span data-ttu-id="0e566-114">Utilisez [l’analyseur .NET Portability Analyzer](../../standard/analyzers/portability-analyzer.md) pour analyser vos assemblys et développer un plan pour réaliser le portage en fonction de ses résultats.</span><span class="sxs-lookup"><span data-stu-id="0e566-114">Use the [.NET Portability Analyzer](../../standard/analyzers/portability-analyzer.md) to analyze your assemblies and develop a plan to port based on its results.</span></span>

   <span data-ttu-id="0e566-115">L’outil API Portability Analyzer analyse vos assemblys compilés et génère un rapport qui affiche un résumé de la portabilité de haut niveau et une répartition de chaque API que vous utilisez et qui n’est pas disponible sur la surface publique de la plateforme .NET Core ciblée.</span><span class="sxs-lookup"><span data-stu-id="0e566-115">The API Portability Analyzer tool analyzes your compiled assemblies and generates a report that shows a high-level portability summary and a breakdown of each API you're using that isn't available on targeted .NET Core platform public surface.</span></span> <span data-ttu-id="0e566-116">Vous pouvez utiliser ce rapport parallèlement à une analyse de votre code base pour développer un plan de la façon dont vous allez porter votre code.</span><span class="sxs-lookup"><span data-stu-id="0e566-116">You can use this report alongside an analysis of your codebase to develop a plan for how you'll port your code over.</span></span>

4. <span data-ttu-id="0e566-117">Une fois que votre fichier projet est converti en version .net Core ciblée, vous pouvez utiliser l' [analyseur d’API .net](../../standard/analyzers/api-analyzer.md) basé sur Roslyn <xref:System.PlatformNotSupportedException> pour identifier les API levant sur certaines plateformes et d’autres problèmes de compatibilité potentiels.</span><span class="sxs-lookup"><span data-stu-id="0e566-117">Once you have your project file converted to your targeted .NET Core version, you can use Roslyn based [.NET API analyzer](../../standard/analyzers/api-analyzer.md) to identify APIs throwing <xref:System.PlatformNotSupportedException> on some platforms and some other potential compatibility issues.</span></span>

5. <span data-ttu-id="0e566-118">Porter le code de vos tests.</span><span class="sxs-lookup"><span data-stu-id="0e566-118">Port your tests code.</span></span>

   <span data-ttu-id="0e566-119">Le portage vers .NET Core représentant un important changement pour votre code base, il est fortement recommandé de porter vos tests, pour pouvoir exécuter des tests au fil du portage de votre code.</span><span class="sxs-lookup"><span data-stu-id="0e566-119">Because porting to .NET Core is such a significant change to your codebase, it's highly recommended to get your tests ported, so that you can run tests as you port your code over.</span></span> <span data-ttu-id="0e566-120">MSTest, xUnit et NUnit prennent tous en charge .NET Core.</span><span class="sxs-lookup"><span data-stu-id="0e566-120">MSTest, xUnit, and NUnit all support .NET Core.</span></span>

6. <span data-ttu-id="0e566-121">Exécutez votre plan de portage !</span><span class="sxs-lookup"><span data-stu-id="0e566-121">Execute your plan for porting!</span></span>

<span data-ttu-id="0e566-122">La liste suivante présente les outils qui peuvent vous être utiles lors du processus de portage :</span><span class="sxs-lookup"><span data-stu-id="0e566-122">The following list shows tools you might find helpful to use during the porting process:</span></span>

* <span data-ttu-id="0e566-123">.NET Portability Analyzer : [outil en ligne de commande](https://github.com/Microsoft/dotnet-apiport/releases) ou [Extension Visual Studio](https://marketplace.visualstudio.com/items?itemName=ConnieYau.NETPortabilityAnalyzer), il s’agit d’un outil qui permet de générer un rapport sur la portabilité de votre code entre le .NET Framework et votre plateforme .NET Core cible.</span><span class="sxs-lookup"><span data-stu-id="0e566-123">.NET Portability Analyzer - [command line tool](https://github.com/Microsoft/dotnet-apiport/releases) or [Visual Studio Extension](https://marketplace.visualstudio.com/items?itemName=ConnieYau.NETPortabilityAnalyzer), a tool that can generate a report of how portable your code is between .NET Framework and your target .NET Core platform.</span></span> <span data-ttu-id="0e566-124">Le rapport contient une répartition assembly par assembly des types et API manquants sur la plateforme .NET Core cible.</span><span class="sxs-lookup"><span data-stu-id="0e566-124">The report contains an assembly-by-assembly breakdown of the Type and APIs missing on the target .NET Core platform.</span></span> <span data-ttu-id="0e566-125">Pour plus d’informations, consultez [.NET Portability Analyzer](../../standard/analyzers/portability-analyzer.md).</span><span class="sxs-lookup"><span data-stu-id="0e566-125">For more information, see [.NET Portability Analyzer](../../standard/analyzers/portability-analyzer.md).</span></span> <span data-ttu-id="0e566-126">Il est recommandé d’exécuter l’outil de l’analyseur de portabilité .NET avant de commencer le Portage, car il vous aidera à identifier les lacunes dans les API manquantes dans la surface publique de la plateforme .NET ciblée spécifique.</span><span class="sxs-lookup"><span data-stu-id="0e566-126">It is recommended to run the .NET Portability Analyzer tool before you start porting, as it will help you identify any gaps in missing APIs in specific targeted .NET platform public surface.</span></span>
* <span data-ttu-id="0e566-127">.NET API Analyzer : analyseur Roslyn qui détecte les API Standard .NET qui lèvent <xref:System.PlatformNotSupportedException> sur certaines plateformes, détecte les appels aux API dépréciées, et détecte certains autres risques potentiels de compatibilité pour les API C# sur différentes plateformes.</span><span class="sxs-lookup"><span data-stu-id="0e566-127">.NET API Analyzer - A Roslyn analyzer that discovers .NET Standard API that throws <xref:System.PlatformNotSupportedException> on some platforms, detects calls to deprecated APIs, and discovers some other potential compatibility risks for C# APIs on different platforms.</span></span> <span data-ttu-id="0e566-128">Pour plus d'informations, consultez [Analyseur d’API .NET](../../standard/analyzers/api-analyzer.md).</span><span class="sxs-lookup"><span data-stu-id="0e566-128">For more information, see [.NET API analyzer](../../standard/analyzers/api-analyzer.md).</span></span> <span data-ttu-id="0e566-129">Cet analyseur est utile une fois que vous avez créé votre projet .NET Core, pour identifier les différences de comportement de runtime sur différentes plateformes.</span><span class="sxs-lookup"><span data-stu-id="0e566-129">This analyzer is helpful after you already created your .NET Core project to identify runtime behavior differences on different platforms.</span></span>
* <span data-ttu-id="0e566-130">Reverse Package Search - A [service web pratique](https://packagesearch.azurewebsites.net) qui vous permet de rechercher un type et de trouver des packages contenant ce type.</span><span class="sxs-lookup"><span data-stu-id="0e566-130">Reverse Package Search - A [useful web service](https://packagesearch.azurewebsites.net) that allows you to search for a type and find packages containing that type.</span></span>

<span data-ttu-id="0e566-131">En outre, vous pouvez essayer de porter des solutions plus petites ou des projets individuels au format de fichier de projet .NET Core avec l’outil [CsprojToVs2017](https://github.com/hvanbakel/CsprojToVs2017).</span><span class="sxs-lookup"><span data-stu-id="0e566-131">Additionally, you can attempt to port smaller solutions or individual projects to the .NET Core project file format with the [CsprojToVs2017](https://github.com/hvanbakel/CsprojToVs2017) tool.</span></span>

> [!WARNING]
> <span data-ttu-id="0e566-132">CsprojToVs2017 est un outil tiers.</span><span class="sxs-lookup"><span data-stu-id="0e566-132">CsprojToVs2017 is a third-party tool.</span></span> <span data-ttu-id="0e566-133">Il n’existe aucune garantie que cet outil fonctionne pour tous vos projets, et il peut entraîner de légères modifications du comportement dont vous dépendez.</span><span class="sxs-lookup"><span data-stu-id="0e566-133">There is no guarantee that it will work for all of your projects, and it may cause subtle changes in behavior that you depend on.</span></span> <span data-ttu-id="0e566-134">CsprojToVs2017 doit être utilisé comme un _point de départ_ qui automatise les tâches de base pouvant être automatisées.</span><span class="sxs-lookup"><span data-stu-id="0e566-134">CsprojToVs2017 should be used as a _starting point_ that automates the basic things that can be automated.</span></span> <span data-ttu-id="0e566-135">Ce n’est pas une solution garantie pour la migration de formats de fichiers projet.</span><span class="sxs-lookup"><span data-stu-id="0e566-135">It is not a guaranteed solution to migrating project file formats.</span></span>

>[!div class="step-by-step"]
>[<span data-ttu-id="0e566-136">Next</span><span class="sxs-lookup"><span data-stu-id="0e566-136">Next</span></span>](net-framework-tech-unavailable.md)
