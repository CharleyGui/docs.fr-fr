---
title: Modèle Builder Azure Training Resources
description: Un guide des ressources pour Azure Machine Learning
ms.topic: reference
ms.date: 02/27/2020
ms.author: luquinta
author: luisquintanilla
ms.openlocfilehash: a19e13955d0eaea344109eb817f3a3959c3dd883
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 03/15/2020
ms.locfileid: "79185820"
---
# <a name="model-builder-azure-training-resources"></a><span data-ttu-id="239bc-103">Modèle Builder Azure Training Resources</span><span class="sxs-lookup"><span data-stu-id="239bc-103">Model Builder Azure Training Resources</span></span>

<span data-ttu-id="239bc-104">Ce qui suit est un guide pour vous aider à en apprendre davantage sur les ressources utilisées pour former des modèles en Azure avec Model Builder.</span><span class="sxs-lookup"><span data-stu-id="239bc-104">The following is a guide to help you learn more about resources used to train models in Azure with Model Builder.</span></span>

## <a name="what-is-an-azure-machine-learning-experiment"></a><span data-ttu-id="239bc-105">Qu’est-ce qu’une expérience Azure Machine Learning ?</span><span class="sxs-lookup"><span data-stu-id="239bc-105">What is an Azure Machine Learning experiment?</span></span>

<span data-ttu-id="239bc-106">Une expérience Azure Machine Learning est une ressource qui doit être créée avant d’exécuter la formation Model Builder sur Azure.</span><span class="sxs-lookup"><span data-stu-id="239bc-106">An Azure Machine Learning experiment is a resource that needs to be created before running Model Builder training on Azure.</span></span>

<span data-ttu-id="239bc-107">L’expérience résume la configuration et les résultats d’une ou de plusieurs courses de formation à l’apprentissage automatique.</span><span class="sxs-lookup"><span data-stu-id="239bc-107">The experiment encapsulates the configuration and results for one or more machine learning training runs.</span></span> <span data-ttu-id="239bc-108">Les expériences appartiennent à un espace de travail spécifique.</span><span class="sxs-lookup"><span data-stu-id="239bc-108">Experiments belong to a specific workspace.</span></span> <span data-ttu-id="239bc-109">La première fois qu’une expérience est créée, son nom est enregistré dans l’espace de travail.</span><span class="sxs-lookup"><span data-stu-id="239bc-109">The first time an experiment is created, its name is registered in the workspace.</span></span> <span data-ttu-id="239bc-110">Toute course ultérieure - si le même nom d’expérience est utilisé - sont enregistrées dans le cadre de la même expérience.</span><span class="sxs-lookup"><span data-stu-id="239bc-110">Any subsequent runs - if the same experiment name is used - are logged as part of the same experiment.</span></span> <span data-ttu-id="239bc-111">Sinon, une nouvelle expérience est créée.</span><span class="sxs-lookup"><span data-stu-id="239bc-111">Otherwise, a new experiment is created.</span></span>

## <a name="what-is-an-azure-machine-learning-workspace"></a><span data-ttu-id="239bc-112">Qu’est-ce qu’un espace de travail Azure Machine Learning ?</span><span class="sxs-lookup"><span data-stu-id="239bc-112">What is an Azure Machine Learning workspace?</span></span>

<span data-ttu-id="239bc-113">Un espace de travail est une ressource Azure Machine Learning qui fournit un lieu central pour toutes les ressources azuréennes d’apprentissage automatique et des artefacts créés dans le cadre de la course de formation.</span><span class="sxs-lookup"><span data-stu-id="239bc-113">A workspace is an Azure Machine Learning resource that provides a central place for all Azure Machine Learning resources and artifacts created as part of training run.</span></span>

<span data-ttu-id="239bc-114">Pour créer un espace de travail Azure Machine Learning, voici :</span><span class="sxs-lookup"><span data-stu-id="239bc-114">To create an Azure Machine Learning workspace, the following are required:</span></span>

- <span data-ttu-id="239bc-115">Nom: Un nom pour votre espace de travail entre 3-33 caractères.</span><span class="sxs-lookup"><span data-stu-id="239bc-115">Name: A name for your workspace between 3-33 characters.</span></span> <span data-ttu-id="239bc-116">Les noms ne peuvent contenir que des caractères alphanumériques et des traits d’union.</span><span class="sxs-lookup"><span data-stu-id="239bc-116">Names may only contain alphanumeric characters and hyphens.</span></span>
- <span data-ttu-id="239bc-117">Région : L’emplacement géographique du centre de données où votre espace de travail et vos ressources sont déployés.</span><span class="sxs-lookup"><span data-stu-id="239bc-117">Region: The geographic location of the data center where your workspace and resources are deployed to.</span></span> <span data-ttu-id="239bc-118">Il est recommandé de choisir un endroit près de l’endroit où vous ou vos clients êtes.</span><span class="sxs-lookup"><span data-stu-id="239bc-118">It is recommended that you choose a location close to where you or your customers are.</span></span>
- <span data-ttu-id="239bc-119">Groupe de ressources : Un conteneur qui contient toutes les ressources connexes pour une solution Azure.</span><span class="sxs-lookup"><span data-stu-id="239bc-119">Resource group: A container that contains all related resources for an Azure solution.</span></span>

## <a name="what-is-an-azure-machine-learning-compute"></a><span data-ttu-id="239bc-120">Qu’est-ce qu’un calcul Azure Machine Learning ?</span><span class="sxs-lookup"><span data-stu-id="239bc-120">What is an Azure Machine Learning compute?</span></span>

<span data-ttu-id="239bc-121">Une calcul Azure Machine Learning est un Linux VM basé sur le cloud utilisé pour la formation.</span><span class="sxs-lookup"><span data-stu-id="239bc-121">An Azure Machine Learning compute is a cloud-based Linux VM used for training.</span></span>

<span data-ttu-id="239bc-122">Pour créer un espace de travail Azure Machine Learning, voici :</span><span class="sxs-lookup"><span data-stu-id="239bc-122">To create an Azure Machine Learning workspace, the following are required:</span></span>

- <span data-ttu-id="239bc-123">Nom: Un nom pour votre espace de travail entre 2-16 caractères.</span><span class="sxs-lookup"><span data-stu-id="239bc-123">Name: A name for your workspace between 2-16 characters.</span></span> <span data-ttu-id="239bc-124">Les noms ne peuvent contenir que des caractères alphanumériques et des traits d’union.</span><span class="sxs-lookup"><span data-stu-id="239bc-124">Names may only contain alphanumeric characters and hyphens.</span></span>
- <span data-ttu-id="239bc-125">Taille de calcul</span><span class="sxs-lookup"><span data-stu-id="239bc-125">Compute size</span></span>

    <span data-ttu-id="239bc-126">Model Builder peut utiliser l’un des types de calcul optimisés par GPU suivants :</span><span class="sxs-lookup"><span data-stu-id="239bc-126">Model Builder can use one of the following GPU-optimized compute types:</span></span>

    | <span data-ttu-id="239bc-127">Size</span><span class="sxs-lookup"><span data-stu-id="239bc-127">Size</span></span> | <span data-ttu-id="239bc-128">Processeurs virtuels</span><span class="sxs-lookup"><span data-stu-id="239bc-128">vCPU</span></span> | <span data-ttu-id="239bc-129">Mémoire : Gio</span><span class="sxs-lookup"><span data-stu-id="239bc-129">Memory: GiB</span></span> | <span data-ttu-id="239bc-130">Stockage temporaire (SSD) en Gio</span><span class="sxs-lookup"><span data-stu-id="239bc-130">Temp storage (SSD) GiB</span></span> | <span data-ttu-id="239bc-131">GPU</span><span class="sxs-lookup"><span data-stu-id="239bc-131">GPU</span></span> | <span data-ttu-id="239bc-132">Mémoire GPU : Gio</span><span class="sxs-lookup"><span data-stu-id="239bc-132">GPU memory: GiB</span></span> | <span data-ttu-id="239bc-133">Disques de données max.</span><span class="sxs-lookup"><span data-stu-id="239bc-133">Max data disks</span></span> | <span data-ttu-id="239bc-134">Nombre max de cartes réseau</span><span class="sxs-lookup"><span data-stu-id="239bc-134">Max NICs</span></span> |
    |---|---|---|---|---|---|---|---|
    | <span data-ttu-id="239bc-135">Standard_NC12</span><span class="sxs-lookup"><span data-stu-id="239bc-135">Standard_NC12</span></span>   | <span data-ttu-id="239bc-136">12</span><span class="sxs-lookup"><span data-stu-id="239bc-136">12</span></span> | <span data-ttu-id="239bc-137">112</span><span class="sxs-lookup"><span data-stu-id="239bc-137">112</span></span> | <span data-ttu-id="239bc-138">680</span><span class="sxs-lookup"><span data-stu-id="239bc-138">680</span></span>  | <span data-ttu-id="239bc-139">2</span><span class="sxs-lookup"><span data-stu-id="239bc-139">2</span></span> | <span data-ttu-id="239bc-140">24</span><span class="sxs-lookup"><span data-stu-id="239bc-140">24</span></span> | <span data-ttu-id="239bc-141">48</span><span class="sxs-lookup"><span data-stu-id="239bc-141">48</span></span> | <span data-ttu-id="239bc-142">2</span><span class="sxs-lookup"><span data-stu-id="239bc-142">2</span></span> |
    | <span data-ttu-id="239bc-143">Standard_NC24</span><span class="sxs-lookup"><span data-stu-id="239bc-143">Standard_NC24</span></span>   | <span data-ttu-id="239bc-144">24</span><span class="sxs-lookup"><span data-stu-id="239bc-144">24</span></span> | <span data-ttu-id="239bc-145">224</span><span class="sxs-lookup"><span data-stu-id="239bc-145">224</span></span> | <span data-ttu-id="239bc-146">1440</span><span class="sxs-lookup"><span data-stu-id="239bc-146">1440</span></span> | <span data-ttu-id="239bc-147">4</span><span class="sxs-lookup"><span data-stu-id="239bc-147">4</span></span> | <span data-ttu-id="239bc-148">48</span><span class="sxs-lookup"><span data-stu-id="239bc-148">48</span></span> | <span data-ttu-id="239bc-149">64</span><span class="sxs-lookup"><span data-stu-id="239bc-149">64</span></span> | <span data-ttu-id="239bc-150">4</span><span class="sxs-lookup"><span data-stu-id="239bc-150">4</span></span> |

    <span data-ttu-id="239bc-151">Visitez la [documentation Linux VM de la série NC](https://docs.microsoft.com/azure/virtual-machines/nc-series?toc=/azure/virtual-machines/linux/toc.json&bc=/azure/virtual-machines/linux/breadcrumb/toc.json) pour plus de détails sur les types de calcul optimisés GPU.</span><span class="sxs-lookup"><span data-stu-id="239bc-151">Visit the [NC-series Linux VM documentation](https://docs.microsoft.com/azure/virtual-machines/nc-series?toc=/azure/virtual-machines/linux/toc.json&bc=/azure/virtual-machines/linux/breadcrumb/toc.json) for more details on GPU optimized compute types.</span></span>

## <a name="training"></a><span data-ttu-id="239bc-152">Entrainement</span><span class="sxs-lookup"><span data-stu-id="239bc-152">Training</span></span>

<span data-ttu-id="239bc-153">La formation sur Azure n’est disponible que pour le scénario de classification d’image De Model Builder.</span><span class="sxs-lookup"><span data-stu-id="239bc-153">Training on Azure is only available for the Model Builder image classification scenario.</span></span> <span data-ttu-id="239bc-154">L’algorithme utilisé pour former ces modèles est un réseau neuronal profond basé sur l’architecture ResNet50.</span><span class="sxs-lookup"><span data-stu-id="239bc-154">The algorithm used to train these models is a Deep Neural Network based on the ResNet50 architecture.</span></span> <span data-ttu-id="239bc-155">Le processus de formation prend un certain temps et le temps peut varier en fonction de la taille du calcul sélectionné ainsi que de la quantité de données.</span><span class="sxs-lookup"><span data-stu-id="239bc-155">The training process takes some time and the amount of time may vary depending on the size of compute selected as well as amount of data.</span></span> <span data-ttu-id="239bc-156">La première fois qu’un modèle est formé, vous pouvez vous attendre à un temps de formation un peu plus long parce que les ressources doivent être mises à disposition.</span><span class="sxs-lookup"><span data-stu-id="239bc-156">The first time a model is trained, you can expect a slightly longer training time because resources have to be provisioned.</span></span> <span data-ttu-id="239bc-157">Vous pouvez suivre l’évolution de vos courses en sélectionnant le lien "Monitor current run in Azure portal" dans Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="239bc-157">You can track the progress of your runs by selecting the "Monitor current run in Azure portal" link in Visual Studio.</span></span>

## <a name="results"></a><span data-ttu-id="239bc-158">Résultats</span><span class="sxs-lookup"><span data-stu-id="239bc-158">Results</span></span>

<span data-ttu-id="239bc-159">Une fois la formation terminée, deux projets sont ajoutés à votre solution avec les suffixes suivants :</span><span class="sxs-lookup"><span data-stu-id="239bc-159">Once training is complete, two projects are added to your solution with the following suffixes:</span></span>

- <span data-ttu-id="239bc-160">*ConsoleApp*: Une application de console C .NET Core qui fournit du code de démarrage pour construire le pipeline de prédiction et faire des prédictions.</span><span class="sxs-lookup"><span data-stu-id="239bc-160">*ConsoleApp*: A C# .NET Core console application that provides starter code to build the prediction pipeline and make predictions.</span></span>
- <span data-ttu-id="239bc-161">*Modèle*: Application standard C.NET qui contient les modèles de données qui définissent le schéma des données des modèles d’entrée et de production ainsi que les actifs suivants :</span><span class="sxs-lookup"><span data-stu-id="239bc-161">*Model*: A C# .NET Standard application that contains the data models that define the schema of input and output model data as well as the following assets:</span></span>

  - <span data-ttu-id="239bc-162">bestModel.onnx: Une version sérialisée du modèle dans le format Open Neural Network Exchange (ONNX).</span><span class="sxs-lookup"><span data-stu-id="239bc-162">bestModel.onnx: A serialized version of the model in Open Neural Network Exchange (ONNX) format.</span></span> <span data-ttu-id="239bc-163">ONNX est un format open source pour les modèles AI qui prend en charge l’interopérabilité entre des cadres comme ML.NET, PyTorch et TensorFlow.</span><span class="sxs-lookup"><span data-stu-id="239bc-163">ONNX is an open source format for AI models that supports interoperability between frameworks like ML.NET, PyTorch and TensorFlow.</span></span>
  - <span data-ttu-id="239bc-164">bestModelMap.json: Une liste de catégories utilisées lors de la prédiction pour cartographier la sortie du modèle à une catégorie de texte.</span><span class="sxs-lookup"><span data-stu-id="239bc-164">bestModelMap.json: A list of categories used when making predictions to map the model output to a text category.</span></span>
  - <span data-ttu-id="239bc-165">MLModel.zip: Une version sérialisée du pipeline de prédiction ML.NET qui utilise la version sérialisée du modèle `bestModelMap.json` *bestModel.onnx* pour faire des prédictions et des cartes sorties à l’aide du fichier.</span><span class="sxs-lookup"><span data-stu-id="239bc-165">MLModel.zip: A serialized version of the ML.NET prediction pipeline that uses the serialized version of the model *bestModel.onnx* to make predictions and maps outputs using the `bestModelMap.json` file.</span></span>

## <a name="use-the-machine-learning-model"></a><span data-ttu-id="239bc-166">Utiliser le modèle d’apprentissage automatique</span><span class="sxs-lookup"><span data-stu-id="239bc-166">Use the machine learning model</span></span>

<span data-ttu-id="239bc-167">Le `ModelInput` `ModelOutput` projet et les classes du projet *Modèle* définissent le schéma de l’entrée et de la sortie attendues du modèle respectivement.</span><span class="sxs-lookup"><span data-stu-id="239bc-167">The `ModelInput` and `ModelOutput` classes in the *Model* project define the schema of the model's expected input and output respectively.</span></span>

<span data-ttu-id="239bc-168">Dans un scénario de `ModelInput` classification d’image, le contient deux colonnes :</span><span class="sxs-lookup"><span data-stu-id="239bc-168">In an image classification scenario, the `ModelInput` contains two columns:</span></span>

- <span data-ttu-id="239bc-169">`ImageSource`: Le chemin de chaîne de l’emplacement de l’image.</span><span class="sxs-lookup"><span data-stu-id="239bc-169">`ImageSource`: The string path of the image location.</span></span>
- <span data-ttu-id="239bc-170">`Label`: La catégorie réelle à laquelle appartient l’image.</span><span class="sxs-lookup"><span data-stu-id="239bc-170">`Label`: The actual category the image belongs to.</span></span> <span data-ttu-id="239bc-171">`Label`n’est utilisé que comme entrée lors de la formation et n’a pas besoin d’être fourni lors de la prédiction.</span><span class="sxs-lookup"><span data-stu-id="239bc-171">`Label` is only used as an input when training and does not need to be provided when making predictions.</span></span>

<span data-ttu-id="239bc-172">Le `ModelOutput` contient deux colonnes:</span><span class="sxs-lookup"><span data-stu-id="239bc-172">The `ModelOutput` contains two columns:</span></span>

- <span data-ttu-id="239bc-173">`Prediction`: La catégorie prévue de l’image.</span><span class="sxs-lookup"><span data-stu-id="239bc-173">`Prediction`: The image's predicted category.</span></span>
- <span data-ttu-id="239bc-174">`Score`: La liste des probabilités pour toutes les `Prediction`catégories (la plus élevée appartient à la ).</span><span class="sxs-lookup"><span data-stu-id="239bc-174">`Score`: The list of probabilities for all categories (the highest belongs to the `Prediction`).</span></span>

## <a name="troubleshooting"></a><span data-ttu-id="239bc-175">Dépannage</span><span class="sxs-lookup"><span data-stu-id="239bc-175">Troubleshooting</span></span>

### <a name="cannot-create-compute"></a><span data-ttu-id="239bc-176">Impossible de créer des calculs</span><span class="sxs-lookup"><span data-stu-id="239bc-176">Cannot create compute</span></span>

<span data-ttu-id="239bc-177">Si une erreur se produit lors de la création de calcul d’Azure Machine Learning, la ressource de calcul peut encore exister, dans un état erroné.</span><span class="sxs-lookup"><span data-stu-id="239bc-177">If an error occurs during Azure Machine Learning compute creation, the compute resource may still exist, in an errored state.</span></span> <span data-ttu-id="239bc-178">Si vous essayez de recréer la ressource de calcul du même nom, l’opération échoue.</span><span class="sxs-lookup"><span data-stu-id="239bc-178">If you try to re-create the compute resource with the same name, the operation fails.</span></span> <span data-ttu-id="239bc-179">Pour corriger cette erreur, vous avez le choix entre plusieurs possibilités :</span><span class="sxs-lookup"><span data-stu-id="239bc-179">To fix this error, either:</span></span>

- <span data-ttu-id="239bc-180">Créez le nouveau calcul avec un nom différent</span><span class="sxs-lookup"><span data-stu-id="239bc-180">Create the new compute with a different name</span></span>
- <span data-ttu-id="239bc-181">Rendez-vous sur le portail Azure et supprimez la ressource de calcul d’origine</span><span class="sxs-lookup"><span data-stu-id="239bc-181">Go to the Azure portal, and remove the original compute resource</span></span>
