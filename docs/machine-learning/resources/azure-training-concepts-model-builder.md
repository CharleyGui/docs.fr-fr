---
title: Ressources de formation Azure sur le générateur de modèles
description: Guide des ressources pour Azure Machine Learning
ms.topic: reference
ms.date: 06/01/2020
ms.author: luquinta
author: luisquintanilla
ms.openlocfilehash: 8622b580b7925adfd7895317815021f57960e9ee
ms.sourcegitcommit: 40de8df14289e1e05b40d6e5c1daabd3c286d70c
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 07/22/2020
ms.locfileid: "86924576"
---
# <a name="model-builder-azure-training-resources"></a><span data-ttu-id="98c4e-103">Ressources de formation Azure sur le générateur de modèles</span><span class="sxs-lookup"><span data-stu-id="98c4e-103">Model Builder Azure Training Resources</span></span>

<span data-ttu-id="98c4e-104">Vous trouverez ci-dessous un guide pour en savoir plus sur les ressources utilisées pour l’apprentissage des modèles dans Azure avec le générateur de modèles.</span><span class="sxs-lookup"><span data-stu-id="98c4e-104">The following is a guide to help you learn more about resources used to train models in Azure with Model Builder.</span></span>

## <a name="what-is-an-azure-machine-learning-experiment"></a><span data-ttu-id="98c4e-105">Qu’est-ce qu’une expérience Azure Machine Learning ?</span><span class="sxs-lookup"><span data-stu-id="98c4e-105">What is an Azure Machine Learning experiment?</span></span>

<span data-ttu-id="98c4e-106">Une expérience Azure Machine Learning est une ressource qui doit être créée avant l’exécution de la formation du générateur de modèles sur Azure.</span><span class="sxs-lookup"><span data-stu-id="98c4e-106">An Azure Machine Learning experiment is a resource that needs to be created before running Model Builder training on Azure.</span></span>

<span data-ttu-id="98c4e-107">L’expérimentation encapsule la configuration et les résultats d’une ou de plusieurs Machine Learning exécutions d’apprentissage.</span><span class="sxs-lookup"><span data-stu-id="98c4e-107">The experiment encapsulates the configuration and results for one or more machine learning training runs.</span></span> <span data-ttu-id="98c4e-108">Les expériences appartiennent à un espace de travail spécifique.</span><span class="sxs-lookup"><span data-stu-id="98c4e-108">Experiments belong to a specific workspace.</span></span> <span data-ttu-id="98c4e-109">La première fois qu’une expérience est créée, son nom est enregistré dans l’espace de travail.</span><span class="sxs-lookup"><span data-stu-id="98c4e-109">The first time an experiment is created, its name is registered in the workspace.</span></span> <span data-ttu-id="98c4e-110">Toutes les exécutions suivantes : si le même nom d’expérimentation est utilisé, sont enregistrés dans le cadre de la même expérience.</span><span class="sxs-lookup"><span data-stu-id="98c4e-110">Any subsequent runs - if the same experiment name is used - are logged as part of the same experiment.</span></span> <span data-ttu-id="98c4e-111">Dans le cas contraire, une nouvelle expérience est créée.</span><span class="sxs-lookup"><span data-stu-id="98c4e-111">Otherwise, a new experiment is created.</span></span>

## <a name="what-is-an-azure-machine-learning-workspace"></a><span data-ttu-id="98c4e-112">Qu’est-ce qu’un espace de travail Azure Machine Learning ?</span><span class="sxs-lookup"><span data-stu-id="98c4e-112">What is an Azure Machine Learning workspace?</span></span>

<span data-ttu-id="98c4e-113">Un espace de travail est une ressource Azure Machine Learning qui fournit un emplacement central pour toutes les ressources Azure Machine Learning et les artefacts créés dans le cadre de l’exécution de la formation.</span><span class="sxs-lookup"><span data-stu-id="98c4e-113">A workspace is an Azure Machine Learning resource that provides a central place for all Azure Machine Learning resources and artifacts created as part of training run.</span></span>

<span data-ttu-id="98c4e-114">Pour créer un espace de travail Azure Machine Learning, les conditions suivantes sont requises :</span><span class="sxs-lookup"><span data-stu-id="98c4e-114">To create an Azure Machine Learning workspace, the following are required:</span></span>

- <span data-ttu-id="98c4e-115">Nom : un nom pour votre espace de travail entre 3-33 caractères.</span><span class="sxs-lookup"><span data-stu-id="98c4e-115">Name: A name for your workspace between 3-33 characters.</span></span> <span data-ttu-id="98c4e-116">Les noms peuvent uniquement contenir des caractères alphanumériques et des traits d’Union.</span><span class="sxs-lookup"><span data-stu-id="98c4e-116">Names may only contain alphanumeric characters and hyphens.</span></span>
- <span data-ttu-id="98c4e-117">Région : emplacement géographique du centre de données où votre espace de travail et vos ressources sont déployés.</span><span class="sxs-lookup"><span data-stu-id="98c4e-117">Region: The geographic location of the data center where your workspace and resources are deployed to.</span></span> <span data-ttu-id="98c4e-118">Il est recommandé de choisir un emplacement proche de l’emplacement où se trouvent vos clients ou vous-même.</span><span class="sxs-lookup"><span data-stu-id="98c4e-118">It is recommended that you choose a location close to where you or your customers are.</span></span>
- <span data-ttu-id="98c4e-119">Groupe de ressources : conteneur qui contient toutes les ressources associées d’une solution Azure.</span><span class="sxs-lookup"><span data-stu-id="98c4e-119">Resource group: A container that contains all related resources for an Azure solution.</span></span>

## <a name="what-is-an-azure-machine-learning-compute"></a><span data-ttu-id="98c4e-120">Qu’est-ce qu’un calcul Azure Machine Learning ?</span><span class="sxs-lookup"><span data-stu-id="98c4e-120">What is an Azure Machine Learning compute?</span></span>

<span data-ttu-id="98c4e-121">Une Azure Machine Learning Compute est une machine virtuelle Linux basée sur le Cloud, utilisée pour l’apprentissage.</span><span class="sxs-lookup"><span data-stu-id="98c4e-121">An Azure Machine Learning compute is a cloud-based Linux VM used for training.</span></span>

<span data-ttu-id="98c4e-122">Pour créer un espace de travail Azure Machine Learning, les conditions suivantes sont requises :</span><span class="sxs-lookup"><span data-stu-id="98c4e-122">To create an Azure Machine Learning workspace, the following are required:</span></span>

- <span data-ttu-id="98c4e-123">Nom : un nom pour votre espace de travail entre 2-16 caractères.</span><span class="sxs-lookup"><span data-stu-id="98c4e-123">Name: A name for your workspace between 2-16 characters.</span></span> <span data-ttu-id="98c4e-124">Les noms peuvent uniquement contenir des caractères alphanumériques et des traits d’Union.</span><span class="sxs-lookup"><span data-stu-id="98c4e-124">Names may only contain alphanumeric characters and hyphens.</span></span>
- <span data-ttu-id="98c4e-125">Taille de calcul</span><span class="sxs-lookup"><span data-stu-id="98c4e-125">Compute size</span></span>

    <span data-ttu-id="98c4e-126">Le générateur de modèles peut utiliser l’un des types de calcul optimisés GPU suivants :</span><span class="sxs-lookup"><span data-stu-id="98c4e-126">Model Builder can use one of the following GPU-optimized compute types:</span></span>

    | <span data-ttu-id="98c4e-127">Taille</span><span class="sxs-lookup"><span data-stu-id="98c4e-127">Size</span></span> | <span data-ttu-id="98c4e-128">Processeurs virtuels</span><span class="sxs-lookup"><span data-stu-id="98c4e-128">vCPU</span></span> | <span data-ttu-id="98c4e-129">Mémoire : Gio</span><span class="sxs-lookup"><span data-stu-id="98c4e-129">Memory: GiB</span></span> | <span data-ttu-id="98c4e-130">Stockage temporaire (SSD) en Gio</span><span class="sxs-lookup"><span data-stu-id="98c4e-130">Temp storage (SSD) GiB</span></span> | <span data-ttu-id="98c4e-131">GPU</span><span class="sxs-lookup"><span data-stu-id="98c4e-131">GPU</span></span> | <span data-ttu-id="98c4e-132">Mémoire GPU : Gio</span><span class="sxs-lookup"><span data-stu-id="98c4e-132">GPU memory: GiB</span></span> | <span data-ttu-id="98c4e-133">Disques de données max.</span><span class="sxs-lookup"><span data-stu-id="98c4e-133">Max data disks</span></span> | <span data-ttu-id="98c4e-134">Nombre max de cartes réseau</span><span class="sxs-lookup"><span data-stu-id="98c4e-134">Max NICs</span></span> |
    |---|---|---|---|---|---|---|---|
    | <span data-ttu-id="98c4e-135">Standard_NC12</span><span class="sxs-lookup"><span data-stu-id="98c4e-135">Standard_NC12</span></span>   | <span data-ttu-id="98c4e-136">12</span><span class="sxs-lookup"><span data-stu-id="98c4e-136">12</span></span> | <span data-ttu-id="98c4e-137">112</span><span class="sxs-lookup"><span data-stu-id="98c4e-137">112</span></span> | <span data-ttu-id="98c4e-138">680</span><span class="sxs-lookup"><span data-stu-id="98c4e-138">680</span></span>  | <span data-ttu-id="98c4e-139">2</span><span class="sxs-lookup"><span data-stu-id="98c4e-139">2</span></span> | <span data-ttu-id="98c4e-140">24</span><span class="sxs-lookup"><span data-stu-id="98c4e-140">24</span></span> | <span data-ttu-id="98c4e-141">48</span><span class="sxs-lookup"><span data-stu-id="98c4e-141">48</span></span> | <span data-ttu-id="98c4e-142">2</span><span class="sxs-lookup"><span data-stu-id="98c4e-142">2</span></span> |
    | <span data-ttu-id="98c4e-143">Standard_NC24</span><span class="sxs-lookup"><span data-stu-id="98c4e-143">Standard_NC24</span></span>   | <span data-ttu-id="98c4e-144">24</span><span class="sxs-lookup"><span data-stu-id="98c4e-144">24</span></span> | <span data-ttu-id="98c4e-145">224</span><span class="sxs-lookup"><span data-stu-id="98c4e-145">224</span></span> | <span data-ttu-id="98c4e-146">1440</span><span class="sxs-lookup"><span data-stu-id="98c4e-146">1440</span></span> | <span data-ttu-id="98c4e-147">4</span><span class="sxs-lookup"><span data-stu-id="98c4e-147">4</span></span> | <span data-ttu-id="98c4e-148">48</span><span class="sxs-lookup"><span data-stu-id="98c4e-148">48</span></span> | <span data-ttu-id="98c4e-149">64</span><span class="sxs-lookup"><span data-stu-id="98c4e-149">64</span></span> | <span data-ttu-id="98c4e-150">4</span><span class="sxs-lookup"><span data-stu-id="98c4e-150">4</span></span> |

    <span data-ttu-id="98c4e-151">Pour plus d’informations sur les types de calcul optimisés GPU, consultez la documentation sur les [machines virtuelles Linux de série NC](https://docs.microsoft.com/azure/virtual-machines/nc-series?toc=/azure/virtual-machines/linux/toc.json&bc=/azure/virtual-machines/linux/breadcrumb/toc.json) .</span><span class="sxs-lookup"><span data-stu-id="98c4e-151">Visit the [NC-series Linux VM documentation](https://docs.microsoft.com/azure/virtual-machines/nc-series?toc=/azure/virtual-machines/linux/toc.json&bc=/azure/virtual-machines/linux/breadcrumb/toc.json) for more details on GPU optimized compute types.</span></span>
- <span data-ttu-id="98c4e-152">Priorité de calcul</span><span class="sxs-lookup"><span data-stu-id="98c4e-152">Compute priority</span></span>

  - <span data-ttu-id="98c4e-153">Priorité basse : adaptée aux tâches avec des durées d’exécution plus courtes.</span><span class="sxs-lookup"><span data-stu-id="98c4e-153">Low-priority: Suited for tasks with shorter execution times.</span></span> <span data-ttu-id="98c4e-154">Peut être affecté par des interruptions et un manque de disponibilité.</span><span class="sxs-lookup"><span data-stu-id="98c4e-154">May be impacted by interruptions and lack of availability.</span></span> <span data-ttu-id="98c4e-155">En règle générale, le coût est moins faible, car il tire parti de la capacité excédentaire dans Azure.</span><span class="sxs-lookup"><span data-stu-id="98c4e-155">Usually costs less because it takes advantage of surplus capacity in Azure.</span></span>
  - <span data-ttu-id="98c4e-156">Dédié : adapté aux tâches de toutes les durées, en particulier les travaux de longue durée.</span><span class="sxs-lookup"><span data-stu-id="98c4e-156">Dedicated: Suited for tasks of any duration, but especially long-running jobs.</span></span> <span data-ttu-id="98c4e-157">Non affecté par des interruptions ou une absence de disponibilité.</span><span class="sxs-lookup"><span data-stu-id="98c4e-157">Not impacted by interruptions or lack of availability.</span></span> <span data-ttu-id="98c4e-158">En règle générale, il est plus onéreux, car il réserve un ensemble dédié de ressources de calcul dans Azure pour vos tâches.</span><span class="sxs-lookup"><span data-stu-id="98c4e-158">Usually costs more because it reserves a dedicated set of compute resources in Azure for your tasks.</span></span>

## <a name="training"></a><span data-ttu-id="98c4e-159">Formation</span><span class="sxs-lookup"><span data-stu-id="98c4e-159">Training</span></span>

<span data-ttu-id="98c4e-160">La formation sur Azure est disponible uniquement pour le scénario de classification d’image du générateur de modèles.</span><span class="sxs-lookup"><span data-stu-id="98c4e-160">Training on Azure is only available for the Model Builder image classification scenario.</span></span> <span data-ttu-id="98c4e-161">L’algorithme utilisé pour l’apprentissage de ces modèles est un réseau neuronal profond basé sur l’architecture ResNet50.</span><span class="sxs-lookup"><span data-stu-id="98c4e-161">The algorithm used to train these models is a Deep Neural Network based on the ResNet50 architecture.</span></span> <span data-ttu-id="98c4e-162">Le processus d’apprentissage prend un certain temps et la durée peut varier en fonction de la taille du calcul sélectionné et de la quantité de données.</span><span class="sxs-lookup"><span data-stu-id="98c4e-162">The training process takes some time and the amount of time may vary depending on the size of compute selected as well as amount of data.</span></span> <span data-ttu-id="98c4e-163">Vous pouvez suivre la progression de vos exécutions en sélectionnant le lien « analyser l’exécution actuelle en Portail Azure » dans Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="98c4e-163">You can track the progress of your runs by selecting the "Monitor current run in Azure portal" link in Visual Studio.</span></span>

## <a name="results"></a><span data-ttu-id="98c4e-164">Résultats</span><span class="sxs-lookup"><span data-stu-id="98c4e-164">Results</span></span>

<span data-ttu-id="98c4e-165">Une fois l’apprentissage terminé, deux projets sont ajoutés à votre solution avec les suffixes suivants :</span><span class="sxs-lookup"><span data-stu-id="98c4e-165">Once training is complete, two projects are added to your solution with the following suffixes:</span></span>

- <span data-ttu-id="98c4e-166">*ConsoleApp*: application console C# .net core qui fournit un code de démarrage pour créer le pipeline de prédiction et effectuer des prédictions.</span><span class="sxs-lookup"><span data-stu-id="98c4e-166">*ConsoleApp*: A C# .NET Core console application that provides starter code to build the prediction pipeline and make predictions.</span></span>
- <span data-ttu-id="98c4e-167">*Modèle*: application C# .NET standard qui contient les modèles de données qui définissent le schéma des données de modèle d’entrée et de sortie, ainsi que les ressources suivantes :</span><span class="sxs-lookup"><span data-stu-id="98c4e-167">*Model*: A C# .NET Standard application that contains the data models that define the schema of input and output model data as well as the following assets:</span></span>

  - <span data-ttu-id="98c4e-168">bestModel. Onnx : version sérialisée du modèle au format ONNX (Open neuronal Network Exchange).</span><span class="sxs-lookup"><span data-stu-id="98c4e-168">bestModel.onnx: A serialized version of the model in Open Neural Network Exchange (ONNX) format.</span></span> <span data-ttu-id="98c4e-169">ONNX est un format Open source pour les modèles AI qui prend en charge l’interopérabilité entre les infrastructures telles que ML.NET, PyTorch et TensorFlow.</span><span class="sxs-lookup"><span data-stu-id="98c4e-169">ONNX is an open source format for AI models that supports interoperability between frameworks like ML.NET, PyTorch and TensorFlow.</span></span>
  - <span data-ttu-id="98c4e-170">bestModelMap.jsle : liste des catégories utilisées lors de l’élaboration de prédictions pour mapper la sortie du modèle à une catégorie de texte.</span><span class="sxs-lookup"><span data-stu-id="98c4e-170">bestModelMap.json: A list of categories used when making predictions to map the model output to a text category.</span></span>
  - <span data-ttu-id="98c4e-171">MLModel.zip : une version sérialisée du pipeline de prédiction ML.NET qui utilise la version sérialisée du modèle *bestModel. Onnx* pour effectuer des prédictions et mapper des sorties à l’aide du `bestModelMap.json` fichier.</span><span class="sxs-lookup"><span data-stu-id="98c4e-171">MLModel.zip: A serialized version of the ML.NET prediction pipeline that uses the serialized version of the model *bestModel.onnx* to make predictions and maps outputs using the `bestModelMap.json` file.</span></span>

## <a name="use-the-machine-learning-model"></a><span data-ttu-id="98c4e-172">Utiliser le modèle de Machine Learning</span><span class="sxs-lookup"><span data-stu-id="98c4e-172">Use the machine learning model</span></span>

<span data-ttu-id="98c4e-173">Les `ModelInput` classes et du `ModelOutput` projet de *modèle* définissent respectivement le schéma de l’entrée et de la sortie attendues du modèle.</span><span class="sxs-lookup"><span data-stu-id="98c4e-173">The `ModelInput` and `ModelOutput` classes in the *Model* project define the schema of the model's expected input and output respectively.</span></span>

<span data-ttu-id="98c4e-174">Dans un scénario de classification d’images, le `ModelInput` contient deux colonnes :</span><span class="sxs-lookup"><span data-stu-id="98c4e-174">In an image classification scenario, the `ModelInput` contains two columns:</span></span>

- <span data-ttu-id="98c4e-175">`ImageSource`: Chemin d’accès de chaîne de l’emplacement de l’image.</span><span class="sxs-lookup"><span data-stu-id="98c4e-175">`ImageSource`: The string path of the image location.</span></span>
- <span data-ttu-id="98c4e-176">`Label`: Catégorie réelle à laquelle l’image appartient.</span><span class="sxs-lookup"><span data-stu-id="98c4e-176">`Label`: The actual category the image belongs to.</span></span> <span data-ttu-id="98c4e-177">`Label`est utilisé uniquement en tant qu’entrée lors de l’apprentissage et n’a pas besoin d’être fourni lors de l’élaboration de prédictions.</span><span class="sxs-lookup"><span data-stu-id="98c4e-177">`Label` is only used as an input when training and does not need to be provided when making predictions.</span></span>

<span data-ttu-id="98c4e-178">`ModelOutput`Contient deux colonnes :</span><span class="sxs-lookup"><span data-stu-id="98c4e-178">The `ModelOutput` contains two columns:</span></span>

- <span data-ttu-id="98c4e-179">`Prediction`: Catégorie prédite de l’image.</span><span class="sxs-lookup"><span data-stu-id="98c4e-179">`Prediction`: The image's predicted category.</span></span>
- <span data-ttu-id="98c4e-180">`Score`: Liste des probabilités pour toutes les catégories (la valeur la plus élevée appartient à `Prediction` ).</span><span class="sxs-lookup"><span data-stu-id="98c4e-180">`Score`: The list of probabilities for all categories (the highest belongs to the `Prediction`).</span></span>

## <a name="troubleshooting"></a><span data-ttu-id="98c4e-181">Dépannage</span><span class="sxs-lookup"><span data-stu-id="98c4e-181">Troubleshooting</span></span>

### <a name="cannot-create-compute"></a><span data-ttu-id="98c4e-182">Impossible de créer le calcul</span><span class="sxs-lookup"><span data-stu-id="98c4e-182">Cannot create compute</span></span>

<span data-ttu-id="98c4e-183">Si une erreur se produit lors de la création de Azure Machine Learning calcul, il se peut que la ressource de calcul existe toujours, dans un état d’erreur.</span><span class="sxs-lookup"><span data-stu-id="98c4e-183">If an error occurs during Azure Machine Learning compute creation, the compute resource may still exist, in an errored state.</span></span> <span data-ttu-id="98c4e-184">Si vous essayez de recréer la ressource de calcul portant le même nom, l’opération échoue.</span><span class="sxs-lookup"><span data-stu-id="98c4e-184">If you try to re-create the compute resource with the same name, the operation fails.</span></span> <span data-ttu-id="98c4e-185">Pour corriger cette erreur, vous avez le choix entre plusieurs possibilités :</span><span class="sxs-lookup"><span data-stu-id="98c4e-185">To fix this error, either:</span></span>

- <span data-ttu-id="98c4e-186">Créer le calcul avec un nom différent</span><span class="sxs-lookup"><span data-stu-id="98c4e-186">Create the new compute with a different name</span></span>
- <span data-ttu-id="98c4e-187">Accéder au Portail Azure et supprimer la ressource de calcul d’origine</span><span class="sxs-lookup"><span data-stu-id="98c4e-187">Go to the Azure portal, and remove the original compute resource</span></span>
