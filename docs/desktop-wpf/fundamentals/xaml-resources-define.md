---
title: Décrivez les ressources XAML
description: En savoir plus sur les ressources XAML dans WPF pour .NET Core. Comprendre les types de ressources XAML et apprendre à définir les ressources XAML.
author: thraka
ms.author: adegeo
ms.date: 08/21/2019
ms.openlocfilehash: b278bb92afc308578d60e347871e0150b26a95db
ms.sourcegitcommit: f8c36054eab877de4d40a705aacafa2552ce70e9
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 12/31/2019
ms.locfileid: "82071282"
---
# <a name="overview-of-xaml-resources"></a><span data-ttu-id="77c9a-104">Aperçu des ressources XAML</span><span class="sxs-lookup"><span data-stu-id="77c9a-104">Overview of XAML resources</span></span>

<span data-ttu-id="77c9a-105">Une ressource est un objet qui peut être réutilisé à différents endroits de votre application.</span><span class="sxs-lookup"><span data-stu-id="77c9a-105">A resource is an object that can be reused in different places in your app.</span></span> <span data-ttu-id="77c9a-106">Par exemple, les styles et les pinceaux sont des ressources.</span><span class="sxs-lookup"><span data-stu-id="77c9a-106">Examples of resources include brushes and styles.</span></span> <span data-ttu-id="77c9a-107">Cette vue d’ensemble décrit comment utiliser les ressources dans Extensible Application Markup Language (XAML).</span><span class="sxs-lookup"><span data-stu-id="77c9a-107">This overview describes how to use resources in Extensible Application Markup Language (XAML).</span></span> <span data-ttu-id="77c9a-108">Vous pouvez également créer et accéder aux ressources en utilisant du code.</span><span class="sxs-lookup"><span data-stu-id="77c9a-108">You can also create and access resources by using code.</span></span>

> [!NOTE]
> <span data-ttu-id="77c9a-109">Les ressources XAML décrites dans cet article sont différentes des *ressources d’applications* qui sont généralement des fichiers ajoutés à une application, telles que le contenu, les données ou les fichiers intégrés.</span><span class="sxs-lookup"><span data-stu-id="77c9a-109">XAML resources described in this article are different from *app resources* which are generally files added to an app, such as content, data, or embedded files.</span></span>

<!-- TODO: File redirect from docs\framework\wpf\advanced\xaml-resources.md -->

[!INCLUDE [desktop guide under construction](../../../includes/desktop-guide-preview-note.md)]

## <a name="using-resources-in-xaml"></a><span data-ttu-id="77c9a-110">Utilisation des ressources dans XAML</span><span class="sxs-lookup"><span data-stu-id="77c9a-110">Using resources in XAML</span></span>

<span data-ttu-id="77c9a-111">L’exemple suivant <xref:System.Windows.Media.SolidColorBrush> définit une ressource sur l’élément racine d’une page.</span><span class="sxs-lookup"><span data-stu-id="77c9a-111">The following example defines a <xref:System.Windows.Media.SolidColorBrush> as a resource on the root element of a page.</span></span> <span data-ttu-id="77c9a-112">L’exemple fait ensuite référence à la ressource et l’utilise <xref:System.Windows.Controls.TextBlock>pour <xref:System.Windows.Controls.Button>définir les propriétés de plusieurs éléments pour enfants, y compris un <xref:System.Windows.Shapes.Ellipse>, a , et a .</span><span class="sxs-lookup"><span data-stu-id="77c9a-112">The example then references the resource and uses it to set properties of several child elements, including an <xref:System.Windows.Shapes.Ellipse>, a <xref:System.Windows.Controls.TextBlock>, and a <xref:System.Windows.Controls.Button>.</span></span>

[!code-xaml[FEResourceSH_snip#XAML](~/samples/snippets/csharp/VS_Snippets_Wpf/FEResourceSH_snip/CS/page1.xaml#xaml)]

<span data-ttu-id="77c9a-113">Chaque élément de<xref:System.Windows.FrameworkElement> niveau <xref:System.Windows.FrameworkContentElement>cadre <xref:System.Windows.FrameworkElement.Resources%2A> ( ou ) <xref:System.Windows.ResourceDictionary> a une propriété, qui est un type qui contient des ressources définies.</span><span class="sxs-lookup"><span data-stu-id="77c9a-113">Every framework-level element (<xref:System.Windows.FrameworkElement> or <xref:System.Windows.FrameworkContentElement>) has a <xref:System.Windows.FrameworkElement.Resources%2A> property, which is a <xref:System.Windows.ResourceDictionary> type that contains defined resources.</span></span> <span data-ttu-id="77c9a-114">Vous pouvez définir des ressources sur <xref:System.Windows.Controls.Button>n’importe quel élément, comme un .</span><span class="sxs-lookup"><span data-stu-id="77c9a-114">You can define resources on any element, such as a <xref:System.Windows.Controls.Button>.</span></span> <span data-ttu-id="77c9a-115">Cependant, les ressources sont le plus souvent <xref:System.Windows.Controls.Page> définies sur l’élément racine, ce qui est dans l’exemple.</span><span class="sxs-lookup"><span data-stu-id="77c9a-115">However, resources are most often defined on the root element, which is <xref:System.Windows.Controls.Page> in the example.</span></span>

<span data-ttu-id="77c9a-116">Chaque ressource d’un dictionnaire de ressources doit avoir une clé unique.</span><span class="sxs-lookup"><span data-stu-id="77c9a-116">Each resource in a resource dictionary must have a unique key.</span></span> <span data-ttu-id="77c9a-117">Lorsque vous définissez les ressources en marge, vous attribuez la clé unique par le biais de la [directive x:Key](../xaml-services/xkey-directive.md).</span><span class="sxs-lookup"><span data-stu-id="77c9a-117">When you define resources in markup, you assign the unique key through the [x:Key Directive](../xaml-services/xkey-directive.md).</span></span> <span data-ttu-id="77c9a-118">Cette clé est généralement une chaîne, mais vous pouvez aussi la définir en tant qu’autres types d’objets en utilisant les extensions de balisage appropriées.</span><span class="sxs-lookup"><span data-stu-id="77c9a-118">Typically, the key is a string; however, you can also set it to other object types by using the appropriate markup extensions.</span></span> <span data-ttu-id="77c9a-119">Les clés non-cordes pour les ressources sont utilisées par certaines zones de fonctionnalités dans WPF, notamment pour les styles, les ressources de composants et le style de données.</span><span class="sxs-lookup"><span data-stu-id="77c9a-119">Non-string keys for resources are used by certain feature areas in WPF, notably for styles, component resources, and data styling.</span></span>

<span data-ttu-id="77c9a-120">Vous pouvez utiliser une ressource définie avec la syntaxe d’extension de balisage des ressources qui spécifie le nom clé de la ressource.</span><span class="sxs-lookup"><span data-stu-id="77c9a-120">You can use a defined resource with the resource markup extension syntax that specifies the key name of the resource.</span></span> <span data-ttu-id="77c9a-121">Par exemple, utilisez la ressource comme valeur d’une propriété sur un autre élément.</span><span class="sxs-lookup"><span data-stu-id="77c9a-121">For example, use the resource as the value of a property on another element.</span></span>

[!code-xaml[FEResourceSH_snip#KeyNameUsage](~/samples/snippets/csharp/VS_Snippets_Wpf/FEResourceSH_snip/CS/page2.xaml#keynameusage)]

<span data-ttu-id="77c9a-122">Dans l’exemple précédent, lorsque le chargeur `{StaticResource MyBrush}` XAML traite la valeur de la <xref:System.Windows.Controls.Control.Background%2A> propriété sur <xref:System.Windows.Controls.Button>, la logique de recherche de ressources vérifie d’abord le dictionnaire de ressources pour l’élément. <xref:System.Windows.Controls.Button></span><span class="sxs-lookup"><span data-stu-id="77c9a-122">In the preceding example, when the XAML loader processes the value `{StaticResource MyBrush}` for the <xref:System.Windows.Controls.Control.Background%2A> property on <xref:System.Windows.Controls.Button>, the resource lookup logic first checks the resource dictionary for the <xref:System.Windows.Controls.Button> element.</span></span> <span data-ttu-id="77c9a-123">Si <xref:System.Windows.Controls.Button> elle n’a pas de `MyBrush` définition de la clé de ressources (dans cet exemple, elle n’en a pas; sa collecte de ressources est vide), la prochaine vérification de l’élément parent de <xref:System.Windows.Controls.Button>, qui est <xref:System.Windows.Controls.Page>.</span><span class="sxs-lookup"><span data-stu-id="77c9a-123">If <xref:System.Windows.Controls.Button> doesn't have a definition of the resource key `MyBrush` (in that example it doesn't; its resource collection is empty), the lookup next checks the parent element of <xref:System.Windows.Controls.Button>, which is <xref:System.Windows.Controls.Page>.</span></span> <span data-ttu-id="77c9a-124">Si vous définissez <xref:System.Windows.Controls.Page> une ressource sur l’élément racine, <xref:System.Windows.Controls.Page> tous les éléments de l’arbre logique de la peut y accéder.</span><span class="sxs-lookup"><span data-stu-id="77c9a-124">If you define a resource on the <xref:System.Windows.Controls.Page> root element, all the elements in the logical tree of the <xref:System.Windows.Controls.Page> can access it.</span></span> <span data-ttu-id="77c9a-125">Et vous pouvez réutiliser la même ressource pour définir la valeur de toute propriété qui accepte le même type que la ressource représente.</span><span class="sxs-lookup"><span data-stu-id="77c9a-125">And you can reuse the same resource for setting the value of any property that accepts the same type that the resource represents.</span></span> <span data-ttu-id="77c9a-126">Dans l’exemple précédent, `MyBrush` la même ressource <xref:System.Windows.Controls.Control.Background%2A> définit <xref:System.Windows.Controls.Button>deux <xref:System.Windows.Shapes.Shape.Fill%2A> propriétés différentes: l’un , et le d’un <xref:System.Windows.Shapes.Rectangle>.</span><span class="sxs-lookup"><span data-stu-id="77c9a-126">In the previous example, the same `MyBrush` resource sets two different properties: the <xref:System.Windows.Controls.Control.Background%2A> of a <xref:System.Windows.Controls.Button>, and the <xref:System.Windows.Shapes.Shape.Fill%2A> of a <xref:System.Windows.Shapes.Rectangle>.</span></span>

## <a name="static-and-dynamic-resources"></a><span data-ttu-id="77c9a-127">Ressources statiques et dynamiques</span><span class="sxs-lookup"><span data-stu-id="77c9a-127">Static and dynamic resources</span></span>

<span data-ttu-id="77c9a-128">Une ressource peut être référencée comme statique ou dynamique.</span><span class="sxs-lookup"><span data-stu-id="77c9a-128">A resource can be referenced as either static or dynamic.</span></span> <span data-ttu-id="77c9a-129">Les références sont créées en utilisant soit [l’extension de balisage StaticResource](../../framework/wpf/advanced/staticresource-markup-extension.md) ou l’extension [De Markup DynamicResource](../../framework/wpf/advanced/dynamicresource-markup-extension.md).</span><span class="sxs-lookup"><span data-stu-id="77c9a-129">References are created by using either the [StaticResource Markup Extension](../../framework/wpf/advanced/staticresource-markup-extension.md) or the [DynamicResource Markup Extension](../../framework/wpf/advanced/dynamicresource-markup-extension.md).</span></span> <span data-ttu-id="77c9a-130">Une extension de balisage est une fonctionnalité XAML qui vous permet de spécifier une référence d’objet en ayant le processus d’extension de balisage de la chaîne d’attribut et de retourner l’objet à un chargeur XAML.</span><span class="sxs-lookup"><span data-stu-id="77c9a-130">A markup extension is a XAML feature that lets you specify an object reference by having the markup extension process the attribute string and return the object to a XAML loader.</span></span> <span data-ttu-id="77c9a-131">Pour plus d’informations sur le comportement d’extension de balisage, voir [Extensions Markup et WPF XAML](../../framework/wpf/advanced/markup-extensions-and-wpf-xaml.md).</span><span class="sxs-lookup"><span data-stu-id="77c9a-131">For more information about markup extension behavior, see [Markup Extensions and WPF XAML](../../framework/wpf/advanced/markup-extensions-and-wpf-xaml.md).</span></span>

<span data-ttu-id="77c9a-132">Lorsque vous utilisez une extension de balisage, vous fournissez généralement un ou plusieurs paramètres sous forme de chaîne qui sont traités par cette extension de balisage particulière.</span><span class="sxs-lookup"><span data-stu-id="77c9a-132">When you use a markup extension, you typically provide one or more parameters in string form that are processed by that particular markup extension.</span></span> <span data-ttu-id="77c9a-133">[L’extension De Markup StaticResource](../../framework/wpf/advanced/staticresource-markup-extension.md) traite une clé en recherchant la valeur de cette clé dans tous les dictionnaires de ressources disponibles.</span><span class="sxs-lookup"><span data-stu-id="77c9a-133">The [StaticResource Markup Extension](../../framework/wpf/advanced/staticresource-markup-extension.md) processes a key by looking up the value for that key in all available resource dictionaries.</span></span> <span data-ttu-id="77c9a-134">Le traitement se produit pendant la charge, c’est-à-dire lorsque le processus de chargement doit attribuer la valeur de la propriété.</span><span class="sxs-lookup"><span data-stu-id="77c9a-134">Processing happens during load, which is when the loading process needs to assign the property value.</span></span> <span data-ttu-id="77c9a-135">[L’extension DynamicResource Markup](../../framework/wpf/advanced/dynamicresource-markup-extension.md) traite plutôt une clé en créant une expression, et cette expression reste non évaluée jusqu’à ce que l’application s’exécute, date à laquelle l’expression est évaluée et fournit une valeur.</span><span class="sxs-lookup"><span data-stu-id="77c9a-135">The [DynamicResource Markup Extension](../../framework/wpf/advanced/dynamicresource-markup-extension.md) instead processes a key by creating an expression, and that expression remains unevaluated until the app runs, at which time the expression is evaluated and provides a value.</span></span>

<span data-ttu-id="77c9a-136">Quand vous faites référence à une ressource, les points suivants peuvent influer sur votre choix d’utiliser une référence de ressource statique ou à une ressource dynamique :</span><span class="sxs-lookup"><span data-stu-id="77c9a-136">When you reference a resource, the following considerations can influence whether you use a static resource reference or a dynamic resource reference:</span></span>

- <span data-ttu-id="77c9a-137">Lorsque vous déterminez la conception globale de la façon dont vous créez les ressources de votre application (par page, dans l’application, en XAML en vrac ou dans un assemblage uniquement de ressources), considérez ce qui suit :</span><span class="sxs-lookup"><span data-stu-id="77c9a-137">When determining the overall design of how you create the resources for your app (per page, in the app, in loose XAML, or in a resource-only assembly), consider the following:</span></span>

- <span data-ttu-id="77c9a-138">La fonctionnalité de l’application.</span><span class="sxs-lookup"><span data-stu-id="77c9a-138">The app's functionality.</span></span> <span data-ttu-id="77c9a-139">Les ressources mises à jour en temps réel sont-elles une partie des exigences de votre application ?</span><span class="sxs-lookup"><span data-stu-id="77c9a-139">Are updating resources in real-time part of your app requirements?</span></span>
- <span data-ttu-id="77c9a-140">Le comportement de recherche respectif de ce type de référence de ressource.</span><span class="sxs-lookup"><span data-stu-id="77c9a-140">The respective lookup behavior of that resource reference type.</span></span>
- <span data-ttu-id="77c9a-141">Le type de ressource ou de propriété spécifique et le comportement natif de ces types.</span><span class="sxs-lookup"><span data-stu-id="77c9a-141">The particular property or resource type, and the native behavior of those types.</span></span>

## <a name="static-resources"></a><span data-ttu-id="77c9a-142">Ressources statiques</span><span class="sxs-lookup"><span data-stu-id="77c9a-142">Static resources</span></span>

<span data-ttu-id="77c9a-143">Les références de ressources statiques conviennent parfaitement dans les conditions suivantes :</span><span class="sxs-lookup"><span data-stu-id="77c9a-143">Static resource references work best for the following circumstances:</span></span>

- <span data-ttu-id="77c9a-144">La conception de votre application concentre la plupart de ses ressources dans des dictionnaires de ressources de page ou de niveau d’application.</span><span class="sxs-lookup"><span data-stu-id="77c9a-144">Your app design concentrates most of its resources into page or application-level resource dictionaries.</span></span> <span data-ttu-id="77c9a-145">Les références de ressources statiques ne sont pas réévaluées en fonction des comportements en temps d’exécution, tels que le rechargement d’une page.</span><span class="sxs-lookup"><span data-stu-id="77c9a-145">Static resource references aren't reevaluated based on runtime behaviors, such as reloading a page.</span></span> <span data-ttu-id="77c9a-146">Ainsi, il peut y avoir un certain avantage de performance à éviter un grand nombre de références de ressources dynamiques quand elles ne sont pas nécessaires en fonction de votre ressource et la conception d’applications.</span><span class="sxs-lookup"><span data-stu-id="77c9a-146">So there can be some performance benefit to avoiding large numbers of dynamic resource references when they aren't necessary based on your resource and app design.</span></span>

- <span data-ttu-id="77c9a-147">Vous définissez la valeur d’une propriété <xref:System.Windows.DependencyObject> qui <xref:System.Windows.Freezable>n’est pas sur un ou un .</span><span class="sxs-lookup"><span data-stu-id="77c9a-147">You're setting the value of a property that isn't on a <xref:System.Windows.DependencyObject> or a <xref:System.Windows.Freezable>.</span></span>

- <span data-ttu-id="77c9a-148">Vous créez un dictionnaire de ressources qui sera compilé dans un DLL et emballé dans le cadre de l’application ou partagé entre les applications.</span><span class="sxs-lookup"><span data-stu-id="77c9a-148">You're creating a resource dictionary that will be compiled into a DLL and packaged as part of the app or shared between apps.</span></span>

- <span data-ttu-id="77c9a-149">Vous créez un thème pour un contrôle personnalisé et définissez les ressources qui sont utilisées dans les thèmes.</span><span class="sxs-lookup"><span data-stu-id="77c9a-149">You're creating a theme for a custom control and are defining resources that are used within the themes.</span></span> <span data-ttu-id="77c9a-150">Pour ce cas, vous ne voulez généralement pas le comportement dynamique de recherche de référence de ressource ; vous voulez plutôt le comportement statique de référence de ressource de sorte que le lookup est prévisible et autonome au thème.</span><span class="sxs-lookup"><span data-stu-id="77c9a-150">For this case, you typically do not want the dynamic resource reference lookup behavior; you instead want the static resource reference behavior so that the lookup is predictable and self-contained to the theme.</span></span> <span data-ttu-id="77c9a-151">Avec une référence dynamique des ressources, même une référence dans un thème n’est pas évaluée jusqu’à la durée de la course.</span><span class="sxs-lookup"><span data-stu-id="77c9a-151">With a dynamic resource reference, even a reference within a theme is left unevaluated until run-time.</span></span> <span data-ttu-id="77c9a-152">et il ya une chance que lorsque le thème est appliqué, un élément local redéfinira une clé que votre thème essaie de référence, et l’élément local tombera avant le thème lui-même dans le lookup.</span><span class="sxs-lookup"><span data-stu-id="77c9a-152">and there is a chance that when the theme is applied, some local element will redefine a key that your theme is trying to reference, and the local element will fall prior to the theme itself in the lookup.</span></span> <span data-ttu-id="77c9a-153">Si cela se produit, votre thème ne se comportera pas comme prévu.</span><span class="sxs-lookup"><span data-stu-id="77c9a-153">If that happens, your theme will not behave as expected.</span></span>

- <span data-ttu-id="77c9a-154">Vous utilisez les ressources pour définir un grand nombre de propriétés de dépendance.</span><span class="sxs-lookup"><span data-stu-id="77c9a-154">You're using resources to set large numbers of dependency properties.</span></span> <span data-ttu-id="77c9a-155">Propriétés de dépendance ont la mise en cache de valeur efficace comme activé par le système de propriété, ainsi si vous fournissez une valeur pour une propriété de dépendance qui peut être évaluée au moment de charge, la propriété de dépendance n’a pas à vérifier pour une expression réévaluée et peut retourner la dernière valeur effective.</span><span class="sxs-lookup"><span data-stu-id="77c9a-155">Dependency properties have effective value caching as enabled by the property system, so if you provide a value for a dependency property that can be evaluated at load time, the dependency property doesn't have to check for a reevaluated expression and can return the last effective value.</span></span> <span data-ttu-id="77c9a-156">Cette technique peut s’avérer un gain de performances.</span><span class="sxs-lookup"><span data-stu-id="77c9a-156">This technique can be a performance benefit.</span></span>

- <span data-ttu-id="77c9a-157">Vous souhaitez modifier la ressource sous-jacente pour tous les consommateurs, ou vous souhaitez maintenir des instances brefes distinctes pour chaque consommateur en utilisant le [x:Shared Attribute](../xaml-services/xshared-attribute.md).</span><span class="sxs-lookup"><span data-stu-id="77c9a-157">You want to change the underlying resource for all consumers, or you want to maintain separate writable instances for each consumer by using the [x:Shared Attribute](../xaml-services/xshared-attribute.md).</span></span>

### <a name="static-resource-lookup-behavior"></a><span data-ttu-id="77c9a-158">Comportement de la recherche de ressources statiques</span><span class="sxs-lookup"><span data-stu-id="77c9a-158">Static resource lookup behavior</span></span>

<span data-ttu-id="77c9a-159">Ce qui suit décrit le processus de recherche qui se produit automatiquement lorsqu’une ressource statique est référencée par une propriété ou un élément :</span><span class="sxs-lookup"><span data-stu-id="77c9a-159">The following describes the lookup process that automatically happens when a static resource is referenced by a property or element:</span></span>

01. <span data-ttu-id="77c9a-160">Le processus de recherche recherche la clé demandée dans le dictionnaire de ressources qui est spécifié par l’élément définissant la propriété.</span><span class="sxs-lookup"><span data-stu-id="77c9a-160">The lookup process checks for the requested key within the resource dictionary defined by the element that sets the property.</span></span>

01. <span data-ttu-id="77c9a-161">Le processus de recherche traverse alors l’arbre logique vers le haut à l’élément parent et son dictionnaire de ressources.</span><span class="sxs-lookup"><span data-stu-id="77c9a-161">The lookup process then traverses the logical tree upward to the parent element and its resource dictionary.</span></span> <span data-ttu-id="77c9a-162">Ce processus se poursuit jusqu’à ce que l’élément racine soit atteint.</span><span class="sxs-lookup"><span data-stu-id="77c9a-162">This process continues until the root element is reached.</span></span>

01. <span data-ttu-id="77c9a-163">Les ressources de l’application sont vérifiées.</span><span class="sxs-lookup"><span data-stu-id="77c9a-163">App resources are checked.</span></span> <span data-ttu-id="77c9a-164">Les ressources d’applications sont les ressources <xref:System.Windows.Application> du dictionnaire des ressources qui est définie par l’objet de votre application WPF.</span><span class="sxs-lookup"><span data-stu-id="77c9a-164">App resources are those resources within the resource dictionary that is defined by the <xref:System.Windows.Application> object for your WPF app.</span></span>

<span data-ttu-id="77c9a-165">Les références de ressources statiques issues d’un dictionnaire de ressources doivent référencer une ressource qui a déjà été définie sur le plan lexical avant la référence de ressource.</span><span class="sxs-lookup"><span data-stu-id="77c9a-165">Static resource references from within a resource dictionary must reference a resource that has already been defined lexically before the resource reference.</span></span> <span data-ttu-id="77c9a-166">Les références anticipées ne peuvent pas être résolues par une référence de ressource statique.</span><span class="sxs-lookup"><span data-stu-id="77c9a-166">Forward references cannot be resolved by a static resource reference.</span></span> <span data-ttu-id="77c9a-167">Pour cette raison, concevez votre structure de dictionnaire de ressources de telle sorte que les ressources soient définies au début ou vers le début de chaque dictionnaire de ressources respectif.</span><span class="sxs-lookup"><span data-stu-id="77c9a-167">For this reason, design your resource dictionary structure such that resources are defined at or near the beginning of each respective resource dictionary.</span></span>

<span data-ttu-id="77c9a-168">La recherche statique des ressources peut s’étendre en thèmes ou en ressources système, mais cette recherche n’est prise en charge que parce que le chargeur XAML reporte la demande.</span><span class="sxs-lookup"><span data-stu-id="77c9a-168">Static resource lookup can extend into themes or into system resources, but this lookup is supported only because the XAML loader defers the request.</span></span> <span data-ttu-id="77c9a-169">Le report est nécessaire de sorte que le thème de l’heure d’exécution au moment où la page se charge s’applique correctement à l’application.</span><span class="sxs-lookup"><span data-stu-id="77c9a-169">The deferral is necessary so that the runtime theme at the time the page loads applies properly to the app.</span></span> <span data-ttu-id="77c9a-170">Cependant, les références statiques de ressources aux touches qui sont connues pour exister seulement dans les thèmes ou comme ressources système ne sont pas recommandées, parce que ces références ne sont pas réévaluées si le thème est changé par l’utilisateur en temps réel.</span><span class="sxs-lookup"><span data-stu-id="77c9a-170">However, static resource references to keys that are known to only exist in themes or as system resources aren't recommended, because such references aren't reevaluated if the theme is changed by the user in real time.</span></span> <span data-ttu-id="77c9a-171">Une référence de ressource dynamique est plus fiable quand vous demandez des ressources de système ou de thème.</span><span class="sxs-lookup"><span data-stu-id="77c9a-171">A dynamic resource reference is more reliable when you request theme or system resources.</span></span> <span data-ttu-id="77c9a-172">L’exception se présente lorsqu’un élément de thème lui-même demande une autre ressource.</span><span class="sxs-lookup"><span data-stu-id="77c9a-172">The exception is when a theme element itself requests another resource.</span></span> <span data-ttu-id="77c9a-173">Ces références doivent être des références de ressources statiques pour les raisons mentionnées précédemment.</span><span class="sxs-lookup"><span data-stu-id="77c9a-173">These references should be static resource references, for the reasons mentioned earlier.</span></span>

<span data-ttu-id="77c9a-174">Le comportement d’exception si une référence de ressource statique n’est pas trouvée varie.</span><span class="sxs-lookup"><span data-stu-id="77c9a-174">The exception behavior if a static resource reference isn't found varies.</span></span> <span data-ttu-id="77c9a-175">Si la ressource a été différée, l’exception se produit lors de l’exécution.</span><span class="sxs-lookup"><span data-stu-id="77c9a-175">If the resource was deferred, then the exception occurs at runtime.</span></span> <span data-ttu-id="77c9a-176">Si la ressource n’a pas été différée, l’exception se produit au moment du chargement.</span><span class="sxs-lookup"><span data-stu-id="77c9a-176">If the resource was not deferred, the exception occurs at load time.</span></span>

## <a name="dynamic-resources"></a><span data-ttu-id="77c9a-177">Ressources dynamiques</span><span class="sxs-lookup"><span data-stu-id="77c9a-177">Dynamic resources</span></span>

<span data-ttu-id="77c9a-178">Les ressources dynamiques fonctionnent mieux lorsque :</span><span class="sxs-lookup"><span data-stu-id="77c9a-178">Dynamic resources work best when:</span></span>

- <span data-ttu-id="77c9a-179">La valeur de la ressource, y compris les ressources système, ou les ressources qui sont autrement définis par l’utilisateur, dépend de conditions qui ne sont pas connues avant l’exécution.</span><span class="sxs-lookup"><span data-stu-id="77c9a-179">The value of the resource, including system resources, or resources that are otherwise user settable, depends on conditions that aren't known until runtime.</span></span> <span data-ttu-id="77c9a-180">Par exemple, vous pouvez créer des valeurs de <xref:System.Windows.SystemColors>setter qui se réfèrent aux propriétés du système telles qu’exposées par , <xref:System.Windows.SystemFonts>, ou <xref:System.Windows.SystemParameters>.</span><span class="sxs-lookup"><span data-stu-id="77c9a-180">For example, you can create setter values that refer to system properties as exposed by <xref:System.Windows.SystemColors>, <xref:System.Windows.SystemFonts>, or <xref:System.Windows.SystemParameters>.</span></span> <span data-ttu-id="77c9a-181">Ces valeurs sont véritablement dynamiques, car elles proviennent de l’environnement d’exécution de l’utilisateur et du système d’exploitation.</span><span class="sxs-lookup"><span data-stu-id="77c9a-181">These values are truly dynamic because they ultimately come from the runtime environment of the user and operating system.</span></span> <span data-ttu-id="77c9a-182">Vous pouvez également avoir des thèmes de niveau application qui peuvent changer, où l’accès aux ressources de niveau page doit également capturer le changement.</span><span class="sxs-lookup"><span data-stu-id="77c9a-182">You might also have application-level themes that can change, where page-level resource access must also capture the change.</span></span>

- <span data-ttu-id="77c9a-183">Vous créez ou faites référence à des styles thématiques pour un contrôle personnalisé.</span><span class="sxs-lookup"><span data-stu-id="77c9a-183">You're creating or referencing theme styles for a custom control.</span></span>

- <span data-ttu-id="77c9a-184">Vous avez l’intention <xref:System.Windows.ResourceDictionary> d’ajuster le contenu d’une durée de vie dans une application.</span><span class="sxs-lookup"><span data-stu-id="77c9a-184">You intend to adjust the contents of a <xref:System.Windows.ResourceDictionary> during an app lifetime.</span></span>

- <span data-ttu-id="77c9a-185">Vous avez une structure de ressources complexe avec des interdépendances, où une référence anticipée peut être nécessaire.</span><span class="sxs-lookup"><span data-stu-id="77c9a-185">You have a complicated resource structure that has interdependencies, where a forward reference may be required.</span></span> <span data-ttu-id="77c9a-186">Les références statiques des ressources ne prennent pas en charge les références avancées, mais les références dynamiques en matière de ressources les soutiennent parce que la ressource n’a pas besoin d’être évaluée avant l’exécution, et les références avancées ne sont donc pas un concept pertinent.</span><span class="sxs-lookup"><span data-stu-id="77c9a-186">Static resource references do not support forward references, but dynamic resource references do support them because the resource doesn't need to be evaluated until runtime, and forward references are therefore not a relevant concept.</span></span>

- <span data-ttu-id="77c9a-187">Vous faites référence à une ressource qui est grande du point de vue d’une compilation ou d’un ensemble de travail, et la ressource pourrait ne pas être utilisée immédiatement lorsque la page se charge.</span><span class="sxs-lookup"><span data-stu-id="77c9a-187">You're referencing a resource that is large from the perspective of a compile or working set, and the resource might not be used immediately when the page loads.</span></span> <span data-ttu-id="77c9a-188">Les références de ressources statiques se chargent toujours de XAML lorsque la page se charge.</span><span class="sxs-lookup"><span data-stu-id="77c9a-188">Static resource references always load from XAML when the page loads.</span></span> <span data-ttu-id="77c9a-189">Cependant, une référence dynamique des ressources ne se charge pas tant qu’elle n’est pas utilisée.</span><span class="sxs-lookup"><span data-stu-id="77c9a-189">However, a dynamic resource reference doesn't load until it's used.</span></span>

- <span data-ttu-id="77c9a-190">Vous créez un style où les valeurs de setter peuvent provenir d’autres valeurs qui sont influencées par des thèmes ou d’autres paramètres de l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="77c9a-190">You're creating a style where setter values might come from other values that are influenced by themes or other user settings.</span></span>

- <span data-ttu-id="77c9a-191">Vous appliquez des ressources à des éléments qui pourraient être réparentés dans l’arbre logique pendant la durée de vie de l’application.</span><span class="sxs-lookup"><span data-stu-id="77c9a-191">You're applying resources to elements that might be reparented in the logical tree during app lifetime.</span></span> <span data-ttu-id="77c9a-192">Le changement de parent peut aussi changer l’étendue de la recherche de ressources, donc si vous souhaitez que la ressource d’un élément réapparenté soit réévaluée en fonction de la nouvelle étendue, utilisez toujours une référence de ressource dynamique.</span><span class="sxs-lookup"><span data-stu-id="77c9a-192">Changing the parent also potentially changes the resource lookup scope, so if you want the resource for a reparented element to be reevaluated based on the new scope, always use a dynamic resource reference.</span></span>

### <a name="dynamic-resource-lookup-behavior"></a><span data-ttu-id="77c9a-193">Comportement de la recherche de ressources dynamiques</span><span class="sxs-lookup"><span data-stu-id="77c9a-193">Dynamic resource lookup behavior</span></span>

<span data-ttu-id="77c9a-194">Le comportement de recherche de ressources pour une référence dynamique de <xref:System.Windows.FrameworkElement.FindResource%2A> <xref:System.Windows.FrameworkElement.SetResourceReference%2A>ressource parallèle au comportement de recherche dans votre code si vous appelez ou :</span><span class="sxs-lookup"><span data-stu-id="77c9a-194">Resource lookup behavior for a dynamic resource reference parallels the lookup behavior in your code if you call <xref:System.Windows.FrameworkElement.FindResource%2A> or <xref:System.Windows.FrameworkElement.SetResourceReference%2A>:</span></span>

01. <span data-ttu-id="77c9a-195">Les vérifications de recherche de la clé demandée dans le dictionnaire des ressources définies par l’élément qui définit la propriété :</span><span class="sxs-lookup"><span data-stu-id="77c9a-195">The lookup checks for the requested key within the resource dictionary defined by the element that sets the property:</span></span>

    - <span data-ttu-id="77c9a-196">Si l’élément <xref:System.Windows.FrameworkElement.Style%2A> définit une <xref:System.Windows.FrameworkElement.Style?displayProperty=fullName> propriété, l’élément fait vérifier son <xref:System.Windows.Style.Resources> dictionnaire.</span><span class="sxs-lookup"><span data-stu-id="77c9a-196">If the element defines a <xref:System.Windows.FrameworkElement.Style%2A> property, the <xref:System.Windows.FrameworkElement.Style?displayProperty=fullName> of the element has its <xref:System.Windows.Style.Resources> dictionary checked.</span></span>

    - <span data-ttu-id="77c9a-197">Si l’élément <xref:System.Windows.Controls.Control.Template%2A> définit une <xref:System.Windows.FrameworkTemplate.Resources?displayProperty=fullName> propriété, le dictionnaire de l’élément est vérifié.</span><span class="sxs-lookup"><span data-stu-id="77c9a-197">If the element defines a <xref:System.Windows.Controls.Control.Template%2A> property, the <xref:System.Windows.FrameworkTemplate.Resources?displayProperty=fullName> dictionary of the element is checked.</span></span>

01. <span data-ttu-id="77c9a-198">La recherche traverse l’arbre logique vers le haut à l’élément parent et son dictionnaire de ressources.</span><span class="sxs-lookup"><span data-stu-id="77c9a-198">The lookup traverses the logical tree upward to the parent element and its resource dictionary.</span></span> <span data-ttu-id="77c9a-199">Ce processus se poursuit jusqu’à ce que l’élément racine soit atteint.</span><span class="sxs-lookup"><span data-stu-id="77c9a-199">This process continues until the root element is reached.</span></span>

01. <span data-ttu-id="77c9a-200">Les ressources de l’application sont vérifiées.</span><span class="sxs-lookup"><span data-stu-id="77c9a-200">App resources are checked.</span></span> <span data-ttu-id="77c9a-201">Les ressources d’applications sont les ressources <xref:System.Windows.Application> du dictionnaire des ressources qui sont définies par l’objet de votre application WPF.</span><span class="sxs-lookup"><span data-stu-id="77c9a-201">App resources are those resources within the resource dictionary that are defined by the <xref:System.Windows.Application> object for your WPF app.</span></span>

01. <span data-ttu-id="77c9a-202">Le dictionnaire des ressources thématiques est vérifié pour le thème actuellement actif.</span><span class="sxs-lookup"><span data-stu-id="77c9a-202">The theme resource dictionary is checked for the currently active theme.</span></span> <span data-ttu-id="77c9a-203">Si le thème change au moment de l’exécution, la valeur est réévaluée.</span><span class="sxs-lookup"><span data-stu-id="77c9a-203">If the theme changes at runtime, the value is reevaluated.</span></span>

01. <span data-ttu-id="77c9a-204">Les ressources du système sont recherchées.</span><span class="sxs-lookup"><span data-stu-id="77c9a-204">System resources are checked.</span></span>

<span data-ttu-id="77c9a-205">Le comportement d’exception (le cas échéant) varie :</span><span class="sxs-lookup"><span data-stu-id="77c9a-205">Exception behavior (if any) varies:</span></span>

- <span data-ttu-id="77c9a-206">Si une ressource a <xref:System.Windows.FrameworkElement.FindResource%2A> été demandée par un appel et n’a pas été trouvée, une exception est lancée.</span><span class="sxs-lookup"><span data-stu-id="77c9a-206">If a resource was requested by a <xref:System.Windows.FrameworkElement.FindResource%2A> call and was not found, an exception is thrown.</span></span>

- <span data-ttu-id="77c9a-207">Si une ressource a <xref:System.Windows.FrameworkElement.TryFindResource%2A> été demandée par un appel et n’a pas été trouvée, aucune exception n’est jetée, et la valeur retournée est `null`.</span><span class="sxs-lookup"><span data-stu-id="77c9a-207">If a resource was requested by a <xref:System.Windows.FrameworkElement.TryFindResource%2A> call and was not found, no exception is thrown, and the returned value is `null`.</span></span> <span data-ttu-id="77c9a-208">Si la propriété étant définie `null`n’accepte pas, alors il est toujours possible qu’une exception plus profonde sera jetée, selon la propriété individuelle étant définie.</span><span class="sxs-lookup"><span data-stu-id="77c9a-208">If the property being set doesn't accept `null`, then it's still possible that a deeper exception will be thrown, depending on the individual property being set.</span></span>

- <span data-ttu-id="77c9a-209">Si une ressource a été demandée par une référence dynamique de ressource dans XAML et n’a pas été trouvée, alors le comportement dépend du système général de propriété.</span><span class="sxs-lookup"><span data-stu-id="77c9a-209">If a resource was requested by a dynamic resource reference in XAML and was not found, then the behavior depends on the general property system.</span></span> <span data-ttu-id="77c9a-210">Le comportement général est comme si aucune opération de réglage de propriété n’a eu lieu au niveau où la ressource existe.</span><span class="sxs-lookup"><span data-stu-id="77c9a-210">The general behavior is as if no property setting operation occurred at the level where the resource exists.</span></span> <span data-ttu-id="77c9a-211">Par exemple, si vous essayez de définir l’arrière-plan sur un élément de bouton individuel à l’aide d’une ressource qui n’a pas pu être évaluée, alors aucun résultat de jeu de valeur, mais la valeur effective peut encore provenir d’autres participants au système de propriété et la préséance de valeur.</span><span class="sxs-lookup"><span data-stu-id="77c9a-211">For instance, if you attempt to set the background on an individual button element using a resource that could not be evaluated, then no value set results, but the effective value can still come from other participants in the property system and value precedence.</span></span> <span data-ttu-id="77c9a-212">Par exemple, la valeur de fond peut encore provenir d’un style de bouton défini localement ou du style thème.</span><span class="sxs-lookup"><span data-stu-id="77c9a-212">For instance, the background value might still come from a locally defined button style or from the theme style.</span></span> <span data-ttu-id="77c9a-213">Pour les propriétés qui ne sont pas définies par les styles thématiques, la valeur effective après une évaluation des ressources a échoué pourrait provenir de la valeur par défaut dans les métadonnées de propriété.</span><span class="sxs-lookup"><span data-stu-id="77c9a-213">For properties that aren't defined by theme styles, the effective value after a failed resource evaluation might come from the default value in the property metadata.</span></span>

### <a name="restrictions"></a><span data-ttu-id="77c9a-214">Restrictions</span><span class="sxs-lookup"><span data-stu-id="77c9a-214">Restrictions</span></span>

<span data-ttu-id="77c9a-215">Les références de ressources dynamiques présentent quelques restrictions notables.</span><span class="sxs-lookup"><span data-stu-id="77c9a-215">Dynamic resource references have some notable restrictions.</span></span> <span data-ttu-id="77c9a-216">Au moins une des conditions suivantes doit être vraie :</span><span class="sxs-lookup"><span data-stu-id="77c9a-216">At least one of the following conditions must be true:</span></span>

- <span data-ttu-id="77c9a-217">La propriété en cours d’établissement doit être une propriété sur un <xref:System.Windows.FrameworkElement> ou <xref:System.Windows.FrameworkContentElement>.</span><span class="sxs-lookup"><span data-stu-id="77c9a-217">The property being set must be a property on a <xref:System.Windows.FrameworkElement> or <xref:System.Windows.FrameworkContentElement>.</span></span> <span data-ttu-id="77c9a-218">Cette propriété doit être <xref:System.Windows.DependencyProperty>soutenue par un .</span><span class="sxs-lookup"><span data-stu-id="77c9a-218">That property must be backed by a <xref:System.Windows.DependencyProperty>.</span></span>

- <span data-ttu-id="77c9a-219">La référence est pour `StyleSetter`une valeur dans un .</span><span class="sxs-lookup"><span data-stu-id="77c9a-219">The reference is for a value within a `StyleSetter`.</span></span>

- <span data-ttu-id="77c9a-220">La propriété en cours d’établissement doit être une propriété sur un <xref:System.Windows.Freezable> qui est fourni comme une valeur d’un ou <xref:System.Windows.FrameworkElement> <xref:System.Windows.FrameworkContentElement> d’une propriété, ou une <xref:System.Windows.Setter> valeur.</span><span class="sxs-lookup"><span data-stu-id="77c9a-220">The property being set must be a property on a <xref:System.Windows.Freezable> that is provided as a value of either a <xref:System.Windows.FrameworkElement> or <xref:System.Windows.FrameworkContentElement> property, or a <xref:System.Windows.Setter> value.</span></span>

<span data-ttu-id="77c9a-221">Étant donné que la <xref:System.Windows.DependencyProperty> propriété <xref:System.Windows.Freezable> étant définie doit être une propriété ou une propriété, la plupart des changements de propriété peuvent se propager à l’assurance-chômage parce qu’un changement de propriété (la valeur de ressource dynamique changée) est reconnu par le système de propriété.</span><span class="sxs-lookup"><span data-stu-id="77c9a-221">Because the property being set must be a <xref:System.Windows.DependencyProperty> or <xref:System.Windows.Freezable> property, most property changes can propagate to the UI because a property change (the changed dynamic resource value) is acknowledged by the property system.</span></span> <span data-ttu-id="77c9a-222">La plupart des contrôles comprennent la logique <xref:System.Windows.DependencyProperty> qui forcera une autre disposition d’un contrôle si un changement et que la propriété pourrait affecter la disposition.</span><span class="sxs-lookup"><span data-stu-id="77c9a-222">Most controls include logic that will force another layout of a control if a <xref:System.Windows.DependencyProperty> changes and that property might affect layout.</span></span> <span data-ttu-id="77c9a-223">Cependant, toutes les propriétés qui ont une [extension De Markup DynamicResource](../../framework/wpf/advanced/dynamicresource-markup-extension.md) que leur valeur sont garantis pour fournir des mises à jour en temps réel dans l’interface utilisateur.</span><span class="sxs-lookup"><span data-stu-id="77c9a-223">However, not all properties that have a [DynamicResource Markup Extension](../../framework/wpf/advanced/dynamicresource-markup-extension.md) as their value are guaranteed to provide real time updates in the UI.</span></span> <span data-ttu-id="77c9a-224">Cette fonctionnalité peut encore varier en fonction de la propriété, ainsi que selon le type qui possède la propriété, ou même la structure logique de votre application.</span><span class="sxs-lookup"><span data-stu-id="77c9a-224">That functionality still might vary depending on the property, as well as depending on the type that owns the property, or even the logical structure of your app.</span></span>

## <a name="styles-datatemplates-and-implicit-keys"></a><span data-ttu-id="77c9a-225">Styles, DataTemplates et touches implicites</span><span class="sxs-lookup"><span data-stu-id="77c9a-225">Styles, DataTemplates, and implicit keys</span></span>

<span data-ttu-id="77c9a-226">Bien que tous <xref:System.Windows.ResourceDictionary> les éléments dans un doit avoir une clé, `x:Key`cela ne signifie pas que toutes les ressources doivent avoir un explicite .</span><span class="sxs-lookup"><span data-stu-id="77c9a-226">Although all items in a <xref:System.Windows.ResourceDictionary> must have a key, that doesn't mean that all resources must have an explicit `x:Key`.</span></span> <span data-ttu-id="77c9a-227">Plusieurs types d’objets prennent en charge une clé implicite lorsqu’elle est définie en tant que ressource, sachant que la valeur d’une clé est liée à la valeur d’une autre propriété.</span><span class="sxs-lookup"><span data-stu-id="77c9a-227">Several object types support an implicit key when defined as a resource, where the key value is tied to the value of another property.</span></span> <span data-ttu-id="77c9a-228">Ce type de clé est connu comme `x:Key` une clé implicite, alors qu’un attribut est une clé explicite.</span><span class="sxs-lookup"><span data-stu-id="77c9a-228">This type of key is known as an implicit key, whereas an `x:Key` attribute is an explicit key.</span></span> <span data-ttu-id="77c9a-229">Vous pouvez remplacer une clé implicite en spécifiant une clé explicite.</span><span class="sxs-lookup"><span data-stu-id="77c9a-229">You can overwrite any implicit key by specifying an explicit key.</span></span>

<span data-ttu-id="77c9a-230">Un scénario important pour les <xref:System.Windows.Style>ressources est lorsque vous définissez un .</span><span class="sxs-lookup"><span data-stu-id="77c9a-230">One important scenario for resources is when you define a <xref:System.Windows.Style>.</span></span> <span data-ttu-id="77c9a-231">En fait, <xref:System.Windows.Style> a est presque toujours défini comme une entrée dans un dictionnaire de ressources, parce que les styles sont intrinsèquement destinés à la réutilisation.</span><span class="sxs-lookup"><span data-stu-id="77c9a-231">In fact, a <xref:System.Windows.Style> is almost always defined as an entry in a resource dictionary, because styles are inherently intended for reuse.</span></span> <span data-ttu-id="77c9a-232">Pour plus d’informations sur les styles, voir [Styling et Templating](styles-templates-overview.md).</span><span class="sxs-lookup"><span data-stu-id="77c9a-232">For more information about styles, see [Styling and Templating](styles-templates-overview.md).</span></span>

<span data-ttu-id="77c9a-233">Des styles de contrôle peuvent être à la fois créés et référencés au moyen d’une clé implicite.</span><span class="sxs-lookup"><span data-stu-id="77c9a-233">Styles for controls can be both created with and referenced with an implicit key.</span></span> <span data-ttu-id="77c9a-234">Les styles de thème qui définissent l’apparence par défaut d’un contrôle s’appuient sur cette clé implicite.</span><span class="sxs-lookup"><span data-stu-id="77c9a-234">The theme styles that define the default appearance of a control rely on this implicit key.</span></span> <span data-ttu-id="77c9a-235">Du point de vue de sa demande, la clé implicite est le <xref:System.Type> contrôle lui-même.</span><span class="sxs-lookup"><span data-stu-id="77c9a-235">From the standpoint of requesting it, the implicit key is the <xref:System.Type> of the control itself.</span></span> <span data-ttu-id="77c9a-236">Du point de vue de la définition <xref:System.Windows.Style.TargetType%2A> des ressources, la clé implicite est le style.</span><span class="sxs-lookup"><span data-stu-id="77c9a-236">From the standpoint of defining the resources, the implicit key is the <xref:System.Windows.Style.TargetType%2A> of the style.</span></span> <span data-ttu-id="77c9a-237">Par conséquent, si vous créez des thèmes pour des contrôles personnalisés ou la création de styles <xref:System.Windows.Style>qui interagissent avec les styles de thème existants, vous n’avez pas besoin de spécifier une [directive x:Key](../xaml-services/xkey-directive.md) pour cela .</span><span class="sxs-lookup"><span data-stu-id="77c9a-237">Therefore, if you're creating themes for custom controls or creating styles that interact with existing theme styles, you do not need to specify an [x:Key Directive](../xaml-services/xkey-directive.md) for that <xref:System.Windows.Style>.</span></span> <span data-ttu-id="77c9a-238">Et si vous souhaitez utiliser les styles à thème, il n’est pas nécessaire de spécifier un style.</span><span class="sxs-lookup"><span data-stu-id="77c9a-238">And if you want to use the themed styles, you do not need to specify any style at all.</span></span> <span data-ttu-id="77c9a-239">Par exemple, la définition de style <xref:System.Windows.Style> suivante fonctionne, même si la ressource ne semble pas avoir une clé :</span><span class="sxs-lookup"><span data-stu-id="77c9a-239">For instance, the following style definition works, even though the <xref:System.Windows.Style> resource doesn't appear to have a key:</span></span>

[!code-xaml[FEResourceSH_snip#ImplicitStyle](~/samples/snippets/csharp/VS_Snippets_Wpf/FEResourceSH_snip/CS/page2.xaml#implicitstyle)]

<span data-ttu-id="77c9a-240">Ce style a vraiment une clé: la clé `typeof(System.Windows.Controls.Button)`implicite .</span><span class="sxs-lookup"><span data-stu-id="77c9a-240">That style really does have a key: the implicit key `typeof(System.Windows.Controls.Button)`.</span></span> <span data-ttu-id="77c9a-241">Dans le balisage, <xref:System.Windows.Style.TargetType%2A> vous pouvez spécifier un directement comme nom de type (ou vous pouvez utiliser optionnellement [x:Type...](../xaml-services/xtype-markup-extension.md)</span><span class="sxs-lookup"><span data-stu-id="77c9a-241">In markup, you can specify a <xref:System.Windows.Style.TargetType%2A> directly as the type name (or you can optionally use [{x:Type...}](../xaml-services/xtype-markup-extension.md)</span></span> <span data-ttu-id="77c9a-242">pour retourner <xref:System.Type>un .</span><span class="sxs-lookup"><span data-stu-id="77c9a-242">to return a <xref:System.Type>.</span></span>

<span data-ttu-id="77c9a-243">Grâce aux mécanismes de style thème par défaut utilisés par WPF, ce style est appliqué comme le style de temps d’exécution d’un <xref:System.Windows.Controls.Button> sur la page, même si le <xref:System.Windows.Controls.Button> lui-même ne tente pas de spécifier sa <xref:System.Windows.FrameworkElement.Style%2A> propriété ou une référence de ressource spécifique au style.</span><span class="sxs-lookup"><span data-stu-id="77c9a-243">Through the default theme style mechanisms used by WPF, that style is applied as the runtime style of a <xref:System.Windows.Controls.Button> on the page, even though the <xref:System.Windows.Controls.Button> itself doesn't attempt to specify its <xref:System.Windows.FrameworkElement.Style%2A> property or a specific resource reference to the style.</span></span> <span data-ttu-id="77c9a-244">Votre style défini dans la page se trouve plus tôt dans la séquence de recherche que le style de dictionnaire de thème, en utilisant la même clé que le style de dictionnaire de thème a.</span><span class="sxs-lookup"><span data-stu-id="77c9a-244">Your style defined in the page is found earlier in the lookup sequence than the theme dictionary style, using the same key that the theme dictionary style has.</span></span> <span data-ttu-id="77c9a-245">Vous pouvez `<Button>Hello</Button>` simplement spécifier n’importe <xref:System.Windows.Style.TargetType%2A> où dans la page, et le style que vous définissez avec de `Button` s’appliquerait à ce bouton.</span><span class="sxs-lookup"><span data-stu-id="77c9a-245">You could just specify `<Button>Hello</Button>` anywhere in the page, and the style you defined with <xref:System.Windows.Style.TargetType%2A> of `Button` would apply to that button.</span></span> <span data-ttu-id="77c9a-246">Si vous voulez, vous pouvez toujours explicitement la <xref:System.Windows.Style.TargetType%2A> clé du style avec la même valeur de type que pour la clarté dans votre balisage, mais qui est facultatif.</span><span class="sxs-lookup"><span data-stu-id="77c9a-246">If you want, you can still explicitly key the style with the same type value as <xref:System.Windows.Style.TargetType%2A> for clarity in your markup, but that is optional.</span></span>

<span data-ttu-id="77c9a-247">Les touches implicites pour les <xref:System.Windows.FrameworkElement.OverridesDefaultStyle%2A> styles `true`ne s’appliquent pas sur un contrôle si c’est .</span><span class="sxs-lookup"><span data-stu-id="77c9a-247">Implicit keys for styles do not apply on a control if <xref:System.Windows.FrameworkElement.OverridesDefaultStyle%2A> is `true`.</span></span> <span data-ttu-id="77c9a-248">(Notez <xref:System.Windows.FrameworkElement.OverridesDefaultStyle%2A> également que pourrait être défini dans le cadre du comportement natif pour la classe de contrôle, plutôt que explicitement sur une instance du contrôle.) En outre, afin de prendre en charge les clés <xref:System.Windows.FrameworkElement.DefaultStyleKey%2A> implicites pour les scénarios de classe dérivés, le contrôle doit l’emporter (tous les contrôles existants fournis dans le cadre de WPF comprennent cette dérogation).</span><span class="sxs-lookup"><span data-stu-id="77c9a-248">(Also note that <xref:System.Windows.FrameworkElement.OverridesDefaultStyle%2A> might be set as part of native behavior for the control class, rather than explicitly on an instance of the control.) Also, in order to support implicit keys for derived class scenarios, the control must override <xref:System.Windows.FrameworkElement.DefaultStyleKey%2A> (all existing controls provided as part of WPF include this override).</span></span> <span data-ttu-id="77c9a-249">Pour plus d’informations sur les styles, les thèmes et la conception de contrôle, voir [Lignes directrices pour la conception des contrôles stylables](../../framework/wpf/controls/guidelines-for-designing-stylable-controls.md).</span><span class="sxs-lookup"><span data-stu-id="77c9a-249">For more information about styles, themes, and control design, see [Guidelines for Designing Stylable Controls](../../framework/wpf/controls/guidelines-for-designing-stylable-controls.md).</span></span>

<span data-ttu-id="77c9a-250"><xref:System.Windows.DataTemplate>a également une clé implicite.</span><span class="sxs-lookup"><span data-stu-id="77c9a-250"><xref:System.Windows.DataTemplate> also has an implicit key.</span></span> <span data-ttu-id="77c9a-251">La clé implicite <xref:System.Windows.DataTemplate> pour <xref:System.Windows.DataTemplate.DataType%2A> un est la valeur de la propriété.</span><span class="sxs-lookup"><span data-stu-id="77c9a-251">The implicit key for a <xref:System.Windows.DataTemplate> is the <xref:System.Windows.DataTemplate.DataType%2A> property value.</span></span> <span data-ttu-id="77c9a-252"><xref:System.Windows.DataTemplate.DataType%2A>peut également être spécifié comme le nom du type plutôt que d’utiliser explicitement [x:Type ...](../xaml-services/xtype-markup-extension.md).</span><span class="sxs-lookup"><span data-stu-id="77c9a-252"><xref:System.Windows.DataTemplate.DataType%2A> can also be specified as the name of the type rather than explicitly using [{x:Type...}](../xaml-services/xtype-markup-extension.md).</span></span> <span data-ttu-id="77c9a-253">Pour plus de détails, voir [Data Templating Overview](../../framework/wpf/data/data-templating-overview.md).</span><span class="sxs-lookup"><span data-stu-id="77c9a-253">For details, see [Data Templating Overview](../../framework/wpf/data/data-templating-overview.md).</span></span>

## <a name="see-also"></a><span data-ttu-id="77c9a-254">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="77c9a-254">See also</span></span>

- <xref:System.Windows.ResourceDictionary>
- [<span data-ttu-id="77c9a-255">Ressources d’application</span><span class="sxs-lookup"><span data-stu-id="77c9a-255">Application resources</span></span>](../../framework/wpf/advanced/optimizing-performance-application-resources.md)
- [<span data-ttu-id="77c9a-256">Ressources et code</span><span class="sxs-lookup"><span data-stu-id="77c9a-256">Resources and code</span></span>](../../framework/wpf/advanced/resources-and-code.md)
- [<span data-ttu-id="77c9a-257">Définir et faire référence à une ressource</span><span class="sxs-lookup"><span data-stu-id="77c9a-257">Define and reference a resource</span></span>](../../framework/wpf/advanced/how-to-define-and-reference-a-resource.md)
- [<span data-ttu-id="77c9a-258">Aperçu de la gestion des applications</span><span class="sxs-lookup"><span data-stu-id="77c9a-258">Application management overview</span></span>](../../framework/wpf/app-development/application-management-overview.md)
- [<span data-ttu-id="77c9a-259">x: Extension de balisage de type</span><span class="sxs-lookup"><span data-stu-id="77c9a-259">x:Type markup extension</span></span>](../xaml-services/xtype-markup-extension.md)
- [<span data-ttu-id="77c9a-260">Extension de balisage StaticResource</span><span class="sxs-lookup"><span data-stu-id="77c9a-260">StaticResource markup extension</span></span>](../../framework/wpf/advanced/staticresource-markup-extension.md)
- [<span data-ttu-id="77c9a-261">Extension de balisage DynamicResource</span><span class="sxs-lookup"><span data-stu-id="77c9a-261">DynamicResource markup extension</span></span>](../../framework/wpf/advanced/dynamicresource-markup-extension.md)
