---
title: Styles et modèles
description: En savoir plus sur les ressources XAML dans Windows Presentation Foundation (WPF) pour .NET Core. Comprendre les types de ressources XAML en rapport avec les styles et les thèmes.
author: adegeo
ms.author: adegeo
ms.date: 09/09/2019
dev_langs:
- csharp
- vb
ms.openlocfilehash: faa54e0a3c827717114ca6ca4f033c1c4c3acfa8
ms.sourcegitcommit: dc2feef0794cf41dbac1451a13b8183258566c0e
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 06/24/2020
ms.locfileid: "85325774"
---
# <a name="styles-and-templates-in-wpf"></a><span data-ttu-id="d9ae1-104">Styles et modèles dans WPF</span><span class="sxs-lookup"><span data-stu-id="d9ae1-104">Styles and templates in WPF</span></span>

<span data-ttu-id="d9ae1-105">Le style et la création de modèles de Windows Presentation Foundation (WPF) font référence à une suite de fonctionnalités qui permettent aux développeurs et aux concepteurs de créer des effets visuellement attrayants et une apparence cohérente pour leur produit.</span><span class="sxs-lookup"><span data-stu-id="d9ae1-105">Windows Presentation Foundation (WPF) styling and templating refer to a suite of features that let developers and designers create visually compelling effects and a consistent appearance for their product.</span></span> <span data-ttu-id="d9ae1-106">Lors de la personnalisation de l’apparence d’une application, vous voulez un modèle de création de styles et de modèles puissant qui permet la maintenance et le partage de l’apparence dans et entre les applications.</span><span class="sxs-lookup"><span data-stu-id="d9ae1-106">When customizing the appearance of an app, you want a strong styling and templating model that enables maintenance and sharing of appearance within and among apps.</span></span> <span data-ttu-id="d9ae1-107">WPF fournit ce modèle.</span><span class="sxs-lookup"><span data-stu-id="d9ae1-107">WPF provides that model.</span></span>

<span data-ttu-id="d9ae1-108">Une autre fonctionnalité du modèle de style WPF est la séparation de la présentation et de la logique.</span><span class="sxs-lookup"><span data-stu-id="d9ae1-108">Another feature of the WPF styling model is the separation of presentation and logic.</span></span> <span data-ttu-id="d9ae1-109">Les concepteurs peuvent travailler sur l’apparence d’une application en utilisant uniquement XAML en même temps que les développeurs travaillent sur la logique de programmation à l’aide de C# ou de Visual Basic.</span><span class="sxs-lookup"><span data-stu-id="d9ae1-109">Designers can work on the appearance of an app by using only XAML at the same time that developers work on the programming logic by using C# or Visual Basic.</span></span>

<span data-ttu-id="d9ae1-110">Cette présentation se concentre sur les aspects de style et de création de modèles de l’application et n’aborde pas les concepts de liaison de données.</span><span class="sxs-lookup"><span data-stu-id="d9ae1-110">This overview focuses on the styling and templating aspects of the app and doesn't discuss any data-binding concepts.</span></span> <span data-ttu-id="d9ae1-111">Pour plus d’informations sur la liaison de données, consultez [Vue d’ensemble de la liaison de données](../data/data-binding-overview.md).</span><span class="sxs-lookup"><span data-stu-id="d9ae1-111">For information about data binding, see [Data Binding Overview](../data/data-binding-overview.md).</span></span>

<span data-ttu-id="d9ae1-112">Il est important de comprendre les ressources, ce qui permet de réutiliser les styles et les modèles.</span><span class="sxs-lookup"><span data-stu-id="d9ae1-112">It's important to understand resources, which are what enable styles and templates to be reused.</span></span> <span data-ttu-id="d9ae1-113">Pour plus d’informations sur les ressources, consultez [Ressources XAML](xaml-resources-define.md).</span><span class="sxs-lookup"><span data-stu-id="d9ae1-113">For more information about resources, see [XAML Resources](xaml-resources-define.md).</span></span>

[!INCLUDE [desktop guide under construction](../../../includes/desktop-guide-preview-note.md)]

## <a name="sample"></a><span data-ttu-id="d9ae1-114">Exemple</span><span class="sxs-lookup"><span data-stu-id="d9ae1-114">Sample</span></span>

<span data-ttu-id="d9ae1-115">L’exemple de code fourni dans cette vue d’ensemble est basé sur une [simple application de navigation photo](https://github.com/Microsoft/WPF-Samples/tree/master/Styles%20&%20Templates/IntroToStylingAndTemplating) présentée dans l’illustration suivante.</span><span class="sxs-lookup"><span data-stu-id="d9ae1-115">The sample code provided in this overview is based on a [simple photo browsing application](https://github.com/Microsoft/WPF-Samples/tree/master/Styles%20&%20Templates/IntroToStylingAndTemplating) shown in the following illustration.</span></span>

<span data-ttu-id="d9ae1-116">![Vue de la liste mise en forme avec des styles](./media/styles-and-templates-overview/stylingintro-triggers.png "StylingIntro_triggers")</span><span class="sxs-lookup"><span data-stu-id="d9ae1-116">![Styled ListView](./media/styles-and-templates-overview/stylingintro-triggers.png "StylingIntro_triggers")</span></span>

<span data-ttu-id="d9ae1-117">Cet exemple de photo simple utilise des styles et des modèles pour créer une expérience utilisateur visuellement attrayante.</span><span class="sxs-lookup"><span data-stu-id="d9ae1-117">This simple photo sample uses styling and templating to create a visually compelling user experience.</span></span> <span data-ttu-id="d9ae1-118">L’exemple comporte deux <xref:System.Windows.Controls.TextBlock> éléments et un <xref:System.Windows.Controls.ListBox> contrôle qui est lié à une liste d’images.</span><span class="sxs-lookup"><span data-stu-id="d9ae1-118">The sample has two <xref:System.Windows.Controls.TextBlock> elements and a <xref:System.Windows.Controls.ListBox> control that is bound to a list of images.</span></span>

<span data-ttu-id="d9ae1-119">Pour accéder à l’exemple complet, consultez la page [Introduction to Styling and Templating Sample](https://github.com/Microsoft/WPF-Samples/tree/master/Styles%20&%20Templates/IntroToStylingAndTemplating) (Présentation d’un exemple de création de style et de modèle).</span><span class="sxs-lookup"><span data-stu-id="d9ae1-119">For the complete sample, see [Introduction to Styling and Templating Sample](https://github.com/Microsoft/WPF-Samples/tree/master/Styles%20&%20Templates/IntroToStylingAndTemplating).</span></span>

## <a name="styles"></a><span data-ttu-id="d9ae1-120">Styles</span><span class="sxs-lookup"><span data-stu-id="d9ae1-120">Styles</span></span>

<span data-ttu-id="d9ae1-121">Vous pouvez considérer comme un <xref:System.Windows.Style> moyen pratique d’appliquer un ensemble de valeurs de propriété à plusieurs éléments.</span><span class="sxs-lookup"><span data-stu-id="d9ae1-121">You can think of a <xref:System.Windows.Style> as a convenient way to apply a set of property values to multiple elements.</span></span> <span data-ttu-id="d9ae1-122">Vous pouvez utiliser un style sur tout élément qui dérive de <xref:System.Windows.FrameworkElement> ou <xref:System.Windows.FrameworkContentElement> tel qu’un <xref:System.Windows.Window> ou un <xref:System.Windows.Controls.Button> .</span><span class="sxs-lookup"><span data-stu-id="d9ae1-122">You can use a style on any element that derives from <xref:System.Windows.FrameworkElement> or <xref:System.Windows.FrameworkContentElement> such as a <xref:System.Windows.Window> or a <xref:System.Windows.Controls.Button>.</span></span>

<span data-ttu-id="d9ae1-123">La méthode la plus courante pour déclarer un style est la ressource dans la `Resources` section d’un fichier XAML.</span><span class="sxs-lookup"><span data-stu-id="d9ae1-123">The most common way to declare a style is as a resource in the `Resources` section in a XAML file.</span></span> <span data-ttu-id="d9ae1-124">Étant donné que les styles sont des ressources, ils obéissent aux mêmes règles de portée qui s’appliquent à toutes les ressources.</span><span class="sxs-lookup"><span data-stu-id="d9ae1-124">Because styles are resources, they obey the same scoping rules that apply to all resources.</span></span> <span data-ttu-id="d9ae1-125">En d’autres termes, lorsque vous déclarez un style affecte l’endroit où le style peut être appliqué.</span><span class="sxs-lookup"><span data-stu-id="d9ae1-125">Put simply, where you declare a style affects where the style can be applied.</span></span> <span data-ttu-id="d9ae1-126">Par exemple, si vous déclarez le style dans l’élément racine de votre fichier XAML de définition d’application, le style peut être utilisé n’importe où dans votre application.</span><span class="sxs-lookup"><span data-stu-id="d9ae1-126">For example, if you declare the style in the root element of your app definition XAML file, the style can be used anywhere in your app.</span></span>

<span data-ttu-id="d9ae1-127">Par exemple, le code XAML suivant déclare deux styles pour un `TextBlock` , un appliqué automatiquement à tous les `TextBlock` éléments, et un autre qui doit être explicitement référencé.</span><span class="sxs-lookup"><span data-stu-id="d9ae1-127">For example, the following XAML code declares two styles for a `TextBlock`, one automatically applied to all `TextBlock` elements, and another that must be explicitly referenced.</span></span>

[!code-xaml[SnippetDefaultTextBlockStyleBasedOn](~/samples/snippets/desktop-guide/wpf/styles-and-templates-intro/csharp/Window2.xaml#SnippetDefaultTextBlockStyleBasedOn)]

<span data-ttu-id="d9ae1-128">Voici un exemple des styles déclarés ci-dessus en cours d’utilisation.</span><span class="sxs-lookup"><span data-stu-id="d9ae1-128">Here is an example of the styles declared above being used.</span></span>

[!code-xaml[SnippetTextBlocksExplicit](~/samples/snippets/desktop-guide/wpf/styles-and-templates-intro/csharp/Window2.xaml#SnippetTextBlocksExplicit)]

![TextBlocks stylisés](./media/styles-and-templates-overview/stylingintro-textblocks.png)

<span data-ttu-id="d9ae1-130">Pour plus d’informations, consultez [créer un style pour un contrôle](styles-templates-create-apply-style.md).</span><span class="sxs-lookup"><span data-stu-id="d9ae1-130">For more information, see [Create a style for a control](styles-templates-create-apply-style.md).</span></span>

## <a name="controltemplates"></a><span data-ttu-id="d9ae1-131">ControlTemplates</span><span class="sxs-lookup"><span data-stu-id="d9ae1-131">ControlTemplates</span></span>

<span data-ttu-id="d9ae1-132">Dans WPF, le <xref:System.Windows.Controls.ControlTemplate> d’un contrôle définit l’apparence du contrôle.</span><span class="sxs-lookup"><span data-stu-id="d9ae1-132">In WPF, the <xref:System.Windows.Controls.ControlTemplate> of a control defines the appearance of the control.</span></span> <span data-ttu-id="d9ae1-133">Vous pouvez modifier la structure et l’apparence d’un contrôle en définissant un nouveau et en l' <xref:System.Windows.Controls.ControlTemplate> assignant à un contrôle.</span><span class="sxs-lookup"><span data-stu-id="d9ae1-133">You can change the structure and appearance of a control by defining a new <xref:System.Windows.Controls.ControlTemplate> and assigning it to a control.</span></span> <span data-ttu-id="d9ae1-134">Dans de nombreux cas, les modèles vous offrent suffisamment de souplesse pour que vous n’ayez pas à écrire vos propres contrôles personnalisés.</span><span class="sxs-lookup"><span data-stu-id="d9ae1-134">In many cases, templates give you enough flexibility so that you do not have to write your own custom controls.</span></span>

<span data-ttu-id="d9ae1-135">Chaque contrôle a un modèle par défaut affecté à la propriété [Control. Template](xref:System.Windows.Controls.Control.Template) .</span><span class="sxs-lookup"><span data-stu-id="d9ae1-135">Each control has a default template assigned to the [Control.Template](xref:System.Windows.Controls.Control.Template) property.</span></span> <span data-ttu-id="d9ae1-136">Le modèle connecte la présentation visuelle du contrôle avec les fonctionnalités du contrôle.</span><span class="sxs-lookup"><span data-stu-id="d9ae1-136">The template connects the visual presentation of the control with the control's capabilities.</span></span> <span data-ttu-id="d9ae1-137">Étant donné que vous définissez un modèle en XAML, vous pouvez modifier l’apparence du contrôle sans écrire de code.</span><span class="sxs-lookup"><span data-stu-id="d9ae1-137">Because you define a template in XAML, you can change the control's appearance without writing any code.</span></span> <span data-ttu-id="d9ae1-138">Chaque modèle est conçu pour un contrôle spécifique, tel qu’un <xref:System.Windows.Controls.Button> .</span><span class="sxs-lookup"><span data-stu-id="d9ae1-138">Each template is designed for a specific control, such as a <xref:System.Windows.Controls.Button>.</span></span>

<span data-ttu-id="d9ae1-139">En général, vous déclarez un modèle en tant que ressource dans la `Resources` section d’un fichier XAML.</span><span class="sxs-lookup"><span data-stu-id="d9ae1-139">Commonly you declare a template as a resource on the `Resources` section of a XAML file.</span></span> <span data-ttu-id="d9ae1-140">Comme avec toutes les ressources, les règles de portée s’appliquent.</span><span class="sxs-lookup"><span data-stu-id="d9ae1-140">As with all resources, scoping rules apply.</span></span>

<span data-ttu-id="d9ae1-141">Les modèles de contrôle sont beaucoup plus impliqués qu’un style.</span><span class="sxs-lookup"><span data-stu-id="d9ae1-141">Control templates are a lot more involved than a style.</span></span> <span data-ttu-id="d9ae1-142">Cela est dû au fait que le modèle de contrôle réécrit l’apparence visuelle de l’ensemble du contrôle, tandis qu’un style applique simplement des modifications de propriétés au contrôle existant.</span><span class="sxs-lookup"><span data-stu-id="d9ae1-142">This is because the control template rewrites the visual appearance of the entire control, while a style simply applies property changes to the existing control.</span></span> <span data-ttu-id="d9ae1-143">Toutefois, étant donné que le modèle d’un contrôle est appliqué en définissant la propriété [Control. Template](xref:System.Windows.Controls.Control.Template) , vous pouvez utiliser un style pour définir ou définir un modèle.</span><span class="sxs-lookup"><span data-stu-id="d9ae1-143">However, since the template of a control is applied by setting the [Control.Template](xref:System.Windows.Controls.Control.Template) property, you can use a style to define or set a template.</span></span>

<span data-ttu-id="d9ae1-144">Les concepteurs vous permettent généralement de créer une copie d’un modèle existant et de le modifier.</span><span class="sxs-lookup"><span data-stu-id="d9ae1-144">Designers generally allow you to create a copy of an existing template and modify it.</span></span> <span data-ttu-id="d9ae1-145">Par exemple, dans le Concepteur WPF Visual Studio, sélectionnez un `CheckBox` contrôle, puis cliquez avec le bouton droit et sélectionnez **modifier le modèle**  >  **créer une copie**.</span><span class="sxs-lookup"><span data-stu-id="d9ae1-145">For example, in the Visual Studio WPF designer, select a `CheckBox` control, and then right-click and select **Edit template** > **Create a copy**.</span></span> <span data-ttu-id="d9ae1-146">Cette commande génère un *style qui définit un modèle*.</span><span class="sxs-lookup"><span data-stu-id="d9ae1-146">This command generates a *style that defines a template*.</span></span>

```xaml
<Style x:Key="CheckBoxStyle1" TargetType="{x:Type CheckBox}">
    <Setter Property="FocusVisualStyle" Value="{StaticResource FocusVisual1}"/>
    <Setter Property="Background" Value="{StaticResource OptionMark.Static.Background1}"/>
    <Setter Property="BorderBrush" Value="{StaticResource OptionMark.Static.Border1}"/>
    <Setter Property="Foreground" Value="{DynamicResource {x:Static SystemColors.ControlTextBrushKey}}"/>
    <Setter Property="BorderThickness" Value="1"/>
    <Setter Property="Template">
        <Setter.Value>
            <ControlTemplate TargetType="{x:Type CheckBox}">
                <Grid x:Name="templateRoot" Background="Transparent" SnapsToDevicePixels="True">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                    <Border x:Name="checkBoxBorder" Background="{TemplateBinding Background}" BorderThickness="{TemplateBinding BorderThickness}" BorderBrush="{TemplateBinding BorderBrush}" HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}" Margin="1" VerticalAlignment="{TemplateBinding VerticalContentAlignment}">
                        <Grid x:Name="markGrid">
                            <Path x:Name="optionMark" Data="F1 M 9.97498,1.22334L 4.6983,9.09834L 4.52164,9.09834L 0,5.19331L 1.27664,3.52165L 4.255,6.08833L 8.33331,1.52588e-005L 9.97498,1.22334 Z " Fill="{StaticResource OptionMark.Static.Glyph1}" Margin="1" Opacity="0" Stretch="None"/>
                            <Rectangle x:Name="indeterminateMark" Fill="{StaticResource OptionMark.Static.Glyph1}" Margin="2" Opacity="0"/>
                        </Grid>
                    </Border>
                    <ContentPresenter x:Name="contentPresenter" Grid.Column="1" Focusable="False" HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}" Margin="{TemplateBinding Padding}" RecognizesAccessKey="True" SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" VerticalAlignment="{TemplateBinding VerticalContentAlignment}"/>
                </Grid>
                <ControlTemplate.Triggers>
                    <Trigger Property="HasContent" Value="true">
                        <Setter Property="FocusVisualStyle" Value="{StaticResource OptionMarkFocusVisual1}"/>
                        <Setter Property="Padding" Value="4,-1,0,0"/>

... content removed to save space ...
```

<span data-ttu-id="d9ae1-147">La modification d’une copie d’un modèle est un excellent moyen d’apprendre comment les modèles fonctionnent.</span><span class="sxs-lookup"><span data-stu-id="d9ae1-147">Editing a copy of a template is a great way to learn how templates work.</span></span> <span data-ttu-id="d9ae1-148">Au lieu de créer un nouveau modèle vide, il est plus facile de modifier une copie et de modifier quelques aspects de la présentation visuelle.</span><span class="sxs-lookup"><span data-stu-id="d9ae1-148">Instead of creating a new blank template, it's easier to edit a copy and change a few aspects of the visual presentation.</span></span>

<span data-ttu-id="d9ae1-149">Pour obtenir un exemple, consultez [créer un modèle pour un contrôle](../themes/how-to-create-apply-template.md).</span><span class="sxs-lookup"><span data-stu-id="d9ae1-149">For an example, see [Create a template for a control](../themes/how-to-create-apply-template.md).</span></span>

### <a name="templatebinding"></a><span data-ttu-id="d9ae1-150">TemplateBinding</span><span class="sxs-lookup"><span data-stu-id="d9ae1-150">TemplateBinding</span></span>

<span data-ttu-id="d9ae1-151">Vous avez peut-être remarqué que la ressource de modèle définie dans la section précédente utilise l' [extension de balisage TemplateBinding](../../framework/wpf/advanced/templatebinding-markup-extension.md).</span><span class="sxs-lookup"><span data-stu-id="d9ae1-151">You may have noticed that the template resource defined in the previous section uses the [TemplateBinding Markup Extension](../../framework/wpf/advanced/templatebinding-markup-extension.md).</span></span> <span data-ttu-id="d9ae1-152">Un `TemplateBinding` est une forme optimisée d’une liaison pour les scénarios de modèle, analogue à une liaison construite avec `{Binding RelativeSource={RelativeSource TemplatedParent}}` .</span><span class="sxs-lookup"><span data-stu-id="d9ae1-152">A `TemplateBinding` is an optimized form of a binding for template scenarios, analogous to a binding constructed with `{Binding RelativeSource={RelativeSource TemplatedParent}}`.</span></span> <span data-ttu-id="d9ae1-153">`TemplateBinding`est utile pour lier des parties du modèle aux propriétés du contrôle.</span><span class="sxs-lookup"><span data-stu-id="d9ae1-153">`TemplateBinding` is useful for binding parts of the template to properties of the control.</span></span> <span data-ttu-id="d9ae1-154">Par exemple, chaque contrôle possède une <xref:System.Windows.Controls.Control.BorderThickness> propriété.</span><span class="sxs-lookup"><span data-stu-id="d9ae1-154">For example, each control has a <xref:System.Windows.Controls.Control.BorderThickness> property.</span></span> <span data-ttu-id="d9ae1-155">Utilisez un `TemplateBinding` pour gérer l’élément affecté par ce paramètre de contrôle à l’élément du modèle.</span><span class="sxs-lookup"><span data-stu-id="d9ae1-155">Use a `TemplateBinding` to manage which element in the template is affected by this control setting.</span></span>

### <a name="contentcontrol-and-itemscontrol"></a><span data-ttu-id="d9ae1-156">ContentControl et ItemsControl</span><span class="sxs-lookup"><span data-stu-id="d9ae1-156">ContentControl and ItemsControl</span></span>

<span data-ttu-id="d9ae1-157">Si un <xref:System.Windows.Controls.ContentPresenter> est déclaré dans le <xref:System.Windows.Controls.ControlTemplate> d’un <xref:System.Windows.Controls.ContentControl> , le crée <xref:System.Windows.Controls.ContentPresenter> automatiquement une liaison avec <xref:System.Windows.Controls.ContentControl.ContentTemplate%2A> les <xref:System.Windows.Controls.ContentControl.Content%2A> Propriétés et.</span><span class="sxs-lookup"><span data-stu-id="d9ae1-157">If a <xref:System.Windows.Controls.ContentPresenter> is declared in the <xref:System.Windows.Controls.ControlTemplate> of a <xref:System.Windows.Controls.ContentControl>, the <xref:System.Windows.Controls.ContentPresenter> will automatically bind to the <xref:System.Windows.Controls.ContentControl.ContentTemplate%2A> and <xref:System.Windows.Controls.ContentControl.Content%2A> properties.</span></span> <span data-ttu-id="d9ae1-158">De même, un <xref:System.Windows.Controls.ItemsPresenter> qui se trouve dans le <xref:System.Windows.Controls.ControlTemplate> d’un crée <xref:System.Windows.Controls.ItemsControl> automatiquement une liaison avec les <xref:System.Windows.Controls.ItemsControl.ItemTemplate%2A> <xref:System.Windows.Controls.ItemsControl.Items%2A> Propriétés et.</span><span class="sxs-lookup"><span data-stu-id="d9ae1-158">Likewise, an <xref:System.Windows.Controls.ItemsPresenter> that is in the <xref:System.Windows.Controls.ControlTemplate> of an <xref:System.Windows.Controls.ItemsControl> will automatically bind to the <xref:System.Windows.Controls.ItemsControl.ItemTemplate%2A> and <xref:System.Windows.Controls.ItemsControl.Items%2A> properties.</span></span>

## <a name="datatemplates"></a><span data-ttu-id="d9ae1-159">DataTemplates</span><span class="sxs-lookup"><span data-stu-id="d9ae1-159">DataTemplates</span></span>

<span data-ttu-id="d9ae1-160">Dans cet exemple d’application, un <xref:System.Windows.Controls.ListBox> contrôle est lié à une liste de photos.</span><span class="sxs-lookup"><span data-stu-id="d9ae1-160">In this sample app, there is a <xref:System.Windows.Controls.ListBox> control that is bound to a list of photos.</span></span>

[!code-xaml[ListBox](~/samples/snippets/desktop-guide/wpf/styles-and-templates-intro/csharp/Window3.xaml#SnippetListBox)]

<span data-ttu-id="d9ae1-161">Cela <xref:System.Windows.Controls.ListBox> ressemble à ce qui suit.</span><span class="sxs-lookup"><span data-stu-id="d9ae1-161">This <xref:System.Windows.Controls.ListBox> currently looks like the following.</span></span>

<span data-ttu-id="d9ae1-162">![ListBox avant application du modèle](./media/styles-and-templates-overview/stylingintro-listboxbefore.png "StylingIntro_ListBoxBefore")</span><span class="sxs-lookup"><span data-stu-id="d9ae1-162">![ListBox before applying template](./media/styles-and-templates-overview/stylingintro-listboxbefore.png "StylingIntro_ListBoxBefore")</span></span>

<span data-ttu-id="d9ae1-163">La plupart des contrôles ont un type de contenu, et ce contenu provient souvent des données que vous liez à ces contrôles.</span><span class="sxs-lookup"><span data-stu-id="d9ae1-163">Most controls have some type of content, and that content often comes from data that you are binding to.</span></span> <span data-ttu-id="d9ae1-164">Dans cet exemple, les données sont la liste de photos.</span><span class="sxs-lookup"><span data-stu-id="d9ae1-164">In this sample, the data is the list of photos.</span></span> <span data-ttu-id="d9ae1-165">Dans WPF, vous utilisez un <xref:System.Windows.DataTemplate> pour définir la représentation visuelle des données.</span><span class="sxs-lookup"><span data-stu-id="d9ae1-165">In WPF, you use a <xref:System.Windows.DataTemplate> to define the visual representation of data.</span></span> <span data-ttu-id="d9ae1-166">Fondamentalement, ce que vous placez dans un <xref:System.Windows.DataTemplate> détermine à quoi ressemblent les données dans l’application rendue.</span><span class="sxs-lookup"><span data-stu-id="d9ae1-166">Basically, what you put into a <xref:System.Windows.DataTemplate> determines what the data looks like in the rendered app.</span></span>

<span data-ttu-id="d9ae1-167">Dans notre exemple d’application, chaque `Photo` objet personnalisé a une `Source` propriété de type chaîne qui spécifie le chemin d’accès de l’image.</span><span class="sxs-lookup"><span data-stu-id="d9ae1-167">In our sample app, each custom `Photo` object has a `Source` property of type string that specifies the file path of the image.</span></span> <span data-ttu-id="d9ae1-168">Actuellement, les objets photo apparaissent sous forme de chemins d’accès.</span><span class="sxs-lookup"><span data-stu-id="d9ae1-168">Currently, the photo objects appear as file paths.</span></span>

[!code-csharp[PhotoClass](~/samples/snippets/desktop-guide/wpf/styles-and-templates-intro/csharp/Photo.cs#PhotoClass)]
[!code-vb[PhotoClass](~/samples/snippets/desktop-guide/wpf/styles-and-templates-intro/vb/Photo.vb#PhotoClass)]

<span data-ttu-id="d9ae1-169">Pour que les photos apparaissent en tant qu’images, vous créez une <xref:System.Windows.DataTemplate> en tant que ressource.</span><span class="sxs-lookup"><span data-stu-id="d9ae1-169">For the photos to appear as images, you create a <xref:System.Windows.DataTemplate> as a resource.</span></span>

[!code-xaml[DataTemplate](~/samples/snippets/desktop-guide/wpf/styles-and-templates-intro/csharp/Window4.xaml#SnippetDataTemplate)]

<span data-ttu-id="d9ae1-170">Notez que la <xref:System.Windows.DataTemplate.DataType%2A> propriété est semblable à la <xref:System.Windows.Style.TargetType%2A> propriété de <xref:System.Windows.Style> .</span><span class="sxs-lookup"><span data-stu-id="d9ae1-170">Notice that the <xref:System.Windows.DataTemplate.DataType%2A> property is similar to the <xref:System.Windows.Style.TargetType%2A> property of the <xref:System.Windows.Style>.</span></span> <span data-ttu-id="d9ae1-171">Si votre <xref:System.Windows.DataTemplate> se trouve dans la section des ressources, lorsque vous spécifiez la <xref:System.Windows.DataTemplate.DataType%2A> propriété d’un type et que vous omettez un `x:Key` , le <xref:System.Windows.DataTemplate> est appliqué chaque fois que ce type apparaît.</span><span class="sxs-lookup"><span data-stu-id="d9ae1-171">If your <xref:System.Windows.DataTemplate> is in the resources section, when you specify the <xref:System.Windows.DataTemplate.DataType%2A> property to a type and omit an `x:Key`, the <xref:System.Windows.DataTemplate> is applied whenever that type appears.</span></span> <span data-ttu-id="d9ae1-172">Vous avez toujours la possibilité d’assigner le <xref:System.Windows.DataTemplate> à un, `x:Key` puis de le définir comme `StaticResource` pour les propriétés qui acceptent des <xref:System.Windows.DataTemplate> types, telles que la <xref:System.Windows.Controls.ItemsControl.ItemTemplate%2A> propriété ou la <xref:System.Windows.Controls.ContentControl.ContentTemplate%2A> propriété.</span><span class="sxs-lookup"><span data-stu-id="d9ae1-172">You always have the option to assign the <xref:System.Windows.DataTemplate> with an `x:Key` and then set it as a `StaticResource` for properties that take <xref:System.Windows.DataTemplate> types, such as the <xref:System.Windows.Controls.ItemsControl.ItemTemplate%2A> property or the <xref:System.Windows.Controls.ContentControl.ContentTemplate%2A> property.</span></span>

<span data-ttu-id="d9ae1-173">Fondamentalement, le <xref:System.Windows.DataTemplate> dans l’exemple ci-dessus définit qu’à chaque fois qu’il y a un `Photo` objet, il doit apparaître comme un <xref:System.Windows.Controls.Image> dans un <xref:System.Windows.Controls.Border> .</span><span class="sxs-lookup"><span data-stu-id="d9ae1-173">Essentially, the <xref:System.Windows.DataTemplate> in the above example defines that whenever there is a `Photo` object, it should appear as an <xref:System.Windows.Controls.Image> within a <xref:System.Windows.Controls.Border>.</span></span> <span data-ttu-id="d9ae1-174">Avec cela <xref:System.Windows.DataTemplate> , notre application se présente maintenant comme suit.</span><span class="sxs-lookup"><span data-stu-id="d9ae1-174">With this <xref:System.Windows.DataTemplate>, our app now looks like this.</span></span>

<span data-ttu-id="d9ae1-175">![Image photo](./media/styles-and-templates-overview/stylingintro-photosasimages.png "StylingIntro_PhotosAsImages")</span><span class="sxs-lookup"><span data-stu-id="d9ae1-175">![Photo image](./media/styles-and-templates-overview/stylingintro-photosasimages.png "StylingIntro_PhotosAsImages")</span></span>

<span data-ttu-id="d9ae1-176">Le modèle de création de modèles fournit d’autres fonctionnalités.</span><span class="sxs-lookup"><span data-stu-id="d9ae1-176">The data templating model provides other features.</span></span> <span data-ttu-id="d9ae1-177">Par exemple, si vous affichez des données de collection qui contiennent d’autres collections à l’aide d’un <xref:System.Windows.Controls.HeaderedItemsControl> type tel qu’un <xref:System.Windows.Controls.Menu> ou un <xref:System.Windows.Controls.TreeView> , il y a le <xref:System.Windows.HierarchicalDataTemplate> .</span><span class="sxs-lookup"><span data-stu-id="d9ae1-177">For example, if you are displaying collection data that contains other collections using a <xref:System.Windows.Controls.HeaderedItemsControl> type such as a <xref:System.Windows.Controls.Menu> or a <xref:System.Windows.Controls.TreeView>, there is the <xref:System.Windows.HierarchicalDataTemplate>.</span></span> <span data-ttu-id="d9ae1-178">Une autre fonctionnalité de création de modèles de données est <xref:System.Windows.Controls.DataTemplateSelector> , qui vous permet de choisir un <xref:System.Windows.DataTemplate> à utiliser en fonction de la logique personnalisée.</span><span class="sxs-lookup"><span data-stu-id="d9ae1-178">Another data templating feature is the <xref:System.Windows.Controls.DataTemplateSelector>, which allows you to choose a <xref:System.Windows.DataTemplate> to use based on custom logic.</span></span> <span data-ttu-id="d9ae1-179">Pour plus d’informations, consultez l’article [Vue d'ensemble des modèles de données](../../framework/wpf/data/data-templating-overview.md), qui fournit une discussion plus approfondie sur les différentes fonctionnalités de création de modèles de données.</span><span class="sxs-lookup"><span data-stu-id="d9ae1-179">For more information, see [Data Templating Overview](../../framework/wpf/data/data-templating-overview.md), which provides a more in-depth discussion of the different data templating features.</span></span>

## <a name="triggers"></a><span data-ttu-id="d9ae1-180">Déclencheurs</span><span class="sxs-lookup"><span data-stu-id="d9ae1-180">Triggers</span></span>

<span data-ttu-id="d9ae1-181">Un déclencheur définit des propriétés ou démarre des actions, par exemple une animation, lorsqu’une valeur de propriété change ou lorsqu’un événement est déclenché.</span><span class="sxs-lookup"><span data-stu-id="d9ae1-181">A trigger sets properties or starts actions, such as an animation, when a property value changes or when an event is raised.</span></span> <span data-ttu-id="d9ae1-182"><xref:System.Windows.Style>, <xref:System.Windows.Controls.ControlTemplate> et <xref:System.Windows.DataTemplate> ont tous une `Triggers` propriété qui peut contenir un ensemble de déclencheurs.</span><span class="sxs-lookup"><span data-stu-id="d9ae1-182"><xref:System.Windows.Style>, <xref:System.Windows.Controls.ControlTemplate>, and <xref:System.Windows.DataTemplate> all have a `Triggers` property that can contain a set of triggers.</span></span> <span data-ttu-id="d9ae1-183">Il existe plusieurs types de déclencheurs.</span><span class="sxs-lookup"><span data-stu-id="d9ae1-183">There are several types of triggers.</span></span>

### <a name="propertytriggers"></a><span data-ttu-id="d9ae1-184">PropertyTriggers</span><span class="sxs-lookup"><span data-stu-id="d9ae1-184">PropertyTriggers</span></span>

<span data-ttu-id="d9ae1-185">Un <xref:System.Windows.Trigger> qui définit des valeurs de propriété ou démarre des actions basées sur la valeur d’une propriété est appelé un déclencheur de propriété.</span><span class="sxs-lookup"><span data-stu-id="d9ae1-185">A <xref:System.Windows.Trigger> that sets property values or starts actions based on the value of a property is called a property trigger.</span></span>

<span data-ttu-id="d9ae1-186">Pour illustrer l’utilisation des déclencheurs de propriété, vous pouvez rendre chacun <xref:System.Windows.Controls.ListBoxItem> partiellement transparent, sauf s’il est sélectionné.</span><span class="sxs-lookup"><span data-stu-id="d9ae1-186">To demonstrate how to use property triggers, you can make each <xref:System.Windows.Controls.ListBoxItem> partially transparent unless it is selected.</span></span> <span data-ttu-id="d9ae1-187">Le style suivant affecte <xref:System.Windows.UIElement.Opacity%2A> à la valeur d’un la valeur <xref:System.Windows.Controls.ListBoxItem> `0.5` .</span><span class="sxs-lookup"><span data-stu-id="d9ae1-187">The following style sets the <xref:System.Windows.UIElement.Opacity%2A> value of a <xref:System.Windows.Controls.ListBoxItem> to `0.5`.</span></span> <span data-ttu-id="d9ae1-188"><xref:System.Windows.Controls.ListBoxItem.IsSelected%2A>Toutefois, lorsque la propriété a la `true` <xref:System.Windows.UIElement.Opacity%2A> valeur `1.0` .</span><span class="sxs-lookup"><span data-stu-id="d9ae1-188">When the <xref:System.Windows.Controls.ListBoxItem.IsSelected%2A> property is `true`, however, the <xref:System.Windows.UIElement.Opacity%2A> is set to `1.0`.</span></span>

[!code-xaml[PropertyTrigger](~/samples/snippets/desktop-guide/wpf/styles-and-templates-intro/csharp/Window5.xaml#SnippetPropertyTrigger)]

<span data-ttu-id="d9ae1-189">Cet exemple utilise un <xref:System.Windows.Trigger> pour définir une valeur de propriété, mais notez que la <xref:System.Windows.Trigger> classe possède également <xref:System.Windows.TriggerBase.EnterActions%2A> les <xref:System.Windows.TriggerBase.ExitActions%2A> Propriétés et qui permettent à un déclencheur d’effectuer des actions.</span><span class="sxs-lookup"><span data-stu-id="d9ae1-189">This example uses a <xref:System.Windows.Trigger> to set a property value, but note that the <xref:System.Windows.Trigger> class also has the <xref:System.Windows.TriggerBase.EnterActions%2A> and <xref:System.Windows.TriggerBase.ExitActions%2A> properties that enable a trigger to perform actions.</span></span>

<span data-ttu-id="d9ae1-190">Notez que la <xref:System.Windows.FrameworkElement.MaxHeight%2A> propriété de <xref:System.Windows.Controls.ListBoxItem> a la valeur `75` .</span><span class="sxs-lookup"><span data-stu-id="d9ae1-190">Notice that the <xref:System.Windows.FrameworkElement.MaxHeight%2A> property of the <xref:System.Windows.Controls.ListBoxItem> is set to `75`.</span></span> <span data-ttu-id="d9ae1-191">Dans l’illustration suivante, le troisième élément est l’élément sélectionné.</span><span class="sxs-lookup"><span data-stu-id="d9ae1-191">In the following illustration, the third item is the selected item.</span></span>

<span data-ttu-id="d9ae1-192">![Vue de la liste mise en forme avec des styles](./media/styles-and-templates-overview/stylingintro-triggers.png "StylingIntro_triggers")</span><span class="sxs-lookup"><span data-stu-id="d9ae1-192">![Styled ListView](./media/styles-and-templates-overview/stylingintro-triggers.png "StylingIntro_triggers")</span></span>

### <a name="eventtriggers-and-storyboards"></a><span data-ttu-id="d9ae1-193">EventTriggers et tables de montage séquentiel</span><span class="sxs-lookup"><span data-stu-id="d9ae1-193">EventTriggers and Storyboards</span></span>

<span data-ttu-id="d9ae1-194">Un autre type de déclencheur est <xref:System.Windows.EventTrigger> , qui démarre un ensemble d’actions en fonction de l’occurrence d’un événement.</span><span class="sxs-lookup"><span data-stu-id="d9ae1-194">Another type of trigger is the <xref:System.Windows.EventTrigger>, which starts a set of actions based on the occurrence of an event.</span></span> <span data-ttu-id="d9ae1-195">Par exemple, les <xref:System.Windows.EventTrigger> objets suivants spécifient que lorsque le pointeur de la souris entre dans le <xref:System.Windows.Controls.ListBoxItem> , la <xref:System.Windows.FrameworkElement.MaxHeight%2A> propriété s’anime sur une valeur `90` sur une `0.2` seconde période.</span><span class="sxs-lookup"><span data-stu-id="d9ae1-195">For example, the following <xref:System.Windows.EventTrigger> objects specify that when the mouse pointer enters the <xref:System.Windows.Controls.ListBoxItem>, the <xref:System.Windows.FrameworkElement.MaxHeight%2A> property animates to a value of `90` over a `0.2` second period.</span></span> <span data-ttu-id="d9ae1-196">Lorsque la souris s’éloigne de l’élément, la propriété retourne à sa valeur d’origine pendant une période de `1` seconde.</span><span class="sxs-lookup"><span data-stu-id="d9ae1-196">When the mouse moves away from the item, the property returns to the original value over a period of `1` second.</span></span> <span data-ttu-id="d9ae1-197">Notez qu’il n’est pas nécessaire de spécifier une <xref:System.Windows.Media.Animation.DoubleAnimation.To%2A> valeur pour l' <xref:System.Windows.ContentElement.MouseLeave> Animation.</span><span class="sxs-lookup"><span data-stu-id="d9ae1-197">Note how it is not necessary to specify a <xref:System.Windows.Media.Animation.DoubleAnimation.To%2A> value for the <xref:System.Windows.ContentElement.MouseLeave> animation.</span></span> <span data-ttu-id="d9ae1-198">L’animation est en effet capable d’effectuer le suivi de la valeur d’origine.</span><span class="sxs-lookup"><span data-stu-id="d9ae1-198">This is because the animation is able to keep track of the original value.</span></span>

[!code-xaml[StyleEventTriggers](~/samples/snippets/desktop-guide/wpf/styles-and-templates-intro/csharp/Window6.xaml#SnippetStyleEventTriggers)]

<span data-ttu-id="d9ae1-199">Pour plus d’informations, consultez [vue d’ensemble des storyboards](../../framework/wpf/graphics-multimedia/storyboards-overview.md).</span><span class="sxs-lookup"><span data-stu-id="d9ae1-199">For more information, see the [Storyboards overview](../../framework/wpf/graphics-multimedia/storyboards-overview.md).</span></span>

<span data-ttu-id="d9ae1-200">Dans l’illustration suivante, la souris pointe sur le troisième élément.</span><span class="sxs-lookup"><span data-stu-id="d9ae1-200">In the following illustration, the mouse is pointing to the third item.</span></span>

<span data-ttu-id="d9ae1-201">![Capture d’écran de l’exemple de style](./media/styles-and-templates-overview/stylingintro-eventtriggers.png "StylingIntro_EventTriggers")</span><span class="sxs-lookup"><span data-stu-id="d9ae1-201">![Styling sample screenshot](./media/styles-and-templates-overview/stylingintro-eventtriggers.png "StylingIntro_EventTriggers")</span></span>

### <a name="multitriggers-datatriggers-and-multidatatriggers"></a><span data-ttu-id="d9ae1-202">MultiTriggers, DataTriggers et MultiDataTriggers</span><span class="sxs-lookup"><span data-stu-id="d9ae1-202">MultiTriggers, DataTriggers, and MultiDataTriggers</span></span>

<span data-ttu-id="d9ae1-203">Outre <xref:System.Windows.Trigger> et <xref:System.Windows.EventTrigger> , il existe d’autres types de déclencheurs.</span><span class="sxs-lookup"><span data-stu-id="d9ae1-203">In addition to <xref:System.Windows.Trigger> and <xref:System.Windows.EventTrigger>, there are other types of triggers.</span></span> <span data-ttu-id="d9ae1-204"><xref:System.Windows.MultiTrigger>vous permet de définir des valeurs de propriété en fonction de plusieurs conditions.</span><span class="sxs-lookup"><span data-stu-id="d9ae1-204"><xref:System.Windows.MultiTrigger> allows you to set property values based on multiple conditions.</span></span> <span data-ttu-id="d9ae1-205">Vous utilisez <xref:System.Windows.DataTrigger> et <xref:System.Windows.MultiDataTrigger> lorsque la propriété de votre condition est liée aux données.</span><span class="sxs-lookup"><span data-stu-id="d9ae1-205">You use <xref:System.Windows.DataTrigger> and <xref:System.Windows.MultiDataTrigger> when the property of your condition is data-bound.</span></span>

## <a name="visual-states"></a><span data-ttu-id="d9ae1-206">États visuels</span><span class="sxs-lookup"><span data-stu-id="d9ae1-206">Visual States</span></span>

<span data-ttu-id="d9ae1-207">Les contrôles sont toujours dans un **État**spécifique.</span><span class="sxs-lookup"><span data-stu-id="d9ae1-207">Controls are always in a specific **state**.</span></span> <span data-ttu-id="d9ae1-208">Par exemple, lorsque la souris se déplace sur la surface d’un contrôle, le contrôle est considéré comme étant dans un État commun de `MouseOver` .</span><span class="sxs-lookup"><span data-stu-id="d9ae1-208">For example, when the mouse moves over the surface of a control, the control is considered to be in a common state of `MouseOver`.</span></span> <span data-ttu-id="d9ae1-209">Un contrôle sans état spécifique est considéré comme étant dans l’État commun `Normal` .</span><span class="sxs-lookup"><span data-stu-id="d9ae1-209">A control without a specific state is considered to be in the common `Normal` state.</span></span> <span data-ttu-id="d9ae1-210">Les États sont divisés en groupes et les États mentionnés précédemment font partie du groupe d’États `CommonStates` .</span><span class="sxs-lookup"><span data-stu-id="d9ae1-210">States are broken into groups, and the previously mentioned states are part of the state group `CommonStates`.</span></span> <span data-ttu-id="d9ae1-211">La plupart des contrôles ont deux groupes d’États : `CommonStates` et `FocusStates` .</span><span class="sxs-lookup"><span data-stu-id="d9ae1-211">Most controls have two state groups: `CommonStates` and `FocusStates`.</span></span> <span data-ttu-id="d9ae1-212">De chaque groupe d’États appliqué à un contrôle, un contrôle est toujours dans un état de chaque groupe, tel que `CommonStates.MouseOver` et `FocusStates.Unfocused` .</span><span class="sxs-lookup"><span data-stu-id="d9ae1-212">Of each state group applied to a control, a control is always in one state of each group, such as `CommonStates.MouseOver` and `FocusStates.Unfocused`.</span></span> <span data-ttu-id="d9ae1-213">Toutefois, un contrôle ne peut pas se trouver dans deux États différents au sein du même groupe, tels que `CommonStates.Normal` et `CommonStates.Disabled` .</span><span class="sxs-lookup"><span data-stu-id="d9ae1-213">However, a control can't be in two different states within the same group, such as `CommonStates.Normal` and `CommonStates.Disabled`.</span></span> <span data-ttu-id="d9ae1-214">Voici un tableau des États que la plupart des contrôles reconnaissent et utilisent.</span><span class="sxs-lookup"><span data-stu-id="d9ae1-214">Here is a table of states most controls recognize and use.</span></span>

| <span data-ttu-id="d9ae1-215">Nom VisualState</span><span class="sxs-lookup"><span data-stu-id="d9ae1-215">VisualState Name</span></span> | <span data-ttu-id="d9ae1-216">Nom VisualStateGroup</span><span class="sxs-lookup"><span data-stu-id="d9ae1-216">VisualStateGroup Name</span></span> | <span data-ttu-id="d9ae1-217">Description</span><span class="sxs-lookup"><span data-stu-id="d9ae1-217">Description</span></span> |
| ---------------- | --------------------- | ----------- |
| <span data-ttu-id="d9ae1-218">Normal</span><span class="sxs-lookup"><span data-stu-id="d9ae1-218">Normal</span></span>           | <span data-ttu-id="d9ae1-219">CommonStates</span><span class="sxs-lookup"><span data-stu-id="d9ae1-219">CommonStates</span></span>          | <span data-ttu-id="d9ae1-220">État par défaut.</span><span class="sxs-lookup"><span data-stu-id="d9ae1-220">The default state.</span></span> |
| <span data-ttu-id="d9ae1-221">MouseOver</span><span class="sxs-lookup"><span data-stu-id="d9ae1-221">MouseOver</span></span>        | <span data-ttu-id="d9ae1-222">CommonStates</span><span class="sxs-lookup"><span data-stu-id="d9ae1-222">CommonStates</span></span>          | <span data-ttu-id="d9ae1-223">Le pointeur de souris est positionné sur le contrôle.</span><span class="sxs-lookup"><span data-stu-id="d9ae1-223">The mouse pointer is positioned over the control.</span></span> |
| <span data-ttu-id="d9ae1-224">Appuyé</span><span class="sxs-lookup"><span data-stu-id="d9ae1-224">Pressed</span></span>          | <span data-ttu-id="d9ae1-225">CommonStates</span><span class="sxs-lookup"><span data-stu-id="d9ae1-225">CommonStates</span></span>          | <span data-ttu-id="d9ae1-226">Le contrôle est enfoncé.</span><span class="sxs-lookup"><span data-stu-id="d9ae1-226">The control is pressed.</span></span> |
| <span data-ttu-id="d9ae1-227">Désactivé</span><span class="sxs-lookup"><span data-stu-id="d9ae1-227">Disabled</span></span>         | <span data-ttu-id="d9ae1-228">CommonStates</span><span class="sxs-lookup"><span data-stu-id="d9ae1-228">CommonStates</span></span>          | <span data-ttu-id="d9ae1-229">Le contrôle est désactivé.</span><span class="sxs-lookup"><span data-stu-id="d9ae1-229">The control is disabled.</span></span> |
| <span data-ttu-id="d9ae1-230">Avec focus</span><span class="sxs-lookup"><span data-stu-id="d9ae1-230">Focused</span></span>          | <span data-ttu-id="d9ae1-231">FocusStates</span><span class="sxs-lookup"><span data-stu-id="d9ae1-231">FocusStates</span></span>           | <span data-ttu-id="d9ae1-232">Le contrôle a le focus.</span><span class="sxs-lookup"><span data-stu-id="d9ae1-232">The control has focus.</span></span> |
| <span data-ttu-id="d9ae1-233">Sans focus</span><span class="sxs-lookup"><span data-stu-id="d9ae1-233">Unfocused</span></span>        | <span data-ttu-id="d9ae1-234">FocusStates</span><span class="sxs-lookup"><span data-stu-id="d9ae1-234">FocusStates</span></span>           | <span data-ttu-id="d9ae1-235">Le contrôle n’a pas le focus.</span><span class="sxs-lookup"><span data-stu-id="d9ae1-235">The control does not have focus.</span></span> |

<span data-ttu-id="d9ae1-236">En définissant un <xref:System.Windows.VisualStateManager?displayProperty=fullName> sur l’élément racine d’un modèle de contrôle, vous pouvez déclencher des animations lorsqu’un contrôle passe à un état spécifique.</span><span class="sxs-lookup"><span data-stu-id="d9ae1-236">By defining a <xref:System.Windows.VisualStateManager?displayProperty=fullName> on the root element of a control template, you can trigger animations when a control enters a specific state.</span></span> <span data-ttu-id="d9ae1-237">`VisualStateManager`Déclare les combinaisons de <xref:System.Windows.VisualStateGroup> et <xref:System.Windows.VisualState> à surveiller.</span><span class="sxs-lookup"><span data-stu-id="d9ae1-237">The `VisualStateManager` declares which combinations of <xref:System.Windows.VisualStateGroup> and <xref:System.Windows.VisualState> to watch.</span></span> <span data-ttu-id="d9ae1-238">Lorsque le contrôle passe à l’État surveillé, l’animation définie par le `VisaulStateManager` est démarrée.</span><span class="sxs-lookup"><span data-stu-id="d9ae1-238">When the control enters a watched state, the animation defined by the `VisaulStateManager` is started.</span></span>

<span data-ttu-id="d9ae1-239">Par exemple, le code XAML suivant surveille l' `CommonStates.MouseOver` État pour animer la couleur de remplissage de l’élément nommé `backgroundElement` .</span><span class="sxs-lookup"><span data-stu-id="d9ae1-239">For example, the following XAML code watches the `CommonStates.MouseOver` state to animate the fill color of the element named `backgroundElement`.</span></span> <span data-ttu-id="d9ae1-240">Lorsque le contrôle retourne à l' `CommonStates.Normal` État, la couleur de remplissage de l’élément nommé `backgroundElement` est restaurée.</span><span class="sxs-lookup"><span data-stu-id="d9ae1-240">When the control returns to the `CommonStates.Normal` state, the fill color of the element named `backgroundElement` is restored.</span></span>

```xaml
<ControlTemplate x:Key="roundbutton" TargetType="Button">
    <Grid>
        <VisualStateManager.VisualStateGroups>
            <VisualStateGroup Name="CommonStates">
                <VisualState Name="Normal">
                    <ColorAnimation Storyboard.TargetName="backgroundElement"
                                    Storyboard.TargetProperty="(Shape.Fill).(SolidColorBrush.Color)"
                                    To="{TemplateBinding Background}"
                                    Duration="0:0:0.3"/>
                </VisualState>
                <VisualState Name="MouseOver">
                    <ColorAnimation Storyboard.TargetName="backgroundElement"
                                    Storyboard.TargetProperty="(Shape.Fill).(SolidColorBrush.Color)"
                                    To="Yellow"
                                    Duration="0:0:0.3"/>
                </VisualState>
            </VisualStateGroup>
        </VisualStateManager.VisualStateGroups>

        ...
```

<span data-ttu-id="d9ae1-241">Pour plus d’informations sur les storyboards, consultez [vue d’ensemble des storyboards](../../framework/wpf/graphics-multimedia/storyboards-overview.md).</span><span class="sxs-lookup"><span data-stu-id="d9ae1-241">For more information about storyboards, see [Storyboards Overview](../../framework/wpf/graphics-multimedia/storyboards-overview.md).</span></span>

## <a name="shared-resources-and-themes"></a><span data-ttu-id="d9ae1-242">Ressources partagées et thèmes</span><span class="sxs-lookup"><span data-stu-id="d9ae1-242">Shared resources and themes</span></span>

<span data-ttu-id="d9ae1-243">Une application WPF type peut avoir plusieurs ressources d’interface utilisateur qui sont appliquées dans l’ensemble de l’application.</span><span class="sxs-lookup"><span data-stu-id="d9ae1-243">A typical WPF app might have multiple UI resources that are applied throughout the app.</span></span> <span data-ttu-id="d9ae1-244">Collectivement, cet ensemble de ressources peut être considéré comme le thème de l’application.</span><span class="sxs-lookup"><span data-stu-id="d9ae1-244">Collectively, this set of resources can be considered the theme for the app.</span></span> <span data-ttu-id="d9ae1-245">WPF prend en charge l’empaquetage des ressources d’interface utilisateur en tant que thème à l’aide d’un dictionnaire de ressources encapsulé en tant que <xref:System.Windows.ResourceDictionary> classe.</span><span class="sxs-lookup"><span data-stu-id="d9ae1-245">WPF provides support for packaging UI resources as a theme by using a resource dictionary that is encapsulated as the <xref:System.Windows.ResourceDictionary> class.</span></span>

<span data-ttu-id="d9ae1-246">Les thèmes WPF sont définis à l’aide du mécanisme de création de styles et de modèles que WPF expose pour la personnalisation des visuels de tout élément.</span><span class="sxs-lookup"><span data-stu-id="d9ae1-246">WPF themes are defined by using the styling and templating mechanism that WPF exposes for customizing the visuals of any element.</span></span>

<span data-ttu-id="d9ae1-247">Les ressources de thème WPF sont stockées dans des dictionnaires de ressources incorporés.</span><span class="sxs-lookup"><span data-stu-id="d9ae1-247">WPF theme resources are stored in embedded resource dictionaries.</span></span> <span data-ttu-id="d9ae1-248">Ces dictionnaires de ressources doivent être incorporés dans un assembly signé, et peuvent être incorporés dans le même assembly que le code lui-même, ou bien dans un assembly parallèle.</span><span class="sxs-lookup"><span data-stu-id="d9ae1-248">These resource dictionaries must be embedded within a signed assembly, and can either be embedded in the same assembly as the code itself or in a side-by-side assembly.</span></span> <span data-ttu-id="d9ae1-249">Pour PresentationFramework.dll, l’assembly qui contient des contrôles WPF, les ressources de thème se trouvent dans une série d’assemblys côte à côte.</span><span class="sxs-lookup"><span data-stu-id="d9ae1-249">For PresentationFramework.dll, the assembly that contains WPF controls, theme resources are in a series of side-by-side assemblies.</span></span>

<span data-ttu-id="d9ae1-250">Le thème est alors le dernier emplacement à consulter lors de la recherche du style d’un élément.</span><span class="sxs-lookup"><span data-stu-id="d9ae1-250">The theme becomes the last place to look when searching for the style of an element.</span></span> <span data-ttu-id="d9ae1-251">En règle générale, la recherche commence en remontant l’arborescence d’éléments qui recherche une ressource appropriée, puis examine la collection de ressources d’application et enfin interroge le système.</span><span class="sxs-lookup"><span data-stu-id="d9ae1-251">Typically, the search will begin by walking up the element tree searching for an appropriate resource, then look in the app resource collection and finally query the system.</span></span> <span data-ttu-id="d9ae1-252">Cela permet aux développeurs d’applications de redéfinir le style d’un objet au niveau de l’arborescence ou de l’application avant d’atteindre le thème.</span><span class="sxs-lookup"><span data-stu-id="d9ae1-252">This gives app developers a chance to redefine the style for any object at the tree or app level before reaching the theme.</span></span>

<span data-ttu-id="d9ae1-253">Vous pouvez définir des dictionnaires de ressources en tant que fichiers individuels qui vous permettent de réutiliser un thème sur plusieurs applications.</span><span class="sxs-lookup"><span data-stu-id="d9ae1-253">You can define resource dictionaries as individual files that enable you to reuse a theme across multiple apps.</span></span> <span data-ttu-id="d9ae1-254">Vous pouvez également créer des thèmes permutables en définissant plusieurs dictionnaires de ressources qui fournissent les mêmes types de ressources mais avec des valeurs différentes.</span><span class="sxs-lookup"><span data-stu-id="d9ae1-254">You can also create swappable themes by defining multiple resource dictionaries that provide the same types of resources but with different values.</span></span> <span data-ttu-id="d9ae1-255">La redéfinition de ces styles ou d’autres ressources au niveau de l’application est l’approche recommandée pour l’apparence d’une application.</span><span class="sxs-lookup"><span data-stu-id="d9ae1-255">Redefining these styles or other resources at the app level is the recommended approach for skinning an app.</span></span>

<span data-ttu-id="d9ae1-256">Pour partager un ensemble de ressources, notamment des styles et des modèles, entre les applications, vous pouvez créer un fichier XAML et définir un <xref:System.Windows.ResourceDictionary> qui inclut une référence à un `shared.xaml` fichier.</span><span class="sxs-lookup"><span data-stu-id="d9ae1-256">To share a set of resources, including styles and templates, across apps, you can create a XAML file and define a <xref:System.Windows.ResourceDictionary> that includes reference to a `shared.xaml` file.</span></span>

```xaml
<ResourceDictionary.MergedDictionaries>
  <ResourceDictionary Source="Shared.xaml" />
</ResourceDictionary.MergedDictionaries>
```

<span data-ttu-id="d9ae1-257">C’est le partage de `shared.xaml` , qui définit lui-même un <xref:System.Windows.ResourceDictionary> qui contient un ensemble de ressources de style et de pinceau, qui permet aux contrôles d’une application d’avoir une apparence cohérente.</span><span class="sxs-lookup"><span data-stu-id="d9ae1-257">It is the sharing of `shared.xaml`, which itself defines a <xref:System.Windows.ResourceDictionary> that contains a set of style and brush resources, that enables the controls in an app to have a consistent look.</span></span>

<span data-ttu-id="d9ae1-258">Pour plus d’informations, consultez [dictionnaires de ressources fusionnés](../../framework/wpf/advanced/merged-resource-dictionaries.md).</span><span class="sxs-lookup"><span data-stu-id="d9ae1-258">For more information, see [Merged resource dictionaries](../../framework/wpf/advanced/merged-resource-dictionaries.md).</span></span>

<span data-ttu-id="d9ae1-259">Si vous créez un thème pour votre contrôle personnalisé, consultez la section **définition des ressources au niveau du thème** de la [vue d’ensemble](../../framework/wpf/controls/control-authoring-overview.md#defining-resources-at-the-theme-level)de la création de contrôles.</span><span class="sxs-lookup"><span data-stu-id="d9ae1-259">If you are creating a theme for your custom control, see the **Defining resources at the theme level** section of the [Control authoring overview](../../framework/wpf/controls/control-authoring-overview.md#defining-resources-at-the-theme-level).</span></span>

## <a name="see-also"></a><span data-ttu-id="d9ae1-260">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="d9ae1-260">See also</span></span>

- [<span data-ttu-id="d9ae1-261">URI à en-tête pack dans WPF</span><span class="sxs-lookup"><span data-stu-id="d9ae1-261">Pack URIs in WPF</span></span>](../../framework/wpf/app-development/pack-uris-in-wpf.md)
- [<span data-ttu-id="d9ae1-262">Procédure : rechercher des éléments générés par ControlTemplate</span><span class="sxs-lookup"><span data-stu-id="d9ae1-262">How to: Find ControlTemplate-Generated Elements</span></span>](../../framework/wpf/controls/how-to-find-controltemplate-generated-elements.md)
- [<span data-ttu-id="d9ae1-263">Rechercher des éléments générés par DataTemplate</span><span class="sxs-lookup"><span data-stu-id="d9ae1-263">Find DataTemplate-Generated Elements</span></span>](../../framework/wpf/data/how-to-find-datatemplate-generated-elements.md)
