---
title: Styles et modèles
description: En savoir plus sur les ressources XAML dans Windows Presentation Foundation (WPF) pour .NET Core. Comprendre les types de ressources XAML liées aux styles et aux thèmes.
author: thraka
ms.author: adegeo
ms.date: 09/09/2019
dev_langs:
- csharp
- vb
ms.openlocfilehash: f845e739ec3cae502d1e4fd6631f987c5364a42e
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 03/12/2020
ms.locfileid: "82071884"
---
# <a name="styles-and-templates-in-wpf"></a><span data-ttu-id="320ff-104">Styles et modèles dans WPF</span><span class="sxs-lookup"><span data-stu-id="320ff-104">Styles and templates in WPF</span></span>

<span data-ttu-id="320ff-105">Le style et le templating de la Windows Presentation Foundation (WPF) se réfèrent à une suite de fonctionnalités qui permettent aux développeurs et aux concepteurs de créer des effets visuellement convaincants et une apparence cohérente pour leur produit.</span><span class="sxs-lookup"><span data-stu-id="320ff-105">Windows Presentation Foundation (WPF) styling and templating refer to a suite of features that let developers and designers create visually compelling effects and a consistent appearance for their product.</span></span> <span data-ttu-id="320ff-106">Lorsque vous personnalisez l’apparence d’une application, vous voulez un solide style et un modèle de templating qui permet la maintenance et le partage de l’apparence à l’intérieur et entre les applications.</span><span class="sxs-lookup"><span data-stu-id="320ff-106">When customizing the appearance of an app, you want a strong styling and templating model that enables maintenance and sharing of appearance within and among apps.</span></span> <span data-ttu-id="320ff-107">WPF fournit ce modèle.</span><span class="sxs-lookup"><span data-stu-id="320ff-107">WPF provides that model.</span></span>

<span data-ttu-id="320ff-108">Une autre caractéristique du modèle de style WPF est la séparation de la présentation et de la logique.</span><span class="sxs-lookup"><span data-stu-id="320ff-108">Another feature of the WPF styling model is the separation of presentation and logic.</span></span> <span data-ttu-id="320ff-109">Les concepteurs peuvent travailler sur l’apparence d’une application en utilisant uniquement XAML en même temps que les développeurs travaillent sur la logique de programmation en utilisant C ou Visual Basic.</span><span class="sxs-lookup"><span data-stu-id="320ff-109">Designers can work on the appearance of an app by using only XAML at the same time that developers work on the programming logic by using C# or Visual Basic.</span></span>

<span data-ttu-id="320ff-110">Cette vue d’ensemble se concentre sur le style et les aspects de l’application et ne traite pas de concepts de liaison de données.</span><span class="sxs-lookup"><span data-stu-id="320ff-110">This overview focuses on the styling and templating aspects of the app and doesn't discuss any data-binding concepts.</span></span> <span data-ttu-id="320ff-111">Pour plus d’informations sur la liaison de données, consultez [Vue d’ensemble de la liaison de données](../data/data-binding-overview.md).</span><span class="sxs-lookup"><span data-stu-id="320ff-111">For information about data binding, see [Data Binding Overview](../data/data-binding-overview.md).</span></span>

<span data-ttu-id="320ff-112">Il est important de comprendre les ressources, qui sont ce qui permet de réutiliser les styles et les modèles.</span><span class="sxs-lookup"><span data-stu-id="320ff-112">It's important to understand resources, which are what enable styles and templates to be reused.</span></span> <span data-ttu-id="320ff-113">Pour plus d’informations sur les ressources, consultez [Ressources XAML](xaml-resources-define.md).</span><span class="sxs-lookup"><span data-stu-id="320ff-113">For more information about resources, see [XAML Resources](xaml-resources-define.md).</span></span>

[!INCLUDE [desktop guide under construction](../../../includes/desktop-guide-preview-note.md)]

## <a name="sample"></a><span data-ttu-id="320ff-114">Exemple</span><span class="sxs-lookup"><span data-stu-id="320ff-114">Sample</span></span>

<span data-ttu-id="320ff-115">Le code de l’échantillon fourni dans cette vue [d’ensemble](https://github.com/Microsoft/WPF-Samples/tree/master/Styles%20&%20Templates/IntroToStylingAndTemplating) est basé sur une simple application de navigation photo montrée dans l’illustration suivante.</span><span class="sxs-lookup"><span data-stu-id="320ff-115">The sample code provided in this overview is based on a [simple photo browsing application](https://github.com/Microsoft/WPF-Samples/tree/master/Styles%20&%20Templates/IntroToStylingAndTemplating) shown in the following illustration.</span></span>

<span data-ttu-id="320ff-116">![Vue de la liste mise en forme avec des styles](./media/styles-and-templates-overview/stylingintro-triggers.png "StylingIntro_triggers")</span><span class="sxs-lookup"><span data-stu-id="320ff-116">![Styled ListView](./media/styles-and-templates-overview/stylingintro-triggers.png "StylingIntro_triggers")</span></span>

<span data-ttu-id="320ff-117">Cet exemple de photo simple utilise des styles et des modèles pour créer une expérience utilisateur visuellement attrayante.</span><span class="sxs-lookup"><span data-stu-id="320ff-117">This simple photo sample uses styling and templating to create a visually compelling user experience.</span></span> <span data-ttu-id="320ff-118">L’échantillon <xref:System.Windows.Controls.TextBlock> a deux <xref:System.Windows.Controls.ListBox> éléments et un contrôle qui est lié à une liste d’images.</span><span class="sxs-lookup"><span data-stu-id="320ff-118">The sample has two <xref:System.Windows.Controls.TextBlock> elements and a <xref:System.Windows.Controls.ListBox> control that is bound to a list of images.</span></span>

<span data-ttu-id="320ff-119">Pour accéder à l’exemple complet, consultez la page [Introduction to Styling and Templating Sample](https://github.com/Microsoft/WPF-Samples/tree/master/Styles%20&%20Templates/IntroToStylingAndTemplating) (Présentation d’un exemple de création de style et de modèle).</span><span class="sxs-lookup"><span data-stu-id="320ff-119">For the complete sample, see [Introduction to Styling and Templating Sample](https://github.com/Microsoft/WPF-Samples/tree/master/Styles%20&%20Templates/IntroToStylingAndTemplating).</span></span>

## <a name="styles"></a><span data-ttu-id="320ff-120">Styles</span><span class="sxs-lookup"><span data-stu-id="320ff-120">Styles</span></span>

<span data-ttu-id="320ff-121">Vous pouvez penser <xref:System.Windows.Style> à un moyen pratique d’appliquer un ensemble de valeurs de propriété à plusieurs éléments.</span><span class="sxs-lookup"><span data-stu-id="320ff-121">You can think of a <xref:System.Windows.Style> as a convenient way to apply a set of property values to multiple elements.</span></span> <span data-ttu-id="320ff-122">Vous pouvez utiliser un style sur <xref:System.Windows.FrameworkElement> n’importe quel élément qui dérive ou <xref:System.Windows.FrameworkContentElement> tel que un <xref:System.Windows.Window> ou un <xref:System.Windows.Controls.Button>.</span><span class="sxs-lookup"><span data-stu-id="320ff-122">You can use a style on any element that derives from <xref:System.Windows.FrameworkElement> or <xref:System.Windows.FrameworkContentElement> such as a <xref:System.Windows.Window> or a <xref:System.Windows.Controls.Button>.</span></span>

<span data-ttu-id="320ff-123">La façon la plus courante de déclarer `Resources` un style est comme une ressource dans la section dans un fichier XAML.</span><span class="sxs-lookup"><span data-stu-id="320ff-123">The most common way to declare a style is as a resource in the `Resources` section in a XAML file.</span></span> <span data-ttu-id="320ff-124">Parce que les styles sont des ressources, ils obéissent aux mêmes règles de portée qui s’appliquent à toutes les ressources.</span><span class="sxs-lookup"><span data-stu-id="320ff-124">Because styles are resources, they obey the same scoping rules that apply to all resources.</span></span> <span data-ttu-id="320ff-125">En d’autres termes, où vous déclarez qu’un style affecte l’endroit où le style peut être appliqué.</span><span class="sxs-lookup"><span data-stu-id="320ff-125">Put simply, where you declare a style affects where the style can be applied.</span></span> <span data-ttu-id="320ff-126">Par exemple, si vous déclarez le style dans l’élément racine de votre fichier XAML de définition d’application, le style peut être utilisé n’importe où dans votre application.</span><span class="sxs-lookup"><span data-stu-id="320ff-126">For example, if you declare the style in the root element of your app definition XAML file, the style can be used anywhere in your app.</span></span>

<span data-ttu-id="320ff-127">Par exemple, le code XAML suivant `TextBlock`déclare deux styles `TextBlock` pour un, l’un automatiquement appliqué à tous les éléments, et l’autre qui doit être explicitement référencé.</span><span class="sxs-lookup"><span data-stu-id="320ff-127">For example, the following XAML code declares two styles for a `TextBlock`, one automatically applied to all `TextBlock` elements, and another that must be explicitly referenced.</span></span>

[!code-xaml[SnippetDefaultTextBlockStyleBasedOn](~/samples/snippets/desktop-guide/wpf/styles-and-templates-intro/csharp/Window2.xaml#SnippetDefaultTextBlockStyleBasedOn)]

<span data-ttu-id="320ff-128">Voici un exemple des styles déclarés ci-dessus utilisés.</span><span class="sxs-lookup"><span data-stu-id="320ff-128">Here is an example of the styles declared above being used.</span></span>

[!code-xaml[SnippetTextBlocksExplicit](~/samples/snippets/desktop-guide/wpf/styles-and-templates-intro/csharp/Window2.xaml#SnippetTextBlocksExplicit)]

![Blocs de texte stylés](./media/styles-and-templates-overview/stylingintro-textblocks.png)

<span data-ttu-id="320ff-130">Pour plus d’informations, voir [Créer un style pour un contrôle](styles-templates-create-apply-style.md).</span><span class="sxs-lookup"><span data-stu-id="320ff-130">For more information, see [Create a style for a control](styles-templates-create-apply-style.md).</span></span>

## <a name="controltemplates"></a><span data-ttu-id="320ff-131">ControlTemplates</span><span class="sxs-lookup"><span data-stu-id="320ff-131">ControlTemplates</span></span>

<span data-ttu-id="320ff-132">Dans WPF, <xref:System.Windows.Controls.ControlTemplate> le contrôle définit l’apparence du contrôle.</span><span class="sxs-lookup"><span data-stu-id="320ff-132">In WPF, the <xref:System.Windows.Controls.ControlTemplate> of a control defines the appearance of the control.</span></span> <span data-ttu-id="320ff-133">Vous pouvez modifier la structure et l’apparence d’un contrôle en définissant un nouveau <xref:System.Windows.Controls.ControlTemplate> et en l’assignant à un contrôle.</span><span class="sxs-lookup"><span data-stu-id="320ff-133">You can change the structure and appearance of a control by defining a new <xref:System.Windows.Controls.ControlTemplate> and assigning it to a control.</span></span> <span data-ttu-id="320ff-134">Dans de nombreux cas, les modèles vous donnent suffisamment de flexibilité pour ne pas avoir à écrire vos propres contrôles personnalisés.</span><span class="sxs-lookup"><span data-stu-id="320ff-134">In many cases, templates give you enough flexibility so that you do not have to write your own custom controls.</span></span>

<span data-ttu-id="320ff-135">Chaque contrôle a un modèle par défaut attribué à la propriété [Control.Template.](xref:System.Windows.Controls.Control.Template)</span><span class="sxs-lookup"><span data-stu-id="320ff-135">Each control has a default template assigned to the [Control.Template](xref:System.Windows.Controls.Control.Template) property.</span></span> <span data-ttu-id="320ff-136">Le modèle relie la présentation visuelle du contrôle avec les capacités du contrôle.</span><span class="sxs-lookup"><span data-stu-id="320ff-136">The template connects the visual presentation of the control with the control's capabilities.</span></span> <span data-ttu-id="320ff-137">Parce que vous définissez un modèle dans XAML, vous pouvez modifier l’apparence du contrôle sans écrire de code.</span><span class="sxs-lookup"><span data-stu-id="320ff-137">Because you define a template in XAML, you can change the control's appearance without writing any code.</span></span> <span data-ttu-id="320ff-138">Chaque modèle est conçu pour un <xref:System.Windows.Controls.Button>contrôle spécifique, tel qu’un .</span><span class="sxs-lookup"><span data-stu-id="320ff-138">Each template is designed for a specific control, such as a <xref:System.Windows.Controls.Button>.</span></span>

<span data-ttu-id="320ff-139">Généralement, vous déclarez un `Resources` modèle comme une ressource sur la section d’un fichier XAML.</span><span class="sxs-lookup"><span data-stu-id="320ff-139">Commonly you declare a template as a resource on the `Resources` section of a XAML file.</span></span> <span data-ttu-id="320ff-140">Comme pour toutes les ressources, les règles de portée s’appliquent.</span><span class="sxs-lookup"><span data-stu-id="320ff-140">As with all resources, scoping rules apply.</span></span>

<span data-ttu-id="320ff-141">Les modèles de contrôle sont beaucoup plus impliqués qu’un style.</span><span class="sxs-lookup"><span data-stu-id="320ff-141">Control templates are a lot more involved than a style.</span></span> <span data-ttu-id="320ff-142">C’est parce que le modèle de contrôle réécrit l’apparence visuelle de l’ensemble du contrôle, tandis qu’un style applique simplement des changements de propriété au contrôle existant.</span><span class="sxs-lookup"><span data-stu-id="320ff-142">This is because the control template rewrites the visual appearance of the entire control, while a style simply applies property changes to the existing control.</span></span> <span data-ttu-id="320ff-143">Cependant, puisque le modèle d’un contrôle est appliqué en définissant la propriété [Control.Template,](xref:System.Windows.Controls.Control.Template) vous pouvez utiliser un style pour définir ou définir un modèle.</span><span class="sxs-lookup"><span data-stu-id="320ff-143">However, since the template of a control is applied by setting the [Control.Template](xref:System.Windows.Controls.Control.Template) property, you can use a style to define or set a template.</span></span>

<span data-ttu-id="320ff-144">Les concepteurs vous permettent généralement de créer une copie d’un modèle existant et de le modifier.</span><span class="sxs-lookup"><span data-stu-id="320ff-144">Designers generally allow you to create a copy of an existing template and modify it.</span></span> <span data-ttu-id="320ff-145">Par exemple, dans le visual Studio `CheckBox` WPF designer, sélectionnez un contrôle, puis cliquez à droite et sélectionnez **Modifier le modèle** > **Créer une copie**.</span><span class="sxs-lookup"><span data-stu-id="320ff-145">For example, in the Visual Studio WPF designer, select a `CheckBox` control, and then right-click and select **Edit template** > **Create a copy**.</span></span> <span data-ttu-id="320ff-146">Cette commande génère un *style qui définit un modèle*.</span><span class="sxs-lookup"><span data-stu-id="320ff-146">This command generates a *style that defines a template*.</span></span>

```xaml
<Style x:Key="CheckBoxStyle1" TargetType="{x:Type CheckBox}">
    <Setter Property="FocusVisualStyle" Value="{StaticResource FocusVisual1}"/>
    <Setter Property="Background" Value="{StaticResource OptionMark.Static.Background1}"/>
    <Setter Property="BorderBrush" Value="{StaticResource OptionMark.Static.Border1}"/>
    <Setter Property="Foreground" Value="{DynamicResource {x:Static SystemColors.ControlTextBrushKey}}"/>
    <Setter Property="BorderThickness" Value="1"/>
    <Setter Property="Template">
        <Setter.Value>
            <ControlTemplate TargetType="{x:Type CheckBox}">
                <Grid x:Name="templateRoot" Background="Transparent" SnapsToDevicePixels="True">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                    <Border x:Name="checkBoxBorder" Background="{TemplateBinding Background}" BorderThickness="{TemplateBinding BorderThickness}" BorderBrush="{TemplateBinding BorderBrush}" HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}" Margin="1" VerticalAlignment="{TemplateBinding VerticalContentAlignment}">
                        <Grid x:Name="markGrid">
                            <Path x:Name="optionMark" Data="F1 M 9.97498,1.22334L 4.6983,9.09834L 4.52164,9.09834L 0,5.19331L 1.27664,3.52165L 4.255,6.08833L 8.33331,1.52588e-005L 9.97498,1.22334 Z " Fill="{StaticResource OptionMark.Static.Glyph1}" Margin="1" Opacity="0" Stretch="None"/>
                            <Rectangle x:Name="indeterminateMark" Fill="{StaticResource OptionMark.Static.Glyph1}" Margin="2" Opacity="0"/>
                        </Grid>
                    </Border>
                    <ContentPresenter x:Name="contentPresenter" Grid.Column="1" Focusable="False" HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}" Margin="{TemplateBinding Padding}" RecognizesAccessKey="True" SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" VerticalAlignment="{TemplateBinding VerticalContentAlignment}"/>
                </Grid>
                <ControlTemplate.Triggers>
                    <Trigger Property="HasContent" Value="true">
                        <Setter Property="FocusVisualStyle" Value="{StaticResource OptionMarkFocusVisual1}"/>
                        <Setter Property="Padding" Value="4,-1,0,0"/>

... content removed to save space ...
```

<span data-ttu-id="320ff-147">L’édition d’une copie d’un modèle est un excellent moyen d’apprendre comment fonctionnent les modèles.</span><span class="sxs-lookup"><span data-stu-id="320ff-147">Editing a copy of a template is a great way to learn how templates work.</span></span> <span data-ttu-id="320ff-148">Au lieu de créer un nouveau modèle vierge, il est plus facile de modifier une copie et de modifier quelques aspects de la présentation visuelle.</span><span class="sxs-lookup"><span data-stu-id="320ff-148">Instead of creating a new blank template, it's easier to edit a copy and change a few aspects of the visual presentation.</span></span>

<span data-ttu-id="320ff-149">Par exemple, voir [Créer un modèle pour un contrôle](../themes/how-to-create-apply-template.md).</span><span class="sxs-lookup"><span data-stu-id="320ff-149">For an example, see [Create a template for a control](../themes/how-to-create-apply-template.md).</span></span>

### <a name="templatebinding"></a><span data-ttu-id="320ff-150">TemplateBinding</span><span class="sxs-lookup"><span data-stu-id="320ff-150">TemplateBinding</span></span>

<span data-ttu-id="320ff-151">Vous avez peut-être remarqué que la ressource de modèle définie dans la section précédente utilise [l’extension de markup TemplateBinding](../../framework/wpf/advanced/templatebinding-markup-extension.md).</span><span class="sxs-lookup"><span data-stu-id="320ff-151">You may have noticed that the template resource defined in the previous section uses the [TemplateBinding Markup Extension](../../framework/wpf/advanced/templatebinding-markup-extension.md).</span></span> <span data-ttu-id="320ff-152">A `TemplateBinding` est une forme optimisée d’une liaison pour les `{Binding RelativeSource={RelativeSource TemplatedParent}}`scénarios de modèle, analogue à une liaison construite avec .</span><span class="sxs-lookup"><span data-stu-id="320ff-152">A `TemplateBinding` is an optimized form of a binding for template scenarios, analogous to a binding constructed with `{Binding RelativeSource={RelativeSource TemplatedParent}}`.</span></span> <span data-ttu-id="320ff-153">`TemplateBinding`est utile pour lier des parties du modèle aux propriétés du contrôle.</span><span class="sxs-lookup"><span data-stu-id="320ff-153">`TemplateBinding` is useful for binding parts of the template to properties of the control.</span></span> <span data-ttu-id="320ff-154">Par exemple, chaque <xref:System.Windows.Controls.Control.BorderThickness> contrôle a une propriété.</span><span class="sxs-lookup"><span data-stu-id="320ff-154">For example, each control has a <xref:System.Windows.Controls.Control.BorderThickness> property.</span></span> <span data-ttu-id="320ff-155">Utilisez `TemplateBinding` un pour gérer quel élément du modèle est affecté par ce paramètre de contrôle.</span><span class="sxs-lookup"><span data-stu-id="320ff-155">Use a `TemplateBinding` to manage which element in the template is affected by this control setting.</span></span>

### <a name="contentcontrol-and-itemscontrol"></a><span data-ttu-id="320ff-156">ContentControl et ItemsControl</span><span class="sxs-lookup"><span data-stu-id="320ff-156">ContentControl and ItemsControl</span></span>

<span data-ttu-id="320ff-157">Si <xref:System.Windows.Controls.ContentPresenter> un est <xref:System.Windows.Controls.ControlTemplate> déclaré <xref:System.Windows.Controls.ContentControl>dans <xref:System.Windows.Controls.ContentPresenter> le d’un <xref:System.Windows.Controls.ContentControl.ContentTemplate%2A> <xref:System.Windows.Controls.ContentControl.Content%2A> , le se lient automatiquement à la et les propriétés.</span><span class="sxs-lookup"><span data-stu-id="320ff-157">If a <xref:System.Windows.Controls.ContentPresenter> is declared in the <xref:System.Windows.Controls.ControlTemplate> of a <xref:System.Windows.Controls.ContentControl>, the <xref:System.Windows.Controls.ContentPresenter> will automatically bind to the <xref:System.Windows.Controls.ContentControl.ContentTemplate%2A> and <xref:System.Windows.Controls.ContentControl.Content%2A> properties.</span></span> <span data-ttu-id="320ff-158">De même, <xref:System.Windows.Controls.ItemsPresenter> un <xref:System.Windows.Controls.ControlTemplate> qui <xref:System.Windows.Controls.ItemsControl> est dans le <xref:System.Windows.Controls.ItemsControl.ItemTemplate%2A> <xref:System.Windows.Controls.ItemsControl.Items%2A> d’un volonté se lient automatiquement à la et les propriétés.</span><span class="sxs-lookup"><span data-stu-id="320ff-158">Likewise, an <xref:System.Windows.Controls.ItemsPresenter> that is in the <xref:System.Windows.Controls.ControlTemplate> of an <xref:System.Windows.Controls.ItemsControl> will automatically bind to the <xref:System.Windows.Controls.ItemsControl.ItemTemplate%2A> and <xref:System.Windows.Controls.ItemsControl.Items%2A> properties.</span></span>

## <a name="datatemplates"></a><span data-ttu-id="320ff-159">Datatemplates</span><span class="sxs-lookup"><span data-stu-id="320ff-159">DataTemplates</span></span>

<span data-ttu-id="320ff-160">Dans cette application d’échantillon, il y a un <xref:System.Windows.Controls.ListBox> contrôle qui est lié à une liste de photos.</span><span class="sxs-lookup"><span data-stu-id="320ff-160">In this sample app, there is a <xref:System.Windows.Controls.ListBox> control that is bound to a list of photos.</span></span>

[!code-xaml[ListBox](~/samples/snippets/desktop-guide/wpf/styles-and-templates-intro/csharp/Window3.xaml#SnippetListBox)]

<span data-ttu-id="320ff-161">Cela <xref:System.Windows.Controls.ListBox> ressemble actuellement à ce qui suit.</span><span class="sxs-lookup"><span data-stu-id="320ff-161">This <xref:System.Windows.Controls.ListBox> currently looks like the following.</span></span>

<span data-ttu-id="320ff-162">![ListBox avant application du modèle](./media/styles-and-templates-overview/stylingintro-listboxbefore.png "StylingIntro_ListBoxBefore")</span><span class="sxs-lookup"><span data-stu-id="320ff-162">![ListBox before applying template](./media/styles-and-templates-overview/stylingintro-listboxbefore.png "StylingIntro_ListBoxBefore")</span></span>

<span data-ttu-id="320ff-163">La plupart des contrôles ont un type de contenu, et ce contenu provient souvent des données que vous liez à ces contrôles.</span><span class="sxs-lookup"><span data-stu-id="320ff-163">Most controls have some type of content, and that content often comes from data that you are binding to.</span></span> <span data-ttu-id="320ff-164">Dans cet exemple, les données sont la liste de photos.</span><span class="sxs-lookup"><span data-stu-id="320ff-164">In this sample, the data is the list of photos.</span></span> <span data-ttu-id="320ff-165">Dans WPF, vous <xref:System.Windows.DataTemplate> utilisez un pour définir la représentation visuelle des données.</span><span class="sxs-lookup"><span data-stu-id="320ff-165">In WPF, you use a <xref:System.Windows.DataTemplate> to define the visual representation of data.</span></span> <span data-ttu-id="320ff-166">Fondamentalement, ce que <xref:System.Windows.DataTemplate> vous mettez dans un détermine à quoi ressemblent les données dans l’application rendue.</span><span class="sxs-lookup"><span data-stu-id="320ff-166">Basically, what you put into a <xref:System.Windows.DataTemplate> determines what the data looks like in the rendered app.</span></span>

<span data-ttu-id="320ff-167">Dans notre application d’échantillon, chaque objet personnalisé `Photo` a une `Source` propriété de chaîne de type qui spécifie le chemin de fichier de l’image.</span><span class="sxs-lookup"><span data-stu-id="320ff-167">In our sample app, each custom `Photo` object has a `Source` property of type string that specifies the file path of the image.</span></span> <span data-ttu-id="320ff-168">Actuellement, les objets photo apparaissent sous forme de chemins d’accès.</span><span class="sxs-lookup"><span data-stu-id="320ff-168">Currently, the photo objects appear as file paths.</span></span>

[!code-csharp[PhotoClass](~/samples/snippets/desktop-guide/wpf/styles-and-templates-intro/csharp/Photo.cs#PhotoClass)]
[!code-vb[PhotoClass](~/samples/snippets/desktop-guide/wpf/styles-and-templates-intro/vb/Photo.vb#PhotoClass)]

<span data-ttu-id="320ff-169">Pour que les photos apparaissent sous <xref:System.Windows.DataTemplate> forme d’images, vous créez une ressource.</span><span class="sxs-lookup"><span data-stu-id="320ff-169">For the photos to appear as images, you create a <xref:System.Windows.DataTemplate> as a resource.</span></span>

[!code-xaml[DataTemplate](~/samples/snippets/desktop-guide/wpf/styles-and-templates-intro/csharp/Window4.xaml#SnippetDataTemplate)]

<span data-ttu-id="320ff-170">Notez <xref:System.Windows.DataTemplate.DataType%2A> que la propriété <xref:System.Windows.Style.TargetType%2A> est <xref:System.Windows.Style>similaire à la propriété de la .</span><span class="sxs-lookup"><span data-stu-id="320ff-170">Notice that the <xref:System.Windows.DataTemplate.DataType%2A> property is similar to the <xref:System.Windows.Style.TargetType%2A> property of the <xref:System.Windows.Style>.</span></span> <span data-ttu-id="320ff-171">Si <xref:System.Windows.DataTemplate> vous êtes dans la section <xref:System.Windows.DataTemplate.DataType%2A> ressources, lorsque vous spécifiez la propriété à un type et ometez un `x:Key`, le <xref:System.Windows.DataTemplate> est appliqué chaque fois que ce type apparaît.</span><span class="sxs-lookup"><span data-stu-id="320ff-171">If your <xref:System.Windows.DataTemplate> is in the resources section, when you specify the <xref:System.Windows.DataTemplate.DataType%2A> property to a type and omit an `x:Key`, the <xref:System.Windows.DataTemplate> is applied whenever that type appears.</span></span> <span data-ttu-id="320ff-172">Vous avez toujours la <xref:System.Windows.DataTemplate> possibilité `x:Key` d’attribuer le `StaticResource` avec un, <xref:System.Windows.DataTemplate> puis le <xref:System.Windows.Controls.ItemsControl.ItemTemplate%2A> définir comme <xref:System.Windows.Controls.ContentControl.ContentTemplate%2A> un pour les propriétés qui prennent des types, tels que la propriété ou la propriété.</span><span class="sxs-lookup"><span data-stu-id="320ff-172">You always have the option to assign the <xref:System.Windows.DataTemplate> with an `x:Key` and then set it as a `StaticResource` for properties that take <xref:System.Windows.DataTemplate> types, such as the <xref:System.Windows.Controls.ItemsControl.ItemTemplate%2A> property or the <xref:System.Windows.Controls.ContentControl.ContentTemplate%2A> property.</span></span>

<span data-ttu-id="320ff-173">Essentiellement, <xref:System.Windows.DataTemplate> l’exemple ci-dessus définit que `Photo` chaque fois qu’il ya un objet, il doit apparaître comme un <xref:System.Windows.Controls.Image> dans un <xref:System.Windows.Controls.Border>.</span><span class="sxs-lookup"><span data-stu-id="320ff-173">Essentially, the <xref:System.Windows.DataTemplate> in the above example defines that whenever there is a `Photo` object, it should appear as an <xref:System.Windows.Controls.Image> within a <xref:System.Windows.Controls.Border>.</span></span> <span data-ttu-id="320ff-174">Avec <xref:System.Windows.DataTemplate>cela, notre application ressemble maintenant à ceci.</span><span class="sxs-lookup"><span data-stu-id="320ff-174">With this <xref:System.Windows.DataTemplate>, our app now looks like this.</span></span>

<span data-ttu-id="320ff-175">![Image photo](./media/styles-and-templates-overview/stylingintro-photosasimages.png "StylingIntro_PhotosAsImages")</span><span class="sxs-lookup"><span data-stu-id="320ff-175">![Photo image](./media/styles-and-templates-overview/stylingintro-photosasimages.png "StylingIntro_PhotosAsImages")</span></span>

<span data-ttu-id="320ff-176">Le modèle de création de modèles fournit d’autres fonctionnalités.</span><span class="sxs-lookup"><span data-stu-id="320ff-176">The data templating model provides other features.</span></span> <span data-ttu-id="320ff-177">Par exemple, si vous affichez des données <xref:System.Windows.Controls.HeaderedItemsControl> de collecte <xref:System.Windows.Controls.Menu> qui <xref:System.Windows.Controls.TreeView>contiennent d’autres collections à l’aide d’un type tel que a ou a , il ya le <xref:System.Windows.HierarchicalDataTemplate>.</span><span class="sxs-lookup"><span data-stu-id="320ff-177">For example, if you are displaying collection data that contains other collections using a <xref:System.Windows.Controls.HeaderedItemsControl> type such as a <xref:System.Windows.Controls.Menu> or a <xref:System.Windows.Controls.TreeView>, there is the <xref:System.Windows.HierarchicalDataTemplate>.</span></span> <span data-ttu-id="320ff-178">Une autre fonctionnalité de <xref:System.Windows.Controls.DataTemplateSelector>templating de données <xref:System.Windows.DataTemplate> est le , qui vous permet de choisir un à utiliser en fonction de la logique personnalisée.</span><span class="sxs-lookup"><span data-stu-id="320ff-178">Another data templating feature is the <xref:System.Windows.Controls.DataTemplateSelector>, which allows you to choose a <xref:System.Windows.DataTemplate> to use based on custom logic.</span></span> <span data-ttu-id="320ff-179">Pour plus d’informations, consultez l’article [Vue d'ensemble des modèles de données](../../framework/wpf/data/data-templating-overview.md), qui fournit une discussion plus approfondie sur les différentes fonctionnalités de création de modèles de données.</span><span class="sxs-lookup"><span data-stu-id="320ff-179">For more information, see [Data Templating Overview](../../framework/wpf/data/data-templating-overview.md), which provides a more in-depth discussion of the different data templating features.</span></span>

## <a name="triggers"></a><span data-ttu-id="320ff-180">Déclencheurs</span><span class="sxs-lookup"><span data-stu-id="320ff-180">Triggers</span></span>

<span data-ttu-id="320ff-181">Un déclencheur définit des propriétés ou démarre des actions, par exemple une animation, lorsqu’une valeur de propriété change ou lorsqu’un événement est déclenché.</span><span class="sxs-lookup"><span data-stu-id="320ff-181">A trigger sets properties or starts actions, such as an animation, when a property value changes or when an event is raised.</span></span> <span data-ttu-id="320ff-182"><xref:System.Windows.Style>, <xref:System.Windows.Controls.ControlTemplate>et <xref:System.Windows.DataTemplate> tous `Triggers` ont une propriété qui peut contenir un ensemble de déclencheurs.</span><span class="sxs-lookup"><span data-stu-id="320ff-182"><xref:System.Windows.Style>, <xref:System.Windows.Controls.ControlTemplate>, and <xref:System.Windows.DataTemplate> all have a `Triggers` property that can contain a set of triggers.</span></span> <span data-ttu-id="320ff-183">Il existe plusieurs types de déclencheurs.</span><span class="sxs-lookup"><span data-stu-id="320ff-183">There are several types of triggers.</span></span>

### <a name="propertytriggers"></a><span data-ttu-id="320ff-184">PropriétéTriggers</span><span class="sxs-lookup"><span data-stu-id="320ff-184">PropertyTriggers</span></span>

<span data-ttu-id="320ff-185">Un <xref:System.Windows.Trigger> qui établit la valeur de propriété ou commence des actions basées sur la valeur d’une propriété est appelé un déclencheur de propriété.</span><span class="sxs-lookup"><span data-stu-id="320ff-185">A <xref:System.Windows.Trigger> that sets property values or starts actions based on the value of a property is called a property trigger.</span></span>

<span data-ttu-id="320ff-186">Pour démontrer comment utiliser les déclencheurs <xref:System.Windows.Controls.ListBoxItem> de propriété, vous pouvez rendre chacun partiellement transparent à moins qu’il ne soit sélectionné.</span><span class="sxs-lookup"><span data-stu-id="320ff-186">To demonstrate how to use property triggers, you can make each <xref:System.Windows.Controls.ListBoxItem> partially transparent unless it is selected.</span></span> <span data-ttu-id="320ff-187">Le style suivant <xref:System.Windows.UIElement.Opacity%2A> définit <xref:System.Windows.Controls.ListBoxItem> la `0.5`valeur d’un à .</span><span class="sxs-lookup"><span data-stu-id="320ff-187">The following style sets the <xref:System.Windows.UIElement.Opacity%2A> value of a <xref:System.Windows.Controls.ListBoxItem> to `0.5`.</span></span> <span data-ttu-id="320ff-188">Lorsque <xref:System.Windows.Controls.ListBoxItem.IsSelected%2A> la `true`propriété est, <xref:System.Windows.UIElement.Opacity%2A> cependant, `1.0`le est réglé à .</span><span class="sxs-lookup"><span data-stu-id="320ff-188">When the <xref:System.Windows.Controls.ListBoxItem.IsSelected%2A> property is `true`, however, the <xref:System.Windows.UIElement.Opacity%2A> is set to `1.0`.</span></span>

[!code-xaml[PropertyTrigger](~/samples/snippets/desktop-guide/wpf/styles-and-templates-intro/csharp/Window5.xaml#SnippetPropertyTrigger)]

<span data-ttu-id="320ff-189">Cet exemple <xref:System.Windows.Trigger> utilise un pour définir une <xref:System.Windows.Trigger> valeur de <xref:System.Windows.TriggerBase.EnterActions%2A> propriété, mais notez que la classe a également le et <xref:System.Windows.TriggerBase.ExitActions%2A> les propriétés qui permettent à un déclencheur d’effectuer des actions.</span><span class="sxs-lookup"><span data-stu-id="320ff-189">This example uses a <xref:System.Windows.Trigger> to set a property value, but note that the <xref:System.Windows.Trigger> class also has the <xref:System.Windows.TriggerBase.EnterActions%2A> and <xref:System.Windows.TriggerBase.ExitActions%2A> properties that enable a trigger to perform actions.</span></span>

<span data-ttu-id="320ff-190">Notez <xref:System.Windows.FrameworkElement.MaxHeight%2A> que la <xref:System.Windows.Controls.ListBoxItem> propriété `75`de la est définie à .</span><span class="sxs-lookup"><span data-stu-id="320ff-190">Notice that the <xref:System.Windows.FrameworkElement.MaxHeight%2A> property of the <xref:System.Windows.Controls.ListBoxItem> is set to `75`.</span></span> <span data-ttu-id="320ff-191">Dans l’illustration suivante, le troisième élément est l’élément sélectionné.</span><span class="sxs-lookup"><span data-stu-id="320ff-191">In the following illustration, the third item is the selected item.</span></span>

<span data-ttu-id="320ff-192">![Vue de la liste mise en forme avec des styles](./media/styles-and-templates-overview/stylingintro-triggers.png "StylingIntro_triggers")</span><span class="sxs-lookup"><span data-stu-id="320ff-192">![Styled ListView](./media/styles-and-templates-overview/stylingintro-triggers.png "StylingIntro_triggers")</span></span>

### <a name="eventtriggers-and-storyboards"></a><span data-ttu-id="320ff-193">EventTriggers et tables de montage séquentiel</span><span class="sxs-lookup"><span data-stu-id="320ff-193">EventTriggers and Storyboards</span></span>

<span data-ttu-id="320ff-194">Un autre type <xref:System.Windows.EventTrigger>de déclencheur est le , qui commence un ensemble d’actions basées sur l’occurrence d’un événement.</span><span class="sxs-lookup"><span data-stu-id="320ff-194">Another type of trigger is the <xref:System.Windows.EventTrigger>, which starts a set of actions based on the occurrence of an event.</span></span> <span data-ttu-id="320ff-195">Par exemple, <xref:System.Windows.EventTrigger> les objets suivants spécifient que lorsque le pointeur de la souris entre dans le <xref:System.Windows.Controls.ListBoxItem>, la <xref:System.Windows.FrameworkElement.MaxHeight%2A> propriété est animée à une valeur de plus d’une `90` `0.2` deuxième période.</span><span class="sxs-lookup"><span data-stu-id="320ff-195">For example, the following <xref:System.Windows.EventTrigger> objects specify that when the mouse pointer enters the <xref:System.Windows.Controls.ListBoxItem>, the <xref:System.Windows.FrameworkElement.MaxHeight%2A> property animates to a value of `90` over a `0.2` second period.</span></span> <span data-ttu-id="320ff-196">Lorsque la souris s’éloigne de l’élément, la propriété retourne à sa valeur d’origine pendant une période de `1` seconde.</span><span class="sxs-lookup"><span data-stu-id="320ff-196">When the mouse moves away from the item, the property returns to the original value over a period of `1` second.</span></span> <span data-ttu-id="320ff-197">Notez comment il n’est pas nécessaire de spécifier une <xref:System.Windows.Media.Animation.DoubleAnimation.To%2A> valeur pour l’animation. <xref:System.Windows.ContentElement.MouseLeave></span><span class="sxs-lookup"><span data-stu-id="320ff-197">Note how it is not necessary to specify a <xref:System.Windows.Media.Animation.DoubleAnimation.To%2A> value for the <xref:System.Windows.ContentElement.MouseLeave> animation.</span></span> <span data-ttu-id="320ff-198">L’animation est en effet capable d’effectuer le suivi de la valeur d’origine.</span><span class="sxs-lookup"><span data-stu-id="320ff-198">This is because the animation is able to keep track of the original value.</span></span>

[!code-xaml[StyleEventTriggers](~/samples/snippets/desktop-guide/wpf/styles-and-templates-intro/csharp/Window6.xaml#SnippetStyleEventTriggers)]

<span data-ttu-id="320ff-199">Pour plus d’informations, voir la [vue d’ensemble Storyboards](../../framework/wpf/graphics-multimedia/storyboards-overview.md).</span><span class="sxs-lookup"><span data-stu-id="320ff-199">For more information, see the [Storyboards overview](../../framework/wpf/graphics-multimedia/storyboards-overview.md).</span></span>

<span data-ttu-id="320ff-200">Dans l’illustration suivante, la souris pointe vers le troisième élément.</span><span class="sxs-lookup"><span data-stu-id="320ff-200">In the following illustration, the mouse is pointing to the third item.</span></span>

<span data-ttu-id="320ff-201">![Capture d’écran d’échantillon de style](./media/styles-and-templates-overview/stylingintro-eventtriggers.png "StylingIntro_EventTriggers")</span><span class="sxs-lookup"><span data-stu-id="320ff-201">![Styling sample screenshot](./media/styles-and-templates-overview/stylingintro-eventtriggers.png "StylingIntro_EventTriggers")</span></span>

### <a name="multitriggers-datatriggers-and-multidatatriggers"></a><span data-ttu-id="320ff-202">MultiTriggers, DataTriggers et MultiDataTriggers</span><span class="sxs-lookup"><span data-stu-id="320ff-202">MultiTriggers, DataTriggers, and MultiDataTriggers</span></span>

<span data-ttu-id="320ff-203">En plus <xref:System.Windows.Trigger> <xref:System.Windows.EventTrigger>de et , il existe d’autres types de déclencheurs.</span><span class="sxs-lookup"><span data-stu-id="320ff-203">In addition to <xref:System.Windows.Trigger> and <xref:System.Windows.EventTrigger>, there are other types of triggers.</span></span> <span data-ttu-id="320ff-204"><xref:System.Windows.MultiTrigger>vous permet de définir les valeurs de propriété en fonction de plusieurs conditions.</span><span class="sxs-lookup"><span data-stu-id="320ff-204"><xref:System.Windows.MultiTrigger> allows you to set property values based on multiple conditions.</span></span> <span data-ttu-id="320ff-205">Vous <xref:System.Windows.DataTrigger> utilisez <xref:System.Windows.MultiDataTrigger> et lorsque la propriété de votre état est liée aux données.</span><span class="sxs-lookup"><span data-stu-id="320ff-205">You use <xref:System.Windows.DataTrigger> and <xref:System.Windows.MultiDataTrigger> when the property of your condition is data-bound.</span></span>

## <a name="visual-states"></a><span data-ttu-id="320ff-206">États visuels</span><span class="sxs-lookup"><span data-stu-id="320ff-206">Visual States</span></span>

<span data-ttu-id="320ff-207">Les contrôles sont toujours dans un **état**spécifique .</span><span class="sxs-lookup"><span data-stu-id="320ff-207">Controls are always in a specific **state**.</span></span> <span data-ttu-id="320ff-208">Par exemple, lorsque la souris se déplace sur la surface d’un `MouseOver`contrôle, le contrôle est considéré comme étant dans un état commun de .</span><span class="sxs-lookup"><span data-stu-id="320ff-208">For example, when the mouse moves over the surface of a control, the control is considered to be in a common state of `MouseOver`.</span></span> <span data-ttu-id="320ff-209">Un contrôle sans état spécifique est considéré `Normal` comme étant dans l’état commun.</span><span class="sxs-lookup"><span data-stu-id="320ff-209">A control without a specific state is considered to be in the common `Normal` state.</span></span> <span data-ttu-id="320ff-210">Les États sont divisés en groupes, et les `CommonStates`États mentionnés précédemment font partie du groupe d’État .</span><span class="sxs-lookup"><span data-stu-id="320ff-210">States are broken into groups, and the previously mentioned states are part of the state group `CommonStates`.</span></span> <span data-ttu-id="320ff-211">La plupart des contrôles `CommonStates` `FocusStates`ont deux groupes d’État: et .</span><span class="sxs-lookup"><span data-stu-id="320ff-211">Most controls have two state groups: `CommonStates` and `FocusStates`.</span></span> <span data-ttu-id="320ff-212">De chaque groupe d’État appliqué à un contrôle, un contrôle `CommonStates.MouseOver` `FocusStates.Unfocused`est toujours dans un état de chaque groupe, tel que et .</span><span class="sxs-lookup"><span data-stu-id="320ff-212">Of each state group applied to a control, a control is always in one state of each group, such as `CommonStates.MouseOver` and `FocusStates.Unfocused`.</span></span> <span data-ttu-id="320ff-213">Cependant, un contrôle ne peut pas être dans deux `CommonStates.Normal` états `CommonStates.Disabled`différents au sein d’un même groupe, tels que et .</span><span class="sxs-lookup"><span data-stu-id="320ff-213">However, a control can't be in two different states within the same group, such as `CommonStates.Normal` and `CommonStates.Disabled`.</span></span> <span data-ttu-id="320ff-214">Voici un tableau des États que la plupart des contrôles reconnaissent et utilisent.</span><span class="sxs-lookup"><span data-stu-id="320ff-214">Here is a table of states most controls recognize and use.</span></span>

| <span data-ttu-id="320ff-215">Nom VisualState</span><span class="sxs-lookup"><span data-stu-id="320ff-215">VisualState Name</span></span> | <span data-ttu-id="320ff-216">Nom VisualStateGroup</span><span class="sxs-lookup"><span data-stu-id="320ff-216">VisualStateGroup Name</span></span> | <span data-ttu-id="320ff-217">Description</span><span class="sxs-lookup"><span data-stu-id="320ff-217">Description</span></span> |
| ---------------- | --------------------- | ----------- |
| <span data-ttu-id="320ff-218">Normal</span><span class="sxs-lookup"><span data-stu-id="320ff-218">Normal</span></span>           | <span data-ttu-id="320ff-219">CommonStates</span><span class="sxs-lookup"><span data-stu-id="320ff-219">CommonStates</span></span>          | <span data-ttu-id="320ff-220">État par défaut.</span><span class="sxs-lookup"><span data-stu-id="320ff-220">The default state.</span></span> |
| <span data-ttu-id="320ff-221">MouseOver</span><span class="sxs-lookup"><span data-stu-id="320ff-221">MouseOver</span></span>        | <span data-ttu-id="320ff-222">CommonStates</span><span class="sxs-lookup"><span data-stu-id="320ff-222">CommonStates</span></span>          | <span data-ttu-id="320ff-223">Le pointeur de souris est positionné sur le contrôle.</span><span class="sxs-lookup"><span data-stu-id="320ff-223">The mouse pointer is positioned over the control.</span></span> |
| <span data-ttu-id="320ff-224">Appuyé</span><span class="sxs-lookup"><span data-stu-id="320ff-224">Pressed</span></span>          | <span data-ttu-id="320ff-225">CommonStates</span><span class="sxs-lookup"><span data-stu-id="320ff-225">CommonStates</span></span>          | <span data-ttu-id="320ff-226">Le contrôle est enfoncé.</span><span class="sxs-lookup"><span data-stu-id="320ff-226">The control is pressed.</span></span> |
| <span data-ttu-id="320ff-227">Désactivé</span><span class="sxs-lookup"><span data-stu-id="320ff-227">Disabled</span></span>         | <span data-ttu-id="320ff-228">CommonStates</span><span class="sxs-lookup"><span data-stu-id="320ff-228">CommonStates</span></span>          | <span data-ttu-id="320ff-229">Le contrôle est désactivé.</span><span class="sxs-lookup"><span data-stu-id="320ff-229">The control is disabled.</span></span> |
| <span data-ttu-id="320ff-230">Avec focus</span><span class="sxs-lookup"><span data-stu-id="320ff-230">Focused</span></span>          | <span data-ttu-id="320ff-231">FocusStates</span><span class="sxs-lookup"><span data-stu-id="320ff-231">FocusStates</span></span>           | <span data-ttu-id="320ff-232">Le contrôle a le focus.</span><span class="sxs-lookup"><span data-stu-id="320ff-232">The control has focus.</span></span> |
| <span data-ttu-id="320ff-233">Sans focus</span><span class="sxs-lookup"><span data-stu-id="320ff-233">Unfocused</span></span>        | <span data-ttu-id="320ff-234">FocusStates</span><span class="sxs-lookup"><span data-stu-id="320ff-234">FocusStates</span></span>           | <span data-ttu-id="320ff-235">Le contrôle n’a pas le focus.</span><span class="sxs-lookup"><span data-stu-id="320ff-235">The control does not have focus.</span></span> |

<span data-ttu-id="320ff-236">En définissant un <xref:System.Windows.VisualStateManager?displayProperty=fullName> élément sur la racine d’un modèle de contrôle, vous pouvez déclencher des animations lorsqu’un contrôle entre dans un état spécifique.</span><span class="sxs-lookup"><span data-stu-id="320ff-236">By defining a <xref:System.Windows.VisualStateManager?displayProperty=fullName> on the root element of a control template, you can trigger animations when a control enters a specific state.</span></span> <span data-ttu-id="320ff-237">Le `VisualStateManager` déclare quelles combinaisons et <xref:System.Windows.VisualStateGroup> <xref:System.Windows.VisualState> à regarder.</span><span class="sxs-lookup"><span data-stu-id="320ff-237">The `VisualStateManager` declares which combinations of <xref:System.Windows.VisualStateGroup> and <xref:System.Windows.VisualState> to watch.</span></span> <span data-ttu-id="320ff-238">Lorsque le contrôle entre dans un état `VisaulStateManager` surveillé, l’animation définie par le est commencé.</span><span class="sxs-lookup"><span data-stu-id="320ff-238">When the control enters a watched state, the animation defined by the `VisaulStateManager` is started.</span></span>

<span data-ttu-id="320ff-239">Par exemple, le code XAML suivant surveille l’état `CommonStates.MouseOver` pour `backgroundElement`animer la couleur de remplissage de l’élément nommé .</span><span class="sxs-lookup"><span data-stu-id="320ff-239">For example, the following XAML code watches the `CommonStates.MouseOver` state to animate the fill color of the element named `backgroundElement`.</span></span> <span data-ttu-id="320ff-240">Lorsque le contrôle `CommonStates.Normal` retourne à l’état, `backgroundElement` la couleur de remplissage de l’élément nommé est restaurée.</span><span class="sxs-lookup"><span data-stu-id="320ff-240">When the control returns to the `CommonStates.Normal` state, the fill color of the element named `backgroundElement` is restored.</span></span>

```xaml
<ControlTemplate x:Key="roundbutton" TargetType="Button">
    <Grid>
        <VisualStateManager.VisualStateGroups>
            <VisualStateGroup Name="CommonStates">
                <VisualState Name="Normal">
                    <ColorAnimation Storyboard.TargetName="backgroundElement"
                                    Storyboard.TargetProperty="(Shape.Fill).(SolidColorBrush.Color)"
                                    To="{TemplateBinding Background}"
                                    Duration="0:0:0.3"/>
                </VisualState>
                <VisualState Name="MouseOver">
                    <ColorAnimation Storyboard.TargetName="backgroundElement"
                                    Storyboard.TargetProperty="(Shape.Fill).(SolidColorBrush.Color)"
                                    To="Yellow"
                                    Duration="0:0:0.3"/>
                </VisualState>
            </VisualStateGroup>
        </VisualStateManager.VisualStateGroups>

        ...
```

<span data-ttu-id="320ff-241">Pour plus d’informations sur les storyboards, voir [Storyboards Aperçu](../../framework/wpf/graphics-multimedia/storyboards-overview.md).</span><span class="sxs-lookup"><span data-stu-id="320ff-241">For more information about storyboards, see [Storyboards Overview](../../framework/wpf/graphics-multimedia/storyboards-overview.md).</span></span>

## <a name="shared-resources-and-themes"></a><span data-ttu-id="320ff-242">Ressources et thèmes partagés</span><span class="sxs-lookup"><span data-stu-id="320ff-242">Shared resources and themes</span></span>

<span data-ttu-id="320ff-243">Une application WPF typique peut avoir plusieurs ressources d’interface utilisateur qui sont appliquées dans l’ensemble de l’application.</span><span class="sxs-lookup"><span data-stu-id="320ff-243">A typical WPF app might have multiple UI resources that are applied throughout the app.</span></span> <span data-ttu-id="320ff-244">Collectivement, cet ensemble de ressources peut être considéré comme le thème de l’application.</span><span class="sxs-lookup"><span data-stu-id="320ff-244">Collectively, this set of resources can be considered the theme for the app.</span></span> <span data-ttu-id="320ff-245">WPF fournit un soutien pour l’emballage des ressources d’interface utilisateur <xref:System.Windows.ResourceDictionary> comme un thème en utilisant un dictionnaire de ressources qui est encapsulé comme la classe.</span><span class="sxs-lookup"><span data-stu-id="320ff-245">WPF provides support for packaging UI resources as a theme by using a resource dictionary that is encapsulated as the <xref:System.Windows.ResourceDictionary> class.</span></span>

<span data-ttu-id="320ff-246">Les thèmes WPF sont définis en utilisant le mécanisme de style et de templating que WPF expose pour personnaliser les visuels de n’importe quel élément.</span><span class="sxs-lookup"><span data-stu-id="320ff-246">WPF themes are defined by using the styling and templating mechanism that WPF exposes for customizing the visuals of any element.</span></span>

<span data-ttu-id="320ff-247">Les ressources thématiques du WPF sont stockées dans des dictionnaires de ressources intégrés.</span><span class="sxs-lookup"><span data-stu-id="320ff-247">WPF theme resources are stored in embedded resource dictionaries.</span></span> <span data-ttu-id="320ff-248">Ces dictionnaires de ressources doivent être incorporés dans un assembly signé, et peuvent être incorporés dans le même assembly que le code lui-même, ou bien dans un assembly parallèle.</span><span class="sxs-lookup"><span data-stu-id="320ff-248">These resource dictionaries must be embedded within a signed assembly, and can either be embedded in the same assembly as the code itself or in a side-by-side assembly.</span></span> <span data-ttu-id="320ff-249">Pour PresentationFramework.dll, l’assemblage qui contient des contrôles WPF, les ressources thématiques sont dans une série d’assemblages côte à côte.</span><span class="sxs-lookup"><span data-stu-id="320ff-249">For PresentationFramework.dll, the assembly that contains WPF controls, theme resources are in a series of side-by-side assemblies.</span></span>

<span data-ttu-id="320ff-250">Le thème est alors le dernier emplacement à consulter lors de la recherche du style d’un élément.</span><span class="sxs-lookup"><span data-stu-id="320ff-250">The theme becomes the last place to look when searching for the style of an element.</span></span> <span data-ttu-id="320ff-251">Typiquement, la recherche commencera par marcher jusqu’à l’arbre élément à la recherche d’une ressource appropriée, puis regarder dans la collecte des ressources de l’application et enfin interroger le système.</span><span class="sxs-lookup"><span data-stu-id="320ff-251">Typically, the search will begin by walking up the element tree searching for an appropriate resource, then look in the app resource collection and finally query the system.</span></span> <span data-ttu-id="320ff-252">Cela donne aux développeurs d’applications une chance de redéfinir le style de tout objet au niveau de l’arbre ou de l’application avant d’atteindre le thème.</span><span class="sxs-lookup"><span data-stu-id="320ff-252">This gives app developers a chance to redefine the style for any object at the tree or app level before reaching the theme.</span></span>

<span data-ttu-id="320ff-253">Vous pouvez définir les dictionnaires de ressources comme des fichiers individuels qui vous permettent de réutiliser un thème sur plusieurs applications.</span><span class="sxs-lookup"><span data-stu-id="320ff-253">You can define resource dictionaries as individual files that enable you to reuse a theme across multiple apps.</span></span> <span data-ttu-id="320ff-254">Vous pouvez également créer des thèmes permutables en définissant plusieurs dictionnaires de ressources qui fournissent les mêmes types de ressources mais avec des valeurs différentes.</span><span class="sxs-lookup"><span data-stu-id="320ff-254">You can also create swappable themes by defining multiple resource dictionaries that provide the same types of resources but with different values.</span></span> <span data-ttu-id="320ff-255">Redéfinir ces styles ou d’autres ressources au niveau de l’application est l’approche recommandée pour dépecer une application.</span><span class="sxs-lookup"><span data-stu-id="320ff-255">Redefining these styles or other resources at the app level is the recommended approach for skinning an app.</span></span>

<span data-ttu-id="320ff-256">Pour partager un ensemble de ressources, y compris des styles et des modèles, <xref:System.Windows.ResourceDictionary> entre les `shared.xaml` applications, vous pouvez créer un fichier XAML et définir un qui inclut la référence à un fichier.</span><span class="sxs-lookup"><span data-stu-id="320ff-256">To share a set of resources, including styles and templates, across apps, you can create a XAML file and define a <xref:System.Windows.ResourceDictionary> that includes reference to a `shared.xaml` file.</span></span>

```xaml
<ResourceDictionary.MergedDictionaries>
  <ResourceDictionary Source="Shared.xaml" />
</ResourceDictionary.MergedDictionaries>
```

<span data-ttu-id="320ff-257">C’est le `shared.xaml`partage de , <xref:System.Windows.ResourceDictionary> qui définit lui-même un qui contient un ensemble de ressources de style et de pinceau, qui permet aux contrôles dans une application d’avoir un look cohérent.</span><span class="sxs-lookup"><span data-stu-id="320ff-257">It is the sharing of `shared.xaml`, which itself defines a <xref:System.Windows.ResourceDictionary> that contains a set of style and brush resources, that enables the controls in an app to have a consistent look.</span></span>

<span data-ttu-id="320ff-258">Pour plus d’informations, voir [dictionnaires de ressources fusionnés](../../framework/wpf/advanced/merged-resource-dictionaries.md).</span><span class="sxs-lookup"><span data-stu-id="320ff-258">For more information, see [Merged resource dictionaries](../../framework/wpf/advanced/merged-resource-dictionaries.md).</span></span>

<span data-ttu-id="320ff-259">Si vous créez un thème pour votre contrôle personnalisé, consultez les **ressources De définition à la** section thème de l’aperçu de [l’auteur de contrôle](../../framework/wpf/controls/control-authoring-overview.md#defining-resources-at-the-theme-level).</span><span class="sxs-lookup"><span data-stu-id="320ff-259">If you are creating a theme for your custom control, see the **Defining resources at the theme level** section of the [Control authoring overview](../../framework/wpf/controls/control-authoring-overview.md#defining-resources-at-the-theme-level).</span></span>

## <a name="see-also"></a><span data-ttu-id="320ff-260">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="320ff-260">See also</span></span>

- [<span data-ttu-id="320ff-261">URI à en-tête pack dans WPF</span><span class="sxs-lookup"><span data-stu-id="320ff-261">Pack URIs in WPF</span></span>](../../framework/wpf/app-development/pack-uris-in-wpf.md)
- [<span data-ttu-id="320ff-262">Guide pratique pour rechercher des éléments générés par ControlTemplate</span><span class="sxs-lookup"><span data-stu-id="320ff-262">How to: Find ControlTemplate-Generated Elements</span></span>](../../framework/wpf/controls/how-to-find-controltemplate-generated-elements.md)
- [<span data-ttu-id="320ff-263">Trouver des éléments générés par DataTemplate</span><span class="sxs-lookup"><span data-stu-id="320ff-263">Find DataTemplate-Generated Elements</span></span>](../../framework/wpf/data/how-to-find-datatemplate-generated-elements.md)
