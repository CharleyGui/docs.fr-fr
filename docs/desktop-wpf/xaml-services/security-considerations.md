---
title: Considérations sur la sécurité XAML
ms.date: 03/30/2017
helpviewer_keywords:
- security [XAML Services], .NET XAML services
- XAML security [XAML Services]
ms.assetid: 544296d4-f38e-4498-af49-c9f4dad28964
ms.openlocfilehash: 1864910b339c74e3033fb4d6d8baebffada1a4f8
ms.sourcegitcommit: c2d9718996402993cf31541f11e95531bc68bad0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 02/27/2020
ms.locfileid: "82071688"
---
# <a name="xaml-security-considerations"></a><span data-ttu-id="45428-102">Considérations de sécurité XAML</span><span class="sxs-lookup"><span data-stu-id="45428-102">XAML security considerations</span></span>

<span data-ttu-id="45428-103">Cet article décrit les meilleures pratiques de sécurité dans les applications lorsque vous utilisez XAML et .NET XAML Services API.</span><span class="sxs-lookup"><span data-stu-id="45428-103">This article describes best practices for security in applications when you use XAML and .NET XAML Services API.</span></span>

## <a name="untrusted-xaml-in-applications"></a><span data-ttu-id="45428-104">XAML non fiable dans les applications</span><span class="sxs-lookup"><span data-stu-id="45428-104">Untrusted XAML in Applications</span></span>

<span data-ttu-id="45428-105">Dans le sens le plus général, XAML non fiable est toute source XAML que votre application n’a pas spécifiquement inclure ou émettre.</span><span class="sxs-lookup"><span data-stu-id="45428-105">In the most general sense, untrusted XAML is any XAML source that your application did not specifically include or emit.</span></span>

<span data-ttu-id="45428-106">XAML qui est compilé ou `resx`stocké comme une ressource de type dans un assemblage de confiance et signé n’est pas intrinsèquement non fiable.</span><span class="sxs-lookup"><span data-stu-id="45428-106">XAML that is compiled into or stored as a `resx`-type resource within a trusted and signed assembly is not inherently untrusted.</span></span> <span data-ttu-id="45428-107">Vous pouvez faire confiance au XAML autant que vous faites confiance à l’assemblage dans son ensemble.</span><span class="sxs-lookup"><span data-stu-id="45428-107">You can trust the XAML as much as you trust the assembly as a whole.</span></span> <span data-ttu-id="45428-108">Dans la plupart des cas, vous n’êtes concerné que par les aspects de confiance de XAML lâche, qui est une source XAML que vous chargez à partir d’un flux ou d’autres I / O.</span><span class="sxs-lookup"><span data-stu-id="45428-108">In most cases, you are only concerned with the trust aspects of loose XAML, which is a XAML source that you load from a stream or other I/O.</span></span> <span data-ttu-id="45428-109">Loose XAML n’est pas un composant ou une fonctionnalité spécifique d’un modèle d’application avec une infrastructure de déploiement et d’emballage.</span><span class="sxs-lookup"><span data-stu-id="45428-109">Loose XAML is not a specific component or feature of an application model with a deployment and packaging infrastructure.</span></span> <span data-ttu-id="45428-110">Cependant, un assemblage peut mettre en œuvre un comportement qui implique le chargement lâche XAML.</span><span class="sxs-lookup"><span data-stu-id="45428-110">However, an assembly might implement a behavior that involves loading loose XAML.</span></span>

<span data-ttu-id="45428-111">Pour XAML non fiable, vous devez le traiter généralement de la même façon que s’il s’agissait d’un code non fiable.</span><span class="sxs-lookup"><span data-stu-id="45428-111">For untrusted XAML, you should treat it generally the same as if it were untrusted code.</span></span> <span data-ttu-id="45428-112">Utilisez le bac à sable ou d’autres métaphores pour empêcher XAML, qui n’est peut-être pas fiable, d’accéder à votre code de confiance.</span><span class="sxs-lookup"><span data-stu-id="45428-112">Use sandboxing or other metaphors to prevent possibly untrusted XAML from accessing your trusted code.</span></span>

<span data-ttu-id="45428-113">La nature des capacités XAML donne au XAML le droit de construire des objets et de définir leurs propriétés.</span><span class="sxs-lookup"><span data-stu-id="45428-113">The nature of XAML capabilities gives the XAML the right to construct objects and set their properties.</span></span> <span data-ttu-id="45428-114">Ces capacités comprennent également l’accès aux convertisseurs de type, la cartographie `x:Code` et l’accès aux assemblages dans le domaine de l’application, en utilisant des extensions de balisage, des blocs, et ainsi de suite.</span><span class="sxs-lookup"><span data-stu-id="45428-114">These capabilities also include accessing type converters, mapping and accessing assemblies in the application domain, using markup extensions, `x:Code` blocks, and so on.</span></span>

<span data-ttu-id="45428-115">En plus de ses capacités linguistiques, XAML est utilisé pour la définition de l’interface utilisateur dans de nombreuses technologies.</span><span class="sxs-lookup"><span data-stu-id="45428-115">In addition to its language-level capabilities, XAML is used for UI definition in many technologies.</span></span> <span data-ttu-id="45428-116">Le chargement de XAML non fiable peut signifier le chargement d’une interface utilisateur malveillante usurpant.</span><span class="sxs-lookup"><span data-stu-id="45428-116">Loading untrusted XAML might mean loading a malicious spoofing UI.</span></span>

## <a name="sharing-context-between-readers-and-writers"></a><span data-ttu-id="45428-117">Partager le contexte entre les lecteurs et les écrivains</span><span class="sxs-lookup"><span data-stu-id="45428-117">Sharing Context Between Readers and Writers</span></span>

<span data-ttu-id="45428-118">.NET XAML Services architecture pour les lecteurs XAML et les écrivains XAML nécessite souvent de partager un lecteur XAML à un écrivain XAML, ou un contexte de schéma XAML partagé.</span><span class="sxs-lookup"><span data-stu-id="45428-118">.NET XAML Services architecture for XAML readers and XAML writers often requires sharing a XAML reader to a XAML writer, or a shared XAML schema context.</span></span> <span data-ttu-id="45428-119">Le partage d’objets ou de contextes peut être nécessaire si vous écrivez la logique de boucle de nœud XAML, ou si vous fournissez un chemin d’enregistrement personnalisé.</span><span class="sxs-lookup"><span data-stu-id="45428-119">Sharing objects or contexts might be required if you are writing XAML node loop logic, or providing a custom save path.</span></span> <span data-ttu-id="45428-120">Ne partagez pas les instances des lecteurs XAML, le contexte du schéma XAML non responsable ou les paramètres des cours de lecteur/écrivain XAML entre le code de confiance et le code non fiable.</span><span class="sxs-lookup"><span data-stu-id="45428-120">Don't share XAML reader instances, nondefault XAML schema context, or settings for XAML reader/writer classes between trusted and untrusted code.</span></span>

<span data-ttu-id="45428-121">La plupart des scénarios et des opérations impliquant l’écriture d’objets XAML pour un support de type CLR peut simplement utiliser le contexte de schéma XAML par défaut.</span><span class="sxs-lookup"><span data-stu-id="45428-121">Most scenarios and operations involving XAML object writing for a CLR-based type backing can just use default XAML schema context.</span></span> <span data-ttu-id="45428-122">Le contexte du schéma XAML par défaut n’inclut pas explicitement les paramètres qui pourraient compromettre la pleine confiance.</span><span class="sxs-lookup"><span data-stu-id="45428-122">The default XAML schema context does not explicitly include settings that could compromise full trust.</span></span> <span data-ttu-id="45428-123">Il est donc sûr de partager le contexte entre les composants fiables et non fiables de lecteur/écrivain de XAML.</span><span class="sxs-lookup"><span data-stu-id="45428-123">It is thus safe to share context between trusted and untrusted XAML reader/writer components.</span></span> <span data-ttu-id="45428-124">Cependant, si vous faites cela, il est toujours une pratique <xref:System.AppDomain> exemplaire de garder ces lecteurs et écrivains dans des portées distinctes, avec l’un d’eux spécifiquement destiné / sandboxed pour la confiance partielle.</span><span class="sxs-lookup"><span data-stu-id="45428-124">However, if you do this, it is still a best practice to keep such readers and writers in separate <xref:System.AppDomain> scopes, with one of them specifically intended/sandboxed for partial trust.</span></span>

## <a name="xaml-namespaces-and-assembly-trust"></a><span data-ttu-id="45428-125">XAML Namespaces et Assembly Trust</span><span class="sxs-lookup"><span data-stu-id="45428-125">XAML Namespaces and Assembly Trust</span></span>

<span data-ttu-id="45428-126">La syntaxe et la définition non qualifiées de base pour la façon dont XAML interprète une cartographie personnalisée XAML namespace à un assemblage ne fait pas de distinction entre un assemblage de confiance et un assemblage non fiable tel qu’il est chargé dans le domaine de l’application.</span><span class="sxs-lookup"><span data-stu-id="45428-126">The basic unqualified syntax and definition for how XAML interprets a custom XAML namespace mapping to an assembly does not distinguish between a trusted and untrusted assembly as loaded into the application domain.</span></span> <span data-ttu-id="45428-127">Ainsi, il est techniquement possible pour un assemblage non fiable d’usurper la cartographie XAML d’un espace de nom de l’assemblage de confiance et de capturer les informations déclarées sur les objets et les biens d’une source XAML.</span><span class="sxs-lookup"><span data-stu-id="45428-127">Thus, it is technically possible for an untrusted assembly to spoof a trusted assembly's intended XAML namespace mapping and capture a XAML source's declared object and property information.</span></span> <span data-ttu-id="45428-128">Si vous avez des exigences de sécurité pour éviter cette situation, votre cartographie de l’espace de nom XAML prévue doit être faite en utilisant l’une des techniques suivantes :</span><span class="sxs-lookup"><span data-stu-id="45428-128">If you have security requirements to avoid this situation, your intended XAML namespace mapping should be made using one of the following techniques:</span></span>

- <span data-ttu-id="45428-129">Utilisez un nom d’assemblage entièrement qualifié avec un nom fort dans n’importe quelle cartographie XAML namespace faite par XAML de votre application.</span><span class="sxs-lookup"><span data-stu-id="45428-129">Use a fully qualified assembly name with strong name in any XAML namespace mapping made by your application's XAML.</span></span>

- <span data-ttu-id="45428-130">Limitez la cartographie d’assemblage à un ensemble <xref:System.Xaml.XamlSchemaContext> fixe d’assemblages de référence, en construisant un spécifique pour vos lecteurs XAML et les auteurs d’objets XAML.</span><span class="sxs-lookup"><span data-stu-id="45428-130">Restrict assembly mapping to a fixed set of reference assemblies, by constructing a specific <xref:System.Xaml.XamlSchemaContext> for your XAML readers and XAML object writers.</span></span> <span data-ttu-id="45428-131">Consultez <xref:System.Xaml.XamlSchemaContext.%23ctor%28System.Collections.Generic.IEnumerable%7BSystem.Reflection.Assembly%7D%29>.</span><span class="sxs-lookup"><span data-stu-id="45428-131">See <xref:System.Xaml.XamlSchemaContext.%23ctor%28System.Collections.Generic.IEnumerable%7BSystem.Reflection.Assembly%7D%29>.</span></span>

## <a name="xaml-type-mapping-and-type-system-access"></a><span data-ttu-id="45428-132">XAML Type Mapping and Type System Access</span><span class="sxs-lookup"><span data-stu-id="45428-132">XAML Type Mapping and Type System Access</span></span>

<span data-ttu-id="45428-133">XAML prend en charge son propre système de type, qui à bien des égards est un pair à la façon dont CLR implémente le système de base de type CLR.</span><span class="sxs-lookup"><span data-stu-id="45428-133">XAML supports its own type system, which in many ways is a peer to how CLR implements the basic CLR type system.</span></span> <span data-ttu-id="45428-134">Toutefois, pour certains aspects de la sensibilisation au type où vous prendrez des décisions de confiance au sujet d’un type d’information de type, vous devriez vous en remettre aux informations de type dans les types de support CLR.</span><span class="sxs-lookup"><span data-stu-id="45428-134">However, for certain aspects of type awareness where you are making trust decisions about a type based on its type information, you should defer to the type information in the CLR backing types.</span></span> <span data-ttu-id="45428-135">C’est parce que certaines des capacités de reporting spécifiques du système de type XAML sont laissées ouvertes comme méthodes virtuelles et ne sont donc pas entièrement sous le contrôle des implémentations originales .NET XAML Services.</span><span class="sxs-lookup"><span data-stu-id="45428-135">This is because some of the specific reporting capabilities of the XAML type system are left open as virtual methods and are therefore, not fully under the control of the original .NET XAML Services implementations.</span></span> <span data-ttu-id="45428-136">Ces points d’extabilité existent parce que le système de type XAML est extensible, pour correspondre à l’extéabilité de XAML lui-même et à ses stratégies alternatives possibles de cartographie de type par rapport à la mise en œuvre par défaut soutenu par CLR et par défaut XAML contexte schéma.</span><span class="sxs-lookup"><span data-stu-id="45428-136">These extensibility points exist because the XAML type system is extensible, to match the extensibility of XAML itself and its possible alternative type-mapping strategies versus the default CLR-backed implementation and default XAML schema context.</span></span> <span data-ttu-id="45428-137">Pour plus d’informations, voir les notes <xref:System.Xaml.XamlType> <xref:System.Xaml.XamlMember>spécifiques sur plusieurs des propriétés de et .</span><span class="sxs-lookup"><span data-stu-id="45428-137">For more information, see the specific notes on several of the properties of <xref:System.Xaml.XamlType> and <xref:System.Xaml.XamlMember>.</span></span>

## <a name="see-also"></a><span data-ttu-id="45428-138">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="45428-138">See also</span></span>

- <xref:System.Xaml.Permissions.XamlAccessLevel>
