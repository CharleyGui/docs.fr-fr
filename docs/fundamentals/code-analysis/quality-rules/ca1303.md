---
title: 'CA1303 : ne pas passer de littéraux en tant que paramètres localisés (analyse du code)'
description: 'En savoir plus sur la règle d’analyse du code CA1303 : ne pas passer de littéraux en tant que paramètres localisés'
ms.date: 11/04/2016
ms.topic: reference
f1_keywords:
- Do not pass literals as localized parameters
- DoNotPassLiteralsAsLocalizedParameters
- CA1303
helpviewer_keywords:
- DoNotPassLiteralsAsLocalizedParameters
- CA1303
author: gewarren
ms.author: gewarren
dev_langs:
- CSharp
- VB
ms.openlocfilehash: d79c730a78169c3339179bda70760bcc90bc257f
ms.sourcegitcommit: 4df8e005c074ceb1f978f007b222fe253be2baf3
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 02/04/2021
ms.locfileid: "99548277"
---
# <a name="ca1303-do-not-pass-literals-as-localized-parameters"></a><span data-ttu-id="8afe0-103">CA1303 : Ne pas passer de littéraux en paramètres localisés</span><span class="sxs-lookup"><span data-stu-id="8afe0-103">CA1303: Do not pass literals as localized parameters</span></span>

| | <span data-ttu-id="8afe0-104">Valeur</span><span class="sxs-lookup"><span data-stu-id="8afe0-104">Value</span></span> |
|-|-|
| <span data-ttu-id="8afe0-105">**Identificateur de la règle**</span><span class="sxs-lookup"><span data-stu-id="8afe0-105">**Rule ID**</span></span> |<span data-ttu-id="8afe0-106">CA1303</span><span class="sxs-lookup"><span data-stu-id="8afe0-106">CA1303</span></span>|
| <span data-ttu-id="8afe0-107">**Catégorie**</span><span class="sxs-lookup"><span data-stu-id="8afe0-107">**Category**</span></span> |[<span data-ttu-id="8afe0-108">Microsoft. Globalization</span><span class="sxs-lookup"><span data-stu-id="8afe0-108">Microsoft.Globalization</span></span>](globalization-warnings.md)|
| <span data-ttu-id="8afe0-109">**Correction en rupture ou sans rupture**</span><span class="sxs-lookup"><span data-stu-id="8afe0-109">**Fix is breaking or non-breaking**</span></span> |<span data-ttu-id="8afe0-110">Sans rupture</span><span class="sxs-lookup"><span data-stu-id="8afe0-110">Non-breaking</span></span>|

## <a name="cause"></a><span data-ttu-id="8afe0-111">Cause</span><span class="sxs-lookup"><span data-stu-id="8afe0-111">Cause</span></span>

<span data-ttu-id="8afe0-112">Une méthode passe un littéral de chaîne en tant que paramètre à un constructeur .NET ou une méthode et cette chaîne doit être localisable.</span><span class="sxs-lookup"><span data-stu-id="8afe0-112">A method passes a string literal as a parameter to a .NET constructor or method and that string should be localizable.</span></span>

<span data-ttu-id="8afe0-113">Cet avertissement est déclenché quand une chaîne littérale est passée en tant que valeur à un paramètre ou une propriété et qu’une ou plusieurs des situations suivantes sont vraies :</span><span class="sxs-lookup"><span data-stu-id="8afe0-113">This warning is raised when a literal string is passed as a value to a parameter or property and one or more of the following situations is true:</span></span>

- <span data-ttu-id="8afe0-114">L' <xref:System.ComponentModel.LocalizableAttribute> attribut du paramètre ou de la propriété a la valeur `true` .</span><span class="sxs-lookup"><span data-stu-id="8afe0-114">The <xref:System.ComponentModel.LocalizableAttribute> attribute of the parameter or property is set to `true`.</span></span>

- <span data-ttu-id="8afe0-115">La chaîne littérale est passée au `string value` `string format` paramètre ou d’une <xref:System.Console.Write%2A?displayProperty=nameWithType> surcharge de <xref:System.Console.WriteLine%2A?displayProperty=nameWithType> méthode ou.</span><span class="sxs-lookup"><span data-stu-id="8afe0-115">The literal string is passed to the `string value` or `string format` parameter of a <xref:System.Console.Write%2A?displayProperty=nameWithType> or <xref:System.Console.WriteLine%2A?displayProperty=nameWithType> method overload.</span></span>

- <span data-ttu-id="8afe0-116">La règle CA1303 est [configurée pour utiliser l’heuristique d’attribution de noms](#use-naming-heuristic), et un paramètre ou un nom de propriété contient l’expression `Text` , `Message` ou `Caption` .</span><span class="sxs-lookup"><span data-stu-id="8afe0-116">Rule CA1303 is [configured to use the naming heuristic](#use-naming-heuristic), and a parameter or property name contains the phrase `Text`, `Message`, or `Caption`.</span></span>

<span data-ttu-id="8afe0-117">Par défaut, cette règle analyse l’ensemble du code base, mais il peut être [configuré](#configure-code-to-analyze).</span><span class="sxs-lookup"><span data-stu-id="8afe0-117">By default, this rule analyzes the entire codebase, but this is [configurable](#configure-code-to-analyze).</span></span>

## <a name="rule-description"></a><span data-ttu-id="8afe0-118">Description de la règle</span><span class="sxs-lookup"><span data-stu-id="8afe0-118">Rule description</span></span>

<span data-ttu-id="8afe0-119">Les littéraux de chaîne incorporés dans le code source sont difficiles à localiser.</span><span class="sxs-lookup"><span data-stu-id="8afe0-119">String literals that are embedded in source code are difficult to localize.</span></span>

## <a name="how-to-fix-violations"></a><span data-ttu-id="8afe0-120">Comment corriger les violations</span><span class="sxs-lookup"><span data-stu-id="8afe0-120">How to fix violations</span></span>

<span data-ttu-id="8afe0-121">Pour corriger une violation de cette règle, remplacez le littéral de chaîne par une chaîne récupérée par le biais d’une instance de la <xref:System.Resources.ResourceManager> classe.</span><span class="sxs-lookup"><span data-stu-id="8afe0-121">To fix a violation of this rule, replace the string literal with a string retrieved through an instance of the <xref:System.Resources.ResourceManager> class.</span></span>

<span data-ttu-id="8afe0-122">Pour les méthodes qui ne requièrent pas de chaînes localisées, vous pouvez éliminer les avertissements CA1303 inutiles de l’une des manières suivantes :</span><span class="sxs-lookup"><span data-stu-id="8afe0-122">For methods that don't require localized strings, you can eliminate unnecessary CA1303 warnings in the following ways:</span></span>

- <span data-ttu-id="8afe0-123">Si l' [option d’heuristique d’attribution de noms](#use-naming-heuristic) est activée, renommez le paramètre ou la propriété.</span><span class="sxs-lookup"><span data-stu-id="8afe0-123">If the [naming heuristic option](#use-naming-heuristic) is enabled, rename the parameter or property.</span></span>
- <span data-ttu-id="8afe0-124">Supprimez l' <xref:System.ComponentModel.LocalizableAttribute> attribut sur le paramètre ou la propriété, ou affectez-lui la valeur `false` ( `[Localizable(false)]` ).</span><span class="sxs-lookup"><span data-stu-id="8afe0-124">Remove the <xref:System.ComponentModel.LocalizableAttribute> attribute on the parameter or property, or set it to `false` (`[Localizable(false)]`).</span></span>

## <a name="when-to-suppress-warnings"></a><span data-ttu-id="8afe0-125">Quand supprimer les avertissements</span><span class="sxs-lookup"><span data-stu-id="8afe0-125">When to suppress warnings</span></span>

<span data-ttu-id="8afe0-126">Il est possible de supprimer sans risque un avertissement de cette règle si l’une des instructions suivantes s’applique :</span><span class="sxs-lookup"><span data-stu-id="8afe0-126">It's safe to suppress a warning from this rule if either of the following statements applies:</span></span>

- <span data-ttu-id="8afe0-127">La bibliothèque de code ne sera pas localisée.</span><span class="sxs-lookup"><span data-stu-id="8afe0-127">The code library will not be localized.</span></span>
- <span data-ttu-id="8afe0-128">La chaîne n’est pas exposée à l’utilisateur final ou à un développeur à l’aide de la bibliothèque de code.</span><span class="sxs-lookup"><span data-stu-id="8afe0-128">The string is not exposed to the end user or a developer using the code library.</span></span>

## <a name="configure-code-to-analyze"></a><span data-ttu-id="8afe0-129">Configurer le code pour analyser</span><span class="sxs-lookup"><span data-stu-id="8afe0-129">Configure code to analyze</span></span>

<span data-ttu-id="8afe0-130">Utilisez les options suivantes pour configurer les parties de votre code base pour l’exécution de cette règle.</span><span class="sxs-lookup"><span data-stu-id="8afe0-130">Use the following options to configure which parts of your codebase to run this rule on.</span></span>

- [<span data-ttu-id="8afe0-131">Exclure des symboles spécifiques</span><span class="sxs-lookup"><span data-stu-id="8afe0-131">Exclude specific symbols</span></span>](#exclude-specific-symbols)
- [<span data-ttu-id="8afe0-132">Exclure des types spécifiques et leurs types dérivés</span><span class="sxs-lookup"><span data-stu-id="8afe0-132">Exclude specific types and their derived types</span></span>](#exclude-specific-types-and-their-derived-types)
- [<span data-ttu-id="8afe0-133">Utiliser l’heuristique d’appellation</span><span class="sxs-lookup"><span data-stu-id="8afe0-133">Use naming heuristic</span></span>](#use-naming-heuristic)

<span data-ttu-id="8afe0-134">Vous pouvez configurer ces options uniquement pour cette règle, pour toutes les règles ou pour toutes les règles de cette catégorie ([globalisation](globalization-warnings.md)).</span><span class="sxs-lookup"><span data-stu-id="8afe0-134">You can configure these options for just this rule, for all rules, or for all rules in this category ([Globalization](globalization-warnings.md)).</span></span> <span data-ttu-id="8afe0-135">Pour plus d’informations, consultez Options de configuration d’une [règle de qualité du code](../code-quality-rule-options.md).</span><span class="sxs-lookup"><span data-stu-id="8afe0-135">For more information, see [Code quality rule configuration options](../code-quality-rule-options.md).</span></span>

[!INCLUDE[excluded-symbol-names](~/includes/code-analysis/excluded-symbol-names.md)]

[!INCLUDE[excluded-type-names-with-derived-types](~/includes/code-analysis/excluded-type-names-with-derived-types.md)]

### <a name="use-naming-heuristic"></a><span data-ttu-id="8afe0-136">Utiliser l’heuristique d’appellation</span><span class="sxs-lookup"><span data-stu-id="8afe0-136">Use naming heuristic</span></span>

<span data-ttu-id="8afe0-137">Vous pouvez configurer si des paramètres ou des noms de propriétés contenant `Text` , `Message` ou `Caption` déclencheront cette règle.</span><span class="sxs-lookup"><span data-stu-id="8afe0-137">You can configure whether parameters or property names containing `Text`, `Message`, or `Caption` will trigger this rule.</span></span>

```ini
dotnet_code_quality.CA1303.use_naming_heuristic = true
```

## <a name="example"></a><span data-ttu-id="8afe0-138">Exemple</span><span class="sxs-lookup"><span data-stu-id="8afe0-138">Example</span></span>

<span data-ttu-id="8afe0-139">L’exemple suivant montre une méthode qui écrit dans la console lorsque l’un de ses deux arguments est hors limites.</span><span class="sxs-lookup"><span data-stu-id="8afe0-139">The following example shows a method that writes to the console when either of its two arguments are out of range.</span></span> <span data-ttu-id="8afe0-140">Pour la `hour` vérification de l’argument, une chaîne littérale est transmise à `Console.WriteLine` , ce qui viole cette règle.</span><span class="sxs-lookup"><span data-stu-id="8afe0-140">For the `hour` argument check, a literal string is passed to `Console.WriteLine`, which violates this rule.</span></span> <span data-ttu-id="8afe0-141">Pour la `minute` vérification de l’argument, une chaîne récupérée via un <xref:System.Resources.ResourceManager> est passée à `Console.WriteLine` , qui satisfait la règle.</span><span class="sxs-lookup"><span data-stu-id="8afe0-141">For the `minute` argument check, a string that's retrieved through a <xref:System.Resources.ResourceManager> is passed to `Console.WriteLine`, which satisfies the rule.</span></span>

:::code language="vb" source="snippets/vb/all-rules/ca1303-do-not-pass-literals-as-localized-parameters_1.vb":::

:::code language="csharp" source="snippets/csharp/all-rules/ca1303.cs" id="snippet1":::

## <a name="see-also"></a><span data-ttu-id="8afe0-142">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="8afe0-142">See also</span></span>

- [<span data-ttu-id="8afe0-143">Ressources dans des applications de bureau</span><span class="sxs-lookup"><span data-stu-id="8afe0-143">Resources in desktop apps</span></span>](../../../framework/resources/index.md)
- [<span data-ttu-id="8afe0-144">Demande de modification de comportement de la communauté</span><span class="sxs-lookup"><span data-stu-id="8afe0-144">Community request for change of behavior</span></span>](https://github.com/dotnet/roslyn-analyzers/issues/2933)
