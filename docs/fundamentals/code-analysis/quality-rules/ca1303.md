---
title: 'CA1303 : ne pas passer de littéraux en tant que paramètres localisés (analyse du code)'
description: 'En savoir plus sur la règle d’analyse du code CA1303 : ne pas passer de littéraux en tant que paramètres localisés'
ms.date: 11/04/2016
ms.topic: reference
f1_keywords:
- Do not pass literals as localized parameters
- DoNotPassLiteralsAsLocalizedParameters
- CA1303
helpviewer_keywords:
- DoNotPassLiteralsAsLocalizedParameters
- CA1303
author: gewarren
ms.author: gewarren
dev_langs:
- CSharp
- VB
ms.openlocfilehash: 24987414f486e2960b780964f35027eb0536712d
ms.sourcegitcommit: e301979e3049ce412d19b094c60ed95b316a8f8c
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 12/16/2020
ms.locfileid: "97594811"
---
# <a name="ca1303-do-not-pass-literals-as-localized-parameters"></a><span data-ttu-id="e0fb1-103">CA1303 : Ne pas passer de littéraux en paramètres localisés</span><span class="sxs-lookup"><span data-stu-id="e0fb1-103">CA1303: Do not pass literals as localized parameters</span></span>

| | <span data-ttu-id="e0fb1-104">Valeur</span><span class="sxs-lookup"><span data-stu-id="e0fb1-104">Value</span></span> |
|-|-|
| <span data-ttu-id="e0fb1-105">**Identificateur de la règle**</span><span class="sxs-lookup"><span data-stu-id="e0fb1-105">**Rule ID**</span></span> |<span data-ttu-id="e0fb1-106">CA1303</span><span class="sxs-lookup"><span data-stu-id="e0fb1-106">CA1303</span></span>|
| <span data-ttu-id="e0fb1-107">**Catégorie**</span><span class="sxs-lookup"><span data-stu-id="e0fb1-107">**Category**</span></span> |<span data-ttu-id="e0fb1-108">Microsoft. Globalization</span><span class="sxs-lookup"><span data-stu-id="e0fb1-108">Microsoft.Globalization</span></span>|
| <span data-ttu-id="e0fb1-109">**Correction en rupture ou sans rupture**</span><span class="sxs-lookup"><span data-stu-id="e0fb1-109">**Fix is breaking or non-breaking**</span></span> |<span data-ttu-id="e0fb1-110">Sans rupture</span><span class="sxs-lookup"><span data-stu-id="e0fb1-110">Non-breaking</span></span>|

## <a name="cause"></a><span data-ttu-id="e0fb1-111">Cause</span><span class="sxs-lookup"><span data-stu-id="e0fb1-111">Cause</span></span>

<span data-ttu-id="e0fb1-112">Une méthode passe un littéral de chaîne en tant que paramètre à un constructeur .NET ou une méthode et cette chaîne doit être localisable.</span><span class="sxs-lookup"><span data-stu-id="e0fb1-112">A method passes a string literal as a parameter to a .NET constructor or method and that string should be localizable.</span></span>

<span data-ttu-id="e0fb1-113">Cet avertissement est déclenché quand une chaîne littérale est passée en tant que valeur à un paramètre ou une propriété et qu’une ou plusieurs des situations suivantes sont vraies :</span><span class="sxs-lookup"><span data-stu-id="e0fb1-113">This warning is raised when a literal string is passed as a value to a parameter or property and one or more of the following situations is true:</span></span>

- <span data-ttu-id="e0fb1-114">L' <xref:System.ComponentModel.LocalizableAttribute> attribut du paramètre ou de la propriété a la valeur `true` .</span><span class="sxs-lookup"><span data-stu-id="e0fb1-114">The <xref:System.ComponentModel.LocalizableAttribute> attribute of the parameter or property is set to `true`.</span></span>

- <span data-ttu-id="e0fb1-115">Le nom du paramètre de chaîne passé à une `Console.Write` `Console.WriteLine` méthode ou est `value` ou `format` .</span><span class="sxs-lookup"><span data-stu-id="e0fb1-115">The name of the string parameter that is passed to a `Console.Write` or `Console.WriteLine` method is either `value` or `format`.</span></span>

- <span data-ttu-id="e0fb1-116">La règle est configurée pour [utiliser l’heuristique d’attribution de noms](#use-naming-heuristic), et un paramètre ou un nom de propriété contient `Text` , `Message` ou `Caption` .</span><span class="sxs-lookup"><span data-stu-id="e0fb1-116">The rule is configured to [use the naming heuristic](#use-naming-heuristic), and a parameter or property name contains `Text`, `Message`, or `Caption`.</span></span>

<span data-ttu-id="e0fb1-117">Par défaut, cette règle analyse l’ensemble du code base, mais il peut être [configuré](#configure-code-to-analyze).</span><span class="sxs-lookup"><span data-stu-id="e0fb1-117">By default, this rule analyzes the entire codebase, but this is [configurable](#configure-code-to-analyze).</span></span>

## <a name="rule-description"></a><span data-ttu-id="e0fb1-118">Description de la règle</span><span class="sxs-lookup"><span data-stu-id="e0fb1-118">Rule description</span></span>

<span data-ttu-id="e0fb1-119">Les littéraux de chaîne incorporés dans le code source sont difficiles à localiser.</span><span class="sxs-lookup"><span data-stu-id="e0fb1-119">String literals that are embedded in source code are difficult to localize.</span></span>

## <a name="how-to-fix-violations"></a><span data-ttu-id="e0fb1-120">Comment corriger les violations</span><span class="sxs-lookup"><span data-stu-id="e0fb1-120">How to fix violations</span></span>

<span data-ttu-id="e0fb1-121">Pour corriger une violation de cette règle, remplacez le littéral de chaîne par une chaîne récupérée par le biais d’une instance de la <xref:System.Resources.ResourceManager> classe.</span><span class="sxs-lookup"><span data-stu-id="e0fb1-121">To fix a violation of this rule, replace the string literal with a string retrieved through an instance of the <xref:System.Resources.ResourceManager> class.</span></span>

## <a name="when-to-suppress-warnings"></a><span data-ttu-id="e0fb1-122">Quand supprimer les avertissements</span><span class="sxs-lookup"><span data-stu-id="e0fb1-122">When to suppress warnings</span></span>

<span data-ttu-id="e0fb1-123">Il est possible de supprimer sans risque un avertissement de cette règle si la bibliothèque de code n’est pas localisée ou si la chaîne n’est pas exposée à l’utilisateur final ou à un développeur à l’aide de la bibliothèque de code.</span><span class="sxs-lookup"><span data-stu-id="e0fb1-123">It is safe to suppress a warning from this rule if the code library will not be localized or if the string is not exposed to the end user or a developer using the code library.</span></span>

<span data-ttu-id="e0fb1-124">Les utilisateurs peuvent éliminer le bruit sur les méthodes qui ne doivent pas être passées aux chaînes localisées en renommant le paramètre ou la propriété, ou en marquant ces éléments comme conditionnels.</span><span class="sxs-lookup"><span data-stu-id="e0fb1-124">Users can eliminate noise against methods that should not be passed localized strings by either renaming the parameter or property, or by marking these items as conditional.</span></span>

## <a name="configure-code-to-analyze"></a><span data-ttu-id="e0fb1-125">Configurer le code pour analyser</span><span class="sxs-lookup"><span data-stu-id="e0fb1-125">Configure code to analyze</span></span>

<span data-ttu-id="e0fb1-126">Utilisez les options suivantes pour configurer les parties de votre code base pour l’exécution de cette règle.</span><span class="sxs-lookup"><span data-stu-id="e0fb1-126">Use the following options to configure which parts of your codebase to run this rule on.</span></span>

- [<span data-ttu-id="e0fb1-127">Exclure des symboles spécifiques</span><span class="sxs-lookup"><span data-stu-id="e0fb1-127">Exclude specific symbols</span></span>](#exclude-specific-symbols)
- [<span data-ttu-id="e0fb1-128">Exclure des types spécifiques et leurs types dérivés</span><span class="sxs-lookup"><span data-stu-id="e0fb1-128">Exclude specific types and their derived types</span></span>](#exclude-specific-types-and-their-derived-types)
- [<span data-ttu-id="e0fb1-129">Utiliser l’heuristique d’appellation</span><span class="sxs-lookup"><span data-stu-id="e0fb1-129">Use naming heuristic</span></span>](#use-naming-heuristic)

<span data-ttu-id="e0fb1-130">Vous pouvez configurer ces options uniquement pour cette règle, pour toutes les règles ou pour toutes les règles de cette catégorie (globalisation).</span><span class="sxs-lookup"><span data-stu-id="e0fb1-130">You can configure these options for just this rule, for all rules, or for all rules in this category (Globalization).</span></span> <span data-ttu-id="e0fb1-131">Pour plus d’informations, consultez Options de configuration d’une [règle de qualité du code](../code-quality-rule-options.md).</span><span class="sxs-lookup"><span data-stu-id="e0fb1-131">For more information, see [Code quality rule configuration options](../code-quality-rule-options.md).</span></span>

[!INCLUDE[excluded-symbol-names](~/includes/code-analysis/excluded-symbol-names.md)]

[!INCLUDE[excluded-type-names-with-derived-types](~/includes/code-analysis/excluded-type-names-with-derived-types.md)]

### <a name="use-naming-heuristic"></a><span data-ttu-id="e0fb1-132">Utiliser l’heuristique d’appellation</span><span class="sxs-lookup"><span data-stu-id="e0fb1-132">Use naming heuristic</span></span>

<span data-ttu-id="e0fb1-133">Vous pouvez configurer si des paramètres ou des noms de propriétés contenant `Text` , `Message` ou `Caption` déclencheront cette règle.</span><span class="sxs-lookup"><span data-stu-id="e0fb1-133">You can configure whether parameters or property names containing `Text`, `Message`, or `Caption` will trigger this rule.</span></span>

```ini
dotnet_code_quality.CA1303.use_naming_heuristic = true
```

## <a name="example"></a><span data-ttu-id="e0fb1-134">Exemple</span><span class="sxs-lookup"><span data-stu-id="e0fb1-134">Example</span></span>

<span data-ttu-id="e0fb1-135">L’exemple suivant montre une méthode qui écrit dans la console lorsque l’un de ses deux arguments est hors limites.</span><span class="sxs-lookup"><span data-stu-id="e0fb1-135">The following example shows a method that writes to the console when either of its two arguments are out of range.</span></span> <span data-ttu-id="e0fb1-136">Pour la `hour` vérification de l’argument, une chaîne littérale est transmise à `Console.WriteLine` , ce qui viole cette règle.</span><span class="sxs-lookup"><span data-stu-id="e0fb1-136">For the `hour` argument check, a literal string is passed to `Console.WriteLine`, which violates this rule.</span></span> <span data-ttu-id="e0fb1-137">Pour la `minute` vérification de l’argument, une chaîne récupérée via un <xref:System.Resources.ResourceManager> est passée à `Console.WriteLine` , qui satisfait la règle.</span><span class="sxs-lookup"><span data-stu-id="e0fb1-137">For the `minute` argument check, a string that's retrieved through a <xref:System.Resources.ResourceManager> is passed to `Console.WriteLine`, which satisfies the rule.</span></span>

:::code language="vb" source="snippets/vb/all-rules/ca1303-do-not-pass-literals-as-localized-parameters_1.vb":::

:::code language="csharp" source="snippets/csharp/all-rules/ca1303.cs" id="snippet1":::

## <a name="see-also"></a><span data-ttu-id="e0fb1-138">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="e0fb1-138">See also</span></span>

- [<span data-ttu-id="e0fb1-139">Ressources dans des applications de bureau</span><span class="sxs-lookup"><span data-stu-id="e0fb1-139">Resources in desktop apps</span></span>](../../../framework/resources/index.md)
- [<span data-ttu-id="e0fb1-140">Demande de modification de comportement de la communauté</span><span class="sxs-lookup"><span data-stu-id="e0fb1-140">Community request for change of behavior</span></span>](https://github.com/dotnet/roslyn-analyzers/issues/2933)
