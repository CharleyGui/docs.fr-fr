---
title: 'Ca1001 : les types qui possèdent des champs supprimables doivent être supprimables (analyse du code)'
description: 'En savoir plus sur la règle d’analyse du code ca1001 : les types qui possèdent des champs supprimables doivent être supprimables'
ms.date: 11/04/2016
ms.topic: reference
f1_keywords:
- CA1001
- TypesThatOwnDisposableFieldsShouldBeDisposable
helpviewer_keywords:
- CA1001
- TypesThatOwnDisposableFieldsShouldBeDisposable
author: gewarren
ms.author: gewarren
dev_langs:
- CSharp
- VB
ms.openlocfilehash: 6d4f048f63bc3b061c87869ae77baeeb445b07e6
ms.sourcegitcommit: eb7e87496f42361b1da98562dd75b516c9d58bbc
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/09/2020
ms.locfileid: "96588168"
---
# <a name="ca1001-types-that-own-disposable-fields-should-be-disposable"></a>CA1001 : Les types qui possèdent des champs supprimables doivent être supprimables

| | Valeur |
|-|-|
| **Identificateur de la règle** |CA1001|
| **Catégorie** |Microsoft. Design|
| **Correction en rupture ou sans rupture** |Sans rupture : si le type n’est pas visible à l’extérieur de l’assembly.<br/><br/>Avec rupture : si le type est visible à l’extérieur de l’assembly.|

## <a name="cause"></a>Cause

Une classe déclare et implémente un champ d’instance qui est un <xref:System.IDisposable?displayProperty=fullName> type et la classe n’implémente pas <xref:System.IDisposable> .

## <a name="rule-description"></a>Description de la règle

Une classe implémente l' <xref:System.IDisposable> interface pour supprimer les ressources non managées qu’elle possède. Un champ d’instance qui est un <xref:System.IDisposable> type indique que le champ est propriétaire d’une ressource non managée. Une classe qui déclare un <xref:System.IDisposable> champ possède indirectement une ressource non managée et doit implémenter l' <xref:System.IDisposable> interface. Si la classe ne possède pas directement de ressources non managées, elle ne doit pas implémenter de finaliseur.

Cette règle respecte les types <xref:System.IAsyncDisposable?displayProperty=fullName> qui implémentent en tant que types jetables.

## <a name="how-to-fix-violations"></a>Comment corriger les violations

Pour corriger une violation de cette règle, implémentez <xref:System.IDisposable> et à partir de la <xref:System.IDisposable.Dispose%2A?displayProperty=fullName> méthode appelez la <xref:System.IDisposable.Dispose%2A> méthode du champ.

## <a name="when-to-suppress-warnings"></a>Quand supprimer les avertissements

En général, ne supprimez pas un avertissement de cette règle. Il est OK de supprimer l’avertissement lorsque la propriété dispose du ou des champs n’est pas détenue par le type conteneur.

## <a name="example"></a> Exemple

L’exemple suivant montre une classe qui enfreint la règle et une classe qui satisfait la règle en implémentant <xref:System.IDisposable> . La classe n’implémente pas de finaliseur, car la classe ne possède pas directement de ressources non managées.

:::code language="vb" source="snippets/vb/all-rules/ca1001-types-that-own-disposable-fields-should-be-disposable_1.vb":::

:::code language="csharp" source="snippets/csharp/all-rules/ca1001.cs" id="snippet1":::

## <a name="related-rules"></a>Règles associées

- [CA2213 : Les champs pouvant être supprimés doivent l’être](ca2213.md)
- [CA2216 : Les types pouvant être supprimés doivent déclarer un finaliseur](ca2216.md)
- [CA2215 : Les méthodes Dispose doivent appeler la méthode Dispose de la classe de base](ca2215.md)
