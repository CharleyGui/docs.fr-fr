---
title: 'CA2207 : initialisez les champs statiques de type valeur en ligne (analyse du code)'
description: 'En savoir plus sur la règle d’analyse du code CA2207 : initialiser les champs statiques de type valeur Inline'
ms.date: 11/04/2016
ms.topic: reference
f1_keywords:
- InitializeValueTypeStaticFieldsInline
- CA2207
helpviewer_keywords:
- CA2207
- InitializeValueTypeStaticFieldsInline
author: gewarren
ms.author: gewarren
ms.openlocfilehash: f9f23f686807e8e1b52823c1b4882caa6423d2c9
ms.sourcegitcommit: 4df8e005c074ceb1f978f007b222fe253be2baf3
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 02/04/2021
ms.locfileid: "99545345"
---
# <a name="ca2207-initialize-value-type-static-fields-inline"></a><span data-ttu-id="2b705-103">CA2207 : Initialisez les champs statiques des types valeur en ligne</span><span class="sxs-lookup"><span data-stu-id="2b705-103">CA2207: Initialize value type static fields inline</span></span>

| | <span data-ttu-id="2b705-104">Valeur</span><span class="sxs-lookup"><span data-stu-id="2b705-104">Value</span></span> |
|-|-|
| <span data-ttu-id="2b705-105">**Identificateur de la règle**</span><span class="sxs-lookup"><span data-stu-id="2b705-105">**Rule ID**</span></span> |<span data-ttu-id="2b705-106">CA2207</span><span class="sxs-lookup"><span data-stu-id="2b705-106">CA2207</span></span>|
| <span data-ttu-id="2b705-107">**Catégorie**</span><span class="sxs-lookup"><span data-stu-id="2b705-107">**Category**</span></span> |[<span data-ttu-id="2b705-108">Microsoft. usage</span><span class="sxs-lookup"><span data-stu-id="2b705-108">Microsoft.Usage</span></span>](usage-warnings.md)|
| <span data-ttu-id="2b705-109">**Correction en rupture ou sans rupture**</span><span class="sxs-lookup"><span data-stu-id="2b705-109">**Fix is breaking or non-breaking**</span></span> |<span data-ttu-id="2b705-110">Sans rupture</span><span class="sxs-lookup"><span data-stu-id="2b705-110">Non-breaking</span></span>|

## <a name="cause"></a><span data-ttu-id="2b705-111">Cause</span><span class="sxs-lookup"><span data-stu-id="2b705-111">Cause</span></span>

<span data-ttu-id="2b705-112">Un type valeur déclare un constructeur statique explicite.</span><span class="sxs-lookup"><span data-stu-id="2b705-112">A value-type declares an explicit static constructor.</span></span>

## <a name="rule-description"></a><span data-ttu-id="2b705-113">Description de la règle</span><span class="sxs-lookup"><span data-stu-id="2b705-113">Rule description</span></span>

<span data-ttu-id="2b705-114">Lorsqu’un type valeur est déclaré, il subit une initialisation par défaut où tous les champs de type valeur ont la valeur zéro et tous les champs de type référence ont la valeur `null` ( `Nothing` en Visual Basic).</span><span class="sxs-lookup"><span data-stu-id="2b705-114">When a value-type is declared, it undergoes a default initialization where all value-type fields are set to zero and all reference-type fields are set to `null` (`Nothing` in Visual Basic).</span></span> <span data-ttu-id="2b705-115">L’exécution d’un constructeur statique explicite est garantie uniquement avant l’appel d’un constructeur d’instance ou d’un membre statique du type.</span><span class="sxs-lookup"><span data-stu-id="2b705-115">An explicit static constructor is only guaranteed to run before an instance constructor or static member of the type is called.</span></span> <span data-ttu-id="2b705-116">Par conséquent, si le type est créé sans appeler un constructeur d’instance, l’exécution du constructeur statique n’est pas garantie.</span><span class="sxs-lookup"><span data-stu-id="2b705-116">Therefore, if the type is created without calling an instance constructor, the static constructor is not guaranteed to run.</span></span>

<span data-ttu-id="2b705-117">Si toutes les données statiques sont initialisées inline et qu’aucun constructeur statique explicite n’est déclaré, les compilateurs C# et Visual Basic ajoutent l' `beforefieldinit` indicateur à la définition de la classe MSIL.</span><span class="sxs-lookup"><span data-stu-id="2b705-117">If all static data is initialized inline and no explicit static constructor is declared, the C# and Visual Basic compilers add the `beforefieldinit` flag to the MSIL class definition.</span></span> <span data-ttu-id="2b705-118">Les compilateurs ajoutent également un constructeur statique privé qui contient le code d’initialisation statique.</span><span class="sxs-lookup"><span data-stu-id="2b705-118">The compilers also add a private static constructor that contains the static initialization code.</span></span> <span data-ttu-id="2b705-119">Ce constructeur statique privé est garanti s’exécuter avant l’accès à tous les champs statiques du type.</span><span class="sxs-lookup"><span data-stu-id="2b705-119">This private static constructor is guaranteed to run before any static fields of the type are accessed.</span></span>

## <a name="how-to-fix-violations"></a><span data-ttu-id="2b705-120">Comment corriger les violations</span><span class="sxs-lookup"><span data-stu-id="2b705-120">How to fix violations</span></span>

<span data-ttu-id="2b705-121">Pour corriger une violation de cette règle, initialisez toutes les données statiques lorsqu’elles sont déclarées et supprimez le constructeur statique.</span><span class="sxs-lookup"><span data-stu-id="2b705-121">To fix a violation of this rule initialize all static data when it is declared and remove the static constructor.</span></span>

## <a name="when-to-suppress-warnings"></a><span data-ttu-id="2b705-122">Quand supprimer les avertissements</span><span class="sxs-lookup"><span data-stu-id="2b705-122">When to suppress warnings</span></span>

<span data-ttu-id="2b705-123">Ne supprimez aucun avertissement de cette règle.</span><span class="sxs-lookup"><span data-stu-id="2b705-123">Do not suppress a warning from this rule.</span></span>

## <a name="related-rules"></a><span data-ttu-id="2b705-124">Règles associées</span><span class="sxs-lookup"><span data-stu-id="2b705-124">Related rules</span></span>

[<span data-ttu-id="2b705-125">CA1810 : Initialisez les champs statiques de type référence en ligne</span><span class="sxs-lookup"><span data-stu-id="2b705-125">CA1810: Initialize reference type static fields inline</span></span>](ca1810.md)
