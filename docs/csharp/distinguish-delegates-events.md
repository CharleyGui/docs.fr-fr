---
title: Délégués et événements
description: Découvrez la différence entre les délégués et les événements, et quand utiliser chacune de ces fonctionnalités de .NET Core.
ms.date: 06/20/2016
ms.technology: csharp-fundamentals
ms.assetid: 0fdc8629-2fdb-4a7c-a433-5b9d04eaf911
ms.openlocfilehash: 193a9b0fe0e0c36deb6552449c92135057412225
ms.sourcegitcommit: b1f4756120deaecb8b554477bb040620f69a4209
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 09/03/2020
ms.locfileid: "89414667"
---
# <a name="distinguishing-delegates-and-events"></a><span data-ttu-id="5f5ce-103">Différenciation des délégués et des événements</span><span class="sxs-lookup"><span data-stu-id="5f5ce-103">Distinguishing Delegates and Events</span></span>

[<span data-ttu-id="5f5ce-104">Précédent</span><span class="sxs-lookup"><span data-stu-id="5f5ce-104">Previous</span></span>](modern-events.md)

<span data-ttu-id="5f5ce-105">Les développeurs qui découvrent la plateforme .NET Core éprouvent souvent des difficultés quand il faut choisir entre une conception basée sur les `delegates` et une conception basée sur les `events`.</span><span class="sxs-lookup"><span data-stu-id="5f5ce-105">Developers that are new to the .NET Core platform often struggle when deciding between a design based on `delegates` and a design based on `events`.</span></span> <span data-ttu-id="5f5ce-106">Le choix des délégués ou des événements est souvent difficile, car les deux fonctionnalités de langage sont similaires.</span><span class="sxs-lookup"><span data-stu-id="5f5ce-106">The choice of delegates or events is often difficult, because the two language features are similar.</span></span> <span data-ttu-id="5f5ce-107">Les événements sont même générés à l’aide de la prise en charge linguistique des délégués.</span><span class="sxs-lookup"><span data-stu-id="5f5ce-107">Events are even built using the language support for delegates.</span></span>

<span data-ttu-id="5f5ce-108">Elles offrent tous deux un scénario de liaison tardive : elles autorisent les scénarios où un composant communique en appelant une méthode qui est connue uniquement au moment de l’exécution.</span><span class="sxs-lookup"><span data-stu-id="5f5ce-108">They both offer a late binding scenario: they enable scenarios where a component communicates by calling a method that is only known at runtime.</span></span> <span data-ttu-id="5f5ce-109">Toutes deux prennent en charge les méthodes à abonnés uniques et multiples.</span><span class="sxs-lookup"><span data-stu-id="5f5ce-109">They both support single and multiple subscriber methods.</span></span> <span data-ttu-id="5f5ce-110">On utilise parfois le terme de prise en charge singlecast et multicast.</span><span class="sxs-lookup"><span data-stu-id="5f5ce-110">You may find this referred to as singlecast and multicast support.</span></span> <span data-ttu-id="5f5ce-111">Toutes deux prennent en charge une syntaxe similaire pour l’ajout et la suppression de gestionnaires.</span><span class="sxs-lookup"><span data-stu-id="5f5ce-111">They both support similar syntax for adding and removing handlers.</span></span> <span data-ttu-id="5f5ce-112">Pour finir, le déclenchement d’un événement et l’appel d’un délégué utilisent exactement la même syntaxe d’appel de méthode.</span><span class="sxs-lookup"><span data-stu-id="5f5ce-112">Finally, raising an event and calling a delegate use exactly the same method call syntax.</span></span> <span data-ttu-id="5f5ce-113">Qui plus est, elles prennent toutes deux en charge la même syntaxe de méthode `Invoke()` pour une utilisation avec l’opérateur `?.`.</span><span class="sxs-lookup"><span data-stu-id="5f5ce-113">They even both support the same `Invoke()` method syntax for use with the `?.` operator.</span></span>

<span data-ttu-id="5f5ce-114">Avec tous ces similitudes, il est facile d’avoir des difficultés à déterminer quand utiliser l’une ou l’autre.</span><span class="sxs-lookup"><span data-stu-id="5f5ce-114">With all those similarities, it is easy to have trouble determining when to use which.</span></span>

## <a name="listening-to-events-is-optional"></a><span data-ttu-id="5f5ce-115">La détection d’événements est facultative</span><span class="sxs-lookup"><span data-stu-id="5f5ce-115">Listening to Events is Optional</span></span>

<span data-ttu-id="5f5ce-116">Pour déterminer laquelle de ces deux fonctionnalités utiliser, il convient avant tout de savoir s’il doit y avoir un abonné attaché ou non.</span><span class="sxs-lookup"><span data-stu-id="5f5ce-116">The most important consideration in determining which language feature to use is whether or not there must be an attached subscriber.</span></span> <span data-ttu-id="5f5ce-117">Si votre code doit appeler le code fourni par l’abonné, vous devez utiliser une conception basée sur des délégués lorsque vous devez implémenter le rappel.</span><span class="sxs-lookup"><span data-stu-id="5f5ce-117">If your code must call the code supplied by the subscriber, you should use a design based on delegates when you need to implement callback.</span></span> <span data-ttu-id="5f5ce-118">Si votre code peut effectuer tout son travail sans appeler les abonnés, vous devez utiliser un modèle basé sur les événements.</span><span class="sxs-lookup"><span data-stu-id="5f5ce-118">If your code can complete all its work without calling any subscribers, you should use a design based on events.</span></span>

<span data-ttu-id="5f5ce-119">Examinez les exemples fournis dans cette section.</span><span class="sxs-lookup"><span data-stu-id="5f5ce-119">Consider the examples built during this section.</span></span> <span data-ttu-id="5f5ce-120">Le code que vous avez créé à l’aide de `List.Sort()` doit disposer d’une fonction de comparaison pour trier correctement les éléments.</span><span class="sxs-lookup"><span data-stu-id="5f5ce-120">The code you built using `List.Sort()` must be given a comparer function in order to properly sort the elements.</span></span> <span data-ttu-id="5f5ce-121">Des requêtes LINQ doivent être fournies avec les délégués pour identifier les éléments à retourner.</span><span class="sxs-lookup"><span data-stu-id="5f5ce-121">LINQ queries must be supplied with delegates in order to determine what elements to return.</span></span> <span data-ttu-id="5f5ce-122">Tous deux ont une conception basée sur des délégués.</span><span class="sxs-lookup"><span data-stu-id="5f5ce-122">Both used a design built with delegates.</span></span>

<span data-ttu-id="5f5ce-123">Prenez l’événement `Progress`.</span><span class="sxs-lookup"><span data-stu-id="5f5ce-123">Consider the `Progress` event.</span></span> <span data-ttu-id="5f5ce-124">Il signale la progression d’une tâche.</span><span class="sxs-lookup"><span data-stu-id="5f5ce-124">It reports progress on a task.</span></span>
<span data-ttu-id="5f5ce-125">La tâche se poursuit même s’il n’y a aucun détecteur.</span><span class="sxs-lookup"><span data-stu-id="5f5ce-125">The task continues to proceed whether or not there are any listeners.</span></span>
<span data-ttu-id="5f5ce-126">`FileSearcher` constitue un autre exemple.</span><span class="sxs-lookup"><span data-stu-id="5f5ce-126">The `FileSearcher` is another example.</span></span> <span data-ttu-id="5f5ce-127">Il trouvera tous les fichiers recherchés même si aucun abonné aux événements n’est attaché.</span><span class="sxs-lookup"><span data-stu-id="5f5ce-127">It would still search and find all the files that were sought, even with no event subscribers attached.</span></span>
<span data-ttu-id="5f5ce-128">Les contrôles de l’expérience utilisateur fonctionneront toujours correctement, même si aucun abonné n’est à l’écoute des événements.</span><span class="sxs-lookup"><span data-stu-id="5f5ce-128">UX controls still work correctly, even when there are no subscribers listening to the events.</span></span> <span data-ttu-id="5f5ce-129">Ils utilisent tous deux des conceptions basées sur les événements.</span><span class="sxs-lookup"><span data-stu-id="5f5ce-129">They both use designs based on events.</span></span>

## <a name="return-values-require-delegates"></a><span data-ttu-id="5f5ce-130">Les valeurs de retour nécessitent des délégués</span><span class="sxs-lookup"><span data-stu-id="5f5ce-130">Return Values Require Delegates</span></span>

<span data-ttu-id="5f5ce-131">Une autre considération à prendre en compte est le prototype de méthode souhaité pour votre méthode déléguée.</span><span class="sxs-lookup"><span data-stu-id="5f5ce-131">Another consideration is the method prototype you would want for your delegate method.</span></span> <span data-ttu-id="5f5ce-132">Comme nous l’avons vu, les délégués utilisés pour les événements ont tous un type de retour void.</span><span class="sxs-lookup"><span data-stu-id="5f5ce-132">As you've seen, the delegates used for events all have a void return type.</span></span> <span data-ttu-id="5f5ce-133">Nous avons également vu qu’il existait des idiomes pour créer des gestionnaires d’événements qui repassent des informations aux sources d’événements en modifiant des propriétés de l’objet d’argument d’événement.</span><span class="sxs-lookup"><span data-stu-id="5f5ce-133">You've also seen that there are idioms to create event handlers that do pass information back to event sources through modifying properties of the event argument object.</span></span> <span data-ttu-id="5f5ce-134">Bien que ces idiomes fonctionnent, ils ne sont pas aussi naturels que le retour d’une valeur à partir d’une méthode.</span><span class="sxs-lookup"><span data-stu-id="5f5ce-134">While these idioms do work, they are not as natural as returning a value from a method.</span></span>

<span data-ttu-id="5f5ce-135">Notez que ces heuristiques peuvent souvent être toutes deux présentes : si votre méthode déléguée retourne une valeur, elle aura probablement un impact sur l’algorithme.</span><span class="sxs-lookup"><span data-stu-id="5f5ce-135">Notice that these two heuristics may often both be present: If your delegate method returns a value, it will likely impact the algorithm in some way.</span></span>

## <a name="events-have-private-invocation"></a><span data-ttu-id="5f5ce-136">Les événements ont un appel privé</span><span class="sxs-lookup"><span data-stu-id="5f5ce-136">Events Have Private Invocation</span></span>

<span data-ttu-id="5f5ce-137">Les classes autres que celle dans laquelle un événement est contenu peuvent uniquement ajouter et supprimer des écouteurs d’événements. seule la classe contenant l’événement peut appeler l’événement.</span><span class="sxs-lookup"><span data-stu-id="5f5ce-137">Classes other than the one in which an event is contained can only add and remove event listeners; only the class containing the event can invoke the event.</span></span> <span data-ttu-id="5f5ce-138">Les événements sont généralement des membres de classe publics.</span><span class="sxs-lookup"><span data-stu-id="5f5ce-138">Events are typically public class members.</span></span>
<span data-ttu-id="5f5ce-139">Par comparaison, les délégués sont souvent passés comme paramètres et stockés comme membres de classe privée, s’ils sont stockés du tout.</span><span class="sxs-lookup"><span data-stu-id="5f5ce-139">By comparison, delegates are often passed as parameters and stored as private class members, if they are stored at all.</span></span>

## <a name="event-listeners-often-have-longer-lifetimes"></a><span data-ttu-id="5f5ce-140">Les détecteurs d’événements ont souvent des durées de vie plus longues</span><span class="sxs-lookup"><span data-stu-id="5f5ce-140">Event Listeners Often Have Longer Lifetimes</span></span>

<span data-ttu-id="5f5ce-141">Ces écouteurs d’événements ont une durée de vie légèrement plus faible.</span><span class="sxs-lookup"><span data-stu-id="5f5ce-141">That event listeners have longer lifetimes is a slightly weaker justification.</span></span> <span data-ttu-id="5f5ce-142">Toutefois, vous constaterez peut-être que les conceptions basées sur les événements sont plus naturelles quand la source de l’événement déclenche des événements durant une période prolongée.</span><span class="sxs-lookup"><span data-stu-id="5f5ce-142">However, you may find that event-based designs are more natural when the event source will be raising events over a long period of time.</span></span> <span data-ttu-id="5f5ce-143">Vous pouvez voir des exemples de conception basée sur les événements pour les contrôles d’expérience utilisateur sur de nombreux systèmes.</span><span class="sxs-lookup"><span data-stu-id="5f5ce-143">You can see examples of event-based design for UX controls on many systems.</span></span> <span data-ttu-id="5f5ce-144">Une fois que vous vous êtes abonné à un événement, la source de l’événement peut déclencher des événements pendant toute la durée de vie du programme.</span><span class="sxs-lookup"><span data-stu-id="5f5ce-144">Once you subscribe to an event, the event source may raise events throughout the lifetime of the program.</span></span>
<span data-ttu-id="5f5ce-145">(Vous pouvez vous désabonner à des événements quand vous n’en avez plus besoin.)</span><span class="sxs-lookup"><span data-stu-id="5f5ce-145">(You can unsubscribe from events when you no longer need them.)</span></span>

<span data-ttu-id="5f5ce-146">Comparez cela à de nombreuses conceptions basées sur les délégués, où un délégué est utilisé comme argument d’une méthode et le délégué n’est pas utilisé après le retour de cette méthode.</span><span class="sxs-lookup"><span data-stu-id="5f5ce-146">Contrast that with many delegate-based designs, where a delegate is used as an argument to a method, and the delegate is not used after that method returns.</span></span>

## <a name="evaluate-carefully"></a><span data-ttu-id="5f5ce-147">Évaluez avec soin</span><span class="sxs-lookup"><span data-stu-id="5f5ce-147">Evaluate Carefully</span></span>

<span data-ttu-id="5f5ce-148">Les considérations ci-dessus ne sont pas des règles absolues.</span><span class="sxs-lookup"><span data-stu-id="5f5ce-148">The above considerations are not hard and fast rules.</span></span> <span data-ttu-id="5f5ce-149">Il s’agit plutôt de conseils qui vous aideront à décider de ce qui convient le mieux à votre utilisation particulière.</span><span class="sxs-lookup"><span data-stu-id="5f5ce-149">Instead, they represent guidance that can help you decide which choice is best for your particular usage.</span></span> <span data-ttu-id="5f5ce-150">Les deux fonctionnalités étant similaires, vous pouvez même les prototyper et évaluer celle dont l’utilisation serait plus naturelle.</span><span class="sxs-lookup"><span data-stu-id="5f5ce-150">Because they are similar, you can even prototype both, and consider which would be more natural to work with.</span></span> <span data-ttu-id="5f5ce-151">Elles gèrent également toutes deux les scénarios de liaison tardive.</span><span class="sxs-lookup"><span data-stu-id="5f5ce-151">They both handle late binding scenarios well.</span></span> <span data-ttu-id="5f5ce-152">Utilisez celle qui correspond le mieux à votre conception.</span><span class="sxs-lookup"><span data-stu-id="5f5ce-152">Use the one that communicates your design the best.</span></span>
