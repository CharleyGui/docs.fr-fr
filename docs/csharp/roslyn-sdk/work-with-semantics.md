---
title: Utiliser le modèle sémantique du SDK .NET Compiler Platform
description: Cette présentation fournit des informations sur le type que vous utilisez pour comprendre et manipuler le modèle sémantique de votre code.
ms.date: 10/15/2017
ms.custom: mvc
ms.openlocfilehash: c594447bb553f488d60fe83900e2f141608b570f
ms.sourcegitcommit: 6f28b709592503d27077b16fff2e2eacca569992
ms.translationtype: HT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/28/2019
ms.locfileid: "70105670"
---
# <a name="work-with-semantics"></a><span data-ttu-id="3c31c-103">Utiliser la sémantique</span><span class="sxs-lookup"><span data-stu-id="3c31c-103">Work with semantics</span></span>

<span data-ttu-id="3c31c-104">Les [arborescences de syntaxe](work-with-syntax.md) représentent la structure lexicale et syntaxique du code source.</span><span class="sxs-lookup"><span data-stu-id="3c31c-104">[Syntax trees](work-with-syntax.md) represent the lexical and syntactic structure of source code.</span></span> <span data-ttu-id="3c31c-105">Cette information est suffisante pour décrire toutes les déclarations et la logique utilisées dans le code source, mais elle ne l’est pas pour identifier l’élément référencé.</span><span class="sxs-lookup"><span data-stu-id="3c31c-105">Although this information alone is enough to describe all the declarations and logic in the source, it is not enough information to identify what is being referenced.</span></span> <span data-ttu-id="3c31c-106">Un nom peut représenter les éléments suivants :</span><span class="sxs-lookup"><span data-stu-id="3c31c-106">A name may represent:</span></span>

- <span data-ttu-id="3c31c-107">Un type</span><span class="sxs-lookup"><span data-stu-id="3c31c-107">a type</span></span>
- <span data-ttu-id="3c31c-108">Un champ</span><span class="sxs-lookup"><span data-stu-id="3c31c-108">a field</span></span>
- <span data-ttu-id="3c31c-109">Une méthode</span><span class="sxs-lookup"><span data-stu-id="3c31c-109">a method</span></span>
- <span data-ttu-id="3c31c-110">Une variable locale</span><span class="sxs-lookup"><span data-stu-id="3c31c-110">a local variable</span></span>

<span data-ttu-id="3c31c-111">Ces éléments se distinguent par des caractéristiques uniques. Toutefois, pour déterminer à quel élément un identificateur fait réellement référence, avoir une connaissance approfondie des règles de langage s’avère souvent indispensable.</span><span class="sxs-lookup"><span data-stu-id="3c31c-111">Although each of these is uniquely different, determining which one an identifier actually refers to often requires a deep understanding of the language rules.</span></span> 

<span data-ttu-id="3c31c-112">Certains éléments de programme sont représentés dans le code source, mais les programmes peuvent aussi faire référence à des bibliothèques précédemment compilées, empaquetées dans des fichiers d’assembly.</span><span class="sxs-lookup"><span data-stu-id="3c31c-112">There are program elements represented in source code, and programs can also refer to previously compiled libraries, packaged in assembly files.</span></span> <span data-ttu-id="3c31c-113">Il n’y a pas de code source et donc pas d’arborescences ni nœuds de syntaxe disponibles pour les assemblys, mais les programmes peuvent faire référence à des éléments qu’ils contiennent.</span><span class="sxs-lookup"><span data-stu-id="3c31c-113">Although no source code, and therefore no syntax nodes or trees, are available for assemblies, programs can still refer to elements inside them.</span></span>

<span data-ttu-id="3c31c-114">Pour ces tâches, vous devez utiliser le **modèle sémantique**.</span><span class="sxs-lookup"><span data-stu-id="3c31c-114">For those tasks, you need the **Semantic model**.</span></span>

<span data-ttu-id="3c31c-115">Par rapport à un modèle syntaxique du code source, un modèle sémantique encapsule en plus les règles de langage, ce qui vous aide à associer correctement les identificateurs avec l’élément de programme référencé.</span><span class="sxs-lookup"><span data-stu-id="3c31c-115">In addition to a syntactic model of the source code, a semantic model encapsulates the language rules, giving you an easy way to correctly match identifiers with the correct program element being referenced.</span></span>

## <a name="compilation"></a><span data-ttu-id="3c31c-116">Compilation</span><span class="sxs-lookup"><span data-stu-id="3c31c-116">Compilation</span></span>

<span data-ttu-id="3c31c-117">Une compilation est une représentation de tous les éléments nécessaires à la compilation d’un programme C# ou Visual Basic, à savoir l’ensemble des références d’assembly, des options du compilateur et des fichiers sources.</span><span class="sxs-lookup"><span data-stu-id="3c31c-117">A compilation is a representation of everything needed to compile a C# or Visual Basic program, which includes all the assembly references, compiler options, and source files.</span></span> 

<span data-ttu-id="3c31c-118">Toutes ces informations étant stockées au même emplacement, les éléments contenus dans le code source peuvent être décrits plus en détail.</span><span class="sxs-lookup"><span data-stu-id="3c31c-118">Because all this information is in one place, the elements contained in the source code can be described in more detail.</span></span> <span data-ttu-id="3c31c-119">La compilation représente chaque élément déclaré (type, membre ou variable) sous forme de symbole.</span><span class="sxs-lookup"><span data-stu-id="3c31c-119">The compilation represents each declared type, member, or variable as a symbol.</span></span> <span data-ttu-id="3c31c-120">La compilation contient diverses méthodes qui vous aident à trouver et associer les symboles qui ont été déclarés dans le code source, ou importés en tant que métadonnées à partir d’un assembly.</span><span class="sxs-lookup"><span data-stu-id="3c31c-120">The compilation contains a variety of methods that help you find and relate the symbols that have either been declared in the source code or imported as metadata from an assembly.</span></span>

<span data-ttu-id="3c31c-121">De la même façon que les arborescences de syntaxe, les compilations sont immuables.</span><span class="sxs-lookup"><span data-stu-id="3c31c-121">Similar to syntax trees, compilations are immutable.</span></span> <span data-ttu-id="3c31c-122">Une fois créée, une compilation ne peut plus être modifiée, que ce soit par vous ou par tout autre utilisateur avec qui vous la partagez.</span><span class="sxs-lookup"><span data-stu-id="3c31c-122">After you create a compilation, it cannot be changed by you or anyone else you might be sharing it with.</span></span> <span data-ttu-id="3c31c-123">Toutefois, vous pouvez créer une autre compilation à partir d’une compilation existante, en y apportant la modification souhaitée.</span><span class="sxs-lookup"><span data-stu-id="3c31c-123">However, you can create a new compilation from an existing compilation, specifying a change as you do so.</span></span> <span data-ttu-id="3c31c-124">Par exemple, vous pouvez créer une compilation semblable en tous points à une compilation existante, mais y ajouter un fichier source ou une référence d’assembly supplémentaire.</span><span class="sxs-lookup"><span data-stu-id="3c31c-124">For example, you might create a compilation that is the same in every way as an existing compilation, except it may include an additional source file or assembly reference.</span></span>

## <a name="symbols"></a><span data-ttu-id="3c31c-125">Symboles</span><span class="sxs-lookup"><span data-stu-id="3c31c-125">Symbols</span></span>

<span data-ttu-id="3c31c-126">Un symbole représente un élément distinct qui est déclaré dans le code source, ou importé en tant que métadonnées à partir d’un assembly.</span><span class="sxs-lookup"><span data-stu-id="3c31c-126">A symbol represents a distinct element declared by the source code or imported from an assembly as metadata.</span></span> <span data-ttu-id="3c31c-127">Chaque élément (espace de noms, type, méthode, propriété, champ, événement, paramètre ou variable locale) est représenté par un symbole.</span><span class="sxs-lookup"><span data-stu-id="3c31c-127">Every namespace, type, method, property, field, event, parameter, or local variable is represented by a symbol.</span></span> 

<span data-ttu-id="3c31c-128">Diverses méthodes et propriétés du type <xref:Microsoft.CodeAnalysis.Compilation> vous aident à trouver les symboles.</span><span class="sxs-lookup"><span data-stu-id="3c31c-128">A variety of methods and properties on the <xref:Microsoft.CodeAnalysis.Compilation> type help you find symbols.</span></span> <span data-ttu-id="3c31c-129">Par exemple, vous pouvez rechercher un symbole d’un type déclaré par son nom de métadonnées commun.</span><span class="sxs-lookup"><span data-stu-id="3c31c-129">For example, you can find a symbol for a declared type by its common metadata name.</span></span> <span data-ttu-id="3c31c-130">Vous pouvez aussi accéder à la table de symboles entière comme une arborescence de symboles ayant pour racine l’espace de noms global.</span><span class="sxs-lookup"><span data-stu-id="3c31c-130">You can also access the entire symbol table as a tree of symbols rooted by the global namespace.</span></span>

<span data-ttu-id="3c31c-131">Les symboles contiennent également des informations supplémentaires que le compilateur collecte à partir du code source ou des métadonnées, par exemple, les autres symboles référencés.</span><span class="sxs-lookup"><span data-stu-id="3c31c-131">Symbols also contain additional information that the compiler determines from the source or metadata, such as other referenced symbols.</span></span> <span data-ttu-id="3c31c-132">Chaque genre de symbole est représenté par une interface distincte dérivée de l’interface <xref:Microsoft.CodeAnalysis.ISymbol>, qui a ses propres méthodes et propriétés pour décrire en détail les informations collectées par le compilateur.</span><span class="sxs-lookup"><span data-stu-id="3c31c-132">Each kind of symbol is represented by a separate interface derived from <xref:Microsoft.CodeAnalysis.ISymbol>, each with its own methods and properties detailing the information the compiler has gathered.</span></span> <span data-ttu-id="3c31c-133">Nombre de ces propriétés référencent directement d’autres symboles.</span><span class="sxs-lookup"><span data-stu-id="3c31c-133">Many of these properties directly reference other symbols.</span></span> <span data-ttu-id="3c31c-134">Par exemple, la propriété <xref:Microsoft.CodeAnalysis.IMethodSymbol.ReturnType?displayProperty=nameWithType> indique quel symbole de type est référencé par la déclaration de méthode.</span><span class="sxs-lookup"><span data-stu-id="3c31c-134">For example, the <xref:Microsoft.CodeAnalysis.IMethodSymbol.ReturnType?displayProperty=nameWithType> property tells you the actual type symbol that the method declaration references.</span></span>

<span data-ttu-id="3c31c-135">Les symboles fournissent une représentation des espaces de noms, types et membres commune au code source et aux métadonnées.</span><span class="sxs-lookup"><span data-stu-id="3c31c-135">Symbols present a common representation of namespaces, types, and members, between source code and metadata.</span></span> <span data-ttu-id="3c31c-136">Par exemple, une méthode déclarée dans le code source et une méthode importée des métadonnées sont toutes les deux représentées par un symbole <xref:Microsoft.CodeAnalysis.IMethodSymbol> ayant les mêmes propriétés.</span><span class="sxs-lookup"><span data-stu-id="3c31c-136">For example, a method that was declared in source code and a method that was imported from metadata are both represented by an <xref:Microsoft.CodeAnalysis.IMethodSymbol> with the same properties.</span></span>

<span data-ttu-id="3c31c-137">Sur un plan conceptuel, les symboles sont similaires au système de type CLR représenté par l’API <xref:System.Reflection>, mais ils sont plus complets dans la mesure où ils modélisent d’autres éléments que des types.</span><span class="sxs-lookup"><span data-stu-id="3c31c-137">Symbols are similar in concept to the CLR type system as represented by the <xref:System.Reflection> API, yet they are richer in that they model more than just types.</span></span> <span data-ttu-id="3c31c-138">Les espaces de noms, les variables locales et les étiquettes sont tous des symboles.</span><span class="sxs-lookup"><span data-stu-id="3c31c-138">Namespaces, local variables, and labels are all symbols.</span></span> <span data-ttu-id="3c31c-139">De plus, les symboles sont une représentation des concepts du langage, pas des concepts du CLR.</span><span class="sxs-lookup"><span data-stu-id="3c31c-139">In addition, symbols are a representation of language concepts, not CLR concepts.</span></span> <span data-ttu-id="3c31c-140">Il y a beaucoup de similitudes, mais aussi de nombreuses différences importantes.</span><span class="sxs-lookup"><span data-stu-id="3c31c-140">There is a lot of overlap, but there are many meaningful distinctions as well.</span></span> <span data-ttu-id="3c31c-141">Par exemple, une méthode d’itérateur en C# ou Visual Basic est un symbole unique.</span><span class="sxs-lookup"><span data-stu-id="3c31c-141">For instance, an iterator method in C# or Visual Basic is a single symbol.</span></span> <span data-ttu-id="3c31c-142">Quand la méthode d’itérateur est convertie en métadonnées CLR, elle devient un type avec plusieurs méthodes.</span><span class="sxs-lookup"><span data-stu-id="3c31c-142">However, when the iterator method is translated to CLR metadata, it is a type and multiple methods.</span></span>

## <a name="semantic-model"></a><span data-ttu-id="3c31c-143">Modèle sémantique</span><span class="sxs-lookup"><span data-stu-id="3c31c-143">Semantic model</span></span>

<span data-ttu-id="3c31c-144">Un modèle sémantique représente toutes les informations sémantiques relatives à un fichier source unique.</span><span class="sxs-lookup"><span data-stu-id="3c31c-144">A semantic model represents all the semantic information for a single source file.</span></span> <span data-ttu-id="3c31c-145">Vous pouvez utiliser ce modèle pour découvrir les éléments suivants :</span><span class="sxs-lookup"><span data-stu-id="3c31c-145">You can use it to discover the following:</span></span> 

- <span data-ttu-id="3c31c-146">Les symboles référencés à un emplacement spécifique dans le code source.</span><span class="sxs-lookup"><span data-stu-id="3c31c-146">The symbols referenced at a specific location in source.</span></span>
- <span data-ttu-id="3c31c-147">Le type résultant d’une expression.</span><span class="sxs-lookup"><span data-stu-id="3c31c-147">The resultant type of any expression.</span></span>
- <span data-ttu-id="3c31c-148">Tous les diagnostics (erreurs et avertissements).</span><span class="sxs-lookup"><span data-stu-id="3c31c-148">All diagnostics, which are errors and warnings.</span></span>
- <span data-ttu-id="3c31c-149">Les flux entrants et sortants des variables dans les régions du code source.</span><span class="sxs-lookup"><span data-stu-id="3c31c-149">How variables flow in and out of regions of source.</span></span>
- <span data-ttu-id="3c31c-150">Les réponses à des questions plus spéculatives.</span><span class="sxs-lookup"><span data-stu-id="3c31c-150">The answers to more speculative questions.</span></span>
