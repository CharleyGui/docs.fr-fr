---
title: Améliorer les API pour les types de référence nuls avec des attributs qui définissent les attentes pour les valeurs nulles
description: Apprenez à utiliser les attributs descriptifs AllowNull, DisallowNull, MaybeNull, NotNull et plus encore pour décrire pleinement l’état nul de vos API.
ms.technology: csharp-null-safety
ms.date: 07/31/2019
ms.openlocfilehash: 5d7a864ba1b66ad6b4ae7b0391d170a29147c537
ms.sourcegitcommit: f87ad41b8e62622da126aa928f7640108c4eff98
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 04/07/2020
ms.locfileid: "80805842"
---
# <a name="update-libraries-to-use-nullable-reference-types-and-communicate-nullable-rules-to-callers"></a><span data-ttu-id="d8967-103">Mettre à jour les bibliothèques pour qu’elles utilisent des types de référence nuls et communiquent des règles in annulables aux appelants</span><span class="sxs-lookup"><span data-stu-id="d8967-103">Update libraries to use nullable reference types and communicate nullable rules to callers</span></span>

<span data-ttu-id="d8967-104">L’ajout de types de [référence in annulables](nullable-references.md) signifie que vous pouvez déclarer si une `null` valeur est autorisée ou attendue pour chaque variable.</span><span class="sxs-lookup"><span data-stu-id="d8967-104">The addition of [nullable reference types](nullable-references.md) means you can declare whether or not a `null` value is allowed or expected for every variable.</span></span> <span data-ttu-id="d8967-105">En outre, vous pouvez appliquer un `AllowNull` `DisallowNull`certain `MaybeNull` `NotNull`nombre `NotNullWhen` `MaybeNullWhen`d’attributs: , , , , , et `NotNullIfNotNull` de décrire complètement les états nuls de l’argumentation et les valeurs de retour.</span><span class="sxs-lookup"><span data-stu-id="d8967-105">In addition, you can apply a number of attributes: `AllowNull`, `DisallowNull`, `MaybeNull`, `NotNull`, `NotNullWhen`, `MaybeNullWhen`, and `NotNullIfNotNull` to completely describe the null states of argument and return values.</span></span> <span data-ttu-id="d8967-106">Cela offre une grande expérience que vous écrivez du code.</span><span class="sxs-lookup"><span data-stu-id="d8967-106">That provides a great experience as you write code.</span></span> <span data-ttu-id="d8967-107">Vous obtenez des avertissements si une variable `null`non-nullable pourrait être définie à .</span><span class="sxs-lookup"><span data-stu-id="d8967-107">You get warnings if a non-nullable variable might be set to `null`.</span></span> <span data-ttu-id="d8967-108">Vous obtenez des avertissements si une variable nulle n’est pas vérifiée non vérifiée avant de la déreférencer.</span><span class="sxs-lookup"><span data-stu-id="d8967-108">You get warnings if a nullable variable isn't null-checked before you dereference it.</span></span> <span data-ttu-id="d8967-109">La mise à jour de vos bibliothèques peut prendre du temps, mais les retombées en valent la peine.</span><span class="sxs-lookup"><span data-stu-id="d8967-109">Updating your libraries can take time, but the payoffs are worth it.</span></span> <span data-ttu-id="d8967-110">Plus vous fournissez d’informations au `null` compilateur sur le *moment où* une valeur est autorisée ou interdite, les meilleurs avertissements que les utilisateurs de votre API obtiendront.</span><span class="sxs-lookup"><span data-stu-id="d8967-110">The more information you provide to the compiler about *when* a `null` value is allowed or prohibited, the better warnings users of your API will get.</span></span> <span data-ttu-id="d8967-111">Commençons par un exemple familier.</span><span class="sxs-lookup"><span data-stu-id="d8967-111">Let's start with a familiar example.</span></span> <span data-ttu-id="d8967-112">Imaginez que votre bibliothèque dispose de l’API suivante pour récupérer une chaîne de ressources :</span><span class="sxs-lookup"><span data-stu-id="d8967-112">Imagine your library has the following API to retrieve a resource string:</span></span>

```csharp
bool TryGetMessage(string key, out string message)
```

<span data-ttu-id="d8967-113">L’exemple précédent `Try*` suit le modèle familier en .NET.</span><span class="sxs-lookup"><span data-stu-id="d8967-113">The preceding example follows the familiar `Try*` pattern in .NET.</span></span> <span data-ttu-id="d8967-114">Il existe deux arguments de référence `key` pour `message` cette API : le et le paramètre.</span><span class="sxs-lookup"><span data-stu-id="d8967-114">There are two reference arguments for this API: the `key` and the `message` parameter.</span></span> <span data-ttu-id="d8967-115">Cette API a les règles suivantes relatives à l’annulation de ces arguments :</span><span class="sxs-lookup"><span data-stu-id="d8967-115">This API has the following rules relating to the nullness of these arguments:</span></span>

- <span data-ttu-id="d8967-116">Les appelants `null` ne devraient pas `key`passer comme l’argument pour .</span><span class="sxs-lookup"><span data-stu-id="d8967-116">Callers shouldn't pass `null` as the argument for `key`.</span></span>
- <span data-ttu-id="d8967-117">Les appelants peuvent passer une `null` variable dont `message`la valeur est comme l’argument pour .</span><span class="sxs-lookup"><span data-stu-id="d8967-117">Callers can pass a variable whose value is `null` as the argument for `message`.</span></span>
- <span data-ttu-id="d8967-118">Si `TryGetMessage` la `true`méthode revient, la valeur de `message` n’est pas nulle.</span><span class="sxs-lookup"><span data-stu-id="d8967-118">If the `TryGetMessage` method returns `true`, the value of `message` isn't null.</span></span> <span data-ttu-id="d8967-119">Si la valeur `false,` de `message` rendement est la valeur de (et son état nul) est nulle.</span><span class="sxs-lookup"><span data-stu-id="d8967-119">If the return value is `false,` the value of `message` (and its null state) is null.</span></span>

<span data-ttu-id="d8967-120">La règle `key` pour peut être entièrement `key` exprimée par le type variable: devrait être un type de référence non-nullable.</span><span class="sxs-lookup"><span data-stu-id="d8967-120">The rule for `key` can be completely expressed by the variable type: `key` should be a non-nullable reference type.</span></span> <span data-ttu-id="d8967-121">Le `message` paramètre est plus complexe.</span><span class="sxs-lookup"><span data-stu-id="d8967-121">The `message` parameter is more complex.</span></span> <span data-ttu-id="d8967-122">Il `null` permet comme argument, mais garantit que, sur le succès, cet `out` argument n’est pas nul.</span><span class="sxs-lookup"><span data-stu-id="d8967-122">It allows `null` as the argument, but guarantees that, on success, that `out` argument isn't null.</span></span> <span data-ttu-id="d8967-123">Pour ces scénarios, vous avez besoin d’un vocabulaire plus riche pour décrire les attentes.</span><span class="sxs-lookup"><span data-stu-id="d8967-123">For these scenarios, you need a richer vocabulary to describe the expectations.</span></span>

<span data-ttu-id="d8967-124">La mise à jour de votre bibliothèque `?` pour les références annulées nécessite plus que saupoudrer sur certaines des variables et des noms de type.</span><span class="sxs-lookup"><span data-stu-id="d8967-124">Updating your library for nullable references requires more than sprinkling `?` on some of the variables and type names.</span></span> <span data-ttu-id="d8967-125">L’exemple précédent montre que vous devez examiner vos API et tenir compte de vos attentes pour chaque argument d’entrée.</span><span class="sxs-lookup"><span data-stu-id="d8967-125">The preceding example shows that you need to examine your APIs and consider your expectations for each input argument.</span></span> <span data-ttu-id="d8967-126">Tenez compte des garanties pour `out` la `ref` valeur de retour, et tout ou argumentation lors du retour de la méthode.</span><span class="sxs-lookup"><span data-stu-id="d8967-126">Consider the guarantees for the return value, and any `out` or `ref` arguments upon the method's return.</span></span> <span data-ttu-id="d8967-127">Communiquez ensuite ces règles au compilateur, et le compilateur fournira des avertissements lorsque les appelants ne respectent pas ces règles.</span><span class="sxs-lookup"><span data-stu-id="d8967-127">Then communicate those rules to the compiler, and the compiler will provide warnings when callers don't abide by those rules.</span></span>

<span data-ttu-id="d8967-128">Ce travail prend du temps.</span><span class="sxs-lookup"><span data-stu-id="d8967-128">This work takes time.</span></span> <span data-ttu-id="d8967-129">Commençons par des stratégies pour rendre votre bibliothèque ou votre application in annulable, tout en équilibrant d’autres exigences et livrables.</span><span class="sxs-lookup"><span data-stu-id="d8967-129">Let's start with strategies to make your library or application nullable-aware, while balancing other requirements and deliverables.</span></span> <span data-ttu-id="d8967-130">Vous verrez comment équilibrer le développement en cours permettant des types de référence nuls.</span><span class="sxs-lookup"><span data-stu-id="d8967-130">You'll see how to balance ongoing development enabling nullable reference types.</span></span> <span data-ttu-id="d8967-131">Vous apprendrez des défis pour les définitions de type générique.</span><span class="sxs-lookup"><span data-stu-id="d8967-131">You'll learn challenges for generic type definitions.</span></span> <span data-ttu-id="d8967-132">Vous apprendrez à appliquer des attributs pour décrire les conditions préalables et post-conditions sur les API individuelles.</span><span class="sxs-lookup"><span data-stu-id="d8967-132">You'll learn to apply attributes to describe pre- and post-conditions on individual APIs.</span></span>

## <a name="choose-a-strategy-for-nullable-reference-types"></a><span data-ttu-id="d8967-133">Choisissez une stratégie pour les types de référence nuls</span><span class="sxs-lookup"><span data-stu-id="d8967-133">Choose a strategy for nullable reference types</span></span>

<span data-ttu-id="d8967-134">Le premier choix est de savoir si les types de référence nuls doivent être allumés ou annulés par défaut.</span><span class="sxs-lookup"><span data-stu-id="d8967-134">The first choice is whether nullable reference types should be on or off by default.</span></span> <span data-ttu-id="d8967-135">Vous avez deux stratégies :</span><span class="sxs-lookup"><span data-stu-id="d8967-135">You have two strategies:</span></span>

- <span data-ttu-id="d8967-136">Activez les types de référence nuls pour l’ensemble du projet et désactivez-le dans un code qui n’est pas prêt.</span><span class="sxs-lookup"><span data-stu-id="d8967-136">Enable nullable reference types for the entire project, and disable it in code that's not ready.</span></span>
- <span data-ttu-id="d8967-137">N’activez que les types de référence inquérables pour le code qui a été annoté pour les types de référence annulés.</span><span class="sxs-lookup"><span data-stu-id="d8967-137">Only enable nullable reference types for code that's been annotated for nullable reference types.</span></span>

<span data-ttu-id="d8967-138">La première stratégie fonctionne mieux lorsque vous ajoutez d’autres fonctionnalités à la bibliothèque lorsque vous la mettez à jour pour les types de référence nuls.</span><span class="sxs-lookup"><span data-stu-id="d8967-138">The first strategy works best when you're adding other features to the library as you update it for nullable reference types.</span></span> <span data-ttu-id="d8967-139">Tout nouveau développement est invenu conscient.</span><span class="sxs-lookup"><span data-stu-id="d8967-139">All new development is nullable aware.</span></span> <span data-ttu-id="d8967-140">Lorsque vous mettez à jour le code existant, vous activez des types de référence nuls dans ces classes.</span><span class="sxs-lookup"><span data-stu-id="d8967-140">As you update existing code, you enable nullable reference types in those classes.</span></span>

<span data-ttu-id="d8967-141">Suite à cette première stratégie, vous faites ce qui suit :</span><span class="sxs-lookup"><span data-stu-id="d8967-141">Following this first strategy, you do the following:</span></span>

1. <span data-ttu-id="d8967-142">Activez les types de référence nuls pour l’ensemble du projet en ajoutant l’élément `<Nullable>enable</Nullable>` à vos fichiers *csproj.*</span><span class="sxs-lookup"><span data-stu-id="d8967-142">Enable nullable reference types for the entire project by adding the `<Nullable>enable</Nullable>` element to your *csproj* files.</span></span>
1. <span data-ttu-id="d8967-143">Ajoutez `#nullable disable` le pragma à chaque fichier source de votre projet.</span><span class="sxs-lookup"><span data-stu-id="d8967-143">Add the `#nullable disable` pragma to every source file in your project.</span></span>
1. <span data-ttu-id="d8967-144">Lorsque vous travaillez sur chaque fichier, retirez le pragma et adressez les avertissements.</span><span class="sxs-lookup"><span data-stu-id="d8967-144">As you work on each file, remove the pragma and address any warnings.</span></span>

<span data-ttu-id="d8967-145">Cette première stratégie a plus de travail à l’avance pour ajouter le pragma à chaque fichier.</span><span class="sxs-lookup"><span data-stu-id="d8967-145">This first strategy has more up-front work to add the pragma to every file.</span></span> <span data-ttu-id="d8967-146">L’avantage est que chaque nouveau fichier de code ajouté au projet sera annulé activé.</span><span class="sxs-lookup"><span data-stu-id="d8967-146">The advantage is that every new code file added to the project will be nullable enabled.</span></span> <span data-ttu-id="d8967-147">Tout nouveau travail sera in nullable au courant; seul le code existant doit être mis à jour.</span><span class="sxs-lookup"><span data-stu-id="d8967-147">Any new work will be nullable aware; only existing code must be updated.</span></span>

<span data-ttu-id="d8967-148">La deuxième stratégie fonctionne mieux si la bibliothèque est généralement stable, et l’objectif principal de l’élaboration est d’adopter des types de référence nuls.</span><span class="sxs-lookup"><span data-stu-id="d8967-148">The second strategy works better if the library is generally stable, and the main focus of the development is to adopt nullable reference types.</span></span> <span data-ttu-id="d8967-149">Vous activez les types de référence incontables au fur et à mesure que vous annotez les API.</span><span class="sxs-lookup"><span data-stu-id="d8967-149">You turn on nullable reference types as you annotate APIs.</span></span> <span data-ttu-id="d8967-150">Lorsque vous avez terminé, vous activez des types de référence nuls pour l’ensemble du projet.</span><span class="sxs-lookup"><span data-stu-id="d8967-150">When you've finished, you enable nullable reference types for the entire project.</span></span>

<span data-ttu-id="d8967-151">Suite à cette deuxième stratégie, vous faites ce qui suit :</span><span class="sxs-lookup"><span data-stu-id="d8967-151">Following this second strategy you do the following:</span></span>

1. <span data-ttu-id="d8967-152">Ajoutez `#nullable enable` le pragma au fichier que vous souhaitez rendre nul possible.</span><span class="sxs-lookup"><span data-stu-id="d8967-152">Add the `#nullable enable` pragma to the file you want to make nullable aware.</span></span>
1. <span data-ttu-id="d8967-153">Adressez tous les avertissements.</span><span class="sxs-lookup"><span data-stu-id="d8967-153">Address any warnings.</span></span>
1. <span data-ttu-id="d8967-154">Poursuivez ces deux premières étapes jusqu’à ce que vous ayez rendu la bibliothèque nulle au courant.</span><span class="sxs-lookup"><span data-stu-id="d8967-154">Continue these first two steps until you've made the entire library nullable aware.</span></span>
1. <span data-ttu-id="d8967-155">Activez les types nuls pour `<Nullable>enable</Nullable>` l’ensemble du projet en ajoutant l’élément à vos fichiers *csproj.*</span><span class="sxs-lookup"><span data-stu-id="d8967-155">Enable nullable types for the entire project by adding the `<Nullable>enable</Nullable>` element to your *csproj* files.</span></span>
1. <span data-ttu-id="d8967-156">Retirez `#nullable enable` les pragmas, car ils ne sont plus nécessaires.</span><span class="sxs-lookup"><span data-stu-id="d8967-156">Remove the `#nullable enable` pragmas, as they're no longer needed.</span></span>

<span data-ttu-id="d8967-157">Cette deuxième stratégie a moins de travail à l’avance.</span><span class="sxs-lookup"><span data-stu-id="d8967-157">This second strategy has less work up-front.</span></span> <span data-ttu-id="d8967-158">Le compromis est que la première tâche lorsque vous créez un nouveau fichier est d’ajouter le pragma et le rendre invenu possible.</span><span class="sxs-lookup"><span data-stu-id="d8967-158">The tradeoff is that the first task when you create a new file is to add the pragma and make it nullable aware.</span></span> <span data-ttu-id="d8967-159">Si des développeurs de votre équipe oublient, ce nouveau code est maintenant dans l’arriéré de travail pour rendre tout le code infirament.</span><span class="sxs-lookup"><span data-stu-id="d8967-159">If any developers on your team forget, that new code is now in the backlog of work to make all code nullable aware.</span></span>

<span data-ttu-id="d8967-160">Les stratégies que vous choisissez dépendent de l’ampleur du développement actif de votre projet.</span><span class="sxs-lookup"><span data-stu-id="d8967-160">Which of these strategies you pick depends on how much active development is taking place in your project.</span></span> <span data-ttu-id="d8967-161">Plus votre projet est mature et stable, meilleure est la deuxième stratégie.</span><span class="sxs-lookup"><span data-stu-id="d8967-161">The more mature and stable your project, the better the second strategy.</span></span> <span data-ttu-id="d8967-162">Plus il y a de fonctionnalités développées, meilleure est la première stratégie.</span><span class="sxs-lookup"><span data-stu-id="d8967-162">The more features being developed, the better the first strategy.</span></span>

## <a name="should-nullable-warnings-introduce-breaking-changes"></a><span data-ttu-id="d8967-163">Les avertissements annulés devraient-ils introduire des changements de rupture?</span><span class="sxs-lookup"><span data-stu-id="d8967-163">Should nullable warnings introduce breaking changes?</span></span>

<span data-ttu-id="d8967-164">Avant d’activer les types de référence annulables, les variables sont considérées comme *nulles inconscientes.*</span><span class="sxs-lookup"><span data-stu-id="d8967-164">Before you enable nullable reference types, variables are considered *nullable oblivious*.</span></span> <span data-ttu-id="d8967-165">Une fois que vous activez les types de référence annulés, toutes ces variables ne sont *pas annulables.*</span><span class="sxs-lookup"><span data-stu-id="d8967-165">Once you enable nullable reference types, all those variables are *non-nullable*.</span></span> <span data-ttu-id="d8967-166">Le compilateur émettra des avertissements si ces variables ne sont pas parasitées à des valeurs non nulles.</span><span class="sxs-lookup"><span data-stu-id="d8967-166">The compiler will issue warnings if those variables aren't initialized to non-null values.</span></span>

<span data-ttu-id="d8967-167">Une autre source probable d’avertissements est les valeurs de rendement lorsque la valeur n’a pas été parasécée.</span><span class="sxs-lookup"><span data-stu-id="d8967-167">Another likely source of warnings is return values when the value hasn't been initialized.</span></span>

<span data-ttu-id="d8967-168">La première étape pour traiter les avertissements `?` de compilateur est d’utiliser des annotations sur les types de paramètres et de retour pour indiquer quand les arguments ou les valeurs de retour peuvent être nuls.</span><span class="sxs-lookup"><span data-stu-id="d8967-168">The first step in addressing the compiler warnings is to use `?` annotations on parameter and return types to indicate when arguments or return values may be null.</span></span> <span data-ttu-id="d8967-169">Lorsque les variables de référence ne doivent pas être nulles, la déclaration initiale est correcte.</span><span class="sxs-lookup"><span data-stu-id="d8967-169">When reference variables must not be null, the original declaration is correct.</span></span> <span data-ttu-id="d8967-170">Comme vous le faites, votre objectif n’est pas seulement de fixer les avertissements.</span><span class="sxs-lookup"><span data-stu-id="d8967-170">As you do this, your goal isn't just to fix warnings.</span></span> <span data-ttu-id="d8967-171">L’objectif le plus important est de faire comprendre au compilateur votre intention de valeurs nulles potentielles.</span><span class="sxs-lookup"><span data-stu-id="d8967-171">The more important goal is to make the compiler understand your intent for potential null values.</span></span> <span data-ttu-id="d8967-172">Lorsque vous examinez les avertissements, vous arrivez à votre prochaine décision majeure pour votre bibliothèque.</span><span class="sxs-lookup"><span data-stu-id="d8967-172">As you examine the warnings, you reach your next major decision for your library.</span></span> <span data-ttu-id="d8967-173">Voulez-vous envisager de modifier les signatures API pour communiquer plus clairement votre intention de conception?</span><span class="sxs-lookup"><span data-stu-id="d8967-173">Do you want to consider modifying API signatures to more clearly communicate your design intent?</span></span> <span data-ttu-id="d8967-174">Une meilleure signature API pour la `TryGetMessage` méthode examinée plus tôt pourrait être :</span><span class="sxs-lookup"><span data-stu-id="d8967-174">A better API signature for the `TryGetMessage` method examined earlier could be:</span></span>

```csharp
string? TryGetMessage(string key);
```

<span data-ttu-id="d8967-175">La valeur de rendement indique le succès ou l’échec, et porte la valeur si la valeur a été trouvée.</span><span class="sxs-lookup"><span data-stu-id="d8967-175">The return value indicates success or failure, and carries the value if the value was found.</span></span> <span data-ttu-id="d8967-176">Dans de nombreux cas, la modification des signatures API peut améliorer la façon dont elles communiquent des valeurs nulles.</span><span class="sxs-lookup"><span data-stu-id="d8967-176">In many cases, changing API signatures can improve how they communicate null values.</span></span>

<span data-ttu-id="d8967-177">Toutefois, pour les bibliothèques publiques ou les bibliothèques dotées de grandes bases d’utilisateurs, vous préférerez peut-être ne pas introduire de modifications de signatures de l’API.</span><span class="sxs-lookup"><span data-stu-id="d8967-177">However, for public libraries, or libraries with large user bases, you may prefer not introducing any API signature changes.</span></span> <span data-ttu-id="d8967-178">Pour ces cas, et d’autres modèles communs, vous pouvez appliquer des `null`attributs pour définir plus clairement quand un argument ou une valeur de retour peut être .</span><span class="sxs-lookup"><span data-stu-id="d8967-178">For those cases, and other common patterns, you can apply attributes to more clearly define when an argument or return value may be `null`.</span></span> <span data-ttu-id="d8967-179">Que vous envisagez ou non de changer la surface de votre API, vous constaterez `null` probablement que les annotations de type à elles seules ne sont pas suffisantes pour décrire les valeurs pour les arguments ou les valeurs de retour.</span><span class="sxs-lookup"><span data-stu-id="d8967-179">Whether or not you consider changing the surface of your API, you'll likely find that type annotations alone aren't sufficient for describing `null` values for arguments or return values.</span></span> <span data-ttu-id="d8967-180">Dans ces cas, vous pouvez appliquer des attributs pour décrire plus clairement une API.</span><span class="sxs-lookup"><span data-stu-id="d8967-180">In those instances, you can apply attributes to more clearly describe an API.</span></span>

## <a name="attributes-extend-type-annotations"></a><span data-ttu-id="d8967-181">Les attributs prolongent les annotations de type</span><span class="sxs-lookup"><span data-stu-id="d8967-181">Attributes extend type annotations</span></span>

<span data-ttu-id="d8967-182">Plusieurs attributs ont été ajoutés pour exprimer des informations supplémentaires sur l’état nul des variables.</span><span class="sxs-lookup"><span data-stu-id="d8967-182">Several attributes have been added to express additional information about the null state of variables.</span></span> <span data-ttu-id="d8967-183">Tout le code que vous avez écrit avant que le C 8 n’introduise des types de référence nuls *était nul inconscient.*</span><span class="sxs-lookup"><span data-stu-id="d8967-183">All code you wrote before C# 8 introduced nullable reference types was *null oblivious*.</span></span> <span data-ttu-id="d8967-184">Cela signifie que toute variable de type de référence peut être nulle, mais les contrôles nuls ne sont pas nécessaires.</span><span class="sxs-lookup"><span data-stu-id="d8967-184">That means any reference type variable may be null, but null checks aren't required.</span></span> <span data-ttu-id="d8967-185">Une fois que votre code est *infirampable au courant,* ces règles changent.</span><span class="sxs-lookup"><span data-stu-id="d8967-185">Once your code is *nullable aware*, those rules change.</span></span> <span data-ttu-id="d8967-186">Les types de `null` référence ne doivent jamais être la `null` valeur, et les types de référence nuls doivent être vérifiés avant d’être déreférés.</span><span class="sxs-lookup"><span data-stu-id="d8967-186">Reference types should never be the `null` value, and nullable reference types must be checked against `null` before being dereferenced.</span></span>

<span data-ttu-id="d8967-187">Les règles de vos API sont probablement plus `TryGetValue` compliquées, comme vous l’avez vu avec le scénario API.</span><span class="sxs-lookup"><span data-stu-id="d8967-187">The rules for your APIs are likely more complicated, as you saw with the `TryGetValue` API scenario.</span></span> <span data-ttu-id="d8967-188">Beaucoup de vos API ont des règles plus complexes pour quand les variables peuvent ou ne peuvent pas être `null`.</span><span class="sxs-lookup"><span data-stu-id="d8967-188">Many of your APIs have more complex rules for when variables can or can't be `null`.</span></span> <span data-ttu-id="d8967-189">Dans ces cas, vous utiliserez l’un des attributs suivants pour exprimer ces règles :</span><span class="sxs-lookup"><span data-stu-id="d8967-189">In these cases, you'll use one of the following attributes to express those rules:</span></span>

- <span data-ttu-id="d8967-190">[AllowNull](xref:System.Diagnostics.CodeAnalysis.AllowNullAttribute): Un argument d’entrée non annulable peut être nul.</span><span class="sxs-lookup"><span data-stu-id="d8967-190">[AllowNull](xref:System.Diagnostics.CodeAnalysis.AllowNullAttribute): A non-nullable input argument may be null.</span></span>
- <span data-ttu-id="d8967-191">[DisallowNull](xref:System.Diagnostics.CodeAnalysis.DisallowNullAttribute): Un argument d’entrée nul ne devrait jamais être nul.</span><span class="sxs-lookup"><span data-stu-id="d8967-191">[DisallowNull](xref:System.Diagnostics.CodeAnalysis.DisallowNullAttribute): A nullable input argument should never be null.</span></span>
- <span data-ttu-id="d8967-192">[Peut-êtreNull](xref:System.Diagnostics.CodeAnalysis.MaybeNullAttribute): Une valeur de retour non annulable peut être nulle.</span><span class="sxs-lookup"><span data-stu-id="d8967-192">[MaybeNull](xref:System.Diagnostics.CodeAnalysis.MaybeNullAttribute): A non-nullable return value may be null.</span></span>
- <span data-ttu-id="d8967-193">[NotNull](xref:System.Diagnostics.CodeAnalysis.NotNullAttribute): Une valeur de retour annulée ne sera jamais nulle.</span><span class="sxs-lookup"><span data-stu-id="d8967-193">[NotNull](xref:System.Diagnostics.CodeAnalysis.NotNullAttribute): A nullable return value will never be null.</span></span>
- <span data-ttu-id="d8967-194">[Peut-êtreNullWhen](xref:System.Diagnostics.CodeAnalysis.MaybeNullWhenAttribute): Un argument d’entrée non annulable `bool` peut être nul lorsque la méthode renvoie la valeur spécifiée.</span><span class="sxs-lookup"><span data-stu-id="d8967-194">[MaybeNullWhen](xref:System.Diagnostics.CodeAnalysis.MaybeNullWhenAttribute): A non-nullable input argument may be null when the method returns the specified `bool` value.</span></span>
- <span data-ttu-id="d8967-195">[NotNullWhen](xref:System.Diagnostics.CodeAnalysis.NotNullWhenAttribute): Un argument d’entrée nul ne sera `bool` pas nul lorsque la méthode retourne la valeur spécifiée.</span><span class="sxs-lookup"><span data-stu-id="d8967-195">[NotNullWhen](xref:System.Diagnostics.CodeAnalysis.NotNullWhenAttribute): A nullable input argument will not be null when the method returns the specified `bool` value.</span></span>
- <span data-ttu-id="d8967-196">[NotNullIfNotNull](xref:System.Diagnostics.CodeAnalysis.NotNullIfNotNullAttribute): Une valeur de retour n’est pas nulle si l’argument du paramètre spécifié n’est pas nul.</span><span class="sxs-lookup"><span data-stu-id="d8967-196">[NotNullIfNotNull](xref:System.Diagnostics.CodeAnalysis.NotNullIfNotNullAttribute): A return value isn't null if the argument for the specified parameter isn't null.</span></span>

<span data-ttu-id="d8967-197">Les descriptions précédentes sont une référence rapide à ce que chaque attribut fait.</span><span class="sxs-lookup"><span data-stu-id="d8967-197">The preceding descriptions are a quick reference to what each attribute does.</span></span> <span data-ttu-id="d8967-198">Chaque section suivante décrit le comportement et le sens plus en profondeur.</span><span class="sxs-lookup"><span data-stu-id="d8967-198">Each following section describes the behavior and meaning more thoroughly.</span></span>

<span data-ttu-id="d8967-199">L’ajout de ces attributs donne au compilateur plus d’informations sur les règles de votre API.</span><span class="sxs-lookup"><span data-stu-id="d8967-199">Adding these attributes gives the compiler more information about the rules for your API.</span></span> <span data-ttu-id="d8967-200">Lorsque le code d’appel est compilé dans un contexte activé nul, le compilateur avertit les appelants lorsqu’ils violent ces règles.</span><span class="sxs-lookup"><span data-stu-id="d8967-200">When calling code is compiled in a nullable enabled context, the compiler will warn callers when they violate those rules.</span></span> <span data-ttu-id="d8967-201">Ces attributs n’activent pas de contrôles supplémentaires sur votre implémentation.</span><span class="sxs-lookup"><span data-stu-id="d8967-201">These attributes don't enable additional checks on your implementation.</span></span>

## <a name="specify-preconditions-allownull-and-disallownull"></a><span data-ttu-id="d8967-202">Spécifier `AllowNull` les conditions préalables: et`DisallowNull`</span><span class="sxs-lookup"><span data-stu-id="d8967-202">Specify preconditions: `AllowNull` and `DisallowNull`</span></span>

<span data-ttu-id="d8967-203">Considérez une propriété de `null` lecture/écriture qui ne revient jamais parce qu’elle a une valeur raisonnable par défaut.</span><span class="sxs-lookup"><span data-stu-id="d8967-203">Consider a read/write property that never returns `null` because it has a reasonable default value.</span></span> <span data-ttu-id="d8967-204">Les appelants `null` passent à l’accesseur de configuration lors de la définition de cette valeur par défaut.</span><span class="sxs-lookup"><span data-stu-id="d8967-204">Callers pass `null` to the set accessor when setting it to that default value.</span></span> <span data-ttu-id="d8967-205">Par exemple, considérez un système de messagerie qui demande un nom d’écran dans une salle de chat.</span><span class="sxs-lookup"><span data-stu-id="d8967-205">For example, consider a messaging system that asks for a screen name in a chat room.</span></span> <span data-ttu-id="d8967-206">Si aucun n’est fourni, le système génère un nom aléatoire :</span><span class="sxs-lookup"><span data-stu-id="d8967-206">If none is provided, the system generates a random name:</span></span>

```csharp
public string ScreenName
{
   get => screenName;
   set => screenName = value ?? GenerateRandomScreenName();
}
private string screenName;
```

<span data-ttu-id="d8967-207">Lorsque vous compilez le code précédent dans un contexte oubliable, tout va bien.</span><span class="sxs-lookup"><span data-stu-id="d8967-207">When you compile the preceding code in a nullable oblivious context, everything is fine.</span></span> <span data-ttu-id="d8967-208">Une fois que vous activez les types de référence annulés, la `ScreenName` propriété devient une référence non annulable.</span><span class="sxs-lookup"><span data-stu-id="d8967-208">Once you enable nullable reference types, the `ScreenName` property becomes a non-nullable reference.</span></span> <span data-ttu-id="d8967-209">C’est correct `get` pour l’accesseur: il ne revient `null`jamais .</span><span class="sxs-lookup"><span data-stu-id="d8967-209">That's correct for the `get` accessor: it never returns `null`.</span></span> <span data-ttu-id="d8967-210">Les appelants n’ont pas besoin `null`de vérifier la propriété retournée pour .</span><span class="sxs-lookup"><span data-stu-id="d8967-210">Callers don't need to check the returned property for `null`.</span></span> <span data-ttu-id="d8967-211">Mais maintenant la `null` mise de la propriété pour génère un avertissement.</span><span class="sxs-lookup"><span data-stu-id="d8967-211">But now setting the property to `null` generates a warning.</span></span> <span data-ttu-id="d8967-212">Afin de continuer à prendre en charge <xref:System.Diagnostics.CodeAnalysis.AllowNullAttribute?displayProperty=nameWithType> ce type de code, vous ajoutez l’attribut à la propriété, comme indiqué dans le code suivant:</span><span class="sxs-lookup"><span data-stu-id="d8967-212">In order to continue to support this type of code, you add the <xref:System.Diagnostics.CodeAnalysis.AllowNullAttribute?displayProperty=nameWithType> attribute to the property, as shown in the following code:</span></span>

```csharp
[AllowNull]
public string ScreenName
{
   get => screenName;
   set => screenName = value ?? GenerateRandomScreenName();
}
private string screenName = GenerateRandomScreenName();
```

<span data-ttu-id="d8967-213">Vous devrez peut-être ajouter une `using` directive pour <xref:System.Diagnostics.CodeAnalysis> utiliser ceci et d’autres attributs discutés dans cet article.</span><span class="sxs-lookup"><span data-stu-id="d8967-213">You may need to add a `using` directive for <xref:System.Diagnostics.CodeAnalysis> to use this and other attributes discussed in this article.</span></span> <span data-ttu-id="d8967-214">L’attribut est appliqué à `set` la propriété, et non à l’accesseur.</span><span class="sxs-lookup"><span data-stu-id="d8967-214">The attribute is applied to the property, not the `set` accessor.</span></span> <span data-ttu-id="d8967-215">L’attribut `AllowNull` spécifie *les conditions préalables*et ne s’applique qu’aux entrées.</span><span class="sxs-lookup"><span data-stu-id="d8967-215">The `AllowNull` attribute specifies *pre-conditions*, and only applies to inputs.</span></span> <span data-ttu-id="d8967-216">L’accesseur `get` a une valeur de retour, mais pas d’arguments d’entrée.</span><span class="sxs-lookup"><span data-stu-id="d8967-216">The `get` accessor has a return value, but no input arguments.</span></span> <span data-ttu-id="d8967-217">Par conséquent, `AllowNull` l’attribut `set` ne s’applique qu’à l’accesseur.</span><span class="sxs-lookup"><span data-stu-id="d8967-217">Therefore, the `AllowNull` attribute only applies to the `set` accessor.</span></span>

<span data-ttu-id="d8967-218">L’exemple précédent montre ce qu’il faut rechercher lors de l’ajout de l’attribut `AllowNull` sur un argument :</span><span class="sxs-lookup"><span data-stu-id="d8967-218">The preceding example demonstrates what to look for when adding the `AllowNull` attribute on an argument:</span></span>

1. <span data-ttu-id="d8967-219">Le contrat général pour cette variable est `null`qu’il ne devrait pas être , de sorte que vous voulez un type de référence non-nullable.</span><span class="sxs-lookup"><span data-stu-id="d8967-219">The general contract for that variable is that it shouldn't be `null`, so you want a non-nullable reference type.</span></span>
1. <span data-ttu-id="d8967-220">Il existe des scénarios pour `null`la variable d’entrée d’être, mais ils ne sont pas l’utilisation la plus courante.</span><span class="sxs-lookup"><span data-stu-id="d8967-220">There are scenarios for the input variable to be `null`, though they aren't the most common usage.</span></span>

<span data-ttu-id="d8967-221">Le plus souvent, vous aurez besoin `in` `out`de `ref` cet attribut pour les propriétés, ou , et les arguments.</span><span class="sxs-lookup"><span data-stu-id="d8967-221">Most often you'll need this attribute for properties, or `in`, `out`, and `ref` arguments.</span></span> <span data-ttu-id="d8967-222">L’attribut `AllowNull` est le meilleur choix lorsqu’une variable n’est généralement pas nulle, mais vous devez le permettre `null` comme condition préalable.</span><span class="sxs-lookup"><span data-stu-id="d8967-222">The `AllowNull` attribute is the best choice when a variable is typically non-null, but you need to allow `null` as a precondition.</span></span>

<span data-ttu-id="d8967-223">Comparez cela avec `DisallowNull`les scénarios pour l’utilisation : Vous utilisez cet attribut pour `null`spécifier qu’une variable d’entrée d’un type de référence nul ne devrait pas être .</span><span class="sxs-lookup"><span data-stu-id="d8967-223">Contrast that with scenarios for using `DisallowNull`: You use this attribute to specify that an input variable of a nullable reference type shouldn't be `null`.</span></span> <span data-ttu-id="d8967-224">Considérez une `null` propriété où est la valeur par défaut, mais les clients ne peuvent la définir qu’à une valeur non nulle.</span><span class="sxs-lookup"><span data-stu-id="d8967-224">Consider a property where `null` is the default value, but clients can only set it to a non-null value.</span></span> <span data-ttu-id="d8967-225">Examinons le code ci-dessous.</span><span class="sxs-lookup"><span data-stu-id="d8967-225">Consider the following code:</span></span>

```csharp
public string ReviewComment
{
    get => _comment;
    set => _comment = value ?? throw new ArgumentNullException(nameof(value), "Cannot set to null");
}
string _comment;
```

<span data-ttu-id="d8967-226">Le code précédent est la meilleure façon `ReviewComment` d’exprimer votre conception que le pourrait être `null`, mais ne peut pas être réglé à `null`.</span><span class="sxs-lookup"><span data-stu-id="d8967-226">The preceding code is the best way to express your design that the `ReviewComment` could be `null`, but can't be set to `null`.</span></span> <span data-ttu-id="d8967-227">Une fois que ce code est in nullable conscient, <xref:System.Diagnostics.CodeAnalysis.DisallowNullAttribute?displayProperty=nameWithType>vous pouvez exprimer ce concept plus clairement aux appelants en utilisant le :</span><span class="sxs-lookup"><span data-stu-id="d8967-227">Once this code is nullable aware, you can express this concept more clearly to callers using the <xref:System.Diagnostics.CodeAnalysis.DisallowNullAttribute?displayProperty=nameWithType>:</span></span>

```csharp
[DisallowNull]
public string? ReviewComment
{
    get => _comment;
    set => _comment = value ?? throw new ArgumentNullException(nameof(value), "Cannot set to null");
}
string? _comment;
```

<span data-ttu-id="d8967-228">Dans un contexte in `ReviewComment` `get` annulable, l’accesseur peut retourner la valeur par défaut de `null`.</span><span class="sxs-lookup"><span data-stu-id="d8967-228">In a nullable context, the `ReviewComment` `get` accessor could return the default value of `null`.</span></span> <span data-ttu-id="d8967-229">Le compilateur prévient qu’il doit être vérifié avant l’accès.</span><span class="sxs-lookup"><span data-stu-id="d8967-229">The compiler warns that it must be checked before access.</span></span> <span data-ttu-id="d8967-230">En outre, il avertit les appelants que, même si elle pourrait être `null`, les appelants ne devraient pas explicitement le définir à `null`.</span><span class="sxs-lookup"><span data-stu-id="d8967-230">Furthermore, it warns callers that, even though it could be `null`, callers shouldn't explicitly set it to `null`.</span></span> <span data-ttu-id="d8967-231">L’attribut `DisallowNull` spécifie également une condition `get` *préalable,* il n’affecte pas l’accesseur.</span><span class="sxs-lookup"><span data-stu-id="d8967-231">The `DisallowNull` attribute also specifies a *pre-condition*, it does not affect the `get` accessor.</span></span> <span data-ttu-id="d8967-232">Vous devez choisir `DisallowNull` d’utiliser l’attribut lorsque vous observez ces caractéristiques au sujet de :</span><span class="sxs-lookup"><span data-stu-id="d8967-232">You should choose to use the `DisallowNull` attribute when you observe these characteristics about:</span></span>

1. <span data-ttu-id="d8967-233">La variable `null` peut être dans les scénarios de base, souvent lors de la première instantané.</span><span class="sxs-lookup"><span data-stu-id="d8967-233">The variable could be `null` in core scenarios, often when first instantiated.</span></span>
1. <span data-ttu-id="d8967-234">La variable ne devrait pas `null`être explicitement définie à .</span><span class="sxs-lookup"><span data-stu-id="d8967-234">The variable shouldn't be explicitly set to `null`.</span></span>

<span data-ttu-id="d8967-235">Ces situations sont courantes dans le code qui était à l’origine *nulle inconscient*.</span><span class="sxs-lookup"><span data-stu-id="d8967-235">These situations are common in code that was originally *null oblivious*.</span></span> <span data-ttu-id="d8967-236">Il se peut que les propriétés d’objets soient définies dans deux opérations distinctes de initialisation.</span><span class="sxs-lookup"><span data-stu-id="d8967-236">It may be that object properties are set in two distinct initialization operations.</span></span> <span data-ttu-id="d8967-237">Il se peut que certaines propriétés ne soient définies qu’après la fin de certains travaux asynchrones.</span><span class="sxs-lookup"><span data-stu-id="d8967-237">It may be that some properties are set only after some asynchronous work has completed.</span></span>

<span data-ttu-id="d8967-238">Les `AllowNull` `DisallowNull` et les attributs vous permettent de spécifier que les conditions préalables sur les variables peuvent ne pas correspondre aux annotations annulables sur ces variables.</span><span class="sxs-lookup"><span data-stu-id="d8967-238">The `AllowNull` and `DisallowNull` attributes enable you to specify that preconditions on variables may not match the nullable annotations on those variables.</span></span> <span data-ttu-id="d8967-239">Ceux-ci fournissent plus de détails sur les caractéristiques de votre API.</span><span class="sxs-lookup"><span data-stu-id="d8967-239">These provide more detail about the characteristics of your API.</span></span> <span data-ttu-id="d8967-240">Ces informations supplémentaires aident les appelants à utiliser correctement votre API.</span><span class="sxs-lookup"><span data-stu-id="d8967-240">This additional information helps callers use your API correctly.</span></span> <span data-ttu-id="d8967-241">N’oubliez pas que vous spécifiez les conditions préalables à l’aide des attributs suivants :</span><span class="sxs-lookup"><span data-stu-id="d8967-241">Remember you specify preconditions using the following attributes:</span></span>

- <span data-ttu-id="d8967-242">[AllowNull](xref:System.Diagnostics.CodeAnalysis.AllowNullAttribute): Un argument d’entrée non annulable peut être nul.</span><span class="sxs-lookup"><span data-stu-id="d8967-242">[AllowNull](xref:System.Diagnostics.CodeAnalysis.AllowNullAttribute): A non-nullable input argument may be null.</span></span>
- <span data-ttu-id="d8967-243">[DisallowNull](xref:System.Diagnostics.CodeAnalysis.DisallowNullAttribute): Un argument d’entrée nul ne devrait jamais être nul.</span><span class="sxs-lookup"><span data-stu-id="d8967-243">[DisallowNull](xref:System.Diagnostics.CodeAnalysis.DisallowNullAttribute): A nullable input argument should never be null.</span></span>

## <a name="specify-post-conditions-maybenull-and-notnull"></a><span data-ttu-id="d8967-244">Spécifier `MaybeNull` les conditions postérieures et`NotNull`</span><span class="sxs-lookup"><span data-stu-id="d8967-244">Specify post-conditions: `MaybeNull` and `NotNull`</span></span>

<span data-ttu-id="d8967-245">Supposons que vous avez une méthode avec la signature suivante:</span><span class="sxs-lookup"><span data-stu-id="d8967-245">Suppose you have a method with the following signature:</span></span>

```csharp
public Customer FindCustomer(string lastName, string firstName)
```

<span data-ttu-id="d8967-246">Vous avez probablement écrit une méthode `null` comme celle-ci pour revenir lorsque le nom recherché n’a pas été trouvé.</span><span class="sxs-lookup"><span data-stu-id="d8967-246">You've likely written a method like this to return `null` when the name sought wasn't found.</span></span> <span data-ttu-id="d8967-247">Le `null` indique clairement que le dossier n’a pas été trouvé.</span><span class="sxs-lookup"><span data-stu-id="d8967-247">The `null` clearly indicates that the record wasn't found.</span></span> <span data-ttu-id="d8967-248">Dans cet exemple, vous changeriez probablement `Customer` `Customer?`le type de retour de .</span><span class="sxs-lookup"><span data-stu-id="d8967-248">In this example, you'd likely change the return type from `Customer` to `Customer?`.</span></span> <span data-ttu-id="d8967-249">Déclarer la valeur de déclaration comme un type de référence nul précise clairement l’intention de cette API.</span><span class="sxs-lookup"><span data-stu-id="d8967-249">Declaring the return value as a nullable reference type specifies the intent of this API clearly.</span></span>

<span data-ttu-id="d8967-250">Pour des raisons couvertes par [des définitions génériques et l’annulation,](#generic-definitions-and-nullability) cette technique ne fonctionne pas avec des méthodes génériques.</span><span class="sxs-lookup"><span data-stu-id="d8967-250">For reasons covered under [Generic definitions and nullability](#generic-definitions-and-nullability) that technique does not work with generic methods.</span></span> <span data-ttu-id="d8967-251">Vous pouvez avoir une méthode générique qui suit un modèle similaire:</span><span class="sxs-lookup"><span data-stu-id="d8967-251">You may have a generic method that follows a similar pattern:</span></span>

```csharp
public T Find<T>(IEnumerable<T> sequence, Func<T, bool> match)
```

<span data-ttu-id="d8967-252">Vous ne pouvez pas spécifier que la valeur de retour est `T?`.</span><span class="sxs-lookup"><span data-stu-id="d8967-252">You can't specify that the return value is `T?`.</span></span> <span data-ttu-id="d8967-253">La méthode `null` revient lorsque l’article recherché n’est pas trouvé.</span><span class="sxs-lookup"><span data-stu-id="d8967-253">The method returns `null` when the sought item isn't found.</span></span> <span data-ttu-id="d8967-254">Puisque vous ne pouvez `T?` pas déclarer un `MaybeNull` type de retour, vous ajoutez l’annotation au retour de méthode :</span><span class="sxs-lookup"><span data-stu-id="d8967-254">Since you can't declare a `T?` return type, you add the `MaybeNull` annotation to the method return:</span></span>

```csharp
[return: MaybeNull]
public T Find<T>(IEnumerable<T> sequence, Func<T, bool> match)
```

<span data-ttu-id="d8967-255">Le code précédent informe les appelants que le contrat implique un type non annulable, mais la valeur de déclaration *peut* en fait être nulle.</span><span class="sxs-lookup"><span data-stu-id="d8967-255">The preceding code informs callers that the contract implies a non-nullable type, but the return value *may* actually be null.</span></span>  <span data-ttu-id="d8967-256">Utilisez `MaybeNull` l’attribut lorsque votre API devrait être un type non-nullable, généralement `null` un paramètre de type générique, mais il peut y avoir des cas où serait retourné.</span><span class="sxs-lookup"><span data-stu-id="d8967-256">Use the `MaybeNull` attribute when your API should be a non-nullable type, typically a generic type parameter, but there may be instances where `null` would be returned.</span></span>

<span data-ttu-id="d8967-257">Vous pouvez également spécifier `out` `ref` qu’une valeur de retour ou un ou un argument n’est pas nul, même si le type est un type de référence nul.</span><span class="sxs-lookup"><span data-stu-id="d8967-257">You can also specify that a return value or an `out` or `ref` argument isn't null even though the type is a nullable reference type.</span></span> <span data-ttu-id="d8967-258">Considérez une méthode qui garantit qu’un tableau est assez grand pour contenir un certain nombre d’éléments.</span><span class="sxs-lookup"><span data-stu-id="d8967-258">Consider a method that ensures an array is large enough to hold a number of elements.</span></span> <span data-ttu-id="d8967-259">Si l’argument de l’entrée n’a pas de capacité, la routine allouerait un nouveau tableau et copierait tous les éléments existants.</span><span class="sxs-lookup"><span data-stu-id="d8967-259">If the input argument doesn't have capacity, the routine would allocate a new array and copy all the existing elements into it.</span></span> <span data-ttu-id="d8967-260">Si l’argument `null`de l’entrée est, la routine allouerait un nouveau stockage.</span><span class="sxs-lookup"><span data-stu-id="d8967-260">If the input argument is `null`, the routine would allocate new storage.</span></span> <span data-ttu-id="d8967-261">S’il y a une capacité suffisante, la routine ne fait rien :</span><span class="sxs-lookup"><span data-stu-id="d8967-261">If there's sufficient capacity, the routine does nothing:</span></span>

```csharp
public void EnsureCapacity<T>(ref T[] storage, int size)
```

<span data-ttu-id="d8967-262">Vous pourriez appeler cette routine comme suit:</span><span class="sxs-lookup"><span data-stu-id="d8967-262">You could call this routine as follows:</span></span>

```csharp
// messages has the default value (null) when EnsureCapacity is called:
EnsureCapacity<string>(ref messages, 10);
// messages is not null.
EnsureCapacity<string>(messages, 50);
```

<span data-ttu-id="d8967-263">Après avoir permis des types de référence nuls, vous souhaitez vous assurer que le code précédent se compile sans avertissements.</span><span class="sxs-lookup"><span data-stu-id="d8967-263">After enabling null reference types, you want to ensure that the preceding code compiles without warnings.</span></span> <span data-ttu-id="d8967-264">Lorsque la méthode `storage` revient, l’argument est garanti pour ne pas être nul.</span><span class="sxs-lookup"><span data-stu-id="d8967-264">When the method returns, the `storage` argument is guaranteed to be not null.</span></span> <span data-ttu-id="d8967-265">Cependant, il est acceptable `EnsureCapacity` d’appeler avec une référence nulle.</span><span class="sxs-lookup"><span data-stu-id="d8967-265">However, it's acceptable to call `EnsureCapacity` with a null reference.</span></span> <span data-ttu-id="d8967-266">Vous pouvez `storage` faire un type de `NotNull` référence annulé et ajouter la post-condition à la déclaration de paramètres :</span><span class="sxs-lookup"><span data-stu-id="d8967-266">You can make `storage` a nullable reference type, and add the `NotNull` post-condition to the parameter declaration:</span></span>

```csharp
public void EnsureCapacity<T>([NotNull]ref T[]? storage, int size)
```

<span data-ttu-id="d8967-267">Le code précédent exprime très clairement le contrat existant : `null` les appelants peuvent passer une variable avec la valeur, mais la valeur de rendement est garantie de ne jamais être nulle.</span><span class="sxs-lookup"><span data-stu-id="d8967-267">The preceding code expresses the existing contract very clearly: Callers can pass a variable with the `null` value, but the return value is guaranteed to never be null.</span></span> <span data-ttu-id="d8967-268">`NotNull` L’attribut est `ref` le `out` plus `null` utile et les arguments où peut être adopté comme un argument, mais cet argument est garanti d’être pas nul lorsque la méthode revient.</span><span class="sxs-lookup"><span data-stu-id="d8967-268">The `NotNull` attribute is most useful for `ref` and `out` arguments where `null` may be passed as an argument, but that argument is guaranteed to be not null when the method returns.</span></span>

<span data-ttu-id="d8967-269">Vous spécifiez les conditions post-conditions inconditionnelles à l’aide des attributs suivants :</span><span class="sxs-lookup"><span data-stu-id="d8967-269">You specify unconditional postconditions using the following attributes:</span></span>

- <span data-ttu-id="d8967-270">[Peut-êtreNull](xref:System.Diagnostics.CodeAnalysis.MaybeNullAttribute): Une valeur de retour non annulable peut être nulle.</span><span class="sxs-lookup"><span data-stu-id="d8967-270">[MaybeNull](xref:System.Diagnostics.CodeAnalysis.MaybeNullAttribute): A non-nullable return value may be null.</span></span>
- <span data-ttu-id="d8967-271">[NotNull](xref:System.Diagnostics.CodeAnalysis.NotNullAttribute): Une valeur de retour annulée ne sera jamais nulle.</span><span class="sxs-lookup"><span data-stu-id="d8967-271">[NotNull](xref:System.Diagnostics.CodeAnalysis.NotNullAttribute): A nullable return value will never be null.</span></span>

## <a name="specify-conditional-post-conditions-notnullwhen-maybenullwhen-and-notnullifnotnull"></a><span data-ttu-id="d8967-272">Spécifier les `NotNullWhen` `MaybeNullWhen`conditions post-conditions conditionnelles: , et`NotNullIfNotNull`</span><span class="sxs-lookup"><span data-stu-id="d8967-272">Specify conditional post-conditions: `NotNullWhen`, `MaybeNullWhen`, and `NotNullIfNotNull`</span></span>

<span data-ttu-id="d8967-273">Vous êtes probablement familier `string` <xref:System.String.IsNullOrEmpty(System.String)?DisplayProperty=nameWithType>avec la méthode .</span><span class="sxs-lookup"><span data-stu-id="d8967-273">You're likely familiar with the `string` method <xref:System.String.IsNullOrEmpty(System.String)?DisplayProperty=nameWithType>.</span></span> <span data-ttu-id="d8967-274">Cette méthode `true` revient lorsque l’argument est nul ou une chaîne vide.</span><span class="sxs-lookup"><span data-stu-id="d8967-274">This method returns `true` when the argument is null or an empty string.</span></span> <span data-ttu-id="d8967-275">C’est une forme de null-check: Les appelants n’ont pas `false`besoin de vérifier l’argument si la méthode revient .</span><span class="sxs-lookup"><span data-stu-id="d8967-275">It's a form of null-check: Callers don't need to null-check the argument if the method returns `false`.</span></span> <span data-ttu-id="d8967-276">Pour faire prendre conscience à une méthode comme celle-ci, vous définissez `NotNullWhen` l’argument à un type de référence nul et ajoutez l’attribut :</span><span class="sxs-lookup"><span data-stu-id="d8967-276">To make a method like this nullable aware, you'd set the argument to a nullable reference type, and add the `NotNullWhen` attribute:</span></span>

```csharp
bool IsNullOrEmpty([NotNullWhen(false)]string? value);
```

<span data-ttu-id="d8967-277">Cela informe le compilateur que tout `false` code où la valeur de retour est n’a pas besoin d’être vérifié non vérifié.</span><span class="sxs-lookup"><span data-stu-id="d8967-277">That informs the compiler that any code where the return value is `false` need not be null-checked.</span></span> <span data-ttu-id="d8967-278">L’ajout de l’attribut informe l’analyse `IsNullOrEmpty` statique du compilateur qui `false`effectue la vérification `null`nulle nécessaire : lorsqu’il revient, l’argument de l’entrée n’est pas .</span><span class="sxs-lookup"><span data-stu-id="d8967-278">The addition of the attribute informs the compiler's static analysis that `IsNullOrEmpty` performs the necessary null check: when it returns `false`, the input argument is not `null`.</span></span>

```csharp
string? userInput = GetUserInput();
if (!string.IsNullOrEmpty(userInput))
{
   int messageLength = userInput.Length; // no null check needed.
}
// null check needed on userInput here.
```

<span data-ttu-id="d8967-279">La <xref:System.String.IsNullOrEmpty(System.String)?DisplayProperty=nameWithType> méthode sera annotée comme indiqué ci-dessus pour .NET Core 3.0.</span><span class="sxs-lookup"><span data-stu-id="d8967-279">The <xref:System.String.IsNullOrEmpty(System.String)?DisplayProperty=nameWithType> method will be annotated as shown above for .NET Core 3.0.</span></span> <span data-ttu-id="d8967-280">Vous pouvez avoir des méthodes similaires dans votre base de code qui vérifient l’état des objets pour les valeurs nulles.</span><span class="sxs-lookup"><span data-stu-id="d8967-280">You may have similar methods in your codebase that check the state of objects for null values.</span></span> <span data-ttu-id="d8967-281">Le compilateur ne reconnaîtra pas les méthodes de vérification nulles personnalisées, et vous devrez ajouter les annotations vous-même.</span><span class="sxs-lookup"><span data-stu-id="d8967-281">The compiler won't recognize custom null check methods, and you'll need to add the annotations yourself.</span></span> <span data-ttu-id="d8967-282">Lorsque vous ajoutez l’attribut, l’analyse statique du compilateur sait quand la variable testée a été vérifiée.</span><span class="sxs-lookup"><span data-stu-id="d8967-282">When you add the attribute, the compiler's static analysis knows when the tested variable has been null checked.</span></span>

<span data-ttu-id="d8967-283">Une autre utilisation pour `Try*` ces attributs est le modèle.</span><span class="sxs-lookup"><span data-stu-id="d8967-283">Another use for these attributes is the `Try*` pattern.</span></span> <span data-ttu-id="d8967-284">Les conditions post-conditions `ref` et `out` les variables sont communiquées par la valeur de retour.</span><span class="sxs-lookup"><span data-stu-id="d8967-284">The postconditions for `ref` and `out` variables are communicated through the return value.</span></span> <span data-ttu-id="d8967-285">Considérez cette méthode indiquée plus tôt :</span><span class="sxs-lookup"><span data-stu-id="d8967-285">Consider this method shown earlier:</span></span>

```csharp
bool TryGetMessage(string key, out string message)
```

<span data-ttu-id="d8967-286">La méthode précédente suit un idiome .NET `message` typique : la valeur de rendement indique si elle a été réglée à la valeur trouvée ou, si aucun message n’est trouvé, à la valeur par défaut.</span><span class="sxs-lookup"><span data-stu-id="d8967-286">The preceding method follows a typical .NET idiom: the return value indicates if `message` was set to the found value or, if no message is found, to the default value.</span></span> <span data-ttu-id="d8967-287">Si la `true`méthode revient, la valeur de `message` n’est pas nulle; sinon, la `message` méthode s’établit à annuler.</span><span class="sxs-lookup"><span data-stu-id="d8967-287">If the method returns `true`, the value of `message` isn't null; otherwise, the method sets `message` to null.</span></span>

<span data-ttu-id="d8967-288">Vous pouvez communiquer cet idiome en utilisant l’attribut. `NotNullWhen`</span><span class="sxs-lookup"><span data-stu-id="d8967-288">You can communicate that idiom using the `NotNullWhen` attribute.</span></span> <span data-ttu-id="d8967-289">Lorsque vous mettez à jour la `message` signature `string?` pour les types de référence nuls, faites un attribut et ajoutez un attribut :</span><span class="sxs-lookup"><span data-stu-id="d8967-289">When you update the signature for nullable reference types, make `message` a `string?` and add an attribute:</span></span>

```csharp
bool TryGetMessage(string key, [NotNullWhen(true)] out string? message)
```

<span data-ttu-id="d8967-290">Dans l’exemple précédent, `message` la valeur de `TryGetMessage` est `true`connu pour ne pas être nul lors des déclarations .</span><span class="sxs-lookup"><span data-stu-id="d8967-290">In the preceding example, the value of `message` is known to be not null when `TryGetMessage` returns `true`.</span></span> <span data-ttu-id="d8967-291">Vous devez annoter des méthodes similaires dans votre base `null`de code de la même manière: `true`les arguments pourraient être , et sont connus pour ne pas être nul lorsque la méthode revient .</span><span class="sxs-lookup"><span data-stu-id="d8967-291">You should annotate similar methods in your codebase in the same way: the arguments could be `null`, and are known to be not null when the method returns `true`.</span></span>

<span data-ttu-id="d8967-292">Il ya un attribut final dont vous pouvez également avoir besoin.</span><span class="sxs-lookup"><span data-stu-id="d8967-292">There's one final attribute you may also need.</span></span> <span data-ttu-id="d8967-293">Parfois, l’état nul d’une valeur de retour dépend de l’état nul d’un ou plusieurs arguments d’entrée.</span><span class="sxs-lookup"><span data-stu-id="d8967-293">Sometimes the null state of a return value depends on the null state of one or more input arguments.</span></span> <span data-ttu-id="d8967-294">Ces méthodes retourneront une valeur non nulle chaque `null`fois que certains arguments d’entrée ne sont pas .</span><span class="sxs-lookup"><span data-stu-id="d8967-294">These methods will return a non-null value whenever certain input arguments aren't `null`.</span></span> <span data-ttu-id="d8967-295">Pour annoter correctement ces méthodes, vous utilisez l’attribut. `NotNullIfNotNull`</span><span class="sxs-lookup"><span data-stu-id="d8967-295">To correctly annotate these methods, you use the `NotNullIfNotNull` attribute.</span></span> <span data-ttu-id="d8967-296">Considérez la méthode suivante :</span><span class="sxs-lookup"><span data-stu-id="d8967-296">Consider the following method:</span></span>

```csharp
string GetTopLevelDomainFromFullUrl(string url);
```

<span data-ttu-id="d8967-297">Si `url` l’argument n’est pas nul, la sortie n’est pas `null`.</span><span class="sxs-lookup"><span data-stu-id="d8967-297">If the `url` argument isn't null, the output isn't `null`.</span></span> <span data-ttu-id="d8967-298">Une fois que les références annulées sont activées, cette signature fonctionne correctement, à condition que votre API n’accepte jamais une entrée nulle.</span><span class="sxs-lookup"><span data-stu-id="d8967-298">Once nullable references are enabled, that signature works correctly, provided your API never accepts a null input.</span></span> <span data-ttu-id="d8967-299">Toutefois, si l’entrée pouvait être nulle, la valeur de retour pourrait également être nulle.</span><span class="sxs-lookup"><span data-stu-id="d8967-299">However, if the input could be null, then return value could also be null.</span></span> <span data-ttu-id="d8967-300">Par conséquent, vous pouvez modifier la signature au code suivant :</span><span class="sxs-lookup"><span data-stu-id="d8967-300">Therefore, you could change the signature to the following code:</span></span>

```csharp
string? GetTopLevelDomainFromFullUrl(string? url);
```

<span data-ttu-id="d8967-301">Cela fonctionne également, mais forcera souvent `null` les appelants à mettre en œuvre des contrôles supplémentaires.</span><span class="sxs-lookup"><span data-stu-id="d8967-301">That also works, but will often force callers to implement extra `null` checks.</span></span> <span data-ttu-id="d8967-302">Le contrat est que la `null` valeur de `url` rendement `null`ne serait que lorsque l’argument de l’entrée est .</span><span class="sxs-lookup"><span data-stu-id="d8967-302">The contract is that the return value would be `null` only when the input argument `url` is `null`.</span></span> <span data-ttu-id="d8967-303">Pour exprimer ce contrat, vous annoteriez cette méthode comme indiqué dans le code suivant :</span><span class="sxs-lookup"><span data-stu-id="d8967-303">To express that contract, you would annotate this method as shown in the following code:</span></span>

```csharp
[return: NotNullIfNotNull("url")]
string? GetTopLevelDomainFromFullUrl(string? url);
```

<span data-ttu-id="d8967-304">La valeur de rendement et l’argument `?` ont tous deux `null`été annotés avec l’indication que l’un ou l’autre pourrait être .</span><span class="sxs-lookup"><span data-stu-id="d8967-304">The return value and the argument have both been annotated with the `?` indicating that either could be `null`.</span></span> <span data-ttu-id="d8967-305">L’attribut précise en outre que la valeur `url` de rendement `null`ne sera pas nulle lorsque l’argument n’est pas .</span><span class="sxs-lookup"><span data-stu-id="d8967-305">The attribute further clarifies that the return value won't be null when the `url` argument isn't `null`.</span></span>

<span data-ttu-id="d8967-306">Vous spécifiez des conditions post-conditions conditionnelles à l’aide de ces attributs :</span><span class="sxs-lookup"><span data-stu-id="d8967-306">You specify conditional postconditions using these attributes:</span></span>

- <span data-ttu-id="d8967-307">[Peut-êtreNullWhen](xref:System.Diagnostics.CodeAnalysis.MaybeNullWhenAttribute): Un argument d’entrée non annulable `bool` peut être nul lorsque la méthode renvoie la valeur spécifiée.</span><span class="sxs-lookup"><span data-stu-id="d8967-307">[MaybeNullWhen](xref:System.Diagnostics.CodeAnalysis.MaybeNullWhenAttribute): A non-nullable input argument may be null when the method returns the specified `bool` value.</span></span>
- <span data-ttu-id="d8967-308">[NotNullWhen](xref:System.Diagnostics.CodeAnalysis.NotNullWhenAttribute): Un argument d’entrée nul ne sera `bool` pas nul lorsque la méthode retourne la valeur spécifiée.</span><span class="sxs-lookup"><span data-stu-id="d8967-308">[NotNullWhen](xref:System.Diagnostics.CodeAnalysis.NotNullWhenAttribute): A nullable input argument will not be null when the method returns the specified `bool` value.</span></span>
- <span data-ttu-id="d8967-309">[NotNullIfNotNull](xref:System.Diagnostics.CodeAnalysis.NotNullIfNotNullAttribute): Une valeur de retour n’est pas nulle si l’argument de l’entrée pour le paramètre spécifié n’est pas nul.</span><span class="sxs-lookup"><span data-stu-id="d8967-309">[NotNullIfNotNull](xref:System.Diagnostics.CodeAnalysis.NotNullIfNotNullAttribute): A return value isn't null if the input argument for the specified parameter isn't null.</span></span>

## <a name="generic-definitions-and-nullability"></a><span data-ttu-id="d8967-310">Définitions génériques et nullité</span><span class="sxs-lookup"><span data-stu-id="d8967-310">Generic definitions and nullability</span></span>

<span data-ttu-id="d8967-311">Communiquer correctement l’état nul des types génériques et des méthodes génériques nécessite un soin particulier.</span><span class="sxs-lookup"><span data-stu-id="d8967-311">Correctly communicating the null state of generic types and generic methods requires special care.</span></span> <span data-ttu-id="d8967-312">Cela découle du fait qu’un type de valeur nul et un type de référence nul sont fondamentalement différents.</span><span class="sxs-lookup"><span data-stu-id="d8967-312">This stems from the fact that a nullable value type and a nullable reference type are fundamentally different.</span></span> <span data-ttu-id="d8967-313">Un `int?` est synonyme `Nullable<int>`de `string?` , `string` alors qu’il est avec un attribut ajouté par le compilateur.</span><span class="sxs-lookup"><span data-stu-id="d8967-313">An `int?` is a synonym for `Nullable<int>`, whereas `string?` is `string` with an attribute added by the compiler.</span></span> <span data-ttu-id="d8967-314">Le résultat est que le compilateur ne `T?` peut `T` pas `class` générer `struct`un code correct pour sans savoir si est a ou a .</span><span class="sxs-lookup"><span data-stu-id="d8967-314">The result is that the compiler can't generate correct code for `T?` without knowing if `T` is a `class` or a `struct`.</span></span>

<span data-ttu-id="d8967-315">Cela ne signifie pas que vous ne pouvez pas utiliser un type nul (type de valeur ou de type de référence) comme argument de type pour un type générique fermé.</span><span class="sxs-lookup"><span data-stu-id="d8967-315">This doesn't mean you can't use a nullable type (either value type or reference type) as the type argument for a closed generic type.</span></span> <span data-ttu-id="d8967-316">Les `List<string?>` `List<int?>` deux et sont des `List<T>`instantanés valides de .</span><span class="sxs-lookup"><span data-stu-id="d8967-316">Both `List<string?>` and `List<int?>` are valid instantiations of `List<T>`.</span></span>

<span data-ttu-id="d8967-317">Ce que cela signifie, c’est que vous ne pouvez pas utiliser `T?` dans une classe générique ou une déclaration de méthode sans contraintes.</span><span class="sxs-lookup"><span data-stu-id="d8967-317">What it does mean is that you can't use `T?` in a generic class or method declaration without constraints.</span></span> <span data-ttu-id="d8967-318">Par exemple, <xref:System.Linq.Enumerable.FirstOrDefault%60%601(System.Collections.Generic.IEnumerable%7B%60%600%7D)?displayProperty=nameWithType> ne sera pas `T?`changé pour revenir .</span><span class="sxs-lookup"><span data-stu-id="d8967-318">For example, <xref:System.Linq.Enumerable.FirstOrDefault%60%601(System.Collections.Generic.IEnumerable%7B%60%600%7D)?displayProperty=nameWithType> won't be changed to return `T?`.</span></span> <span data-ttu-id="d8967-319">Vous pouvez surmonter cette limitation `struct` `class` en ajoutant soit la contrainte.</span><span class="sxs-lookup"><span data-stu-id="d8967-319">You can overcome this limitation by adding either the `struct` or `class` constraint.</span></span> <span data-ttu-id="d8967-320">Avec l’une ou l’autre de ces contraintes, le compilateur sait comment générer du code pour les deux `T` et `T?`.</span><span class="sxs-lookup"><span data-stu-id="d8967-320">With either of those constraints, the compiler knows how to generate code for both `T` and `T?`.</span></span>

<span data-ttu-id="d8967-321">Vous pouvez restreindre les types utilisés pour un argument de type générique pour être des types non-nullables.</span><span class="sxs-lookup"><span data-stu-id="d8967-321">You may want to restrict the types used for a generic type argument to be non-nullable types.</span></span> <span data-ttu-id="d8967-322">Vous pouvez le faire `notnull` en ajoutant la contrainte sur cet argument de type.</span><span class="sxs-lookup"><span data-stu-id="d8967-322">You can do that by adding the `notnull` constraint on that type argument.</span></span> <span data-ttu-id="d8967-323">Lorsque cette contrainte est appliquée, l’argument type ne doit pas être un type nul.</span><span class="sxs-lookup"><span data-stu-id="d8967-323">When that constraint is applied, the type argument must not be a nullable type.</span></span>

## <a name="conclusions"></a><span data-ttu-id="d8967-324">Conclusions</span><span class="sxs-lookup"><span data-stu-id="d8967-324">Conclusions</span></span>

<span data-ttu-id="d8967-325">L’ajout de types de référence in annulables fournit `null`un vocabulaire initial pour décrire vos attentes d’API pour les variables qui pourraient être .</span><span class="sxs-lookup"><span data-stu-id="d8967-325">Adding nullable reference types provides an initial vocabulary to describe your APIs expectations for variables that could be `null`.</span></span> <span data-ttu-id="d8967-326">Les attributs supplémentaires fournissent un vocabulaire plus riche pour décrire l’état nul des variables comme conditions préalables et conditions post.</span><span class="sxs-lookup"><span data-stu-id="d8967-326">The additional attributes provide a richer vocabulary to describe the null state of variables as preconditions and postconditions.</span></span> <span data-ttu-id="d8967-327">Ces attributs décrivent plus clairement vos attentes et offrent une meilleure expérience pour les développeurs utilisant vos API.</span><span class="sxs-lookup"><span data-stu-id="d8967-327">These attributes more clearly describe your expectations and provide a better experience for the developers using your APIs.</span></span>

<span data-ttu-id="d8967-328">Lorsque vous mettez à jour les bibliothèques pour un contexte nul, ajoutez ces attributs pour guider les utilisateurs de vos API à l’utilisation correcte.</span><span class="sxs-lookup"><span data-stu-id="d8967-328">As you update libraries for a nullable context, add these attributes to guide users of your APIs to the correct usage.</span></span> <span data-ttu-id="d8967-329">Ces attributs vous aident à décrire pleinement l’état nul des arguments d’entrée et des valeurs de rendement :</span><span class="sxs-lookup"><span data-stu-id="d8967-329">These attributes help you fully describe the null-state of input arguments and return values:</span></span>

- <span data-ttu-id="d8967-330">[AllowNull](xref:System.Diagnostics.CodeAnalysis.AllowNullAttribute): Un argument d’entrée non annulable peut être nul.</span><span class="sxs-lookup"><span data-stu-id="d8967-330">[AllowNull](xref:System.Diagnostics.CodeAnalysis.AllowNullAttribute): A non-nullable input argument may be null.</span></span>
- <span data-ttu-id="d8967-331">[DisallowNull](xref:System.Diagnostics.CodeAnalysis.DisallowNullAttribute): Un argument d’entrée nul ne devrait jamais être nul.</span><span class="sxs-lookup"><span data-stu-id="d8967-331">[DisallowNull](xref:System.Diagnostics.CodeAnalysis.DisallowNullAttribute): A nullable input argument should never be null.</span></span>
- <span data-ttu-id="d8967-332">[Peut-êtreNull](xref:System.Diagnostics.CodeAnalysis.MaybeNullAttribute): Une valeur de retour non annulable peut être nulle.</span><span class="sxs-lookup"><span data-stu-id="d8967-332">[MaybeNull](xref:System.Diagnostics.CodeAnalysis.MaybeNullAttribute): A non-nullable return value may be null.</span></span>
- <span data-ttu-id="d8967-333">[NotNull](xref:System.Diagnostics.CodeAnalysis.NotNullAttribute): Une valeur de retour annulée ne sera jamais nulle.</span><span class="sxs-lookup"><span data-stu-id="d8967-333">[NotNull](xref:System.Diagnostics.CodeAnalysis.NotNullAttribute): A nullable return value will never be null.</span></span>
- <span data-ttu-id="d8967-334">[Peut-êtreNullWhen](xref:System.Diagnostics.CodeAnalysis.MaybeNullWhenAttribute): Un argument d’entrée non annulable `bool` peut être nul lorsque la méthode renvoie la valeur spécifiée.</span><span class="sxs-lookup"><span data-stu-id="d8967-334">[MaybeNullWhen](xref:System.Diagnostics.CodeAnalysis.MaybeNullWhenAttribute): A non-nullable input argument may be null when the method returns the specified `bool` value.</span></span>
- <span data-ttu-id="d8967-335">[NotNullWhen](xref:System.Diagnostics.CodeAnalysis.NotNullWhenAttribute): Un argument d’entrée nul ne sera `bool` pas nul lorsque la méthode retourne la valeur spécifiée.</span><span class="sxs-lookup"><span data-stu-id="d8967-335">[NotNullWhen](xref:System.Diagnostics.CodeAnalysis.NotNullWhenAttribute): A nullable input argument will not be null when the method returns the specified `bool` value.</span></span>
- <span data-ttu-id="d8967-336">[NotNullIfNotNull](xref:System.Diagnostics.CodeAnalysis.NotNullIfNotNullAttribute): Une valeur de retour n’est pas nulle si l’argument de l’entrée pour le paramètre spécifié n’est pas nul.</span><span class="sxs-lookup"><span data-stu-id="d8967-336">[NotNullIfNotNull](xref:System.Diagnostics.CodeAnalysis.NotNullIfNotNullAttribute): A return value isn't null if the input argument for the specified parameter isn't null.</span></span>
