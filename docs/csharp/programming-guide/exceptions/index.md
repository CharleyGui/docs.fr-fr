---
title: Exceptions et gestion des exceptions - Guide de programmation C#
ms.date: 07/20/2015
helpviewer_keywords:
- exception handling [C#]
- exceptions [C#]
- C# language, exceptions
ms.assetid: 0001887f-4fa2-47e2-8034-2819477e2344
ms.openlocfilehash: 0ba123fa9f9aacd0876f07bdf3ae7bb9159a6834
ms.sourcegitcommit: a241301495a84cc8c64fe972330d16edd619868b
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 06/01/2020
ms.locfileid: "84241706"
---
# <a name="exceptions-and-exception-handling-c-programming-guide"></a><span data-ttu-id="f0ce0-102">Exceptions et gestion des exceptions (Guide de programmation C#)</span><span class="sxs-lookup"><span data-stu-id="f0ce0-102">Exceptions and Exception Handling (C# Programming Guide)</span></span>

<span data-ttu-id="f0ce0-103">Les fonctionnalités de gestion des exceptions du langage C# vous aident à gérer les situations inattendues ou exceptionnelles qui se produisent lorsqu’un programme est en cours d’exécution.</span><span class="sxs-lookup"><span data-stu-id="f0ce0-103">The C# language's exception handling features help you deal with any unexpected or exceptional situations that occur when a program is running.</span></span> <span data-ttu-id="f0ce0-104">La gestion des exceptions utilise les mots clés `try`, `catch` et `finally` pour tenter des actions susceptibles de ne pas réussir, pour gérer les défaillances lorsque vous pensez que c’est justifié et pour nettoyer ensuite les ressources.</span><span class="sxs-lookup"><span data-stu-id="f0ce0-104">Exception handling uses the `try`, `catch`, and `finally` keywords to try actions that may not succeed, to handle failures when you decide that it is reasonable to do so, and to clean up resources afterward.</span></span> <span data-ttu-id="f0ce0-105">Les exceptions peuvent être générées par le common language runtime (CLR), par les bibliothèques .NET ou tierces, ou par le code d’application.</span><span class="sxs-lookup"><span data-stu-id="f0ce0-105">Exceptions can be generated by the common language runtime (CLR), by .NET or third-party libraries, or by application code.</span></span> <span data-ttu-id="f0ce0-106">Les exceptions sont créées avec le mot clé `throw`.</span><span class="sxs-lookup"><span data-stu-id="f0ce0-106">Exceptions are created by using the `throw` keyword.</span></span>

<span data-ttu-id="f0ce0-107">Dans de nombreux cas, une exception peut être levée non pas par une méthode appelée directement par votre code, mais par une autre méthode plus loin dans la pile des appels.</span><span class="sxs-lookup"><span data-stu-id="f0ce0-107">In many cases, an exception may be thrown not by a method that your code has called directly, but by another method further down in the call stack.</span></span> <span data-ttu-id="f0ce0-108">Dans ce cas, le CLR déroule la pile à la recherche d’une méthode avec un bloc `catch` pour le type d’exception concerné et exécute le premier bloc `catch` de ce type qu’il trouve.</span><span class="sxs-lookup"><span data-stu-id="f0ce0-108">When this happens, the CLR will unwind the stack, looking for a method with a `catch` block for the specific exception type, and it will execute the first such `catch` block that if finds.</span></span> <span data-ttu-id="f0ce0-109">S’il ne trouve pas de bloc `catch` dans la pile des appels, il termine le processus et affiche un message à l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="f0ce0-109">If it finds no appropriate `catch` block anywhere in the call stack, it will terminate the process and display a message to the user.</span></span>

<span data-ttu-id="f0ce0-110">Dans cet exemple, une méthode teste la division par zéro et intercepte l’erreur.</span><span class="sxs-lookup"><span data-stu-id="f0ce0-110">In this example, a method tests for division by zero and catches the error.</span></span> <span data-ttu-id="f0ce0-111">Sans la gestion des exceptions, ce programme se terminerait avec une erreur **DivideByZeroException non gérée**.</span><span class="sxs-lookup"><span data-stu-id="f0ce0-111">Without the exception handling, this program would terminate with a **DivideByZeroException was unhandled** error.</span></span>

[!code-csharp[csProgGuideExceptions#18](~/samples/snippets/csharp/VS_Snippets_VBCSharp/csProgGuideExceptions/CS/Exceptions.cs#18)]

## <a name="exceptions-overview"></a><span data-ttu-id="f0ce0-112">Vue d’ensemble des exceptions</span><span class="sxs-lookup"><span data-stu-id="f0ce0-112">Exceptions Overview</span></span>

<span data-ttu-id="f0ce0-113">Les exceptions ont les propriétés suivantes :</span><span class="sxs-lookup"><span data-stu-id="f0ce0-113">Exceptions have the following properties:</span></span>

- <span data-ttu-id="f0ce0-114">Les exceptions sont des types qui dérivent tous en définitive de `System.Exception`.</span><span class="sxs-lookup"><span data-stu-id="f0ce0-114">Exceptions are types that all ultimately derive from `System.Exception`.</span></span>
- <span data-ttu-id="f0ce0-115">Utilisez un bloc `try` autour des instructions qui peuvent lever des exceptions.</span><span class="sxs-lookup"><span data-stu-id="f0ce0-115">Use a `try` block around the statements that might throw exceptions.</span></span>
- <span data-ttu-id="f0ce0-116">Dès qu’une exception se produit dans le bloc `try`, le flux de contrôle passe immédiatement au premier gestionnaire d’exceptions associé présent dans la pile des appels.</span><span class="sxs-lookup"><span data-stu-id="f0ce0-116">Once an exception occurs in the `try` block, the flow of control jumps to the first associated exception handler that is present anywhere in the call stack.</span></span> <span data-ttu-id="f0ce0-117">En C#, le mot clé `catch` est utilisé pour définir un gestionnaire d’exceptions.</span><span class="sxs-lookup"><span data-stu-id="f0ce0-117">In C#, the `catch` keyword is used to define an exception handler.</span></span>
- <span data-ttu-id="f0ce0-118">Si aucun gestionnaire d’exceptions n’est présent pour une exception donnée, le programme s’arrête avec un message d’erreur.</span><span class="sxs-lookup"><span data-stu-id="f0ce0-118">If no exception handler for a given exception is present, the program stops executing with an error message.</span></span>
- <span data-ttu-id="f0ce0-119">N’interceptez pas d’exception si vous ne pouvez pas la gérer tout en laissant l’application dans un état connu.</span><span class="sxs-lookup"><span data-stu-id="f0ce0-119">Do not catch an exception unless you can handle it and leave the application in a known state.</span></span> <span data-ttu-id="f0ce0-120">Si vous interceptez `System.Exception` , levez-la à nouveau à l’aide du `throw` mot clé à la fin du `catch` bloc.</span><span class="sxs-lookup"><span data-stu-id="f0ce0-120">If you catch `System.Exception`, re-throw it using the `throw` keyword at the end of the `catch` block.</span></span>
- <span data-ttu-id="f0ce0-121">Si un bloc `catch` définit une variable d’exception, vous pouvez l’utiliser pour obtenir plus d’informations sur le type d’exception qui s’est produit.</span><span class="sxs-lookup"><span data-stu-id="f0ce0-121">If a `catch` block defines an exception variable, you can use it to obtain more information about the type of exception that occurred.</span></span>
- <span data-ttu-id="f0ce0-122">Les exceptions peuvent être générées explicitement par un programme avec le mot clé `throw`.</span><span class="sxs-lookup"><span data-stu-id="f0ce0-122">Exceptions can be explicitly generated by a program by using the `throw` keyword.</span></span>
- <span data-ttu-id="f0ce0-123">Les objets Exception contiennent des informations détaillées sur l'erreur, telles que l'état de la pile des appels et une description du texte de l'erreur.</span><span class="sxs-lookup"><span data-stu-id="f0ce0-123">Exception objects contain detailed information about the error, such as the state of the call stack and a text description of the error.</span></span>
- <span data-ttu-id="f0ce0-124">Le code qui se trouve dans un bloc `finally` est exécuté même si une exception est levée.</span><span class="sxs-lookup"><span data-stu-id="f0ce0-124">Code in a `finally` block is executed even if an exception is thrown.</span></span> <span data-ttu-id="f0ce0-125">Utilisez un bloc `finally` pour libérer des ressources, par exemple pour fermer tous les flux ou fichiers qui ont été ouverts dans le bloc `try`.</span><span class="sxs-lookup"><span data-stu-id="f0ce0-125">Use a `finally` block to release resources, for example to close any streams or files that were opened in the `try` block.</span></span>
- <span data-ttu-id="f0ce0-126">Les exceptions managées dans .NET sont implémentées par-dessus le mécanisme de gestion structurée des exceptions Win32.</span><span class="sxs-lookup"><span data-stu-id="f0ce0-126">Managed exceptions in .NET are implemented on top of the Win32 structured exception handling mechanism.</span></span> <span data-ttu-id="f0ce0-127">Pour plus d’informations, consultez les pages [Gestion structurée des exceptions (C/C++)](/cpp/cpp/structured-exception-handling-c-cpp) et [Cours intensif sur la gestion structurée des exceptions de Win32](http://bytepointer.com/resources/pietrek_crash_course_depths_of_win32_seh.htm).</span><span class="sxs-lookup"><span data-stu-id="f0ce0-127">For more information, see [Structured Exception Handling (C/C++)](/cpp/cpp/structured-exception-handling-c-cpp) and [A Crash Course on the Depths of Win32 Structured Exception Handling](http://bytepointer.com/resources/pietrek_crash_course_depths_of_win32_seh.htm).</span></span>

## <a name="related-sections"></a><span data-ttu-id="f0ce0-128">Sections connexes</span><span class="sxs-lookup"><span data-stu-id="f0ce0-128">Related Sections</span></span>

<span data-ttu-id="f0ce0-129">Pour plus d’informations sur les exceptions et la gestion des exceptions, consultez les articles suivants :</span><span class="sxs-lookup"><span data-stu-id="f0ce0-129">See the following articles for more information about exceptions and exception handling:</span></span>

- [<span data-ttu-id="f0ce0-130">Utilisation d'exceptions</span><span class="sxs-lookup"><span data-stu-id="f0ce0-130">Using Exceptions</span></span>](using-exceptions.md)
- [<span data-ttu-id="f0ce0-131">Gestion des exceptions</span><span class="sxs-lookup"><span data-stu-id="f0ce0-131">Exception Handling</span></span>](exception-handling.md)
- [<span data-ttu-id="f0ce0-132">Création et levée d’exceptions</span><span class="sxs-lookup"><span data-stu-id="f0ce0-132">Creating and Throwing Exceptions</span></span>](creating-and-throwing-exceptions.md)
- [<span data-ttu-id="f0ce0-133">Exceptions générées par le compilateur</span><span class="sxs-lookup"><span data-stu-id="f0ce0-133">Compiler-Generated Exceptions</span></span>](compiler-generated-exceptions.md)
- [<span data-ttu-id="f0ce0-134">Comment gérer une exception à l’aide de try/catch (Guide de programmation C#)</span><span class="sxs-lookup"><span data-stu-id="f0ce0-134">How to handle an exception using try/catch (C# Programming Guide)</span></span>](how-to-handle-an-exception-using-try-catch.md)
- [<span data-ttu-id="f0ce0-135">Comment exécuter le code de nettoyage à l’aide de finally</span><span class="sxs-lookup"><span data-stu-id="f0ce0-135">How to execute cleanup code using finally</span></span>](how-to-execute-cleanup-code-using-finally.md)
- [<span data-ttu-id="f0ce0-136">Comment intercepter une exception non-CLS</span><span class="sxs-lookup"><span data-stu-id="f0ce0-136">How to catch a non-CLS exception</span></span>](how-to-catch-a-non-cls-exception.md)

## <a name="c-language-specification"></a><span data-ttu-id="f0ce0-137">Spécification du langage C#</span><span class="sxs-lookup"><span data-stu-id="f0ce0-137">C# Language Specification</span></span>

<span data-ttu-id="f0ce0-138">Pour plus d’informations, consultez [Exceptions](~/_csharplang/spec/exceptions.md) dans la [Spécification du langage C#](/dotnet/csharp/language-reference/language-specification/introduction).</span><span class="sxs-lookup"><span data-stu-id="f0ce0-138">For more information, see [Exceptions](~/_csharplang/spec/exceptions.md) in the [C# Language Specification](/dotnet/csharp/language-reference/language-specification/introduction).</span></span> <span data-ttu-id="f0ce0-139">La spécification du langage est la source de référence pour la syntaxe C# et son utilisation.</span><span class="sxs-lookup"><span data-stu-id="f0ce0-139">The language specification is the definitive source for C# syntax and usage.</span></span>

## <a name="see-also"></a><span data-ttu-id="f0ce0-140">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="f0ce0-140">See also</span></span>

- <xref:System.SystemException>
- [<span data-ttu-id="f0ce0-141">Guide de programmation C#</span><span class="sxs-lookup"><span data-stu-id="f0ce0-141">C# Programming Guide</span></span>](../index.md)
- [<span data-ttu-id="f0ce0-142">Mots clés C#</span><span class="sxs-lookup"><span data-stu-id="f0ce0-142">C# Keywords</span></span>](../../language-reference/keywords/index.md)
- [<span data-ttu-id="f0ce0-143">throw</span><span class="sxs-lookup"><span data-stu-id="f0ce0-143">throw</span></span>](../../language-reference/keywords/throw.md)
- [<span data-ttu-id="f0ce0-144">try-catch</span><span class="sxs-lookup"><span data-stu-id="f0ce0-144">try-catch</span></span>](../../language-reference/keywords/try-catch.md)
- [<span data-ttu-id="f0ce0-145">try-finally</span><span class="sxs-lookup"><span data-stu-id="f0ce0-145">try-finally</span></span>](../../language-reference/keywords/try-finally.md)
- [<span data-ttu-id="f0ce0-146">try-catch-finally</span><span class="sxs-lookup"><span data-stu-id="f0ce0-146">try-catch-finally</span></span>](../../language-reference/keywords/try-catch-finally.md)
- [<span data-ttu-id="f0ce0-147">Exceptions</span><span class="sxs-lookup"><span data-stu-id="f0ce0-147">Exceptions</span></span>](../../../standard/exceptions/index.md)
