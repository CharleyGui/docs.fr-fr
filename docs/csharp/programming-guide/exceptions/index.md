---
title: Exceptions et gestion des exceptions - Guide de programmation C#
description: En savoir plus sur les exceptions et la gestion des exceptions. Ces fonctionnalités C# aident à traiter les situations inattendues ou exceptionnelles qui se produisent lorsqu’un programme est en cours d’exécution.
ms.date: 12/09/2020
helpviewer_keywords:
- exception handling [C#]
- exceptions [C#]
- C# language, exceptions
ms.assetid: 0001887f-4fa2-47e2-8034-2819477e2344
ms.openlocfilehash: 679171e6d397741ef44cb37fb770f6feba039fd9
ms.sourcegitcommit: 9b877e160c326577e8aa5ead22a937110d80fa44
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 12/11/2020
ms.locfileid: "97110622"
---
# <a name="exceptions-and-exception-handling-c-programming-guide"></a><span data-ttu-id="327a1-104">Exceptions et gestion des exceptions (Guide de programmation C#)</span><span class="sxs-lookup"><span data-stu-id="327a1-104">Exceptions and Exception Handling (C# Programming Guide)</span></span>

<span data-ttu-id="327a1-105">Les fonctionnalités de gestion des exceptions du langage C# vous aident à gérer les situations inattendues ou exceptionnelles qui se produisent lorsqu’un programme est en cours d’exécution.</span><span class="sxs-lookup"><span data-stu-id="327a1-105">The C# language's exception handling features help you deal with any unexpected or exceptional situations that occur when a program is running.</span></span> <span data-ttu-id="327a1-106">La gestion des exceptions utilise les `try` `catch` `finally` Mots clés, et pour essayer des actions qui peuvent échouer, pour gérer les défaillances lorsque vous décidez qu’il est raisonnable de le faire et pour nettoyer les ressources par la suite.</span><span class="sxs-lookup"><span data-stu-id="327a1-106">Exception handling uses the `try`, `catch`, and `finally` keywords to try actions that may not succeed, to handle failures when you decide that it's reasonable to do so, and to clean up resources afterward.</span></span> <span data-ttu-id="327a1-107">Les exceptions peuvent être générées par le common language runtime (CLR), par les bibliothèques .NET ou tierces, ou par le code d’application.</span><span class="sxs-lookup"><span data-stu-id="327a1-107">Exceptions can be generated by the common language runtime (CLR), by .NET or third-party libraries, or by application code.</span></span> <span data-ttu-id="327a1-108">Les exceptions sont créées avec le mot clé `throw`.</span><span class="sxs-lookup"><span data-stu-id="327a1-108">Exceptions are created by using the `throw` keyword.</span></span>

<span data-ttu-id="327a1-109">Dans de nombreux cas, une exception peut être levée non pas par une méthode appelée directement par votre code, mais par une autre méthode plus loin dans la pile des appels.</span><span class="sxs-lookup"><span data-stu-id="327a1-109">In many cases, an exception may be thrown not by a method that your code has called directly, but by another method further down in the call stack.</span></span> <span data-ttu-id="327a1-110">Quand une exception est levée, le CLR déroulera la pile, en recherchant une méthode avec un `catch` bloc pour le type d’exception spécifique, et exécutera le premier bloc de ce type `catch` que if trouve.</span><span class="sxs-lookup"><span data-stu-id="327a1-110">When an exception is thrown happens, the CLR will unwind the stack, looking for a method with a `catch` block for the specific exception type, and it will execute the first such `catch` block that if finds.</span></span> <span data-ttu-id="327a1-111">S’il ne trouve pas de bloc `catch` dans la pile des appels, il termine le processus et affiche un message à l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="327a1-111">If it finds no appropriate `catch` block anywhere in the call stack, it will terminate the process and display a message to the user.</span></span>

<span data-ttu-id="327a1-112">Dans cet exemple, une méthode teste la division par zéro et intercepte l’erreur.</span><span class="sxs-lookup"><span data-stu-id="327a1-112">In this example, a method tests for division by zero and catches the error.</span></span> <span data-ttu-id="327a1-113">Sans la gestion des exceptions, ce programme se terminerait avec une erreur **DivideByZeroException non gérée**.</span><span class="sxs-lookup"><span data-stu-id="327a1-113">Without the exception handling, this program would terminate with a **DivideByZeroException was unhandled** error.</span></span>

:::code language="csharp" source="snippets/exceptions/ExceptionTest.cs" ID="ExceptionTest":::

## <a name="exceptions-overview"></a><span data-ttu-id="327a1-114">Vue d’ensemble des exceptions</span><span class="sxs-lookup"><span data-stu-id="327a1-114">Exceptions Overview</span></span>

<span data-ttu-id="327a1-115">Les exceptions ont les propriétés suivantes :</span><span class="sxs-lookup"><span data-stu-id="327a1-115">Exceptions have the following properties:</span></span>

- <span data-ttu-id="327a1-116">Les exceptions sont des types qui dérivent tous en définitive de `System.Exception`.</span><span class="sxs-lookup"><span data-stu-id="327a1-116">Exceptions are types that all ultimately derive from `System.Exception`.</span></span>
- <span data-ttu-id="327a1-117">Utilisez un bloc `try` autour des instructions qui peuvent lever des exceptions.</span><span class="sxs-lookup"><span data-stu-id="327a1-117">Use a `try` block around the statements that might throw exceptions.</span></span>
- <span data-ttu-id="327a1-118">Dès qu’une exception se produit dans le bloc `try`, le flux de contrôle passe immédiatement au premier gestionnaire d’exceptions associé présent dans la pile des appels.</span><span class="sxs-lookup"><span data-stu-id="327a1-118">Once an exception occurs in the `try` block, the flow of control jumps to the first associated exception handler that is present anywhere in the call stack.</span></span> <span data-ttu-id="327a1-119">En C#, le mot clé `catch` est utilisé pour définir un gestionnaire d’exceptions.</span><span class="sxs-lookup"><span data-stu-id="327a1-119">In C#, the `catch` keyword is used to define an exception handler.</span></span>
- <span data-ttu-id="327a1-120">Si aucun gestionnaire d’exceptions n’est présent pour une exception donnée, le programme s’arrête avec un message d’erreur.</span><span class="sxs-lookup"><span data-stu-id="327a1-120">If no exception handler for a given exception is present, the program stops executing with an error message.</span></span>
- <span data-ttu-id="327a1-121">N’interceptez pas d’exception, sauf si vous pouvez la gérer et conserver l’application dans un état connu.</span><span class="sxs-lookup"><span data-stu-id="327a1-121">Don't catch an exception unless you can handle it and leave the application in a known state.</span></span> <span data-ttu-id="327a1-122">Si vous interceptez `System.Exception`, levez-la de nouveau avec le mot clé `throw` à la fin du bloc `catch`.</span><span class="sxs-lookup"><span data-stu-id="327a1-122">If you catch `System.Exception`, rethrow it using the `throw` keyword at the end of the `catch` block.</span></span>
- <span data-ttu-id="327a1-123">Si un bloc `catch` définit une variable d’exception, vous pouvez l’utiliser pour obtenir plus d’informations sur le type d’exception qui s’est produit.</span><span class="sxs-lookup"><span data-stu-id="327a1-123">If a `catch` block defines an exception variable, you can use it to obtain more information about the type of exception that occurred.</span></span>
- <span data-ttu-id="327a1-124">Les exceptions peuvent être générées explicitement par un programme avec le mot clé `throw`.</span><span class="sxs-lookup"><span data-stu-id="327a1-124">Exceptions can be explicitly generated by a program by using the `throw` keyword.</span></span>
- <span data-ttu-id="327a1-125">Les objets Exception contiennent des informations détaillées sur l'erreur, telles que l'état de la pile des appels et une description du texte de l'erreur.</span><span class="sxs-lookup"><span data-stu-id="327a1-125">Exception objects contain detailed information about the error, such as the state of the call stack and a text description of the error.</span></span>
- <span data-ttu-id="327a1-126">Le code qui se trouve dans un bloc `finally` est exécuté même si une exception est levée.</span><span class="sxs-lookup"><span data-stu-id="327a1-126">Code in a `finally` block is executed even if an exception is thrown.</span></span> <span data-ttu-id="327a1-127">Utilisez un bloc `finally` pour libérer des ressources, par exemple pour fermer tous les flux ou fichiers qui ont été ouverts dans le bloc `try`.</span><span class="sxs-lookup"><span data-stu-id="327a1-127">Use a `finally` block to release resources, for example to close any streams or files that were opened in the `try` block.</span></span>
- <span data-ttu-id="327a1-128">Les exceptions managées dans .NET sont implémentées par-dessus le mécanisme de gestion structurée des exceptions Win32.</span><span class="sxs-lookup"><span data-stu-id="327a1-128">Managed exceptions in .NET are implemented on top of the Win32 structured exception handling mechanism.</span></span> <span data-ttu-id="327a1-129">Pour plus d’informations, consultez les pages [Gestion structurée des exceptions (C/C++)](/cpp/cpp/structured-exception-handling-c-cpp) et [Cours intensif sur la gestion structurée des exceptions de Win32](http://bytepointer.com/resources/pietrek_crash_course_depths_of_win32_seh.htm).</span><span class="sxs-lookup"><span data-stu-id="327a1-129">For more information, see [Structured Exception Handling (C/C++)](/cpp/cpp/structured-exception-handling-c-cpp) and [A Crash Course on the Depths of Win32 Structured Exception Handling](http://bytepointer.com/resources/pietrek_crash_course_depths_of_win32_seh.htm).</span></span>

## <a name="c-language-specification"></a><span data-ttu-id="327a1-130">Spécification du langage C#</span><span class="sxs-lookup"><span data-stu-id="327a1-130">C# Language Specification</span></span>

<span data-ttu-id="327a1-131">Pour plus d’informations, consultez [Exceptions](~/_csharplang/spec/exceptions.md) dans la [Spécification du langage C#](/dotnet/csharp/language-reference/language-specification/introduction).</span><span class="sxs-lookup"><span data-stu-id="327a1-131">For more information, see [Exceptions](~/_csharplang/spec/exceptions.md) in the [C# Language Specification](/dotnet/csharp/language-reference/language-specification/introduction).</span></span> <span data-ttu-id="327a1-132">La spécification du langage est la source de référence pour la syntaxe C# et son utilisation.</span><span class="sxs-lookup"><span data-stu-id="327a1-132">The language specification is the definitive source for C# syntax and usage.</span></span>

## <a name="see-also"></a><span data-ttu-id="327a1-133">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="327a1-133">See also</span></span>

- <xref:System.SystemException>
- [<span data-ttu-id="327a1-134">Mots clés C#</span><span class="sxs-lookup"><span data-stu-id="327a1-134">C# Keywords</span></span>](../../language-reference/keywords/index.md)
- [<span data-ttu-id="327a1-135">lever</span><span class="sxs-lookup"><span data-stu-id="327a1-135">throw</span></span>](../../language-reference/keywords/throw.md)
- [<span data-ttu-id="327a1-136">try-catch</span><span class="sxs-lookup"><span data-stu-id="327a1-136">try-catch</span></span>](../../language-reference/keywords/try-catch.md)
- [<span data-ttu-id="327a1-137">try-finally</span><span class="sxs-lookup"><span data-stu-id="327a1-137">try-finally</span></span>](../../language-reference/keywords/try-finally.md)
- [<span data-ttu-id="327a1-138">try-catch-finally</span><span class="sxs-lookup"><span data-stu-id="327a1-138">try-catch-finally</span></span>](../../language-reference/keywords/try-catch-finally.md)
- [<span data-ttu-id="327a1-139">Exceptions</span><span class="sxs-lookup"><span data-stu-id="327a1-139">Exceptions</span></span>](../../../standard/exceptions/index.md)
