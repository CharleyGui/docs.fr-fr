---
title: Méthodes - Guide de programmation C#
ms.custom: seodec18
ms.date: 07/20/2015
helpviewer_keywords:
- methods [C#]
- C# language, methods
ms.assetid: cc738f07-e8cd-4683-9585-9f40c0667c37
ms.openlocfilehash: 318f51afefd780ed7be0ab8c2a72acb5fcf9db15
ms.sourcegitcommit: 3094dcd17141b32a570a82ae3f62a331616e2c9c
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/01/2019
ms.locfileid: "71699970"
---
# <a name="methods-c-programming-guide"></a><span data-ttu-id="7cdc5-102">Méthodes (Guide de programmation C#)</span><span class="sxs-lookup"><span data-stu-id="7cdc5-102">Methods (C# Programming Guide)</span></span>

<span data-ttu-id="7cdc5-103">Une méthode est un bloc de code qui contient une série d'instructions.</span><span class="sxs-lookup"><span data-stu-id="7cdc5-103">A method is a code block that contains a series of statements.</span></span> <span data-ttu-id="7cdc5-104">Un programme provoque l'exécution des instructions en appelant la méthode et en spécifiant les éventuels arguments de méthode requis.</span><span class="sxs-lookup"><span data-stu-id="7cdc5-104">A program causes the statements to be executed by calling the method and specifying any required method arguments.</span></span> <span data-ttu-id="7cdc5-105">En C#, chaque instruction exécutée est effectuée dans le contexte d'une méthode.</span><span class="sxs-lookup"><span data-stu-id="7cdc5-105">In C#, every executed instruction is performed in the context of a method.</span></span> <span data-ttu-id="7cdc5-106">La méthode `Main` est le point d’entrée de C# chaque application et elle est appelée par le Common Language Runtime (CLR) au démarrage du programme.</span><span class="sxs-lookup"><span data-stu-id="7cdc5-106">The `Main` method is the entry point for every C# application and it's called by the common language runtime (CLR) when the program is started.</span></span>

> [!NOTE]
> <span data-ttu-id="7cdc5-107">Cet article décrit les méthodes nommées.</span><span class="sxs-lookup"><span data-stu-id="7cdc5-107">This article discusses named methods.</span></span> <span data-ttu-id="7cdc5-108">Pour plus d’informations sur les fonctions anonymes, consultez [Fonctions anonymes](../statements-expressions-operators/anonymous-functions.md).</span><span class="sxs-lookup"><span data-stu-id="7cdc5-108">For information about anonymous functions, see [Anonymous Functions](../statements-expressions-operators/anonymous-functions.md).</span></span>

## <a name="method-signatures"></a><span data-ttu-id="7cdc5-109">Signatures de méthode</span><span class="sxs-lookup"><span data-stu-id="7cdc5-109">Method signatures</span></span>

<span data-ttu-id="7cdc5-110">Les méthodes sont déclarées dans une [classe](../../language-reference/keywords/class.md) ou un [struct](../../language-reference/keywords/struct.md) en spécifiant le niveau d'accès comme `public` ou `private`, les modificateurs facultatifs comme `abstract` ou `sealed`, la valeur de retour, le nom de la méthode et les éventuels paramètres de méthode.</span><span class="sxs-lookup"><span data-stu-id="7cdc5-110">Methods are declared in a [class](../../language-reference/keywords/class.md) or [struct](../../language-reference/keywords/struct.md) by specifying the access level such as `public` or `private`, optional modifiers such as `abstract` or `sealed`, the return value, the name of the method, and any method parameters.</span></span> <span data-ttu-id="7cdc5-111">Ces parties forment ensemble la signature de la méthode.</span><span class="sxs-lookup"><span data-stu-id="7cdc5-111">These parts together are the signature of the method.</span></span>

> [!NOTE]
> <span data-ttu-id="7cdc5-112">Un type de retour d'une méthode ne fait pas partie de la signature de la méthode à des fins de surcharge de méthode.</span><span class="sxs-lookup"><span data-stu-id="7cdc5-112">A return type of a method is not part of the signature of the method for the purposes of method overloading.</span></span> <span data-ttu-id="7cdc5-113">Toutefois, il fait partie de la signature de la méthode lors de la détermination de la compatibilité entre un délégué et la méthode vers laquelle il pointe.</span><span class="sxs-lookup"><span data-stu-id="7cdc5-113">However, it is part of the signature of the method when determining the compatibility between a delegate and the method that it points to.</span></span>

<span data-ttu-id="7cdc5-114">Les paramètres de méthode sont placés entre parenthèses et séparés par des virgules.</span><span class="sxs-lookup"><span data-stu-id="7cdc5-114">Method parameters are enclosed in parentheses and are separated by commas.</span></span> <span data-ttu-id="7cdc5-115">Des parenthèses vides indiquent que la méthode ne requiert aucun paramètre.</span><span class="sxs-lookup"><span data-stu-id="7cdc5-115">Empty parentheses indicate that the method requires no parameters.</span></span> <span data-ttu-id="7cdc5-116">Cette classe contient quatre méthodes :</span><span class="sxs-lookup"><span data-stu-id="7cdc5-116">This class contains four methods:</span></span>

[!code-csharp[csProgGuideObjects#40](~/samples/snippets/csharp/VS_Snippets_VBCSharp/csProgGuideObjects/CS/Objects.cs#40)]

## <a name="method-access"></a><span data-ttu-id="7cdc5-117">Accès aux méthodes</span><span class="sxs-lookup"><span data-stu-id="7cdc5-117">Method access</span></span>

<span data-ttu-id="7cdc5-118">L'appel d'une méthode sur un objet revient à accéder à un champ.</span><span class="sxs-lookup"><span data-stu-id="7cdc5-118">Calling a method on an object is like accessing a field.</span></span> <span data-ttu-id="7cdc5-119">Après le nom de l'objet, ajoutez un point, le nom de la méthode et les parenthèses.</span><span class="sxs-lookup"><span data-stu-id="7cdc5-119">After the object name, add a period, the name of the method, and parentheses.</span></span> <span data-ttu-id="7cdc5-120">Les arguments sont répertoriés entre les parenthèses et séparés par des virgules.</span><span class="sxs-lookup"><span data-stu-id="7cdc5-120">Arguments are listed within the parentheses, and are separated by commas.</span></span> <span data-ttu-id="7cdc5-121">Les méthodes de la classe `Motorcycle` peuvent donc être appelées comme dans l'exemple suivant :</span><span class="sxs-lookup"><span data-stu-id="7cdc5-121">The methods of the `Motorcycle` class can therefore be called as in the following example:</span></span>

[!code-csharp[csProgGuideObjects#41](~/samples/snippets/csharp/VS_Snippets_VBCSharp/csProgGuideObjects/CS/Objects.cs#41)]

## <a name="method-parameters-vs-arguments"></a><span data-ttu-id="7cdc5-122">Paramètres de méthode et arguments</span><span class="sxs-lookup"><span data-stu-id="7cdc5-122">Method parameters vs. arguments</span></span>

<span data-ttu-id="7cdc5-123">La définition de la méthode spécifie les noms et types des paramètres requis.</span><span class="sxs-lookup"><span data-stu-id="7cdc5-123">The method definition specifies the names and types of any parameters that are required.</span></span> <span data-ttu-id="7cdc5-124">Quand le code appelant appelle la méthode, il fournit des valeurs concrètes appelées arguments pour chaque paramètre.</span><span class="sxs-lookup"><span data-stu-id="7cdc5-124">When calling code calls the method, it provides concrete values called arguments for each parameter.</span></span> <span data-ttu-id="7cdc5-125">Les arguments doivent être compatibles avec le type de paramètre, mais le nom d’argument (le cas échéant) utilisé dans le code appelant ne doit pas nécessairement être le même que le paramètre nommé défini dans la méthode.</span><span class="sxs-lookup"><span data-stu-id="7cdc5-125">The arguments must be compatible with the parameter type but the argument name (if any) used in the calling code doesn't have to be the same as the parameter named defined in the method.</span></span> <span data-ttu-id="7cdc5-126">Exemple :</span><span class="sxs-lookup"><span data-stu-id="7cdc5-126">For example:</span></span>

[!code-csharp[csProgGuideObjects#74](~/samples/snippets/csharp/VS_Snippets_VBCSharp/csProgGuideObjects/CS/Objects.cs#74)]

## <a name="passing-by-reference-vs-passing-by-value"></a><span data-ttu-id="7cdc5-127">Passage par référence et passage par valeur</span><span class="sxs-lookup"><span data-stu-id="7cdc5-127">Passing by reference vs. passing by value</span></span>

<span data-ttu-id="7cdc5-128">Par défaut, quand un type valeur est passé à une méthode, une copie est passée au lieu de l'objet lui-même.</span><span class="sxs-lookup"><span data-stu-id="7cdc5-128">By default, when a value type is passed to a method, a copy is passed instead of the object itself.</span></span> <span data-ttu-id="7cdc5-129">Ainsi, les modifications apportées à l'argument n'ont aucun effet sur la copie d'origine dans la méthode d'appel.</span><span class="sxs-lookup"><span data-stu-id="7cdc5-129">Therefore, changes to the argument have no effect on the original copy in the calling method.</span></span> <span data-ttu-id="7cdc5-130">Vous pouvez passer un type valeur par référence en utilisant le mot clé ref.</span><span class="sxs-lookup"><span data-stu-id="7cdc5-130">You can pass a value-type by reference by using the ref keyword.</span></span> <span data-ttu-id="7cdc5-131">Pour plus d’informations, consultez [Passage de paramètres de type valeur ](./passing-value-type-parameters.md).</span><span class="sxs-lookup"><span data-stu-id="7cdc5-131">For more information, see [Passing Value-Type Parameters](./passing-value-type-parameters.md).</span></span> <span data-ttu-id="7cdc5-132">Pour obtenir la liste des types valeur prédéfinis, consultez [Tableau des types valeur](../../language-reference/keywords/value-types-table.md).</span><span class="sxs-lookup"><span data-stu-id="7cdc5-132">For a list of built-in value types, see [Value Types Table](../../language-reference/keywords/value-types-table.md).</span></span>

<span data-ttu-id="7cdc5-133">Quand un objet d'un type référence est passé à une méthode, une référence à l'objet est passée.</span><span class="sxs-lookup"><span data-stu-id="7cdc5-133">When an object of a reference type is passed to a method, a reference to the object is passed.</span></span> <span data-ttu-id="7cdc5-134">Autrement dit, la méthode ne reçoit pas l'objet lui-même mais un argument qui indique l'emplacement de l'objet.</span><span class="sxs-lookup"><span data-stu-id="7cdc5-134">That is, the method receives not the object itself but an argument that indicates the location of the object.</span></span> <span data-ttu-id="7cdc5-135">Si vous modifiez un membre de l'objet à l'aide de cette référence, la modification est répercutée dans l'argument de la méthode d'appel, même si vous passez l'objet par valeur.</span><span class="sxs-lookup"><span data-stu-id="7cdc5-135">If you change a member of the object by using this reference, the change is reflected in the argument in the calling method, even if you pass the object by value.</span></span>

<span data-ttu-id="7cdc5-136">Vous créez un type référence à l’aide du mot clé `class`, comme le montre l’exemple suivant :</span><span class="sxs-lookup"><span data-stu-id="7cdc5-136">You create a reference type by using the `class` keyword, as the following example shows:</span></span>

[!code-csharp[csProgGuideObjects#42](~/samples/snippets/csharp/VS_Snippets_VBCSharp/csProgGuideObjects/CS/Objects.cs#42)]

<span data-ttu-id="7cdc5-137">Maintenant, si vous passez un objet basé sur ce type à une méthode, une référence à l'objet est passée.</span><span class="sxs-lookup"><span data-stu-id="7cdc5-137">Now, if you pass an object that is based on this type to a method, a reference to the object is passed.</span></span> <span data-ttu-id="7cdc5-138">L’exemple suivant passe un objet de type `SampleRefType` à la méthode `ModifyObject` :</span><span class="sxs-lookup"><span data-stu-id="7cdc5-138">The following example passes an object of type `SampleRefType` to method `ModifyObject`:</span></span>

[!code-csharp[csProgGuideObjects#75](~/samples/snippets/csharp/VS_Snippets_VBCSharp/csProgGuideObjects/CS/Objects.cs#75)]

<span data-ttu-id="7cdc5-139">L'exemple produit essentiellement la même chose que l'exemple précédent, dans la mesure où il passe un argument par valeur à une méthode.</span><span class="sxs-lookup"><span data-stu-id="7cdc5-139">The example does essentially the same thing as the previous example in that it passes an argument by value to a method.</span></span> <span data-ttu-id="7cdc5-140">Mais, puisqu'un type référence est utilisé, le résultat est différent.</span><span class="sxs-lookup"><span data-stu-id="7cdc5-140">But, because a reference type is used, the result is different.</span></span> <span data-ttu-id="7cdc5-141">La modification apportée dans `ModifyObject` au champ `value` du paramètre, `obj`, modifie également le champ `value` de l'argument, `rt`, dans la méthode `TestRefType` .</span><span class="sxs-lookup"><span data-stu-id="7cdc5-141">The modification that is made in `ModifyObject` to the `value` field of the parameter, `obj`, also changes the `value` field of the argument, `rt`, in the `TestRefType` method.</span></span> <span data-ttu-id="7cdc5-142">La méthode `TestRefType` affiche 33 en tant que sortie.</span><span class="sxs-lookup"><span data-stu-id="7cdc5-142">The `TestRefType` method displays 33 as the output.</span></span>

<span data-ttu-id="7cdc5-143">Pour plus d’informations sur le passage de types référence par référence et par valeur, consultez [Passage de paramètres de type référence ](./passing-reference-type-parameters.md) et [Types référence](../../language-reference/keywords/reference-types.md).</span><span class="sxs-lookup"><span data-stu-id="7cdc5-143">For more information about how to pass reference types by reference and by value, see [Passing Reference-Type Parameters](./passing-reference-type-parameters.md) and [Reference Types](../../language-reference/keywords/reference-types.md).</span></span>

## <a name="return-values"></a><span data-ttu-id="7cdc5-144">Valeurs de retour</span><span class="sxs-lookup"><span data-stu-id="7cdc5-144">Return values</span></span>

<span data-ttu-id="7cdc5-145">Les méthodes peuvent retourner une valeur à l'appelant.</span><span class="sxs-lookup"><span data-stu-id="7cdc5-145">Methods can return a value to the caller.</span></span> <span data-ttu-id="7cdc5-146">Si le type de retour, le type répertorié avant le nom de la méthode, n'est pas `void`, la méthode peut retourner la valeur à l'aide du mot clé `return` .</span><span class="sxs-lookup"><span data-stu-id="7cdc5-146">If the return type, the type listed before the method name, is not `void`, the method can return the value by using the `return` keyword.</span></span> <span data-ttu-id="7cdc5-147">Une instruction avec le mot clé `return` suivi d'une valeur qui correspond au type de retour retourne cette valeur à l'appelant de la méthode.</span><span class="sxs-lookup"><span data-stu-id="7cdc5-147">A statement with the `return` keyword followed by a value that matches the return type will return that value to the method caller.</span></span>

<span data-ttu-id="7cdc5-148">La valeur peut être retournée à l’appelant par valeur ou, à compter de C# 7.0, [par référence](ref-returns.md).</span><span class="sxs-lookup"><span data-stu-id="7cdc5-148">The value can be returned to the caller by value or, starting with C# 7.0, [by reference](ref-returns.md).</span></span> <span data-ttu-id="7cdc5-149">Les valeurs sont retournées à l’appelant par référence si le mot clé `ref` est utilisé dans la signature de méthode et s’il suit chaque mot clé `return`.</span><span class="sxs-lookup"><span data-stu-id="7cdc5-149">Values are returned to the caller by reference if the `ref` keyword is used in the method signature and it follows each `return` keyword.</span></span> <span data-ttu-id="7cdc5-150">Par exemple, la signature de méthode suivante et l’instruction de retour indiquent que la méthode retourne un nom de variable `estDistance` par référence à l’appelant.</span><span class="sxs-lookup"><span data-stu-id="7cdc5-150">For example, the following method signature and return statement indicate that the method returns a variable names `estDistance` by reference to the caller.</span></span>

```csharp
public ref double GetEstimatedDistance()
{
    return ref estDistance;
}
```

<span data-ttu-id="7cdc5-151">Le mot clé `return` arrête également l'exécution de la méthode.</span><span class="sxs-lookup"><span data-stu-id="7cdc5-151">The `return` keyword also stops the execution of the method.</span></span> <span data-ttu-id="7cdc5-152">Si le type de retour est `void`, une instruction `return` sans valeur est quand même utile pour arrêter l'exécution de la méthode.</span><span class="sxs-lookup"><span data-stu-id="7cdc5-152">If the return type is `void`, a `return` statement without a value is still useful to stop the execution of the method.</span></span> <span data-ttu-id="7cdc5-153">Sans le mot clé `return` , la méthode arrête de s'exécuter quand elle atteint la fin du bloc de code.</span><span class="sxs-lookup"><span data-stu-id="7cdc5-153">Without the `return` keyword, the method will stop executing when it reaches the end of the code block.</span></span> <span data-ttu-id="7cdc5-154">Les méthodes dotées d'un type de retour non void doivent utiliser le mot clé `return` pour retourner une valeur.</span><span class="sxs-lookup"><span data-stu-id="7cdc5-154">Methods with a non-void return type are required to use the `return` keyword to return a value.</span></span> <span data-ttu-id="7cdc5-155">Par exemple, ces deux méthodes utilisent le mot clé `return` pour retourner des entiers :</span><span class="sxs-lookup"><span data-stu-id="7cdc5-155">For example, these two methods use the `return` keyword to return integers:</span></span>

[!code-csharp[csProgGuideObjects#44](~/samples/snippets/csharp/VS_Snippets_VBCSharp/csProgGuideObjects/CS/Objects.cs#44)]

<span data-ttu-id="7cdc5-156">Pour utiliser une valeur retournée à partir d'une méthode, la méthode d'appel peut utiliser l'appel de méthode proprement dit partout où une valeur du même type peut suffire.</span><span class="sxs-lookup"><span data-stu-id="7cdc5-156">To use a value returned from a method, the calling method can use the method call itself anywhere a value of the same type would be sufficient.</span></span> <span data-ttu-id="7cdc5-157">Vous pouvez également affecter la valeur de retour à une variable.</span><span class="sxs-lookup"><span data-stu-id="7cdc5-157">You can also assign the return value to a variable.</span></span> <span data-ttu-id="7cdc5-158">Par exemple, les deux exemples de code suivants remplissent le même objectif :</span><span class="sxs-lookup"><span data-stu-id="7cdc5-158">For example, the following two code examples accomplish the same goal:</span></span>

[!code-csharp[csProgGuideObjects#45](~/samples/snippets/csharp/VS_Snippets_VBCSharp/csProgGuideObjects/CS/Objects.cs#45)]

[!code-csharp[csProgGuideObjects#46](~/samples/snippets/csharp/VS_Snippets_VBCSharp/csProgGuideObjects/CS/Objects.cs#46)]

<span data-ttu-id="7cdc5-159">L'utilisation d'une variable locale, dans cet exemple, `result`, pour stocker une valeur est facultative.</span><span class="sxs-lookup"><span data-stu-id="7cdc5-159">Using a local variable, in this case, `result`, to store a value is optional.</span></span> <span data-ttu-id="7cdc5-160">Elle peut favoriser la lisibilité du code ou s'avérer nécessaire si vous avez besoin de stocker la valeur d'origine de l'argument pour la portée entière de la méthode.</span><span class="sxs-lookup"><span data-stu-id="7cdc5-160">It may help the readability of the code, or it may be necessary if you need to store the original value of the argument for the entire scope of the method.</span></span>

<span data-ttu-id="7cdc5-161">Pour utiliser une valeur retournée par référence à partir d’une méthode, vous devez déclarer une variable [ref local](ref-returns.md#ref-locals) si vous avez l’intention de modifier sa valeur.</span><span class="sxs-lookup"><span data-stu-id="7cdc5-161">To use a value returned by reference from a method, you must declare a [ref local](ref-returns.md#ref-locals) variable if you intend to modify its value.</span></span> <span data-ttu-id="7cdc5-162">Par exemple, si la méthode `Planet.GetEstimatedDistance` retourne une valeur <xref:System.Double> par référence, vous pouvez la définir en tant que variable ref local avec du code semblable à celui-ci :</span><span class="sxs-lookup"><span data-stu-id="7cdc5-162">For example, if the `Planet.GetEstimatedDistance` method returns a <xref:System.Double> value by reference, you can define it as a ref local variable with code like the following:</span></span>

```csharp
ref int distance = plant
```

<span data-ttu-id="7cdc5-163">Le retour d’un tableau multidimensionnel à partir d’une méthode, `M`, qui modifie le contenu du tableau n’est pas nécessaire si la fonction appelante a passé le tableau à `M`.</span><span class="sxs-lookup"><span data-stu-id="7cdc5-163">Returning a multi-dimensional array from a method, `M`, that modifies the array's contents is not necessary if the calling function passed the array into `M`.</span></span>  <span data-ttu-id="7cdc5-164">Vous pouvez retourner le tableau obtenu à partir de `M` pour bénéficier d’un style approprié ou d’un flux fonctionnel de valeurs, mais cela n’est pas nécessaire, car C# passe tous les types de référence par valeur, et la valeur d’une référence de tableau est le pointeur qui désigne le tableau.</span><span class="sxs-lookup"><span data-stu-id="7cdc5-164">You may return the resulting array from `M` for good style or functional flow of values, but it is not necessary because C# passes all reference types by value, and the value of an array reference is the pointer to the array.</span></span> <span data-ttu-id="7cdc5-165">Dans la méthode `M`, toute modification apportée au contenu du tableau est observable par tout code qui possède une référence au tableau, comme illustré dans l’exemple suivant :</span><span class="sxs-lookup"><span data-stu-id="7cdc5-165">In the method `M`, any changes to the array's contents are observable by any code that has a reference to the array, as shown in the following example:</span></span>

```csharp
static void Main(string[] args)
{
    int[,] matrix = new int[2, 2];
    FillMatrix(matrix);
    // matrix is now full of -1
}

public static void FillMatrix(int[,] matrix)
{
    for (int i = 0; i < matrix.GetLength(0); i++)
    {
        for (int j = 0; j < matrix.GetLength(1); j++)
        {
            matrix[i, j] = -1;
        }
    }
}
```

<span data-ttu-id="7cdc5-166">Pour plus d'informations, consultez [return](../../language-reference/keywords/return.md).</span><span class="sxs-lookup"><span data-stu-id="7cdc5-166">For more information, see [return](../../language-reference/keywords/return.md).</span></span>

## <a name="async-methods"></a><span data-ttu-id="7cdc5-167">Méthodes Async</span><span class="sxs-lookup"><span data-stu-id="7cdc5-167">Async methods</span></span>

<span data-ttu-id="7cdc5-168">La fonctionnalité async vous permet d'appeler des méthodes asynchrones sans utiliser de rappels explicites ni fractionner manuellement votre code entre plusieurs méthodes ou expressions lambda.</span><span class="sxs-lookup"><span data-stu-id="7cdc5-168">By using the async feature, you can invoke asynchronous methods without using explicit callbacks or manually splitting your code across multiple methods or lambda expressions.</span></span>

<span data-ttu-id="7cdc5-169">Si vous marquez une méthode avec le modificateur [async](../../language-reference/keywords/async.md) , vous pouvez utiliser l'opérateur [await](../../language-reference/operators/await.md) dans la méthode.</span><span class="sxs-lookup"><span data-stu-id="7cdc5-169">If you mark a method with the [async](../../language-reference/keywords/async.md) modifier, you can use the [await](../../language-reference/operators/await.md) operator in the method.</span></span> <span data-ttu-id="7cdc5-170">Quand le contrôle atteint une expression await dans la méthode async, il retourne à l'appelant, et la progression dans la méthode est interrompue jusqu'à ce que la tâche attendue se termine.</span><span class="sxs-lookup"><span data-stu-id="7cdc5-170">When control reaches an await expression in the async method, control returns to the caller, and progress in the method is suspended until the awaited task completes.</span></span> <span data-ttu-id="7cdc5-171">Quand la tâche est terminée, l'exécution peut reprendre dans la méthode.</span><span class="sxs-lookup"><span data-stu-id="7cdc5-171">When the task is complete, execution can resume in the method.</span></span>

> [!NOTE]
> <span data-ttu-id="7cdc5-172">Une méthode async retourne à l'appelant quand elle rencontre le premier objet await qui n'est pas encore terminé ou quand elle atteint la fin de la méthode async, selon la première éventualité.</span><span class="sxs-lookup"><span data-stu-id="7cdc5-172">An async method returns to the caller when either it encounters the first awaited object that’s not yet complete or it gets to the end of the async method, whichever occurs first.</span></span>

<span data-ttu-id="7cdc5-173">Une méthode async peut avoir un type de retour <xref:System.Threading.Tasks.Task%601>, <xref:System.Threading.Tasks.Task>ou void.</span><span class="sxs-lookup"><span data-stu-id="7cdc5-173">An async method can have a return type of <xref:System.Threading.Tasks.Task%601>, <xref:System.Threading.Tasks.Task>, or void.</span></span> <span data-ttu-id="7cdc5-174">Le type de retour void est principalement utilisé pour définir les gestionnaires d'événements, où un type de retour void est requis.</span><span class="sxs-lookup"><span data-stu-id="7cdc5-174">The void return type is used primarily to define event handlers, where a void return type is required.</span></span> <span data-ttu-id="7cdc5-175">Une méthode async qui retourne void ne peut pas être attendue, et l'appelant d'une méthode retournant void ne peut intercepter aucune exception levée par la méthode.</span><span class="sxs-lookup"><span data-stu-id="7cdc5-175">An async method that returns void can't be awaited, and the caller of a void-returning method can't catch exceptions that the method throws.</span></span>

<span data-ttu-id="7cdc5-176">Dans l'exemple suivant, `DelayAsync` est une méthode async dont le type de retour est <xref:System.Threading.Tasks.Task%601>.</span><span class="sxs-lookup"><span data-stu-id="7cdc5-176">In the following example, `DelayAsync` is an async method that has a return type of <xref:System.Threading.Tasks.Task%601>.</span></span> <span data-ttu-id="7cdc5-177">`DelayAsync` a une instruction `return` qui retourne un entier.</span><span class="sxs-lookup"><span data-stu-id="7cdc5-177">`DelayAsync` has a `return` statement that returns an integer.</span></span> <span data-ttu-id="7cdc5-178">Ainsi, la déclaration de méthode de `DelayAsync` doit avoir un type de retour de `Task<int>`.</span><span class="sxs-lookup"><span data-stu-id="7cdc5-178">Therefore the method declaration of `DelayAsync` must have a return type of `Task<int>`.</span></span> <span data-ttu-id="7cdc5-179">Étant donné que le type de retour est `Task<int>`, l'évaluation de l'expression `await` dans `DoSomethingAsync` produit un entier, comme le montre l'instruction suivante : `int result = await delayTask`.</span><span class="sxs-lookup"><span data-stu-id="7cdc5-179">Because the return type is `Task<int>`, the evaluation of the `await` expression in `DoSomethingAsync` produces an integer as the following statement demonstrates: `int result = await delayTask`.</span></span>

<span data-ttu-id="7cdc5-180">La méthode `startButton_Click` est un exemple de méthode async dont le type de retour est void.</span><span class="sxs-lookup"><span data-stu-id="7cdc5-180">The `startButton_Click` method is an example of an async method that has a return type of void.</span></span> <span data-ttu-id="7cdc5-181">Étant donné que `DoSomethingAsync` est une méthode async, la tâche pour l'appel à `DoSomethingAsync` doit être attendue, comme le montre l'instruction suivante : `await DoSomethingAsync();`.</span><span class="sxs-lookup"><span data-stu-id="7cdc5-181">Because `DoSomethingAsync` is an async method, the task for the call to `DoSomethingAsync` must be awaited, as the following statement shows: `await DoSomethingAsync();`.</span></span> <span data-ttu-id="7cdc5-182">La méthode `startButton_Click` doit être définie avec le modificateur `async` car la méthode a une expression `await` .</span><span class="sxs-lookup"><span data-stu-id="7cdc5-182">The `startButton_Click` method must be defined with the `async` modifier because the method has an `await` expression.</span></span>

[!code-csharp[csAsyncMethod#2](~/samples/snippets/csharp/VS_Snippets_VBCSharp/csasyncmethod/cs/mainwindow.xaml.cs#2)]

<span data-ttu-id="7cdc5-183">Une méthode async ne peut pas déclarer de paramètres [ref](../../language-reference/keywords/ref.md) ou [out](../../language-reference/keywords/out-parameter-modifier.md) , mais elle peut appeler des méthodes qui comportent ces paramètres.</span><span class="sxs-lookup"><span data-stu-id="7cdc5-183">An async method can't declare any [ref](../../language-reference/keywords/ref.md) or [out](../../language-reference/keywords/out-parameter-modifier.md) parameters, but it can call methods that have such parameters.</span></span>

<span data-ttu-id="7cdc5-184">Pour plus d’informations sur les méthodes async, consultez [Programmation asynchrone avec async et await](../concepts/async/index.md), [Flux de contrôle dans les programmes Async](../concepts/async/control-flow-in-async-programs.md) et [Types de retour Async](../concepts/async/async-return-types.md).</span><span class="sxs-lookup"><span data-stu-id="7cdc5-184">For more information about async methods, see [Asynchronous Programming with async and await](../concepts/async/index.md), [Control Flow in Async Programs](../concepts/async/control-flow-in-async-programs.md), and [Async Return Types](../concepts/async/async-return-types.md).</span></span>

## <a name="expression-body-definitions"></a><span data-ttu-id="7cdc5-185">Définitions de corps d’expression</span><span class="sxs-lookup"><span data-stu-id="7cdc5-185">Expression body definitions</span></span>

<span data-ttu-id="7cdc5-186">Il est courant d'avoir des définitions de méthode qui retournent tout simplement le résultat d'une expression immédiatement, ou qui ont une seule instruction en tant que corps de la méthode.</span><span class="sxs-lookup"><span data-stu-id="7cdc5-186">It is common to have method definitions that simply return immediately with the result of an expression, or that have a single statement as the body of the method.</span></span> <span data-ttu-id="7cdc5-187">Il existe un raccourci de syntaxe pour définir de telles méthodes en utilisant `=>`:</span><span class="sxs-lookup"><span data-stu-id="7cdc5-187">There is a syntax shortcut for defining such methods using `=>`:</span></span>

```csharp
public Point Move(int dx, int dy) => new Point(x + dx, y + dy);
public void Print() => Console.WriteLine(First + " " + Last);
// Works with operators, properties, and indexers too.
public static Complex operator +(Complex a, Complex b) => a.Add(b);
public string Name => First + " " + Last;
public Customer this[long id] => store.LookupCustomer(id);
```

<span data-ttu-id="7cdc5-188">Si la méthode retourne `void` ou est une méthode async, alors le corps de la méthode doit être une expression d'instruction (même chose avec les expressions lambda).</span><span class="sxs-lookup"><span data-stu-id="7cdc5-188">If the method returns `void` or is an async method, then the body of the method must be a statement expression (same as with lambdas).</span></span> <span data-ttu-id="7cdc5-189">En ce qui concerne les propriétés et indexeurs, ils doivent être en lecture seule et vous n'utilisez pas le mot clé d'accesseur `get`.</span><span class="sxs-lookup"><span data-stu-id="7cdc5-189">For properties and indexers, they must be read only, and you don't use the `get` accessor keyword.</span></span>

## <a name="iterators"></a><span data-ttu-id="7cdc5-190">Iterators</span><span class="sxs-lookup"><span data-stu-id="7cdc5-190">Iterators</span></span>

<span data-ttu-id="7cdc5-191">Un itérateur exécute une itération personnalisée sur une collection, comme une liste ou un tableau.</span><span class="sxs-lookup"><span data-stu-id="7cdc5-191">An iterator performs a custom iteration over a collection, such as a list or an array.</span></span> <span data-ttu-id="7cdc5-192">Un itérateur utilise l'instruction [yield return](../../language-reference/keywords/yield.md) pour retourner chaque élément un par un.</span><span class="sxs-lookup"><span data-stu-id="7cdc5-192">An iterator uses the [yield return](../../language-reference/keywords/yield.md) statement to return each element one at a time.</span></span> <span data-ttu-id="7cdc5-193">Quand une instruction [yield return](../../language-reference/keywords/yield.md) est atteinte, l'emplacement actuel dans le code est mémorisé.</span><span class="sxs-lookup"><span data-stu-id="7cdc5-193">When a [yield return](../../language-reference/keywords/yield.md) statement is reached, the current location in code is remembered.</span></span> <span data-ttu-id="7cdc5-194">L'exécution redémarre à partir de cet emplacement au prochain appel de l'itérateur.</span><span class="sxs-lookup"><span data-stu-id="7cdc5-194">Execution is restarted from that location when the iterator is called the next time.</span></span>

<span data-ttu-id="7cdc5-195">Vous appelez un itérateur depuis le code client en utilisant une instruction [foreach](../../language-reference/keywords/foreach-in.md) .</span><span class="sxs-lookup"><span data-stu-id="7cdc5-195">You call an iterator from client code by using a [foreach](../../language-reference/keywords/foreach-in.md) statement.</span></span>

<span data-ttu-id="7cdc5-196">Le type de retour d'un itérateur peut être <xref:System.Collections.IEnumerable>, <xref:System.Collections.Generic.IEnumerable%601>, <xref:System.Collections.IEnumerator>ou <xref:System.Collections.Generic.IEnumerator%601>.</span><span class="sxs-lookup"><span data-stu-id="7cdc5-196">The return type of an iterator can be <xref:System.Collections.IEnumerable>, <xref:System.Collections.Generic.IEnumerable%601>, <xref:System.Collections.IEnumerator>, or <xref:System.Collections.Generic.IEnumerator%601>.</span></span>

<span data-ttu-id="7cdc5-197">Pour plus d'informations, consultez [Itérateurs](../concepts/iterators.md).</span><span class="sxs-lookup"><span data-stu-id="7cdc5-197">For more information, see [Iterators](../concepts/iterators.md).</span></span>

## <a name="c-language-specification"></a><span data-ttu-id="7cdc5-198">spécification du langage C#</span><span class="sxs-lookup"><span data-stu-id="7cdc5-198">C# language specification</span></span>

[!INCLUDE[CSharplangspec](~/includes/csharplangspec-md.md)]

## <a name="see-also"></a><span data-ttu-id="7cdc5-199">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="7cdc5-199">See also</span></span>

- [<span data-ttu-id="7cdc5-200">Guide de programmation C#</span><span class="sxs-lookup"><span data-stu-id="7cdc5-200">C# Programming Guide</span></span>](../index.md)
- [<span data-ttu-id="7cdc5-201">Classes et structs</span><span class="sxs-lookup"><span data-stu-id="7cdc5-201">Classes and Structs</span></span>](index.md)
- [<span data-ttu-id="7cdc5-202">Modificateurs d’accès</span><span class="sxs-lookup"><span data-stu-id="7cdc5-202">Access Modifiers</span></span>](access-modifiers.md)
- [<span data-ttu-id="7cdc5-203">Classes statiques et membres de classe statique</span><span class="sxs-lookup"><span data-stu-id="7cdc5-203">Static Classes and Static Class Members</span></span>](static-classes-and-static-class-members.md)
- [<span data-ttu-id="7cdc5-204">Héritage</span><span class="sxs-lookup"><span data-stu-id="7cdc5-204">Inheritance</span></span>](inheritance.md)
- [<span data-ttu-id="7cdc5-205">Classes abstract et sealed et membres de classe</span><span class="sxs-lookup"><span data-stu-id="7cdc5-205">Abstract and Sealed Classes and Class Members</span></span>](abstract-and-sealed-classes-and-class-members.md)
- [<span data-ttu-id="7cdc5-206">params</span><span class="sxs-lookup"><span data-stu-id="7cdc5-206">params</span></span>](../../language-reference/keywords/params.md)
- [<span data-ttu-id="7cdc5-207">return</span><span class="sxs-lookup"><span data-stu-id="7cdc5-207">return</span></span>](../../language-reference/keywords/return.md)
- [<span data-ttu-id="7cdc5-208">out</span><span class="sxs-lookup"><span data-stu-id="7cdc5-208">out</span></span>](../../language-reference/keywords/out.md)
- [<span data-ttu-id="7cdc5-209">ref</span><span class="sxs-lookup"><span data-stu-id="7cdc5-209">ref</span></span>](../../language-reference/keywords/ref.md)
- [<span data-ttu-id="7cdc5-210">Passage de paramètres</span><span class="sxs-lookup"><span data-stu-id="7cdc5-210">Passing Parameters</span></span>](passing-parameters.md)
