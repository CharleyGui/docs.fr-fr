---
title: Comment connaître la différence entre le passage d’un struct et le passage d’une référence de classe à une méthode (Guide de programmation C#)
description: Le passage d’un struct à une méthode diffère du passage d’une instance de classe à une méthode en C#. Cet exemple montre l’instance de struct et de classe passée par valeur.
ms.date: 07/20/2015
helpviewer_keywords:
- structs [C#], passing as method parameter
- passing parameters [C#], structs vs. classes
- methods [C#], passing classes vs. structs
ms.topic: how-to
ms.custom: contperf-fy21q2
ms.assetid: 9c1313a6-32a8-4ea7-a59f-450f66af628b
ms.openlocfilehash: 6f6f02125ba09b8a49e097cd3dfedf3d8ef7e505
ms.sourcegitcommit: d0990c1c1ab2f81908360f47eafa8db9aa165137
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 12/15/2020
ms.locfileid: "97512753"
---
# <a name="how-to-know-the-difference-between-passing-a-struct-and-passing-a-class-reference-to-a-method-c-programming-guide"></a><span data-ttu-id="1beb6-104">Comment connaître la différence entre le passage d’un struct et le passage d’une référence de classe à une méthode (Guide de programmation C#)</span><span class="sxs-lookup"><span data-stu-id="1beb6-104">How to know the difference between passing a struct and passing a class reference to a method (C# Programming Guide)</span></span>

<span data-ttu-id="1beb6-105">L’exemple suivant montre comment le passage d’un [struct](../../language-reference/builtin-types/struct.md) à une méthode diffère du passage d’une instance de [classe](../../language-reference/keywords/class.md) à une méthode.</span><span class="sxs-lookup"><span data-stu-id="1beb6-105">The following example demonstrates how passing a [struct](../../language-reference/builtin-types/struct.md) to a method differs from passing a [class](../../language-reference/keywords/class.md) instance to a method.</span></span> <span data-ttu-id="1beb6-106">Dans l’exemple, les deux arguments (struct et instance de classe) sont passés par valeur, tandis que les deux méthodes changent la valeur d’un champ de l’argument.</span><span class="sxs-lookup"><span data-stu-id="1beb6-106">In the example, both of the arguments (struct and class instance) are passed by value, and both methods change the value of one field of the argument.</span></span> <span data-ttu-id="1beb6-107">Toutefois, les résultats des deux méthodes ne sont pas identiques, car ce qui est passé quand vous passez un struct diffère de ce qui est passé quand vous passez une instance d’une classe.</span><span class="sxs-lookup"><span data-stu-id="1beb6-107">However, the results of the two methods are not the same because what is passed when you pass a struct differs from what is passed when you pass an instance of a class.</span></span>  
  
 <span data-ttu-id="1beb6-108">Étant donné qu’un struct est un [type valeur](../../language-reference/builtin-types/value-types.md), quand vous [passez un struct par valeur](./passing-value-type-parameters.md) à une méthode, la méthode reçoit et traite une copie de l’argument struct.</span><span class="sxs-lookup"><span data-stu-id="1beb6-108">Because a struct is a [value type](../../language-reference/builtin-types/value-types.md), when you [pass a struct by value](./passing-value-type-parameters.md) to a method, the method receives and operates on a copy of the struct argument.</span></span> <span data-ttu-id="1beb6-109">La méthode n’a pas accès au struct d’origine dans la méthode d’appel, et ne peut donc pas le modifier de quelque manière que ce soit.</span><span class="sxs-lookup"><span data-stu-id="1beb6-109">The method has no access to the original struct in the calling method and therefore can't change it in any way.</span></span> <span data-ttu-id="1beb6-110">La méthode peut modifier uniquement la copie.</span><span class="sxs-lookup"><span data-stu-id="1beb6-110">The method can change only the copy.</span></span>  
  
 <span data-ttu-id="1beb6-111">Une instance de classe est un [type référence](../../language-reference/keywords/reference-types.md), pas un type valeur.</span><span class="sxs-lookup"><span data-stu-id="1beb6-111">A class instance is a [reference type](../../language-reference/keywords/reference-types.md), not a value type.</span></span> <span data-ttu-id="1beb6-112">Quand [un type référence est passé par valeur](./passing-reference-type-parameters.md) à une méthode, celle-ci reçoit une copie de la référence à l’instance de classe.</span><span class="sxs-lookup"><span data-stu-id="1beb6-112">When [a reference type is passed by value](./passing-reference-type-parameters.md) to a method, the method receives a copy of the reference to the class instance.</span></span> <span data-ttu-id="1beb6-113">Autrement dit, la méthode appelée reçoit une copie de l’adresse de l’instance, et la méthode appelante conserve l’adresse d’origine de l’instance.</span><span class="sxs-lookup"><span data-stu-id="1beb6-113">That is, the called method receives a copy of the address of the instance, and the calling method retains the original address of the instance.</span></span> <span data-ttu-id="1beb6-114">L’instance de classe dans la méthode d’appel a une adresse, le paramètre dans la méthode appelée a une copie de l’adresse, et les deux adresses font référence au même objet.</span><span class="sxs-lookup"><span data-stu-id="1beb6-114">The class instance in the calling method has an address, the parameter in the called method has a copy of the address, and both addresses refer to the same object.</span></span> <span data-ttu-id="1beb6-115">Étant donné que le paramètre contient uniquement une copie de l’adresse, la méthode appelée ne peut pas modifier l’adresse de l’instance de la classe dans la méthode.</span><span class="sxs-lookup"><span data-stu-id="1beb6-115">Because the parameter contains only a copy of the address, the called method cannot change the address of the class instance in the calling method.</span></span> <span data-ttu-id="1beb6-116">Toutefois, la méthode appelée peut utiliser la copie de l’adresse pour accéder aux membres de la classe qui ont à la fois l’adresse d’origine et la copie de la référence d’adresse.</span><span class="sxs-lookup"><span data-stu-id="1beb6-116">However, the called method can use the copy of the address to access the class members that both the original address and the copy of the address reference.</span></span> <span data-ttu-id="1beb6-117">Si la méthode appelée modifie un membre de classe, l’instance de classe d’origine dans la méthode d’appel change également.</span><span class="sxs-lookup"><span data-stu-id="1beb6-117">If the called method changes a class member, the original class instance in the calling method also changes.</span></span>  
  
 <span data-ttu-id="1beb6-118">La sortie de l’exemple suivant illustre la différence.</span><span class="sxs-lookup"><span data-stu-id="1beb6-118">The output of the following example illustrates the difference.</span></span> <span data-ttu-id="1beb6-119">La valeur du champ `willIChange` de l’instance de classe est changée par l’appel à la méthode `ClassTaker`, car la méthode utilise l’adresse mentionnée dans le paramètre pour rechercher le champ spécifié de l’instance de classe.</span><span class="sxs-lookup"><span data-stu-id="1beb6-119">The value of the `willIChange` field of the class instance is changed by the call to method `ClassTaker` because the method uses the address in the parameter to find the specified field of the class instance.</span></span> <span data-ttu-id="1beb6-120">Le champ `willIChange` du struct de la méthode d’appel n’est pas changé par l’appel à la méthode `StructTaker`, car la valeur de l’argument est une copie du struct lui-même, et non pas une copie de son adresse.</span><span class="sxs-lookup"><span data-stu-id="1beb6-120">The `willIChange` field of the struct in the calling method is not changed by the call to method `StructTaker` because the value of the argument is a copy of the struct itself, not a copy of its address.</span></span> <span data-ttu-id="1beb6-121">`StructTaker` change la copie, et cette dernière est perdue quand l’appel à `StructTaker` est terminé.</span><span class="sxs-lookup"><span data-stu-id="1beb6-121">`StructTaker` changes the copy, and the copy is lost when the call to `StructTaker` is completed.</span></span>  
  
## <a name="example"></a><span data-ttu-id="1beb6-122">Exemple</span><span class="sxs-lookup"><span data-stu-id="1beb6-122">Example</span></span>  

 [!code-csharp[csProgGuideObjects#32](~/samples/snippets/csharp/VS_Snippets_VBCSharp/csProgGuideObjects/CS/Objects.cs#32)]  
  
## <a name="see-also"></a><span data-ttu-id="1beb6-123">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="1beb6-123">See also</span></span>

- [<span data-ttu-id="1beb6-124">Guide de programmation C#</span><span class="sxs-lookup"><span data-stu-id="1beb6-124">C# Programming Guide</span></span>](../index.md)
- [<span data-ttu-id="1beb6-125">Classes</span><span class="sxs-lookup"><span data-stu-id="1beb6-125">Classes</span></span>](./classes.md)
- [<span data-ttu-id="1beb6-126">Types de structure</span><span class="sxs-lookup"><span data-stu-id="1beb6-126">Structure types</span></span>](../../language-reference/builtin-types/struct.md)
- [<span data-ttu-id="1beb6-127">Passage de paramètres</span><span class="sxs-lookup"><span data-stu-id="1beb6-127">Passing Parameters</span></span>](./passing-parameters.md)
