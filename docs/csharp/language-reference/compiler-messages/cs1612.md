---
title: Erreur du compilateur CS1612
ms.date: 07/20/2015
f1_keywords:
- CS1612
helpviewer_keywords:
- CS1612
ms.assetid: ef5db985-030a-4f15-b53f-e92c9297c6a3
ms.openlocfilehash: 5c50bdc1b49f79bf8c5ef0171f9bbab9d0e4362a
ms.sourcegitcommit: de17a7a0a37042f0d4406f5ae5393531caeb25ba
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/24/2020
ms.locfileid: "76742085"
---
# <a name="compiler-error-cs1612"></a><span data-ttu-id="3210f-102">Erreur du compilateur CS1612</span><span class="sxs-lookup"><span data-stu-id="3210f-102">Compiler Error CS1612</span></span>
<span data-ttu-id="3210f-103">Impossible de modifier la valeur de retour de 'expression' car il ne s’agit pas d’une variable</span><span class="sxs-lookup"><span data-stu-id="3210f-103">Cannot modify the return value of 'expression' because it is not a variable</span></span>  
  
 <span data-ttu-id="3210f-104">Vous avez tenté de modifier un type valeur qui est généré comme résultat d’une expression intermédiaire mais qui n’est pas stocké dans une variable.</span><span class="sxs-lookup"><span data-stu-id="3210f-104">An attempt was made to modify a value type that is produced as the result of an intermediate expression but is not stored in a variable.</span></span> <span data-ttu-id="3210f-105">Cette erreur peut se produire quand vous essayez de modifier directement un struct dans une collection générique, comme illustré dans l’exemple suivant :</span><span class="sxs-lookup"><span data-stu-id="3210f-105">This error can occur when you attempt to directly modify a struct in a generic collection, as shown in the following example:</span></span>  
  
```csharp  
List<myStruct> list = {…};  
list[0].Name = "MyStruct42"; //CS1612  
```  
  
 <span data-ttu-id="3210f-106">Pour modifier le struct, assignez-le tout d’abord à une variable locale, modifiez la variable, puis réassignez la variable à l’élément dans la collection.</span><span class="sxs-lookup"><span data-stu-id="3210f-106">To modify the struct, first assign it to a local variable, modify the variable, then assign the variable back to the item in the collection.</span></span>  
  
```csharp  
List<myStruct> list = {…};  
MyStruct ms = list[0];  
ms.Name = "MyStruct42";  
list[0] = ms;  
```  
  
 <span data-ttu-id="3210f-107">Cette erreur se produit car les types valeur sont copiés lors de l’assignation.</span><span class="sxs-lookup"><span data-stu-id="3210f-107">This error occurs because value types are copied on assignment.</span></span> <span data-ttu-id="3210f-108">Quand vous récupérez un type valeur à partir d’une propriété ou d’un indexeur, vous obtenez une copie de l’objet, et non une référence à l’objet proprement dit.</span><span class="sxs-lookup"><span data-stu-id="3210f-108">When you retrieve a value type from a property or indexer, you are getting a copy of the object, not a reference to the object itself.</span></span> <span data-ttu-id="3210f-109">La copie retournée n’est pas stockée par la propriété ou l’indexeur, car il s’agit en fait de méthodes, et non d’emplacements de stockage (variables).</span><span class="sxs-lookup"><span data-stu-id="3210f-109">The copy that is returned is not stored by the property or indexer because they are actually methods, not storage locations (variables).</span></span> <span data-ttu-id="3210f-110">Vous devez stocker la copie dans une variable que vous déclarez avant de pouvoir la modifier.</span><span class="sxs-lookup"><span data-stu-id="3210f-110">You must store the copy into a variable that you declare before you can modify it.</span></span>  
  
 <span data-ttu-id="3210f-111">L’erreur ne se produit pas avec les types référence, car une propriété ou un indexeur retourne dans ce cas une référence à un objet existant, qui est un emplacement de stockage.</span><span class="sxs-lookup"><span data-stu-id="3210f-111">The error does not occur with reference types because a property or indexer in that case returns a reference to an existing object, which is a storage location.</span></span>  
  
 <span data-ttu-id="3210f-112">Si vous définissez la classe ou le struct, vous pouvez éliminer cette erreur en modifiant votre déclaration de propriété pour fournir l’accès aux membres d’un struct.</span><span class="sxs-lookup"><span data-stu-id="3210f-112">If you are defining the class or struct, you can resolve this error by modifying your property declaration to provide access to the members of a struct.</span></span> <span data-ttu-id="3210f-113">Si vous écrivez du code client, vous pouvez éliminer l’erreur en créant votre propre instance du struct, en modifiant ses champs, puis en réassignant le struct entier à la propriété.</span><span class="sxs-lookup"><span data-stu-id="3210f-113">If you are writing client code, you can resolve the error by creating your own instance of the struct, modifying its fields, and then assigning the entire struct back to the property.</span></span> <span data-ttu-id="3210f-114">Une troisième solution consiste à convertir votre struct en classe.</span><span class="sxs-lookup"><span data-stu-id="3210f-114">As a third alternative, you can change your struct to a class.</span></span>  
  
## <a name="example"></a><span data-ttu-id="3210f-115">Exemple</span><span class="sxs-lookup"><span data-stu-id="3210f-115">Example</span></span>  
 <span data-ttu-id="3210f-116">L’erreur CS1612 se produit également quand vous essayez d’accéder au membre d’un struct par l’intermédiaire d’une propriété d’une classe englobante qui retourne le struct entier, comme illustré dans l’exemple suivant :</span><span class="sxs-lookup"><span data-stu-id="3210f-116">CS1612 also occurs when you attempt to access the member of a struct through a property on an enclosing class that is returning the entire struct, as shown in the following example:</span></span>  
  
```csharp  
// CS1612.cs  
using System;  
  
public struct MyStruct  
{  
    public int Width;  
}  
  
public class ListView  
{  
    MyStruct ms;  
    public MyStruct Size  
    {  
        get { return ms; }  
        set { ms = value; }  
    }  
}  
  
public class MyClass  
{  
    public MyClass()  
    {  
        ListView lvi;  
        lvi = new ListView();  
        lvi.Size.Width = 5; // CS1612  
  
        // You can use the following lines instead.  
        // MyStruct ms;  
        // ms.Width = 5;  
        // lvi.Size = ms;
    }  
  
    public static void Main()   
    {  
        MyClass mc = new MyClass();  
        // Keep the console open in debug mode.  
        Console.WriteLine("Press any key to exit.");  
        Console.ReadKey();     
    }  
}  
```  
  
## <a name="see-also"></a><span data-ttu-id="3210f-117">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="3210f-117">See also</span></span>

- [<span data-ttu-id="3210f-118">Structures</span><span class="sxs-lookup"><span data-stu-id="3210f-118">Structs</span></span>](../../programming-guide/classes-and-structs/structs.md)
- [<span data-ttu-id="3210f-119">Types valeur</span><span class="sxs-lookup"><span data-stu-id="3210f-119">Value Types</span></span>](../builtin-types/value-types.md)
- [<span data-ttu-id="3210f-120">Types référence</span><span class="sxs-lookup"><span data-stu-id="3210f-120">Reference Types</span></span>](../keywords/reference-types.md)
