---
title: Concevoir avec des types référence Nullable
description: Ce tutoriel avancé présente les types référence Nullable. Il explique comment exprimer une intention de conception lorsque les valeurs de référence peuvent être Null et comment, dans le cas contraire, indiquer au compilateur qu’elles ne peuvent pas être Null.
ms.date: 02/19/2019
ms.custom: mvc
ms.openlocfilehash: 357ebd13ca4c610f1c65009621ee628a90c70b15
ms.sourcegitcommit: 6f28b709592503d27077b16fff2e2eacca569992
ms.translationtype: HT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/28/2019
ms.locfileid: "70105773"
---
# <a name="tutorial-migrate-existing-code-with-nullable-reference-types"></a><span data-ttu-id="2b442-104">Tutoriel : Migrer du code existant avec des types de référence nullable</span><span class="sxs-lookup"><span data-stu-id="2b442-104">Tutorial: Migrate existing code with nullable reference types</span></span>

<span data-ttu-id="2b442-105">C# 8 introduit les **types référence Nullable**, qui viennent compléter les types référence de la même façon que les types valeur Nullable complètent les types valeur.</span><span class="sxs-lookup"><span data-stu-id="2b442-105">C# 8 introduces **nullable reference types**, which complement reference types the same way nullable value types complement value types.</span></span> <span data-ttu-id="2b442-106">Pour déclarer une variable comme étant un **type référence Nullable**, on ajoute `?` au type.</span><span class="sxs-lookup"><span data-stu-id="2b442-106">You declare a variable to be a **nullable reference type** by appending a `?` to the type.</span></span> <span data-ttu-id="2b442-107">Par exemple, `string?` représente une `string` Nullable.</span><span class="sxs-lookup"><span data-stu-id="2b442-107">For example, `string?` represents a nullable `string`.</span></span> <span data-ttu-id="2b442-108">Vous pouvez utiliser ces nouveaux types pour exprimer plus clairement votre intention de conception : certaines variables *doivent toujours avoir une valeur*, d’autres *peuvent ne pas en avoir*.</span><span class="sxs-lookup"><span data-stu-id="2b442-108">You can use these new types to more clearly express your design intent: some variables *must always have a value*, others *may be missing a value*.</span></span> <span data-ttu-id="2b442-109">Toutes les variables existantes d’un type de référence sont interprétées comme un type de référence non nullable.</span><span class="sxs-lookup"><span data-stu-id="2b442-109">Any existing variables of a reference type would be interpreted as a non-nullable reference type.</span></span> 

<span data-ttu-id="2b442-110">Dans ce tutoriel, vous allez apprendre à :</span><span class="sxs-lookup"><span data-stu-id="2b442-110">In this tutorial, you'll learn how to:</span></span>

> [!div class="checklist"]
> - <span data-ttu-id="2b442-111">Activer les vérifications de référence null lorsque vous travaillez avec du code.</span><span class="sxs-lookup"><span data-stu-id="2b442-111">Enable null reference checks as you work with code.</span></span>
> - <span data-ttu-id="2b442-112">Diagnostiquer et corriger les différents avertissements liés aux valeurs null.</span><span class="sxs-lookup"><span data-stu-id="2b442-112">Diagnose and correct different warnings related to null values.</span></span>
> - <span data-ttu-id="2b442-113">Gérer l’interface entre les contextes compatibles avec nullable et non compatibles avec nullable.</span><span class="sxs-lookup"><span data-stu-id="2b442-113">Manage the interface between nullable enabled and nullable disabled contexts.</span></span>
> - <span data-ttu-id="2b442-114">Contrôler les contextes d’annotation nullable.</span><span class="sxs-lookup"><span data-stu-id="2b442-114">Control nullable annotation contexts.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="2b442-115">Prérequis</span><span class="sxs-lookup"><span data-stu-id="2b442-115">Prerequisites</span></span>

<span data-ttu-id="2b442-116">Vous devrez configurer votre ordinateur de façon à exécuter .NET Core, avec le compilateur C# 8.0 bêta.</span><span class="sxs-lookup"><span data-stu-id="2b442-116">You'll need to set up your machine to run .NET Core, including the C# 8.0 beta compiler.</span></span> <span data-ttu-id="2b442-117">Le compilateur bêta C# 8 est disponible avec [Visual Studio 2019](https://visualstudio.microsoft.com/downloads/?utm_medium=microsoft&utm_source=docs.microsoft.com&utm_campaign=inline+link&utm_content=download+vs2019) ou la dernière version de [.NET Core 3.0 Preview](https://dotnet.microsoft.com/download/dotnet-core/3.0).</span><span class="sxs-lookup"><span data-stu-id="2b442-117">The C# 8 beta compiler is available with [Visual Studio 2019](https://visualstudio.microsoft.com/downloads/?utm_medium=microsoft&utm_source=docs.microsoft.com&utm_campaign=inline+link&utm_content=download+vs2019), or the latest [.NET Core 3.0 preview](https://dotnet.microsoft.com/download/dotnet-core/3.0).</span></span>

<span data-ttu-id="2b442-118">Ce tutoriel suppose de connaître C# et .NET, y compris Visual Studio ou l’interface CLI .NET Core.</span><span class="sxs-lookup"><span data-stu-id="2b442-118">This tutorial assumes you're familiar with C# and .NET, including either Visual Studio or the .NET Core CLI.</span></span>

## <a name="explore-the-sample-application"></a><span data-ttu-id="2b442-119">Explorer l’exemple d’application</span><span class="sxs-lookup"><span data-stu-id="2b442-119">Explore the sample application</span></span>

<span data-ttu-id="2b442-120">L’exemple d’application que vous allez migrer est une application web de lecteur de flux RSS.</span><span class="sxs-lookup"><span data-stu-id="2b442-120">The sample application that you'll migrate is an RSS feed reader web app.</span></span> <span data-ttu-id="2b442-121">Il lit à partir d’un flux RSS unique et affiche des résumés des articles les plus récents.</span><span class="sxs-lookup"><span data-stu-id="2b442-121">It reads from a single RSS feed and displays summaries for the most recent articles.</span></span> <span data-ttu-id="2b442-122">Vous pouvez cliquer sur l’un des articles pour visiter le site.</span><span class="sxs-lookup"><span data-stu-id="2b442-122">You can click on any of the articles to visit the site.</span></span> <span data-ttu-id="2b442-123">L’application est relativement nouvelle, mais a été écrite avant que les types de référence nullable ne soient disponibles.</span><span class="sxs-lookup"><span data-stu-id="2b442-123">The application is relatively new but was written before nullable reference types were available.</span></span> <span data-ttu-id="2b442-124">Les décisions de conception de l’application constituent des principes solides, mais ne tirent pas parti de cette fonctionnalité de langage importante.</span><span class="sxs-lookup"><span data-stu-id="2b442-124">The design decisions for the application represented sound principles, but don't take advantage of this important language feature.</span></span>

<span data-ttu-id="2b442-125">L’exemple d’application inclut une bibliothèque de tests unitaires qui valide les fonctionnalités principales de l’application.</span><span class="sxs-lookup"><span data-stu-id="2b442-125">The sample application includes a unit test library that validates the major functionality of the app.</span></span> <span data-ttu-id="2b442-126">Ce projet facilite la mise à niveau en toute sécurité, si vous modifiez l’implémentation basée sur les avertissements générés.</span><span class="sxs-lookup"><span data-stu-id="2b442-126">That project will make it easier to upgrade safely, if you change any of the implementation based on the warnings generated.</span></span> <span data-ttu-id="2b442-127">Vous pouvez télécharger l’exemple de démarrage à partir du référentiel GitHub [dotnet/samples](https://github.com/dotnet/samples/tree/master/csharp/tutorials/nullable-reference-migration/start).</span><span class="sxs-lookup"><span data-stu-id="2b442-127">You can download the starter code from the [dotnet/samples](https://github.com/dotnet/samples/tree/master/csharp/tutorials/nullable-reference-migration/start) GitHub repository.</span></span>

<span data-ttu-id="2b442-128">Votre objectif de migration d’un projet doit être de tirer parti des nouvelles fonctionnalités de langage afin d’exprimer clairement votre intention sur la possibilité de valeur null des variables et faire cela de manière à ce que le compilateur ne génère d’avertissements lorsque le contexte d’annotation nullable et le contexte d’avertissement nullable sont définis sur `enabled`.</span><span class="sxs-lookup"><span data-stu-id="2b442-128">Your goal migrating a project should be to leverage the new language features so that you clearly express your intent on the nullability of variables, and do so in such a way that the compiler doesn't generate warnings when you have the nullable annotation context and nullable warning context set to `enabled`.</span></span>

## <a name="upgrade-the-projects-to-c-8"></a><span data-ttu-id="2b442-129">Mettre à niveau les projets vers C# 8</span><span class="sxs-lookup"><span data-stu-id="2b442-129">Upgrade the projects to C# 8</span></span>

<span data-ttu-id="2b442-130">La première étape consiste à déterminer l’étendue de la tâche de migration.</span><span class="sxs-lookup"><span data-stu-id="2b442-130">A good first step is to determine the scope of the migration task.</span></span> <span data-ttu-id="2b442-131">Commencez par la mise à niveau du projet vers C# 8.0 (ou version ultérieure).</span><span class="sxs-lookup"><span data-stu-id="2b442-131">Start by upgrading the project to C# 8.0 (or newer).</span></span> <span data-ttu-id="2b442-132">Ajoutez l’élément `LangVersion` aux deux fichiers csproj pour le projet web et le projet de test unitaire :</span><span class="sxs-lookup"><span data-stu-id="2b442-132">Add the `LangVersion` element to both csproj files for the web project and the unit test project:</span></span>

```xml
<LangVersion>8.0</LangVersion>
```

<span data-ttu-id="2b442-133">La mise à niveau de la version de langage sélectionne C# 8.0, mais n’active pas le contexte d’annotation nullable ou le contexte d’avertissement nullable.</span><span class="sxs-lookup"><span data-stu-id="2b442-133">Upgrading the language version selects C# 8.0, but does not enable the nullable annotation context or the nullable warning context.</span></span> <span data-ttu-id="2b442-134">Régénérez le projet pour vous assurer qu’il se génère sans avertissement.</span><span class="sxs-lookup"><span data-stu-id="2b442-134">Rebuild the project to ensure that it builds without warnings.</span></span>

<span data-ttu-id="2b442-135">Une bonne étape suivante consiste à activer le contexte d’annotation nullable et de voir combien d’avertissements sont générés.</span><span class="sxs-lookup"><span data-stu-id="2b442-135">A good next step is to turn on the nullable annotation context and see how many warnings are generated.</span></span> <span data-ttu-id="2b442-136">Ajoutez l’élément suivant aux fichiers csproj dans la solution, directement sous l’élément `LangVersion` :</span><span class="sxs-lookup"><span data-stu-id="2b442-136">Add the following element to both csproj files in the solution, directly under the `LangVersion` element:</span></span>

```xml
<Nullable>enable</Nullable>
```

> [!IMPORTANT]
> <span data-ttu-id="2b442-137">L’élément `Nullable` était nommé `NullableContextOptions`.</span><span class="sxs-lookup"><span data-stu-id="2b442-137">The `Nullable` element was previously named `NullableContextOptions`.</span></span> <span data-ttu-id="2b442-138">Les navires renommés avec Visual Studio 2019, 16.2-p1.</span><span class="sxs-lookup"><span data-stu-id="2b442-138">The rename ships with Visual Studio 2019, 16.2-p1.</span></span> <span data-ttu-id="2b442-139">Le kit SDK .NET Core 3.0.100-preview5-011568 n’a pas cette modification.</span><span class="sxs-lookup"><span data-stu-id="2b442-139">The .NET Core SDK 3.0.100-preview5-011568 does not have this change.</span></span> <span data-ttu-id="2b442-140">Si vous utilisez le CLI .NET Core, vous devrez utiliser `NullableContextOptions` jusqu'à ce que la préversion suivante soit disponible.</span><span class="sxs-lookup"><span data-stu-id="2b442-140">If you are using the .NET Core CLI, you'll need to use `NullableContextOptions` until the next preview is available.</span></span>

<span data-ttu-id="2b442-141">Effectuez une build de test et notez la liste d’avertissements.</span><span class="sxs-lookup"><span data-stu-id="2b442-141">Do a test build, and notice the warning list.</span></span> <span data-ttu-id="2b442-142">Dans cette petite application, le compilateur génère cinq avertissements, il est donc probable que vous laissiez le contexte d’annotation nullable activé et commenciez à résoudre les avertissements pour l’ensemble du projet.</span><span class="sxs-lookup"><span data-stu-id="2b442-142">In this small application, the compiler generates five warnings, so it's likely you'd leave the nullable annotation context enabled and start fixing warnings for the entire project.</span></span>

<span data-ttu-id="2b442-143">Cette stratégie fonctionne uniquement pour les projets plus petits.</span><span class="sxs-lookup"><span data-stu-id="2b442-143">That strategy works only for smaller projects.</span></span> <span data-ttu-id="2b442-144">Pour tous les projets plus volumineux, le nombre d’avertissements générés par l’activation du contexte d’annotation nullable pour l’intégralité de la base de code rend plus difficile de résoudre les avertissements de manière systématique.</span><span class="sxs-lookup"><span data-stu-id="2b442-144">For any larger projects, the number of warnings generated by enabling the nullable annotation context for the entire codebase makes it harder to fix the warnings systematically.</span></span> <span data-ttu-id="2b442-145">Pour les grands projets d’entreprise, vous aurez souvent besoin de migrer un projet à la fois.</span><span class="sxs-lookup"><span data-stu-id="2b442-145">For larger enterprise projects, you'll often want to migrate one project at a time.</span></span> <span data-ttu-id="2b442-146">Dans chaque projet, migrez une classe ou un fichier à la fois.</span><span class="sxs-lookup"><span data-stu-id="2b442-146">In each project, migrate one class or file at a time.</span></span>

## <a name="warnings-help-discover-original-design-intent"></a><span data-ttu-id="2b442-147">Les avertissements contribuent à découvrir l’intention de conception d’origine</span><span class="sxs-lookup"><span data-stu-id="2b442-147">Warnings help discover original design intent</span></span>

<span data-ttu-id="2b442-148">Il existe deux classes qui génèrent plusieurs avertissements.</span><span class="sxs-lookup"><span data-stu-id="2b442-148">There are two classes that generate multiple warnings.</span></span> <span data-ttu-id="2b442-149">Commencez avec la classe `NewsStoryViewModel`.</span><span class="sxs-lookup"><span data-stu-id="2b442-149">Start with the `NewsStoryViewModel` class.</span></span> <span data-ttu-id="2b442-150">Supprimez l’élément `Nullable` des deux fichiers csproj afin de pouvoir limiter l’étendue des avertissements aux sections de code sur lesquelles vous travaillez.</span><span class="sxs-lookup"><span data-stu-id="2b442-150">Remove the `Nullable` element from both csproj files so that you can limit the scope of warnings to the sections of code you're working with.</span></span> <span data-ttu-id="2b442-151">Ouvrez le fichier *NewsStoryViewModel.cs*, puis ajoutez les directives suivantes pour activer le contexte d’annotation nullable pour `NewsStoryViewModel` et restaurez-le en suivant cette définition de classe :</span><span class="sxs-lookup"><span data-stu-id="2b442-151">Open the *NewsStoryViewModel.cs* file and add the following directives to enable the nullable annotation context for the `NewsStoryViewModel` and restore it following that class definition:</span></span>

```csharp
#nullable enable
public class NewsStoryViewModel
{
    public DateTimeOffset Published { get; set; }
    public string Title { get; set; }
    public string Uri { get; set; }
}
#nullable restore
```

<span data-ttu-id="2b442-152">Ces deux directives vous aident à concentrer vos efforts de migration.</span><span class="sxs-lookup"><span data-stu-id="2b442-152">These two directives help you focus your migration efforts.</span></span> <span data-ttu-id="2b442-153">Les avertissements nullables sont générés pour la zone de code sur laquelle vous travaillez activement.</span><span class="sxs-lookup"><span data-stu-id="2b442-153">The nullable warnings are generated for the area of code you're actively working on.</span></span> <span data-ttu-id="2b442-154">Vous les laissez activés jusqu’à ce que vous soyez prêt à activer les avertissements pour l’ensemble du projet.</span><span class="sxs-lookup"><span data-stu-id="2b442-154">You'll leave them on until you're ready to turn on the warnings for the entire project.</span></span> <span data-ttu-id="2b442-155">Vous devriez utiliser `restore` plutôt que la valeur `disable` afin de ne pas désactiver accidentellement le contexte ultérieurement lorsque de l’activation des annotations nullables pour la totalité du projet.</span><span class="sxs-lookup"><span data-stu-id="2b442-155">You should use the `restore` rather than `disable` value so that you don't accidentally disable the context later when you've turned on nullable annotations for the entire project.</span></span> <span data-ttu-id="2b442-156">Une fois que vous avez activé le contexte d’annotation nullable pour la totalité du projet, vous pouvez supprimer tous les pragmas `#nullable` à partir de ce projet.</span><span class="sxs-lookup"><span data-stu-id="2b442-156">Once you've turned on the nullable annotation context for the entire project, you can remove all the `#nullable` pragmas from that project.</span></span>

<span data-ttu-id="2b442-157">La classe `NewsStoryViewModel` est un objet de transfert de données (DTO) et deux des propriétés sont des chaînes de lecture/écriture :</span><span class="sxs-lookup"><span data-stu-id="2b442-157">The `NewsStoryViewModel` class is a data transfer object (DTO) and two of the properties are read/write strings:</span></span>

[!code-csharp[InitialViewModel](~/samples/csharp/tutorials/nullable-reference-migration/start/SimpleFeedReader/ViewModels/NewsStoryViewModel.cs#StarterViewModel)]

<span data-ttu-id="2b442-158">Ces deux propriétés provoquent `CS8618`, « Propriété non-nullable initialisée ».</span><span class="sxs-lookup"><span data-stu-id="2b442-158">These two properties cause `CS8618`, "Non-nullable property is uninitialized".</span></span> <span data-ttu-id="2b442-159">Cela est suffisamment clair : les deux propriétés `string` ont la valeur par défaut `null` lorsqu’un `NewsStoryViewModel` est construit.</span><span class="sxs-lookup"><span data-stu-id="2b442-159">That's clear enough: both `string` properties have the default value of `null` when a `NewsStoryViewModel` is constructed.</span></span> <span data-ttu-id="2b442-160">Il est important de découvrir comment les objets `NewsStoryViewModel` sont construits.</span><span class="sxs-lookup"><span data-stu-id="2b442-160">What's important to discover is how `NewsStoryViewModel` objects are constructed.</span></span> <span data-ttu-id="2b442-161">En examinant cette classe, vous ne pouvez pas savoir si la valeur `null` fait partie de la conception, ou si ces objets sont définis sur des valeurs non null lors de leur création.</span><span class="sxs-lookup"><span data-stu-id="2b442-161">Looking at this class, you can't tell if the `null` value is part of the design, or if these objects are set to non-null values whenever one is created.</span></span> <span data-ttu-id="2b442-162">Les articles de presse sont créés dans la méthode `GetNews` de la classe `NewsService` :</span><span class="sxs-lookup"><span data-stu-id="2b442-162">The news stories are created in the `GetNews` method of the `NewsService` class:</span></span>

[!code-csharp[StarterCreateNewsItem](~/samples/csharp/tutorials/nullable-reference-migration/start/SimpleFeedReader/Services/NewsService.cs#CreateNewsItem)]

<span data-ttu-id="2b442-163">Il se passe beaucoup de choses dans le bloc de code précédent.</span><span class="sxs-lookup"><span data-stu-id="2b442-163">There's quite a bit going on in the preceding block of code.</span></span> <span data-ttu-id="2b442-164">Cette application utilise le package NuGet [AutoMapper](https://automapper.org/) pour construire un élément d’article de presse à partir d’un `ISyndicationItem`.</span><span class="sxs-lookup"><span data-stu-id="2b442-164">This application uses the [AutoMapper](https://automapper.org/) NuGet package to construct a news item from an `ISyndicationItem`.</span></span> <span data-ttu-id="2b442-165">Vous avez découvert que les éléments d’articles de presse sont construits et que les propriétés sont définies dans cette seule instruction.</span><span class="sxs-lookup"><span data-stu-id="2b442-165">You've discovered that the news story items are constructed and the properties are set in that one statement.</span></span> <span data-ttu-id="2b442-166">Cela signifie que la conception de `NewsStoryViewModel` indique que ces propriétés ne doivent jamais avoir la valeur `null`.</span><span class="sxs-lookup"><span data-stu-id="2b442-166">That means the design for the `NewsStoryViewModel` indicates that these properties should never have the `null` value.</span></span> <span data-ttu-id="2b442-167">Ces propriétés doivent être des **types de référence non nullable**.</span><span class="sxs-lookup"><span data-stu-id="2b442-167">These properties should be **nonnullable reference types**.</span></span> <span data-ttu-id="2b442-168">C’est ce qui correspond le mieux à l’intention de conception d’origine.</span><span class="sxs-lookup"><span data-stu-id="2b442-168">That best expresses the original design intent.</span></span> <span data-ttu-id="2b442-169">En fait, n’importe quel `NewsStoryViewModel` *est* correctement instancié avec des valeurs non null.</span><span class="sxs-lookup"><span data-stu-id="2b442-169">In fact, any `NewsStoryViewModel` *is* correctly instantiated with non-null values.</span></span> <span data-ttu-id="2b442-170">Ce qui fait du code d’initialisation suivant un correctif valide :</span><span class="sxs-lookup"><span data-stu-id="2b442-170">That makes the following initialization code a valid fix:</span></span>

```csharp
public class NewsStoryViewModel
{
    public DateTimeOffset Published { get; set; }
    public string Title { get; set; } = default!;
    public string Uri { get; set; } = default!;
}
```

<span data-ttu-id="2b442-171">L’attribution de `Title` et `Uri` à `default` qui est `null` pour le type `string` ne change pas le comportement d’exécution du programme.</span><span class="sxs-lookup"><span data-stu-id="2b442-171">The assignment of `Title` and `Uri` to `default` which is `null` for the `string` type doesn't change the runtime behavior of the program.</span></span> <span data-ttu-id="2b442-172">`NewsStoryViewModel` est toujours construit avec des valeurs null, mais maintenant le compilateur ne signale aucun avertissement.</span><span class="sxs-lookup"><span data-stu-id="2b442-172">The `NewsStoryViewModel` is still constructed with null values, but now the compiler reports no warnings.</span></span> <span data-ttu-id="2b442-173">**L’opérateur indulgent en null**, le caractère `!` qui suit l’expression `default` indique au compilateur que l’expression précédente n’est pas null.</span><span class="sxs-lookup"><span data-stu-id="2b442-173">The **null-forgiving operator**, the `!` character following the `default` expression tells the compiler that the preceding expression is not null.</span></span> <span data-ttu-id="2b442-174">Cette technique peut être utile lorsque d’autres modifications forcent des modifications plus importantes sur une base de code, mais dans cette application, il existe une solution relativement rapide et mieux adaptée : Faites de `NewsStoryViewModel` un type immuable où toutes les propriétés sont définies dans le constructeur.</span><span class="sxs-lookup"><span data-stu-id="2b442-174">This technique may be expedient when other changes force much larger changes to a code base, but in this application there is a relatively quick and better solution: Make the `NewsStoryViewModel` an immutable type where all the properties are set in the constructor.</span></span> <span data-ttu-id="2b442-175">Dans `NewsStoryViewModel`, effectuez les changements suivants :</span><span class="sxs-lookup"><span data-stu-id="2b442-175">Make the following changes to the `NewsStoryViewModel`:</span></span>

[!code-csharp[FinishedViewModel](~/samples/csharp/tutorials/nullable-reference-migration/finished/SimpleFeedReader/ViewModels/NewsStoryViewModel.cs#FinishedViewModel)]

<span data-ttu-id="2b442-176">Une fois cette opération effectuée, vous devez mettre à jour le code qui configure AutoMapper afin qu’il utilise le constructeur, plutôt que de définir des propriétés.</span><span class="sxs-lookup"><span data-stu-id="2b442-176">Once that's done, you need to update the code that configures the AutoMapper so that it uses the constructor rather than setting properties.</span></span> <span data-ttu-id="2b442-177">Ouvrez `NewsService.cs` et recherchez le code suivant en bas du fichier :</span><span class="sxs-lookup"><span data-stu-id="2b442-177">Open `NewsService.cs` and look for the following code at the bottom of the file:</span></span>

[!code-csharp[StarterAutoMapper](~/samples/csharp/tutorials/nullable-reference-migration/start/SimpleFeedReader/Services/NewsService.cs#ConfigureAutoMapper)]

<span data-ttu-id="2b442-178">Ce code mappe les propriétés de l’objet `ISyndicationItem` aux propriétés `NewsStoryViewModel`.</span><span class="sxs-lookup"><span data-stu-id="2b442-178">That code maps properties of the `ISyndicationItem` object to the `NewsStoryViewModel` properties.</span></span> <span data-ttu-id="2b442-179">Vous souhaitez qu’AutoMapper assure le mappage à l’aide d’un constructeur à la place.</span><span class="sxs-lookup"><span data-stu-id="2b442-179">You want the AutoMapper to provide the mapping using a constructor instead.</span></span> <span data-ttu-id="2b442-180">Remplacez le code ci-dessus par la configuration Automapper suivante :</span><span class="sxs-lookup"><span data-stu-id="2b442-180">Replace the above code with the following automapper configuration:</span></span>

[!code-csharp[FinishedViewModel](~/samples/csharp/tutorials/nullable-reference-migration/finished/SimpleFeedReader/Services/NewsService.cs#ConfigureAutoMapper)]

<span data-ttu-id="2b442-181">Notez qu’étant donné que cette classe est petite, et que vous l’avez examinée avec soin, vous devez activer la directive `#nullable enable` au-dessus de cette déclaration de classe.</span><span class="sxs-lookup"><span data-stu-id="2b442-181">Notice that because this class is small, and you've examined carefully, you should turn on the `#nullable enable` directive above this class declaration.</span></span> <span data-ttu-id="2b442-182">La modification apportée au constructeur peut avoir rompu quelque chose, il est donc judicieux d’exécuter tous les tests et de tester l’application avant de continuer.</span><span class="sxs-lookup"><span data-stu-id="2b442-182">The change to the constructor could have broken something, so it's worthwhile to run all the tests and test the application before moving on.</span></span>

<span data-ttu-id="2b442-183">Le premier ensemble de modifications vous a montré comment effectuer la détection lorsque la conception d’origine indiquait que les variables ne devaient pas être définies sur `null`.</span><span class="sxs-lookup"><span data-stu-id="2b442-183">The first set of changes showed you how to discover when the original design indicated that variables shouldn't be set to `null`.</span></span> <span data-ttu-id="2b442-184">Cette technique est appelée **correcte par construction**.</span><span class="sxs-lookup"><span data-stu-id="2b442-184">The technique is referred to as **correct by construction**.</span></span> <span data-ttu-id="2b442-185">Vous déclarez qu’un objet et ses propriétés ne peuvent pas être `null` quand il est construit.</span><span class="sxs-lookup"><span data-stu-id="2b442-185">You declare that an object and its properties cannot be `null` when it's constructed.</span></span> <span data-ttu-id="2b442-186">L’analyse du flux du compilateur fournit la garantie que ces propriétés ne sont pas définies sur `null` après la construction.</span><span class="sxs-lookup"><span data-stu-id="2b442-186">The compiler's flow analysis provides assurance that those properties aren't set to `null` after construction.</span></span> <span data-ttu-id="2b442-187">Notez que ce constructeur est appelé par du code externe, que ce code **oublie la valeur nullable**.</span><span class="sxs-lookup"><span data-stu-id="2b442-187">Note that this constructor is called by external code, and that code is **nullable oblivious**.</span></span> <span data-ttu-id="2b442-188">La nouvelle syntaxe ne fournit pas la vérification lors de l’exécution.</span><span class="sxs-lookup"><span data-stu-id="2b442-188">The new syntax doesn't provide runtime checking.</span></span> <span data-ttu-id="2b442-189">Le code externe peut contourner l’analyse du flux du compilateur.</span><span class="sxs-lookup"><span data-stu-id="2b442-189">External code might circumvent the compiler's flow analysis.</span></span> 

<span data-ttu-id="2b442-190">Parfois, la structure d’une classe fournit des différents indices sur l’intention.</span><span class="sxs-lookup"><span data-stu-id="2b442-190">Other times, the structure of a class provides different clues to the intent.</span></span> <span data-ttu-id="2b442-191">Ouvrez le fichier *Error.cshtml.cs* dans le dossier *Pages*.</span><span class="sxs-lookup"><span data-stu-id="2b442-191">Open the *Error.cshtml.cs* file in the *Pages* folder.</span></span> <span data-ttu-id="2b442-192">`ErrorViewModel` contient le code suivant :</span><span class="sxs-lookup"><span data-stu-id="2b442-192">The `ErrorViewModel` contains the following code:</span></span>

[!code-csharp[StarterErrorModel](~/samples/csharp/tutorials/nullable-reference-migration/start/SimpleFeedReader/Pages/Error.cshtml.cs#StartErrorModel)]

<span data-ttu-id="2b442-193">Ajouter la directive `#nullable enable` avant la déclaration de classe et une directive `#nullable restore` après.</span><span class="sxs-lookup"><span data-stu-id="2b442-193">Add the `#nullable enable` directive before the class declaration, and a `#nullable restore` directive after it.</span></span> <span data-ttu-id="2b442-194">Vous obtiendrez un avertissement indiquant que `RequestId` n’est pas initialisé.</span><span class="sxs-lookup"><span data-stu-id="2b442-194">You'll get one warning that `RequestId` is not initialized.</span></span> <span data-ttu-id="2b442-195">En examinant la classe, vous devez décider que la propriété `RequestId` doit avoir la valeur null dans certains cas.</span><span class="sxs-lookup"><span data-stu-id="2b442-195">By looking at the class, you should decide that the `RequestId` property should be null in some cases.</span></span> <span data-ttu-id="2b442-196">L’existence de la propriété `ShowRequestId` indique que des valeurs manquantes sont possibles.</span><span class="sxs-lookup"><span data-stu-id="2b442-196">The existence of the `ShowRequestId` property indicates that missing values are possible.</span></span> <span data-ttu-id="2b442-197">Étant donné que `null` est valide, ajoutez `?` sur le type `string` pour indiquer que la propriété `RequestId` est un *type de référence nullable*.</span><span class="sxs-lookup"><span data-stu-id="2b442-197">Because `null` is valid, add the `?` on the `string` type to indicate the `RequestId` property is a *nullable reference type*.</span></span> <span data-ttu-id="2b442-198">La classe finale se présente comme suit :</span><span class="sxs-lookup"><span data-stu-id="2b442-198">The final class looks like the following example:</span></span>

[!code-csharp[FinishedErrorModel](~/samples/csharp/tutorials/nullable-reference-migration/finished/SimpleFeedReader/Pages/Error.cshtml.cs#ErrorModel)]

<span data-ttu-id="2b442-199">Vérifiez les utilisations de la propriété, et vous voyez que dans la page associée, la présence de la valeur null est vérifiée dans la propriété avant de la restituer dans le balisage.</span><span class="sxs-lookup"><span data-stu-id="2b442-199">Check for the uses of the property, and you see that in the associated page, the property is checked for null before rendering it in markup.</span></span> <span data-ttu-id="2b442-200">C’est une utilisation sécurisée d’un type de référence nullable, donc vous en avez terminé avec cette classe.</span><span class="sxs-lookup"><span data-stu-id="2b442-200">That's a safe use of a nullable reference type, so you're done with this class.</span></span>

## <a name="fixing-nulls-causes-change"></a><span data-ttu-id="2b442-201">La correction des valeurs null entraîne une modification</span><span class="sxs-lookup"><span data-stu-id="2b442-201">Fixing nulls causes change</span></span>

<span data-ttu-id="2b442-202">Fréquemment, le correctif pour un ensemble d’avertissements crée de nouveaux avertissements dans le code connexe.</span><span class="sxs-lookup"><span data-stu-id="2b442-202">Frequently, the fix for one set of warnings creates new warnings in related code.</span></span> <span data-ttu-id="2b442-203">Nous allons voir les avertissements en action en corrigeant la classe `index.cshtml.cs`.</span><span class="sxs-lookup"><span data-stu-id="2b442-203">Let's see the warnings in action by fixing the `index.cshtml.cs` class.</span></span> <span data-ttu-id="2b442-204">Ouvrez le fichier `index.cshtml.cs` et examinez le code.</span><span class="sxs-lookup"><span data-stu-id="2b442-204">Open the `index.cshtml.cs` file and examine the code.</span></span> <span data-ttu-id="2b442-205">Ce fichier contient le code sous-jacent à la page d’index :</span><span class="sxs-lookup"><span data-stu-id="2b442-205">This file contains the code behind for the index page:</span></span>

[!code-csharp[StarterIndexModel](~/samples/csharp/tutorials/nullable-reference-migration/start/SimpleFeedReader/Pages/Index.cshtml.cs#IndexModelStart)]

<span data-ttu-id="2b442-206">Ajoutez la directive `#nullable enable` et vous verrez deux avertissements.</span><span class="sxs-lookup"><span data-stu-id="2b442-206">Add the `#nullable enable` directive and you'll see two warnings.</span></span> <span data-ttu-id="2b442-207">Ni la propriété `ErrorText` ni la propriété `NewsItems` ne sont initialisées.</span><span class="sxs-lookup"><span data-stu-id="2b442-207">Neither the `ErrorText` property nor the `NewsItems` property is initialized.</span></span> <span data-ttu-id="2b442-208">Un examen de cette classe pourrait vous faire croire que les deux propriétés doivent être des types de référence nullable : Les deux ont des méthodes setter privées.</span><span class="sxs-lookup"><span data-stu-id="2b442-208">An examination of this class would lead you to believe that both properties should be nullable reference types: Both have private setters.</span></span> <span data-ttu-id="2b442-209">Une seule exactement est attribuée dans la méthode `OnGet`.</span><span class="sxs-lookup"><span data-stu-id="2b442-209">Exactly one is assigned in the `OnGet` method.</span></span> <span data-ttu-id="2b442-210">Avant d’apporter des modifications, examinez les consommateurs de ces deux propriétés.</span><span class="sxs-lookup"><span data-stu-id="2b442-210">Before making changes, look at the consumers of both properties.</span></span> <span data-ttu-id="2b442-211">Dans la page elle-même, `ErrorText` est comparé à la valeur null avant de générer le balisage d’éventuelles erreurs.</span><span class="sxs-lookup"><span data-stu-id="2b442-211">In the page itself, the `ErrorText` is checked against null before generating markup for any errors.</span></span> <span data-ttu-id="2b442-212">La collection `NewsItems` est vérifiée par rapport à `null` et afin de garantir que la collection comporte des éléments.</span><span class="sxs-lookup"><span data-stu-id="2b442-212">The `NewsItems` collection is checked against `null`, and checked to ensure the collection has items.</span></span> <span data-ttu-id="2b442-213">Un correctif rapide serait d’attribuer le type de référence nullable aux deux propriétés.</span><span class="sxs-lookup"><span data-stu-id="2b442-213">A quick fix would be to make both properties nullable reference types.</span></span> <span data-ttu-id="2b442-214">Un meilleur correctif consisterait à attribuer un type de référence non nullable à la collection et d’ajouter des éléments à la collection existante lors de la récupération des articles de presse.</span><span class="sxs-lookup"><span data-stu-id="2b442-214">A better fix would be to make the collection a nonnullable reference type, and add items to the existing collection when retrieving news.</span></span> <span data-ttu-id="2b442-215">Le premier correctif consiste à ajouter `?` au type `string` pour `ErrorText` :</span><span class="sxs-lookup"><span data-stu-id="2b442-215">The first fix is to add the `?` to the `string` type for the `ErrorText`:</span></span>

[!code-csharp[UpdateErrorText](~/samples/csharp/tutorials/nullable-reference-migration/finished/SimpleFeedReader/Pages/Index.cshtml.cs#UpdateErrorText)]

<span data-ttu-id="2b442-216">Cette modification ne se propage pas à d’autre code, étant donné que tout accès à la propriété `ErrorText` a été déjà protégé par les contrôles de la valeur null.</span><span class="sxs-lookup"><span data-stu-id="2b442-216">That change won't ripple through other code, because any access to the `ErrorText` property was already guarded by null checks.</span></span> <span data-ttu-id="2b442-217">Ensuite, initialisez la liste `NewsItems` et supprimez la méthode setter de propriété, pour en faire une propriété en lecture seule :</span><span class="sxs-lookup"><span data-stu-id="2b442-217">Next, initialize the `NewsItems` list and remove the property setter, making it a readonly property:</span></span>

[!code-csharp[InitializeNewsItems](~/samples/csharp/tutorials/nullable-reference-migration/finished/SimpleFeedReader/Pages/Index.cshtml.cs#InitializeNewsItems)]

<span data-ttu-id="2b442-218">Cela a résolu l’avertissement, mais a introduit une erreur.</span><span class="sxs-lookup"><span data-stu-id="2b442-218">That fixed the warning but introduced an error.</span></span> <span data-ttu-id="2b442-219">La liste `NewsItems` est désormais **correcte par construction**, mais le code qui définit la liste dans `OnGet` doit changer pour correspondre à la nouvelle API.</span><span class="sxs-lookup"><span data-stu-id="2b442-219">The `NewsItems` list is now **correct by construction**, but the code that sets the list in `OnGet` must change to match the new API.</span></span> <span data-ttu-id="2b442-220">Au lieu d’une attribution, appelez `AddRange` pour ajouter les éléments d’articles de presse à la liste existante :</span><span class="sxs-lookup"><span data-stu-id="2b442-220">Instead of an assignment, call `AddRange` to add the news items to the existing list:</span></span>

[!code-csharp[AddRange](~/samples/csharp/tutorials/nullable-reference-migration/finished/SimpleFeedReader/Pages/Index.cshtml.cs#AddRange)]

<span data-ttu-id="2b442-221">Utiliser `AddRange` au lieu d’une attribution signifie que la méthode `GetNews` peut retourner `IEnumerable` au lieu de `List`.</span><span class="sxs-lookup"><span data-stu-id="2b442-221">Using `AddRange` instead of an assignment means that the `GetNews` method can return an `IEnumerable` instead of a `List`.</span></span> <span data-ttu-id="2b442-222">Cela permet d’économiser une attribution.</span><span class="sxs-lookup"><span data-stu-id="2b442-222">That saves one allocation.</span></span> <span data-ttu-id="2b442-223">Modifiez la signature de la méthode et supprimez l’appel `ToList`, comme indiqué dans l’exemple de code suivant :</span><span class="sxs-lookup"><span data-stu-id="2b442-223">Change the signature of the method, and remove the `ToList` call, as shown in the following code sample:</span></span>

[!code-csharp[GetNews](~/samples/csharp/tutorials/nullable-reference-migration/finished/SimpleFeedReader/Services/NewsService.cs#GetNewsFinished)]

<span data-ttu-id="2b442-224">La modification de la signature rompt aussi l’un des tests.</span><span class="sxs-lookup"><span data-stu-id="2b442-224">Changing the signature breaks one of tests as well.</span></span> <span data-ttu-id="2b442-225">Ouvrez le fichier `NewsServiceTests.cs` dans le dossier `Services` du projet `SimpleFeedReader.Tests`.</span><span class="sxs-lookup"><span data-stu-id="2b442-225">Open the `NewsServiceTests.cs` file in the `Services` folder of the `SimpleFeedReader.Tests` project.</span></span> <span data-ttu-id="2b442-226">Accédez au test `Returns_News_Stories_Given_Valid_Uri` et modifiez le type de la variable `result` sur `IEnumerable<NewsItem>`.</span><span class="sxs-lookup"><span data-stu-id="2b442-226">Navigate to the `Returns_News_Stories_Given_Valid_Uri` test and change the type of the `result` variable to `IEnumerable<NewsItem>`.</span></span> <span data-ttu-id="2b442-227">La modification du type signifie que la propriété `Count` n’est plus disponible, par conséquent, remplacez la propriété `Count` dans `Assert` avec un appel à `Any()` :</span><span class="sxs-lookup"><span data-stu-id="2b442-227">Changing the type means the `Count` property is no longer available, so replace the `Count` property in the `Assert` with a call to `Any()`:</span></span>

[!code-csharp[FixTests](~/samples/csharp/tutorials/nullable-reference-migration/finished/SimpleFeedReader.Tests/Services/NewsServiceTests.cs#FixTestSignature)]

<span data-ttu-id="2b442-228">Vous devrez ajouter une instruction `using System.Linq` au début du fichier également.</span><span class="sxs-lookup"><span data-stu-id="2b442-228">You'll need to add a `using System.Linq` statement to the beginning of the file as well.</span></span>

<span data-ttu-id="2b442-229">Cet ensemble de modifications met en évidence une attention particulière lors de la mise à jour de code qui inclut des instanciations génériques.</span><span class="sxs-lookup"><span data-stu-id="2b442-229">This set of changes highlights special consideration when updating code that includes generic instantiations.</span></span> <span data-ttu-id="2b442-230">La liste et les éléments dans la liste sont de type non nullable.</span><span class="sxs-lookup"><span data-stu-id="2b442-230">Both the list and the elements in the list of non-nullable types.</span></span> <span data-ttu-id="2b442-231">L’un ou les deux peuvent être de type nullable.</span><span class="sxs-lookup"><span data-stu-id="2b442-231">Either or both could be nullable types.</span></span> <span data-ttu-id="2b442-232">Toutes les déclarations suivantes sont autorisées :</span><span class="sxs-lookup"><span data-stu-id="2b442-232">All the following declarations are allowed:</span></span>

- <span data-ttu-id="2b442-233">`List<NewsStoryViewModel>` : liste non nullable de modèles d’affichage non nullable.</span><span class="sxs-lookup"><span data-stu-id="2b442-233">`List<NewsStoryViewModel>`: nonnullable list of nonullable view models.</span></span>
- <span data-ttu-id="2b442-234">`List<NewsStoryViewModel?>` : liste non nullable de modèles d’affichage nullable.</span><span class="sxs-lookup"><span data-stu-id="2b442-234">`List<NewsStoryViewModel?>`: nonnullable list of nullable view models.</span></span>
- <span data-ttu-id="2b442-235">`List<NewsStoryViewModel>?` : liste nullable de modèles d’affichage non nullable.</span><span class="sxs-lookup"><span data-stu-id="2b442-235">`List<NewsStoryViewModel>?`: nullable list of nonnullable view models.</span></span>
- <span data-ttu-id="2b442-236">`List<NewsStoryViewModel?>?` : liste nullable de modèles d’affichage nullable.</span><span class="sxs-lookup"><span data-stu-id="2b442-236">`List<NewsStoryViewModel?>?`: nullable list of nullable view models.</span></span>

## <a name="interfaces-with-external-code"></a><span data-ttu-id="2b442-237">Interfaces avec du code externe</span><span class="sxs-lookup"><span data-stu-id="2b442-237">Interfaces with external code</span></span>

<span data-ttu-id="2b442-238">Vous avez apporté des modifications à la classe `NewsService`, donc activez l’annotation `#nullable enable` pour cette classe.</span><span class="sxs-lookup"><span data-stu-id="2b442-238">You've made changes to the `NewsService` class, so turn on the `#nullable enable` annotation for that class.</span></span> <span data-ttu-id="2b442-239">Cela ne génère aucun nouvel avertissements.</span><span class="sxs-lookup"><span data-stu-id="2b442-239">This won't generate any new warnings.</span></span> <span data-ttu-id="2b442-240">Toutefois, l’examen attentif de la classe permet d’illustrer certaines des limitations de l’analyse du flux du compilateur.</span><span class="sxs-lookup"><span data-stu-id="2b442-240">However, careful examination of the class helps to illustrate some of the limitations of the compiler's flow analysis.</span></span> <span data-ttu-id="2b442-241">Examinez le constructeur :</span><span class="sxs-lookup"><span data-stu-id="2b442-241">Examine the constructor:</span></span>

[!code-csharp[ServiceConstructor](~/samples/csharp/tutorials/nullable-reference-migration/finished/SimpleFeedReader/Services/NewsService.cs#ServiceConstructor)]

<span data-ttu-id="2b442-242">Le paramètre `IMapper` est typé comme référence non nullable.</span><span class="sxs-lookup"><span data-stu-id="2b442-242">The `IMapper` parameter is typed as a nonnullable reference.</span></span> <span data-ttu-id="2b442-243">Il est appelé par le code d’infrastructure ASP.NET Core, donc le compilateur ne sait pas vraiment que `IMapper` ne sera jamais null.</span><span class="sxs-lookup"><span data-stu-id="2b442-243">It's called by ASP.NET Core infrastructure code, so the compiler doesn't really know that the `IMapper` will never be null.</span></span> <span data-ttu-id="2b442-244">Le conteneur d’injection de dépendance (DI) ASP.NET Core par défaut lève une exception s’il ne peut pas résoudre un service nécessaire, afin que le code soit correct.</span><span class="sxs-lookup"><span data-stu-id="2b442-244">The default ASP.NET Core dependency injection (DI) container throws an exception if it can't resolve a necessary service, so the code is correct.</span></span> <span data-ttu-id="2b442-245">Le compilateur ne peut pas valider tous les appels à vos API publiques, même si votre code est compilé avec des contextes d’annotation nullable activés.</span><span class="sxs-lookup"><span data-stu-id="2b442-245">The compiler can't validate all calls to your public APIs, even if your code is compiled with nullable annotation contexts enabled.</span></span> <span data-ttu-id="2b442-246">En outre, vos bibliothèques peuvent être utilisées par des projets qui n’utilisent pas encore des types de référence nullable.</span><span class="sxs-lookup"><span data-stu-id="2b442-246">Furthermore, your libraries may be consumed by projects that have not yet opted into using nullable reference types.</span></span> <span data-ttu-id="2b442-247">Validez les entrées dans les API publiques même si vous les avez déclarées en tant que types non nullable.</span><span class="sxs-lookup"><span data-stu-id="2b442-247">Validate inputs to public APIs even though you've declared them as nonnullable types.</span></span>

## <a name="get-the-code"></a><span data-ttu-id="2b442-248">Obtenir le code</span><span class="sxs-lookup"><span data-stu-id="2b442-248">Get the code</span></span>

<span data-ttu-id="2b442-249">Vous avez résolu les avertissements que vous avez identifiés dans la compilation du test initial, donc vous pouvez désormais activer le contexte d’annotation nullable pour les deux projets.</span><span class="sxs-lookup"><span data-stu-id="2b442-249">You've fixed the warnings you identified in the initial test compile, so now you can turn on the nullable annotation context for both projects.</span></span> <span data-ttu-id="2b442-250">Régénérez les projets ; le compilateur ne signale aucun avertissement.</span><span class="sxs-lookup"><span data-stu-id="2b442-250">Rebuild the projects; the compiler reports no warnings.</span></span> <span data-ttu-id="2b442-251">Vous pouvez obtenir le code pour le projet terminé dans le référentiel GitHub [dotnet/samples](https://github.com/dotnet/samples/tree/master/csharp/tutorials/nullable-reference-migration/finished).</span><span class="sxs-lookup"><span data-stu-id="2b442-251">You can get the code for the finished project in the [dotnet/samples](https://github.com/dotnet/samples/tree/master/csharp/tutorials/nullable-reference-migration/finished) GitHub repository.</span></span>

<span data-ttu-id="2b442-252">Les nouvelles fonctionnalités qui prennent en charge les types de référence nullable vous aident à trouver et à corriger les erreurs potentielles dans la façon dont vous gérez les valeurs `null` dans votre code.</span><span class="sxs-lookup"><span data-stu-id="2b442-252">The new features that support nullable reference types help you find and fix potential errors in how you handle `null` values in your code.</span></span> <span data-ttu-id="2b442-253">L’activation du contexte d’annotation nullable vous permet d’exprimer votre intention de conception : certaines variables ne doivent jamais être null, d’autres variables peuvent contenir des valeurs null.</span><span class="sxs-lookup"><span data-stu-id="2b442-253">Enabling the nullable annotation context allows you to express your design intent: some variables should never be null, other variables may contain null values.</span></span> <span data-ttu-id="2b442-254">Ces fonctionnalités facilitent la déclaration de votre intention de conception.</span><span class="sxs-lookup"><span data-stu-id="2b442-254">These features make it easier for you to declare your design intent.</span></span> <span data-ttu-id="2b442-255">De même, le contexte d’avertissement nullable indique au compilateur d’émettre des avertissements lorsque vous avez enfreint cette intention.</span><span class="sxs-lookup"><span data-stu-id="2b442-255">Similarly, the nullable warning context instructs the compiler to issue warnings when you have violated that intent.</span></span> <span data-ttu-id="2b442-256">Ces avertissements vous guident pour effectuer des mises à jour qui rendent votre code plus robuste et moins susceptible de lever une `NullReferenceException` pendant l’exécution.</span><span class="sxs-lookup"><span data-stu-id="2b442-256">Those warnings guide you to make updates that make your code more resilient and less likely to throw a `NullReferenceException` during execution.</span></span> <span data-ttu-id="2b442-257">Vous pouvez contrôler l’étendue de ces contextes afin de vous concentrer sur des zones locales de code à migrer alors que la base de code restante reste intacte.</span><span class="sxs-lookup"><span data-stu-id="2b442-257">You can control the scope of these contexts so that you can focus on local areas of code to migrate while the remaining codebase is untouched.</span></span> <span data-ttu-id="2b442-258">Dans la pratique, vous pouvez intégrer cette tâche de migration dans une maintenance régulière de vos classes.</span><span class="sxs-lookup"><span data-stu-id="2b442-258">In practice, you can make this migration task a part of regular maintenance to your classes.</span></span> <span data-ttu-id="2b442-259">Ce tutoriel a présenté le processus de migration d’une application pour utiliser des types de référence nullable.</span><span class="sxs-lookup"><span data-stu-id="2b442-259">This tutorial demonstrated the process to migrate an application to use nullable reference types.</span></span> <span data-ttu-id="2b442-260">Vous pouvez explorer un exemple réel plus complet de ce processus en examinant la demande de tirage effectuée par [Jon Skeet](https://github.com/jskeet) pour incorporer les types de référence nullable dans [NodaTime](https://github.com/nodatime/nodatime/pull/1240/commits).</span><span class="sxs-lookup"><span data-stu-id="2b442-260">You can explore a larger real-world example of this process by examining the PR [Jon Skeet](https://github.com/jskeet) made to incorporate nullable reference types into [NodaTime](https://github.com/nodatime/nodatime/pull/1240/commits).</span></span>
