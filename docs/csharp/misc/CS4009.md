---
title: Erreur du compilateur CS4009
ms.date: 08/25/2018
f1_keywords:
- CS4009
helpviewer_keywords:
- CS4009
author: rpetrusha
ms.author: ronpet
ms.openlocfilehash: f7154b96f7e545063d5027262dd5cd54329f178f
ms.sourcegitcommit: 1b020356e421a9314dd525539da12463d980ce7a
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/30/2019
ms.locfileid: "70168409"
---
# <a name="compiler-error-cs4009"></a>Erreur du compilateur CS4009

'Type. Method': un point d’entrée ne peut pas être `async` marqué avec le modificateur.

Vous ne pouvez pas `async` utiliser le mot clé dans le point d’entrée `Main` de l’application (généralement la méthode).  

> [!IMPORTANT]
> À partir C# de 7,1, `Main` la méthode peut avoir `async` un modificateur. Pour plus d’informations, consultez la section [principale Async](../whats-new/csharp-7-1.md#async-main) de l’article [Nouveautés de C# 7,1](../whats-new/csharp-7-1.md) . Pour plus d’informations sur la façon C# de sélectionner la version de langue, consultez l’article [Sélectionner la version C# de langue](../language-reference/configure-language-version.md) .

L’exemple suivant génère CS4009:

```csharp
using System;
using System.Threading.Tasks;

public class Example
{
   public static async void Main()
   {
       Console.WriteLine("About to wait two seconds");
       await WaitTwoSeconds();
       Console.WriteLine("About to exit the program");
   }

   private static async Task WaitTwoSeconds()
   {
      await Task.Delay(2000);
      Console.WriteLine("Returning from an asynchronous method");
   } 
}
```

## <a name="to-correct-this-error"></a>Pour corriger cette erreur

[Mettez à C# jour la version linguistique](../language-reference/configure-language-version.md) utilisée par le projet sur 7,1 ou une version ultérieure.

Si vous utilisez C# 7,0 ou une valeur antérieure, `async` supprimez le mot clé de la signature du point d’entrée de l’application.  Supprimez également `await` tous les mots clés que vous avez utilisés pour attendre des méthodes asynchrones dans votre point d’entrée d’application. 

Toutefois, vous devez toujours attendre que la méthode asynchrone se termine avant que votre point d’entrée ne reprenne l’exécution. Sinon, la compilation génère un avertissement du compilateur CS4014, et l’application se termine avant la fin de l’opération asynchrone. L'exemple de code suivant illustre ce problème.

[!code-csharp[CS4009](../../../samples/snippets/csharp/misc/cs4009-1.cs)]

Pour attendre une méthode qui retourne un <xref:System.Threading.Tasks.Task>, appelez sa <xref:System.Threading.Tasks.Task.Wait%2A> méthode, comme l’illustre l’exemple suivant.

[!code-csharp[CS4009](../../../samples/snippets/csharp/misc/cs4009-2.cs)]

Pour attendre une méthode qui retourne un <xref:System.Threading.Tasks.Task%601>, récupérez la valeur de <xref:System.Threading.Tasks.Task%601.Result> sa propriété, comme le montre l’exemple suivant.

[!code-csharp[CS4009](../../../samples/snippets/csharp/misc/cs4009-3.cs)]

## <a name="see-also"></a>Voir aussi

- [Mot clé `async`](../language-reference/keywords/async.md)
- [`await`, opérateur](../language-reference/operators/await.md)
