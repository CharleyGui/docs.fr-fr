---
ms.openlocfilehash: eef5633ec8566f6d5216b7dca4387766cacb600d
ms.sourcegitcommit: e02d17b2cf9c1258dadda4810a5e6072a0089aee
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 07/01/2020
ms.locfileid: "85620063"
---
### <a name="netdatacontractserializer-fails-to-deserialize-a-concurrentdictionary-serialized-with-a-different-net-version"></a><span data-ttu-id="08eeb-101">NetDataContractSerializer ne parvient pas à désérialiser un ConcurrentDictionary sérialisé avec une autre version de .NET</span><span class="sxs-lookup"><span data-stu-id="08eeb-101">NetDataContractSerializer fails to deserialize a ConcurrentDictionary serialized with a different .NET version</span></span>

#### <a name="details"></a><span data-ttu-id="08eeb-102">Détails</span><span class="sxs-lookup"><span data-stu-id="08eeb-102">Details</span></span>

<span data-ttu-id="08eeb-103">Par conception, <xref:System.Runtime.Serialization.NetDataContractSerializer?displayProperty=fullName> peut être utilisé uniquement si les extrémités de sérialisation et de désérialisation partagent toutes deux les mêmes types CLR.</span><span class="sxs-lookup"><span data-stu-id="08eeb-103">By design, the <xref:System.Runtime.Serialization.NetDataContractSerializer?displayProperty=fullName> can be used only if both the serializing and deserializing ends share the same CLR types.</span></span> <span data-ttu-id="08eeb-104">Par conséquent, il n’est pas garanti qu’un objet sérialisé avec une version du .NET Framework puisse être désérialisé par une autre version.<xref:System.Collections.Concurrent.ConcurrentDictionary%602?displayProperty=fullName></span><span class="sxs-lookup"><span data-stu-id="08eeb-104">Therefore, it is not guaranteed that an object serialized with one version of the .NET Framework can be deserialized by a different version.<xref:System.Collections.Concurrent.ConcurrentDictionary%602?displayProperty=fullName></span></span> <span data-ttu-id="08eeb-105">est un type qui est connu pour ne pas désérialiser correctement si la sérialisation est effectuée avec .NET Framework 4.5 ou version antérieure et la désérialisation avec .NET Framework 4.5.1 ou version ultérieure.</span><span class="sxs-lookup"><span data-stu-id="08eeb-105">is a type that is known to not to deserialize correctly if serialized with the .NET Framework 4.5 or earlier and deserialized with the .NET Framework 4.5.1 or later.</span></span>

#### <a name="suggestion"></a><span data-ttu-id="08eeb-106">Suggestion</span><span class="sxs-lookup"><span data-stu-id="08eeb-106">Suggestion</span></span>

<span data-ttu-id="08eeb-107">Il existe un certain nombre de solutions de contournement possibles à ce problème :</span><span class="sxs-lookup"><span data-stu-id="08eeb-107">There are a number of possible work-arounds for this issue:</span></span><ul><li><span data-ttu-id="08eeb-108">Mettez à niveau l’ordinateur de sérialisation pour utiliser également .NET Framework 4.5.1.</span><span class="sxs-lookup"><span data-stu-id="08eeb-108">Upgrade the serializing computer to use the .NET Framework 4.5.1, as well.</span></span></li><li><span data-ttu-id="08eeb-109">Utilisez <xref:System.Runtime.Serialization.DataContractSerializer?displayProperty=fullName> au lieu de <xref:System.Runtime.Serialization.NetDataContractSerializer?displayProperty=fullName>, car il n’attend pas les mêmes types CLR à la fois aux extrémités de sérialisation et de désérialisation.</span><span class="sxs-lookup"><span data-stu-id="08eeb-109">Use <xref:System.Runtime.Serialization.DataContractSerializer?displayProperty=fullName> instead of <xref:System.Runtime.Serialization.NetDataContractSerializer?displayProperty=fullName> as this does not expect the exact same CLR types at both serializing and deserializing ends.</span></span></li><li><span data-ttu-id="08eeb-110">Utilisez <xref:System.Collections.Generic.Dictionary%602?displayProperty=fullName> au lieu de <xref:System.Collections.Concurrent.ConcurrentDictionary%602?displayProperty=fullName>, car il ne présente pas cette rupture particulière entre 4.5-&gt;4.5.1.</span><span class="sxs-lookup"><span data-stu-id="08eeb-110">Use <xref:System.Collections.Generic.Dictionary%602?displayProperty=fullName> instead of <xref:System.Collections.Concurrent.ConcurrentDictionary%602?displayProperty=fullName> since it does not exhibit this particular 4.5-&gt;4.5.1 break.</span></span></li></ul>

| <span data-ttu-id="08eeb-111">Nom</span><span class="sxs-lookup"><span data-stu-id="08eeb-111">Name</span></span>    | <span data-ttu-id="08eeb-112">Valeur</span><span class="sxs-lookup"><span data-stu-id="08eeb-112">Value</span></span>       |
|:--------|:------------|
| <span data-ttu-id="08eeb-113">Étendue</span><span class="sxs-lookup"><span data-stu-id="08eeb-113">Scope</span></span>   |<span data-ttu-id="08eeb-114">Secondaire</span><span class="sxs-lookup"><span data-stu-id="08eeb-114">Minor</span></span>|
|<span data-ttu-id="08eeb-115">Version</span><span class="sxs-lookup"><span data-stu-id="08eeb-115">Version</span></span>|<span data-ttu-id="08eeb-116">4.5.1</span><span class="sxs-lookup"><span data-stu-id="08eeb-116">4.5.1</span></span>|
|<span data-ttu-id="08eeb-117">Type</span><span class="sxs-lookup"><span data-stu-id="08eeb-117">Type</span></span>|<span data-ttu-id="08eeb-118">Runtime</span><span class="sxs-lookup"><span data-stu-id="08eeb-118">Runtime</span></span>

#### <a name="affected-apis"></a><span data-ttu-id="08eeb-119">API affectées</span><span class="sxs-lookup"><span data-stu-id="08eeb-119">Affected APIs</span></span>

-<xref:System.Runtime.Serialization.NetDataContractSerializer.Deserialize(System.IO.Stream)?displayProperty=nameWithType></li></ul>|
