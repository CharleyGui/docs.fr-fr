---
ms.openlocfilehash: 47aa67096f8dcd250521d9c34dde97cb2eb368d7
ms.sourcegitcommit: d55e14eb63588830c0ba1ea95a24ce6c57ef8c8c
ms.translationtype: HT
ms.contentlocale: fr-FR
ms.lasthandoff: 07/11/2019
ms.locfileid: "67803475"
---
### <a name="workflow-xoml-definition-and-sqltrackingservice-cache-keys-changed-from-md5-to-sha256"></a><span data-ttu-id="726ce-101">La définition XOML du workflow et les clés de cache SqlTrackingService sont passées de MD5 à SHA256</span><span class="sxs-lookup"><span data-stu-id="726ce-101">Workflow XOML definition and SqlTrackingService cache keys changed from MD5 to SHA256</span></span>

|   |   |
|---|---|
|<span data-ttu-id="726ce-102">Détails</span><span class="sxs-lookup"><span data-stu-id="726ce-102">Details</span></span>|<span data-ttu-id="726ce-103">L’exécution du workflow conserve un cache des définitions de workflow définies en XOML.</span><span class="sxs-lookup"><span data-stu-id="726ce-103">The Workflow Runtime in keeps a cache of workflow definitions defined in XOML.</span></span> <span data-ttu-id="726ce-104">SqlTrackingService conserve également un cache qui est indexé par des chaînes.</span><span class="sxs-lookup"><span data-stu-id="726ce-104">The SqlTrackingService also keeps a cache that is keyed by strings.</span></span> <span data-ttu-id="726ce-105">Ces caches sont indexés par les valeurs qui incluent la valeur de hachage de la somme de contrôle.</span><span class="sxs-lookup"><span data-stu-id="726ce-105">These caches are keyed by values that include checksum hash value.</span></span> <span data-ttu-id="726ce-106">Dans .NET Framework 4.7.2 et versions antérieures, le hachage de somme de contrôle utilisait l’algorithme MD5, ce qui entraînait des problèmes sur les systèmes compatibles FIPS.</span><span class="sxs-lookup"><span data-stu-id="726ce-106">In the .NET Framework 4.7.2 and earlier versions, this checksum hashing used the MD5 algorithm, which caused issues on FIPS-enabled systems.</span></span> <span data-ttu-id="726ce-107">À compter de .NET Framework 4.8, l’algorithme utilisé est SHA256. Il ne devrait pas y avoir de problème de compatibilité suite à ce changement parce que les valeurs sont recalculées chaque fois que l’exécution du workflow et SqlTrackingService sont démarrés.</span><span class="sxs-lookup"><span data-stu-id="726ce-107">Starting with the .NET Framework 4.8, the algorithm used is SHA256.There shouldn't be an compatability issue with this change because the values are recalculated each time the Workflow Runtime and SqlTrackingService is started.</span></span> <span data-ttu-id="726ce-108">Toutefois, nous vous proposons des astuces pour permettre aux clients de revenir à l’algorithme de hachage existant, si nécessaire.</span><span class="sxs-lookup"><span data-stu-id="726ce-108">However, we have provided quirks to allow customers to revert back to usage of the legacy hashing algorithm, if necessary.</span></span>|
|<span data-ttu-id="726ce-109">Suggestion</span><span class="sxs-lookup"><span data-stu-id="726ce-109">Suggestion</span></span>|<span data-ttu-id="726ce-110">Si ce changement présente un problème lors de l’exécution de workflows, essayez de définir un commutateur <code>AppContext</code> ou les deux :</span><span class="sxs-lookup"><span data-stu-id="726ce-110">If this change presents a problem when executing workflows, try setting one or both of the <code>AppContext</code> switches:</span></span><ul><li><span data-ttu-id="726ce-111">&quot;Switch.System.Workflow.Runtime.UseLegacyHashForWorkflowDefinitionDispenserCacheKey&quot; sur true.</span><span class="sxs-lookup"><span data-stu-id="726ce-111">&quot;Switch.System.Workflow.Runtime.UseLegacyHashForWorkflowDefinitionDispenserCacheKey&quot; to true.</span></span></li><li><span data-ttu-id="726ce-112">&quot;Switch.System.Workflow.Runtime.UseLegacyHashForSqlTrackingCacheKey&quot; sur true.</span><span class="sxs-lookup"><span data-stu-id="726ce-112">&quot;Switch.System.Workflow.Runtime.UseLegacyHashForSqlTrackingCacheKey&quot; to true.</span></span></li></ul><span data-ttu-id="726ce-113">En code :</span><span class="sxs-lookup"><span data-stu-id="726ce-113">In code:</span></span><pre><code class="lang-csharp">System.AppContext.SetSwitch(&quot;Switch.System.Workflow.Runtime.UseLegacyHashForWorkflowDefinitionDispenserCacheKey&quot;, true);&#13;&#10;System.AppContext.SetSwitch(&quot;Switch.System.Workflow.Runtime.UseLegacyHashForSqlTrackingCacheKey&quot;, true);&#13;&#10;</code></pre><span data-ttu-id="726ce-114">Ou dans le fichier de configuration (cette opération doit avoir lieu dans le fichier de configuration de l’application qui crée l’objet <xref:System.Workflow.Runtime.WorkflowRuntime>) :</span><span class="sxs-lookup"><span data-stu-id="726ce-114">Or in the configuration file (this needs to be in the config file for the application that is creating the <xref:System.Workflow.Runtime.WorkflowRuntime> object):</span></span><pre><code class="lang-xml">&lt;configuration&gt;&#13;&#10;&lt;runtime&gt;&#13;&#10;&lt;AppContextSwitchOverrides value=&quot;Switch.System.Workflow.Runtime.UseLegacyHashForWorkflowDefinitionDispenserCacheKey=true&quot; /&gt;&#13;&#10;&lt;AppContextSwitchOverrides value=&quot;Switch.System.Workflow.Runtime.UseLegacyHashForSqlTrackingCacheKeytrue&quot; /&gt;&#13;&#10;&lt;/runtime&gt;&#13;&#10;&lt;/configuration&gt;&#13;&#10;</code></pre>|
|<span data-ttu-id="726ce-115">Portée</span><span class="sxs-lookup"><span data-stu-id="726ce-115">Scope</span></span>|<span data-ttu-id="726ce-116">Mineur</span><span class="sxs-lookup"><span data-stu-id="726ce-116">Minor</span></span>|
|<span data-ttu-id="726ce-117">Version</span><span class="sxs-lookup"><span data-stu-id="726ce-117">Version</span></span>|<span data-ttu-id="726ce-118">4.8</span><span class="sxs-lookup"><span data-stu-id="726ce-118">4.8</span></span>|
|<span data-ttu-id="726ce-119">Type</span><span class="sxs-lookup"><span data-stu-id="726ce-119">Type</span></span>|<span data-ttu-id="726ce-120">Reciblage</span><span class="sxs-lookup"><span data-stu-id="726ce-120">Retargeting</span></span>|

