---
ms.openlocfilehash: 53840ddd59ae3463bae2930fd0151ab2cd2d65cb
ms.sourcegitcommit: e301979e3049ce412d19b094c60ed95b316a8f8c
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 12/16/2020
ms.locfileid: "97593321"
---
### <a name="design-time-builds-only-return-top-level-package-references"></a><span data-ttu-id="54035-101">Les builds au moment du design ne retournent que les références de package de niveau supérieur</span><span class="sxs-lookup"><span data-stu-id="54035-101">Design-time builds only return top-level package references</span></span>

<span data-ttu-id="54035-102">À partir de kit SDK .NET Core 3.1.400, seules les références de package de niveau supérieur sont retournées par la `RunResolvePackageDependencies` cible.</span><span class="sxs-lookup"><span data-stu-id="54035-102">Starting in .NET Core SDK 3.1.400, only top-level package references are returned by the `RunResolvePackageDependencies` target.</span></span>

#### <a name="version-introduced"></a><span data-ttu-id="54035-103">Version introduite</span><span class="sxs-lookup"><span data-stu-id="54035-103">Version introduced</span></span>

<span data-ttu-id="54035-104">Kit SDK .NET Core 3.1.400</span><span class="sxs-lookup"><span data-stu-id="54035-104">.NET Core SDK 3.1.400</span></span>

#### <a name="change-description"></a><span data-ttu-id="54035-105">Description de la modification</span><span class="sxs-lookup"><span data-stu-id="54035-105">Change description</span></span>

<span data-ttu-id="54035-106">Dans les versions précédentes du kit SDK .NET Core, la `RunResolvePackageDependencies` cible créait les éléments MSBuild suivants qui contenaient des informations à partir du fichier de ressources NuGet :</span><span class="sxs-lookup"><span data-stu-id="54035-106">In previous versions of the .NET Core SDK, the `RunResolvePackageDependencies` target created the following MSBuild items that contained information from the NuGet assets file:</span></span>

- `PackageDefinitions`
- `PackageDependencies`
- `TargetDefinitions`
- `FileDefinitions`
- `FileDependencies`

<span data-ttu-id="54035-107">Ces données sont utilisées par Visual Studio pour remplir le nœud dépendances dans Explorateur de solutions.</span><span class="sxs-lookup"><span data-stu-id="54035-107">This data is used by Visual Studio to populate the Dependencies node in Solution Explorer.</span></span> <span data-ttu-id="54035-108">Toutefois, il peut s’agir d’une grande quantité de données, et les données ne sont pas nécessaires, sauf si le nœud dépendances est développé.</span><span class="sxs-lookup"><span data-stu-id="54035-108">However, it can be a large amount of data, and the data isn't needed unless the Dependencies node is expanded.</span></span>

<span data-ttu-id="54035-109">À partir de la version kit SDK .NET Core 3.1.400, la plupart de ces éléments ne sont pas générés par défaut.</span><span class="sxs-lookup"><span data-stu-id="54035-109">Starting in the .NET Core SDK version 3.1.400, most of these items aren't generated by default.</span></span> <span data-ttu-id="54035-110">Seuls les éléments de type `Package` sont retournés.</span><span class="sxs-lookup"><span data-stu-id="54035-110">Only items of type `Package` are returned.</span></span> <span data-ttu-id="54035-111">Si Visual Studio a besoin que les éléments remplissent le nœud Dependencies, il lit les informations directement à partir du fichier de ressources.</span><span class="sxs-lookup"><span data-stu-id="54035-111">If Visual Studio needs the items to populate the Dependencies node, it reads the information directly from the assets file.</span></span>

#### <a name="reason-for-change"></a><span data-ttu-id="54035-112">Motif de modification</span><span class="sxs-lookup"><span data-stu-id="54035-112">Reason for change</span></span>

<span data-ttu-id="54035-113">Cette modification a été introduite pour améliorer les performances de chargement de la solution dans Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="54035-113">This changed was introduced to improve solution-load performance inside of Visual Studio.</span></span> <span data-ttu-id="54035-114">Auparavant, toutes les références de package seraient chargées, ce qui impliquait le chargement de nombreuses références que la plupart des utilisateurs n’afficheraient jamais.</span><span class="sxs-lookup"><span data-stu-id="54035-114">Previously, all package references would be loaded, which involved loading many references that most users would never view.</span></span>

#### <a name="recommended-action"></a><span data-ttu-id="54035-115">Action recommandée</span><span class="sxs-lookup"><span data-stu-id="54035-115">Recommended action</span></span>

<span data-ttu-id="54035-116">Si vous avez une logique MSBuild qui dépend de la création de ces éléments, affectez à la propriété la valeur `EmitLegacyAssetsFileItems` `true` dans votre fichier projet.</span><span class="sxs-lookup"><span data-stu-id="54035-116">If you have MSBuild logic that depends on these items being created, set the `EmitLegacyAssetsFileItems` property to `true` in your project file.</span></span> <span data-ttu-id="54035-117">Ce paramètre active le comportement précédent dans lequel tous les éléments sont créés.</span><span class="sxs-lookup"><span data-stu-id="54035-117">This setting enables the previous behavior where all the items are created.</span></span>

#### <a name="category"></a><span data-ttu-id="54035-118">Category</span><span class="sxs-lookup"><span data-stu-id="54035-118">Category</span></span>

<span data-ttu-id="54035-119">MSBuild</span><span class="sxs-lookup"><span data-stu-id="54035-119">MSBuild</span></span>

#### <a name="affected-apis"></a><span data-ttu-id="54035-120">API affectées</span><span class="sxs-lookup"><span data-stu-id="54035-120">Affected APIs</span></span>

<span data-ttu-id="54035-121">N/A</span><span class="sxs-lookup"><span data-stu-id="54035-121">N/A</span></span>
